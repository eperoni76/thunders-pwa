"use strict";(self.webpackChunkthunders_pwa=self.webpackChunkthunders_pwa||[]).push([[792],{8523:(oy,sy,ws)=>{function un(t){return"function"==typeof t}function Ag(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const dd=Ag(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Wl(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Ni{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(un(r))try{r()}catch(o){e=o instanceof dd?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{pd(o)}catch(s){e=e??[],s instanceof dd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new dd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)pd(e);else{if(e instanceof Ni){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Wl(n,e)}remove(e){const{_finalizers:n}=this;n&&Wl(n,e),e instanceof Ni&&e._removeParent(this)}}Ni.EMPTY=(()=>{const t=new Ni;return t.closed=!0,t})();const hd=Ni.EMPTY;function fd(t){return t instanceof Ni||t&&"closed"in t&&un(t.remove)&&un(t.add)&&un(t.unsubscribe)}function pd(t){un(t)?t():t.unsubscribe()}const Is={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Qa={setTimeout(t,e,...n){const{delegate:r}=Qa;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Qa;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Bu(t){Qa.setTimeout(()=>{const{onUnhandledError:e}=Is;if(!e)throw t;e(t)})}function gd(){}const eG=h2("C",void 0,void 0);function h2(t,e,n){return{kind:t,value:e,error:n}}let md=null;function ay(t){if(Is.useDeprecatedSynchronousErrorHandling){const e=!md;if(e&&(md={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=md;if(md=null,n)throw r}}else t()}class f2 extends Ni{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,fd(e)&&e.add(this)):this.destination=aG}static create(e,n,r){return new $h(e,n,r)}next(e){this.isStopped?g2(function nG(t){return h2("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?g2(function tG(t){return h2("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?g2(eG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const iG=Function.prototype.bind;function p2(t,e){return iG.call(t,e)}class oG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){uy(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){uy(r)}else uy(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){uy(n)}}}class $h extends f2{constructor(e,n,r){let i;if(super(),un(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Is.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&p2(e.next,o),error:e.error&&p2(e.error,o),complete:e.complete&&p2(e.complete,o)}):i=e}this.destination=new oG(i)}}function uy(t){Is.useDeprecatedSynchronousErrorHandling?function rG(t){Is.useDeprecatedSynchronousErrorHandling&&md&&(md.errorThrown=!0,md.error=t)}(t):Bu(t)}function g2(t,e){const{onStoppedNotification:n}=Is;n&&Qa.setTimeout(()=>n(t,e))}const aG={closed:!0,next:gd,error:function sG(t){throw t},complete:gd},m2="function"==typeof Symbol&&Symbol.observable||"@@observable";function Kl(t){return t}function gN(t){return 0===t.length?Kl:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let tr=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function cG(t){return t&&t instanceof f2||function lG(t){return t&&un(t.next)&&un(t.error)&&un(t.complete)}(t)&&fd(t)}(n)?n:new $h(n,r,i);return ay(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=mN(r))((i,o)=>{const s=new $h({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[m2](){return this}pipe(...n){return gN(n)(this)}toPromise(n){return new(n=mN(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function mN(t){var e;return null!==(e=t??Is.Promise)&&void 0!==e?e:Promise}const dG=Ag(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Yo=(()=>{class t extends tr{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new _N(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new dG}next(n){ay(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){ay(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ay(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?hd:(this.currentObservers=null,o.push(n),new Ni(()=>{this.currentObservers=null,Wl(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new tr;return n.source=this,n}}return t.create=(e,n)=>new _N(e,n),t})();class _N extends Yo{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:hd}}function vN(t){return un(t?.lift)}function Zr(t){return e=>{if(vN(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Jr(t,e,n,r,i){return new hG(t,e,n,r,i)}class hG extends f2{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function pn(t,e){return Zr((n,r)=>{let i=0;n.subscribe(Jr(r,o=>{r.next(t.call(e,o,i++))}))})}function ly(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Ql(t){return this instanceof Ql?(this.v=t,this):new Ql(t)}function IN(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function b2(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}(a,u,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const I2=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function EN(t){return un(t?.then)}function AN(t){return un(t[m2])}function CN(t){return Symbol.asyncIterator&&un(t?.[Symbol.asyncIterator])}function TN(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const SN=function VG(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function DN(t){return un(t?.[SN])}function xN(t){return function wN(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(p){return function(b){return Promise.resolve(b).then(p,d)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(p,b){r[p]&&(i[p]=function(w){return new Promise(function(E,A){o.push([p,w,E,A])>1||u(p,w)})},b&&(i[p]=b(i[p])))}function u(p,b){try{!function l(p){p.value instanceof Ql?Promise.resolve(p.value.v).then(c,d):g(o[0][2],p)}(r[p](b))}catch(w){g(o[0][3],w)}}function c(p){u("next",p)}function d(p){u("throw",p)}function g(p,b){p(b),o.shift(),o.length&&u(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Ql(n.read());if(i)return yield Ql(void 0);yield yield Ql(r)}}finally{n.releaseLock()}})}function PN(t){return un(t?.getReader)}function lo(t){if(t instanceof tr)return t;if(null!=t){if(AN(t))return function UG(t){return new tr(e=>{const n=t[m2]();if(un(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(I2(t))return function BG(t){return new tr(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(EN(t))return function jG(t){return new tr(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Bu)})}(t);if(CN(t))return NN(t);if(DN(t))return function zG(t){return new tr(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(PN(t))return function $G(t){return NN(xN(t))}(t)}throw TN(t)}function NN(t){return new tr(e=>{(function qG(t,e){var n,r,i,o;return function yN(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(c.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=IN(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function ju(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function wi(t,e,n=1/0){return un(e)?wi((r,i)=>pn((o,s)=>e(r,o,i,s))(lo(t(r,i))),n):("number"==typeof e&&(n=e),Zr((r,i)=>function GG(t,e,n,r,i,o,s,a){const u=[];let l=0,c=0,d=!1;const g=()=>{d&&!u.length&&!l&&e.complete()},p=w=>l<r?b(w):u.push(w),b=w=>{o&&e.next(w),l++;let E=!1;lo(n(w,c++)).subscribe(Jr(e,A=>{i?.(A),o?p(A):e.next(A)},()=>{E=!0},void 0,()=>{if(E)try{for(l--;u.length&&l<r;){const A=u.shift();s?ju(e,s,()=>b(A)):b(A)}g()}catch(A){e.error(A)}}))};return t.subscribe(Jr(e,p,()=>{d=!0,g()})),()=>{a?.()}}(r,i,t,n)))}function qh(t=1/0){return wi(Kl,t)}const Ya=new tr(t=>t.complete());function RN(t){return t&&un(t.schedule)}function E2(t){return t[t.length-1]}function MN(t){return un(E2(t))?t.pop():void 0}function Cg(t){return RN(E2(t))?t.pop():void 0}function cy(t,e=0){return Zr((n,r)=>{n.subscribe(Jr(r,i=>ju(r,t,()=>r.next(i),e),()=>ju(r,t,()=>r.complete(),e),i=>ju(r,t,()=>r.error(i),e)))})}function dy(t,e=0){return Zr((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function kN(t,e){if(!t)throw new Error("Iterable cannot be null");return new tr(n=>{ju(n,e,()=>{const r=t[Symbol.asyncIterator]();ju(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ri(t,e){return e?function XG(t,e){if(null!=t){if(AN(t))return function KG(t,e){return lo(t).pipe(dy(e),cy(e))}(t,e);if(I2(t))return function YG(t,e){return new tr(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(EN(t))return function QG(t,e){return lo(t).pipe(dy(e),cy(e))}(t,e);if(CN(t))return kN(t,e);if(DN(t))return function ZG(t,e){return new tr(n=>{let r;return ju(n,e,()=>{r=t[SN](),ju(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>un(r?.return)&&r.return()})}(t,e);if(PN(t))return function JG(t,e){return kN(xN(t),e)}(t,e)}throw TN(t)}(t,e):lo(t)}function A2(...t){const e=Cg(t),n=function WG(t,e){return"number"==typeof E2(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?lo(r[0]):qh(n)(Ri(r,e)):Ya}class Es extends Yo{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Mt(...t){return Ri(t,Cg(t))}function ON(t={}){const{connector:e=(()=>new Yo),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,u,l=0,c=!1,d=!1;const g=()=>{a?.unsubscribe(),a=void 0},p=()=>{g(),s=u=void 0,c=d=!1},b=()=>{const w=s;p(),w?.unsubscribe()};return Zr((w,E)=>{l++,!d&&!c&&g();const A=u=u??e();E.add(()=>{l--,0===l&&!d&&!c&&(a=C2(b,i))}),A.subscribe(E),!s&&l>0&&(s=new $h({next:R=>A.next(R),error:R=>{d=!0,g(),a=C2(p,n,R),A.error(R)},complete:()=>{c=!0,g(),a=C2(p,r),A.complete()}}),lo(w).subscribe(s))})(o)}}function C2(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new $h({next:()=>{r.unsubscribe(),t()}});return lo(e(...n)).subscribe(r)}function Zo(t,e){return Zr((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Jr(r,u=>{i?.unsubscribe();let l=0;const c=o++;lo(t(u,c)).subscribe(i=Jr(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function tH(t,e){return t===e}function Un(t){for(let e in t)if(t[e]===Un)return e;throw Error("Could not find renamed property on target object.")}function hy(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ii(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ii).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function T2(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const nH=Un({__forward_ref__:Un});function lr(t){return t.__forward_ref__=lr,t.toString=function(){return Ii(this())},t}function zt(t){return S2(t)?t():t}function S2(t){return"function"==typeof t&&t.hasOwnProperty(nH)&&t.__forward_ref__===lr}function D2(t){return t&&!!t.\u0275providers}const LN="https://g.co/ng/security#xss";class je extends Error{constructor(e,n){super(function fy(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Kt(t){return"string"==typeof t?t:null==t?"":String(t)}function x2(t,e){throw new je(-201,!1)}function Qs(t,e){null==t&&function Ft(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function yt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function xo(t){return{providers:t.providers||[],imports:t.imports||[]}}function py(t){return FN(t,my)||FN(t,VN)}function FN(t,e){return t.hasOwnProperty(e)?t[e]:null}function gy(t){return t&&(t.hasOwnProperty(P2)||t.hasOwnProperty(cH))?t[P2]:null}const my=Un({\u0275prov:Un}),P2=Un({\u0275inj:Un}),VN=Un({ngInjectableDef:Un}),cH=Un({ngInjectorDef:Un});var cn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(cn||{});let N2;function Jo(t){const e=N2;return N2=t,e}function BN(t,e,n){const r=py(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&cn.Optional?null:void 0!==e?e:void x2(Ii(t))}const cr=globalThis;class it{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=yt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Tg={},L2="__NG_DI_FLAG__",_y="ngTempTokenPath",fH=/\n/gm,zN="__source";let Gh;function Yl(t){const e=Gh;return Gh=t,e}function mH(t,e=cn.Default){if(void 0===Gh)throw new je(-203,!1);return null===Gh?BN(t,void 0,e):Gh.get(t,e&cn.Optional?null:void 0,e)}function gt(t,e=cn.Default){return(function UN(){return N2}()||mH)(zt(t),e)}function st(t,e=cn.Default){return gt(t,vy(e))}function vy(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function F2(t){const e=[];for(let n=0;n<t.length;n++){const r=zt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new je(900,!1);let i,o=cn.Default;for(let s=0;s<r.length;s++){const a=r[s],u=_H(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(gt(i,o))}else e.push(gt(r))}return e}function Sg(t,e){return t[L2]=e,t.prototype[L2]=e,t}function _H(t){return t[L2]}function zu(t){return{toString:t}.toString()}var yy=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(yy||{}),Ea=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ea||{});const Za={},xn=[],by=Un({\u0275cmp:Un}),V2=Un({\u0275dir:Un}),U2=Un({\u0275pipe:Un}),qN=Un({\u0275mod:Un}),$u=Un({\u0275fac:Un}),Dg=Un({__NG_ELEMENT_ID__:Un}),GN=Un({__NG_ENV_ID__:Un});function HN(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function B2(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];KN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function WN(t){return 3===t||4===t||6===t}function KN(t){return 64===t.charCodeAt(0)}function xg(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||QN(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function QN(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const YN="ng-template";function bH(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==HN(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function ZN(t){return 4===t.type&&t.value!==YN}function wH(t,e,n){return e===(4!==t.type||n?t.value:YN)}function IH(t,e,n){let r=4;const i=t.attrs||[],o=function CH(t){for(let e=0;e<t.length;e++)if(WN(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!wH(t,u,n)||""===u&&1===e.length){if(Aa(r))return!1;s=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!bH(t.attrs,l,n)){if(Aa(r))return!1;s=!0}continue}const d=EH(8&r?"class":u,i,ZN(t),n);if(-1===d){if(Aa(r))return!1;s=!0;continue}if(""!==l){let g;g=d>o?"":i[d+1].toLowerCase();const p=8&r?g:null;if(p&&-1!==HN(p,l,0)||2&r&&l!==g){if(Aa(r))return!1;s=!0}}}}else{if(!s&&!Aa(r)&&!Aa(u))return!1;if(s&&Aa(u))continue;s=!1,r=u|1&r}}return Aa(r)||s}function Aa(t){return 0==(1&t)}function EH(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function TH(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function JN(t,e,n=!1){for(let r=0;r<e.length;r++)if(IH(t,e[r],n))return!0;return!1}function XN(t,e){return t?":not("+e.trim()+")":e}function DH(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Aa(s)&&(e+=XN(o,i),i=""),r=s,o=o||!Aa(r);n++}return""!==i&&(e+=XN(o,i)),e}function Ys(t){return zu(()=>{const e=tR(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===yy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ea.Emulated,styles:t.styles||xn,_:null,schemas:t.schemas||null,tView:null,id:""};nR(n);const r=t.dependencies;return n.directiveDefs=wy(r,!1),n.pipeDefs=wy(r,!0),n.id=function LH(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function RH(t){return wn(t)||qi(t)}function MH(t){return null!==t}function Xo(t){return zu(()=>({type:t.type,bootstrap:t.bootstrap||xn,declarations:t.declarations||xn,imports:t.imports||xn,exports:t.exports||xn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function eR(t,e){if(null==t)return Za;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function $t(t){return zu(()=>{const e=tR(t);return nR(e),e})}function Po(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function wn(t){return t[by]||null}function qi(t){return t[V2]||null}function No(t){return t[U2]||null}function Cs(t,e){const n=t[qN]||null;if(!n&&!0===e)throw new Error(`Type ${Ii(t)} does not have '\u0275mod' property.`);return n}function tR(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Za,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||xn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:eR(t.inputs,e),outputs:eR(t.outputs)}}function nR(t){t.features?.forEach(e=>e(t))}function wy(t,e){if(!t)return null;const n=e?No:RH;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(MH)}const $r=0,tt=1,Jt=2,Tr=3,Ca=4,Pg=5,co=6,Wh=7,Xr=8,Zl=9,Kh=10,Qt=11,Ng=12,rR=13,Qh=14,ei=15,Rg=16,Yh=17,Ja=18,Mg=19,iR=20,Jl=21,qu=22,kg=23,Og=24,dn=25,j2=1,oR=2,Xa=7,Zh=9,Gi=11;function es(t){return Array.isArray(t)&&"object"==typeof t[j2]}function Ro(t){return Array.isArray(t)&&!0===t[j2]}function z2(t){return 0!=(4&t.flags)}function vd(t){return t.componentOffset>-1}function Ey(t){return 1==(1&t.flags)}function Ta(t){return!!t.template}function $2(t){return 0!=(512&t[Jt])}function yd(t,e){return t.hasOwnProperty($u)?t[$u]:null}let Hi=null,Ay=!1;function Zs(t){const e=Hi;return Hi=t,e}const uR={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function cR(t){if(!Fg(t)||t.dirty){if(!t.producerMustRecompute(t)&&!fR(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function hR(t){t.dirty=!0,function dR(t){if(void 0===t.liveConsumerNode)return;const e=Ay;Ay=!0;try{for(const n of t.liveConsumerNode)n.dirty||hR(n)}finally{Ay=e}}(t),t.consumerMarkedDirty?.(t)}function G2(t){return t&&(t.nextProducerIndex=0),Zs(t)}function H2(t,e){if(Zs(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Fg(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Cy(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function fR(t){Jh(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(cR(n),r!==n.version))return!0}return!1}function pR(t){if(Jh(t),Fg(t))for(let e=0;e<t.producerNode.length;e++)Cy(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Cy(t,e){if(function mR(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Jh(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Cy(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Jh(i),i.producerIndexOfThis[r]=e}}function Fg(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Jh(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let _R=null;const wR=()=>{},QH=(()=>({...uR,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:wR}))();class YH{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function ts(){return IR}function IR(t){return t.type.prototype.ngOnChanges&&(t.setInput=JH),ZH}function ZH(){const t=AR(this),e=t?.current;if(e){const n=t.previous;if(n===Za)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function JH(t,e,n,r){const i=this.declaredInputs[n],o=AR(t)||function XH(t,e){return t[ER]=e}(t,{previous:Za,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new YH(u&&u.currentValue,e,a===Za),t[r]=e}ts.ngInherit=!0;const ER="__ngSimpleChanges__";function AR(t){return t[ER]||null}const eu=function(t,e,n){};function dr(t){for(;Array.isArray(t);)t=t[$r];return t}function Ty(t,e){return dr(e[t])}function ns(t,e){return dr(e[t.index])}function SR(t,e){return t.data[e]}function Xh(t,e){return t[e]}function Ts(t,e){const n=e[t];return es(n)?n:n[$r]}function ec(t,e){return null==e?null:t[e]}function DR(t){t[Yh]=0}function oW(t){1024&t[Jt]||(t[Jt]|=1024,PR(t,1))}function xR(t){1024&t[Jt]&&(t[Jt]&=-1025,PR(t,-1))}function PR(t,e){let n=t[Tr];if(null===n)return;n[Pg]+=e;let r=n;for(n=n[Tr];null!==n&&(1===e&&1===r[Pg]||-1===e&&0===r[Pg]);)n[Pg]+=e,r=n,n=n[Tr]}const Vt={lFrame:jR(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function MR(){return Vt.bindingsEnabled}function Le(){return Vt.lFrame.lView}function In(){return Vt.lFrame.tView}function nr(t){return Vt.lFrame.contextLView=t,t[Xr]}function rr(t){return Vt.lFrame.contextLView=null,t}function Wi(){let t=kR();for(;null!==t&&64===t.type;)t=t.parent;return t}function kR(){return Vt.lFrame.currentTNode}function tu(t,e){const n=Vt.lFrame;n.currentTNode=t,n.isParent=e}function Z2(){return Vt.lFrame.isParent}function Mo(){const t=Vt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function tf(){return Vt.lFrame.bindingIndex++}function Hu(t){const e=Vt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function _W(t,e){const n=Vt.lFrame;n.bindingIndex=n.bindingRootIndex=t,X2(e)}function X2(t){Vt.lFrame.currentDirectiveIndex=t}function VR(){return Vt.lFrame.currentQueryIndex}function tI(t){Vt.lFrame.currentQueryIndex=t}function yW(t){const e=t[tt];return 2===e.type?e.declTNode:1===e.type?t[co]:null}function UR(t,e,n){if(n&cn.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&cn.Host||(i=yW(o),null===i||(o=o[Qh],10&i.type))););if(null===i)return!1;e=i,t=o}const r=Vt.lFrame=BR();return r.currentTNode=e,r.lView=t,!0}function nI(t){const e=BR(),n=t[tt];Vt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function BR(){const t=Vt.lFrame,e=null===t?null:t.child;return null===e?jR(t):e}function jR(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function zR(){const t=Vt.lFrame;return Vt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const $R=zR;function rI(){const t=zR();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ko(){return Vt.lFrame.selectedIndex}function bd(t){Vt.lFrame.selectedIndex=t}function Or(){const t=Vt.lFrame;return SR(t.tView,t.selectedIndex)}let GR=!0;function Sy(){return GR}function tc(t){GR=t}function Dy(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=c&&(t.destroyHooks??=[]).push(n,c)}}function xy(t,e,n){HR(t,e,3,n)}function Py(t,e,n,r){(3&t[Jt])===n&&HR(t,e,n,r)}function iI(t,e){let n=t[Jt];(3&n)===e&&(n&=8191,n+=1,t[Jt]=n)}function HR(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Yh]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Yh]+=65536),(a<o||-1==o)&&(SW(t,n,e,u),t[Yh]=(4294901760&t[Yh])+u+2),u++}function WR(t,e){eu(4,t,e);const n=Zs(null);try{e.call(t)}finally{Zs(n),eu(5,t,e)}}function SW(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[Jt]>>13<t[Yh]>>16&&(3&t[Jt])===e&&(t[Jt]+=8192,WR(a,o)):WR(a,o)}const nf=-1;class Ug{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function sI(t){return t!==nf}function Bg(t){return 32767&t}function jg(t,e){let n=function NW(t){return t>>16}(t),r=e;for(;n>0;)r=r[Qh],n--;return r}let aI=!0;function Ny(t){const e=aI;return aI=t,e}const KR=255,QR=5;let RW=0;const nu={};function Ry(t,e){const n=YR(t,e);if(-1!==n)return n;const r=e[tt];r.firstCreatePass&&(t.injectorIndex=e.length,uI(r.data,t),uI(e,null),uI(r.blueprint,null));const i=My(t,e),o=t.injectorIndex;if(sI(i)){const s=Bg(i),a=jg(i,e),u=a[tt].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function uI(t,e){t.push(0,0,0,0,0,0,0,0,e)}function YR(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function My(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=rM(i),null===r)return nf;if(n++,i=i[Qh],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return nf}function lI(t,e,n){!function MW(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Dg)&&(r=n[Dg]),null==r&&(r=n[Dg]=RW++);const i=r&KR;e.data[t+(i>>QR)]|=1<<i}(t,e,n)}function ZR(t,e,n){if(n&cn.Optional||void 0!==t)return t;x2()}function JR(t,e,n,r){if(n&cn.Optional&&void 0===r&&(r=null),!(n&(cn.Self|cn.Host))){const i=t[Zl],o=Jo(void 0);try{return i?i.get(e,r,n&cn.Optional):BN(e,r,n&cn.Optional)}finally{Jo(o)}}return ZR(r,0,n)}function XR(t,e,n,r=cn.Default,i){if(null!==t){if(2048&e[Jt]&&!(r&cn.Self)){const s=function UW(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[Jt]&&!(512&s[Jt]);){const a=eM(o,s,n,r|cn.Self,nu);if(a!==nu)return a;let u=o.parent;if(!u){const l=s[iR];if(l){const c=l.get(n,nu,r);if(c!==nu)return c}u=rM(s),s=s[Qh]}o=u}return i}(t,e,n,r,nu);if(s!==nu)return s}const o=eM(t,e,n,r,nu);if(o!==nu)return o}return JR(e,n,r,i)}function eM(t,e,n,r,i){const o=function LW(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Dg)?t[Dg]:void 0;return"number"==typeof e?e>=0?e&KR:VW:e}(n);if("function"==typeof o){if(!UR(e,t,r))return r&cn.Host?ZR(i,0,r):JR(e,n,r,i);try{let s;if(s=o(r),null!=s||r&cn.Optional)return s;x2()}finally{$R()}}else if("number"==typeof o){let s=null,a=YR(t,e),u=nf,l=r&cn.Host?e[ei][co]:null;for((-1===a||r&cn.SkipSelf)&&(u=-1===a?My(t,e):e[a+8],u!==nf&&nM(r,!1)?(s=e[tt],a=Bg(u),e=jg(u,e)):a=-1);-1!==a;){const c=e[tt];if(tM(o,a,c.data)){const d=OW(a,e,n,s,r,l);if(d!==nu)return d}u=e[a+8],u!==nf&&nM(r,e[tt].data[a+8]===l)&&tM(o,a,e)?(s=c,a=Bg(u),e=jg(u,e)):a=-1}}return i}function OW(t,e,n,r,i,o){const s=e[tt],a=s.data[t+8],c=ky(a,s,n,null==r?vd(a)&&aI:r!=s&&0!=(3&a.type),i&cn.Host&&o===a);return null!==c?wd(e,s,c,a):nu}function ky(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,g=i?a+c:t.directiveEnd;for(let p=r?a:a+c;p<g;p++){const b=s[p];if(p<u&&n===b||p>=u&&b.type===n)return p}if(i){const p=s[u];if(p&&Ta(p)&&p.type===n)return u}return null}function wd(t,e,n,r){let i=t[n];const o=e.data;if(function DW(t){return t instanceof Ug}(i)){const s=i;s.resolving&&function rH(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new je(-200,`Circular dependency in DI detected for ${t}${n}`)}(function kn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Kt(t)}(o[n]));const a=Ny(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Jo(s.injectImpl):null;UR(t,r,cn.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function TW(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=IR(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==l&&Jo(l),Ny(a),s.resolving=!1,$R()}}return i}function tM(t,e,n){return!!(n[e+(t>>QR)]&1<<t)}function nM(t,e){return!(t&cn.Self||t&cn.Host&&e)}class Oo{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return XR(this._tNode,this._lView,e,vy(r),n)}}function VW(){return new Oo(Wi(),Le())}function Ki(t){return zu(()=>{const e=t.prototype.constructor,n=e[$u]||cI(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[$u]||cI(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function cI(t){return S2(t)?()=>{const e=cI(zt(t));return e&&e()}:yd(t)}function rM(t){const e=t[tt],n=e.type;return 2===n?e.declTNode:1===n?t[co]:null}const sf="__parameters__";function uf(t,e,n){return zu(()=>{const r=function dI(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,l,c){const d=u.hasOwnProperty(sf)?u[sf]:Object.defineProperty(u,sf,{value:[]})[sf];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function cf(t,e){t.forEach(n=>Array.isArray(n)?cf(n,e):e(n))}function oM(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ly(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ss(t,e,n){let r=df(t,e);return r>=0?t[1|r]=n:(r=~r,function HW(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function hI(t,e){const n=df(t,e);if(n>=0)return t[1|n]}function df(t,e){return function sM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const Xs=Sg(uf("Optional"),8),Vy=Sg(uf("SkipSelf"),4);function $y(t){return 128==(128&t.flags)}var nc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(nc||{});const _I=new Map;let mK=0;const yI="__ngContext__";function ho(t,e){es(e)?(t[yI]=e[Mg],function vK(t){_I.set(t[Mg],t)}(e)):t[yI]=e}let bI;function wI(t,e){return bI(t,e)}function Wg(t){const e=t[Tr];return Ro(e)?e[Tr]:e}function TM(t){return DM(t[Ng])}function SM(t){return DM(t[Ca])}function DM(t){for(;null!==t&&!Ro(t);)t=t[Ca];return t}function pf(t,e,n,r,i){if(null!=r){let o,s=!1;Ro(r)?o=r:es(r)&&(s=!0,r=r[$r]);const a=dr(r);0===t&&null!==n?null==i?RM(e,n,a):Id(e,n,a,i||null,!0):1===t&&null!==n?Id(e,n,a,i||null,!0):2===t?function Yy(t,e,n){const r=Ky(t,e);r&&function FK(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function BK(t,e,n,r,i){const o=n[Xa];o!==dr(n)&&pf(e,t,r,o,i);for(let a=Gi;a<n.length;a++){const u=n[a];Qg(u[tt],u,t,e,r,o)}}(e,t,o,n,i)}}function Hy(t,e,n){return t.createElement(e,n)}function PM(t,e){const n=t[Zh],r=n.indexOf(e);xR(e),n.splice(r,1)}function Wy(t,e){if(t.length<=Gi)return;const n=Gi+e,r=t[n];if(r){const i=r[Rg];null!==i&&i!==t&&PM(i,r),e>0&&(t[n-1][Ca]=r[Ca]);const o=Ly(t,Gi+e);!function xK(t,e){Qg(t,e,e[Qt],2,null,null),e[$r]=null,e[co]=null}(r[tt],r);const s=o[Ja];null!==s&&s.detachView(o[tt]),r[Tr]=null,r[Ca]=null,r[Jt]&=-129}return r}function EI(t,e){if(!(256&e[Jt])){const n=e[Qt];e[kg]&&pR(e[kg]),e[Og]&&pR(e[Og]),n.destroyNode&&Qg(t,e,n,3,null,null),function RK(t){let e=t[Ng];if(!e)return AI(t[tt],t);for(;e;){let n=null;if(es(e))n=e[Ng];else{const r=e[Gi];r&&(n=r)}if(!n){for(;e&&!e[Ca]&&e!==t;)es(e)&&AI(e[tt],e),e=e[Tr];null===e&&(e=t),es(e)&&AI(e[tt],e),n=e&&e[Ca]}e=n}}(e)}}function AI(t,e){if(!(256&e[Jt])){e[Jt]&=-129,e[Jt]|=256,function LK(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ug)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];eu(4,a,u);try{u.call(a)}finally{eu(5,a,u)}}else{eu(4,i,o);try{o.call(i)}finally{eu(5,i,o)}}}}}(t,e),function OK(t,e){const n=t.cleanup,r=e[Wh];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[Wh]=null);const i=e[Jl];if(null!==i){e[Jl]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[tt].type&&e[Qt].destroy();const n=e[Rg];if(null!==n&&Ro(e[Tr])){n!==e[Tr]&&PM(n,e);const r=e[Ja];null!==r&&r.detachView(t)}!function yK(t){_I.delete(t[Mg])}(e)}}function CI(t,e,n){return function NM(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[$r];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===Ea.None||o===Ea.Emulated)return null}return ns(r,n)}}(t,e.parent,n)}function Id(t,e,n,r,i){t.insertBefore(e,n,r,i)}function RM(t,e,n){t.appendChild(e,n)}function MM(t,e,n,r,i){null!==r?Id(t,e,n,r,i):RM(t,e,n)}function Ky(t,e){return t.parentNode(e)}let TI,PI,Jy,LM=function OM(t,e,n){return 40&t.type?ns(t,n):null};function Qy(t,e,n,r){const i=CI(t,r,e),o=e[Qt],a=function kM(t,e,n){return LM(t,e,n)}(r.parent||e[co],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)MM(o,i,n[u],a,!1);else MM(o,i,n,a,!1);void 0!==TI&&TI(o,r,e,n,i)}function Kg(t,e){if(null!==e){const n=e.type;if(3&n)return ns(e,t);if(4&n)return SI(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Kg(t,r);{const i=t[e.index];return Ro(i)?SI(-1,i):dr(i)}}if(32&n)return wI(e,t)()||dr(t[e.index]);{const r=VM(t,e);return null!==r?Array.isArray(r)?r[0]:Kg(Wg(t[ei]),r):Kg(t,e.next)}}return null}function VM(t,e){return null!==e?t[ei][co].projection[e.projection]:null}function SI(t,e){const n=Gi+t+1;if(n<e.length){const r=e[n],i=r[tt].firstChild;if(null!==i)return Kg(r,i)}return e[Xa]}function DI(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&ho(dr(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)DI(t,e,n.child,r,i,o,!1),pf(e,t,i,a,o);else if(32&u){const l=wI(n,r);let c;for(;c=l();)pf(e,t,i,c,o);pf(e,t,i,a,o)}else 16&u?BM(t,e,r,n,i,o):pf(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Qg(t,e,n,r,i,o){DI(n,r,t.firstChild,e,i,o,!1)}function BM(t,e,n,r,i,o){const s=n[ei],u=s[co].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)pf(e,t,i,u[l],o);else{let l=u;const c=s[Tr];$y(r)&&(l.flags|=128),DI(t,e,l,c,i,o,!0)}}function jM(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function zM(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&B2(t,e,r),null!==i&&jM(t,e,i),null!==o&&function zK(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function GM(t){return function NI(){if(void 0===Jy&&(Jy=null,cr.trustedTypes))try{Jy=cr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Jy}()?.createScriptURL(t)||t}class HM{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${LN})`}}function rc(t){return t instanceof HM?t.changingThisBreaksApplicationSecurity:t}function Yg(t,e){const n=function JK(t){return t instanceof HM&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${LN})`)}return n===e}const nQ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var _f=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(_f||{});function XM(t){const e=Jg();return e?e.sanitize(_f.URL,t)||"":Yg(t,"URL")?rc(t):function RI(t){return(t=String(t)).match(nQ)?t:"unsafe:"+t}(Kt(t))}function ek(t){const e=Jg();if(e)return GM(e.sanitize(_f.RESOURCE_URL,t)||"");if(Yg(t,"ResourceURL"))return GM(rc(t));throw new je(904,!1)}function Jg(){const t=Le();return t&&t[Kh].sanitizer}const Xg=new it("ENVIRONMENT_INITIALIZER"),nk=new it("INJECTOR",-1),rk=new it("INJECTOR_DEF_TYPES");class LI{get(e,n=Tg){if(n===Tg){const r=new Error(`NullInjectorError: No provider for ${Ii(e)}!`);throw r.name="NullInjectorError",r}return n}}function gQ(...t){return{\u0275providers:ik(0,t),\u0275fromNgModule:!0}}function ik(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return cf(e,s=>{const a=s;e0(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&ok(i,o),n}function ok(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];VI(i,o=>{e(o,r)})}}function e0(t,e,n,r){if(!(t=zt(t)))return!1;let i=null,o=gy(t);const s=!o&&wn(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const u=t.ngModule;if(o=gy(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of u)e0(l,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{cf(o.imports,c=>{e0(c,e,n,r)&&(l||=[],l.push(c))})}finally{}void 0!==l&&ok(l,e)}if(!a){const l=yd(i)||(()=>new i);e({provide:i,useFactory:l,deps:xn},i),e({provide:rk,useValue:i,multi:!0},i),e({provide:Xg,useValue:()=>gt(i),multi:!0},i)}const u=o.providers;if(null!=u&&!a){const l=t;VI(u,c=>{e(c,l)})}}}return i!==t&&void 0!==t.providers}function VI(t,e){for(let n of t)D2(n)&&(n=n.\u0275providers),Array.isArray(n)?VI(n,e):e(n)}const mQ=Un({provide:String,useValue:Un});function UI(t){return null!==t&&"object"==typeof t&&mQ in t}function Ed(t){return"function"==typeof t}const BI=new it("Set Injector scope."),t0={},vQ={};let jI;function n0(){return void 0===jI&&(jI=new LI),jI}class ea{}class vf extends ea{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$I(e,s=>this.processProvider(s)),this.records.set(nk,yf(void 0,this)),i.has("environment")&&this.records.set(ea,yf(void 0,this));const o=this.records.get(BI);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(rk.multi,xn,cn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Yl(this),r=Jo(void 0);try{return e()}finally{Yl(n),Jo(r)}}get(e,n=Tg,r=cn.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(GN))return e[GN](this);r=vy(r);const o=Yl(this),s=Jo(void 0);try{if(!(r&cn.SkipSelf)){let u=this.records.get(e);if(void 0===u){const l=function EQ(t){return"function"==typeof t||"object"==typeof t&&t instanceof it}(e)&&py(e);u=l&&this.injectableDefInScope(l)?yf(zI(e),t0):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&cn.Self?n0():this.parent).get(e,n=r&cn.Optional&&n===Tg?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[_y]=a[_y]||[]).unshift(Ii(e)),o)throw a;return function vH(t,e,n,r){const i=t[_y];throw e[zN]&&i.unshift(e[zN]),t.message=function yH(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Ii(e);if(Array.isArray(e))i=e.map(Ii).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ii(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(fH,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[_y]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Jo(s),Yl(o)}}resolveInjectorInitializers(){const e=Yl(this),n=Jo(void 0);try{const i=this.get(Xg.multi,xn,cn.Self);for(const o of i)o()}finally{Yl(e),Jo(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Ii(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new je(205,!1)}processProvider(e){let n=Ed(e=zt(e))?e:zt(e&&e.provide);const r=function bQ(t){return UI(t)?yf(void 0,t.useValue):yf(uk(t),t0)}(e);if(Ed(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=yf(void 0,t0,!0),i.factory=()=>F2(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===t0&&(n.value=vQ,n.value=n.factory()),"object"==typeof n.value&&n.value&&function IQ(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=zt(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function zI(t){const e=py(t),n=null!==e?e.factory:yd(t);if(null!==n)return n;if(t instanceof it)throw new je(204,!1);if(t instanceof Function)return function yQ(t){const e=t.length;if(e>0)throw function qg(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new je(204,!1);const n=function lH(t){return t&&(t[my]||t[VN])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new je(204,!1)}function uk(t,e,n){let r;if(Ed(t)){const i=zt(t);return yd(i)||zI(i)}if(UI(t))r=()=>zt(t.useValue);else if(function ak(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...F2(t.deps||[]));else if(function sk(t){return!(!t||!t.useExisting)}(t))r=()=>gt(zt(t.useExisting));else{const i=zt(t&&(t.useClass||t.provide));if(!function wQ(t){return!!t.deps}(t))return yd(i)||zI(i);r=()=>new i(...F2(t.deps))}return r}function yf(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function $I(t,e){for(const n of t)Array.isArray(n)?$I(n,e):n&&D2(n)?$I(n.\u0275providers,e):e(n)}const r0=new it("AppId",{providedIn:"root",factory:()=>AQ}),AQ="ng",lk=new it("Platform Initializer"),Ku=new it("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ck=new it("CSP nonce",{providedIn:"root",factory:()=>function mf(){if(void 0!==PI)return PI;if(typeof document<"u")return document;throw new je(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let dk=(t,e,n)=>null;function ZI(t,e,n=!1){return dk(t,e,n)}class kQ{}class pk{}class LQ{resolveComponentFactory(e){throw function OQ(t){const e=Error(`No component factory found for ${Ii(t)}.`);return e.ngComponent=t,e}(e)}}let c0=(()=>{class t{static{this.NULL=new LQ}}return t})();function FQ(){return If(Wi(),Le())}function If(t,e){return new Ds(ns(t,e))}let Ds=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=FQ}}return t})();function VQ(t){return t instanceof Ds?t.nativeElement:t}class mk{}let Qu=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function UQ(){const t=Le(),n=Ts(Wi().index,t);return(es(n)?n:t)[Qt]}()}}return t})(),BQ=(()=>{class t{static{this.\u0275prov=yt({token:t,providedIn:"root",factory:()=>null})}}return t})();class Ef{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const _k=new Ef("16.2.12"),eE={};function wk(t,e=null,n=null,r){const i=Ik(t,e,n,r);return i.resolveInjectorInitializers(),i}function Ik(t,e=null,n=null,r,i=new Set){const o=[n||xn,gQ(t)];return r=r||("object"==typeof t?void 0:Ii(t)),new vf(o,e||n0(),r||null,i)}let fo=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Tg}static{this.NULL=new LI}static create(n,r){if(Array.isArray(n))return wk({name:""},r,n,"");{const i=n.name??"";return wk({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=yt({token:t,providedIn:"any",factory:()=>gt(nk)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function nE(t){return t.ngOriginalError}class Yu{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&nE(e);for(;n&&nE(n);)n=nE(n);return n||null}}function rE(t){return e=>{setTimeout(t,void 0,e)}}const Qn=class KQ extends Yo{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=rE(o),i&&(i=rE(i)),s&&(s=rE(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ni&&e.add(a),a}};function Ak(...t){}class On{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qn(!1),this.onMicrotaskEmpty=new Qn(!1),this.onStable=new Qn(!1),this.onError=new Qn(!1),typeof Zone>"u")throw new je(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function QQ(){const t="function"==typeof cr.requestAnimationFrame;let e=cr[t?"requestAnimationFrame":"setTimeout"],n=cr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function JQ(t){const e=()=>{!function ZQ(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(cr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,oE(t),t.isCheckStableRunning=!0,iE(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),oE(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function eY(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return Ck(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Tk(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Ck(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Tk(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,oE(t),iE(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!On.isInAngularZone())throw new je(909,!1)}static assertNotInAngularZone(){if(On.isInAngularZone())throw new je(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,YQ,Ak,Ak);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const YQ={};function iE(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function oE(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Ck(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Tk(t){t._nesting--,iE(t)}class XQ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qn,this.onMicrotaskEmpty=new Qn,this.onStable=new Qn,this.onError=new Qn}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const Sk=new it("",{providedIn:"root",factory:Dk});function Dk(){const t=st(On);let e=!0;return A2(new tr(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new tr(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{On.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{On.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(ON()))}function Zu(t){return t instanceof Function?t():t}let sE=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=yt({token:t,providedIn:"root",factory:()=>new t})}}return t})();function nm(t){for(;t;){t[Jt]|=64;const e=Wg(t);if($2(t)&&!e)return t;t=e}return null}const Mk=new it("",{providedIn:"root",factory:()=>!1});let f0=null;function Fk(t,e){return t[e]??Bk()}function Vk(t,e){const n=Bk();n.producerNode?.length&&(t[e]=f0,n.lView=t,f0=Uk())}const cY={...uR,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{nm(t.lView)},lView:null};function Uk(){return Object.create(cY)}function Bk(){return f0??=Uk(),f0}const Yt={};function ae(t){jk(In(),Le(),ko()+t,!1)}function jk(t,e,n,r){if(!r)if(3==(3&e[Jt])){const o=t.preOrderCheckHooks;null!==o&&xy(e,o,n)}else{const o=t.preOrderHooks;null!==o&&Py(e,o,0,n)}bd(n)}function Oe(t,e=cn.Default){const n=Le();return null===n?gt(t,e):XR(Wi(),n,zt(t),e)}function p0(t,e,n,r,i,o,s,a,u,l,c){const d=e.blueprint.slice();return d[$r]=i,d[Jt]=140|r,(null!==l||t&&2048&t[Jt])&&(d[Jt]|=2048),DR(d),d[Tr]=d[Qh]=t,d[Xr]=n,d[Kh]=s||t&&t[Kh],d[Qt]=a||t&&t[Qt],d[Zl]=u||t&&t[Zl]||null,d[co]=o,d[Mg]=function _K(){return mK++}(),d[qu]=c,d[iR]=l,d[ei]=2==e.type?t[ei]:d,d}function Tf(t,e,n,r,i){let o=t.data[e];if(null===o)o=function aE(t,e,n,r,i){const o=kR(),s=Z2(),u=t.data[e]=function vY(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function ef(){return null!==Vt.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(t,e,n,r,i),function mW(){return Vt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Vg(){const t=Vt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return tu(o,!0),o}function rm(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function $k(t,e,n,r,i){const o=Fk(e,kg),s=ko(),a=2&r;try{bd(-1),a&&e.length>dn&&jk(t,e,dn,!1),eu(a?2:0,i);const l=a?o:null,c=G2(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{H2(l,c)}}finally{a&&null===e[kg]&&Vk(e,kg),bd(s),eu(a?3:1,i)}}function uE(t,e,n){if(z2(e)){const r=Zs(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Zs(r)}}}function lE(t,e,n){MR()&&(function CY(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;vd(n)&&function RY(t,e,n){const r=ns(e,t),i=qk(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=g0(t,p0(t,i,null,s,r,e,null,t[Kh].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ry(n,e),ho(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const u=t.data[a],l=wd(e,t,a,n);ho(l,e),null!==s&&MY(0,a-i,l,u,0,s),Ta(u)&&(Ts(n.index,e)[Xr]=wd(e,t,a,n))}}(t,e,n,ns(n,e)),64==(64&n.flags)&&Qk(t,e,n))}function cE(t,e,n=ns){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function qk(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=dE(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function dE(t,e,n,r,i,o,s,a,u,l,c){const d=dn+r,g=d+i,p=function hY(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Yt);return n}(d,g),b="function"==typeof l?l():l;return p[tt]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:b,incompleteFirstPass:!1,ssrId:c}}let Gk=t=>null;function Hk(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?Wk(n,e,i,o):r.hasOwnProperty(i)&&Wk(n,e,r[i],o)}return n}function Wk(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function hE(t,e,n,r){if(MR()){const i=null===r?null:{"":-1},o=function SY(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(JN(e,s.selectors,!1))if(r||(r=[]),Ta(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),fE(t,e,a.length)}else r.unshift(s),fE(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&Kk(t,e,n,s,i,a),i&&function DY(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new je(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=xg(n.mergedAttrs,n.attrs)}function Kk(t,e,n,r,i,o){for(let l=0;l<r.length;l++)lI(Ry(n,e),t,r[l].type);!function PY(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const c=r[l];c.providersResolver&&c.providersResolver(c)}let s=!1,a=!1,u=rm(t,e,r.length,null);for(let l=0;l<r.length;l++){const c=r[l];n.mergedAttrs=xg(n.mergedAttrs,c.hostAttrs),NY(t,n,e,u,c),xY(u,c,i),null!==c.contentQueries&&(n.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(n.flags|=64);const d=c.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function yY(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let u=null,l=null;for(let c=e.directiveStart;c<i;c++){const d=o[c],g=n?n.get(d):null,b=g?g.outputs:null;u=Hk(d.inputs,c,u,g?g.inputs:null),l=Hk(d.outputs,c,l,b);const w=null===u||null===s||ZN(e)?null:kY(u,c,s);a.push(w)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}(t,n,o)}function Qk(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function vW(){return Vt.lFrame.currentDirectiveIndex}();try{bd(o);for(let a=r;a<i;a++){const u=t.data[a],l=e[a];X2(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&TY(u,l)}}finally{bd(-1),X2(s)}}function TY(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function fE(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function xY(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ta(e)&&(n[""]=t)}}function NY(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=yd(i.type)),s=new Ug(o,Ta(i),Oe);t.blueprint[r]=s,n[r]=s,function EY(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function AY(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,rm(t,n,i.hostVars,Yt),i)}function ru(t,e,n,r,i,o){const s=ns(t,e);!function pE(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?Kt(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[Qt],s,o,t.value,n,r,i)}function MY(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)Yk(r,n,s[a++],s[a++],s[a++])}function Yk(t,e,n,r,i){const o=Zs(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Zs(o)}}function kY(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Zk(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function Jk(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];tI(n[r]),s.contentQueries(2,e[o],o)}}}function g0(t,e){return t[Ng]?t[rR][Ca]=e:t[Ng]=e,t[rR]=e,e}function gE(t,e,n){tI(0);const r=Zs(null);try{e(t,n)}finally{Zs(r)}}function Xk(t){return t[Wh]||(t[Wh]=[])}function eO(t){return t.cleanup||(t.cleanup=[])}function nO(t,e){const n=t[Zl],r=n?n.get(Yu,null):null;r&&r.handleError(e)}function mE(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];Yk(t.data[s],e[s],r,a,i)}}function Ju(t,e,n){const r=Ty(e,t);!function xM(t,e,n){t.setValue(e,n)}(t[Qt],r,n)}function OY(t,e){const n=Ts(e,t),r=n[tt];!function LY(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[$r];null!==i&&null===n[qu]&&(n[qu]=ZI(i,n[Zl])),_E(r,n,n[Xr])}function _E(t,e,n){nI(e);try{const r=t.viewQuery;null!==r&&gE(1,r,n);const i=t.template;null!==i&&$k(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Jk(t,e),t.staticViewQueries&&gE(2,t.viewQuery,n);const o=t.components;null!==o&&function FY(t,e){for(let n=0;n<e.length;n++)OY(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Jt]&=-5,rI()}}let rO=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function KH(t,e,n){const r=Object.create(QH);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>hR(r),run:()=>{if(r.dirty=!1,r.hasRun&&!fR(r))return;r.hasRun=!0;const s=G2(r);try{r.cleanupFn(),r.cleanupFn=wR,r.fn(i)}finally{H2(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,l=>{this.all.has(l)&&this.queue.set(l,o)},i);let a;this.all.add(s),s.notify();const u=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=yt({token:t,providedIn:"root",factory:()=>new t})}}return t})();function m0(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=T2(i,a):2==o&&(r=T2(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function im(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(dr(o)),Ro(o)&&iO(o,r);const s=n.type;if(8&s)im(t,e,n.child,r);else if(32&s){const a=wI(n,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=VM(e,n);if(Array.isArray(a))r.push(...a);else{const u=Wg(e[ei]);im(u[tt],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function iO(t,e){for(let n=Gi;n<t.length;n++){const r=t[n],i=r[tt].firstChild;null!==i&&im(r[tt],r,i,e)}t[Xa]!==t[$r]&&e.push(t[Xa])}function _0(t,e,n,r=!0){const i=e[Kh],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{oO(t,e,t.template,n)}catch(u){throw r&&nO(e,u),u}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function oO(t,e,n,r){const i=e[Jt];if(256!=(256&i)){e[Kh].effectManager?.flush(),nI(e);try{DR(e),function LR(t){return Vt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&$k(t,e,n,2,r);const s=3==(3&i);if(s){const l=t.preOrderCheckHooks;null!==l&&xy(e,l,null)}else{const l=t.preOrderHooks;null!==l&&Py(e,l,0,null),iI(e,0)}if(function BY(t){for(let e=TM(t);null!==e;e=SM(e)){if(!e[oR])continue;const n=e[Zh];for(let r=0;r<n.length;r++){oW(n[r])}}}(e),sO(e,2),null!==t.contentQueries&&Jk(t,e),s){const l=t.contentCheckHooks;null!==l&&xy(e,l)}else{const l=t.contentHooks;null!==l&&Py(e,l,1),iI(e,1)}!function dY(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=Fk(e,Og);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)bd(~o);else{const s=o,a=n[++i],u=n[++i];_W(a,s),r.dirty=!1;const l=G2(r);try{u(2,e[s])}finally{H2(r,l)}}}}finally{null===e[Og]&&Vk(e,Og),bd(-1)}}(t,e);const a=t.components;null!==a&&uO(e,a,0);const u=t.viewQuery;if(null!==u&&gE(2,u,r),s){const l=t.viewCheckHooks;null!==l&&xy(e,l)}else{const l=t.viewHooks;null!==l&&Py(e,l,2),iI(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Jt]&=-73,xR(e)}finally{rI()}}}function sO(t,e){for(let n=TM(t);null!==n;n=SM(n))for(let r=Gi;r<n.length;r++)aO(n[r],e)}function jY(t,e,n){aO(Ts(e,t),n)}function aO(t,e){if(!function rW(t){return 128==(128&t[Jt])}(t))return;const n=t[tt],r=t[Jt];if(80&r&&0===e||1024&r||2===e)oO(n,t,n.template,t[Xr]);else if(t[Pg]>0){sO(t,1);const i=n.components;null!==i&&uO(t,i,1)}}function uO(t,e,n){for(let r=0;r<e.length;r++)jY(t,e[r],n)}class om{get rootNodes(){const e=this._lView,n=e[tt];return im(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xr]}set context(e){this._lView[Xr]=e}get destroyed(){return 256==(256&this._lView[Jt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Tr];if(Ro(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Wy(e,r),Ly(n,r))}this._attachedToViewContainer=!1}EI(this._lView[tt],this._lView)}onDestroy(e){!function NR(t,e){if(256==(256&t[Jt]))throw new je(911,!1);null===t[Jl]&&(t[Jl]=[]),t[Jl].push(e)}(this._lView,e)}markForCheck(){nm(this._cdRefInjectingView||this._lView)}detach(){this._lView[Jt]&=-129}reattach(){this._lView[Jt]|=128}detectChanges(){_0(this._lView[tt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function NK(t,e){Qg(t,e,e[Qt],2,null,null)}(this._lView[tt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new je(902,!1);this._appRef=e}}class zY extends om{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;_0(e[tt],e,e[Xr],!1)}checkNoChanges(){}get context(){return null}}class lO extends c0{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=wn(e);return new sm(n,this.ngModule)}}function cO(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class qY{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=vy(r);const i=this.injector.get(e,eE,r);return i!==eE||n===eE?i:this.parentInjector.get(e,n,r)}}class sm extends pk{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=cO(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return cO(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function xH(t){return t.map(DH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof ea?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new qY(e,o):e,a=s.get(mk,null);if(null===a)throw new je(407,!1);const d={rendererFactory:a,sanitizer:s.get(BQ,null),effectManager:s.get(rO,null),afterRenderEventManager:s.get(sE,null)},g=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",b=r?function fY(t,e,n,r){const o=r.get(Mk,!1)||n===Ea.ShadowDom,s=t.selectRootElement(e,o);return function pY(t){Gk(t)}(s),s}(g,r,this.componentDef.encapsulation,s):Hy(g,p,function $Y(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(p)),A=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let R=null;null!==b&&(R=ZI(b,s,!0));const V=dE(0,null,null,1,0,null,null,null,null,null,null),O=p0(null,V,null,A,null,null,d,g,s,null,R);let Z,ie;nI(O);try{const B=this.componentDef;let D,S=null;B.findHostDirectiveDefs?(D=[],S=new Map,B.findHostDirectiveDefs(B,D,S),D.push(B)):D=[B];const L=function HY(t,e){const n=t[tt],r=dn;return t[r]=e,Tf(n,r,2,"#host",null)}(O,b),C=function WY(t,e,n,r,i,o,s){const a=i[tt];!function KY(t,e,n,r){for(const i of t)e.mergedAttrs=xg(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(m0(e,e.mergedAttrs,!0),null!==n&&zM(r,n,e))}(r,t,e,s);let u=null;null!==e&&(u=ZI(e,i[Zl]));const l=o.rendererFactory.createRenderer(e,n);let c=16;n.signals?c=4096:n.onPush&&(c=64);const d=p0(i,qk(n),null,c,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&fE(a,t,r.length-1),g0(i,d),i[t.index]=d}(L,b,B,D,O,d,g);ie=SR(V,dn),b&&function YY(t,e,n,r){if(r)B2(t,n,["ng-version",_k.full]);else{const{attrs:i,classes:o}=function PH(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Aa(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&B2(t,n,i),o&&o.length>0&&jM(t,n,o.join(" "))}}(g,B,b,r),void 0!==n&&function ZY(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(ie,this.ngContentSelectors,n),Z=function QY(t,e,n,r,i,o){const s=Wi(),a=i[tt],u=ns(s,i);Kk(a,i,s,n,null,r);for(let c=0;c<n.length;c++)ho(wd(i,a,s.directiveStart+c,s),i);Qk(a,i,s),u&&ho(u,i);const l=wd(i,a,s.directiveStart+s.componentOffset,s);if(t[Xr]=i[Xr]=l,null!==o)for(const c of o)c(l,e);return uE(a,s,t),l}(C,B,D,S,O,[JY]),_E(V,O,null)}finally{rI()}return new GY(this.componentType,Z,If(ie,O),O,ie)}}class GY extends kQ{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new zY(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;mE(o[tt],o,i,e,n),this.previousInputValues.set(e,n),nm(Ts(this._tNode.index,o))}}get injector(){return new Oo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function JY(){const t=Wi();Dy(Le()[tt],t)}function Bn(t){let e=function dO(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Ta(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new je(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=v0(t.inputs),s.inputTransforms=v0(t.inputTransforms),s.declaredInputs=v0(t.declaredInputs),s.outputs=v0(t.outputs);const a=i.hostBindings;a&&nZ(t,a);const u=i.viewQuery,l=i.contentQueries;if(u&&eZ(t,u),l&&tZ(t,l),hy(t.inputs,i.inputs),hy(t.declaredInputs,i.declaredInputs),hy(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),hy(s.inputTransforms,i.inputTransforms)),Ta(i)&&i.data.animation){const c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Bn&&(n=!1)}}e=Object.getPrototypeOf(e)}!function XY(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=xg(i.hostAttrs,n=xg(n,i.hostAttrs))}}(r)}function v0(t){return t===Za?{}:t===xn?[]:t}function eZ(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function tZ(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function nZ(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function gO(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function y0(t){return!!vE(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function vE(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function iu(t,e,n){return t[e]=n}function po(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ad(t,e,n,r){const i=po(t,e,n);return po(t,e+1,r)||i}function Qi(t,e,n,r){const i=Le();return po(i,tf(),e)&&(In(),ru(Or(),i,t,e,n,r)),Qi}function xf(t,e,n,r,i,o){const a=Ad(t,function Gu(){return Vt.lFrame.bindingIndex}(),n,i);return Hu(2),a?e+Kt(n)+r+Kt(i)+o:Yt}function It(t,e,n,r,i,o,s,a){const u=Le(),l=In(),c=t+dn,d=l.firstCreatePass?function SZ(t,e,n,r,i,o,s,a,u){const l=e.consts,c=Tf(e,t,4,s||null,ec(l,a));hE(e,n,c,ec(l,u)),Dy(e,c);const d=c.tView=dE(2,c,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,n,r,i,o,s):l.data[c];tu(d,!1);const g=DO(l,u,d,t);Sy()&&Qy(l,u,g,d),ho(g,u),g0(u,u[c]=Zk(g,u,g,d)),Ey(d)&&lE(l,u,d),null!=s&&cE(u,d,a)}let DO=function xO(t,e,n,r){return tc(!0),e[Qt].createComment("")};function AE(t){return Xh(function gW(){return Vt.lFrame.contextLView}(),dn+t)}function Me(t,e,n){const r=Le();return po(r,tf(),e)&&function xs(t,e,n,r,i,o,s,a){const u=ns(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(mE(t,n,c,r,i),vd(e)&&function wY(t,e){const n=Ts(e,t);16&n[Jt]||(n[Jt]|=64)}(n,e.index)):3&e.type&&(r=function bY(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}(In(),Or(),r,t,e,r[Qt],n,!1),Me}function CE(t,e,n,r,i){const s=i?"class":"style";mE(t,n,e.inputs[s],s,r)}function Q(t,e,n,r){const i=Le(),o=In(),s=dn+t,a=i[Qt],u=o.firstCreatePass?function NZ(t,e,n,r,i,o){const s=e.consts,u=Tf(e,t,2,r,ec(s,i));return hE(e,n,u,ec(s,o)),null!==u.attrs&&m0(u,u.attrs,!1),null!==u.mergedAttrs&&m0(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,e,n,r):o.data[s],l=PO(o,i,u,a,e,t);i[s]=l;const c=Ey(u);return tu(u,!0),zM(a,l,u),32!=(32&u.flags)&&Sy()&&Qy(o,i,l,u),0===function aW(){return Vt.lFrame.elementDepthCount}()&&ho(l,i),function uW(){Vt.lFrame.elementDepthCount++}(),c&&(lE(o,i,u),uE(o,u,i)),null!==r&&cE(i,u),Q}function G(){let t=Wi();Z2()?function J2(){Vt.lFrame.isParent=!1}():(t=t.parent,tu(t,!1));const e=t;(function cW(t){return Vt.skipHydrationRootTNode===t})(e)&&function pW(){Vt.skipHydrationRootTNode=null}(),function lW(){Vt.lFrame.elementDepthCount--}();const n=In();return n.firstCreatePass&&(Dy(n,t),z2(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function xW(t){return 0!=(8&t.flags)}(e)&&CE(n,e,Le(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function PW(t){return 0!=(16&t.flags)}(e)&&CE(n,e,Le(),e.stylesWithoutHost,!1),G}function Re(t,e,n,r){return Q(t,e,n,r),G(),Re}let PO=(t,e,n,r,i,o)=>(tc(!0),Hy(r,i,function qR(){return Vt.lFrame.currentNamespace}()));function fi(){return Le()}function dm(t){return!!t&&"function"==typeof t.then}function MO(t){return!!t&&"function"==typeof t.subscribe}function ze(t,e,n,r){const i=Le(),o=In(),s=Wi();return function OO(t,e,n,r,i,o,s){const a=Ey(r),l=t.firstCreatePass&&eO(t),c=e[Xr],d=Xk(e);let g=!0;if(3&r.type||s){const w=ns(r,e),E=s?s(w):w,A=d.length,R=s?O=>s(dr(O[r.index])):r.index;let V=null;if(!s&&a&&(V=function FZ(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[Wh],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==V)(V.__ngLastListenerFn__||V).__ngNextListenerFn__=o,V.__ngLastListenerFn__=o,g=!1;else{o=FO(r,e,c,o,!1);const O=n.listen(E,i,o);d.push(o,O),l&&l.push(i,R,A,A+1)}}else o=FO(r,e,c,o,!1);const p=r.outputs;let b;if(g&&null!==p&&(b=p[i])){const w=b.length;if(w)for(let E=0;E<w;E+=2){const Z=e[b[E]][b[E+1]].subscribe(o),ie=d.length;d.push(o,Z),l&&l.push(i,r.index,ie,-(ie+1))}}}(o,i,i[Qt],s,t,e,r),ze}function LO(t,e,n,r){try{return eu(6,e,n),!1!==n(r)}catch(i){return nO(t,i),!1}finally{eu(7,e,n)}}function FO(t,e,n,r,i){return function o(s){if(s===Function)return r;nm(t.componentOffset>-1?Ts(t.index,e):e);let u=LO(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)u=LO(e,n,l,s)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&s.preventDefault(),u}}function ot(t=1){return function bW(t){return(Vt.lFrame.contextLView=function wW(t,e){for(;t>0;)e=e[Qh],t--;return e}(t,Vt.lFrame.contextLView))[Xr]}(t)}function A0(t,e){return t<<17|e<<2}function ic(t){return t>>17&32767}function xE(t){return 2|t}function Cd(t){return(131068&t)>>2}function PE(t,e){return-131069&t|e<<2}function NE(t){return 1|t}function WO(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ic(o):Cd(o),u=!1;for(;0!==a&&(!1===u||s);){const c=t[a+1];HZ(t[a],e)&&(u=!0,t[a+1]=r?NE(c):xE(c)),a=r?ic(c):Cd(c)}u&&(t[n+1]=r?xE(o):NE(o))}function HZ(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&df(t,e)>=0}function Lr(t,e){return function Sa(t,e,n,r){const i=Le(),o=In(),s=Hu(2);o.firstUpdatePass&&function n4(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ko()],s=function t4(t,e){return e>=t.expandoStartIndex}(t,n);(function s4(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function tJ(t,e,n,r){const i=function eI(t){const e=Vt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=hm(n=RE(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=RE(i,t,e,n,r),null===o){let u=function nJ(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Cd(r))return t[ic(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=RE(null,t,e,u[1],r),u=hm(u,e.attrs,r),function rJ(t,e,n,r){t[ic(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else o=function iJ(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=hm(r,t[o].hostAttrs,n);return hm(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function qZ(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ic(s),u=Cd(s);t[r]=n;let c,l=!1;if(Array.isArray(n)?(c=n[1],(null===c||df(n,c)>0)&&(l=!0)):c=n,i)if(0!==u){const g=ic(t[a+1]);t[r+1]=A0(g,a),0!==g&&(t[g+1]=PE(t[g+1],r)),t[a+1]=function zZ(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=A0(a,0),0!==a&&(t[a+1]=PE(t[a+1],r)),a=r;else t[r+1]=A0(u,0),0===a?a=r:t[u+1]=PE(t[u+1],r),u=r;l&&(t[r+1]=xE(t[r+1])),WO(t,c,r,!0),WO(t,c,r,!1),function GZ(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&df(o,e)>=0&&(n[r+1]=NE(n[r+1]))}(e,c,t,r,o),s=A0(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==Yt&&po(i,s,e)&&function i4(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,l=u[a+1],c=function $Z(t){return 1==(1&t)}(l)?o4(u,e,n,i,Cd(l),s):void 0;C0(c)||(C0(o)||function jZ(t){return 2==(2&t)}(l)&&(o=o4(u,null,n,i,a,s)),function jK(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:nc.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=nc.Important),t.setStyle(n,r,i,o))}}(r,s,Ty(ko(),n),i,o))}(o,o.data[ko()],i,i[Qt],t,i[s+1]=function uJ(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Ii(rc(t)))),t}(e,n),r,s)}(t,e,null,!0),Lr}function RE(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=hm(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function hm(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ss(t,s,!!n||e[++o]))}return void 0===t?null:t}function o4(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const u=t[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c;let g=n[i+1];g===Yt&&(g=d?xn:void 0);let p=d?hI(g,r):c===r?g:void 0;if(l&&!C0(p)&&(p=hI(u,r)),C0(p)&&(a=p,s))return a;const b=t[i+1];i=s?ic(b):Cd(b)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=hI(u,r))}return a}function C0(t){return void 0!==t}function ce(t,e=""){const n=Le(),r=In(),i=t+dn,o=r.firstCreatePass?Tf(r,i,1,e,null):r.data[i],s=a4(r,n,o,e,t);n[i]=s,Sy()&&Qy(r,n,s,o),tu(o,!1)}let a4=(t,e,n,r,i)=>(tc(!0),function Gy(t,e){return t.createText(e)}(e[Qt],r));function jn(t){return hr("",t,""),jn}function hr(t,e,n){const r=Le(),i=function Df(t,e,n,r){return po(t,tf(),n)?e+Kt(n)+r:Yt}(r,t,e,n);return i!==Yt&&Ju(r,ko(),i),hr}function fm(t,e,n,r,i){const o=Le(),s=xf(o,t,e,n,r,i);return s!==Yt&&Ju(o,ko(),s),fm}const Td=void 0;var PJ=["en",[["a","p"],["AM","PM"],Td],[["AM","PM"],Td,Td],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Td,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Td,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Td,"{1} 'at' {0}",Td],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xJ(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Ff={};function Lo(t){const e=function NJ(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=S4(e);if(n)return n;const r=e.split("-")[0];if(n=S4(r),n)return n;if("en"===r)return PJ;throw new je(701,!1)}function S4(t){return t in Ff||(Ff[t]=cr.ng&&cr.ng.common&&cr.ng.common.locales&&cr.ng.common.locales[t]),Ff[t]}var fr=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(fr||{});const Vf="en-US";let D4=Vf;function OE(t,e,n,r,i){if(t=zt(t),Array.isArray(t))for(let o=0;o<t.length;o++)OE(t[o],e,n,r,i);else{const o=In(),s=Le(),a=Wi();let u=Ed(t)?t:zt(t.provide);const l=uk(t),c=1048575&a.providerIndexes,d=a.directiveStart,g=a.providerIndexes>>20;if(Ed(t)||!t.multi){const p=new Ug(l,i,Oe),b=FE(u,e,i?c:c+g,d);-1===b?(lI(Ry(a,s),o,u),LE(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),s.push(p)):(n[b]=p,s[b]=p)}else{const p=FE(u,e,c+g,d),b=FE(u,e,c,c+g),E=b>=0&&n[b];if(i&&!E||!i&&!(p>=0&&n[p])){lI(Ry(a,s),o,u);const A=function xX(t,e,n,r,i){const o=new Ug(t,n,Oe);return o.multi=[],o.index=e,o.componentProviders=0,X4(o,i,r&&!n),o}(i?DX:SX,n.length,i,r,l);!i&&E&&(n[b].providerFactory=A),LE(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(A),s.push(A)}else LE(o,t,p>-1?p:b,X4(n[i?b:p],l,!i&&r));!i&&r&&E&&n[b].componentProviders++}}}function LE(t,e,n,r){const i=Ed(e),o=function _Q(t){return!!t.useClass}(e);if(i||o){const u=(o?zt(e.useClass):e).prototype.ngOnDestroy;if(u){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const c=l.indexOf(n);-1===c?l.push(n,[r,u]):l[c+1].push(r,u)}else l.push(n,u)}}}function X4(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function FE(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function SX(t,e,n,r){return VE(this.multi,[])}function DX(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=wd(n,n[tt],this.providerFactory.index,r);o=a.slice(0,s),VE(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],VE(i,o);return o}function VE(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Sr(t,e=[]){return n=>{n.providersResolver=(r,i)=>function TX(t,e,n){const r=In();if(r.firstCreatePass){const i=Ta(t);OE(n,r.data,r.blueprint,i,!0),OE(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Sd{}class e3{}class UE extends Sd{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new lO(this);const i=Cs(e);this._bootstrapComponents=Zu(i.bootstrap),this._r3Injector=Ik(e,n,[{provide:Sd,useValue:this},{provide:c0,useValue:this.componentFactoryResolver},...r],Ii(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class BE extends e3{constructor(e){super(),this.moduleType=e}create(e){return new UE(this.moduleType,e,[])}}class t3 extends Sd{constructor(e){super(),this.componentFactoryResolver=new lO(this),this.instance=null;const n=new vf([...e.providers,{provide:Sd,useValue:this},{provide:c0,useValue:this.componentFactoryResolver}],e.parent||n0(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function jE(t,e,n=null){return new t3({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let RX=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=ik(0,n.type),i=r.length>0?jE([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=yt({token:t,providedIn:"environment",factory:()=>new t(gt(ea))})}}return t})();function n3(t){t.getStandaloneInjector=e=>e.get(RX).getOrCreateStandaloneInjector(t)}function pi(t,e,n,r,i,o){return function d3(t,e,n,r,i,o,s,a){const u=e+n;return function b0(t,e,n,r,i){const o=Ad(t,e,n,r);return po(t,e+2,i)||o}(t,u,i,o,s)?iu(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):ym(t,u+3)}(Le(),Mo(),t,e,n,r,i,o)}function ym(t,e){const n=t[e];return n===Yt?void 0:n}function Fo(t,e){const n=In();let r;const i=t+dn;n.firstCreatePass?(r=function YX(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=yd(r.type)),a=Jo(Oe);try{const u=Ny(!1),l=o();return Ny(u),function PZ(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Le(),i,l),l}finally{Jo(a)}}function Xu(t,e,n){const r=t+dn,i=Le(),o=Xh(i,r);return bm(i,r)?function l3(t,e,n,r,i,o){const s=e+n;return po(t,s,i)?iu(t,s+1,o?r.call(o,i):r(i)):ym(t,s+1)}(i,Mo(),e,o.transform,n,o):o.transform(n)}function Dd(t,e,n,r){const i=t+dn,o=Le(),s=Xh(o,i);return bm(o,i)?function c3(t,e,n,r,i,o,s){const a=e+n;return Ad(t,a,i,o)?iu(t,a+2,s?r.call(s,i,o):r(i,o)):ym(t,a+2)}(o,Mo(),e,s.transform,n,r,s):s.transform(n,r)}function bm(t,e){return t[tt].data[e].pure}function eee(){return this._results[Symbol.iterator]()}class $E{get changes(){return this._changes||(this._changes=new Qn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=$E.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=eee)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function Js(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function qW(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function nee(t,e,n,r=!0){const i=e[tt];if(function MK(t,e,n,r){const i=Gi+r,o=n.length;r>0&&(n[i-1][Ca]=e),r<o-Gi?(e[Ca]=n[i],oM(n,Gi+r,e)):(n.push(e),e[Ca]=null),e[Tr]=n;const s=e[Rg];null!==s&&n!==s&&function kK(t,e){const n=t[Zh];e[ei]!==e[Tr][Tr][ei]&&(t[oR]=!0),null===n?t[Zh]=[e]:n.push(e)}(s,e);const a=e[Ja];null!==a&&a.insertView(t),e[Jt]|=128}(i,e,t,n),r){const o=SI(n,t),s=e[Qt],a=Ky(s,t[Xa]);null!==a&&function PK(t,e,n,r,i,o){r[$r]=i,r[co]=e,Qg(t,r,n,1,i,o)}(i,t[co],s,e,a,o)}}let el=(()=>{class t{static{this.__NG_ELEMENT_ID__=oee}}return t})();const ree=el,iee=class extends ree{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function tee(t,e,n,r){const i=e.tView,a=p0(t,i,n,4096&t[Jt]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Rg]=t[e.index];const l=t[Ja];return null!==l&&(a[Ja]=l.createEmbeddedView(i)),_E(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new om(i)}};function oee(){return P0(Wi(),Le())}function P0(t,e){return 4&t.type?new iee(e,t,If(t,e)):null}let xa=(()=>{class t{static{this.__NG_ELEMENT_ID__=dee}}return t})();function dee(){return b3(Wi(),Le())}const hee=xa,v3=class extends hee{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return If(this._hostTNode,this._hostLView)}get injector(){return new Oo(this._hostTNode,this._hostLView)}get parentInjector(){const e=My(this._hostTNode,this._hostLView);if(sI(e)){const n=jg(e,this._hostLView),r=Bg(e);return new Oo(n[tt].data[r+8],n)}return new Oo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=y3(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Gi}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function $g(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const w=n||{};a=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}const u=s?e:new sm(wn(e)),l=r||this.parentInjector;if(!o&&null==u.ngModule){const E=(s?l:this.parentInjector).get(ea,null);E&&(o=E)}wn(u.componentType??{});const p=u.create(l,i,null,o);return this.insertImpl(p.hostView,a,false),p}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function iW(t){return Ro(t[Tr])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const l=i[Tr],c=new v3(l,l[co],l[Tr]);c.detach(c.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return nee(a,i,s,!r),e.attachToViewContainerRef(),oM(qE(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=y3(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Wy(this._lContainer,n);r&&(Ly(qE(this._lContainer),n),EI(r[tt],r))}detach(e){const n=this._adjustIndex(e,-1),r=Wy(this._lContainer,n);return r&&null!=Ly(qE(this._lContainer),n)?new om(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function y3(t){return t[8]}function qE(t){return t[8]||(t[8]=[])}function b3(t,e){let n;const r=e[t.index];return Ro(r)?n=r:(n=Zk(r,e,null,t),e[t.index]=n,g0(e,n)),w3(n,e,t,r),new v3(n,t,e)}let w3=function I3(t,e,n,r){if(t[Xa])return;let i;i=8&n.type?dr(r):function fee(t,e){const n=t[Qt],r=n.createComment(""),i=ns(e,t);return Id(n,Ky(n,i),r,function VK(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Xa]=i};class GE{constructor(e){this.queryList=e,this.matches=null}clone(){return new GE(this.queryList)}setDirty(){this.queryList.setDirty()}}class HE{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new HE(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==x3(e,n).matches&&this.queries[n].setDirty()}}class E3{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class WE{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new WE(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class KE{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new KE(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,mee(n,o)),this.matchTNodeWithReadOption(e,n,ky(n,e,o,!1,!1))}else r===el?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,ky(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ds||i===xa||i===el&&4&n.type)this.addMatch(n.index,-2);else{const o=ky(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function mee(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function vee(t,e,n,r){return-1===n?function _ee(t,e){return 11&t.type?If(t,e):4&t.type?P0(t,e):null}(e,t):-2===n?function yee(t,e,n){return n===Ds?If(e,t):n===el?P0(e,t):n===xa?b3(e,t):void 0}(t,e,r):wd(t,t[tt],n,e)}function A3(t,e,n,r){const i=e[Ja].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let u=0;u<s.length;u+=2){const l=s[u];a.push(l<0?null:vee(e,o[l],s[u+1],n.metadata.read))}i.matches=a}return i.matches}function QE(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=A3(t,e,i,n);for(let a=0;a<o.length;a+=2){const u=o[a];if(u>0)r.push(s[a/2]);else{const l=o[a+1],c=e[-u];for(let d=Gi;d<c.length;d++){const g=c[d];g[Rg]===g[Tr]&&QE(g[tt],g,l,r)}if(null!==c[Zh]){const d=c[Zh];for(let g=0;g<d.length;g++){const p=d[g];QE(p[tt],p,l,r)}}}}}return r}function YE(t){const e=Le(),n=In(),r=VR();tI(r+1);const i=x3(n,r);if(t.dirty&&function nW(t){return 4==(4&t[Jt])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?QE(n,e,r,[]):A3(n,e,i,r);t.reset(o,VQ),t.notifyOnChanges()}return!0}return!1}function ZE(){return function bee(t,e){return t[Ja].queries[e].queryList}(Le(),VR())}function S3(t,e,n){const r=new $E(4==(4&n));(function _Y(t,e,n,r){const i=Xk(e);i.push(n),t.firstCreatePass&&eO(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Ja]&&(e[Ja]=new HE),e[Ja].queries.push(new GE(r))}function D3(t,e,n){null===t.queries&&(t.queries=new WE),t.queries.track(new KE(e,n))}function x3(t,e){return t.queries.getByIndex(e)}const M0=new it("Application Initializer");let rA=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=st(M0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(dm(o))n.push(o);else if(MO(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),H3=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const tl=new it("LocaleId",{providedIn:"root",factory:()=>st(tl,cn.Optional|cn.SkipSelf)||function $ee(){return typeof $localize<"u"&&$localize.locale||Vf}()});let W3=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Es(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class Hee{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let K3=(()=>{class t{compileModuleSync(n){return new BE(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Zu(Cs(n).declarations).reduce((s,a)=>{const u=wn(a);return u&&s.push(new sm(u)),s},[]);return new Hee(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const J3=new it(""),O0=new it("");let uA,sA=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,uA||(function pte(t){uA=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{On.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static{this.\u0275fac=function(r){return new(r||t)(gt(On),gt(aA),gt(O0))}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac})}}return t})(),aA=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return uA?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),oc=null;const X3=new it("AllowMultipleToken"),lA=new it("PlatformDestroyListeners"),cA=new it("appBootstrapListener");class tL{constructor(e,n){this.name=e,this.token=n}}function rL(t,e,n=[]){const r=`Platform: ${e}`,i=new it(r);return(o=[])=>{let s=dA();if(!s||s.injector.get(X3,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function _te(t){if(oc&&!oc.get(X3,!1))throw new je(400,!1);(function eL(){!function $H(t){_R=t}(()=>{throw new je(600,!1)})})(),oc=t;const e=t.get(oL);(function nL(t){t.get(lk,null)?.forEach(n=>n())})(t)}(function iL(t=[],e){return fo.create({name:e,providers:[{provide:BI,useValue:"platform"},{provide:lA,useValue:new Set([()=>oc=null])},...t]})}(a,r))}return function yte(t){const e=dA();if(!e)throw new je(401,!1);return e}()}}function dA(){return oc?.get(oL)??null}let oL=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function bte(t="zone.js",e){return"noop"===t?new XQ:"zone.js"===t?new On(e):t}(r?.ngZone,function sL(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function NX(t,e,n){return new UE(t,e,n)}(n.moduleType,this.injector,function dL(t){return[{provide:On,useFactory:t},{provide:Xg,multi:!0,useFactory:()=>{const e=st(Ite,{optional:!0});return()=>e.initialize()}},{provide:cL,useFactory:wte},{provide:Sk,useFactory:Dk}]}(()=>i)),s=o.injector.get(Yu,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{s.handleError(u)}});o.onDestroy(()=>{L0(this._modules,o),a.unsubscribe()})}),function aL(t,e,n){try{const r=n();return dm(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(rA);return a.runInitializers(),a.donePromise.then(()=>(function x4(t){Qs(t,"Expected localeId to be defined"),"string"==typeof t&&(D4=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(tl,Vf)||Vf),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=uL({},r);return function gte(t,e,n){const r=new BE(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(xd);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new je(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new je(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(lA,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||t)(gt(fo))}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function uL(t,e){return Array.isArray(e)?e.reduce(uL,t):{...t,...e}}let xd=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=st(cL),this.zoneIsStable=st(Sk),this.componentTypes=[],this.components=[],this.isStable=st(W3).hasPendingTasks.pipe(Zo(n=>n?Mt(!1):this.zoneIsStable),function eH(t,e=Kl){return t=t??tH,Zr((n,r)=>{let i,o=!0;n.subscribe(Jr(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}(),ON()),this._injector=st(ea)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof pk;if(!this._injector.get(rA).done)throw!i&&function Hh(t){const e=wn(t)||qi(t)||No(t);return null!==e&&e.standalone}(n),new je(405,!1);let s;s=i?n:this._injector.get(c0).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function mte(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Sd),l=s.create(fo.NULL,[],r||s.selector,a),c=l.location.nativeElement,d=l.injector.get(J3,null);return d?.registerApplication(c),l.onDestroy(()=>{this.detachView(l.hostView),L0(this.components,l),d?.unregisterApplication(c)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new je(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;L0(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(cA,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>L0(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new je(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function L0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const cL=new it("",{providedIn:"root",factory:()=>st(Yu).handleError.bind(void 0)});function wte(){const t=st(On),e=st(Yu);return n=>t.runOutsideAngular(()=>e.handleError(n))}let Ite=(()=>{class t{constructor(){this.zone=st(On),this.applicationRef=st(xd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();let F0=(()=>{class t{static{this.__NG_ELEMENT_ID__=Cte}}return t})();function Cte(t){return function Tte(t,e,n){if(vd(t)&&!n){const r=Ts(t.index,e);return new om(r,r)}return 47&t.type?new om(e[ei],e):null}(Wi(),Le(),16==(16&t))}class mL{constructor(){}supports(e){return y0(e)}create(e){return new Nte(e)}}const Pte=(t,e)=>e;class Nte{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Pte}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<vL(r,i,o)?n:r,a=vL(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,c=u-i;if(l!=c){for(let g=0;g<l;g++){const p=g<o.length?o[g]:o[g]=0,b=p+g;c<=b&&b<l&&(o[g]=p+1)}o[s.previousIndex]=c-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!y0(e))throw new je(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function lZ(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Rte(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new _L),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _L),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Rte{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Mte{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class _L{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new Mte,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vL(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class yL{constructor(){}supports(e){return e instanceof Map||vE(e)}create(){return new kte}}class kte{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||vE(e)))throw new je(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new Ote(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class Ote{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bL(){return new B0([new mL])}let B0=(()=>{class t{static{this.\u0275prov=yt({token:t,providedIn:"root",factory:bL})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||bL()),deps:[[t,new Vy,new Xs]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new je(901,!1)}}return t})();function wL(){return new Em([new yL])}let Em=(()=>{class t{static{this.\u0275prov=yt({token:t,providedIn:"root",factory:wL})}constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||wL()),deps:[[t,new Vy,new Xs]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new je(901,!1)}}return t})();const Vte=rL(null,"core",[]);let Ute=(()=>{class t{constructor(n){}static{this.\u0275fac=function(r){return new(r||t)(gt(xd))}}static{this.\u0275mod=Xo({type:t})}static{this.\u0275inj=xo({})}}return t})();function jf(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let _A=null;function sc(){return _A}class Xte{}const na=new it("DocumentToken");let vA=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=yt({token:t,factory:function(){return st(tne)},providedIn:"platform"})}}return t})();const ene=new it("Location Initialized");let tne=(()=>{class t extends vA{constructor(){super(),this._doc=st(na),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return sc().getBaseHref(this._doc)}onPopState(n){const r=sc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=sc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=yt({token:t,factory:function(){return new t},providedIn:"platform"})}}return t})();function yA(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function PL(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function nl(t){return t&&"?"!==t[0]?"?"+t:t}let Nd=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=yt({token:t,factory:function(){return st(RL)},providedIn:"root"})}}return t})();const NL=new it("appBaseHref");let RL=(()=>{class t extends Nd{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??st(na).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return yA(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+nl(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+nl(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+nl(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(gt(vA),gt(NL,8))}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),nne=(()=>{class t extends Nd{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=yA(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+nl(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+nl(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(gt(vA),gt(NL,8))}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac})}}return t})(),bA=(()=>{class t{constructor(n){this._subject=new Qn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function one(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(PL(ML(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+nl(r))}normalize(n){return t.stripTrailingSlash(function ine(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,ML(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+nl(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+nl(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=nl}static{this.joinWithSlash=yA}static{this.stripTrailingSlash=PL}static{this.\u0275fac=function(r){return new(r||t)(gt(Nd))}}static{this.\u0275prov=yt({token:t,factory:function(){return function rne(){return new bA(gt(Nd))}()},providedIn:"root"})}}return t})();function ML(t){return t.replace(/\/index.html$/,"")}var Uo=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Uo||{}),ir=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(ir||{}),Ps=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Ps||{}),ti=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(ti||{});function $0(t,e){return ia(Lo(t)[fr.DateFormat],e)}function q0(t,e){return ia(Lo(t)[fr.TimeFormat],e)}function G0(t,e){return ia(Lo(t)[fr.DateTimeFormat],e)}function ra(t,e){const n=Lo(t),r=n[fr.NumberSymbols][e];if(typeof r>"u"){if(e===ti.CurrencyDecimal)return n[fr.NumberSymbols][ti.Decimal];if(e===ti.CurrencyGroup)return n[fr.NumberSymbols][ti.Group]}return r}function OL(t){if(!t[fr.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[fr.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ia(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function IA(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const yne=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Am={},bne=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var rl=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(rl||{}),Pn=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Pn||{}),Nn=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Nn||{});function wne(t,e,n,r){let i=function Pne(t){if(VL(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[i,o=1,s=1]=t.split("-").map(a=>+a);return H0(i,o-1,s)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(yne))return function Nne(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,l),e}(r)}const e=new Date(t);if(!VL(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=il(n,e)||e;let a,s=[];for(;e;){if(a=bne.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const c=s.pop();if(!c)break;e=c}}let u=i.getTimezoneOffset();r&&(u=FL(r,u),i=function xne(t,e,n){const r=n?-1:1,i=t.getTimezoneOffset();return function Dne(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,r*(FL(e,i)-i))}(i,r,!0));let l="";return s.forEach(c=>{const d=function Sne(t){if(AA[t])return AA[t];let e;switch(t){case"G":case"GG":case"GGG":e=pr(Nn.Eras,ir.Abbreviated);break;case"GGGG":e=pr(Nn.Eras,ir.Wide);break;case"GGGGG":e=pr(Nn.Eras,ir.Narrow);break;case"y":e=gi(Pn.FullYear,1,0,!1,!0);break;case"yy":e=gi(Pn.FullYear,2,0,!0,!0);break;case"yyy":e=gi(Pn.FullYear,3,0,!1,!0);break;case"yyyy":e=gi(Pn.FullYear,4,0,!1,!0);break;case"Y":e=Y0(1);break;case"YY":e=Y0(2,!0);break;case"YYY":e=Y0(3);break;case"YYYY":e=Y0(4);break;case"M":case"L":e=gi(Pn.Month,1,1);break;case"MM":case"LL":e=gi(Pn.Month,2,1);break;case"MMM":e=pr(Nn.Months,ir.Abbreviated);break;case"MMMM":e=pr(Nn.Months,ir.Wide);break;case"MMMMM":e=pr(Nn.Months,ir.Narrow);break;case"LLL":e=pr(Nn.Months,ir.Abbreviated,Uo.Standalone);break;case"LLLL":e=pr(Nn.Months,ir.Wide,Uo.Standalone);break;case"LLLLL":e=pr(Nn.Months,ir.Narrow,Uo.Standalone);break;case"w":e=EA(1);break;case"ww":e=EA(2);break;case"W":e=EA(1,!0);break;case"d":e=gi(Pn.Date,1);break;case"dd":e=gi(Pn.Date,2);break;case"c":case"cc":e=gi(Pn.Day,1);break;case"ccc":e=pr(Nn.Days,ir.Abbreviated,Uo.Standalone);break;case"cccc":e=pr(Nn.Days,ir.Wide,Uo.Standalone);break;case"ccccc":e=pr(Nn.Days,ir.Narrow,Uo.Standalone);break;case"cccccc":e=pr(Nn.Days,ir.Short,Uo.Standalone);break;case"E":case"EE":case"EEE":e=pr(Nn.Days,ir.Abbreviated);break;case"EEEE":e=pr(Nn.Days,ir.Wide);break;case"EEEEE":e=pr(Nn.Days,ir.Narrow);break;case"EEEEEE":e=pr(Nn.Days,ir.Short);break;case"a":case"aa":case"aaa":e=pr(Nn.DayPeriods,ir.Abbreviated);break;case"aaaa":e=pr(Nn.DayPeriods,ir.Wide);break;case"aaaaa":e=pr(Nn.DayPeriods,ir.Narrow);break;case"b":case"bb":case"bbb":e=pr(Nn.DayPeriods,ir.Abbreviated,Uo.Standalone,!0);break;case"bbbb":e=pr(Nn.DayPeriods,ir.Wide,Uo.Standalone,!0);break;case"bbbbb":e=pr(Nn.DayPeriods,ir.Narrow,Uo.Standalone,!0);break;case"B":case"BB":case"BBB":e=pr(Nn.DayPeriods,ir.Abbreviated,Uo.Format,!0);break;case"BBBB":e=pr(Nn.DayPeriods,ir.Wide,Uo.Format,!0);break;case"BBBBB":e=pr(Nn.DayPeriods,ir.Narrow,Uo.Format,!0);break;case"h":e=gi(Pn.Hours,1,-12);break;case"hh":e=gi(Pn.Hours,2,-12);break;case"H":e=gi(Pn.Hours,1);break;case"HH":e=gi(Pn.Hours,2);break;case"m":e=gi(Pn.Minutes,1);break;case"mm":e=gi(Pn.Minutes,2);break;case"s":e=gi(Pn.Seconds,1);break;case"ss":e=gi(Pn.Seconds,2);break;case"S":e=gi(Pn.FractionalSeconds,1);break;case"SS":e=gi(Pn.FractionalSeconds,2);break;case"SSS":e=gi(Pn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=K0(rl.Short);break;case"ZZZZZ":e=K0(rl.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=K0(rl.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=K0(rl.Long);break;default:return null}return AA[t]=e,e}(c);l+=d?d(i,n,u):"''"===c?"'":c.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function H0(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function il(t,e){const n=function ane(t){return Lo(t)[fr.LocaleId]}(t);if(Am[n]=Am[n]||{},Am[n][e])return Am[n][e];let r="";switch(e){case"shortDate":r=$0(t,Ps.Short);break;case"mediumDate":r=$0(t,Ps.Medium);break;case"longDate":r=$0(t,Ps.Long);break;case"fullDate":r=$0(t,Ps.Full);break;case"shortTime":r=q0(t,Ps.Short);break;case"mediumTime":r=q0(t,Ps.Medium);break;case"longTime":r=q0(t,Ps.Long);break;case"fullTime":r=q0(t,Ps.Full);break;case"short":const i=il(t,"shortTime"),o=il(t,"shortDate");r=W0(G0(t,Ps.Short),[i,o]);break;case"medium":const s=il(t,"mediumTime"),a=il(t,"mediumDate");r=W0(G0(t,Ps.Medium),[s,a]);break;case"long":const u=il(t,"longTime"),l=il(t,"longDate");r=W0(G0(t,Ps.Long),[u,l]);break;case"full":const c=il(t,"fullTime"),d=il(t,"fullDate");r=W0(G0(t,Ps.Full),[c,d])}return r&&(Am[n][e]=r),r}function W0(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return null!=e&&r in e?e[r]:n})),t}function Pa(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function gi(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function Ene(t,e){switch(t){case Pn.FullYear:return e.getFullYear();case Pn.Month:return e.getMonth();case Pn.Date:return e.getDate();case Pn.Hours:return e.getHours();case Pn.Minutes:return e.getMinutes();case Pn.Seconds:return e.getSeconds();case Pn.FractionalSeconds:return e.getMilliseconds();case Pn.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===Pn.Hours)0===a&&-12===n&&(a=12);else if(t===Pn.FractionalSeconds)return function Ine(t,e){return Pa(t,3).substring(0,e)}(a,e);const u=ra(s,ti.MinusSign);return Pa(a,e,u,r,i)}}function pr(t,e,n=Uo.Format,r=!1){return function(i,o){return function Ane(t,e,n,r,i,o){switch(n){case Nn.Months:return function cne(t,e,n){const r=Lo(t),o=ia([r[fr.MonthsFormat],r[fr.MonthsStandalone]],e);return ia(o,n)}(e,i,r)[t.getMonth()];case Nn.Days:return function lne(t,e,n){const r=Lo(t),o=ia([r[fr.DaysFormat],r[fr.DaysStandalone]],e);return ia(o,n)}(e,i,r)[t.getDay()];case Nn.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const l=function pne(t){const e=Lo(t);return OL(e),(e[fr.ExtraData][2]||[]).map(r=>"string"==typeof r?IA(r):[IA(r[0]),IA(r[1])])}(e),c=function gne(t,e,n){const r=Lo(t);OL(r);const o=ia([r[fr.ExtraData][0],r[fr.ExtraData][1]],e)||[];return ia(o,n)||[]}(e,i,r),d=l.findIndex(g=>{if(Array.isArray(g)){const[p,b]=g,w=s>=p.hours&&a>=p.minutes,E=s<b.hours||s===b.hours&&a<b.minutes;if(p.hours<b.hours){if(w&&E)return!0}else if(w||E)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(-1!==d)return c[d]}return function une(t,e,n){const r=Lo(t),o=ia([r[fr.DayPeriodsFormat],r[fr.DayPeriodsStandalone]],e);return ia(o,n)}(e,i,r)[s<12?0:1];case Nn.Eras:return function dne(t,e){return ia(Lo(t)[fr.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,t,e,n,r)}}function K0(t){return function(e,n,r){const i=-1*r,o=ra(n,ti.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case rl.Short:return(i>=0?"+":"")+Pa(s,2,o)+Pa(Math.abs(i%60),2,o);case rl.ShortGMT:return"GMT"+(i>=0?"+":"")+Pa(s,1,o);case rl.Long:return"GMT"+(i>=0?"+":"")+Pa(s,2,o)+":"+Pa(Math.abs(i%60),2,o);case rl.Extended:return 0===r?"Z":(i>=0?"+":"")+Pa(s,2,o)+":"+Pa(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}const Cne=0,Q0=4;function LL(t){return H0(t.getFullYear(),t.getMonth(),t.getDate()+(Q0-t.getDay()))}function EA(t,e=!1){return function(n,r){let i;if(e){const o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{const o=LL(n),s=function Tne(t){const e=H0(t,Cne,1).getDay();return H0(t,0,1+(e<=Q0?Q0:Q0+7)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Pa(i,t,ra(r,ti.MinusSign))}}function Y0(t,e=!1){return function(n,r){return Pa(LL(n).getFullYear(),t,ra(r,ti.MinusSign),e)}}const AA={};function FL(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function VL(t){return t instanceof Date&&!isNaN(t.valueOf())}const PA=/\s+/,zL=[];let J0=(()=>{class t{constructor(n,r,i,o){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=zL,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(PA):zL}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(PA):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(PA).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(Oe(B0),Oe(Em),Oe(Ds),Oe(Qu))}}static{this.\u0275dir=$t({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();class Gne{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let X0=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Gne(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),qL(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{qL(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Oe(xa),Oe(el),Oe(B0))}}static{this.\u0275dir=$t({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function qL(t,e){t.context.$implicit=e.item}let Rd=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Hne,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){GL("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){GL("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Oe(xa),Oe(el))}}static{this.\u0275dir=$t({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})();class Hne{constructor(){this.$implicit=null,this.ngIf=null}}function GL(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ii(e)}'.`)}const ore=new it("DATE_PIPE_DEFAULT_TIMEZONE"),sre=new it("DATE_PIPE_DEFAULT_OPTIONS");let MA=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(null==n||""===n||n!=n)return null;try{return wne(n,r??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw function Na(t,e){return new je(2100,!1)}()}}static{this.\u0275fac=function(r){return new(r||t)(Oe(tl,16),Oe(ore,24),Oe(sre,24))}}static{this.\u0275pipe=Po({name:"date",type:t,pure:!0,standalone:!0})}}return t})(),mre=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Xo({type:t})}static{this.\u0275inj=xo({})}}return t})();const KL="browser";function QL(t){return t===KL}function YL(t){return"server"===t}let bre=(()=>{class t{static{this.\u0275prov=yt({token:t,providedIn:"root",factory:()=>new wre(gt(na),window)})}}return t})();class wre{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Ire(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Hre extends Xte{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class VA extends Hre{static makeCurrent(){!function Jte(t){_A||(_A=t)}(new VA)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Wre(){return Sm=Sm||document.querySelector("base"),Sm?Sm.getAttribute("href"):null}();return null==n?null:function Kre(t){n1=n1||document.createElement("a"),n1.setAttribute("href",t);const e=n1.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Sm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function $ne(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let n1,Sm=null,Yre=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac})}}return t})();const UA=new it("EventManagerPlugins");let tF=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new je(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(gt(UA),gt(On))}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac})}}return t})();class nF{constructor(e){this._doc=e}}const BA="ng-app-id";let rF=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=YL(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${BA}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(BA),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(BA,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(gt(na),gt(r0),gt(ck,8),gt(Ku))}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac})}}return t})();const jA={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zA=/%COMP%/g,eie=new it("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function oF(t,e){return e.map(n=>n.replace(zA,t))}let sF=(()=>{class t{constructor(n,r,i,o,s,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=YL(a),this.defaultRenderer=new $A(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ea.ShadowDom&&(r={...r,encapsulation:Ea.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof uF?i.applyToHost(n):i instanceof qA&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Ea.Emulated:o=new uF(u,l,r,this.appId,c,s,a,d);break;case Ea.ShadowDom:return new iie(u,l,n,r,s,a,this.nonce,d);default:o=new qA(u,l,r,c,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(gt(tF),gt(rF),gt(r0),gt(eie),gt(na),gt(Ku),gt(On),gt(ck))}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac})}}return t})();class $A{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(jA[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(aF(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(aF(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new je(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=jA[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=jA[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(nc.DashCase|nc.Important)?e.style.setProperty(n,r,i&nc.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&nc.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=sc().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function aF(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class iie extends $A{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=oF(i.id,i.styles);for(const c of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=c,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class qA extends $A{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?oF(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class uF extends qA{constructor(e,n,r,i,o,s,a,u){const l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=function tie(t){return"_ngcontent-%COMP%".replace(zA,t)}(l),this.hostAttr=function nie(t){return"_nghost-%COMP%".replace(zA,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let oie=(()=>{class t extends nF{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(gt(na))}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac})}}return t})();const lF=["alt","control","meta","shift"],sie={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},aie={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let uie=(()=>{class t extends nF{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>sc().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),lF.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=sie[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),lF.forEach(s=>{s!==i&&(0,aie[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(gt(na))}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac})}}return t})();const dF=[{provide:Ku,useValue:KL},{provide:lk,useValue:function lie(){VA.makeCurrent()},multi:!0},{provide:na,useFactory:function die(){return function HK(t){PI=t}(document),document},deps:[]}],hie=rL(Vte,"browser",dF),fie=new it(""),hF=[{provide:O0,useClass:class Qre{addToWindow(e){cr.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new je(5103,!1);return o},cr.getAllAngularTestabilities=()=>e.getAllTestabilities(),cr.getAllAngularRootElements=()=>e.getAllRootElements(),cr.frameworkStabilizers||(cr.frameworkStabilizers=[]),cr.frameworkStabilizers.push(r=>{const i=cr.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?sc().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:J3,useClass:sA,deps:[On,aA,O0]},{provide:sA,useClass:sA,deps:[On,aA,O0]}],fF=[{provide:BI,useValue:"root"},{provide:Yu,useFactory:function cie(){return new Yu},deps:[]},{provide:UA,useClass:oie,multi:!0,deps:[na,On,Ku]},{provide:UA,useClass:uie,multi:!0,deps:[na]},sF,rF,tF,{provide:mk,useExisting:sF},{provide:class Ere{},useClass:Yre,deps:[]},[]];let pie=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:r0,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||t)(gt(fie,12))}}static{this.\u0275mod=Xo({type:t})}static{this.\u0275inj=xo({providers:[...fF,...hF],imports:[mre,Ute]})}}return t})(),pF=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(gt(na))}}static{this.\u0275prov=yt({token:t,factory:function(r){let i=null;return i=r?new r:function mie(){return new pF(gt(na))}(),i},providedIn:"root"})}}return t})();typeof window<"u"&&window;const{isArray:Iie}=Array,{getPrototypeOf:Eie,prototype:Aie,keys:Cie}=Object;function vF(t){if(1===t.length){const e=t[0];if(Iie(e))return{args:e,keys:null};if(function Tie(t){return t&&"object"==typeof t&&Eie(t)===Aie}(e)){const n=Cie(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Sie}=Array;function HA(t){return pn(e=>function Die(t,e){return Sie(e)?t(...e):t(e)}(t,e))}function yF(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function WA(...t){const e=Cg(t),n=MN(t),{args:r,keys:i}=vF(t);if(0===r.length)return Ri([],e);const o=new tr(function xie(t,e,n=Kl){return r=>{bF(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)bF(e,()=>{const l=Ri(t[u],e);let c=!1;l.subscribe(Jr(r,d=>{o[u]=d,c||(c=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>yF(i,s):Kl));return n?o.pipe(HA(n)):o}function bF(t,e,n){t?ju(n,t,e):e()}const Dm=Ag(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function xm(...t){return function Pie(){return qh(1)}()(Ri(t,Cg(t)))}function r1(t){return new tr(e=>{lo(t()).subscribe(e)})}function $f(t,e){const n=un(t)?t:()=>t,r=i=>i.error(n());return new tr(e?i=>e.schedule(r,0,i):r)}function KA(){return Zr((t,e)=>{let n=null;t._refCount++;const r=Jr(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class QA extends tr{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,vN(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ni;const n=this.getSubject();e.add(this.source.subscribe(Jr(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ni.EMPTY)}return e}refCount(){return KA()(this)}}function ss(t){return t<=0?()=>Ya:Zr((e,n)=>{let r=0;e.subscribe(Jr(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function as(t,e){return Zr((n,r)=>{let i=0;n.subscribe(Jr(r,o=>t.call(e,o,i++)&&r.next(o)))})}function i1(t){return Zr((e,n)=>{let r=!1;e.subscribe(Jr(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function wF(t=Rie){return Zr((e,n)=>{let r=!1;e.subscribe(Jr(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Rie(){return new Dm}function Md(t,e){const n=arguments.length>=2;return r=>r.pipe(t?as((i,o)=>t(i,o,r)):Kl,ss(1),n?i1(e):wF(()=>new Dm))}function Pm(t,e){return un(e)?wi(t,e,1):wi(t,1)}function Mi(t,e,n){const r=un(t)||e||n?{next:t,error:e,complete:n}:t;return r?Zr((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Jr(o,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),o.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Kl}function kd(t){return Zr((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Jr(n,void 0,void 0,s=>{o=lo(t(s,kd(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function YA(t){return t<=0?()=>Ya:Zr((e,n)=>{let r=[];e.subscribe(Jr(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function IF(t){return pn(()=>t)}function ZA(t){return Zr((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const tn="primary",Nm=Symbol("RouteTitle");class Fie{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function qf(t){return new Fie(t)}function Vie(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function au(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!EF(t[i],e[i]))return!1;return!0}function EF(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function AF(t){return t.length>0?t[t.length-1]:null}function uc(t){return function wie(t){return!!t&&(t instanceof tr||un(t.lift)&&un(t.subscribe))}(t)?t:dm(t)?Ri(Promise.resolve(t)):Mt(t)}const Bie={exact:function SF(t,e,n){if(!Od(t.segments,e.segments)||!o1(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!SF(t.children[r],e.children[r],n))return!1;return!0},subset:DF},CF={exact:function jie(t,e){return au(t,e)},subset:function zie(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>EF(t[n],e[n]))},ignored:()=>!0};function TF(t,e,n){return Bie[n.paths](t.root,e.root,n.matrixParams)&&CF[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function DF(t,e,n){return xF(t,e,e.segments,n)}function xF(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Od(i,n)||e.hasChildren()||!o1(i,n,r))}if(t.segments.length===n.length){if(!Od(t.segments,n)||!o1(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!DF(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Od(t.segments,i)&&o1(t.segments,i,r)&&t.children[tn])&&xF(t.children[tn],e,o,r)}}function o1(t,e,n){return e.every((r,i)=>CF[n](t[i].parameters,r.parameters))}class Gf{constructor(e=new zn([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qf(this.queryParams)),this._queryParamMap}toString(){return Gie.serialize(this)}}class zn{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return s1(this)}}class Rm{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=qf(this.parameters)),this._parameterMap}toString(){return RF(this)}}function Od(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Mm=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=yt({token:t,factory:function(){return new JA},providedIn:"root"})}}return t})();class JA{parse(e){const n=new noe(e);return new Gf(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${km(e.root,!0)}`,r=function Kie(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${a1(n)}=${a1(i)}`).join("&"):`${a1(n)}=${a1(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function Hie(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Gie=new JA;function s1(t){return t.segments.map(e=>RF(e)).join("/")}function km(t,e){if(!t.hasChildren())return s1(t);if(e){const n=t.children[tn]?km(t.children[tn],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==tn&&r.push(`${i}:${km(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function qie(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===tn&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==tn&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===tn?[km(t.children[tn],!1)]:[`${i}:${km(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[tn]?`${s1(t)}/${n[0]}`:`${s1(t)}/(${n.join("//")})`}}function PF(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function a1(t){return PF(t).replace(/%3B/gi,";")}function XA(t){return PF(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function u1(t){return decodeURIComponent(t)}function NF(t){return u1(t.replace(/\+/g,"%20"))}function RF(t){return`${XA(t.path)}${function Wie(t){return Object.keys(t).map(e=>`;${XA(e)}=${XA(t[e])}`).join("")}(t.parameters)}`}const Qie=/^[^\/()?;#]+/;function eC(t){const e=t.match(Qie);return e?e[0]:""}const Yie=/^[^\/()?;=#]+/,Jie=/^[^=?&#]+/,eoe=/^[^&#]+/;class noe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zn([],{}):new zn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[tn]=new zn(e,n)),r}parseSegment(){const e=eC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new je(4009,!1);return this.capture(e),new Rm(u1(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Zie(t){const e=t.match(Yie);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=eC(this.remaining);i&&(r=i,this.capture(r))}e[u1(n)]=u1(r)}parseQueryParam(e){const n=function Xie(t){const e=t.match(Jie);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function toe(t){const e=t.match(eoe);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=NF(n),o=NF(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=eC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new je(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=tn);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[tn]:new zn([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new je(4011,!1)}}function MF(t){return t.segments.length>0?new zn([],{[tn]:t}):t}function kF(t){const e={};for(const r of Object.keys(t.children)){const o=kF(t.children[r]);if(r===tn&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function roe(t){if(1===t.numberOfChildren&&t.children[tn]){const e=t.children[tn];return new zn(t.segments.concat(e.segments),e.children)}return t}(new zn(t.segments,e))}function Ld(t){return t instanceof Gf}function OF(t){let e;const i=MF(function n(o){const s={};for(const u of o.children){const l=n(u);s[u.outlet]=l}const a=new zn(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function LF(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return tC(i,i,i,n,r);const o=function ooe(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new VF(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new VF(n,e,r)}(e);if(o.toRoot())return tC(i,i,new zn([],{}),n,r);const s=function soe(t,e,n){if(t.isAbsolute)return new c1(e,!0,0);if(!n)return new c1(e,!1,NaN);if(null===n.parent)return new c1(n,!0,0);const r=l1(t.commands[0])?0:1;return function aoe(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new je(4005,!1);i=r.segments.length}return new c1(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?Lm(s.segmentGroup,s.index,o.commands):UF(s.segmentGroup,s.index,o.commands);return tC(i,s.segmentGroup,a,n,r)}function l1(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Om(t){return"object"==typeof t&&null!=t&&t.outlets}function tC(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(c=>`${c}`):`${l}`}),s=t===e?n:FF(t,e,n);const a=MF(kF(s));return new Gf(a,o,i)}function FF(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:FF(o,e,n)}),new zn(t.segments,r)}class VF{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&l1(r[0]))throw new je(4003,!1);const i=r.find(Om);if(i&&i!==AF(r))throw new je(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class c1{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function UF(t,e,n){if(t||(t=new zn([],{})),0===t.segments.length&&t.hasChildren())return Lm(t,e,n);const r=function loe(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Om(a))break;const u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!jF(u,l,s))return o;r+=2}else{if(!jF(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new zn(t.segments.slice(0,r.pathIndex),{});return o.children[tn]=new zn(t.segments.slice(r.pathIndex),t.children),Lm(o,0,i)}return r.match&&0===i.length?new zn(t.segments,{}):r.match&&!t.hasChildren()?nC(t,e,n):r.match?Lm(t,0,i):nC(t,e,n)}function Lm(t,e,n){if(0===n.length)return new zn(t.segments,{});{const r=function uoe(t){return Om(t[0])?t[0].outlets:{[tn]:t}}(n),i={};if(Object.keys(r).some(o=>o!==tn)&&t.children[tn]&&1===t.numberOfChildren&&0===t.children[tn].segments.length){const o=Lm(t.children[tn],e,n);return new zn(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=UF(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new zn(t.segments,i)}}function nC(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Om(o)){const u=coe(o.outlets);return new zn(r,u)}if(0===i&&l1(n[0])){r.push(new Rm(t.segments[e].path,BF(n[0]))),i++;continue}const s=Om(o)?o.outlets[tn]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&l1(a)?(r.push(new Rm(s,BF(a))),i+=2):(r.push(new Rm(s,{})),i++)}return new zn(r,{})}function coe(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=nC(new zn([],{}),0,r))}),e}function BF(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function jF(t,e,n){return t==n.path&&au(e,n.parameters)}const Fm="imperative";class uu{constructor(e,n){this.id=e,this.url=n}}class d1 extends uu{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class lc extends uu{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vm extends uu{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hf extends uu{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class h1 extends uu{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zF extends uu{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class doe extends uu{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hoe extends uu{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class foe extends uu{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class poe extends uu{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class goe{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class moe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _oe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class voe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yoe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class boe{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $F{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class rC{}class iC{constructor(e){this.url=e}}class woe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Um,this.attachRef=null}}let Um=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new woe,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class qF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=oC(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=oC(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=sC(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sC(e,this._root).map(n=>n.value)}}function oC(t,e){if(t===e.value)return e;for(const n of e.children){const r=oC(t,n);if(r)return r}return null}function sC(t,e){if(t===e.value)return[e];for(const n of e.children){const r=sC(t,n);if(r.length)return r.unshift(e),r}return[]}class ol{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Wf(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class GF extends qF{constructor(e,n){super(e),this.snapshot=n,aC(this,e)}toString(){return this.snapshot.toString()}}function HF(t,e){const n=function Ioe(t,e){const s=new f1([],{},{},"",{},tn,e,null,{});return new KF("",new ol(s,[]))}(0,e),r=new Es([new Rm("",{})]),i=new Es({}),o=new Es({}),s=new Es({}),a=new Es(""),u=new Kf(r,i,s,a,o,tn,e,n.root);return u.snapshot=n.root,new GF(new ol(u,[]),n)}class Kf{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(pn(l=>l[Nm]))??Mt(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(pn(e=>qf(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(pn(e=>qf(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function WF(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Eoe(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class f1{get title(){return this.data?.[Nm]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class KF extends qF{constructor(e,n){super(n),this.url=e,aC(this,n)}toString(){return QF(this._root)}}function aC(t,e){e.value._routerState=t,e.children.forEach(n=>aC(t,n))}function QF(t){const e=t.children.length>0?` { ${t.children.map(QF).join(", ")} } `:"";return`${t.value}${e}`}function uC(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,au(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),au(e.params,n.params)||t.paramsSubject.next(n.params),function Uie(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!au(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),au(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function lC(t,e){const n=au(t.params,e.params)&&function $ie(t,e){return Od(t,e)&&t.every((n,r)=>au(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||lC(t.parent,e.parent))}let cC=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=tn,this.activateEvents=new Qn,this.deactivateEvents=new Qn,this.attachEvents=new Qn,this.detachEvents=new Qn,this.parentContexts=st(Um),this.location=st(xa),this.changeDetector=st(F0),this.environmentInjector=st(ea),this.inputBinder=st(p1,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new je(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new je(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new je(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new je(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Aoe(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=$t({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ts]})}}return t})();class Aoe{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Kf?this.route:e===Um?this.childContexts:this.parent.get(e,n)}}const p1=new it("");let YF=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=WA([r.queryParams,r.params,r.data]).pipe(Zo(([o,s,a],u)=>(a={...o,...s,...a},0===u?Mt(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function Zte(t){const e=wn(t);if(!e)return null;const n=new sm(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac})}}return t})();function Bm(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Toe(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Bm(t,r,i);return Bm(t,r)})}(t,e,n);return new ol(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Bm(t,a)),s}}const r=function Soe(t){return new Kf(new Es(t.url),new Es(t.params),new Es(t.queryParams),new Es(t.fragment),new Es(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>Bm(t,o));return new ol(r,i)}}const dC="ngNavigationCancelingError";function ZF(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ld(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=JF(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function JF(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[dC]=!0,r.cancellationCode=e,n&&(r.url=n),r}function XF(t){return t&&t[dC]}let e6=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ys({type:t,selectors:[["ng-component"]],standalone:!0,features:[n3],decls:1,vars:0,template:function(r,i){1&r&&Re(0,"router-outlet")},dependencies:[cC],encapsulation:2})}}return t})();function hC(t){const e=t.children&&t.children.map(hC),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==tn&&(n.component=e6),n}function Ra(t){return t.outlet||tn}function jm(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Ooe{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),uC(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Wf(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Wf(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Wf(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Wf(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new boe(o.value.snapshot))}),e.children.length&&this.forwardEvent(new voe(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(uC(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),uC(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=jm(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class t6{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class g1{constructor(e,n){this.component=e,this.route=n}}function Loe(t,e,n){const r=t._root;return zm(r,e?e._root:null,n,[r.value])}function Qf(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function uH(t){return null!==py(t)}(t)?e.get(t):t:r}function zm(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Wf(e);return t.children.forEach(s=>{(function Voe(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function Uoe(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Od(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Od(t.url,e.url)||!au(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lC(t,e)||!au(t.queryParams,e.queryParams);default:return!lC(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new t6(r)):(o.data=s.data,o._resolvedData=s._resolvedData),zm(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new g1(a.outlet.component,s))}else s&&$m(e,a,i),i.canActivateChecks.push(new t6(r)),zm(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>$m(a,n.getContext(s),i)),i}function $m(t,e,n){const r=Wf(t),i=t.value;Object.entries(r).forEach(([o,s])=>{$m(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new g1(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function qm(t){return"function"==typeof t}function n6(t){return t instanceof Dm||"EmptyError"===t?.name}const m1=Symbol("INITIAL_VALUE");function Yf(){return Zo(t=>WA(t.map(e=>e.pipe(ss(1),function Nie(...t){const e=Cg(t);return Zr((n,r)=>{(e?xm(t,n,e):xm(t,n)).subscribe(r)})}(m1)))).pipe(pn(e=>{for(const n of e)if(!0!==n){if(n===m1)return m1;if(!1===n||n instanceof Gf)return n}return!0}),as(e=>e!==m1),ss(1)))}function r6(t){return function uG(...t){return gN(t)}(Mi(e=>{if(Ld(e))throw ZF(0,e)}),pn(e=>!0===e))}class _1{constructor(e){this.segmentGroup=e||null}}class i6{constructor(e){this.urlTree=e}}function Zf(t){return $f(new _1(t))}function o6(t){return $f(new i6(t))}class ose{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new je(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Mt(r);if(i.numberOfChildren>1||!i.children[tn])return $f(new je(4e3,!1));i=i.children[tn]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new Gf(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new zn(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new je(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const fC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sse(t,e,n,r,i){const o=pC(t,e,n);return o.matched?(r=function xoe(t,e){return t.providers&&!t._injector&&(t._injector=jE(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function nse(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Mt(i.map(s=>{const a=Qf(s,t);return uc(function Goe(t){return t&&qm(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Yf(),r6()):Mt(!0)}(r,e,n).pipe(pn(s=>!0===s?o:{...fC}))):Mt(o)}function pC(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...fC}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Vie)(n,t,e);if(!i)return{...fC};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function s6(t,e,n,r){return n.length>0&&function lse(t,e,n){return n.some(r=>v1(t,e,r)&&Ra(r)!==tn)}(t,n,r)?{segmentGroup:new zn(e,use(r,new zn(n,t.children))),slicedSegments:[]}:0===n.length&&function cse(t,e,n){return n.some(r=>v1(t,e,r))}(t,n,r)?{segmentGroup:new zn(t.segments,ase(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new zn(t.segments,t.children),slicedSegments:n}}function ase(t,e,n,r,i){const o={};for(const s of r)if(v1(t,n,s)&&!i[Ra(s)]){const a=new zn([],{});o[Ra(s)]=a}return{...i,...o}}function use(t,e){const n={};n[tn]=e;for(const r of t)if(""===r.path&&Ra(r)!==tn){const i=new zn([],{});n[Ra(r)]=i}return n}function v1(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class pse{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new ose(this.urlSerializer,this.urlTree)}noMatchError(e){return new je(4002,!1)}recognize(){const e=s6(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,tn).pipe(kd(n=>{if(n instanceof i6)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof _1?this.noMatchError(n):n}),pn(n=>{const r=new f1([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},tn,this.rootComponentType,null,{}),i=new ol(r,n),o=new KF("",i),s=function ioe(t,e,n=null,r=null){return LF(OF(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,tn).pipe(kd(r=>{throw r instanceof _1?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=WF(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Ri(i).pipe(Pm(o=>{const s=r.children[o],a=function Moe(t,e){const n=t.filter(r=>Ra(r)===e);return n.push(...t.filter(r=>Ra(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function kie(t,e){return Zr(function Mie(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(Jr(s,c=>{const d=l++;u=a?t(u,c,d):(a=!0,c),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),i1(null),function Oie(t,e){const n=arguments.length>=2;return r=>r.pipe(t?as((i,o)=>t(i,o,r)):Kl,YA(1),n?i1(e):wF(()=>new Dm))}(),wi(o=>{if(null===o)return Zf(r);const s=a6(o);return function gse(t){t.sort((e,n)=>e.value.outlet===tn?-1:n.value.outlet===tn?1:e.value.outlet.localeCompare(n.value.outlet))}(s),Mt(s)}))}processSegment(e,n,r,i,o,s){return Ri(n).pipe(Pm(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(kd(u=>{if(u instanceof _1)return Mt(null);throw u}))),Md(a=>!!a),kd(a=>{if(n6(a))return function hse(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?Mt([]):Zf(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function dse(t,e,n,r){return!!(Ra(t)===r||r!==tn&&v1(e,n,t))&&("**"===t.path||pC(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Zf(i):Zf(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?o6(o):this.applyRedirects.lineralizeSegments(r,o).pipe(wi(s=>{const a=new zn(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:c}=pC(n,i,o);if(!a)return Zf(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return i.redirectTo.startsWith("/")?o6(d):this.applyRedirects.lineralizeSegments(i,d).pipe(wi(g=>this.processSegment(e,r,n,g.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const u=i.length>0?AF(i).parameters:{};a=Mt({snapshot:new f1(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,u6(r),Ra(r),r.component??r._loadedComponent??null,r,l6(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=sse(n,r,i,e).pipe(pn(({matched:u,consumedSegments:l,remainingSegments:c,parameters:d})=>u?{snapshot:new f1(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,u6(r),Ra(r),r.component??r._loadedComponent??null,r,l6(r)),consumedSegments:l,remainingSegments:c}:null));return a.pipe(Zo(u=>null===u?Zf(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Zo(({routes:l})=>{const c=r._loadedInjector??e,{snapshot:d,consumedSegments:g,remainingSegments:p}=u,{segmentGroup:b,slicedSegments:w}=s6(n,g,p,l);if(0===w.length&&b.hasChildren())return this.processChildren(c,l,b).pipe(pn(A=>null===A?null:[new ol(d,A)]));if(0===l.length&&0===w.length)return Mt([new ol(d,[])]);const E=Ra(r)===o;return this.processSegment(c,l,b,w,E?tn:o,!0).pipe(pn(A=>[new ol(d,A)]))}))))}getChildConfig(e,n,r){return n.children?Mt({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Mt({routes:n._loadedRoutes,injector:n._loadedInjector}):function tse(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Mt(!0):Mt(i.map(s=>{const a=Qf(s,t);return uc(function joe(t){return t&&qm(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Yf(),r6())}(e,n,r).pipe(wi(i=>i?this.configLoader.loadChildren(e,n).pipe(Mi(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function ise(t){return $f(JF(!1,3))}())):Mt({routes:[],injector:e})}}function mse(t){const e=t.value.routeConfig;return e&&""===e.path}function a6(t){const e=[],n=new Set;for(const r of t){if(!mse(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=a6(r.children);e.push(new ol(r.value,i))}return e.filter(r=>!n.has(r))}function u6(t){return t.data||{}}function l6(t){return t.resolve||{}}function c6(t){return"string"==typeof t.title||null===t.title}function gC(t){return Zo(e=>{const n=t(e);return n?Ri(n).pipe(pn(()=>e)):Mt(e)})}const Jf=new it("ROUTES");let mC=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=st(K3)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Mt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=uc(n.loadComponent()).pipe(pn(d6),Mi(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ZA(()=>{this.componentLoaders.delete(n)})),i=new QA(r,()=>new Yo).pipe(KA());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Mt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function Ese(t,e,n,r){return uc(t.loadChildren()).pipe(pn(d6),wi(i=>i instanceof e3||Array.isArray(i)?Mt(i):Ri(e.compileModuleAsync(i))),pn(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(Jf,[],{optional:!0,self:!0}).flat()),{routes:s.map(hC),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(ZA(()=>{this.childrenLoaders.delete(r)})),s=new QA(o,()=>new Yo).pipe(KA());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function d6(t){return function Ase(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let y1=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Yo,this.transitionAbortSubject=new Yo,this.configLoader=st(mC),this.environmentInjector=st(ea),this.urlSerializer=st(Mm),this.rootContexts=st(Um),this.inputBindingEnabled=null!==st(p1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Mt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new moe(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new goe(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Es({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fm,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(as(o=>0!==o.id),pn(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),Zo(o=>{this.currentTransition=o;let s=!1,a=!1;return Mt(o).pipe(Mi(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Zo(u=>{const l=u.currentBrowserUrl.toString(),c=!n.navigated||u.extractedUrl.toString()!==l||l!==u.currentUrlTree.toString();if(!c&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const g="";return this.events.next(new Hf(u.id,this.urlSerializer.serialize(u.rawUrl),g,0)),u.resolve(null),Ya}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Mt(u).pipe(Zo(g=>{const p=this.transitions?.getValue();return this.events.next(new d1(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),p!==this.transitions?.getValue()?Ya:Promise.resolve(g)}),function _se(t,e,n,r,i,o){return wi(s=>function fse(t,e,n,r,i,o,s="emptyOnly"){return new pse(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(pn(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Mi(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const p=new zF(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(p)}));if(c&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:g,extractedUrl:p,source:b,restoredState:w,extras:E}=u,A=new d1(g,this.urlSerializer.serialize(p),b,w);this.events.next(A);const R=HF(0,this.rootComponentType).snapshot;return this.currentTransition=o={...u,targetSnapshot:R,urlAfterRedirects:p,extras:{...E,skipLocationChange:!1,replaceUrl:!1}},Mt(o)}{const g="";return this.events.next(new Hf(u.id,this.urlSerializer.serialize(u.extractedUrl),g,1)),u.resolve(null),Ya}}),Mi(u=>{const l=new doe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),pn(u=>(this.currentTransition=o={...u,guards:Loe(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},o)),function Woe(t,e){return wi(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Mt({...n,guardsResult:!0}):function Koe(t,e,n,r){return Ri(t).pipe(wi(i=>function ese(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Mt(o.map(a=>{const u=jm(e)??i,l=Qf(a,u);return uc(function qoe(t){return t&&qm(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):u.runInContext(()=>l(t,e,n,r))).pipe(Md())})).pipe(Yf()):Mt(!0)}(i.component,i.route,n,e,r)),Md(i=>!0!==i,!0))}(s,r,i,t).pipe(wi(a=>a&&function Boe(t){return"boolean"==typeof t}(a)?function Qoe(t,e,n,r){return Ri(e).pipe(Pm(i=>xm(function Zoe(t,e){return null!==t&&e&&e(new _oe(t)),Mt(!0)}(i.route.parent,r),function Yoe(t,e){return null!==t&&e&&e(new yoe(t)),Mt(!0)}(i.route,r),function Xoe(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Foe(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>r1(()=>Mt(s.guards.map(u=>{const l=jm(s.node)??n,c=Qf(u,l);return uc(function $oe(t){return t&&qm(t.canActivateChild)}(c)?c.canActivateChild(r,t):l.runInContext(()=>c(r,t))).pipe(Md())})).pipe(Yf())));return Mt(o).pipe(Yf())}(t,i.path,n),function Joe(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Mt(!0);const i=r.map(o=>r1(()=>{const s=jm(e)??n,a=Qf(o,s);return uc(function zoe(t){return t&&qm(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(Md())}));return Mt(i).pipe(Yf())}(t,i.route,n))),Md(i=>!0!==i,!0))}(r,o,t,e):Mt(a)),pn(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),Mi(u=>{if(o.guardsResult=u.guardsResult,Ld(u.guardsResult))throw ZF(0,u.guardsResult);const l=new hoe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),as(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),gC(u=>{if(u.guards.canActivateChecks.length)return Mt(u).pipe(Mi(l=>{const c=new foe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Zo(l=>{let c=!1;return Mt(l).pipe(function vse(t,e){return wi(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Mt(n);let o=0;return Ri(i).pipe(Pm(s=>function yse(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!c6(i)&&(o[Nm]=i.title),function bse(t,e,n,r){const i=function wse(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Mt({});const o={};return Ri(i).pipe(wi(s=>function Ise(t,e,n,r){const i=jm(e)??r,o=Qf(t,i);return uc(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(Md(),Mi(a=>{o[s]=a}))),YA(1),IF(o),kd(s=>n6(s)?Ya:$f(s)))}(o,t,e,r).pipe(pn(s=>(t._resolvedData=s,t.data=WF(t,n).resolve,i&&c6(i)&&(t.data[Nm]=i.title),null)))}(s.route,r,t,e)),Mi(()=>o++),YA(1),wi(s=>o===i.length?Mt(n):Ya))})}(n.paramsInheritanceStrategy,this.environmentInjector),Mi({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(l,"",2)}}))}),Mi(l=>{const c=new poe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}))}),gC(u=>{const l=c=>{const d=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(c.routeConfig).pipe(Mi(g=>{c.component=g}),pn(()=>{})));for(const g of c.children)d.push(...l(g));return d};return WA(l(u.targetSnapshot.root)).pipe(i1(),ss(1))}),gC(()=>this.afterPreactivation()),pn(u=>{const l=function Coe(t,e,n){const r=Bm(t,e._root,n?n._root:void 0);return new GF(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o={...u,targetRouterState:l},o}),Mi(()=>{this.events.next(new rC)}),((t,e,n,r)=>pn(i=>(new Ooe(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),ss(1),Mi({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new lc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),function Lie(t){return Zr((e,n)=>{lo(t).subscribe(Jr(n,()=>n.complete(),gd)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Mi(u=>{throw u}))),ZA(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),kd(u=>{if(a=!0,XF(u))this.events.next(new Vm(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),function Doe(t){return XF(t)&&Ld(t.url)}(u)?this.events.next(new iC(u.url)):o.resolve(!1);else{this.events.next(new h1(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(u))}catch(l){o.reject(l)}}return Ya}))}))}cancelNavigationTransition(n,r,i){const o=new Vm(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function h6(t){return t!==Fm}let f6=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===tn);return r}getResolvedTitleForRoute(n){return n.data[Nm]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=yt({token:t,factory:function(){return st(Cse)},providedIn:"root"})}}return t})(),Cse=(()=>{class t extends f6{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(gt(pF))}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Tse=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=yt({token:t,factory:function(){return st(Dse)},providedIn:"root"})}}return t})();class Sse{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Dse=(()=>{class t extends Sse{static{this.\u0275fac=function(){let n;return function(i){return(n||(n=Ki(t)))(i||t)}}()}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const b1=new it("",{providedIn:"root",factory:()=>({})});let xse=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=yt({token:t,factory:function(){return st(Pse)},providedIn:"root"})}}return t})(),Pse=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Gm=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Gm||{});function p6(t,e){t.events.pipe(as(n=>n instanceof lc||n instanceof Vm||n instanceof h1||n instanceof Hf),pn(n=>n instanceof lc||n instanceof Hf?Gm.COMPLETE:n instanceof Vm&&(0===n.code||1===n.code)?Gm.REDIRECTING:Gm.FAILED),as(n=>n!==Gm.REDIRECTING),ss(1)).subscribe(()=>{e()})}function Nse(t){throw t}function Rse(t,e,n){return e.parse("/")}const Mse={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kse={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bo=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=st(H3),this.isNgZoneEnabled=!1,this._events=new Yo,this.options=st(b1,{optional:!0})||{},this.pendingTasks=st(W3),this.errorHandler=this.options.errorHandler||Nse,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Rse,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=st(xse),this.routeReuseStrategy=st(Tse),this.titleStrategy=st(f6),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=st(Jf,{optional:!0})?.flat()??[],this.navigationTransitions=st(y1),this.urlSerializer=st(Mm),this.location=st(bA),this.componentInputBindingEnabled=!!st(p1,{optional:!0}),this.eventsSubscription=new Ni,this.isNgZoneEnabled=st(On)instanceof On&&On.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Gf,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=HF(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(g6(r)&&this._events.next(r));if(r instanceof d1)h6(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Hf)this.rawUrlTree=i.rawUrl;else if(r instanceof zF){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof rC)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Vm)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof iC){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||h6(i.source)};this.scheduleNavigation(o,Fm,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof h1&&this.restoreHistory(i,!0),r instanceof lc&&(this.navigated=!0),g6(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Fm,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(hC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s;let d,c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...o};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=o||null}null!==c&&(c=this.removeEmptyProps(c));try{d=OF(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return LF(d,n,c,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ld(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Fm,null,r)}navigate(n,r={skipLocationChange:!1}){return function Ose(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new je(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...Mse}:!1===r?{...kse}:r,Ld(n))return TF(this.currentUrlTree,n,i);const o=this.parseUrl(n);return TF(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((d,g)=>{a=d,u=g});const c=this.pendingTasks.add();return p6(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function g6(t){return!(t instanceof rC||t instanceof iC)}let Hm=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Yo,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof lc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function tk(t,e,n){return function pQ(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?ek:XM}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(Oe(Bo),Oe(Kf),function Oy(t){return function kW(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(WN(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(Wi(),t)}("tabindex"),Oe(Qu),Oe(Ds),Oe(Nd))}}static{this.\u0275dir=$t({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&ze("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Qi("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",jf],skipLocationChange:["skipLocationChange","skipLocationChange",jf],replaceUrl:["replaceUrl","replaceUrl",jf],routerLink:"routerLink"},standalone:!0,features:[gO,ts]})}}return t})(),m6=(()=>{class t{get isActive(){return this._isActive}constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Qn,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof lc&&this.update()})}ngAfterContentInit(){Mt(this.links.changes,Mt(null)).pipe(qh()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ri(n).pipe(qh()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const n=this.hasActiveLinks();this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function Lse(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&n.isActive(i.urlTree,r)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static{this.\u0275fac=function(r){return new(r||t)(Oe(Bo),Oe(Ds),Oe(Qu),Oe(F0),Oe(Hm,8))}}static{this.\u0275dir=$t({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(1&r&&function T3(t,e,n,r){const i=In();if(i.firstCreatePass){const o=Wi();D3(i,new E3(e,n,r),o.index),function wee(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}S3(i,Le(),n)}(o,Hm,5),2&r){let s;YE(s=ZE())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[ts]})}}return t})();class _6{}let Fse=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(as(n=>n instanceof lc),Pm(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=jE(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ri(i).pipe(qh())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Mt(null);const o=i.pipe(wi(s=>null===s?Mt(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?Ri([o,this.loader.loadComponent(r)]).pipe(qh()):o})}static{this.\u0275fac=function(r){return new(r||t)(gt(Bo),gt(K3),gt(ea),gt(_6),gt(mC))}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const _C=new it("");let v6=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof d1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof lc?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Hf&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof $F&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $F(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function zk(){throw new Error("invalid")}()}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac})}}return t})();function sl(t,e){return{\u0275kind:t,\u0275providers:e}}function b6(){const t=st(fo);return e=>{const n=t.get(xd);if(e!==n.components[0])return;const r=t.get(Bo),i=t.get(w6);1===t.get(vC)&&r.initialNavigation(),t.get(I6,null,cn.Optional)?.setUpPreloading(),t.get(_C,null,cn.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const w6=new it("",{factory:()=>new Yo}),vC=new it("",{providedIn:"root",factory:()=>1}),I6=new it("");function jse(t){return sl(0,[{provide:I6,useExisting:Fse},{provide:_6,useExisting:t}])}const E6=new it("ROUTER_FORROOT_GUARD"),$se=[bA,{provide:Mm,useClass:JA},Bo,Um,{provide:Kf,useFactory:function y6(t){return t.routerState.root},deps:[Bo]},mC,[]];function qse(){return new tL("Router",Bo)}let A6=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[$se,[],{provide:Jf,multi:!0,useValue:n},{provide:E6,useFactory:Kse,deps:[[Bo,new Xs,new Vy]]},{provide:b1,useValue:r||{}},r?.useHash?{provide:Nd,useClass:nne}:{provide:Nd,useClass:RL},{provide:_C,useFactory:()=>{const t=st(bre),e=st(On),n=st(b1),r=st(y1),i=st(Mm);return n.scrollOffset&&t.setOffset(n.scrollOffset),new v6(i,r,t,e,n)}},r?.preloadingStrategy?jse(r.preloadingStrategy).\u0275providers:[],{provide:tL,multi:!0,useFactory:qse},r?.initialNavigation?Qse(r):[],r?.bindToComponentInputs?sl(8,[YF,{provide:p1,useExisting:YF}]).\u0275providers:[],[{provide:C6,useFactory:b6},{provide:cA,multi:!0,useExisting:C6}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Jf,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(gt(E6,8))}}static{this.\u0275mod=Xo({type:t})}static{this.\u0275inj=xo({})}}return t})();function Kse(t){return"guarded"}function Qse(t){return["disabled"===t.initialNavigation?sl(3,[{provide:M0,multi:!0,useFactory:()=>{const e=st(Bo);return()=>{e.setUpLocationChangeListener()}}},{provide:vC,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?sl(2,[{provide:vC,useValue:0},{provide:M0,multi:!0,deps:[fo],useFactory:e=>{const n=e.get(ene,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Bo),o=e.get(w6);p6(i,()=>{r(!0)}),e.get(y1).afterPreactivation=()=>(r(!0),o.closed?Mt(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const C6=new it("");let Zse=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ys({type:t,selectors:[["app-homepage"]],decls:64,vars:0,consts:[[1,"container","mt-2"],[1,"row","justify-content-center","mb-4"],[1,"col-12","col-md-8","col-lg-6"],[1,"card","shadow","rounded-4","overflow-hidden"],[1,"position-relative"],["routerLink","/squadra",1,"text-decoration-none","d-block"],["src","assets/images/thunders.JPG","alt","Punto Volley CR ASD Thunders",1,"img-fluid","w-100","team-image-enhanced","clickable-image"],[1,"position-absolute","bottom-0","start-0","end-0","bg-dark","bg-opacity-75","text-white","text-center","py-3"],[1,"mb-0","fw-bold"],[1,"opacity-75"],[1,"bi","bi-arrow-right-circle","me-1"],[1,"row","justify-content-center","mb-5"],[1,"card","shadow"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"bi","bi-calendar3","me-2"],[1,"card-body"],[1,"row","g-3"],[1,"col-12","col-sm-6","col-md-4","mb-2"],[1,"text-center","p-3","bg-light","rounded","h-100"],[1,"text-primary","mb-2"],[1,"bi","bi-clock","me-1"],[1,"mb-1","fw-bold"],[1,"text-muted"],[1,"col-12","col-md-4","mb-2"],[1,"text-center","p-3","bg-light","rounded","h-100","position-relative"],[1,"bi","bi-calendar-event","me-1"],["routerLink","/calendario",1,"text-decoration-none","stretched-link"],[1,"text-primary","fw-semibold"],[1,"mt-4","text-center"],["href","https://www.google.com/maps?q=Via+Ercolano+11,+Castel+Gandolfo,+Italy","target","_blank",1,"text-decoration-none","d-block"],[1,"bg-primary","bg-opacity-10","rounded","p-3","position-relative","maps-link"],[1,"text-muted","mb-2"],[1,"bi","bi-geo-alt-fill","me-1"],[1,"mb-1","small","text-primary","fw-semibold"],[1,"text-muted","mb-1"],[1,"text-primary"],[1,"bi","bi-box-arrow-up-right","me-1"]],template:function(r,i){1&r&&(Q(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),Re(6,"img",6),Q(7,"div",7)(8,"h4",8),ce(9,"Punto Volley Thunders 2025/2026"),G(),Q(10,"small",9),Re(11,"i",10),ce(12," Clicca per vedere la squadra "),G()()()()()()(),Q(13,"div",11)(14,"div",2)(15,"div",12)(16,"div",13)(17,"h4",14),Re(18,"i",15),ce(19," I nostri appuntamenti "),G()(),Q(20,"div",16)(21,"div",17)(22,"div",18)(23,"div",19)(24,"h5",20),Re(25,"i",21),ce(26," Marted\xec "),G(),Q(27,"p",22),ce(28,"20:30 - 22:30"),G(),Q(29,"small",23),ce(30,"Allenamento"),G()()(),Q(31,"div",18)(32,"div",19)(33,"h5",20),Re(34,"i",21),ce(35," Venerd\xec "),G(),Q(36,"p",22),ce(37,"20:15 - 22:15"),G(),Q(38,"small",23),ce(39,"Allenamento"),G()()(),Q(40,"div",24)(41,"div",25)(42,"h5",20),Re(43,"i",26),ce(44," Partite "),G(),Q(45,"a",27)(46,"small",28),Re(47,"i",10),ce(48," Vedi calendario "),G()()()()(),Q(49,"div",29)(50,"a",30)(51,"div",31)(52,"p",32),Re(53,"i",33),Q(54,"strong"),ce(55,"Sede ufficiale"),G()(),Q(56,"p",34),ce(57,"Via Ercolano 11, Castel Gandolfo"),G(),Q(58,"p",35)(59,"small"),ce(60,"Palestra Scuola Pontificia Paolo VI"),G()(),Q(61,"small",36),Re(62,"i",37),ce(63," Clicca per aprire in Google Maps "),G()()()()()()()()())},dependencies:[Hm],styles:[".team-image-enhanced[_ngcontent-%COMP%]{object-fit:cover;height:400px;max-height:50vh;object-position:center;transition:transform .3s ease,filter .3s ease}.clickable-image[_ngcontent-%COMP%]:hover{transform:scale(1.02);filter:brightness(1.1);cursor:pointer}.maps-link[_ngcontent-%COMP%]{transition:all .3s ease}.maps-link[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026;background-color:var(--bs-primary)!important;background-opacity:.2!important}@media (max-width: 768px){.team-image-enhanced[_ngcontent-%COMP%]{height:300px;max-height:45vh}.maps-link[_ngcontent-%COMP%]:hover{transform:none}}@media (max-width: 480px){.team-image-enhanced[_ngcontent-%COMP%]{height:250px;max-height:40vh}.clickable-image[_ngcontent-%COMP%]:hover{transform:none}}"]})}}return t})();var ne=ws(467);const T6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},S6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0;let g=(15&a)<<2|l>>6,p=63&l;u||(p=64,s||(g=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[g],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(T6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==l||null==d)throw new tae;r.push(o<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const w1=function(t){return function(t){const e=T6(t);return S6.encodeByteArray(e,!0)}(t).replace(/\./g,"")},I1=function(t){try{return S6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},E1=()=>{try{return function iae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&I1(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},x6=()=>{var t;return null===(t=E1())||void 0===t?void 0:t.config};class P6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Yi(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class al extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,al.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wm.prototype.create)}}class Wm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function bae(t,e){return t.replace(wae,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new al(i,`${this.serviceName}: ${s} (${i}).`,r)}}const wae=/\{\$([^}]+)}/g;function Km(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(k6(o)&&k6(s)){if(!Km(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function k6(t){return null!==t&&"object"==typeof t}function bC(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Eae{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Aae(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=wC),void 0===i.error&&(i.error=wC),void 0===i.complete&&(i.complete=wC);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wC(){}function Zi(t){return t&&t._delegate?t._delegate:t}class Fd{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Vd="[DEFAULT]";class Pae{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new P6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Rae(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Vd})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Vd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,ne.A)(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Vd){return this.instances.has(e)}getOptions(e=Vd){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Vd?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Vd){return this.component?this.component.multipleInstances?e:Vd:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Mae{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Pae(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const EC=[];var gn=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(gn||{});const O6={debug:gn.DEBUG,verbose:gn.VERBOSE,info:gn.INFO,warn:gn.WARN,error:gn.ERROR,silent:gn.SILENT},kae=gn.INFO,Oae={[gn.DEBUG]:"log",[gn.VERBOSE]:"log",[gn.INFO]:"info",[gn.WARN]:"warn",[gn.ERROR]:"error"},Lae=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Oae[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class AC{constructor(e){this.name=e,this._logLevel=kae,this._logHandler=Lae,this._userLogHandler=null,EC.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in gn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?O6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,gn.DEBUG,...e),this._logHandler(this,gn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,gn.VERBOSE,...e),this._logHandler(this,gn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,gn.INFO,...e),this._logHandler(this,gn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,gn.WARN,...e),this._logHandler(this,gn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,gn.ERROR,...e),this._logHandler(this,gn.ERROR,...e)}}const Fae=(t,e)=>e.some(n=>t instanceof n);let L6,F6;const V6=new WeakMap,CC=new WeakMap,U6=new WeakMap,TC=new WeakMap,SC=new WeakMap;let DC={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return CC.get(t);if("objectStoreNames"===e)return t.objectStoreNames||U6.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cc(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function qae(t){return"function"==typeof t?function $ae(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Uae(){return F6||(F6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(xC(this),e),cc(V6.get(this))}:function(...e){return cc(t.apply(xC(this),e))}:function(e,...n){const r=t.call(xC(this),e,...n);return U6.set(r,e.sort?e.sort():[e]),cc(r)}}(t):(t instanceof IDBTransaction&&function jae(t){if(CC.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});CC.set(t,e)}(t),Fae(t,function Vae(){return L6||(L6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,DC):t)}function cc(t){if(t instanceof IDBRequest)return function Bae(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(cc(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&V6.set(n,t)}).catch(()=>{}),SC.set(e,t),e}(t);if(TC.has(t))return TC.get(t);const e=qae(t);return e!==t&&(TC.set(t,e),SC.set(e,t)),e}const xC=t=>SC.get(t),Hae=["get","getKey","getAll","getAllKeys","count"],Wae=["put","add","delete","clear"],PC=new Map;function B6(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(PC.get(e))return PC.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Wae.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Hae.includes(n))return;const o=function(){var s=(0,ne.A)(function*(a,...u){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(yield Promise.all([c[n](...u),i&&l.done]))[0]});return function(u){return s.apply(this,arguments)}}();return PC.set(e,o),o}!function zae(t){DC=t(DC)}(t=>({...t,get:(e,n,r)=>B6(e,n)||t.get(e,n,r),has:(e,n)=>!!B6(e,n)||t.has(e,n)}));class Kae{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Qae(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const C1="@firebase/app",NC="0.10.13",ul=new AC("@firebase/app"),T1="[DEFAULT]",Eue={[C1]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Ud=new Map,Qm=new Map,Ym=new Map;function j6(t,e){try{t.container.addComponent(e)}catch(n){ul.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xf(t){const e=t.name;if(Ym.has(e))return ul.debug(`There were multiple attempts to register component ${e}.`),!1;Ym.set(e,t);for(const n of Ud.values())j6(n,t);for(const n of Qm.values())j6(n,t);return!0}function Bd(t){return void 0!==t.settings}const oa=new Wm("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class $6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oa.create("app-deleted",{appName:this._name})}}const S1="10.14.1";function q6(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:T1,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw oa.create("bad-app-name",{appName:String(i)});if(n||(n=x6()),!n)throw oa.create("no-options");const o=Ud.get(i);if(o){if(Km(n,o.options)&&Km(r,o.config))return o;throw oa.create("duplicate-app",{appName:i})}const s=new Mae(i);for(const u of Ym.values())s.addComponent(u);const a=new $6(n,r,s);return Ud.set(i,a),a}function G6(t=T1){const e=Ud.get(t);if(!e&&t===T1&&x6())return q6();if(!e)throw oa.create("no-app",{appName:t});return e}function H6(){return Array.from(Ud.values())}function Ns(t,e,n){var r;let i=null!==(r=Eue[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ul.warn(a.join(" "))}Xf(new Fd(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Due="firebase-heartbeat-database",xue=1,Zm="firebase-heartbeat-store";let MC=null;function W6(){return MC||(MC=function Gae(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=cc(s);return r&&s.addEventListener("upgradeneeded",u=>{r(cc(s.result),u.oldVersion,u.newVersion,cc(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(Due,xue,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(Zm)}catch(n){console.warn(n)}}}).catch(t=>{throw oa.create("idb-open",{originalErrorMessage:t.message})})),MC}function kC(){return(kC=(0,ne.A)(function*(t){try{const n=(yield W6()).transaction(Zm),r=yield n.objectStore(Zm).get(Q6(t));return yield n.done,r}catch(e){if(e instanceof al)ul.warn(e.message);else{const n=oa.create("idb-get",{originalErrorMessage:e?.message});ul.warn(n.message)}}})).apply(this,arguments)}function K6(t,e){return OC.apply(this,arguments)}function OC(){return(OC=(0,ne.A)(function*(t,e){try{const r=(yield W6()).transaction(Zm,"readwrite");yield r.objectStore(Zm).put(e,Q6(t)),yield r.done}catch(n){if(n instanceof al)ul.warn(n.message);else{const r=oa.create("idb-set",{originalErrorMessage:n?.message});ul.warn(r.message)}}})).apply(this,arguments)}function Q6(t){return`${t.name}!${t.options.appId}`}class Mue{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Oue(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return(0,ne.A)(function*(){var n,r;try{const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Y6();return null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===s||e._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=2592e6}),e._storage.overwrite(e._heartbeatsCache))}catch(i){ul.warn(i)}})()}getHeartbeatsHeader(){var e=this;return(0,ne.A)(function*(){var n;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=Y6(),{heartbeatsToSend:i,unsentEntries:o}=function kue(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Z6(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Z6(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=w1(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s}catch(r){return ul.warn(r),""}})()}}function Y6(){return(new Date).toISOString().substring(0,10)}class Oue{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,ne.A)(function*(){return!!function R6(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function vae(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,ne.A)(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function Pue(t){return kC.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return(0,ne.A)(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return K6(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return(0,ne.A)(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return K6(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function Z6(t){return w1(JSON.stringify({version:2,heartbeats:t})).length}!function Lue(t){Xf(new Fd("platform-logger",e=>new Kae(e),"PRIVATE")),Xf(new Fd("heartbeat",e=>new Mue(e),"PRIVATE")),Ns(C1,NC,t),Ns(C1,NC,"esm2017"),Ns("fire-js","")}(""),Ns("firebase","10.14.1","app");class Uue extends Ni{constructor(e,n){super()}schedule(e,n=0){return this}}const D1={setInterval(t,e,...n){const{delegate:r}=D1;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=D1;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class J6 extends Uue{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return D1.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&D1.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Wl(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const X6={now:()=>(X6.delegate||Date).now(),delegate:void 0};class Jm{constructor(e,n=Jm.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Jm.now=X6.now;class e8 extends Jm{constructor(e,n=Jm.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const zue=new class jue extends e8{}(class Bue extends J6{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),LC=new e8(J6),$ue=LC,FC=new Ef("ANGULARFIRE2_VERSION");const VC=(t,e)=>{const n=e?[e]:H6(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class que{constructor(){return VC(Gue)}}const Gue="app-check";function ep(){}class n8{zone;delegate;constructor(e,n=zue){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class Hue{zone;task=null;constructor(e){this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ep,{},ep,ep)),n.pipe(Mi({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let r8=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new n8(Zone.current)),this.insideAngular=n.run(()=>new n8(Zone.current,LC)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(gt(On))};static \u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tp(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function jd(t){return tp().ngZone.run(()=>t())}function Kue(t){return function Que(t){return function(n){return(n=n.lift(new Hue(t.ngZone))).pipe(dy(t.outsideAngular),cy(t.insideAngular))}}(tp())(t)}const Yue=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),jd(()=>t.apply(void 0,r))},lu=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||=jd(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ep,{},ep,ep))),r[o]=Yue(r[o],n));const i=function Wue(t){return tp().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof tr){const o=tp();return i.pipe(dy(o.outsideAngular),cy(o.insideAngular))}return jd(()=>i)}return i instanceof tr?i.pipe(Kue):i instanceof Promise?jd(()=>new Promise((o,s)=>i.then(a=>jd(()=>o(a)),a=>jd(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:jd(()=>i)};class Xm{constructor(e){return e}}class i8{constructor(){return H6()}}const UC=new it("angularfire2._apps"),Jue={provide:Xm,useFactory:function Zue(t){return t&&1===t.length?t[0]:new Xm(G6())},deps:[[new Xs,UC]]},Xue={provide:i8,deps:[[new Xs,UC]]};function ele(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Xm(r)}}let tle=(()=>{class t{constructor(n){Ns("angularfire",FC.full,"core"),Ns("angularfire",FC.full,"app"),Ns("angular",_k.full,n.toString())}static \u0275fac=function(r){return new(r||t)(gt(Ku))};static \u0275mod=Xo({type:t});static \u0275inj=xo({providers:[Jue,Xue]})}return t})();function nle(t,...e){return{ngModule:tle,providers:[{provide:UC,useFactory:ele(t),multi:!0,deps:[On,fo,r8,...e]}]}}const rle=lu(q6,!0);const ile=function o8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},s8=new Wm("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),x1=new AC("@firebase/auth");function P1(t,...e){x1.logLevel<=gn.ERROR&&x1.error(`Auth (${S1}): ${t}`,...e)}function us(t,...e){throw jC(t,...e)}function sa(t,...e){return jC(t,...e)}function BC(t,e,n){const r=Object.assign(Object.assign({},ile()),{[e]:n});return new Wm("auth","Firebase",r).create(e,{appName:t.name})}function ki(t){return BC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jC(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return s8.create(t,...e)}function Ye(t,e,...n){if(!t)throw jC(e,...n)}function cu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw P1(e),new Error(e)}function dc(t,e){t||cu(e)}function a8(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function sle(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function zC(){return"http:"===a8()||"https:"===a8()}()||function mae(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class t_{constructor(e,n){this.shortDelay=e,this.longDelay=n,dc(n>e,"Short delay should be less than long delay!"),this.isMobile=function hae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yi())}()||function _ae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return sle()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class u8{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void cu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void cu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void cu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ule={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},lle=new t_(3e4,6e4);function yr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function br(t,e,n,r){return qC.apply(this,arguments)}function qC(){return(qC=(0,ne.A)(function*(t,e,n,r,i={}){return l8(t,i,(0,ne.A)(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=bC(Object.assign({key:t.config.apiKey},s)).slice(1),u=yield t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:u},o);return function gae(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(l.referrerPolicy="no-referrer"),u8.fetch()(c8(t,t.config.apiHost,n,a),l)}))})).apply(this,arguments)}function l8(t,e,n){return GC.apply(this,arguments)}function GC(){return(GC=(0,ne.A)(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ule),e);try{const i=new dle(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw n_(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw n_(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===u)throw n_(t,"email-already-in-use",s);if("USER_DISABLED"===u)throw n_(t,"user-disabled",s);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw BC(t,c,l);us(t,c)}}catch(i){if(i instanceof al)throw i;us(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function c8(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function $C(t,e){dc(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class dle{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(sa(this.auth,"network-request-failed")),lle.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function n_(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=sa(t,e,r);return i.customData._tokenResponse=n,i}function QC(){return(QC=(0,ne.A)(function*(t,e){return br(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function g8(t,e){return ZC.apply(this,arguments)}function ZC(){return(ZC=(0,ne.A)(function*(t,e){return br(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function r_(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function JC(){return(JC=(0,ne.A)(function*(t,e=!1){const n=Zi(t),r=yield n.getIdToken(e),i=N1(r);Ye(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:r_(XC(i.auth_time)),issuedAtTime:r_(XC(i.iat)),expirationTime:r_(XC(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function XC(t){return 1e3*Number(t)}function N1(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return P1("JWT malformed, contained fewer than 3 sections"),null;try{const i=I1(n);return i?JSON.parse(i):(P1("Failed to decode base64 JWT payload"),null)}catch(i){return P1("Caught error parsing JWT payload as JSON",i?.toString()),null}}function m8(t){const e=N1(t);return Ye(e,"internal-error"),Ye(typeof e.exp<"u","internal-error"),Ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function cl(t,e){return eT.apply(this,arguments)}function eT(){return(eT=(0,ne.A)(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof al&&function mle({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class _le{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,ne.A)(function*(){yield n.iteration()}),r)}iteration(){var e=this;return(0,ne.A)(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class tT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=r_(this.lastLoginAt),this.creationTime=r_(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function i_(t){return nT.apply(this,arguments)}function nT(){return(nT=(0,ne.A)(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield cl(t,g8(n,{idToken:r}));Ye(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?_8(o.providerUserInfo):[],a=function yle(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),c=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new tT(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)})).apply(this,arguments)}function rT(){return(rT=(0,ne.A)(function*(t){const e=Zi(t);yield i_(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function _8(t){return t.map(e=>{var{providerId:n}=e,r=ly(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function iT(){return(iT=(0,ne.A)(function*(t,e){const n=yield l8(t,{},(0,ne.A)(function*(){const r=bC({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=c8(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",u8.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function oT(){return(oT=(0,ne.A)(function*(t,e){return br(t,"POST","/v2/accounts:revokeToken",yr(t,e))})).apply(this,arguments)}class rp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ye(e.idToken,"internal-error"),Ye(typeof e.idToken<"u","internal-error"),Ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):m8(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ye(0!==e.length,"internal-error");const n=m8(e);this.updateTokensAndExpiration(e,null,n)}getToken(e){var n=this;return(0,ne.A)(function*(r,i=!1){return i||!n.accessToken||n.isExpired?(Ye(n.refreshToken,r,"user-token-expired"),n.refreshToken?(yield n.refresh(r,n.refreshToken),n.accessToken):null):n.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return(0,ne.A)(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function ble(t,e){return iT.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new rp;return r&&(Ye("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(Ye("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(Ye("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rp,this.toJSON())}_performRefresh(){return cu("not implemented")}}function hc(t,e){Ye("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class dl{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=ly(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _le(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new tT(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return(0,ne.A)(function*(){const r=yield cl(n,n.stsTokenManager.getToken(n.auth,e));return Ye(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function gle(t){return JC.apply(this,arguments)}(this,e)}reload(){return function vle(t){return rT.apply(this,arguments)}(this)}_assign(e){this!==e&&(Ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new dl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e){var n=this;return(0,ne.A)(function*(r,i=!1){let o=!1;r.idToken&&r.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(r),o=!0),i&&(yield i_(n)),yield n.auth._persistUserIfCurrent(n),o&&n.auth._notifyListenersIfCurrent(n)}).apply(this,arguments)}delete(){var e=this;return(0,ne.A)(function*(){if(Bd(e.auth.app))return Promise.reject(ki(e.auth));const n=yield e.getIdToken();return yield cl(e,function fle(t,e){return QC.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,c;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,g=null!==(i=n.email)&&void 0!==i?i:void 0,p=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,b=null!==(s=n.photoURL)&&void 0!==s?s:void 0,w=null!==(a=n.tenantId)&&void 0!==a?a:void 0,E=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,A=null!==(l=n.createdAt)&&void 0!==l?l:void 0,R=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,{uid:V,emailVerified:O,isAnonymous:Z,providerData:ie,stsTokenManager:B}=n;Ye(V&&B,e,"internal-error");const D=rp.fromJSON(this.name,B);Ye("string"==typeof V,e,"internal-error"),hc(d,e.name),hc(g,e.name),Ye("boolean"==typeof O,e,"internal-error"),Ye("boolean"==typeof Z,e,"internal-error"),hc(p,e.name),hc(b,e.name),hc(w,e.name),hc(E,e.name),hc(A,e.name),hc(R,e.name);const S=new dl({uid:V,auth:e,email:g,emailVerified:O,displayName:d,isAnonymous:Z,photoURL:b,phoneNumber:p,tenantId:w,stsTokenManager:D,createdAt:A,lastLoginAt:R});return ie&&Array.isArray(ie)&&(S.providerData=ie.map(L=>Object.assign({},L))),E&&(S._redirectEventId=E),S}static _fromIdTokenResponse(e,n){return(0,ne.A)(function*(r,i,o=!1){const s=new rp;s.updateFromServerResponse(i);const a=new dl({uid:i.localId,auth:r,stsTokenManager:s,isAnonymous:o});return yield i_(a),a}).apply(this,arguments)}static _fromGetAccountInfoResponse(e,n,r){return(0,ne.A)(function*(){const i=n.users[0];Ye(void 0!==i.localId,"internal-error");const o=void 0!==i.providerUserInfo?_8(i.providerUserInfo):[],s=!(i.email&&i.passwordHash||o?.length),a=new rp;a.updateFromIdToken(r);const u=new dl({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new tT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||o?.length)};return Object.assign(u,l),u})()}}const v8=new Map;function hl(t){dc(t instanceof Function,"Expected a class definition");let e=v8.get(t);return e?(dc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,v8.set(t,e),e)}const y8=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ne.A)(function*(){return!0})()}_set(n,r){var i=this;return(0,ne.A)(function*(){i.storage[n]=r})()}_get(n){var r=this;return(0,ne.A)(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return(0,ne.A)(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function R1(t,e,n){return`firebase:${t}:${e}:${n}`}class ip{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=R1(this.userKey,i.apiKey,o),this.fullPersistenceKey=R1("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,ne.A)(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?dl._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return(0,ne.A)(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n){return(0,ne.A)(function*(r,i,o="authUser"){if(!i.length)return new ip(hl(y8),r,o);const s=(yield Promise.all(i.map(function(){var d=(0,ne.A)(function*(g){if(yield g._isAvailable())return g});return function(g){return d.apply(this,arguments)}}()))).filter(d=>d);let a=s[0]||hl(y8);const u=R1(o,r.config.apiKey,r.name);let l=null;for(const d of i)try{const g=yield d._get(u);if(g){const p=dl._fromJSON(r,g);d!==a&&(l=p),a=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return a._shouldAllowMigration&&c.length?(a=c[0],l&&(yield a._set(u,l.toJSON())),yield Promise.all(i.map(function(){var d=(0,ne.A)(function*(g){if(g!==a)try{yield g._remove(u)}catch{}});return function(g){return d.apply(this,arguments)}}())),new ip(a,r,o)):new ip(a,r,o)}).apply(this,arguments)}}function b8(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function A8(t=Yi()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function w8(t=Yi()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function T8(t=Yi()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function S8(t=Yi()){return/webos/i.test(t)}(e))return"Webos";if(function I8(t=Yi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function E8(t=Yi()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function C8(t=Yi()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function D8(t,e=[]){let n;switch(t){case"Browser":n=b8(Yi());break;case"Worker":n=`${b8(Yi())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${S1}/${r}`}class Ale{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return(0,ne.A)(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function aT(){return(aT=(0,ne.A)(function*(t,e={}){return br(t,"GET","/v2/passwordPolicy",yr(t,e))})).apply(this,arguments)}class Sle{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(n=u.meetsMinPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.meetsMaxPasswordLength)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsLowercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(o=u.containsUppercaseLetter)||void 0===o||o),u.isValid&&(u.isValid=null===(s=u.containsNumericCharacter)||void 0===s||s),u.isValid&&(u.isValid=null===(a=u.containsNonAlphanumericCharacter)||void 0===a||a),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class Dle{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x8(this),this.idTokenSubscription=new x8(this),this.beforeStateQueue=new Ale(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s8,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=hl(n)),this._initializationPromise=this.queue((0,ne.A)(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield ip.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,ne.A)(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUserFromIdToken(e){var n=this;return(0,ne.A)(function*(){try{const r=yield g8(n,{idToken:e}),i=yield dl._fromGetAccountInfoResponse(n,r,e);yield n.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield n.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var n=this;return(0,ne.A)(function*(){var r;if(Bd(n.app)){const a=n.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>n.initializeCurrentUserFromIdToken(a).then(u,u))}):n.directlySetCurrentUser(null)}const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=o?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===u)&&l?.user&&(o=l.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return Ye(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return(0,ne.A)(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return(0,ne.A)(function*(){try{yield i_(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function ale(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return(0,ne.A)(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return(0,ne.A)(function*(){if(Bd(n.app))return Promise.reject(ki(n));const r=e?Zi(e):null;return r&&Ye(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e){var n=this;return(0,ne.A)(function*(r,i=!1){if(!n._deleted)return r&&Ye(n.tenantId===r.tenantId,n,"tenant-id-mismatch"),i||(yield n.beforeStateQueue.runMiddleware(r)),n.queue((0,ne.A)(function*(){yield n.directlySetCurrentUser(r),n.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var e=this;return(0,ne.A)(function*(){return Bd(e.app)?Promise.reject(ki(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var n=this;return Bd(this.app)?Promise.reject(ki(this)):this.queue((0,ne.A)(function*(){yield n.assertedPersistence.setPersistence(hl(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return(0,ne.A)(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,ne.A)(function*(){const n=yield function Cle(t){return aT.apply(this,arguments)}(e),r=new Sle(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){var n=this;return(0,ne.A)(function*(){if(n.currentUser){const r=yield n.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=n.tenantId&&(i.tenantId=n.tenantId),yield function wle(t,e){return oT.apply(this,arguments)}(n,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return(0,ne.A)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return(0,ne.A)(function*(){if(!n.redirectPersistenceManager){const r=e&&hl(e)||n._popupRedirectResolver;Ye(r,n,"argument-error"),n.redirectPersistenceManager=yield ip.create(n,[hl(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return(0,ne.A)(function*(){var r,i;return n._isInitialized&&(yield n.queue((0,ne.A)(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return(0,ne.A)(function*(){if(e===n.currentUser)return n.queue((0,ne.A)(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ye(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}{const u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){var n=this;return(0,ne.A)(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=D8(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,ne.A)(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return(0,ne.A)(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function ole(t,...e){x1.logLevel<=gn.WARN&&x1.warn(`Auth (${S1}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class x8{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Iae(t,e){const n=new Eae(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let o_={loadJS:()=>(0,ne.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};(function P8(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new t_(3e4,6e4),new t_(2e3,1e4),new t_(3e4,6e4),new t_(5e3,15e3),encodeURIComponent("fac");var lV="@firebase/auth";class Rde{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return(0,ne.A)(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}E1(),function xle(t){o_=t}({loadJS:t=>new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=sa("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function Vde(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function kde(t){Xf(new Fd("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ye(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D8(t)},l=new Dle(r,i,o,u);return function Fle(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(hl);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xf(new Fd("auth-internal",e=>{const n=function ni(t){return Zi(t)}(e.getProvider("auth").getImmediate());return new Rde(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ns(lV,"1.7.9",function Mde(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(t)),Ns(lV,"1.7.9","esm2017")}("Browser");class fV{constructor(){return VC("auth")}}var qd,mV,pV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gV={};(function(){var t;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(B,D,S){S||(S=0);var L=Array(16);if("string"==typeof D)for(var C=0;16>C;++C)L[C]=D.charCodeAt(S++)|D.charCodeAt(S++)<<8|D.charCodeAt(S++)<<16|D.charCodeAt(S++)<<24;else for(C=0;16>C;++C)L[C]=D[S++]|D[S++]<<8|D[S++]<<16|D[S++]<<24;var x=B.g[3],P=(D=B.g[0])+(x^(S=B.g[1])&((C=B.g[2])^x))+L[0]+3614090360&4294967295;P=(S=(C=(x=(D=(S=(C=(x=(D=(S=(C=(x=(D=(S=(C=(x=(D=(S=(C=(x=(D=(S=(C=(x=(D=(S=(C=(x=(D=(S=(C=(x=(D=(S=(C=(x=(D=(S=(C=(x=(D=(S=(C=(x=(D=(S=(C=(x=(D=(S=(C=(x=(D=(S=(C=(x=(D=(S=(C=(x=(D=S+(P<<7&4294967295|P>>>25))+((P=x+(C^D&(S^C))+L[1]+3905402710&4294967295)<<12&4294967295|P>>>20))+((P=C+(S^x&(D^S))+L[2]+606105819&4294967295)<<17&4294967295|P>>>15))+((P=S+(D^C&(x^D))+L[3]+3250441966&4294967295)<<22&4294967295|P>>>10))+((P=D+(x^S&(C^x))+L[4]+4118548399&4294967295)<<7&4294967295|P>>>25))+((P=x+(C^D&(S^C))+L[5]+1200080426&4294967295)<<12&4294967295|P>>>20))+((P=C+(S^x&(D^S))+L[6]+2821735955&4294967295)<<17&4294967295|P>>>15))+((P=S+(D^C&(x^D))+L[7]+4249261313&4294967295)<<22&4294967295|P>>>10))+((P=D+(x^S&(C^x))+L[8]+1770035416&4294967295)<<7&4294967295|P>>>25))+((P=x+(C^D&(S^C))+L[9]+2336552879&4294967295)<<12&4294967295|P>>>20))+((P=C+(S^x&(D^S))+L[10]+4294925233&4294967295)<<17&4294967295|P>>>15))+((P=S+(D^C&(x^D))+L[11]+2304563134&4294967295)<<22&4294967295|P>>>10))+((P=D+(x^S&(C^x))+L[12]+1804603682&4294967295)<<7&4294967295|P>>>25))+((P=x+(C^D&(S^C))+L[13]+4254626195&4294967295)<<12&4294967295|P>>>20))+((P=C+(S^x&(D^S))+L[14]+2792965006&4294967295)<<17&4294967295|P>>>15))+((P=S+(D^C&(x^D))+L[15]+1236535329&4294967295)<<22&4294967295|P>>>10))+((P=D+(C^x&(S^C))+L[1]+4129170786&4294967295)<<5&4294967295|P>>>27))+((P=x+(S^C&(D^S))+L[6]+3225465664&4294967295)<<9&4294967295|P>>>23))+((P=C+(D^S&(x^D))+L[11]+643717713&4294967295)<<14&4294967295|P>>>18))+((P=S+(x^D&(C^x))+L[0]+3921069994&4294967295)<<20&4294967295|P>>>12))+((P=D+(C^x&(S^C))+L[5]+3593408605&4294967295)<<5&4294967295|P>>>27))+((P=x+(S^C&(D^S))+L[10]+38016083&4294967295)<<9&4294967295|P>>>23))+((P=C+(D^S&(x^D))+L[15]+3634488961&4294967295)<<14&4294967295|P>>>18))+((P=S+(x^D&(C^x))+L[4]+3889429448&4294967295)<<20&4294967295|P>>>12))+((P=D+(C^x&(S^C))+L[9]+568446438&4294967295)<<5&4294967295|P>>>27))+((P=x+(S^C&(D^S))+L[14]+3275163606&4294967295)<<9&4294967295|P>>>23))+((P=C+(D^S&(x^D))+L[3]+4107603335&4294967295)<<14&4294967295|P>>>18))+((P=S+(x^D&(C^x))+L[8]+1163531501&4294967295)<<20&4294967295|P>>>12))+((P=D+(C^x&(S^C))+L[13]+2850285829&4294967295)<<5&4294967295|P>>>27))+((P=x+(S^C&(D^S))+L[2]+4243563512&4294967295)<<9&4294967295|P>>>23))+((P=C+(D^S&(x^D))+L[7]+1735328473&4294967295)<<14&4294967295|P>>>18))+((P=S+(x^D&(C^x))+L[12]+2368359562&4294967295)<<20&4294967295|P>>>12))+((P=D+(S^C^x)+L[5]+4294588738&4294967295)<<4&4294967295|P>>>28))+((P=x+(D^S^C)+L[8]+2272392833&4294967295)<<11&4294967295|P>>>21))+((P=C+(x^D^S)+L[11]+1839030562&4294967295)<<16&4294967295|P>>>16))+((P=S+(C^x^D)+L[14]+4259657740&4294967295)<<23&4294967295|P>>>9))+((P=D+(S^C^x)+L[1]+2763975236&4294967295)<<4&4294967295|P>>>28))+((P=x+(D^S^C)+L[4]+1272893353&4294967295)<<11&4294967295|P>>>21))+((P=C+(x^D^S)+L[7]+4139469664&4294967295)<<16&4294967295|P>>>16))+((P=S+(C^x^D)+L[10]+3200236656&4294967295)<<23&4294967295|P>>>9))+((P=D+(S^C^x)+L[13]+681279174&4294967295)<<4&4294967295|P>>>28))+((P=x+(D^S^C)+L[0]+3936430074&4294967295)<<11&4294967295|P>>>21))+((P=C+(x^D^S)+L[3]+3572445317&4294967295)<<16&4294967295|P>>>16))+((P=S+(C^x^D)+L[6]+76029189&4294967295)<<23&4294967295|P>>>9))+((P=D+(S^C^x)+L[9]+3654602809&4294967295)<<4&4294967295|P>>>28))+((P=x+(D^S^C)+L[12]+3873151461&4294967295)<<11&4294967295|P>>>21))+((P=C+(x^D^S)+L[15]+530742520&4294967295)<<16&4294967295|P>>>16))+((P=S+(C^x^D)+L[2]+3299628645&4294967295)<<23&4294967295|P>>>9))+((P=D+(C^(S|~x))+L[0]+4096336452&4294967295)<<6&4294967295|P>>>26))+((P=x+(S^(D|~C))+L[7]+1126891415&4294967295)<<10&4294967295|P>>>22))+((P=C+(D^(x|~S))+L[14]+2878612391&4294967295)<<15&4294967295|P>>>17))+((P=S+(x^(C|~D))+L[5]+4237533241&4294967295)<<21&4294967295|P>>>11))+((P=D+(C^(S|~x))+L[12]+1700485571&4294967295)<<6&4294967295|P>>>26))+((P=x+(S^(D|~C))+L[3]+2399980690&4294967295)<<10&4294967295|P>>>22))+((P=C+(D^(x|~S))+L[10]+4293915773&4294967295)<<15&4294967295|P>>>17))+((P=S+(x^(C|~D))+L[1]+2240044497&4294967295)<<21&4294967295|P>>>11))+((P=D+(C^(S|~x))+L[8]+1873313359&4294967295)<<6&4294967295|P>>>26))+((P=x+(S^(D|~C))+L[15]+4264355552&4294967295)<<10&4294967295|P>>>22))+((P=C+(D^(x|~S))+L[6]+2734768916&4294967295)<<15&4294967295|P>>>17))+((P=S+(x^(C|~D))+L[13]+1309151649&4294967295)<<21&4294967295|P>>>11))+((x=(D=S+((P=D+(C^(S|~x))+L[4]+4149444226&4294967295)<<6&4294967295|P>>>26))+((P=x+(S^(D|~C))+L[11]+3174756917&4294967295)<<10&4294967295|P>>>22))^((C=x+((P=C+(D^(x|~S))+L[2]+718787259&4294967295)<<15&4294967295|P>>>17))|~D))+L[9]+3951481745&4294967295,B.g[0]=B.g[0]+D&4294967295,B.g[1]=B.g[1]+(C+(P<<21&4294967295|P>>>11))&4294967295,B.g[2]=B.g[2]+C&4294967295,B.g[3]=B.g[3]+x&4294967295}function s(B,D){this.h=D;for(var S=[],L=!0,C=B.length-1;0<=C;C--){var x=0|B[C];L&&x==D||(S[C]=x,L=!1)}this.g=S}(function e(B,D){function S(){}S.prototype=D.prototype,B.D=D.prototype,B.prototype=new S,B.prototype.constructor=B,B.C=function(L,C,x){for(var P=Array(arguments.length-2),X=2;X<arguments.length;X++)P[X-2]=arguments[X];return D.prototype[C].apply(L,P)}})(r,function n(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(B,D){void 0===D&&(D=B.length);for(var S=D-this.blockSize,L=this.B,C=this.h,x=0;x<D;){if(0==C)for(;x<=S;)i(this,B,x),x+=this.blockSize;if("string"==typeof B){for(;x<D;)if(L[C++]=B.charCodeAt(x++),C==this.blockSize){i(this,L),C=0;break}}else for(;x<D;)if(L[C++]=B[x++],C==this.blockSize){i(this,L),C=0;break}}this.h=C,this.o+=D},r.prototype.v=function(){var B=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);B[0]=128;for(var D=1;D<B.length-8;++D)B[D]=0;var S=8*this.o;for(D=B.length-8;D<B.length;++D)B[D]=255&S,S/=256;for(this.u(B),B=Array(16),D=S=0;4>D;++D)for(var L=0;32>L;L+=8)B[S++]=this.g[D]>>>L&255;return B};var a={};function u(B){return-128<=B&&128>B?function o(B,D){var S=a;return Object.prototype.hasOwnProperty.call(S,B)?S[B]:S[B]=D(B)}(B,function(D){return new s([0|D],0>D?-1:0)}):new s([0|B],0>B?-1:0)}function l(B){if(isNaN(B)||!isFinite(B))return d;if(0>B)return E(l(-B));for(var D=[],S=1,L=0;B>=S;L++)D[L]=B/S|0,S*=4294967296;return new s(D,0)}var d=u(0),g=u(1),p=u(16777216);function b(B){if(0!=B.h)return!1;for(var D=0;D<B.g.length;D++)if(0!=B.g[D])return!1;return!0}function w(B){return-1==B.h}function E(B){for(var D=B.g.length,S=[],L=0;L<D;L++)S[L]=~B.g[L];return new s(S,~B.h).add(g)}function A(B,D){return B.add(E(D))}function R(B,D){for(;(65535&B[D])!=B[D];)B[D+1]+=B[D]>>>16,B[D]&=65535,D++}function V(B,D){this.g=B,this.h=D}function O(B,D){if(b(D))throw Error("division by zero");if(b(B))return new V(d,d);if(w(B))return D=O(E(B),D),new V(E(D.g),E(D.h));if(w(D))return D=O(B,E(D)),new V(E(D.g),D.h);if(30<B.g.length){if(w(B)||w(D))throw Error("slowDivide_ only works with positive integers.");for(var S=g,L=D;0>=L.l(B);)S=Z(S),L=Z(L);var C=ie(S,1),x=ie(L,1);for(L=ie(L,2),S=ie(S,2);!b(L);){var P=x.add(L);0>=P.l(B)&&(C=C.add(S),x=P),L=ie(L,1),S=ie(S,1)}return D=A(B,C.j(D)),new V(C,D)}for(C=d;0<=B.l(D);){for(S=Math.max(1,Math.floor(B.m()/D.m())),L=48>=(L=Math.ceil(Math.log(S)/Math.LN2))?1:Math.pow(2,L-48),P=(x=l(S)).j(D);w(P)||0<P.l(B);)P=(x=l(S-=L)).j(D);b(x)&&(x=g),C=C.add(x),B=A(B,P)}return new V(C,B)}function Z(B){for(var D=B.g.length+1,S=[],L=0;L<D;L++)S[L]=B.i(L)<<1|B.i(L-1)>>>31;return new s(S,B.h)}function ie(B,D){var S=D>>5;D%=32;for(var L=B.g.length-S,C=[],x=0;x<L;x++)C[x]=0<D?B.i(x+S)>>>D|B.i(x+S+1)<<32-D:B.i(x+S);return new s(C,B.h)}(t=s.prototype).m=function(){if(w(this))return-E(this).m();for(var B=0,D=1,S=0;S<this.g.length;S++){var L=this.i(S);B+=(0<=L?L:4294967296+L)*D,D*=4294967296}return B},t.toString=function(B){if(2>(B=B||10)||36<B)throw Error("radix out of range: "+B);if(b(this))return"0";if(w(this))return"-"+E(this).toString(B);for(var D=l(Math.pow(B,6)),S=this,L="";;){var C=O(S,D).g,x=((0<(S=A(S,C.j(D))).g.length?S.g[0]:S.h)>>>0).toString(B);if(b(S=C))return x+L;for(;6>x.length;)x="0"+x;L=x+L}},t.i=function(B){return 0>B?0:B<this.g.length?this.g[B]:this.h},t.l=function(B){return w(B=A(this,B))?-1:b(B)?0:1},t.abs=function(){return w(this)?E(this):this},t.add=function(B){for(var D=Math.max(this.g.length,B.g.length),S=[],L=0,C=0;C<=D;C++){var x=L+(65535&this.i(C))+(65535&B.i(C)),P=(x>>>16)+(this.i(C)>>>16)+(B.i(C)>>>16);L=P>>>16,S[C]=(P&=65535)<<16|(x&=65535)}return new s(S,-2147483648&S[S.length-1]?-1:0)},t.j=function(B){if(b(this)||b(B))return d;if(w(this))return w(B)?E(this).j(E(B)):E(E(this).j(B));if(w(B))return E(this.j(E(B)));if(0>this.l(p)&&0>B.l(p))return l(this.m()*B.m());for(var D=this.g.length+B.g.length,S=[],L=0;L<2*D;L++)S[L]=0;for(L=0;L<this.g.length;L++)for(var C=0;C<B.g.length;C++){var x=this.i(L)>>>16,P=65535&this.i(L),X=B.i(C)>>>16,ge=65535&B.i(C);S[2*L+2*C]+=P*ge,R(S,2*L+2*C),S[2*L+2*C+1]+=x*ge,R(S,2*L+2*C+1),S[2*L+2*C+1]+=P*X,R(S,2*L+2*C+1),S[2*L+2*C+2]+=x*X,R(S,2*L+2*C+2)}for(L=0;L<D;L++)S[L]=S[2*L+1]<<16|S[2*L];for(L=D;L<2*D;L++)S[L]=0;return new s(S,0)},t.A=function(B){return O(this,B).h},t.and=function(B){for(var D=Math.max(this.g.length,B.g.length),S=[],L=0;L<D;L++)S[L]=this.i(L)&B.i(L);return new s(S,this.h&B.h)},t.or=function(B){for(var D=Math.max(this.g.length,B.g.length),S=[],L=0;L<D;L++)S[L]=this.i(L)|B.i(L);return new s(S,this.h|B.h)},t.xor=function(B){for(var D=Math.max(this.g.length,B.g.length),S=[],L=0;L<D;L++)S[L]=this.i(L)^B.i(L);return new s(S,this.h^B.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,mV=gV.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=function c(B,D){if(0==B.length)throw Error("number format error: empty string");if(2>(D=D||10)||36<D)throw Error("radix out of range: "+D);if("-"==B.charAt(0))return E(c(B.substring(1),D));if(0<=B.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=l(Math.pow(D,8)),L=d,C=0;C<B.length;C+=8){var x=Math.min(8,B.length-C),P=parseInt(B.substring(C,C+x),D);8>x?(x=l(Math.pow(D,x)),L=L.j(x).add(l(P))):L=(L=L.j(S)).add(l(P))}return L},qd=gV.Integer=s}).apply(typeof pV<"u"?pV:typeof self<"u"?self:typeof window<"u"?window:{});var _V,f_,vV,G1,Z5,yV,bV,wV,q1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gl={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(f,y,T){return f==Array.prototype||f==Object.prototype||(f[y]=T.value),f},r=function n(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof q1&&q1];for(var y=0;y<f.length;++y){var T=f[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}(this);!function i(f,y){if(y)e:{var T=r;f=f.split(".");for(var j=0;j<f.length-1;j++){var ue=f[j];if(!(ue in T))break e;T=T[ue]}(y=y(j=T[f=f[f.length-1]]))!=j&&null!=y&&e(T,f,{configurable:!0,writable:!0,value:y})}}("Array.prototype.values",function(f){return f||function(){return function o(f,y){f instanceof String&&(f+="");var T=0,j=!1,ue={next:function(){if(!j&&T<f.length){var ye=T++;return{value:y(ye,f[ye]),done:!1}}return j=!0,{done:!0,value:void 0}}};return ue[Symbol.iterator]=function(){return ue},ue}(this,function(y,T){return T})}});var s=s||{},a=this||self;function u(f){var y=typeof f;return"array"==(y="object"!=y?y:f?Array.isArray(f)?"array":y:"null")||"object"==y&&"number"==typeof f.length}function l(f){var y=typeof f;return"object"==y&&null!=f||"function"==y}function c(f,y,T){return f.call.apply(f.bind,arguments)}function d(f,y,T){if(!f)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var ue=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ue,j),f.apply(y,ue)}}return function(){return f.apply(y,arguments)}}function g(f,y,T){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?c:d).apply(null,arguments)}function p(f,y){var T=Array.prototype.slice.call(arguments,1);return function(){var j=T.slice();return j.push.apply(j,arguments),f.apply(this,j)}}function b(f,y){function T(){}T.prototype=y.prototype,f.aa=y.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(j,ue,ye){for(var We=Array(arguments.length-2),Sn=2;Sn<arguments.length;Sn++)We[Sn-2]=arguments[Sn];return y.prototype[ue].apply(j,We)}}function w(f){const y=f.length;if(0<y){const T=Array(y);for(let j=0;j<y;j++)T[j]=f[j];return T}return[]}function E(f,y){for(let T=1;T<arguments.length;T++){const j=arguments[T];if(u(j)){const ue=f.length||0,ye=j.length||0;f.length=ue+ye;for(let We=0;We<ye;We++)f[ue+We]=j[We]}else f.push(j)}}function R(f){return/^[\s\xa0]*$/.test(f)}function V(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function O(f){return O[" "](f),f}O[" "]=function(){};var Z=!(-1==V().indexOf("Gecko")||-1!=V().toLowerCase().indexOf("webkit")&&-1==V().indexOf("Edge")||-1!=V().indexOf("Trident")||-1!=V().indexOf("MSIE")||-1!=V().indexOf("Edge"));function ie(f,y,T){for(const j in f)y.call(T,f[j],j,f)}function D(f){const y={};for(const T in f)y[T]=f[T];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(f,y){let T,j;for(let ue=1;ue<arguments.length;ue++){for(T in j=arguments[ue],j)f[T]=j[T];for(let ye=0;ye<S.length;ye++)T=S[ye],Object.prototype.hasOwnProperty.call(j,T)&&(f[T]=j[T])}}function C(f){var y=1;f=f.split(":");const T=[];for(;0<y&&f.length;)T.push(f.shift()),y--;return f.length&&T.push(f.join(":")),T}function x(f){a.setTimeout(()=>{throw f},0)}function P(){var f=Ae;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}var ge=new class A{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}(()=>new Ee,f=>f.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,pe=!1,Ae=new class X{constructor(){this.h=this.g=null}add(y,T){const j=ge.get();j.set(y,T),this.h?this.h.next=j:this.g=j,this.h=j}},Ge=()=>{const f=a.Promise.resolve(void 0);Ie=()=>{f.then(ke)}};var ke=()=>{for(var f;f=P();){try{f.h.call(f.g)}catch(T){x(T)}var y=ge;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}pe=!1};function F(){this.s=this.s,this.C=this.C}function q(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},q.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};a.addEventListener("test",T,y),a.removeEventListener("test",T,y)}catch{}return f}();function te(f,y){if(q.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,j=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(Z){e:{try{O(y.nodeName);var ue=!0;break e}catch{}ue=!1}ue||(y=null)}}else"mouseover"==T?y=f.fromElement:"mouseout"==T&&(y=f.toElement);this.relatedTarget=y,j?(this.clientX=void 0!==j.clientX?j.clientX:j.pageX,this.clientY=void 0!==j.clientY?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType="string"==typeof f.pointerType?f.pointerType:se[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&te.aa.h.call(this)}}b(te,q);var se={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),ve=0;function we(f,y,T,j,ue){this.listener=f,this.proxy=null,this.src=y,this.type=T,this.capture=!!j,this.ha=ue,this.key=++ve,this.da=this.fa=!1}function De(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Te(f){this.src=f,this.g={},this.h=0}function Qe(f,y){var T=y.type;if(T in f.g){var ye,j=f.g[T],ue=Array.prototype.indexOf.call(j,y,void 0);(ye=0<=ue)&&Array.prototype.splice.call(j,ue,1),ye&&(De(y),0==f.g[T].length&&(delete f.g[T],f.h--))}}function Ke(f,y,T,j){for(var ue=0;ue<f.length;++ue){var ye=f[ue];if(!ye.da&&ye.listener==y&&ye.capture==!!T&&ye.ha==j)return ue}return-1}Te.prototype.add=function(f,y,T,j,ue){var ye=f.toString();(f=this.g[ye])||(f=this.g[ye]=[],this.h++);var We=Ke(f,y,j,ue);return-1<We?(y=f[We],T||(y.fa=!1)):((y=new we(y,this.src,ye,!!j,ue)).fa=T,f.push(y)),y};var Ce="closure_lm_"+(1e6*Math.random()|0),Y={};function rn(f,y,T,j,ue){if(j&&j.once)return $e(f,y,T,j,ue);if(Array.isArray(y)){for(var ye=0;ye<y.length;ye++)rn(f,y[ye],T,j,ue);return null}return T=kt(T),f&&f[de]?f.K(y,T,l(j)?!!j.capture:!!j,ue):Ut(f,y,T,!1,j,ue)}function Ut(f,y,T,j,ue,ye){if(!y)throw Error("Invalid event type");var We=l(ue)?!!ue.capture:!!ue,Sn=on(f);if(Sn||(f[Ce]=Sn=new Te(f)),(T=Sn.add(y,T,j,We,ye)).proxy)return T;if(j=function St(){const y=wt;return function f(T){return y.call(f.src,f.listener,T)}}(),T.proxy=j,j.src=f,j.listener=T,f.addEventListener)J||(ue=We),void 0===ue&&(ue=!1),f.addEventListener(y.toString(),j,ue);else if(f.attachEvent)f.attachEvent(Bt(y.toString()),j);else{if(!f.addListener||!f.removeListener)throw Error("addEventListener and attachEvent are unavailable.");f.addListener(j)}return T}function $e(f,y,T,j,ue){if(Array.isArray(y)){for(var ye=0;ye<y.length;ye++)$e(f,y[ye],T,j,ue);return null}return T=kt(T),f&&f[de]?f.L(y,T,l(j)?!!j.capture:!!j,ue):Ut(f,y,T,!0,j,ue)}function ht(f,y,T,j,ue){if(Array.isArray(y))for(var ye=0;ye<y.length;ye++)ht(f,y[ye],T,j,ue);else j=l(j)?!!j.capture:!!j,T=kt(T),f&&f[de]?(f=f.i,(y=String(y).toString())in f.g&&-1<(T=Ke(ye=f.g[y],T,j,ue))&&(De(ye[T]),Array.prototype.splice.call(ye,T,1),0==ye.length&&(delete f.g[y],f.h--))):f&&(f=on(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Ke(y,T,j,ue)),(T=-1<f?y[f]:null)&&Je(T))}function Je(f){if("number"!=typeof f&&f&&!f.da){var y=f.src;if(y&&y[de])Qe(y.i,f);else{var T=f.type,j=f.proxy;y.removeEventListener?y.removeEventListener(T,j,f.capture):y.detachEvent?y.detachEvent(Bt(T),j):y.addListener&&y.removeListener&&y.removeListener(j),(T=on(y))?(Qe(T,f),0==T.h&&(T.src=null,y[Ce]=null)):De(f)}}}function Bt(f){return f in Y?Y[f]:Y[f]="on"+f}function wt(f,y){if(f.da)f=!0;else{y=new te(y,this);var T=f.listener,j=f.ha||f.src;f.fa&&Je(f),f=T.call(j,y)}return f}function on(f){return(f=f[Ce])instanceof Te?f:null}var Pt="__closure_events_fn_"+(1e9*Math.random()>>>0);function kt(f){return"function"==typeof f?f:(f[Pt]||(f[Pt]=function(y){return f.handleEvent(y)}),f[Pt])}function Ht(){F.call(this),this.i=new Te(this),this.M=this,this.F=null}function mt(f,y){var T,j=f.F;if(j)for(T=[];j;j=j.F)T.push(j);if(f=f.M,j=y.type||y,"string"==typeof y)y=new q(y,f);else if(y instanceof q)y.target=y.target||f;else{var ue=y;L(y=new q(j,f),ue)}if(ue=!0,T)for(var ye=T.length-1;0<=ye;ye--){var We=y.g=T[ye];ue=dt(We,j,!0,y)&&ue}if(ue=dt(We=y.g=f,j,!0,y)&&ue,ue=dt(We,j,!1,y)&&ue,T)for(ye=0;ye<T.length;ye++)ue=dt(We=y.g=T[ye],j,!1,y)&&ue}function dt(f,y,T,j){if(!(y=f.i.g[String(y)]))return!0;y=y.concat();for(var ue=!0,ye=0;ye<y.length;++ye){var We=y[ye];if(We&&!We.da&&We.capture==T){var Sn=We.listener,jr=We.ha||We.src;We.fa&&Qe(f.i,We),ue=!1!==Sn.call(jr,j)&&ue}}return ue&&!j.defaultPrevented}function Nt(f,y,T){if("function"==typeof f)T&&(f=g(f,T));else{if(!f||"function"!=typeof f.handleEvent)throw Error("Invalid listener argument");f=g(f.handleEvent,f)}return 2147483647<Number(y)?-1:a.setTimeout(f,y||0)}function _t(f){f.g=Nt(()=>{f.g=null,f.i&&(f.i=!1,_t(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}b(Ht,F),Ht.prototype[de]=!0,Ht.prototype.removeEventListener=function(f,y,T,j){ht(this,f,y,T,j)},Ht.prototype.N=function(){if(Ht.aa.N.call(this),this.i){var y,f=this.i;for(y in f.g){for(var T=f.g[y],j=0;j<T.length;j++)De(T[j]);delete f.g[y],f.h--}}this.F=null},Ht.prototype.K=function(f,y,T,j){return this.i.add(String(f),y,!1,T,j)},Ht.prototype.L=function(f,y,T,j){return this.i.add(String(f),y,!0,T,j)};class Mn extends F{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:_t(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ln(f){F.call(this),this.h=f,this.g={}}b(ln,F);var He=[];function At(f){ie(f.g,function(y,T){this.g.hasOwnProperty(T)&&Je(y)},f),f.g={}}ln.prototype.N=function(){ln.aa.N.call(this),At(this)},ln.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wt=a.JSON.stringify,Ct=a.JSON.parse,Xt=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function vt(){}function Er(){}vt.prototype.h=null;var yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rt(){q.call(this,"d")}function fn(){q.call(this,"c")}b(Rt,q),b(fn,q);var ro={},Wr=null;function Ao(){return Wr=Wr||new Ht}function ji(f){q.call(this,ro.La,f)}function Dt(f){const y=Ao();mt(y,new ji(y))}function ha(f,y){q.call(this,ro.STAT_EVENT,f),this.stat=y}function Ar(f){const y=Ao();mt(y,new ha(y,f))}function qo(f,y){q.call(this,ro.Ma,f),this.size=y}function zi(f,y){if("function"!=typeof f)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},y)}function Zn(){this.g=!0}function fs(f,y,T,j){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+function Ls(f,y){if(!f.g)return y;if(!y)return null;try{var T=JSON.parse(y);if(T)for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var j=T[f];if(!(2>j.length)){var ue=j[1];if(Array.isArray(ue)&&!(1>ue.length)){var ye=ue[0];if("noop"!=ye&&"stop"!=ye&&"close"!=ye)for(var We=1;We<ue.length;We++)ue[We]=""}}}return Wt(T)}catch{return y}}(f,T)+(j?" "+j:"")})}ro.La="serverreachability",b(ji,q),ro.STAT_EVENT="statevent",b(ha,q),ro.Ma="timingevent",b(qo,q),Zn.prototype.xa=function(){this.g=!1},Zn.prototype.info=function(){};var Ho,Go={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ps={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function io(){}function Co(f,y,T,j){this.j=f,this.i=y,this.l=T,this.R=j||1,this.U=new ln(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fs}function Fs(){this.i=null,this.g="",this.h=!1}b(io,vt),io.prototype.g=function(){return new XMLHttpRequest},io.prototype.i=function(){return{}},Ho=new io;var Du={},xu={};function Pu(f,y,T){f.L=1,f.v=Rl(Us(y)),f.m=T,f.P=!0,Sl(f,null)}function Sl(f,y){f.F=Date.now(),Dl(f),f.A=Us(f.v);var T=f.A,j=f.R;Array.isArray(j)||(j=[String(j)]),yg(T.i,"t",j),f.C=0,T=f.j.J,f.h=new Fs,f.g=Br(f.j,T?y:null,!f.m),0<f.O&&(f.M=new Mn(g(f.Y,f,f.g),f.O)),y=f.U,T=f.g,j=f.ca;var ue="readystatechange";Array.isArray(ue)||(ue&&(He[0]=ue.toString()),ue=He);for(var ye=0;ye<ue.length;ye++){var We=rn(T,ue[ye],j||y.handleEvent,!1,y.h||y);if(!We)break;y.g[We.key]=We}y=f.H?D(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),Dt(),function yi(f,y,T,j,ue,ye){f.info(function(){if(f.g)if(ye)for(var We="",Sn=ye.split("&"),jr=0;jr<Sn.length;jr++){var xt=Sn[jr].split("=");if(1<xt.length){var _r=xt[0];xt=xt[1];var zr=_r.split("_");We=2<=zr.length&&"type"==zr[1]?We+(_r+"=")+xt+"&":We+(_r+"=redacted&")}}else We=null;else We=ye;return"XMLHTTP REQ ("+j+") [attempt "+ue+"]: "+y+"\n"+T+"\n"+We})}(f.i,f.u,f.A,f.l,f.R,f.m)}function mg(f){return!!f.g&&"GET"==f.u&&2!=f.L&&f.j.Ca}function Dh(f,y){var T=f.C,j=y.indexOf("\n",T);return-1==j?xu:(T=Number(y.substring(T,j)),isNaN(T)?Du:(j+=1)+T>y.length?xu:(y=y.slice(j,j+T),f.C=j+T,y))}function Dl(f){f.S=Date.now()+f.I,xh(f,f.I)}function xh(f,y){if(null!=f.B)throw Error("WatchDog timer not null");f.B=zi(g(f.ba,f),y)}function To(f){f.B&&(a.clearTimeout(f.B),f.B=null)}function Ua(f){0==f.j.G||f.J||Cn(f.j,f)}function fa(f){To(f);var y=f.M;y&&"function"==typeof y.ma&&y.ma(),f.M=null,At(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function xl(f,y){try{var T=f.j;if(0!=T.G&&(T.g==f||Rh(T.h,f)))if(!f.K&&Rh(T.h,f)&&3==T.G){try{var j=T.Da.g.parse(y)}catch{j=null}if(Array.isArray(j)&&3==j.length){var ue=j;if(0==ue[0]){e:if(!T.u){if(T.g){if(!(T.g.F+3e3<f.F))break e;Lt(T),Ul(T)}rt(T),Ar(18)}}else T.za=ue[1],0<T.za-T.T&&37500>ue[2]&&T.F&&0==T.v&&!T.C&&(T.C=zi(g(T.Za,T),6e3));if(1>=Pl(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Xn(T,11)}else if((f.K||T.g==f)&&Lt(T),!R(y))for(ue=T.Da.g.parse(y),y=0;y<ue.length;y++){let xt=ue[y];if(T.T=xt[0],xt=xt[1],2==T.G)if("c"==xt[0]){T.K=xt[1],T.ia=xt[2];const _r=xt[3];null!=_r&&(T.la=_r,T.j.info("VER="+T.la));const zr=xt[4];null!=zr&&(T.Aa=zr,T.j.info("SVER="+T.Aa));const Ga=xt[5];null!=Ga&&"number"==typeof Ga&&0<Ga&&(T.L=j=1.5*Ga,T.j.info("backChannelRequestTimeoutMs_="+j)),j=T;const kr=f.g;if(kr){const ya=kr.g?kr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ya){var ye=j.h;ye.g||-1==ya.indexOf("spdy")&&-1==ya.indexOf("quic")&&-1==ya.indexOf("h2")||(ye.j=ye.l,ye.g=new Set,ye.h&&(Mr(ye,ye.h),ye.h=null))}if(j.D){const jl=kr.g?kr.g.getResponseHeader("X-HTTP-Session-Id"):null;jl&&(j.ya=jl,Fn(j.I,j.D,jl))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms"));var We=f;if((j=T).qa=Kr(j,j.J?j.ia:null,j.W),We.K){Mh(j.h,We);var Sn=We,jr=j.L;jr&&(Sn.I=jr),Sn.B&&(To(Sn),Dl(Sn)),j.g=We}else Fe(j);0<T.i.length&&N(T)}else"stop"!=xt[0]&&"close"!=xt[0]||Xn(T,7);else 3==T.G&&("stop"==xt[0]||"close"==xt[0]?"stop"==xt[0]?Xn(T,7):qa(T):"noop"!=xt[0]&&T.l&&T.l.ta(xt),T.v=0)}Dt()}catch{}}function Ph(f){this.l=f||10,f=a.PerformanceNavigationTiming?0<(f=a.performance.getEntriesByType("navigation")).length&&("hq"==f[0].nextHopProtocol||"h2"==f[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nh(f){return!!f.h||!!f.g&&f.g.size>=f.j}function Pl(f){return f.h?1:f.g?f.g.size:0}function Rh(f,y){return f.h?f.h==y:!!f.g&&f.g.has(y)}function Mr(f,y){f.g?f.g.add(y):f.h=y}function Mh(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}function kh(f){if(null!=f.h)return f.i.concat(f.h.D);if(null!=f.g&&0!==f.g.size){let y=f.i;for(const T of f.g.values())y=y.concat(T.D);return y}return w(f.i)}function gs(f,y){if(f.forEach&&"function"==typeof f.forEach)f.forEach(y,void 0);else if(u(f)||"string"==typeof f)Array.prototype.forEach.call(f,y,void 0);else for(var T=function Nl(f){if(f.na&&"function"==typeof f.na)return f.na();if(!f.V||"function"!=typeof f.V){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(u(f)||"string"==typeof f){var y=[];f=f.length;for(var T=0;T<f;T++)y.push(T);return y}y=[],T=0;for(const j in f)y[T++]=j;return y}}}(f),j=function Ba(f){if(f.V&&"function"==typeof f.V)return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if("string"==typeof f)return f.split("");if(u(f)){for(var y=[],T=f.length,j=0;j<T;j++)y.push(f[j]);return y}for(j in y=[],T=0,f)y[T++]=f[j];return y}(f),ue=j.length,ye=0;ye<ue;ye++)y.call(void 0,j[ye],T&&T[ye],f)}Co.prototype.ca=function(f){f=f.target;const y=this.M;y&&3==_s(f)?y.j():this.Y(f)},Co.prototype.Y=function(f){try{if(f==this.g)e:{const zr=_s(this.g);var y=this.g.Ba();if(this.g.Z(),!(3>zr)&&(3!=zr||this.g&&(this.h.h||this.g.oa()||va(this.g)))){this.J||4!=zr||7==y||Dt(),To(this);var T=this.g.Z();this.X=T;t:if(mg(this)){var j=va(this.g);f="";var ue=j.length,ye=4==_s(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){fa(this),Ua(this);var We="";break t}this.h.i=new a.TextDecoder}for(y=0;y<ue;y++)this.h.h=!0,f+=this.h.i.decode(j[y],{stream:!(ye&&y==ue-1)});j.length=0,this.h.g+=f,this.C=0,We=this.h.g}else We=this.g.oa();if(this.o=200==T,function Ti(f,y,T,j,ue,ye,We){f.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+ue+"]: "+y+"\n"+T+"\n"+ye+" "+We})}(this.i,this.u,this.A,this.l,this.R,zr,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Sn,jr=this.g;if((Sn=jr.g?jr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(Sn)){var xt=Sn;break t}}xt=null}if(!(T=xt)){this.o=!1,this.s=3,Ar(12),fa(this),Ua(this);break e}fs(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xl(this,T)}if(this.P){let kr;for(T=!0;!this.J&&this.C<We.length;){if(kr=Dh(this,We),kr==xu){4==zr&&(this.s=4,Ar(14),T=!1),fs(this.i,this.l,null,"[Incomplete Response]");break}if(kr==Du){this.s=4,Ar(15),fs(this.i,this.l,We,"[Invalid Chunk]"),T=!1;break}fs(this.i,this.l,kr,null),xl(this,kr)}if(mg(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=zr||0!=We.length||this.h.h||(this.s=1,Ar(16),T=!1),this.o=this.o&&T,T){if(0<We.length&&!this.W){this.W=!0;var _r=this.j;_r.g==this&&_r.ba&&!_r.M&&(_r.j.info("Great, no buffering proxy detected. Bytes received: "+We.length),ct(_r),_r.M=!0,Ar(11))}}else fs(this.i,this.l,We,"[Invalid Chunked Response]"),fa(this),Ua(this)}else fs(this.i,this.l,We,null),xl(this,We);4==zr&&fa(this),this.o&&!this.J&&(4==zr?Cn(this.j,this):(this.o=!1,Dl(this)))}else(function $a(f){const y={};f=(f.g&&2<=_s(f)&&f.g.getAllResponseHeaders()||"").split("\r\n");for(let j=0;j<f.length;j++){if(R(f[j]))continue;var T=C(f[j]);const ue=T[0];if("string"!=typeof(T=T[1]))continue;T=T.trim();const ye=y[ue]||[];y[ue]=ye,ye.push(T)}!function B(f,y){for(const T in f)y.call(void 0,f[T],T,f)}(y,function(j){return j.join(", ")})})(this.g),400==T&&0<We.indexOf("Unknown SID")?(this.s=3,Ar(12)):(this.s=0,Ar(13)),fa(this),Ua(this)}}}catch{}},Co.prototype.cancel=function(){this.J=!0,fa(this)},Co.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(function Su(f,y){f.info(function(){return"TIMEOUT: "+y})}(this.i,this.A),2!=this.L&&(Dt(),Ar(17)),fa(this),this.s=2,Ua(this)):xh(this,this.S-f)},Ph.prototype.cancel=function(){if(this.i=kh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const f of this.g.values())f.cancel();this.g.clear()}};var Nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vs(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Vs){this.h=f.h,Wc(this,f.j),this.o=f.o,this.g=f.g,Kc(this,f.s),this.l=f.l;var y=f.i,T=new kl;T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),Bs(this,T),this.m=f.m}else f&&(y=String(f).match(Nu))?(this.h=!1,Wc(this,y[1]||"",!0),this.o=ms(y[2]||""),this.g=ms(y[3]||"",!0),Kc(this,y[4]),this.l=ms(y[5]||"",!0),Bs(this,y[6]||"",!0),this.m=ms(y[7]||"")):(this.h=!1,this.i=new kl(null,this.h))}function Us(f){return new Vs(f)}function Wc(f,y,T){f.j=T?ms(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Kc(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function Bs(f,y,T){y instanceof kl?(f.i=y,function zv(f,y){y&&!f.j&&(So(f),f.i=null,f.g.forEach(function(T,j){var ue=j.toLowerCase();j!=ue&&(Qc(this,j),yg(this,ue,T))},f)),f.j=y}(f.i,f.h)):(T||(y=ja(y,Ml)),f.i=new kl(y,f.h))}function Fn(f,y,T){f.i.set(y,T)}function Rl(f){return Fn(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ms(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ja(f,y,T){return"string"==typeof f?(f=encodeURI(f).replace(y,Bv),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Bv(f){return"%"+((f=f.charCodeAt(0))>>4&15).toString(16)+(15&f).toString(16)}Vs.prototype.toString=function(){var f=[],y=this.j;y&&f.push(ja(y,vg,!0),":");var T=this.g;return(T||"file"==y)&&(f.push("//"),(y=this.o)&&f.push(ja(y,vg,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(T=this.s)&&f.push(":",String(T))),(T=this.l)&&(this.g&&"/"!=T.charAt(0)&&f.push("/"),f.push(ja(T,"/"==T.charAt(0)?Oh:jv,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",ja(T,Ru)),f.join("")};var f,vg=/[#\/\?@]/g,jv=/[#\?:]/g,Oh=/[#\?]/g,Ml=/[#\?@]/g,Ru=/#/g;function kl(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function So(f){f.g||(f.g=new Map,f.h=0,f.i&&function Ur(f,y){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var j=f[T].indexOf("="),ue=null;if(0<=j){var ye=f[T].substring(0,j);ue=f[T].substring(j+1)}else ye=f[T];y(ye,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}(f.i,function(y,T){f.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}function Qc(f,y){So(f),y=Mu(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function jt(f,y){return So(f),y=Mu(f,y),f.g.has(y)}function yg(f,y,T){Qc(f,y),0<T.length&&(f.i=null,f.g.set(Mu(f,y),w(T)),f.h+=T.length)}function Mu(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function $i(f,y,T,j,ue){try{ue&&(ue.onload=null,ue.onerror=null,ue.onabort=null,ue.ontimeout=null),j(T)}catch{}}function qv(){this.g=new Xt}function Gv(f,y,T){const j=T||"";try{gs(f,function(ue,ye){let We=ue;l(ue)&&(We=Wt(ue)),y.push(j+ye+"="+encodeURIComponent(We))})}catch(ue){throw y.push(j+"type="+encodeURIComponent("_badmap")),ue}}function pa(f){this.l=f.Ub||null,this.j=f.eb||!1}function ku(f,y){Ht.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ou(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}function ga(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ma(f)}function ma(f){f.onreadystatechange&&f.onreadystatechange.call(f)}function bg(f){let y="";return ie(f,function(T,j){y+=j,y+=":",y+=T,y+="\r\n"}),y}function Ol(f,y,T){e:{for(j in T){var j=!1;break e}j=!0}j||(T=bg(T),"string"==typeof f?null!=T&&encodeURIComponent(String(T)):Fn(f,y,T))}function Jn(f){Ht.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=kl.prototype).add=function(f,y){So(this),this.i=null,f=Mu(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(y),this.h+=1,this},t.forEach=function(f,y){So(this),this.g.forEach(function(T,j){T.forEach(function(ue){f.call(y,ue,j,this)},this)},this)},t.na=function(){So(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),T=[];for(let j=0;j<y.length;j++){const ue=f[j];for(let ye=0;ye<ue.length;ye++)T.push(y[j])}return T},t.V=function(f){So(this);let y=[];if("string"==typeof f)jt(this,f)&&(y=y.concat(this.g.get(Mu(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)y=y.concat(f[T])}return y},t.set=function(f,y){return So(this),this.i=null,jt(this,f=Mu(this,f))&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},t.get=function(f,y){return f&&0<(f=this.V(f)).length?String(f[0]):y},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var T=0;T<y.length;T++){var j=y[T];const ye=encodeURIComponent(String(j)),We=this.V(j);for(j=0;j<We.length;j++){var ue=ye;""!==We[j]&&(ue+="="+encodeURIComponent(String(We[j]))),f.push(ue)}}return this.i=f.join("&")},b(pa,vt),pa.prototype.g=function(){return new ku(this.l,this.j)},pa.prototype.i=(f={},function(){return f}),b(ku,Ht),(t=ku.prototype).open=function(f,y){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,ma(this)},t.send=function(f){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ga(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ma(this)),this.g&&(this.readyState=3,ma(this),this.g)))if("arraybuffer"===this.responseType)f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ou(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?ga(this):ma(this),3==this.readyState&&Ou(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,ga(this))},t.Qa=function(f){this.g&&(this.response=f,ga(this))},t.ga=function(){this.g&&ga(this)},t.setRequestHeader=function(f,y){this.u.append(f,y)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var T=y.next();!T.done;)f.push((T=T.value)[0]+": "+T[1]),T=y.next();return f.join("\r\n")},Object.defineProperty(ku.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(f){this.m=f?"include":"same-origin"}}),b(Jn,Ht);var Ll=/^https?$/i,Fl=["POST","PUT"];function Yc(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,Vl(f),_a(f)}function Vl(f){f.A||(f.A=!0,mt(f,"complete"),mt(f,"error"))}function Zc(f){if(f.h&&typeof s<"u"&&(!f.v[1]||4!=_s(f)||2!=f.Z()))if(f.u&&4==_s(f))Nt(f.Ea,0,f);else if(mt(f,"readystatechange"),4==_s(f)){f.h=!1;try{const We=f.Z();e:switch(We){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var j;if(j=0===We){var ue=String(f.D).match(Nu)[1]||null;!ue&&a.self&&a.self.location&&(ue=a.self.location.protocol.slice(0,-1)),j=!Ll.test(ue?ue.toLowerCase():"")}T=j}if(T)mt(f,"complete"),mt(f,"success");else{f.m=6;try{var ye=2<_s(f)?f.g.statusText:""}catch{ye=""}f.l=ye+" ["+f.Z()+"]",Vl(f)}}finally{_a(f)}}}function _a(f,y){if(f.g){Lh(f);const T=f.g,j=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||mt(f,"ready");try{T.onreadystatechange=j}catch{}}}function Lh(f){f.I&&(a.clearTimeout(f.I),f.I=null)}function _s(f){return f.g?f.g.readyState:0}function va(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Lu(f,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||y}function Fh(f){this.Aa=0,this.i=[],this.j=new Zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lu("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lu("baseRetryDelayMs",5e3,f),this.cb=Lu("retryDelaySeedMs",1e4,f),this.Wa=Lu("forwardChannelMaxRetries",2,f),this.wa=Lu("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Ph(f&&f.concurrentRequestLimit),this.Da=new qv,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function qa(f){if(_(f),3==f.G){var y=f.U++,T=Us(f.I);if(Fn(T,"SID",f.K),Fn(T,"RID",y),Fn(T,"TYPE","terminate"),le(f,T),(y=new Co(f,f.j,y)).L=2,y.v=Rl(Us(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!T&&a.Image&&((new Image).src=y.v,T=!0),T||(y.g=Br(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Dl(y)}Hn(f)}function Ul(f){f.g&&(ct(f),f.g.cancel(),f.g=null)}function _(f){Ul(f),f.u&&(a.clearTimeout(f.u),f.u=null),Lt(f),f.h.cancel(),f.s&&("number"==typeof f.s&&a.clearTimeout(f.s),f.s=null)}function N(f){if(!Nh(f.h)&&!f.s){f.s=!0;var y=f.Ga;Ie||Ge(),pe||(Ie(),pe=!0),Ae.add(y,f),f.B=0}}function ee(f,y){var T;T=y?y.l:f.U++;const j=Us(f.I);Fn(j,"SID",f.K),Fn(j,"RID",T),Fn(j,"AID",f.T),le(f,j),f.m&&f.o&&Ol(j,f.m,f.o),T=new Co(f,f.j,T,f.B+1),null===f.m&&(T.H=f.o),y&&(f.i=y.D.concat(f.i)),y=xe(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Mr(f.h,T),Pu(T,j,y)}function le(f,y){f.H&&ie(f.H,function(T,j){Fn(y,j,T)}),f.l&&gs({},function(T,j){Fn(y,j,T)})}function xe(f,y,T){T=Math.min(f.i.length,T);var j=f.l?g(f.l.Na,f.l,f):null;e:{var ue=f.i;let ye=-1;for(;;){const We=["count="+T];-1==ye?0<T?(ye=ue[0].g,We.push("ofs="+ye)):ye=0:We.push("ofs="+ye);let Sn=!0;for(let jr=0;jr<T;jr++){let xt=ue[jr].g;const _r=ue[jr].map;if(xt-=ye,0>xt)ye=Math.max(0,ue[jr].g-100),Sn=!1;else try{Gv(_r,We,"req"+xt+"_")}catch{j&&j(_r)}}if(Sn){j=We.join("&");break e}}}return f=f.i.splice(0,T),y.D=f,j}function Fe(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;Ie||Ge(),pe||(Ie(),pe=!0),Ae.add(y,f),f.v=0}}function rt(f){return!(f.g||f.u||3<=f.v||(f.Y++,f.u=zi(g(f.Fa,f),mr(f,f.v)),f.v++,0))}function ct(f){null!=f.A&&(a.clearTimeout(f.A),f.A=null)}function Ot(f){f.g=new Co(f,f.j,"rpc",f.Y),null===f.m&&(f.g.H=f.o),f.g.O=0;var y=Us(f.qa);Fn(y,"RID","rpc"),Fn(y,"SID",f.K),Fn(y,"AID",f.T),Fn(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&Fn(y,"TO",f.ja),Fn(y,"TYPE","xmlhttp"),le(f,y),f.m&&f.o&&Ol(y,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=Rl(Us(y)),T.m=null,T.P=!0,Sl(T,f)}function Lt(f){null!=f.C&&(a.clearTimeout(f.C),f.C=null)}function Cn(f,y){var T=null;if(f.g==y){Lt(f),ct(f),f.g=null;var j=2}else{if(!Rh(f.h,y))return;T=y.D,Mh(f.h,y),j=1}if(0!=f.G)if(y.o)if(1==j){T=y.m?y.m.length:0,y=Date.now()-y.F;var ue=f.B;mt(j=Ao(),new qo(j,T)),N(f)}else Fe(f);else if(3==(ue=y.s)||0==ue&&0<y.X||!(1==j&&function H(f,y){return!(Pl(f.h)>=f.h.j-(f.s?1:0)||(f.s?(f.i=y.D.concat(f.i),0):1==f.G||2==f.G||f.B>=(f.Va?0:f.Wa)||(f.s=zi(g(f.Ga,f,y),mr(f,f.B)),f.B++,0)))}(f,y)||2==j&&rt(f)))switch(T&&0<T.length&&(y=f.h,y.i=y.i.concat(T)),ue){case 1:Xn(f,5);break;case 4:Xn(f,10);break;case 3:Xn(f,6);break;default:Xn(f,2)}}function mr(f,y){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*y}function Xn(f,y){if(f.j.info("Error code "+y),2==y){var T=g(f.fb,f),j=f.Xa;const ue=!j;j=new Vs(j||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Wc(j,"https"),Rl(j),ue?function $v(f,y){const T=new Zn;if(a.Image){const j=new Image;j.onload=p($i,T,"TestLoadImage: loaded",!0,y,j),j.onerror=p($i,T,"TestLoadImage: error",!1,y,j),j.onabort=p($i,T,"TestLoadImage: abort",!1,y,j),j.ontimeout=p($i,T,"TestLoadImage: timeout",!1,y,j),a.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=f}else y(!1)}(j.toString(),T):function za(f,y){new Zn;const j=new AbortController,ue=setTimeout(()=>{j.abort(),$i(0,0,!1,y)},1e4);fetch(f,{signal:j.signal}).then(ye=>{clearTimeout(ue),$i(0,0,!!ye.ok,y)}).catch(()=>{clearTimeout(ue),$i(0,0,!1,y)})}(j.toString(),T)}else Ar(2);f.G=0,f.l&&f.l.sa(y),Hn(f),_(f)}function Hn(f){if(f.G=0,f.ka=[],f.l){const y=kh(f.h);(0!=y.length||0!=f.i.length)&&(E(f.ka,y),E(f.ka,f.i),f.h.i.length=0,w(f.i),f.i.length=0),f.l.ra()}}function Kr(f,y,T){var j=T instanceof Vs?Us(T):new Vs(T);if(""!=j.g)y&&(j.g=y+"."+j.g),Kc(j,j.s);else{var ue=a.location;j=ue.protocol,y=y?y+"."+ue.hostname:ue.hostname,ue=+ue.port;var ye=new Vs(null);j&&Wc(ye,j),y&&(ye.g=y),ue&&Kc(ye,ue),T&&(ye.l=T),j=ye}return y=f.ya,(T=f.D)&&y&&Fn(j,T,y),Fn(j,"VER",f.la),le(f,j),j}function Br(f,y,T){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return(y=new Jn(f.Ca&&!f.pa?new pa({eb:T}):f.pa)).Ha(f.J),y}function bi(){}function oo(){}function er(f,y){Ht.call(this),this.g=new Fh(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!R(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.D=y,null!==(f=this.h)&&y in f&&y in(f=this.h)&&delete f[y]),this.j=new vs(this)}function Vh(f){Rt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const T in y){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,y=null!==y&&f in y?y[f]:void 0),this.data=y}else this.data=f}function Bl(){fn.call(this),this.status=1}function vs(f){this.g=f}(t=Jn.prototype).Ha=function(f){this.J=f},t.ea=function(f,y,T,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ho.g(),this.v=function Ln(f){return f.h||(f.h=f.i())}(this.o?this.o:Ho),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(ye){return void Yc(this,ye)}if(f=T||"",T=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var ue in j)T.set(ue,j[ue]);else{if("function"!=typeof j.keys||"function"!=typeof j.get)throw Error("Unknown input type for opt_headers: "+String(j));for(const ye of j.keys())T.set(ye,j.get(ye))}j=Array.from(T.keys()).find(ye=>"content-type"==ye.toLowerCase()),ue=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Fl,y,void 0))||j||ue||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ye,We]of T)this.g.setRequestHeader(ye,We);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Lh(this),this.u=!0,this.g.send(f),this.u=!1}catch(ye){Yc(this,ye)}},t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,mt(this,"complete"),mt(this,"abort"),_a(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_a(this,!0)),Jn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Zc(this):this.bb())},t.bb=function(){Zc(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<_s(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&0==y.indexOf(f)&&(y=y.substring(f.length)),Ct(y)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=Fh.prototype).la=8,t.G=1,t.connect=function(f,y,T,j){Ar(0),this.W=f,this.H=y||{},T&&void 0!==j&&(this.H.OSID=T,this.H.OAID=j),this.F=this.X,this.I=Kr(this,null,this.W),N(this)},t.Ga=function(f){if(this.s)if(this.s=null,1==this.G){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ue=new Co(this,this.j,f);let ye=this.o;if(this.S&&(ye?(ye=D(ye),L(ye,this.S)):ye=this.S),null!==this.m||this.O||(ue.H=ye,ye=null),this.P)e:{for(var y=0,T=0;T<this.i.length;T++){var j=this.i[T];if(void 0===(j="__data__"in j.map&&"string"==typeof(j=j.map.__data__)?j.length:void 0))break;if(4096<(y+=j)){y=T;break e}if(4096===y||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=xe(this,ue,y),Fn(T=Us(this.I),"RID",f),Fn(T,"CVER",22),this.D&&Fn(T,"X-HTTP-Session-Id",this.D),le(this,T),ye&&(this.O?y="headers="+encodeURIComponent(String(bg(ye)))+"&"+y:this.m&&Ol(T,this.m,ye)),Mr(this.h,ue),this.Ua&&Fn(T,"TYPE","init"),this.P?(Fn(T,"$req",y),Fn(T,"SID","null"),ue.T=!0,Pu(ue,T,null)):Pu(ue,T,y),this.G=2}}else 3==this.G&&(f?ee(this,f):0==this.i.length||Nh(this.h)||ee(this))},t.Fa=function(){if(this.u=null,Ot(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=zi(g(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ar(10),Ul(this),Ot(this))},t.Za=function(){null!=this.C&&(this.C=null,Ul(this),rt(this),Ar(19))},t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Ar(2)):(this.j.info("Failed to ping google.com"),Ar(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=bi.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},oo.prototype.g=function(f,y){return new er(f,y)},b(er,Ht),er.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},er.prototype.close=function(){qa(this.g)},er.prototype.o=function(f){var y=this.g;if("string"==typeof f){var T={};T.__data__=f,f=T}else this.u&&((T={}).__data__=Wt(f),f=T);y.i.push(new class{constructor(f,y){this.g=f,this.map=y}}(y.Ya++,f)),3==y.G&&N(y)},er.prototype.N=function(){this.g.l=null,delete this.j,qa(this.g),delete this.g,er.aa.N.call(this)},b(Vh,Rt),b(Bl,fn),b(vs,bi),vs.prototype.ua=function(){mt(this.g,"a")},vs.prototype.ta=function(f){mt(this.g,new Vh(f))},vs.prototype.sa=function(f){mt(this.g,new Bl)},vs.prototype.ra=function(){mt(this.g,"b")},oo.prototype.createWebChannel=oo.prototype.g,er.prototype.send=er.prototype.o,er.prototype.open=er.prototype.m,er.prototype.close=er.prototype.close,wV=gl.createWebChannelTransport=function(){return new oo},bV=gl.getStatEventTarget=function(){return Ao()},yV=gl.Event=ro,Z5=gl.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Go.NO_ERROR=0,Go.TIMEOUT=8,Go.HTTP_ERROR=6,G1=gl.ErrorCode=Go,ps.COMPLETE="complete",vV=gl.EventType=ps,Er.EventType=yn,yn.OPEN="a",yn.CLOSE="b",yn.ERROR="c",yn.MESSAGE="d",Ht.prototype.listen=Ht.prototype.K,f_=gl.WebChannel=Er,gl.FetchXmlHttpFactory=pa,Jn.prototype.listenOnce=Jn.prototype.L,Jn.prototype.getLastError=Jn.prototype.Ka,Jn.prototype.getLastErrorCode=Jn.prototype.Ba,Jn.prototype.getStatus=Jn.prototype.Z,Jn.prototype.getResponseJson=Jn.prototype.Oa,Jn.prototype.getResponseText=Jn.prototype.oa,Jn.prototype.send=Jn.prototype.ea,Jn.prototype.setWithCredentials=Jn.prototype.Ha,_V=gl.XhrIo=Jn}).apply(typeof q1<"u"?q1:typeof self<"u"?self:typeof window<"u"?window:{});const IV="@firebase/firestore";class Oi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Oi.UNAUTHENTICATED=new Oi(null),Oi.GOOGLE_CREDENTIALS=new Oi("google-credentials-uid"),Oi.FIRST_PARTY=new Oi("first-party-uid"),Oi.MOCK_USER=new Oi("mock-user");let sp="10.14.0";const fc=new AC("@firebase/firestore");function ap(){return fc.logLevel}function Ue(t,...e){if(fc.logLevel<=gn.DEBUG){const n=e.map(J5);fc.debug(`Firestore (${sp}): ${t}`,...n)}}function ri(t,...e){if(fc.logLevel<=gn.ERROR){const n=e.map(J5);fc.error(`Firestore (${sp}): ${t}`,...n)}}function ua(t,...e){if(fc.logLevel<=gn.WARN){const n=e.map(J5);fc.warn(`Firestore (${sp}): ${t}`,...n)}}function J5(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function nt(t="Unexpected state"){const e=`FIRESTORE (${sp}) INTERNAL ASSERTION FAILED: `+t;throw ri(e),new Error(e)}function ut(t,e){t||nt()}function Ze(t,e){return t}const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends al{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Li{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class EV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $de{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Oi.UNAUTHENTICATED))}shutdown(){}}class qde{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Gde{constructor(e){this.t=e,this.currentUser=Oi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;ut(void 0===this.o);let i=this.i;const o=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Li,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable((0,ne.A)(function*(){yield l.promise,yield o(r.currentUser)}))},u=l=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Li)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut("string"==typeof r.accessToken),new EV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(null===e||"string"==typeof e),new Oi(e)}}class Hde{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Oi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Wde{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Hde(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Oi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kde{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ut(void 0===this.o);const r=o=>{null!=o.error&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Ue("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ut("string"==typeof n.token),this.R=n.token,new AV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Qde(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class CV{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Qde(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function qt(t,e){return t<e?-1:t>e?1:0}function up(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Fr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Be(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Be(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Be(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fr.fromMillis(Date.now())}static fromDate(e){return Fr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Fr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new Fr(0,0))}static max(){return new bt(new Fr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class p_{constructor(e,n,r){void 0===n?n=0:n>e.length&&nt(),void 0===r?r=e.length-n:r>e.length-n&&nt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===p_.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof p_?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class mn extends p_{construct(e,n,r){return new mn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Be(be.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new mn(n)}static emptyPath(){return new mn([])}}const Yde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dr extends p_{construct(e,n,r){return new Dr(e,n,r)}static isValidIdentifier(e){return Yde.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Dr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new Be(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new Be(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Be(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Be(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dr(n)}static emptyPath(){return new Dr([])}}class et{constructor(e){this.path=e}static fromPath(e){return new et(mn.fromString(e))}static fromName(e){return new et(mn.fromString(e).popFirst(5))}static empty(){return new et(mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===mn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return mn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new mn(e.slice()))}}function DV(t){return new Rs(t.readTime,t.key,-1)}class Rs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Rs(bt.min(),et.empty(),-1)}static max(){return new Rs(bt.max(),et.empty(),-1)}}function eS(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=et.comparator(t.documentKey,e.documentKey),0!==n?n:qt(t.largestBatchId,e.largestBatchId))}const xV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function pc(t){return tS.apply(this,arguments)}function tS(){return tS=(0,ne.A)(function*(t){if(t.code!==be.FAILED_PRECONDITION||t.message!==xV)throw t;Ue("LocalStore","Unexpectedly lost primary lease")}),tS.apply(this,arguments)}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.reject(n)}static resolve(e){return new fe((n,r)=>{n(e)})}static reject(e){return new fe((n,r)=>{r(e)})}static waitFor(e){return new fe((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next(i=>i?fe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new fe((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const l=u;n(e[l]).next(c=>{s[l]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new fe((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function gc(t){return"IndexedDbTransactionError"===t.name}let Ms=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function m_(t){return null==t}function __(t){return 0===t&&1/t==-1/0}function BV(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class gr{constructor(e,n){this.comparator=e,this.root=n||Ji.EMPTY}insert(e,n){return new gr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ji.BLACK,null,null))}remove(e){return new gr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ji.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new K1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new K1(this.root,e,this.comparator,!1)}getReverseIterator(){return new K1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new K1(this.root,e,this.comparator,!0)}}class K1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ji{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ji.RED,this.left=i??Ji.EMPTY,this.right=o??Ji.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ji(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ji.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Ji.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ji.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ji.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nt();const e=this.left.check();if(e!==this.right.check())throw nt();return e+(this.isRed()?0:1)}}Ji.EMPTY=null,Ji.RED=!0,Ji.BLACK=!1,Ji.EMPTY=new class{constructor(){this.size=0}get key(){throw nt()}get value(){throw nt()}get color(){throw nt()}get left(){throw nt()}get right(){throw nt()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ji(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yn{constructor(e){this.comparator=e,this.data=new gr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $V(this.data.getIterator())}getIteratorFrom(e){return new $V(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Yn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Yn(this.comparator);return n.data=e,n}}class $V{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ls{constructor(e){this.fields=e,e.sort(Dr.comparator)}static empty(){return new ls([])}unionWith(e){let n=new Yn(Dr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ls(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return up(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class qV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Gr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new qV("Invalid base64 string: "+o):o}}(e);return new Gr(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Gr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gr.EMPTY_BYTE_STRING=new Gr("");const Ihe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ml(t){if(ut(!!t),"string"==typeof t){let e=0;const n=Ihe.exec(t);if(ut(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xr(t.seconds),nanos:xr(t.nanos)}}function xr(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function _l(t){return"string"==typeof t?Gr.fromBase64String(t):Gr.fromUint8Array(t)}function Q1(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Y1(t){const e=t.mapValue.fields.__previous_value__;return Q1(e)?Y1(e):e}function v_(t){const e=ml(t.mapValue.fields.__local_write_time__.timestampValue);return new Fr(e.seconds,e.nanos)}class Ehe{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class Kd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Kd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Kd&&e.projectId===this.projectId&&e.database===this.database}}const _c={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Q1(t)?4:QV(t)?9007199254740991:eb(t)?10:11:nt()}function fu(t,e){if(t===e)return!0;const n=vc(t);if(n!==vc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return v_(t).isEqual(v_(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ml(i.timestampValue),a=ml(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,_l(t.bytesValue).isEqual(_l(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return xr(i.geoPointValue.latitude)===xr(o.geoPointValue.latitude)&&xr(i.geoPointValue.longitude)===xr(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return xr(i.integerValue)===xr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=xr(i.doubleValue),a=xr(o.doubleValue);return s===a?__(s)===__(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return up(t.arrayValue.values||[],e.arrayValue.values||[],fu);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(BV(s)!==BV(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!fu(s[u],a[u])))return!1;return!0}(t,e);default:return nt()}var o}function y_(t,e){return void 0!==(t.values||[]).find(n=>fu(n,e))}function yc(t,e){if(t===e)return 0;const n=vc(t),r=vc(e);if(n!==r)return qt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qt(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=xr(o.integerValue||o.doubleValue),u=xr(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return GV(t.timestampValue,e.timestampValue);case 4:return GV(v_(t),v_(e));case 5:return qt(t.stringValue,e.stringValue);case 6:return function(o,s){const a=_l(o),u=_l(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=qt(a[l],u[l]);if(0!==c)return c}return qt(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=qt(xr(o.latitude),xr(s.latitude));return 0!==a?a:qt(xr(o.longitude),xr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return HV(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,c;const p=null===(a=(o.fields||{}).value)||void 0===a?void 0:a.arrayValue,b=null===(u=(s.fields||{}).value)||void 0===u?void 0:u.arrayValue,w=qt((null===(l=p?.values)||void 0===l?void 0:l.length)||0,(null===(c=b?.values)||void 0===c?void 0:c.length)||0);return 0!==w?w:HV(p,b)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===_c.mapValue&&s===_c.mapValue)return 0;if(o===_c.mapValue)return 1;if(s===_c.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),l=s.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let d=0;d<u.length&&d<c.length;++d){const g=qt(u[d],c[d]);if(0!==g)return g;const p=yc(a[u[d]],l[c[d]]);if(0!==p)return p}return qt(u.length,c.length)}(t.mapValue,e.mapValue);default:throw nt()}}function GV(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return qt(t,e);const n=ml(t),r=ml(e),i=qt(n.seconds,r.seconds);return 0!==i?i:qt(n.nanos,r.nanos)}function HV(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=yc(n[i],r[i]);if(o)return o}return qt(n.length,r.length)}function hp(t){return oS(t)}function oS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ml(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?_l(t.bytesValue).toBase64():"referenceValue"in t?et.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=oS(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${oS(n.fields[s])}`;return i+"}"}(t.mapValue):nt()}function Qd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sS(t){return!!t&&"integerValue"in t}function b_(t){return!!t&&"arrayValue"in t}function WV(t){return!!t&&"nullValue"in t}function KV(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function X1(t){return!!t&&"mapValue"in t}function eb(t){var e,n;return"__vector__"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function w_(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return mc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=w_(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=w_(t.arrayValue.values[n]);return e}return Object.assign({},t)}function QV(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Xi{constructor(e){this.value=e}static empty(){return new Xi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!X1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=w_(n)}setAll(e){let n=Dr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=w_(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());X1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fu(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];X1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){mc(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Xi(w_(this.value))}}function XV(t){const e=[];return mc(t.fields,(n,r)=>{const i=new Dr([n]);if(X1(r)){const o=XV(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new ls(e)}class wr{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new wr(e,0,bt.min(),bt.min(),bt.min(),Xi.empty(),0)}static newFoundDocument(e,n,r,i){return new wr(e,1,n,bt.min(),r,i,0)}static newNoDocument(e,n){return new wr(e,2,n,bt.min(),bt.min(),Xi.empty(),0)}static newUnknownDocument(e,n){return new wr(e,3,n,bt.min(),bt.min(),Xi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(bt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bc{constructor(e,n){this.position=e,this.inclusive=n}}function e7(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?et.comparator(et.fromName(s.referenceValue),n.key):yc(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function t7(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fu(t.position[n],e.position[n]))return!1;return!0}class I_{constructor(e,n="asc"){this.field=e,this.dir=n}}function The(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class n7{}class _n extends n7{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new She(e,n,r):"array-contains"===n?new Phe(e,r):"in"===n?new u7(e,r):"not-in"===n?new Nhe(e,r):"array-contains-any"===n?new Rhe(e,r):new _n(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Dhe(e,r):new xhe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(yc(n,this.value)):null!==n&&vc(this.value)===vc(n)&&this.matchesComparison(yc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends n7{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new $n(e,n)}matches(e){return fp(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function fp(t){return"and"===t.op}function uS(t){return function r7(t){for(const e of t.filters)if(e instanceof $n)return!1;return!0}(t)&&fp(t)}function lS(t){if(t instanceof _n)return t.field.canonicalString()+t.op.toString()+hp(t.value);if(uS(t))return t.filters.map(e=>lS(e)).join(",");{const e=t.filters.map(n=>lS(n)).join(",");return`${t.op}(${e})`}}function i7(t,e){return t instanceof _n?(r=t,(i=e)instanceof _n&&r.op===i.op&&r.field.isEqual(i.field)&&fu(r.value,i.value)):t instanceof $n?function(r,i){return i instanceof $n&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&i7(s,i.filters[a]),!0)}(t,e):void nt();var r,i}function s7(t){return t instanceof _n?`${(n=t).field.canonicalString()} ${n.op} ${hp(n.value)}`:t instanceof $n?function(n){return n.op.toString()+" {"+n.getFilters().map(s7).join(" ,")+"}"}(t):"Filter";var n}class She extends _n{constructor(e,n,r){super(e,n,r),this.key=et.fromName(r.referenceValue)}matches(e){const n=et.comparator(e.key,this.key);return this.matchesComparison(n)}}class Dhe extends _n{constructor(e,n){super(e,"in",n),this.keys=a7(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xhe extends _n{constructor(e,n){super(e,"not-in",n),this.keys=a7(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function a7(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>et.fromName(r.referenceValue))}class Phe extends _n{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return b_(n)&&y_(n.arrayValue,this.value)}}class u7 extends _n{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&y_(this.value.arrayValue,n)}}class Nhe extends _n{constructor(e,n){super(e,"not-in",n)}matches(e){if(y_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!y_(this.value.arrayValue,n)}}class Rhe extends _n{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!b_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>y_(this.value.arrayValue,r))}}class Mhe{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function cS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Mhe(t,e,n,r,i,o,s)}function Yd(t){const e=Ze(t);if(null===e.ue){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>lS(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),m_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hp(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hp(r)).join(",")),e.ue=n}return e.ue}function E_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!The(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!i7(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!t7(t.startAt,e.startAt)&&t7(t.endAt,e.endAt)}function tb(t){return et.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class vl{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null}}function pp(t){return new vl(t)}function h7(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function dS(t){return null!==t.collectionGroup}function gp(t){const e=Ze(t);if(null===e.ce){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Yn(Dr.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new I_(o,r))}),n.has(Dr.keyField().canonicalString())||e.ce.push(new I_(Dr.keyField(),r))}return e.ce}function mo(t){const e=Ze(t);return e.le||(e.le=function p7(t,e){if("F"===t.limitType)return cS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new I_(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new bc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bc(t.startAt.position,t.startAt.inclusive):null;return cS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,gp(t))),e.le}function hS(t,e){const n=t.filters.concat([e]);return new vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rb(t,e,n){return new vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function A_(t,e){return E_(mo(t),mo(e))&&t.limitType===e.limitType}function g7(t){return`${Yd(mo(t))}|lt:${t.limitType}`}function mp(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>s7(i)).join(", ")}]`),m_(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>hp(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>hp(i)).join(",")),`Target(${r})`}(mo(t))}; limitType=${t.limitType})`}function C_(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):et.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of gp(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,u){const l=e7(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,gp(r),i)||r.endAt&&!function(s,a,u){const l=e7(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,gp(r),i)));var r,i}function _7(t){return(e,n)=>{let r=!1;for(const i of gp(t)){const o=khe(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function khe(t,e,n){const r=t.field.isKeyField()?et.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),l=a.data.field(o);return null!==u&&null!==l?yc(u,l):nt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return nt()}}class yl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mc(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return zV(this.inner)}size(){return this.innerSize}}const Ohe=new gr(et.comparator);function cs(){return Ohe}const v7=new gr(et.comparator);function T_(...t){let e=v7;for(const n of t)e=e.insert(n.key,n);return e}function y7(t){let e=v7;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function pu(){return S_()}function b7(){return S_()}function S_(){return new yl(t=>t.toString(),(t,e)=>t.isEqual(e))}const Lhe=new gr(et.comparator),Fhe=new Yn(et.comparator);function nn(...t){let e=Fhe;for(const n of t)e=e.add(n);return e}const Vhe=new Yn(qt);function pS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__(e)?"-0":e}}function w7(t){return{integerValue:""+t}}function I7(t,e){return function MV(t){return"number"==typeof t&&Number.isInteger(t)&&!__(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?w7(e):pS(t,e)}class ib{constructor(){this._=void 0}}function Uhe(t,e,n){return t instanceof _p?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Q1(o)&&(o=Y1(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Zd?A7(t,e):t instanceof Jd?C7(t,e):function(i,o){const s=E7(i,o),a=T7(s)+T7(i.Pe);return sS(s)&&sS(i.Pe)?w7(a):pS(i.serializer,a)}(t,e)}function Bhe(t,e,n){return t instanceof Zd?A7(t,e):t instanceof Jd?C7(t,e):n}function E7(t,e){return t instanceof vp?sS(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class _p extends ib{}class Zd extends ib{constructor(e){super(),this.elements=e}}function A7(t,e){const n=S7(e);for(const r of t.elements)n.some(i=>fu(i,r))||n.push(r);return{arrayValue:{values:n}}}class Jd extends ib{constructor(e){super(),this.elements=e}}function C7(t,e){let n=S7(e);for(const r of t.elements)n=n.filter(i=>!fu(i,r));return{arrayValue:{values:n}}}class vp extends ib{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function T7(t){return xr(t.integerValue||t.doubleValue)}function S7(t){return b_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class zhe{constructor(e,n){this.version=e,this.transformResults=n}}class Pr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pr}static exists(e){return new Pr(void 0,e)}static updateTime(e){return new Pr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ob(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class sb{}function D7(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new bp(t.key,Pr.none()):new yp(t.key,t.data,Pr.none());{const n=t.data,r=Xi.empty();let i=new Yn(Dr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new bl(t.key,r,new ls(i.toArray()),Pr.none())}}function $he(t,e,n){t instanceof yp?function(i,o,s){const a=i.value.clone(),u=N7(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof bl?function(i,o,s){if(!ob(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=N7(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(P7(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function x_(t,e,n,r){return t instanceof yp?function(o,s,a,u){if(!ob(o.precondition,s))return a;const l=o.value.clone(),c=R7(o.fieldTransforms,u,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof bl?function(o,s,a,u){if(!ob(o.precondition,s))return a;const l=R7(o.fieldTransforms,u,s),c=s.data;return c.setAll(P7(o)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,ob(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function qhe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=E7(r.transform,i||null);null!=o&&(null===n&&(n=Xi.empty()),n.set(r.field,o))}return n||null}function x7(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&up(r,i,(o,s)=>function jhe(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof Zd&&i instanceof Zd||r instanceof Jd&&i instanceof Jd?up(r.elements,i.elements,fu):r instanceof vp&&i instanceof vp?fu(r.Pe,i.Pe):r instanceof _p&&i instanceof _p);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class yp extends sb{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bl extends sb{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function P7(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function N7(t,e,n){const r=new Map;ut(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Bhe(s,a,n[i]))}return r}function R7(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Uhe(o,s,e))}return r}class bp extends sb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gS extends sb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&$he(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=x_(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=x_(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=b7();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=D7(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(bt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),nn())}isEqual(e){return this.batchId===e.batchId&&up(this.mutations,e.mutations,(n,r)=>x7(n,r))&&up(this.baseMutations,e.baseMutations,(n,r)=>x7(n,r))}}class _S{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ut(e.mutations.length===r.length);let i=Lhe;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new _S(e,n,r,i)}}class vS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ghe{constructor(e,n){this.count=e,this.unchangedNames=n}}var _i,En;function O7(t){if(void 0===t)return ri("GRPC error has no .code"),be.UNKNOWN;switch(t){case _i.OK:return be.OK;case _i.CANCELLED:return be.CANCELLED;case _i.UNKNOWN:return be.UNKNOWN;case _i.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case _i.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case _i.INTERNAL:return be.INTERNAL;case _i.UNAVAILABLE:return be.UNAVAILABLE;case _i.UNAUTHENTICATED:return be.UNAUTHENTICATED;case _i.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case _i.NOT_FOUND:return be.NOT_FOUND;case _i.ALREADY_EXISTS:return be.ALREADY_EXISTS;case _i.PERMISSION_DENIED:return be.PERMISSION_DENIED;case _i.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case _i.ABORTED:return be.ABORTED;case _i.OUT_OF_RANGE:return be.OUT_OF_RANGE;case _i.UNIMPLEMENTED:return be.UNIMPLEMENTED;case _i.DATA_LOSS:return be.DATA_LOSS;default:return nt()}}(En=_i||(_i={}))[En.OK=0]="OK",En[En.CANCELLED=1]="CANCELLED",En[En.UNKNOWN=2]="UNKNOWN",En[En.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",En[En.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",En[En.NOT_FOUND=5]="NOT_FOUND",En[En.ALREADY_EXISTS=6]="ALREADY_EXISTS",En[En.PERMISSION_DENIED=7]="PERMISSION_DENIED",En[En.UNAUTHENTICATED=16]="UNAUTHENTICATED",En[En.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",En[En.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",En[En.ABORTED=10]="ABORTED",En[En.OUT_OF_RANGE=11]="OUT_OF_RANGE",En[En.UNIMPLEMENTED=12]="UNIMPLEMENTED",En[En.INTERNAL=13]="INTERNAL",En[En.UNAVAILABLE=14]="UNAVAILABLE",En[En.DATA_LOSS=15]="DATA_LOSS";const Hhe=new qd([4294967295,4294967295],0);function F7(t){const e=function L7(){return new TextEncoder}().encode(t),n=new mV;return n.update(e),new Uint8Array(n.digest())}function V7(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new qd([n,r],0),new qd([i,o],0)]}class yS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new P_(`Invalid padding: ${n}`);if(r<0)throw new P_(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new P_(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new P_(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=qd.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(qd.fromNumber(r)));return 1===i.compare(Hhe)&&(i=new qd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const n=F7(e),[r,i]=V7(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new yS(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Ie)return;const n=F7(e),[r,i]=V7(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class P_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class N_{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,R_.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new N_(bt.min(),i,new gr(qt),cs(),nn())}}class R_{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new R_(r,n,nn(),nn(),nn())}}class ub{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class U7{constructor(e,n){this.targetId=e,this.me=n}}class B7{constructor(e,n,r=Gr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class j7{constructor(){this.fe=0,this.ge=$7(),this.pe=Gr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=nn(),n=nn(),r=nn();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:nt()}}),new R_(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=$7()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ut(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Whe{constructor(e){this.Le=e,this.Be=new Map,this.ke=cs(),this.qe=z7(),this.Qe=new gr(qt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:nt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(tb(o))if(0===r){const s=new et(o.path);this.Ue(n,s,wr.newNoDocument(s,bt.min()))}else ut(1===r);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),u=a?this.Xe(a,e,s):1;0!==u&&(this.je(n),this.Qe=this.Qe.insert(n,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=_l(r).toUint8Array()}catch(u){if(u instanceof qV)return ua("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new yS(s,i,o)}catch(u){return ua(u instanceof P_?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Ie?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&tb(a.target)){const u=new et(a.target.path);null!==this.ke.get(u)||this.it(s,u)||this.Ue(s,u,wr.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=nn();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const l=this.Je(u);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new N_(e,n,this.Qe,this.ke,r);return this.ke=cs(),this.qe=z7(),this.Qe=new gr(qt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new j7,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Yn(qt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=null!==this.Je(e);return n||Ue("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new j7),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function z7(){return new gr(et.comparator)}function $7(){return new gr(et.comparator)}const Khe={asc:"ASCENDING",desc:"DESCENDING"},Qhe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yhe={and:"AND",or:"OR"};class Zhe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bS(t,e){return t.useProto3Json||m_(e)?e:{value:e}}function wp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function q7(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Jhe(t,e){return wp(t,e.toTimestamp())}function ii(t){return ut(!!t),bt.fromTimestamp(function(n){const r=ml(n);return new Fr(r.seconds,r.nanos)}(t))}function wS(t,e){return IS(t,e).canonicalString()}function IS(t,e){const n=(i=t,new mn(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?n:n.child(e)}function G7(t){const e=mn.fromString(t);return ut(nU(e)),e}function M_(t,e){return wS(t.databaseId,e.path)}function gu(t,e){const n=G7(e);if(n.get(1)!==t.databaseId.projectId)throw new Be(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Be(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new et(K7(n))}function H7(t,e){return wS(t.databaseId,e)}function ES(t){return new mn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function K7(t){return ut(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Q7(t,e,n){return{name:M_(t,e),fields:n.value.mapValue.fields}}function Z7(t,e){return{documents:[H7(t,e.path)]}}function lb(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=H7(t,i);const o=function(l){if(0!==l.length)return tU($n.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:wc((g=c).field),direction:rfe(g.dir)};var g})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=bS(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i};var l}function X7(t){let e=function W7(t){const e=G7(t);return 4===e.length?mn.emptyPath():K7(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ut(1===r);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const g=eU(d);return g instanceof $n&&uS(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(g=>{return new I_(Ip((b=g).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let a=null;n.limit&&(a=function(d){let g;return g="object"==typeof d?d.value:d,m_(g)?null:g}(n.limit));let u=null;var d;n.startAt&&(u=new bc((d=n.startAt).values||[],!!d.before));let l=null;return n.endAt&&(l=function(d){return new bc(d.values||[],!d.before)}(n.endAt)),function d7(t,e,n,r,i,o,s,a){return new vl(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",u,l)}function eU(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ip(n.unaryFilter.field);return _n.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ip(n.unaryFilter.field);return _n.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ip(n.unaryFilter.field);return _n.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ip(n.unaryFilter.field);return _n.create(s,"!=",{nullValue:"NULL_VALUE"});default:return nt()}}(t):void 0!==t.fieldFilter?_n.create(Ip((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return $n.create(n.compositeFilter.filters.map(r=>eU(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return nt()}}(n.compositeFilter.op))}(t):nt();var n}function rfe(t){return Khe[t]}function ife(t){return Qhe[t]}function ofe(t){return Yhe[t]}function wc(t){return{fieldPath:t.canonicalString()}}function Ip(t){return Dr.fromServerFormat(t.fieldPath)}function tU(t){return t instanceof _n?function(n){if("=="===n.op){if(KV(n.value))return{unaryFilter:{field:wc(n.field),op:"IS_NAN"}};if(WV(n.value))return{unaryFilter:{field:wc(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(KV(n.value))return{unaryFilter:{field:wc(n.field),op:"IS_NOT_NAN"}};if(WV(n.value))return{unaryFilter:{field:wc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wc(n.field),op:ife(n.op),value:n.value}}}(t):t instanceof $n?function(n){const r=n.getFilters().map(i=>tU(i));return 1===r.length?r[0]:{compositeFilter:{op:ofe(n.op),filters:r}}}(t):nt()}function sfe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function nU(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class wl{constructor(e,n,r,i,o=bt.min(),s=bt.min(),a=Gr.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new wl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class rU{constructor(e){this.ct=e}}function CS(t){const e=X7({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?rb(e,e.limit,"L"):e}class nh{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(xr(e.integerValue));else if("doubleValue"in e){const r=xr(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),__(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),"string"==typeof r&&(r=ml(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(_l(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?QV(e)?this.dt(n,Number.MAX_SAFE_INTEGER):eb(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):nt()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const o=e.fields||{};this.dt(n,53);const s="value",a=(null===(i=null===(r=o[s].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.dt(n,15),n.At(xr(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),et.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}nh.vt=new nh;class gfe{constructor(){this.un=new NS}addToCollectionParentIndex(e,n){return this.un.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(Rs.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class NS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Yn(mn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Yn(mn.comparator)).toArray()}}new Uint8Array(0);class _o{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new _o(e,_o.DEFAULT_COLLECTION_PERCENTILE,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}_o.DEFAULT_COLLECTION_PERCENTILE=10,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_o.DEFAULT=new _o(41943040,_o.DEFAULT_COLLECTION_PERCENTILE,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_o.DISABLED=new _o(-1,0,0);class ih{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ih(0)}static kn(){return new ih(-1)}}class TU{constructor(){this.changes=new yl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Efe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class NU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&x_(r.mutation,i,ls.empty(),Fr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,nn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=nn()){const i=pu();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=T_();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=pu();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,nn()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=cs();const s=S_(),a=S_();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(void 0===c||c.mutation instanceof bl)?o=o.insert(l.key,l):void 0!==c?(s.set(l.key,c.mutation.getFieldMask()),x_(c.mutation,l,c.mutation.getFieldMask(),Fr.now())):s.set(l.key,ls.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,c)=>s.set(l,c)),n.forEach((l,c)=>{var d;return a.set(l,new Efe(c,null!==(d=s.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=S_();let i=new gr((s,a)=>s-a),o=nn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const l=n.get(u);if(null===l)return;let c=r.get(u)||ls.empty();c=a.applyToLocalView(l,c),r.set(u,c);const d=(i.get(a.batchId)||nn()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,d=b7();c.forEach(g=>{if(!o.has(g)){const p=D7(n.get(g),r.get(g));null!==p&&d.set(g,p),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,d))}return fe.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return et.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):dS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):fe.resolve(pu());let a=-1,u=o;return s.next(l=>fe.forEach(l,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?fe.resolve():this.remoteDocumentCache.getEntry(e,c).next(g=>{u=u.insert(c,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,nn())).next(c=>({batchId:a,changes:y7(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new et(n)).next(r=>{let i=T_();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=T_();return this.indexManager.getCollectionParents(e,o).next(a=>fe.forEach(a,u=>{const l=(d=n,g=u.child(o),new vl(g,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,g;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(c=>{c.forEach((d,g)=>{s=s.insert(d,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{const c=l.getKey();null===s.get(c)&&(s=s.insert(c,wr.newInvalidDocument(c)))});let a=T_();return s.forEach((u,l)=>{const c=o.get(u);void 0!==c&&x_(c.mutation,l,ls.empty(),Fr.now()),C_(n,l)&&(a=a.insert(u,l))}),a})}}class Afe{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return fe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,{id:(i=n).id,version:i.version,createTime:ii(i.createTime)}),fe.resolve();var i}getNamedQuery(e,n){return fe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,{name:(i=n).name,query:CS(i.bundledQuery),readTime:ii(i.readTime)}),fe.resolve();var i}}class Cfe{constructor(){this.overlays=new gr(et.comparator),this.Ir=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=pu();return fe.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),fe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const i=pu(),o=n.length+1,s=new et(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new gr((l,c)=>l-c);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=o.get(l.largestBatchId);null===c&&(c=pu(),o=o.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=pu(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return fe.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new vS(n,r));let o=this.Ir.get(n);void 0===o&&(o=nn(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}class Tfe{constructor(){this.sessionToken=Gr.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}class RS{constructor(){this.Tr=new Yn(Fi.Er),this.dr=new Yn(Fi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Fi(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Fi(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new et(new mn([])),r=new Fi(n,e),i=new Fi(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new et(new mn([])),r=new Fi(n,e),i=new Fi(n,e+1);let o=nn();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Fi(e,0),r=this.Tr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Fi{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return et.comparator(e.key,n.key)||qt(e.wr,n.wr)}static Ar(e,n){return qt(e.wr,n.wr)||et.comparator(e.key,n.key)}}class Sfe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Yn(Fi.Er)}checkEmpty(e){return fe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++;const s=new mS(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Fi(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return fe.resolve(s)}lookupMutationBatch(e,n){return fe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.vr(n+1),o=i<0?0:i;return fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Fi(n,0),i=new Fi(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Yn(qt);return n.forEach(i=>{const o=new Fi(i,0),s=new Fi(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),fe.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;et.isDocumentKey(o)||(o=o.child(""));const s=new Fi(new et(o),0);let a=new Yn(qt);return this.br.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),fe.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){ut(0===this.Fr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.br;return fe.forEach(n.mutations,i=>{const o=new Fi(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Fi(n,0),i=this.br.firstAfterOrEqual(r);return fe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return fe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Dfe{constructor(e){this.Mr=e,this.docs=new gr(et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():wr.newInvalidDocument(n))}getEntries(e,n){let r=cs();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():wr.newInvalidDocument(i))}),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=cs();const s=n.path,a=new et(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||eS(DV(c),r)<=0||(i.has(c.key)||C_(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return fe.resolve(o)}getAllFromCollectionGroup(e,n,r,i){nt()}Or(e,n){return fe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xfe(this)}getSize(e){return fe.resolve(this.size)}}class xfe extends TU{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),fe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}class Pfe{constructor(e){this.persistence=e,this.Nr=new yl(n=>Yd(n),E_),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new RS,this.targetCount=0,this.kr=ih.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),fe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ih(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Kn(n),fe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),fe.waitFor(o).next(()=>i)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),fe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this.Br.containsKey(n))}}class MS{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Ms(0),this.Kr=!1,this.Kr=!0,this.$r=new Tfe,this.referenceDelegate=e(this),this.Ur=new Pfe(this),this.indexManager=new gfe,this.remoteDocumentCache=new Dfe(r=>this.referenceDelegate.Wr(r)),this.serializer=new rU(n),this.Gr=new Afe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Cfe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Sfe(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ue("MemoryPersistence","Starting transaction:",e);const i=new Nfe(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return fe.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Nfe extends PV{constructor(e){super(),this.currentSequenceNumber=e}}class _b{constructor(e){this.persistence=e,this.Jr=new RS,this.Yr=null}static Zr(e){return new _b(e)}get Xr(){if(this.Yr)return this.Yr;throw nt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Xr,r=>{const i=et.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,bt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return fe.or([()=>fe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class FS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=nn(),i=nn();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new FS(e,n.fromCache,r,i)}}class Mfe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class MU{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function N6(){return!function fae(){var t;const e=null===(t=E1())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function NV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(Yi())>0?6:4}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Mfe;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ap()<=gn.DEBUG&&Ue("QueryEngine","SDK will not create cache indexes for query:",mp(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),fe.resolve()):(ap()<=gn.DEBUG&&Ue("QueryEngine","Query:",mp(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ap()<=gn.DEBUG&&Ue("QueryEngine","The SDK decides to create cache indexes for query:",mp(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mo(n))):fe.resolve())}Yi(e,n){if(h7(n))return fe.resolve(null);let r=mo(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=rb(n,null,"F"),r=mo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=nn(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,rb(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return h7(n)||i.isEqual(bt.min())?fe.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?fe.resolve(null):(ap()<=gn.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),mp(n)),this.rs(e,s,n,function SV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=bt.fromTimestamp(1e9===r?new Fr(n+1,0):new Fr(n,r));return new Rs(i,et.empty(),e)}(i,-1)).next(a=>a))})}ts(e,n){let r=new Yn(_7(e));return n.forEach((i,o)=>{C_(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return ap()<=gn.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",mp(n)),this.Ji.getDocumentsMatchingQuery(e,n,Rs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class kfe{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new gr(qt),this._s=new yl(o=>Yd(o),E_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NU(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function OU(t,e){return VS.apply(this,arguments)}function VS(){return VS=(0,ne.A)(function*(t,e){const n=Ze(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=nn();for(const l of i){s.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of o){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})}),VS.apply(this,arguments)}function LU(t){const e=Ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Ffe(t,e){const n=Ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Dp(t,e,n){return US.apply(this,arguments)}function US(){return US=(0,ne.A)(function*(t,e,n){const r=Ze(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!gc(s))throw s;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}),US.apply(this,arguments)}function bb(t,e,n){const r=Ze(t);let i=bt.min(),o=nn();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,c){const d=Ze(u),g=d._s.get(c);return void 0!==g?fe.resolve(d.os.get(g)):d.Ur.getTargetData(l,c)}(r,s,mo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:bt.min(),n?o:nn())).next(a=>(function BU(t,e,n){let r=t.us.get(e)||bt.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}(r,function m7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,Ts:o})))}class qS{constructor(){this.activeTargetIds=function fS(){return Vhe}()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $U{constructor(){this.so=new qS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new qS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Bfe{_o(e){}shutdown(){}}class qU{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Eb=null;function HS(){return null===Eb?Eb=268435456+Math.round(2147483648*Math.random()):Eb++,"0x"+Eb.toString(16)}const jfe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zfe{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const vo="WebChannelConnection";class $fe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=HS(),u=this.xo(n,r.toUriEncodedString());Ue("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(c=>(Ue("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw ua("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+sp,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){return`${this.Do}/v1/${r}:${jfe[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=HS();return new Promise((s,a)=>{const u=new _V;u.setWithCredentials(!0),u.listenOnce(vV.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case G1.NO_ERROR:const c=u.getResponseJson();Ue(vo,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case G1.TIMEOUT:Ue(vo,`RPC '${e}' ${o} timed out`),a(new Be(be.DEADLINE_EXCEEDED,"Request time out"));break;case G1.HTTP_ERROR:const d=u.getStatus();if(Ue(vo,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const p=g?.error;if(p&&p.status&&p.message){const b=function(E){const A=E.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(A)>=0?A:be.UNKNOWN}(p.status);a(new Be(b,p.message))}else a(new Be(be.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Be(be.UNAVAILABLE,"Connection failed."));break;default:nt()}}finally{Ue(vo,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(i);Ue(vo,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){const i=HS(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=wV(),a=bV(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=o.join("");Ue(vo,`Creating RPC '${e}' stream ${i}: ${c}`,u);const d=s.createWebChannel(c,u);let g=!1,p=!1;const b=new zfe({Io:E=>{p?Ue(vo,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(g||(Ue(vo,`Opening RPC '${e}' stream ${i} transport.`),d.open(),g=!0),Ue(vo,`RPC '${e}' stream ${i} sending:`,E),d.send(E))},To:()=>d.close()}),w=(E,A,R)=>{E.listen(A,V=>{try{R(V)}catch(O){setTimeout(()=>{throw O},0)}})};return w(d,f_.EventType.OPEN,()=>{p||(Ue(vo,`RPC '${e}' stream ${i} transport opened.`),b.yo())}),w(d,f_.EventType.CLOSE,()=>{p||(p=!0,Ue(vo,`RPC '${e}' stream ${i} transport closed`),b.So())}),w(d,f_.EventType.ERROR,E=>{p||(p=!0,ua(vo,`RPC '${e}' stream ${i} transport errored:`,E),b.So(new Be(be.UNAVAILABLE,"The operation could not be completed")))}),w(d,f_.EventType.MESSAGE,E=>{var A;if(!p){const R=E.data[0];ut(!!R);const O=R.error||(null===(A=R[0])||void 0===A?void 0:A.error);if(O){Ue(vo,`RPC '${e}' stream ${i} received error:`,O);const Z=O.status;let ie=function(S){const L=_i[S];if(void 0!==L)return O7(L)}(Z),B=O.message;void 0===ie&&(ie=be.INTERNAL,B="Unknown error status: "+Z+" with message "+O.message),p=!0,b.So(new Be(ie,B)),d.close()}else Ue(vo,`RPC '${e}' stream ${i} received:`,R),b.bo(R)}}),w(a,yV.STAT_EVENT,E=>{E.stat===Z5.PROXY?Ue(vo,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Z5.NOPROXY&&Ue(vo,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function Ab(){return typeof document<"u"?document:null}function z_(t){return new Zhe(t,!0)}class WS{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class HU{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new WS(e,n)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,ne.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,ne.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){var r=this;return(0,ne.A)(function*(){r.u_(),r.c_(),r.t_.cancel(),r.Yo++,4!==e?r.t_.reset():n&&n.code===be.RESOURCE_EXHAUSTED?(ri(n.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),r.t_.Wo()):n&&n.code===be.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.l_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.mo(n)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Be(be.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>1==++this.e_?this.E_(i):this.onNext(i))})}i_(){var e=this;this.state=5,this.t_.Go((0,ne.A)(function*(){e.state=0,e.start()}))}I_(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qfe extends HU{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=function efe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:nt(),i=e.targetChange.targetIds||[],o=function(l,c){return l.useProto3Json?(ut(void 0===c||"string"==typeof c),Gr.fromBase64String(c||"")):(ut(void 0===c||c instanceof Buffer||c instanceof Uint8Array),Gr.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const c=void 0===l.code?be.UNKNOWN:O7(l.code);return new Be(c,l.message||"")}(s);n=new B7(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=gu(t,r.document.name),o=ii(r.document.updateTime),s=r.document.createTime?ii(r.document.createTime):bt.min(),a=new Xi({mapValue:{fields:r.document.fields}}),u=wr.newFoundDocument(i,o,s,a);n=new ub(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=gu(t,r.document),o=r.readTime?ii(r.readTime):bt.min(),s=wr.newNoDocument(i,o);n=new ub([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=gu(t,r.document);n=new ub([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return nt();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new Ghe(i,o);n=new U7(r.targetId,s)}}var l;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return bt.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?bt.min():s.readTime?ii(s.readTime):bt.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=ES(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=tb(u)?{documents:Z7(o,u)}:{query:lb(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=q7(o,s.resumeToken);const l=bS(o,s.expectedCount);null!==l&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(bt.min())>0){a.readTime=wp(o,s.snapshotVersion.toTimestamp());const l=bS(o,s.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function nfe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=ES(this.serializer),n.removeTarget=e,this.a_(n)}}class Gfe extends HU{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ut(!!e.streamToken),this.lastStreamToken=e.streamToken,ut(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=function tfe(t,e){return t&&t.length>0?(ut(void 0!==e),t.map(n=>function(i,o){let s=ii(i.updateTime?i.updateTime:o);return s.isEqual(bt.min())&&(s=ii(o)),new zhe(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=ii(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=ES(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function k_(t,e){let n;if(e instanceof yp)n={update:Q7(t,e.key,e.value)};else if(e instanceof bp)n={delete:M_(t,e.key)};else if(e instanceof bl)n={update:Q7(t,e.key,e.data),updateMask:sfe(e.fieldMask)};else{if(!(e instanceof gS))return nt();n={verify:M_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof _p)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Jd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof vp)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw nt()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Jhe(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:nt()),n;var o}(this.serializer,r))};this.a_(n)}}class Hfe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Be(be.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,IS(n,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Be(be.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,IS(n,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Be(be.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Wfe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ri(n),this.D_=!1):Ue("OnlineStateTracker",n)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Kfe{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget((0,ne.A)(function*(){var u;Cc(s)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(u=(0,ne.A)(function*(c){const d=Ze(c);d.L_.add(4),yield xp(d),d.q_.set("Unknown"),d.L_.delete(4),yield $_(d)}),function l(c){return u.apply(this,arguments)})(s))}))}),this.q_=new Wfe(r,i)}}function $_(t){return KS.apply(this,arguments)}function KS(){return KS=(0,ne.A)(function*(t){if(Cc(t))for(const e of t.B_)yield e(!0)}),KS.apply(this,arguments)}function xp(t){return QS.apply(this,arguments)}function QS(){return QS=(0,ne.A)(function*(t){for(const e of t.B_)yield e(!1)}),QS.apply(this,arguments)}function Cb(t,e){const n=Ze(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),JS(n)?ZS(n):Rp(n).r_()&&YS(n,e))}function Pp(t,e){const n=Ze(t),r=Rp(n);n.N_.delete(e),r.r_()&&WU(n,e),0===n.N_.size&&(r.r_()?r.o_():Cc(n)&&n.q_.set("Unknown"))}function YS(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rp(t).A_(e)}function WU(t,e){t.Q_.xe(e),Rp(t).R_(e)}function ZS(t){t.Q_=new Whe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Rp(t).start(),t.q_.v_()}function JS(t){return Cc(t)&&!Rp(t).n_()&&t.N_.size>0}function Cc(t){return 0===Ze(t).L_.size}function KU(t){t.Q_=void 0}function Qfe(t){return XS.apply(this,arguments)}function XS(){return XS=(0,ne.A)(function*(t){t.q_.set("Online")}),XS.apply(this,arguments)}function Yfe(t){return eD.apply(this,arguments)}function eD(){return eD=(0,ne.A)(function*(t){t.N_.forEach((e,n)=>{YS(t,e)})}),eD.apply(this,arguments)}function Zfe(t,e){return tD.apply(this,arguments)}function tD(){return tD=(0,ne.A)(function*(t,e){KU(t),JS(t)?(t.q_.M_(e),ZS(t)):t.q_.set("Unknown")}),tD.apply(this,arguments)}function Jfe(t,e,n){return nD.apply(this,arguments)}function nD(){return nD=(0,ne.A)(function*(t,e,n){if(t.q_.set("Online"),e instanceof B7&&2===e.state&&e.cause)try{yield(r=(0,ne.A)(function*(o,s){const a=s.cause;for(const u of s.targetIds)o.N_.has(u)&&(yield o.remoteSyncer.rejectListen(u,a),o.N_.delete(u),o.Q_.removeTarget(u))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Tb(t,r)}else if(e instanceof ub?t.Q_.Ke(e):e instanceof U7?t.Q_.He(e):t.Q_.We(e),!n.isEqual(bt.min()))try{const r=yield LU(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=o.N_.get(l);c&&o.N_.set(l,c.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{const c=o.N_.get(u);if(!c)return;o.N_.set(u,c.withResumeToken(Gr.EMPTY_BYTE_STRING,c.snapshotVersion)),WU(o,u);const d=new wl(c.target,u,l,c.sequenceNumber);YS(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),yield Tb(t,r)}var r}),nD.apply(this,arguments)}function Tb(t,e,n){return rD.apply(this,arguments)}function rD(){return rD=(0,ne.A)(function*(t,e,n){if(!gc(e))throw e;t.L_.add(1),yield xp(t),t.q_.set("Offline"),n||(n=()=>LU(t.localStore)),t.asyncQueue.enqueueRetryable((0,ne.A)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield $_(t)}))}),rD.apply(this,arguments)}function QU(t,e){return e().catch(n=>Tb(t,n,e))}function Np(t){return iD.apply(this,arguments)}function iD(){return iD=(0,ne.A)(function*(t){const e=Ze(t),n=Tc(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Xfe(e);)try{const i=yield Ffe(e.localStore,r);if(null===i){0===e.O_.length&&n.o_();break}r=i.batchId,epe(e,i)}catch(i){yield Tb(e,i)}YU(e)&&ZU(e)}),iD.apply(this,arguments)}function Xfe(t){return Cc(t)&&t.O_.length<10}function epe(t,e){t.O_.push(e);const n=Tc(t);n.r_()&&n.V_&&n.m_(e.mutations)}function YU(t){return Cc(t)&&!Tc(t).n_()&&t.O_.length>0}function ZU(t){Tc(t).start()}function tpe(t){return oD.apply(this,arguments)}function oD(){return oD=(0,ne.A)(function*(t){Tc(t).p_()}),oD.apply(this,arguments)}function npe(t){return sD.apply(this,arguments)}function sD(){return sD=(0,ne.A)(function*(t){const e=Tc(t);for(const n of t.O_)e.m_(n.mutations)}),sD.apply(this,arguments)}function rpe(t,e,n){return aD.apply(this,arguments)}function aD(){return aD=(0,ne.A)(function*(t,e,n){const r=t.O_.shift(),i=_S.from(r,e,n);yield QU(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Np(t)}),aD.apply(this,arguments)}function ipe(t,e){return uD.apply(this,arguments)}function uD(){return uD=(0,ne.A)(function*(t,e){var n;e&&Tc(t).V_&&(yield(n=(0,ne.A)(function*(i,o){if(function k7(t){switch(t){default:return nt();case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0}}(a=o.code)&&a!==be.ABORTED){const s=i.O_.shift();Tc(i).s_(),yield QU(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Np(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),YU(t)&&ZU(t)}),uD.apply(this,arguments)}function JU(t,e){return lD.apply(this,arguments)}function lD(){return lD=(0,ne.A)(function*(t,e){const n=Ze(t);n.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=Cc(n);n.L_.add(3),yield xp(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield $_(n)}),lD.apply(this,arguments)}function dD(){return dD=(0,ne.A)(function*(t,e){const n=Ze(t);e?(n.L_.delete(2),yield $_(n)):e||(n.L_.add(2),yield xp(n),n.q_.set("Unknown"))}),dD.apply(this,arguments)}function Rp(t){return t.K_||(t.K_=function(n,r,i){const o=Ze(n);return o.w_(),new qfe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Qfe.bind(null,t),Ro:Yfe.bind(null,t),mo:Zfe.bind(null,t),d_:Jfe.bind(null,t)}),t.B_.push(function(){var e=(0,ne.A)(function*(n){n?(t.K_.s_(),JS(t)?ZS(t):t.q_.set("Unknown")):(yield t.K_.stop(),KU(t))});return function(n){return e.apply(this,arguments)}}())),t.K_}function Tc(t){return t.U_||(t.U_=function(n,r,i){const o=Ze(n);return o.w_(),new Gfe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:tpe.bind(null,t),mo:ipe.bind(null,t),f_:npe.bind(null,t),g_:rpe.bind(null,t)}),t.B_.push(function(){var e=(0,ne.A)(function*(n){n?(t.U_.s_(),yield Np(t)):(yield t.U_.stop(),t.O_.length>0&&(Ue("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))});return function(n){return e.apply(this,arguments)}}())),t.U_}class hD{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new hD(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Be(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mp(t,e){if(ri("AsyncQueue",`${e}: ${t}`),gc(t))return new Be(be.UNAVAILABLE,`${e}: ${t}`);throw t}class kp{constructor(e){this.comparator=e?(n,r)=>e(n,r)||et.comparator(n.key,r.key):(n,r)=>et.comparator(n.key,r.key),this.keyedMap=T_(),this.sortedSet=new gr(this.comparator)}static emptySet(e){return new kp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof kp)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new kp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class XU{constructor(){this.W_=new gr(et.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?0!==e.type&&3===r.type?this.W_=this.W_.insert(n,e):3===e.type&&1!==r.type?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.W_=this.W_.remove(n):1===e.type&&2===r.type?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):nt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Op{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Op(e,n,kp.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&A_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class ope{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class spe{constructor(){this.queries=eB(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(n,r){const i=Ze(n),o=i.queries;i.queries=eB(),o.forEach((s,a)=>{for(const u of a.j_)u.onError(r)})}(this,new Be(be.ABORTED,"Firestore shutting down"))}}function eB(){return new yl(t=>g7(t),A_)}function pD(){return pD=(0,ne.A)(function*(t,e){const n=Ze(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new ope,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){const a=Mp(s,`Initialization of query '${mp(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&_D(n)}),pD.apply(this,arguments)}function mD(){return mD=(0,ne.A)(function*(t,e){const n=Ze(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),0===o.j_.length?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}),mD.apply(this,arguments)}function ape(t,e){const n=Ze(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&_D(n)}function upe(t,e,n){const r=Ze(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function _D(t){t.Y_.forEach(e=>{e.next()})}var vD,tB;(tB=vD||(vD={})).ea="default",tB.Cache="cache";class yD{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Op(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=Op.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==vD.Cache}}class iB{constructor(e){this.key=e}}class oB{constructor(e){this.key=e}}class sB{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=nn(),this.mutatedKeys=nn(),this.Aa=_7(e),this.Ra=new kp(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new XU,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const g=i.get(c),p=C_(this.query,d)?d:null,b=!!g&&this.mutatedKeys.has(g.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;g&&p?g.data.isEqual(p.data)?b!==w&&(r.track({type:3,doc:p}),E=!0):this.ga(g,p)||(r.track({type:2,doc:p}),E=!0,(u&&this.Aa(p,u)>0||l&&this.Aa(p,l)<0)&&(a=!0)):!g&&p?(r.track({type:0,doc:p}),E=!0):g&&!p&&(r.track({type:1,doc:g}),E=!0,(u||l)&&(a=!0)),E&&(p?(s=s.add(p),o=w?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const c="F"===this.query.limitType?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,d)=>function(p,b){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt()}};return w(p)-w(b)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=null!=i&&i;const a=n&&!i?this.ya():[],u=0===this.da.size&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,0!==s.length||l?{snapshot:new Op(this.query,e.Ra,o,s,e.mutatedKeys,0===u,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new XU,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=nn(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new oB(r))}),this.da.forEach(r=>{e.has(r)||n.push(new iB(r))}),n}ba(e){this.Ta=e.Ts,this.da=nn();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Op.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class dpe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class hpe{constructor(e){this.key=e,this.va=!1}}class fpe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new yl(a=>g7(a),A_),this.Ma=new Map,this.xa=new Set,this.Oa=new gr(et.comparator),this.Na=new Map,this.La=new RS,this.Ba={},this.ka=new Map,this.qa=ih.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function ppe(t,e){return bD.apply(this,arguments)}function bD(){return bD=(0,ne.A)(function*(t,e,n=!0){const r=Sb(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield aB(r,e,n,!0),i}),bD.apply(this,arguments)}function gpe(t,e){return wD.apply(this,arguments)}function wD(){return wD=(0,ne.A)(function*(t,e){const n=Sb(t);yield aB(n,e,!0,!1)}),wD.apply(this,arguments)}function aB(t,e,n,r){return ID.apply(this,arguments)}function ID(){return ID=(0,ne.A)(function*(t,e,n,r){const i=yield function Sp(t,e){const n=Ze(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,fe.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new wl(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}(t.localStore,mo(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=yield function ED(t,e,n,r,i){return AD.apply(this,arguments)}(t,e,o,"current"===s,i.resumeToken)),t.isPrimaryClient&&n&&Cb(t.remoteStore,i),a}),ID.apply(this,arguments)}function AD(){return AD=(0,ne.A)(function*(t,e,n,r,i){t.Ka=(d,g,p)=>{return(b=(0,ne.A)(function*(E,A,R,V){let O=A.view.ma(R);O.ns&&(O=yield bb(E.localStore,A.query,!1).then(({documents:D})=>A.view.ma(D,O)));const Z=V&&V.targetChanges.get(A.targetId),ie=V&&null!=V.targetMismatches.get(A.targetId),B=A.view.applyChanges(O,E.isPrimaryClient,Z,ie);return OD(E,A.targetId,B.wa),B.snapshot}),function w(E,A,R,V){return b.apply(this,arguments)})(t,d,g,p);var b};const o=yield bb(t.localStore,e,!0),s=new sB(e,o.Ts),a=s.ma(o.documents),u=R_.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=s.applyChanges(a,t.isPrimaryClient,u);OD(t,n,l.wa);const c=new dpe(e,n,s);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot}),AD.apply(this,arguments)}function mpe(t,e,n){return CD.apply(this,arguments)}function CD(){return CD=(0,ne.A)(function*(t,e,n){const r=Ze(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!A_(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Dp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Pp(r.remoteStore,i.targetId),Lp(r,i.targetId)}).catch(pc))):(Lp(r,i.targetId),yield Dp(r.localStore,i.targetId,!0))}),CD.apply(this,arguments)}function _pe(t,e){return TD.apply(this,arguments)}function TD(){return TD=(0,ne.A)(function*(t,e){const n=Ze(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Pp(n.remoteStore,r.targetId))}),TD.apply(this,arguments)}function SD(){return SD=(0,ne.A)(function*(t,e,n){const r=function HD(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bpe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wpe.bind(null,e),e}(t);try{const i=yield function(s,a){const u=Ze(s),l=Fr.now(),c=a.reduce((p,b)=>p.add(b.key),nn());let d,g;return u.persistence.runTransaction("Locally write mutations","readwrite",p=>{let b=cs(),w=nn();return u.cs.getEntries(p,c).next(E=>{b=E,b.forEach((A,R)=>{R.isValidDocument()||(w=w.add(A))})}).next(()=>u.localDocuments.getOverlayedDocuments(p,b)).next(E=>{d=E;const A=[];for(const R of a){const V=qhe(R,d.get(R.key).overlayedDocument);null!=V&&A.push(new bl(R.key,V,XV(V.value.mapValue),Pr.exists(!0)))}return u.mutationQueue.addMutationBatch(p,l,A,a)}).next(E=>{g=E;const A=E.applyToLocalDocumentSet(d,w);return u.documentOverlayCache.saveOverlays(p,E.batchId,A)})}).then(()=>({batchId:g.batchId,changes:y7(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new gr(qt)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Il(r,i.changes),yield Np(r.remoteStore)}catch(i){const o=Mp(i,"Failed to persist write");n.reject(o)}}),SD.apply(this,arguments)}function uB(t,e){return DD.apply(this,arguments)}function DD(){return DD=(0,ne.A)(function*(t,e){const n=Ze(t);try{const r=yield function Lfe(t,e){const n=Ze(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,d)=>{const g=i.get(d);if(!g)return;a.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,d)));let p=g.withSequenceNumber(o.currentSequenceNumber);var w,E,A;null!==e.targetMismatches.get(d)?p=p.withResumeToken(Gr.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),E=p,A=c,(0===(w=g).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0)&&a.push(n.Ur.updateTargetData(o,p))});let u=cs(),l=nn();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(function FU(t,e,n){let r=nn(),i=nn();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=cs();return n.forEach((a,u)=>{const l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(bt.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||0===u.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):Ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}(o,s,e.documentUpdates).next(c=>{u=c.Ps,l=c.Is})),!r.isEqual(bt.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(d=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return fe.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?ut(s.va):i.removedDocuments.size>0&&(ut(s.va),s.va=!1))}),yield Il(n,r,e)}catch(r){yield pc(r)}}),DD.apply(this,arguments)}function lB(t,e,n){const r=Ze(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=Ze(s);u.onlineState=a;let l=!1;u.queries.forEach((c,d)=>{for(const g of d.j_)g.Z_(a)&&(l=!0)}),l&&_D(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ype(t,e,n){return xD.apply(this,arguments)}function xD(){return xD=(0,ne.A)(function*(t,e,n){const r=Ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new gr(et.comparator);s=s.insert(o,wr.newNoDocument(o,bt.min()));const a=nn().add(o),u=new N_(bt.min(),new Map,new gr(qt),s,a);yield uB(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),LD(r)}else yield Dp(r.localStore,e,!1).then(()=>Lp(r,e,n)).catch(pc)}),xD.apply(this,arguments)}function bpe(t,e){return PD.apply(this,arguments)}function PD(){return PD=(0,ne.A)(function*(t,e){const n=Ze(t),r=e.batch.batchId;try{const i=yield function Ofe(t,e){const n=Ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const d=l.batch,g=d.keys();let p=fe.resolve();return g.forEach(b=>{p=p.next(()=>c.getEntry(u,b)).next(w=>{const E=l.docVersions.get(b);ut(null!==E),w.version.compareTo(E)<0&&(d.applyToRemoteDocument(w,l),w.isValidDocument()&&(w.setReadTime(l.commitVersion),c.addEntry(w)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=nn();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);kD(n,r,null),MD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Il(n,i)}catch(i){yield pc(i)}}),PD.apply(this,arguments)}function wpe(t,e,n){return ND.apply(this,arguments)}function ND(){return ND=(0,ne.A)(function*(t,e,n){const r=Ze(t);try{const i=yield function(s,a){const u=Ze(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(d=>(ut(null!==d),c=d.keys(),u.mutationQueue.removeMutationBatch(l,d))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,e);kD(r,e,n),MD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Il(r,i)}catch(i){yield pc(i)}}),ND.apply(this,arguments)}function MD(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function kD(t,e,n){const r=Ze(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Lp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||cB(t,r)})}function cB(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);null!==n&&(Pp(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),LD(t))}function OD(t,e,n){for(const r of n)r instanceof iB?(t.La.addReference(r.key,e),Epe(t,r)):r instanceof oB?(Ue("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||cB(t,r.key)):nt()}function Epe(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ue("SyncEngine","New document in limbo: "+n),t.xa.add(r),LD(t))}function LD(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new et(mn.fromString(e)),r=t.qa.next();t.Na.set(r,new hpe(n)),t.Oa=t.Oa.insert(n,r),Cb(t.remoteStore,new wl(mo(pp(n.path)),r,"TargetPurposeLimboResolution",Ms.oe))}}function Il(t,e,n){return FD.apply(this,arguments)}function FD(){return FD=(0,ne.A)(function*(t,e,n){const r=Ze(t),i=[],o=[],s=[];var a;r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var c;if((l||n)&&r.isPrimaryClient){const d=l?!l.fromCache:null===(c=n?.targetChanges.get(u.targetId))||void 0===c?void 0:c.current;r.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(l){i.push(l);const d=FS.Wi(u.targetId,l);o.push(d)}}))}),yield Promise.all(s),r.Ca.d_(i),yield(a=(0,ne.A)(function*(l,c){const d=Ze(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>fe.forEach(c,p=>fe.forEach(p.$i,b=>d.persistence.referenceDelegate.addReference(g,p.targetId,b)).next(()=>fe.forEach(p.Ui,b=>d.persistence.referenceDelegate.removeReference(g,p.targetId,b)))))}catch(g){if(!gc(g))throw g;Ue("LocalStore","Failed to update sequence numbers: "+g)}for(const g of c){const p=g.targetId;if(!g.fromCache){const b=d.os.get(p),E=b.withLastLimboFreeSnapshotVersion(b.snapshotVersion);d.os=d.os.insert(p,E)}}}),function u(l,c){return a.apply(this,arguments)})(r.localStore,o))}),FD.apply(this,arguments)}function Ape(t,e){return VD.apply(this,arguments)}function VD(){return VD=(0,ne.A)(function*(t,e){const n=Ze(t);if(!n.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=yield OU(n.localStore,e);n.currentUser=e,(o=n).ka.forEach(a=>{a.forEach(u=>{u.reject(new Be(be.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ka.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Il(n,r.hs)}var o}),VD.apply(this,arguments)}function Cpe(t,e){const n=Ze(t),r=n.Na.get(e);if(r&&r.va)return nn().add(r.key);{let i=nn();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function Sb(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cpe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ype.bind(null,e),e.Ca.d_=ape.bind(null,e.eventManager),e.Ca.$a=upe.bind(null,e.eventManager),e}let Fp=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){var r=this;return(0,ne.A)(function*(){r.serializer=z_(n.databaseInfo.databaseId),r.sharedClientState=r.Wa(n),r.persistence=r.Ga(n),yield r.persistence.start(),r.localStore=r.za(n),r.gcScheduler=r.ja(n,r.localStore),r.indexBackfillerScheduler=r.Ha(n,r.localStore)})()}ja(n,r){return null}Ha(n,r){return null}za(n){return function kU(t,e,n,r){return new kfe(t,e,n,r)}(this.persistence,new MU,n.initialUser,this.serializer)}Ga(n){return new MS(_b.Zr,this.serializer)}Wa(n){return new $U}terminate(){var n=this;return(0,ne.A)(function*(){var r,i;null===(r=n.gcScheduler)||void 0===r||r.stop(),null===(i=n.indexBackfillerScheduler)||void 0===i||i.stop(),n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}return t.provider={build:()=>new t},t})(),Vp=(()=>{class t{initialize(n,r){var i=this;return(0,ne.A)(function*(){i.localStore||(i.localStore=n.localStore,i.sharedClientState=n.sharedClientState,i.datastore=i.createDatastore(r),i.remoteStore=i.createRemoteStore(r),i.eventManager=i.createEventManager(r),i.syncEngine=i.createSyncEngine(r,!n.synchronizeTabs),i.sharedClientState.onlineStateHandler=o=>lB(i.syncEngine,o,1),i.remoteStore.remoteSyncer.handleCredentialChange=Ape.bind(null,i.syncEngine),yield function cD(t,e){return dD.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(n){return new spe}createDatastore(n){const r=z_(n.databaseInfo.databaseId),i=new $fe(n.databaseInfo);return new Hfe(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return i=this.localStore,o=this.datastore,s=n.asyncQueue,a=r=>lB(this.syncEngine,r,0),u=qU.D()?new qU:new Bfe,new Kfe(i,o,s,a,u);var i,o,s,a,u}createSyncEngine(n,r){return function(o,s,a,u,l,c,d){const g=new fpe(o,s,a,u,l,c);return d&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){var n=this;return(0,ne.A)(function*(){var r,i,o;yield(o=(0,ne.A)(function*(a){const u=Ze(a);Ue("RemoteStore","RemoteStore shutting down."),u.L_.add(5),yield xp(u),u.k_.shutdown(),u.q_.set("Unknown")}),function s(a){return o.apply(this,arguments)})(n.remoteStore),null===(r=n.datastore)||void 0===r||r.terminate(),null===(i=n.eventManager)||void 0===i||i.terminate()})()}}return t.provider={build:()=>new t},t})();class Db{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}class Vpe{constructor(e,n,r,i,o){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Oi.UNAUTHENTICATED,this.clientId=CV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,function(){var a=(0,ne.A)(function*(u){Ue("FirestoreClient","Received user=",u.uid),yield s.authCredentialListener(u),s.user=u});return function(u){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>(Ue("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ne.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Mp(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function KD(t,e){return QD.apply(this,arguments)}function QD(){return QD=(0,ne.A)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,ne.A)(function*(o){r.isEqual(o)||(yield OU(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),QD.apply(this,arguments)}function gB(t,e){return YD.apply(this,arguments)}function YD(){return YD=(0,ne.A)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function ZD(t){return JD.apply(this,arguments)}(t);Ue("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>JU(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>JU(e.remoteStore,i)),t._onlineComponents=e}),YD.apply(this,arguments)}function JD(){return JD=(0,ne.A)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{yield KD(t,t._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(i=e).name?i.code===be.FAILED_PRECONDITION||i.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw e;ua("Error using user provided cache. Falling back to memory cache: "+e),yield KD(t,new Fp)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),yield KD(t,new Fp);var i;return t._offlineComponents}),JD.apply(this,arguments)}function xb(t){return XD.apply(this,arguments)}function XD(){return XD=(0,ne.A)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),yield gB(t,t._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield gB(t,new Vp))),t._onlineComponents}),XD.apply(this,arguments)}function Bp(t){return tx.apply(this,arguments)}function tx(){return tx=(0,ne.A)(function*(t){const e=yield xb(t),n=e.eventManager;return n.onListen=ppe.bind(null,e.syncEngine),n.onUnlisten=mpe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gpe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_pe.bind(null,e.syncEngine),n}),tx.apply(this,arguments)}function wB(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const IB=new Map;function nx(t,e,n){if(!n)throw new Be(be.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EB(t){if(!et.isDocumentKey(t))throw new Be(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function AB(t){if(et.isDocumentKey(t))throw new Be(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Pb(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":nt()}function hn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Be(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pb(t);throw new Be(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class TB{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Be(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Be(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Ype(t,e,n,r){if(!0===e&&!0===r)throw new Be(be.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=wB(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Be(be.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Be(be.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Be(be.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class q_{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TB({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Be(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Be(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TB(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new $de;switch(r.type){case"firstParty":return new Wde(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Be(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,ne.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=IB.get(n);r&&(Ue("ComponentProvider","Removing Datastore"),IB.delete(n),r.terminate())}(this),Promise.resolve()}}class eo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new eo(this.firestore,e,this._query)}}class oi{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new oi(this.firestore,e,this._key)}}class mu extends eo{constructor(e,n,r){super(e,n,pp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new oi(this.firestore,null,new et(e))}withConverter(e){return new mu(this.firestore,e,this._path)}}function Jpe(t,e,...n){if(t=Zi(t),nx("collection","path",e),t instanceof q_){const r=mn.fromString(e,...n);return AB(r),new mu(t,null,r)}{if(!(t instanceof oi||t instanceof mu))throw new Be(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mn.fromString(e,...n));return AB(r),new mu(t.firestore,null,r)}}function SB(t,e,...n){if(t=Zi(t),1===arguments.length&&(e=CV.newId()),nx("doc","path",e),t instanceof q_){const r=mn.fromString(e,...n);return EB(r),new oi(t,null,new et(r))}{if(!(t instanceof oi||t instanceof mu))throw new Be(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mn.fromString(e,...n));return EB(r),new oi(t.firestore,t instanceof mu?t.converter:null,new et(r))}}class xB{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new WS(this,"async_queue_retry"),this.Vu=()=>{const r=Ab();r&&Ue("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Ab();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Ab();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Li;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,ne.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(n){if(!gc(n))throw n;Ue("AsyncQueue","Operation failed with retryable error: "+n)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{throw this.Eu=r,this.du=!1,ri("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=hD.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&nt()}verifyOperationInProgress(){}wu(){var e=this;return(0,ne.A)(function*(){let n;do{n=e.mu,yield n}while(n!==e.mu)})()}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function rx(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class or extends q_{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new xB,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,ne.A)(function*(){if(e._firestoreClient){const n=e._firestoreClient.terminate();e._queue=new xB(n),e._firestoreClient=void 0,yield n}})()}}function ege(t,e){const r="string"==typeof t?t:e||"(default)",i=function z6(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}("object"==typeof t?t:G6(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=E1())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");o&&function Zpe(t,e,n,r={}){var i;const o=(t=hn(t,q_))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Oi.MOCK_USER;else{a=function dae(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[w1(JSON.stringify({alg:"none",type:"JWT"})),w1(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Be(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Oi(l)}t._authCredentials=new qde(new EV(a,u))}}(i,...o)}return i}function Vr(t){if(t._terminated)throw new Be(be.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||function PB(t){var e,n,r;const i=t._freezeSettings(),o=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Ehe(t._databaseId,u,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,wB(c.experimentalLongPollingOptions),c.useFetchStreams));var u,c;t._componentsProvider||!(null===(n=i.localCache)||void 0===n)&&n._offlineComponentProvider&&!(null===(r=i.localCache)||void 0===r)&&r._onlineComponentProvider&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Vpe(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}(t),t._firestoreClient}class sh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sh(Gr.fromBase64String(e))}catch(n){throw new Be(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new sh(Gr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ah{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Be(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jp{constructor(e){this._methodName=e}}class ox{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Be(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Be(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}}class Nb{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}const nge=/^__.*__$/;class rge{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new bl(e,this.data,this.fieldMask,n,this.fieldTransforms):new yp(e,this.data,n,this.fieldTransforms)}}class RB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new bl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function MB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt()}}class Rb{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Rb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ob(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(MB(this.Cu)&&nge.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class ige{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||z_(e)}Qu(e,n,r,i=!1){return new Rb({Cu:e,methodName:n,qu:r,path:Dr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uh(t){const e=t._freezeSettings(),n=z_(t._databaseId);return new ige(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Mb(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);hx("Data must be an object, but it was:",s,r);const a=LB(r,s);let u,l;if(o.merge)u=new ls(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const g=W_(e,d,n);if(!s.contains(g))throw new Be(be.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);VB(c,g)||c.push(g)}u=new ls(c),l=s.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=s.fieldTransforms;return new rge(new Xi(a),u,l)}class H_ extends jp{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof H_}}function lh(t,e){if(FB(t=Zi(t)))return hx("Unsupported field value:",e,t),LB(t,e);if(t instanceof jp)return function(r,i){if(!MB(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=lh(a,i.Lu(s));null==u&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=Zi(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return I7(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=Fr.fromDate(r);return{timestampValue:wp(i.serializer,o)}}if(r instanceof Fr){const o=new Fr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wp(i.serializer,o)}}if(r instanceof ox)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof sh)return{bytesValue:q7(i.serializer,r._byteString)};if(r instanceof oi){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:wS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Nb)return a=i,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:r.toArray().map(u=>{if("number"!=typeof u)throw a.Bu("VectorValues must only contain numeric values.");return pS(a.serializer,u)})}}}}};var a;throw i.Bu(`Unsupported field value: ${Pb(r)}`)}(t,e)}function LB(t,e){const n={};return zV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mc(t,(r,i)=>{const o=lh(i,e.Mu(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function FB(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Fr||t instanceof ox||t instanceof sh||t instanceof oi||t instanceof jp||t instanceof Nb)}function hx(t,e,n){if(!FB(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Pb(n);throw e.Bu("an object"===r?t+" a custom object":t+" "+r)}var i}function W_(t,e,n){if((e=Zi(e))instanceof ah)return e._internalPath;if("string"==typeof e)return kb(t,e);throw Ob("Field path arguments must be of type string or ",t,!1,void 0,n)}const oge=new RegExp("[~\\*/\\[\\]]");function kb(t,e,n){if(e.search(oge)>=0)throw Ob(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ah(...e.split("."))._internalPath}catch{throw Ob(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ob(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new Be(be.INVALID_ARGUMENT,a+t+u)}function VB(t,e){return t.some(n=>n.isEqual(e))}class K_{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new oi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sge(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class sge extends K_{data(){return super.data()}}function Lb(t,e){return"string"==typeof e?kb(t,e):e instanceof ah?e._internalPath:e._delegate._internalPath}class fx{}class Q_ extends fx{}function age(t,e,...n){let r=[];e instanceof fx&&r.push(e),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof zp).length,a=o.filter(u=>u instanceof Y_).length;if(s>1||s>0&&a>0)throw new Be(be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Y_ extends Q_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Y_(e,n,r)}_apply(e){const n=this._parse(e);return $B(e._query,n),new eo(e.firestore,e.converter,hS(e._query,n))}_parse(e){const n=uh(e.firestore);return function(o,s,a,u,l,c,d){let g;if(l.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new Be(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){zB(d,c);const p=[];for(const b of d)p.push(jB(u,o,b));g={arrayValue:{values:p}}}else g=jB(u,o,d)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||zB(d,c),g=function OB(t,e,n,r=!1){return lh(n,t.Qu(r?4:3,e))}(a,"where",d,"in"===c||"not-in"===c);return _n.create(l,c,g)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class zp extends fx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:$n.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const u of a)$B(s,u),s=hS(s,u)}(e._query,n),new eo(e.firestore,e.converter,hS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class px extends Q_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new px(e,n)}_apply(e){const n=function(i,o,s){if(null!==i.startAt)throw new Be(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Be(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new I_(o,s)}(e._query,this._field,this._direction);return new eo(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new vl(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function uge(t,e="asc"){const n=e,r=Lb("orderBy",t);return px._create(r,n)}function jB(t,e,n){if("string"==typeof(n=Zi(n))){if(""===n)throw new Be(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dS(e)&&-1!==n.indexOf("/"))throw new Be(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(mn.fromString(n));if(!et.isDocumentKey(r))throw new Be(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qd(t,new et(r))}if(n instanceof oi)return Qd(t,n._key);throw new Be(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pb(n)}.`)}function zB(t,e){if(!Array.isArray(t)||0===t.length)throw new Be(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $B(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Be(be.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class GB{convertValue(e,n="none"){switch(vc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_l(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw nt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return mc(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=null===(i=null===(r=null===(n=e.fields)||void 0===n?void 0:n.value.arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.map(s=>xr(s.doubleValue));return new Nb(o)}convertGeoPoint(e){return new ox(xr(e.latitude),xr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Y1(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(v_(e));default:return null}}convertTimestamp(e){const n=ml(e);return new Fr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=mn.fromString(e);ut(nU(r));const i=new Kd(r.get(1),r.get(3)),o=new et(r.popFirst(5));return i.isEqual(n)||ri(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class ch{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $p extends K_{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Lb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class jb extends $p{data(e={}){return super.data(e)}}class qp{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ch(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new jb(this._firestore,this._userDataWriter,r.key,r,new ch(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Be(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new jb(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ch(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const u=new jb(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ch(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return 0!==a.type&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:dge(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function dge(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt()}}class Sc extends GB{constructor(e){super(),this.firestore=e}convertBytes(e){return new sh(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new oi(this.firestore,null,n)}}function hge(t,e,n,...r){t=hn(t,oi);const i=hn(t.firestore,or),o=uh(i);let s;return s="string"==typeof(e=Zi(e))||e instanceof ah?function dx(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[W_(e,r,n)],u=[i];if(o.length%2!=0)throw new Be(be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(W_(e,o[g])),u.push(o[g+1]);const l=[],c=Xi.empty();for(let g=a.length-1;g>=0;--g)if(!VB(l,a[g])){const p=a[g];let b=u[g];b=Zi(b);const w=s.Nu(p);if(b instanceof H_)l.push(p);else{const E=lh(b,w);null!=E&&(l.push(p),c.set(p,E))}}const d=new ls(l);return new RB(c,d,s.fieldTransforms)}(o,"updateDoc",t._key,e,n,r):function cx(t,e,n,r){const i=t.Qu(1,e,n);hx("Data must be an object, but it was:",i,r);const o=[],s=Xi.empty();mc(r,(u,l)=>{const c=kb(e,u,n);l=Zi(l);const d=i.Nu(c);if(l instanceof H_)o.push(c);else{const g=lh(l,d);null!=g&&(o.push(c),s.set(c,g))}});const a=new ls(o);return new RB(s,a,i.fieldTransforms)}(o,"updateDoc",t._key,e),Z_(i,[s.toMutation(t._key,Pr.exists(!0))])}function fge(t){return Z_(hn(t.firestore,or),[new bp(t._key,Pr.none())])}function pge(t,e){const n=hn(t.firestore,or),r=SB(t),i=function Bb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Z_(n,[Mb(uh(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Pr.exists(!1))]).then(()=>r)}function Z_(t,e){return function(r,i){const o=new Li;return r.asyncQueue.enqueueAndForget((0,ne.A)(function*(){return function vpe(t,e,n){return SD.apply(this,arguments)}(yield function ex(t){return xb(t).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(Vr(t),e)}!function(e,n=!0){sp=S1,Xf(new Fd("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new or(new Gde(r.getProvider("auth-internal")),new Kde(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Be(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kd(l.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ns(IV,"4.7.3",e),Ns(IV,"4.7.3","esm2017")}();var $b=function(){return $b=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},$b.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Dge={includeMetadataChanges:!1};function vx(t,e){return void 0===e&&(e=Dge),new tr(function(n){var r=function gge(t,...e){var n,r,i;t=Zi(t);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof e[s]||rx(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(rx(e[s])){const d=e[s];e[s]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[s+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[s+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,l,c;if(t instanceof oi)l=hn(t.firestore,or),c=pp(t._key.path),u={next:d=>{e[s]&&e[s](function gx(t,e,n){const r=n.docs.get(e._key),i=new Sc(t);return new $p(t,i,e._key,r,new ch(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,d))},error:e[s+1],complete:e[s+2]};else{const d=hn(t,eo);l=hn(d.firestore,or),c=d._query;const g=new Sc(l);u={next:p=>{e[s]&&e[s](new qp(l,g,d,p))},error:e[s+1],complete:e[s+2]},function UB(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Be(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(g,p,b,w){const E=new Db(w),A=new yD(p,E,b);return g.asyncQueue.enqueueAndForget((0,ne.A)(function*(){return function fD(t,e){return pD.apply(this,arguments)}(yield Bp(g),A)})),()=>{E.Za(),g.asyncQueue.enqueueAndForget((0,ne.A)(function*(){return function gD(t,e){return mD.apply(this,arguments)}(yield Bp(g),A)}))}}(Vr(l),c,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Oge(t,e){return void 0===e&&(e={}),function kge(t){return vx(t,{includeMetadataChanges:!0}).pipe(pn(function(e){return e.docs}))}(t).pipe(pn(function(n){return n.map(function(r){return function QB(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?$b($b({},r),((n={})[e.idField]=t.id,n)):r}(r,e)})}))}class J_{constructor(e){return e}}const XB="firestore",wx=new it("angularfire2.firestore-instances");function Uge(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new J_(r)}}const Bge={provide:class Fge{constructor(){return VC(XB)}},deps:[[new Xs,wx]]},jge={provide:J_,useFactory:function Vge(t,e){const n=function t8(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(XB,t,e);return n&&new J_(n)},deps:[[new Xs,wx],Xm]};let zge=(()=>{class t{constructor(){Ns("angularfire",FC.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Xo({type:t});static \u0275inj=xo({providers:[jge,Bge]})}return t})();function $ge(t,...e){return{ngModule:zge,providers:[{provide:wx,useFactory:Uge(t),multi:!0,deps:[On,fo,r8,i8,[new Xs,fV],[new Xs,que],...e]}]}}const ej=lu(Oge,!0),Ix=lu(pge,!0),X_=lu(Jpe,!0),tj=lu(fge,!0),qb=lu(SB,!0),qge=lu(ege,!0),nj=lu(uge,!0),rj=lu(age,!0),ij=lu(hge,!0);function oj(t,e){const n="object"==typeof e;return new Promise((r,i)=>{const o=new $h({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new Dm)}});t.subscribe(o)})}let Ex=(()=>{class t{constructor(n){this.firestore=n,this.collectionName="giocatori"}getGiocatoriObservable(){const n=X_(this.firestore,this.collectionName),r=rj(n,nj("numeroMaglia","asc"));return ej(r,{idField:"id"})}getGiocatori(){var n=this;return(0,ne.A)(function*(){return yield oj(n.getGiocatoriObservable())})()}addGiocatore(n){var r=this;return(0,ne.A)(function*(){const i=X_(r.firestore,r.collectionName),o=r.normalizeGiocatore(n);yield Ix(i,o)})()}updateGiocatore(n,r){var i=this;return(0,ne.A)(function*(){const o=qb(i.firestore,i.collectionName,n),s=i.normalizeGiocatore(r);yield ij(o,s)})()}deleteGiocatore(n){var r=this;return(0,ne.A)(function*(){const i=qb(r.firestore,r.collectionName,n);yield tj(i)})()}addMultipleGiocatori(n){var r=this;return(0,ne.A)(function*(){const i=X_(r.firestore,r.collectionName);for(const o of n){const s=r.normalizeGiocatore(o);yield Ix(i,s)}})()}migrateFromLocalStorage(){var n=this;return(0,ne.A)(function*(){const r=localStorage.getItem("giocatori");if(r){const i=JSON.parse(r);yield n.addMultipleGiocatori(i),console.log(`Migrati ${i.length} giocatori da localStorage a Firestore`)}})()}normalizeGiocatore(n){return{...n,nome:n.nome?n.nome.toLowerCase():"",cognome:n.cognome?n.cognome.toLowerCase():""}}static{this.\u0275fac=function(r){return new(r||t)(gt(J_))}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),dh=(()=>{class t{constructor(n){this.giocatoriService=n,this.STORAGE_KEY="currentUser";const r=localStorage.getItem(this.STORAGE_KEY);this.currentUserSubject=new Es(r?JSON.parse(r):null),this.currentUser=this.currentUserSubject.asObservable()}get currentUserValue(){return this.currentUserSubject.value}login(n){var r=this;return(0,ne.A)(function*(){const o=(yield r.giocatoriService.getGiocatori()).find(s=>s.codiceFiscale&&s.codiceFiscale.toUpperCase()===n.toUpperCase());return!!o&&(localStorage.setItem(r.STORAGE_KEY,JSON.stringify(o)),r.currentUserSubject.next(o),!0)})()}logout(){localStorage.removeItem(this.STORAGE_KEY),this.currentUserSubject.next(null)}isAuthenticated(){return null!==this.currentUserValue}hasEditPermission(){const n=this.currentUserValue;return!!n&&("Amministratore"===n.profilo||"Staff"===n.profilo)}isCurrentUser(n){const r=this.currentUserValue;return!(!r||!n)&&r.nome===n.nome&&r.cognome===n.cognome}static{this.\u0275fac=function(r){return new(r||t)(gt(Ex))}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),sj=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(Oe(Qu),Oe(Ds))}}static{this.\u0275dir=$t({type:t})}}return t})(),hh=(()=>{class t extends sj{static{this.\u0275fac=function(){let n;return function(i){return(n||(n=Ki(t)))(i||t)}}()}static{this.\u0275dir=$t({type:t,features:[Bn]})}}return t})();const _u=new it("NgValueAccessor"),Hge={provide:_u,useExisting:lr(()=>Ax),multi:!0};let Ax=(()=>{class t extends hh{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=function(){let n;return function(i){return(n||(n=Ki(t)))(i||t)}}()}static{this.\u0275dir=$t({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&ze("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Sr([Hge]),Bn]})}}return t})();const Wge={provide:_u,useExisting:lr(()=>El),multi:!0},Qge=new it("CompositionEventMode");let El=(()=>{class t extends sj{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Kge(){const t=sc()?sc().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(Oe(Qu),Oe(Ds),Oe(Qge,8))}}static{this.\u0275dir=$t({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&ze("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Sr([Wge]),Bn]})}}return t})();function xc(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function aj(t){return null!=t&&"number"==typeof t.length}const yo=new it("NgValidators"),Pc=new it("NgAsyncValidators"),Yge=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Vi{static min(e){return uj(e)}static max(e){return lj(e)}static required(e){return cj(e)}static requiredTrue(e){return function dj(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function hj(t){return xc(t.value)||Yge.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function fj(t){return e=>xc(e.value)||!aj(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return pj(e)}static pattern(e){return function gj(t){if(!t)return Gb;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(xc(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return wj(e)}static composeAsync(e){return Ij(e)}}function uj(t){return e=>{if(xc(e.value)||xc(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function lj(t){return e=>{if(xc(e.value)||xc(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function cj(t){return xc(t.value)?{required:!0}:null}function pj(t){return e=>aj(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Gb(t){return null}function mj(t){return null!=t}function _j(t){return dm(t)?Ri(t):t}function vj(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function yj(t,e){return e.map(n=>n(t))}function bj(t){return t.map(e=>function Zge(t){return!t.validate}(e)?e:n=>e.validate(n))}function wj(t){if(!t)return null;const e=t.filter(mj);return 0==e.length?null:function(n){return vj(yj(n,e))}}function Cx(t){return null!=t?wj(bj(t)):null}function Ij(t){if(!t)return null;const e=t.filter(mj);return 0==e.length?null:function(n){return function Gge(...t){const e=MN(t),{args:n,keys:r}=vF(t),i=new tr(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let u=s,l=s;for(let c=0;c<s;c++){let d=!1;lo(n[c]).subscribe(Jr(o,g=>{d||(d=!0,l--),a[c]=g},()=>u--,void 0,()=>{(!u||!d)&&(l||o.next(r?yF(r,a):a),o.complete())}))}});return e?i.pipe(HA(e)):i}(yj(n,e).map(_j)).pipe(pn(vj))}}function Tx(t){return null!=t?Ij(bj(t)):null}function Ej(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Aj(t){return t._rawValidators}function Cj(t){return t._rawAsyncValidators}function Sx(t){return t?Array.isArray(t)?t:[t]:[]}function Hb(t,e){return Array.isArray(t)?t.includes(e):t===e}function Tj(t,e){const n=Sx(e);return Sx(t).forEach(i=>{Hb(n,i)||n.push(i)}),n}function Sj(t,e){return Sx(e).filter(n=>!Hb(t,n))}class Dj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Cx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Tx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class jo extends Dj{get formDirective(){return null}get path(){return null}}class Nc extends Dj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let fh=(()=>{class t extends xj{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(Oe(Nc,2))}}static{this.\u0275dir=$t({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Lr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Bn]})}}return t})(),ev=(()=>{class t extends xj{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(Oe(jo,10))}}static{this.\u0275dir=$t({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Lr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Bn]})}}return t})();const tv="VALID",Kb="INVALID",Gp="PENDING",nv="DISABLED";function Px(t){return(Qb(t)?t.validators:t)||null}function Nx(t,e){return(Qb(e)?e.asyncValidators:t)||null}function Qb(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function Nj(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new je(1e3,"");if(!r[n])throw new je(1001,"")}function Rj(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new je(1002,"")})}class Yb{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===tv}get invalid(){return this.status===Kb}get pending(){return this.status==Gp}get disabled(){return this.status===nv}get enabled(){return this.status!==nv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Tj(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Tj(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Sj(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Sj(e,this._rawAsyncValidators))}hasValidator(e){return Hb(this._rawValidators,e)}hasAsyncValidator(e){return Hb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Gp,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=nv,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=tv,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tv||this.status===Gp)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nv:tv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Gp,this._hasOwnPendingAsyncValidator=!0;const n=_j(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Qn,this.statusChanges=new Qn}_calculateStatus(){return this._allControlsDisabled()?nv:this.errors?Kb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gp)?Gp:this._anyControlsHaveStatus(Kb)?Kb:tv}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Qb(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function tme(t){return Array.isArray(t)?Cx(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function nme(t){return Array.isArray(t)?Tx(t):t||null}(this._rawAsyncValidators)}}class rv extends Yb{constructor(e,n,r){super(Px(n),Nx(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Rj(this,0,e),Object.keys(e).forEach(r=>{Nj(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Mj extends rv{}const ph=new it("CallSetDisabledState",{providedIn:"root",factory:()=>iv}),iv="always";function Zb(t,e){return[...e.path,t]}function ov(t,e,n=iv){Rx(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function ime(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&kj(t,e)})}(t,e),function sme(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function ome(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&kj(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function rme(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Jb(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ew(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Xb(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Rx(t,e){const n=Aj(t);null!==e.validator?t.setValidators(Ej(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=Cj(t);null!==e.asyncValidator?t.setAsyncValidators(Ej(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Xb(e._rawValidators,i),Xb(e._rawAsyncValidators,i)}function ew(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=Aj(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(null!==e.asyncValidator){const i=Cj(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}const r=()=>{};return Xb(e._rawValidators,r),Xb(e._rawAsyncValidators,r),n}function kj(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Oj(t,e){Rx(t,e)}function kx(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function Lj(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Ox(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===El?n=o:function lme(t){return Object.getPrototypeOf(t.constructor)===hh}(o)?r=o:i=o}),i||r||n||null}const dme={provide:jo,useExisting:lr(()=>tw)},sv=(()=>Promise.resolve())();let tw=(()=>{class t extends jo{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Qn,this.form=new rv({},Cx(n),Tx(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){sv.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),ov(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){sv.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){sv.then(()=>{const r=this._findContainer(n.path),i=new rv({});Oj(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){sv.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){sv.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,Lj(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(Oe(yo,10),Oe(Pc,10),Oe(ph,8))}}static{this.\u0275dir=$t({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&ze("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Sr([dme]),Bn]})}}return t})();function Fj(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Vj(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const av=class extends Yb{constructor(e=null,n,r){super(Px(n),Nx(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qb(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=Vj(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Fj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Fj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Vj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},pme={provide:Nc,useExisting:lr(()=>uv)},jj=(()=>Promise.resolve())();let uv=(()=>{class t extends Nc{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new av,this._registered=!1,this.name="",this.update=new Qn,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Ox(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),kx(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ov(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){jj.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&jf(r);jj.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Zb(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(Oe(jo,9),Oe(yo,10),Oe(Pc,10),Oe(_u,10),Oe(F0,8),Oe(ph,8))}}static{this.\u0275dir=$t({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Sr([pme]),Bn,ts]})}}return t})(),lv=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=$t({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();const gme={provide:_u,useExisting:lr(()=>nw),multi:!0};let nw=(()=>{class t extends hh{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}static{this.\u0275fac=function(){let n;return function(i){return(n||(n=Ki(t)))(i||t)}}()}static{this.\u0275dir=$t({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&ze("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Sr([gme]),Bn]})}}return t})(),zj=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Xo({type:t})}static{this.\u0275inj=xo({})}}return t})();const Lx=new it("NgModelWithFormControlWarning"),bme={provide:jo,useExisting:lr(()=>Hp)};let Hp=(()=>{class t extends jo{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Qn,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ew(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return ov(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Jb(n.control||null,n,!1),function cme(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,Lj(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Jb(r||null,n),(t=>t instanceof av)(i)&&(ov(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);Oj(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function ame(t,e){return ew(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Rx(this.form,this),this._oldForm&&ew(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(r){return new(r||t)(Oe(yo,10),Oe(Pc,10),Oe(ph,8))}}static{this.\u0275dir=$t({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&ze("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Sr([bme]),Bn,ts]})}}return t})();const Eme={provide:Nc,useExisting:lr(()=>cv)};let cv=(()=>{class t extends Nc{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Qn,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Ox(0,o)}ngOnChanges(n){this._added||this._setUpControl(),kx(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Zb(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(Oe(jo,13),Oe(yo,10),Oe(Pc,10),Oe(_u,10),Oe(Lx,8))}}static{this.\u0275dir=$t({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Sr([Eme]),Bn,ts]})}}return t})();const Ame={provide:_u,useExisting:lr(()=>rw),multi:!0};function Wj(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let rw=(()=>{class t extends hh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=Wj(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function Cme(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=function(){let n;return function(i){return(n||(n=Ki(t)))(i||t)}}()}static{this.\u0275dir=$t({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&ze("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Sr([Ame]),Bn]})}}return t})(),Kj=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(Wj(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(Oe(Ds),Oe(Qu),Oe(rw,9))}}static{this.\u0275dir=$t({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();const Tme={provide:_u,useExisting:lr(()=>Ux),multi:!0};function Qj(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Ux=(()=>{class t extends hh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const l=this._getOptionValue(s[a].value);i.push(l)}}else{const s=r.options;for(let a=0;a<s.length;a++){const u=s[a];if(u.selected){const l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function Sme(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=function(){let n;return function(i){return(n||(n=Ki(t)))(i||t)}}()}static{this.\u0275dir=$t({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&ze("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Sr([Tme]),Bn]})}}return t})(),Yj=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(Qj(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Qj(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(Oe(Ds),Oe(Qu),Oe(Ux,9))}}static{this.\u0275dir=$t({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();function Jj(t){return"number"==typeof t?t:parseFloat(t)}let gh=(()=>{class t{constructor(){this._validator=Gb}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Gb,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=$t({type:t,features:[ts]})}}return t})();const Dme={provide:yo,useExisting:lr(()=>Bx),multi:!0};let Bx=(()=>{class t extends gh{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>Jj(n),this.createValidator=n=>lj(n)}static{this.\u0275fac=function(){let n;return function(i){return(n||(n=Ki(t)))(i||t)}}()}static{this.\u0275dir=$t({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Qi("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[Sr([Dme]),Bn]})}}return t})();const xme={provide:yo,useExisting:lr(()=>jx),multi:!0};let jx=(()=>{class t extends gh{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>Jj(n),this.createValidator=n=>uj(n)}static{this.\u0275fac=function(){let n;return function(i){return(n||(n=Ki(t)))(i||t)}}()}static{this.\u0275dir=$t({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Qi("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Sr([xme]),Bn]})}}return t})();const Pme={provide:yo,useExisting:lr(()=>iw),multi:!0};let iw=(()=>{class t extends gh{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=jf,this.createValidator=n=>cj}enabled(n){return n}static{this.\u0275fac=function(){let n;return function(i){return(n||(n=Ki(t)))(i||t)}}()}static{this.\u0275dir=$t({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Qi("required",i._enabled?"":null)},inputs:{required:"required"},features:[Sr([Pme]),Bn]})}}return t})();const kme={provide:yo,useExisting:lr(()=>ow),multi:!0};let ow=(()=>{class t extends gh{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>function Zj(t){return"number"==typeof t?t:parseInt(t,10)}(n),this.createValidator=n=>pj(n)}static{this.\u0275fac=function(){let n;return function(i){return(n||(n=Ki(t)))(i||t)}}()}static{this.\u0275dir=$t({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Qi("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Sr([kme]),Bn]})}}return t})(),r9=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Xo({type:t})}static{this.\u0275inj=xo({imports:[zj]})}}return t})();class i9 extends Yb{constructor(e,n,r){super(Px(n),Nx(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Rj(this,0,e),e.forEach((r,i)=>{Nj(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function o9(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let zx=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let o={};return o9(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new rv(i,o)}record(n,r=null){const i=this._reduceControls(n);return new Mj(i,r)}control(n,r,i){let o={};return this.useNonNullable?(o9(r)?o=r:(o.validators=r,o.asyncValidators=i),new av(n,{...o,nonNullable:!0})):new av(n,r,i)}array(n,r,i){const o=n.map(s=>this._createControl(s));return new i9(o,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof av||n instanceof Yb?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Lme=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:ph,useValue:n.callSetDisabledState??iv}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Xo({type:t})}static{this.\u0275inj=xo({imports:[r9]})}}return t})(),Fme=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Lx,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:ph,useValue:n.callSetDisabledState??iv}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Xo({type:t})}static{this.\u0275inj=xo({imports:[r9]})}}return t})(),Ma=(()=>{class t{static{this.PROFILI_UTENTE={amministratore:{value:"amministratore",label:"Amministratore"},giocatore:{value:"giocatore",label:"Giocatore"},staff:{value:"staff",label:"Staff"}}}static{this.RUOLI={schiacciatore:{value:"schiacciatore",label:"Schiacciatore"},palleggiatore:{value:"palleggiatore",label:"Palleggiatore"},centrale:{value:"centrale",label:"Centrale"},libero:{value:"libero",label:"Libero"},opposto:{value:"opposto",label:"Opposto"},allenatore:{value:"allenatore",label:"Allenatore"},dirigente:{value:"dirigente",label:"Dirigente"}}}static{this.ADDETTO_DEFIBRILLATORE_THUNDERS={nome:"Emanuele",cognome:"Peroni",codiceFiscale:"PRNMNL97L08D972O",dataDiNascita:"1997-07-08",luogoNascita:"Genzano di Roma",residenza:"Via Napoli 55, Albano Laziale"}}static{this.TITOLO_PDF="SETTORE DI ATTIVIT\xc0 PALLAVOLO UISP LAZIO SUD EST"}static{this.PRIMO_SOTTOTITOLO="LISTA PARTECIPANTI ALLA GARA"}static{this.SECONDO_SOTTOTITOLO="DENOMINAZIONE DELLA SQUADRA"}static{this.NOME_SQUADRA="PUNTO VOLLEY CR ASD THUNDERS"}static{this.TITOLO_DEFIBRILLATORE="DA COMPILARE DA PARTE DELLA SOLA SQUADRA OSPITANTE"}static{this.SOTTOTITOLO_DEFIBRILLATORE="AUTOCERTIFICAZIONE DELL'ADDETTO ALL'UTILIZZO DEL DEFIBRILLATORE (ART. 45 E 46 DPR 28 DICEMBRE 2000 N. 445)"}static{this.TESTO_DICHIARAZIONE_DEFIBRILLATORE="CONSAPEVOLE della responsabilit\xe0 penale e civile derivante da dichiarazioni mendaci, DICHIARA che nella struttura sportiva ove si svolge la gara \xe8 presente un defibrillatore semiautomatico esterno conforme alla vigente normativa e che \xe8 presente una persona adeguatamente formata al suo utilizzo."}}return t})();function Vme(t,e){if(1&t&&(Q(0,"option",40),ce(1),G()),2&t){const n=e.$implicit;Me("value",n.label),ae(1),jn(n.label)}}function Ume(t,e){if(1&t&&(Q(0,"option",40),ce(1),G()),2&t){const n=e.$implicit;Me("value",n.label),ae(1),jn(n.label)}}function Bme(t,e){if(1&t&&(Q(0,"div",9)(1,"label",41),ce(2,"Profilo *"),G(),Q(3,"select",42)(4,"option",22),ce(5,"Seleziona un profilo"),G(),It(6,Ume,2,2,"option",23),G(),Q(7,"div",12),ce(8,"Il profilo \xe8 obbligatorio"),G()()),2&t){const n=ot();let r;ae(3),Lr("is-invalid",(null==(r=n.giocatoreForm.get("profilo"))?null:r.invalid)&&(null==(r=n.giocatoreForm.get("profilo"))?null:r.touched)),ae(3),Me("ngForOf",n.profili)}}function jme(t,e){1&t&&(Q(0,"div",43),Re(1,"input",44),Q(2,"label",45),ce(3," Capitano "),G()())}let zme=(()=>{class t{constructor(n,r){this.fb=n,this.authService=r,this.giocatore=null,this.isEditMode=!1,this.onSave=new Qn,this.onClose=new Qn,this.ruoli=[],this.profili=[]}ngOnInit(){this.ruoli=Object.values(Ma.RUOLI),this.profili=Object.values(Ma.PROFILI_UTENTE),this.giocatoreForm=this.fb.group({id:[null],nome:["",Vi.required],cognome:["",Vi.required],numeroMaglia:[""],dataDiNascita:["",Vi.required],ruolo:["",Vi.required],tesseraUisp:["",Vi.required],capitano:[!1],codiceFiscale:[""],profilo:["",Vi.required],email:["",[Vi.email]],tagliaDivisa:[""],scadenzaCertificatoMedico:[""]})}ngOnChanges(n){n.giocatore&&this.giocatoreForm&&(this.giocatore?this.giocatoreForm.patchValue(this.giocatore):this.giocatoreForm.reset())}salvaGiocatore(){if(this.giocatoreForm.valid){const n=this.giocatoreForm.value;n.tagliaDivisa&&(n.tagliaDivisa=n.tagliaDivisa.toUpperCase()),this.onSave.emit(n),this.giocatoreForm.reset({nome:"",cognome:"",numeroMaglia:"",dataDiNascita:"",ruolo:"",tesseraUisp:"",capitano:!1,codiceFiscale:"",profilo:"",email:"",tagliaDivisa:"",scadenzaCertificatoMedico:""})}}onCancel(){this.giocatoreForm.reset(),this.onClose.emit()}static{this.\u0275fac=function(r){return new(r||t)(Oe(zx),Oe(dh))}}static{this.\u0275cmp=Ys({type:t,selectors:[["app-dialog-giocatore"]],inputs:{giocatore:"giocatore",isEditMode:"isEditMode"},outputs:{onSave:"onSave",onClose:"onClose"},features:[ts],decls:78,vars:20,consts:[["id","giocatoreModal","tabindex","-1","aria-labelledby","giocatoreModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","giocatoreModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"row","mb-3"],[1,"col-6"],["for","nome",1,"form-label"],["type","text","id","nome","formControlName","nome",1,"form-control"],[1,"invalid-feedback"],["for","cognome",1,"form-label"],["type","text","id","cognome","formControlName","cognome",1,"form-control"],["for","numeroMaglia",1,"form-label"],["type","number","id","numeroMaglia","formControlName","numeroMaglia",1,"form-control"],["for","dataDiNascita",1,"form-label"],["type","date","id","dataDiNascita","formControlName","dataDiNascita",1,"form-control"],[1,"col-12"],["for","ruolo",1,"form-label"],["id","ruolo","formControlName","ruolo",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"ngClass"],["for","tesseraUisp",1,"form-label"],["type","text","id","tesseraUisp","formControlName","tesseraUisp",1,"form-control"],["class","col-6",4,"ngIf"],["for","codiceFiscale",1,"form-label"],["type","text","id","codiceFiscale","formControlName","codiceFiscale","maxlength","16",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","esempio@email.it",1,"form-control"],["for","tagliaDivisa",1,"form-label"],["type","text","id","tagliaDivisa","formControlName","tagliaDivisa","placeholder","Es: M, L, XL",1,"form-control",2,"text-transform","uppercase"],["for","scadenzaCertificatoMedico",1,"form-label"],["type","date","id","scadenzaCertificatoMedico","formControlName","scadenzaCertificatoMedico",1,"form-control"],["class","form-check mb-3",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[3,"value"],["for","profilo",1,"form-label"],["id","profilo","formControlName","profilo",1,"form-select"],[1,"form-check","mb-3"],["type","checkbox","id","capitano","formControlName","capitano",1,"form-check-input"],["for","capitano",1,"form-check-label"]],template:function(r,i){if(1&r&&(Q(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),ce(5),G(),Re(6,"button",5),G(),Q(7,"div",6)(8,"form",7)(9,"div",8)(10,"div",9)(11,"label",10),ce(12,"Nome *"),G(),Re(13,"input",11),Q(14,"div",12),ce(15,"Il nome \xe8 obbligatorio"),G()(),Q(16,"div",9)(17,"label",13),ce(18,"Cognome *"),G(),Re(19,"input",14),Q(20,"div",12),ce(21,"Il cognome \xe8 obbligatorio"),G()()(),Q(22,"div",8)(23,"div",9)(24,"label",15),ce(25,"Numero Maglia"),G(),Re(26,"input",16),G(),Q(27,"div",9)(28,"label",17),ce(29,"Data di Nascita *"),G(),Re(30,"input",18),Q(31,"div",12),ce(32,"La data di nascita \xe8 obbligatoria"),G()()(),Q(33,"div",8)(34,"div",19)(35,"label",20),ce(36,"Ruolo *"),G(),Q(37,"select",21)(38,"option",22),ce(39,"Seleziona un ruolo"),G(),It(40,Vme,2,2,"option",23),G(),Q(41,"div",12),ce(42,"Il ruolo \xe8 obbligatorio"),G()()(),Q(43,"div",8)(44,"div",24)(45,"label",25),ce(46,"Tessera UISP *"),G(),Re(47,"input",26),Q(48,"div",12),ce(49,"La tessera UISP \xe8 obbligatoria"),G()(),It(50,Bme,9,3,"div",27),G(),Q(51,"div",8)(52,"div",19)(53,"label",28),ce(54,"Codice Fiscale"),G(),Re(55,"input",29),G()(),Q(56,"div",8)(57,"div",19)(58,"label",30),ce(59,"Email"),G(),Re(60,"input",31),Q(61,"div",12),ce(62,"Inserisci un indirizzo email valido"),G()()(),Q(63,"div",8)(64,"div",9)(65,"label",32),ce(66,"Taglia Divisa"),G(),Re(67,"input",33),G(),Q(68,"div",9)(69,"label",34),ce(70,"Scadenza Certificato Medico"),G(),Re(71,"input",35),G()(),It(72,jme,4,0,"div",36),G()(),Q(73,"div",37)(74,"button",38),ze("click",function(){return i.onCancel()}),ce(75,"Annulla"),G(),Q(76,"button",39),ze("click",function(){return i.salvaGiocatore()}),ce(77),G()()()()()),2&r){let o,s,a,u,l,c;ae(5),jn(i.isEditMode?"Modifica Giocatore":"Aggiungi Giocatore"),ae(3),Me("formGroup",i.giocatoreForm),ae(5),Lr("is-invalid",(null==(o=i.giocatoreForm.get("nome"))?null:o.invalid)&&(null==(o=i.giocatoreForm.get("nome"))?null:o.touched)),ae(6),Lr("is-invalid",(null==(s=i.giocatoreForm.get("cognome"))?null:s.invalid)&&(null==(s=i.giocatoreForm.get("cognome"))?null:s.touched)),ae(11),Lr("is-invalid",(null==(a=i.giocatoreForm.get("dataDiNascita"))?null:a.invalid)&&(null==(a=i.giocatoreForm.get("dataDiNascita"))?null:a.touched)),ae(7),Lr("is-invalid",(null==(u=i.giocatoreForm.get("ruolo"))?null:u.invalid)&&(null==(u=i.giocatoreForm.get("ruolo"))?null:u.touched)),ae(3),Me("ngForOf",i.ruoli),ae(4),Me("ngClass",i.authService.hasEditPermission()?"col-6":"col-12"),ae(3),Lr("is-invalid",(null==(l=i.giocatoreForm.get("tesseraUisp"))?null:l.invalid)&&(null==(l=i.giocatoreForm.get("tesseraUisp"))?null:l.touched)),ae(3),Me("ngIf",i.authService.hasEditPermission()),ae(10),Lr("is-invalid",(null==(c=i.giocatoreForm.get("email"))?null:c.invalid)&&(null==(c=i.giocatoreForm.get("email"))?null:c.touched)),ae(12),Me("ngIf",i.authService.hasEditPermission()),ae(4),Me("disabled",i.giocatoreForm.invalid),ae(1),hr(" ",i.isEditMode?"Salva Modifiche":"Aggiungi"," ")}},dependencies:[J0,X0,Rd,lv,Kj,Yj,El,nw,Ax,rw,fh,ev,ow,Hp,cv]})}}return t})(),s9=(()=>{class t{transform(n){return n?n.charAt(0).toUpperCase()+n.slice(1).toLowerCase():""}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=Po({name:"capitalize",type:t,pure:!0})}}return t})();function $me(t,e){if(1&t&&(Q(0,"div",26)(1,"span",27),ce(2),G()()),2&t){const n=ot();ae(2),hr("",n.numeroGiocatori," giocatori")}}function qme(t,e){if(1&t){const n=fi();Q(0,"div",28)(1,"input",29,30),ze("change",function(i){return nr(n),rr(ot().handleFileUpload(i))}),G(),Q(3,"button",31),ze("click",function(){return nr(n),rr(AE(2).click())}),Re(4,"i",32),Q(5,"span",33),ce(6,"Importa"),G()(),Q(7,"button",34),ze("click",function(){return nr(n),rr(ot().exportToJSON())}),Re(8,"i",35),Q(9,"span",33),ce(10,"Esporta"),G()(),Q(11,"button",36),ze("click",function(){return nr(n),rr(ot().openDialog())}),Re(12,"i",37),Q(13,"span",33),ce(14,"Aggiungi"),G()()()}}function Gme(t,e){if(1&t){const n=fi();Q(0,"th",38)(1,"div",13)(2,"span"),ce(3,"Azioni"),G(),Q(4,"button",39),ze("click",function(){return nr(n),rr(ot().clearFilters())}),Re(5,"i",40),G()()()}}function Hme(t,e){1&t&&Re(0,"th")}function Wme(t,e){if(1&t&&(Q(0,"span"),ce(1),G()),2&t){const n=ot().$implicit;ae(1),jn(n.codiceFiscale||"-")}}function Kme(t,e){1&t&&(Q(0,"span",44),ce(1,"***"),G())}function Qme(t,e){if(1&t&&(Q(0,"span",45),ce(1),Fo(2,"date"),G()),2&t){const n=ot().$implicit;Me("ngClass",ot().getCertificatoClass(n.scadenzaCertificatoMedico)),ae(1),hr(" ",Dd(2,2,n.scadenzaCertificatoMedico,"dd/MM/yyyy")," ")}}function Yme(t,e){1&t&&(Q(0,"span"),ce(1,"-"),G())}function Zme(t,e){if(1&t){const n=fi();Q(0,"button",49),ze("click",function(){nr(n);const i=ot(2).$implicit;return rr(ot().openDialog(i))}),Re(1,"i",50),G()}}function Jme(t,e){if(1&t){const n=fi();Q(0,"button",51),ze("click",function(){nr(n);const i=ot(2).$implicit;return rr(ot().eliminaGiocatore(i))}),Re(1,"i",52),G()}}function Xme(t,e){if(1&t&&(Q(0,"td",46),It(1,Zme,2,0,"button",47),It(2,Jme,2,0,"button",48),G()),2&t){const n=ot().$implicit,r=ot();ae(1),Me("ngIf",r.authService.hasEditPermission()||r.authService.isCurrentUser(n)),ae(1),Me("ngIf",r.authService.hasEditPermission())}}function e_e(t,e){if(1&t&&(Q(0,"tr")(1,"td")(2,"span",27),ce(3),G()(),Q(4,"td"),ce(5),Fo(6,"capitalize"),G(),Q(7,"td"),ce(8),Fo(9,"capitalize"),G(),Q(10,"td"),ce(11),Fo(12,"date"),G(),Q(13,"td"),ce(14),G(),Q(15,"td"),ce(16),G(),Q(17,"td"),It(18,Wme,2,1,"span",19),It(19,Kme,2,0,"span",41),G(),Q(20,"td"),ce(21),G(),Q(22,"td"),ce(23),G(),Q(24,"td"),ce(25),G(),Q(26,"td"),It(27,Qme,3,5,"span",42),It(28,Yme,2,0,"span",19),G(),It(29,Xme,3,2,"td",43),G()),2&t){const n=e.$implicit,r=ot();ae(3),jn(n.numeroMaglia||"-"),ae(2),jn(Xu(6,14,n.cognome)),ae(3),jn(Xu(9,16,n.nome)),ae(3),jn(Dd(12,18,n.dataDiNascita,"dd/MM/yyyy")),ae(3),jn(n.ruolo),ae(2),jn(n.tesseraUisp),ae(2),Me("ngIf",r.authService.hasEditPermission()||r.authService.isCurrentUser(n)),ae(1),Me("ngIf",!r.authService.hasEditPermission()&&!r.authService.isCurrentUser(n)),ae(2),jn(n.profilo),ae(2),jn(n.email||"-"),ae(2),jn(n.tagliaDivisa||"-"),ae(2),Me("ngIf",n.scadenzaCertificatoMedico),ae(1),Me("ngIf",!n.scadenzaCertificatoMedico),ae(1),Me("ngIf",r.shouldShowActionsColumn())}}function t_e(t,e){if(1&t&&(Q(0,"tr")(1,"td",53),Re(2,"i",54),ce(3),G()()),2&t){const n=ot();ae(1),Qi("colspan",n.shouldShowActionsColumn()?12:11),ae(2),hr(" ",0===n.giocatori.length?"Nessun giocatore presente":"Nessun risultato trovato"," ")}}function n_e(t,e){1&t&&(Q(0,"div",53),ce(1," Nessun giocatore presente "),G())}function r_e(t,e){if(1&t&&(Q(0,"span"),ce(1),G()),2&t){const n=ot().$implicit;ae(1),jn(n.codiceFiscale||"-")}}function i_e(t,e){1&t&&(Q(0,"span",44),ce(1,"***"),G())}function o_e(t,e){if(1&t&&(Q(0,"span",45),ce(1),Fo(2,"date"),G()),2&t){const n=ot().$implicit;Me("ngClass",ot().getCertificatoClass(n.scadenzaCertificatoMedico)),ae(1),hr(" ",Dd(2,2,n.scadenzaCertificatoMedico,"dd/MM/yyyy")," ")}}function s_e(t,e){1&t&&(Q(0,"span"),ce(1,"-"),G())}function a_e(t,e){1&t&&Re(0,"i",64)}function u_e(t,e){1&t&&Re(0,"i",65)}function l_e(t,e){if(1&t){const n=fi();Q(0,"button",69),ze("click",function(){nr(n);const i=ot(2).$implicit;return rr(ot().eliminaGiocatore(i))}),Re(1,"i",52),ce(2," Elimina "),G()}}function c_e(t,e){if(1&t){const n=fi();Q(0,"div",66)(1,"button",67),ze("click",function(){nr(n);const i=ot().$implicit;return rr(ot().openDialog(i))}),Re(2,"i",50),ce(3," Modifica "),G(),It(4,l_e,3,0,"button",68),G()}if(2&t){const n=ot(2);ae(4),Me("ngIf",n.authService.hasEditPermission())}}function d_e(t,e){if(1&t&&(Q(0,"div",55)(1,"h2",56)(2,"button",57)(3,"span",58),ce(4),G(),ce(5),Fo(6,"capitalize"),Fo(7,"capitalize"),G()(),Q(8,"div",59)(9,"div",60)(10,"div")(11,"strong"),ce(12,"Data di Nascita:"),G(),ce(13),Fo(14,"date"),Re(15,"br"),Q(16,"strong"),ce(17,"Ruolo:"),G(),ce(18),Re(19,"br"),Q(20,"strong"),ce(21,"Tessera UISP:"),G(),ce(22),Re(23,"br"),Q(24,"strong"),ce(25,"Codice Fiscale:"),G(),It(26,r_e,2,1,"span",19),It(27,i_e,2,0,"span",41),Re(28,"br"),Q(29,"strong"),ce(30,"Profilo:"),G(),ce(31),Re(32,"br"),Q(33,"strong"),ce(34,"Email:"),G(),ce(35),Re(36,"br"),Q(37,"strong"),ce(38,"Taglia Divisa:"),G(),ce(39),Re(40,"br"),Q(41,"strong"),ce(42,"Scadenza Certificato Medico:"),G(),It(43,o_e,3,5,"span",42),It(44,s_e,2,0,"span",19),Re(45,"br"),Q(46,"strong"),ce(47,"Capitano: "),G(),It(48,a_e,1,0,"i",61),It(49,u_e,1,0,"i",62),G(),It(50,c_e,5,1,"div",63),G()()()),2&t){const n=e.$implicit,r=e.index,i=ot();ae(1),Qi("id","headingGiocatore"+r),ae(1),Qi("data-bs-target","#collapseGiocatore"+r)("aria-controls","collapseGiocatore"+r),ae(2),jn(n.numeroMaglia||"-"),ae(1),fm(" ",Xu(6,21,n.cognome)," ",Xu(7,23,n.nome)," "),ae(3),Qi("id","collapseGiocatore"+r)("aria-labelledby","headingGiocatore"+r),ae(5),hr(" ",Dd(14,25,n.dataDiNascita,"dd/MM/yyyy"),""),ae(5),hr(" ",n.ruolo,""),ae(4),hr(" ",n.tesseraUisp,""),ae(4),Me("ngIf",i.authService.hasEditPermission()||i.authService.isCurrentUser(n)),ae(1),Me("ngIf",!i.authService.hasEditPermission()&&!i.authService.isCurrentUser(n)),ae(4),hr(" ",n.profilo,""),ae(4),hr(" ",n.email||"-",""),ae(4),hr(" ",n.tagliaDivisa||"-",""),ae(4),Me("ngIf",n.scadenzaCertificatoMedico),ae(1),Me("ngIf",!n.scadenzaCertificatoMedico),ae(4),Me("ngIf",n.capitano),ae(1),Me("ngIf",!n.capitano),ae(1),Me("ngIf",i.authService.hasEditPermission()||i.authService.isCurrentUser(n))}}const ka=function(t,e,n){return{"bi-arrow-down":t,"bi-arrow-up":e,"bi-arrow-down-up":n}};let h_e=(()=>{class t{constructor(n,r){this.giocatoriService=n,this.authService=r,this.giocatori=[],this.filteredGiocatori=[],this.selectedGiocatore=null,this.isEditMode=!1,this.filters={numeroMaglia:"",cognome:"",nome:"",dataDiNascita:"",ruolo:"",tesseraUisp:"",codiceFiscale:"",profilo:"",email:"",tagliaDivisa:"",scadenzaCertificatoMedico:""},this.sortColumn="cognome",this.sortDirection="asc"}shouldShowActionsColumn(){return this.authService.hasEditPermission()||this.authService.isAuthenticated()}ngOnInit(){this.giocatoriSubscription=this.giocatoriService.getGiocatoriObservable().subscribe(n=>{this.giocatori=n,this.applyFilters()})}ngOnDestroy(){this.giocatoriSubscription&&this.giocatoriSubscription.unsubscribe()}get giocatoriOrdinati(){return this.filteredGiocatori}applyFilters(){let n=[...this.giocatori];Object.keys(this.filters).forEach(r=>{const i=this.filters[r].toLowerCase().trim();i&&(n=n.filter(o=>{let s=o[r];if("dataDiNascita"===r&&s){const a=new Date(s);s=`${a.getDate().toString().padStart(2,"0")}/${(a.getMonth()+1).toString().padStart(2,"0")}/${a.getFullYear()}`}return s?.toString().toLowerCase().includes(i)}))}),n.sort((r,i)=>{let o=r[this.sortColumn],s=i[this.sortColumn];return"dataDiNascita"===this.sortColumn||"scadenzaCertificatoMedico"===this.sortColumn?(o=o?new Date(o).getTime():0,s=s?new Date(s).getTime():0):"numeroMaglia"===this.sortColumn?(o=parseInt(o)||0,s=parseInt(s)||0):(o=o?.toString().toLowerCase()||"",s=s?.toString().toLowerCase()||""),o<s?"asc"===this.sortDirection?-1:1:o>s?"asc"===this.sortDirection?1:-1:0}),this.filteredGiocatori=n}onFilterChange(){this.applyFilters()}sortBy(n){this.sortColumn===n?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=n,this.sortDirection="asc"),this.applyFilters()}clearFilters(){this.filters={numeroMaglia:"",cognome:"",nome:"",dataDiNascita:"",ruolo:"",tesseraUisp:"",codiceFiscale:"",profilo:"",email:"",tagliaDivisa:"",scadenzaCertificatoMedico:""},this.applyFilters()}get numeroGiocatori(){return this.giocatori.filter(n=>{const r=(n.ruolo||"").toLowerCase();return!r.includes("allenatore")&&!r.includes("dirigente")}).length}getCertificatoClass(n){if(!n)return"";const r=new Date,o=new Date(n).getTime()-r.getTime(),s=Math.ceil(o/864e5);return s>30?"badge bg-success":s>14?"badge bg-warning text-dark":"badge bg-danger"}openDialog(n){void 0!==n?(this.selectedGiocatore={...n},this.isEditMode=!0):(this.selectedGiocatore=null,this.isEditMode=!1)}handleSave(n){var r=this;return(0,ne.A)(function*(){try{if(r.isEditMode&&r.selectedGiocatore){const i=r.selectedGiocatore.id,{id:o,...s}=n;yield r.giocatoriService.updateGiocatore(i,s)}else yield r.giocatoriService.addGiocatore(n);r.closeModal(),r.handleClose()}catch(i){console.error("Errore nel salvataggio del giocatore:",i),alert("Errore nel salvataggio. Riprova.")}})()}handleClose(){this.selectedGiocatore=null,this.isEditMode=!1}eliminaGiocatore(n){var r=this;return(0,ne.A)(function*(){if(confirm("Sei sicuro di voler eliminare questo giocatore?"))try{const i=n.id;yield r.giocatoriService.deleteGiocatore(i)}catch(i){console.error("Errore nell'eliminazione del giocatore:",i),alert("Errore nell'eliminazione. Riprova.")}})()}closeModal(){const n=document.getElementById("giocatoreModal");if(n){const r=bootstrap.Modal.getInstance(n);r&&r.hide()}}handleFileUpload(n){var r=this;const i=n.target.files[0];if(!i)return;if(!i.name.endsWith(".json"))return alert("Seleziona un file JSON valido."),void(n.target.value="");const o=new FileReader;o.onload=function(){var s=(0,ne.A)(function*(a){try{const u=JSON.parse(a.target.result);if(!Array.isArray(u))return alert("Il file JSON deve contenere un array di giocatori."),void(n.target.value="");const l=yield r.giocatoriService.getGiocatori(),c=[];let d=0;if(u.forEach(g=>{const p=(g.nome||"").toLowerCase(),b=(g.cognome||"").toLowerCase();l.some(E=>E.nome.toLowerCase()===p&&E.cognome.toLowerCase()===b)?d++:c.push({...g,nome:p,cognome:b,capitano:g.capitano||!1})}),c.length>0)try{yield r.giocatoriService.addMultipleGiocatori(c);let g=`${c.length} giocatori caricati con successo!`;d>0&&(g+=`\n${d} giocatori gi\xe0 presenti sono stati ignorati.`),alert(g)}catch(g){console.error("Errore nel caricamento dei giocatori:",g),alert("Errore nel caricamento. Riprova.")}else d>0?alert(`Nessun giocatore caricato.\n${d} giocatori erano gi\xe0 presenti.`):alert("Nessun giocatore valido trovato nel file");n.target.value=""}catch(u){console.error("Errore nel parsing del file JSON:",u),alert("Errore nel parsing del file JSON. Assicurati che il formato sia corretto."),n.target.value=""}});return function(a){return s.apply(this,arguments)}}(),o.readAsText(i)}exportToJSON(){if(0===this.giocatori.length)return void alert("Nessun giocatore da esportare.");const n=this.giocatori.map(u=>{const{id:l,...c}=u;return c}),r=JSON.stringify(n,null,2),i=new Blob([r],{type:"application/json"}),o=window.URL.createObjectURL(i),s=document.createElement("a");s.href=o;const a=(new Date).toISOString().split("T")[0];s.download=`giocatori_${a}.json`,s.click(),window.URL.revokeObjectURL(o)}static{this.\u0275fac=function(r){return new(r||t)(Oe(Ex),Oe(dh))}}static{this.\u0275cmp=Ys({type:t,selectors:[["app-giocatori"]],decls:102,vars:76,consts:[[1,"container-fluid","px-3","custom-spacing"],[1,"row","mb-2"],[1,"col-12","d-flex","justify-content-between","align-items-center","flex-wrap"],[1,"mb-2","mb-md-0"],[1,"mb-0"],[1,"badge","bg-primary","fs-4","text-uppercase"],["class","mt-2",4,"ngIf"],["class","d-flex gap-2",4,"ngIf"],[1,"table-container","d-none","d-md-block"],[1,"table-wrapper"],[1,"table","table-hover","modern-table"],[1,"table-header","sticky-header"],[1,"sortable",3,"click"],[1,"th-content"],[1,"bi",3,"ngClass"],["class","actions-column",4,"ngIf"],[1,"filter-row"],["type","text","placeholder","Filtra...",1,"form-control","form-control-sm","filter-input",3,"ngModel","ngModelChange","input"],["type","text","placeholder","gg/mm/aaaa",1,"form-control","form-control-sm","filter-input",3,"ngModel","ngModelChange","input"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"d-md-none"],["class","text-center text-muted py-4",4,"ngIf"],["id","giocatoriAccordion",1,"accordion"],["class","accordion-item",4,"ngFor","ngForOf"],[3,"giocatore","isEditMode","onSave","onClose"],[1,"mt-2"],[1,"badge","bg-primary"],[1,"d-flex","gap-2"],["type","file","accept",".json",1,"file-input-hidden",3,"change"],["fileInput",""],["title","Importa giocatori da JSON",1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi-upload"],[1,"d-none","d-lg-inline"],["title","Esporta giocatori in JSON",1,"btn","btn-sm","btn-success",3,"click"],[1,"bi","bi-download"],["data-bs-toggle","modal","data-bs-target","#giocatoreModal",1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi-plus-circle"],[1,"actions-column"],["title","Pulisci filtri",1,"btn","btn-sm","btn-link","text-white",3,"click"],[1,"bi","bi-x-circle"],["class","text-muted",4,"ngIf"],[3,"ngClass",4,"ngIf"],["class","actions-cell",4,"ngIf"],[1,"text-muted"],[3,"ngClass"],[1,"actions-cell"],["class","btn btn-sm btn-primary me-1","data-bs-toggle","modal","data-bs-target","#giocatoreModal","title","Modifica",3,"click",4,"ngIf"],["class","btn btn-sm btn-danger","title","Elimina",3,"click",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#giocatoreModal","title","Modifica",1,"btn","btn-sm","btn-primary","me-1",3,"click"],[1,"bi","bi-pencil"],["title","Elimina",1,"btn","btn-sm","btn-danger",3,"click"],[1,"bi","bi-trash"],[1,"text-center","text-muted","py-4"],[1,"bi","bi-inbox","fs-1","d-block","mb-2"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"accordion-button","collapsed"],[1,"badge","bg-primary","me-2","numero-maglia-badge"],["data-bs-parent","#giocatoriAccordion",1,"accordion-collapse","collapse"],[1,"accordion-body"],["class","bi bi-check-circle-fill text-success",4,"ngIf"],["class","bi bi-x-circle-fill text-danger",4,"ngIf"],["class","mt-3 d-flex flex-wrap gap-2 justify-content-end",4,"ngIf"],[1,"bi","bi-check-circle-fill","text-success"],[1,"bi","bi-x-circle-fill","text-danger"],[1,"mt-3","d-flex","flex-wrap","gap-2","justify-content-end"],["data-bs-toggle","modal","data-bs-target","#giocatoreModal",1,"btn","btn-primary","btn-sm",3,"click"],["class","btn btn-danger btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-danger","btn-sm",3,"click"]],template:function(r,i){1&r&&(Q(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4)(5,"span",5),ce(6,"Giocatori"),G()(),It(7,$me,3,1,"div",6),G(),It(8,qme,15,0,"div",7),G()(),Q(9,"div",8)(10,"div",9)(11,"table",10)(12,"thead",11)(13,"tr")(14,"th",12),ze("click",function(){return i.sortBy("numeroMaglia")}),Q(15,"div",13)(16,"span"),ce(17,"N. Maglia"),G(),Re(18,"i",14),G()(),Q(19,"th",12),ze("click",function(){return i.sortBy("cognome")}),Q(20,"div",13)(21,"span"),ce(22,"Cognome"),G(),Re(23,"i",14),G()(),Q(24,"th",12),ze("click",function(){return i.sortBy("nome")}),Q(25,"div",13)(26,"span"),ce(27,"Nome"),G(),Re(28,"i",14),G()(),Q(29,"th",12),ze("click",function(){return i.sortBy("dataDiNascita")}),Q(30,"div",13)(31,"span"),ce(32,"Data di Nascita"),G(),Re(33,"i",14),G()(),Q(34,"th",12),ze("click",function(){return i.sortBy("ruolo")}),Q(35,"div",13)(36,"span"),ce(37,"Ruolo"),G(),Re(38,"i",14),G()(),Q(39,"th",12),ze("click",function(){return i.sortBy("tesseraUisp")}),Q(40,"div",13)(41,"span"),ce(42,"Tessera UISP"),G(),Re(43,"i",14),G()(),Q(44,"th",12),ze("click",function(){return i.sortBy("codiceFiscale")}),Q(45,"div",13)(46,"span"),ce(47,"Codice Fiscale"),G(),Re(48,"i",14),G()(),Q(49,"th",12),ze("click",function(){return i.sortBy("profilo")}),Q(50,"div",13)(51,"span"),ce(52,"Profilo"),G(),Re(53,"i",14),G()(),Q(54,"th",12),ze("click",function(){return i.sortBy("email")}),Q(55,"div",13)(56,"span"),ce(57,"Email"),G(),Re(58,"i",14),G()(),Q(59,"th",12),ze("click",function(){return i.sortBy("tagliaDivisa")}),Q(60,"div",13)(61,"span"),ce(62,"Taglia Divisa"),G(),Re(63,"i",14),G()(),Q(64,"th",12),ze("click",function(){return i.sortBy("scadenzaCertificatoMedico")}),Q(65,"div",13)(66,"span"),ce(67,"Scadenza Cert. Medico"),G(),Re(68,"i",14),G()(),It(69,Gme,6,0,"th",15),G(),Q(70,"tr",16)(71,"th")(72,"input",17),ze("ngModelChange",function(s){return i.filters.numeroMaglia=s})("input",function(){return i.onFilterChange()}),G()(),Q(73,"th")(74,"input",17),ze("ngModelChange",function(s){return i.filters.cognome=s})("input",function(){return i.onFilterChange()}),G()(),Q(75,"th")(76,"input",17),ze("ngModelChange",function(s){return i.filters.nome=s})("input",function(){return i.onFilterChange()}),G()(),Q(77,"th")(78,"input",18),ze("ngModelChange",function(s){return i.filters.dataDiNascita=s})("input",function(){return i.onFilterChange()}),G()(),Q(79,"th")(80,"input",17),ze("ngModelChange",function(s){return i.filters.ruolo=s})("input",function(){return i.onFilterChange()}),G()(),Q(81,"th")(82,"input",17),ze("ngModelChange",function(s){return i.filters.tesseraUisp=s})("input",function(){return i.onFilterChange()}),G()(),Q(83,"th")(84,"input",17),ze("ngModelChange",function(s){return i.filters.codiceFiscale=s})("input",function(){return i.onFilterChange()}),G()(),Q(85,"th")(86,"input",17),ze("ngModelChange",function(s){return i.filters.profilo=s})("input",function(){return i.onFilterChange()}),G()(),Q(87,"th")(88,"input",17),ze("ngModelChange",function(s){return i.filters.email=s})("input",function(){return i.onFilterChange()}),G()(),Q(89,"th")(90,"input",17),ze("ngModelChange",function(s){return i.filters.tagliaDivisa=s})("input",function(){return i.onFilterChange()}),G()(),Q(91,"th")(92,"input",18),ze("ngModelChange",function(s){return i.filters.scadenzaCertificatoMedico=s})("input",function(){return i.onFilterChange()}),G()(),It(93,Hme,1,0,"th",19),G()(),Q(94,"tbody"),It(95,e_e,30,21,"tr",20),It(96,t_e,4,2,"tr",19),G()()()(),Q(97,"div",21),It(98,n_e,2,0,"div",22),Q(99,"div",23),It(100,d_e,51,28,"div",24),G()()(),Q(101,"app-dialog-giocatore",25),ze("onSave",function(s){return i.handleSave(s)})("onClose",function(){return i.handleClose()}),G()),2&r&&(ae(7),Me("ngIf",i.giocatori.length),ae(1),Me("ngIf",i.authService.hasEditPermission()),ae(10),Me("ngClass",pi(32,ka,"numeroMaglia"===i.sortColumn&&"asc"===i.sortDirection,"numeroMaglia"===i.sortColumn&&"desc"===i.sortDirection,"numeroMaglia"!==i.sortColumn)),ae(5),Me("ngClass",pi(36,ka,"cognome"===i.sortColumn&&"asc"===i.sortDirection,"cognome"===i.sortColumn&&"desc"===i.sortDirection,"cognome"!==i.sortColumn)),ae(5),Me("ngClass",pi(40,ka,"nome"===i.sortColumn&&"asc"===i.sortDirection,"nome"===i.sortColumn&&"desc"===i.sortDirection,"nome"!==i.sortColumn)),ae(5),Me("ngClass",pi(44,ka,"dataDiNascita"===i.sortColumn&&"asc"===i.sortDirection,"dataDiNascita"===i.sortColumn&&"desc"===i.sortDirection,"dataDiNascita"!==i.sortColumn)),ae(5),Me("ngClass",pi(48,ka,"ruolo"===i.sortColumn&&"asc"===i.sortDirection,"ruolo"===i.sortColumn&&"desc"===i.sortDirection,"ruolo"!==i.sortColumn)),ae(5),Me("ngClass",pi(52,ka,"tesseraUisp"===i.sortColumn&&"asc"===i.sortDirection,"tesseraUisp"===i.sortColumn&&"desc"===i.sortDirection,"tesseraUisp"!==i.sortColumn)),ae(5),Me("ngClass",pi(56,ka,"codiceFiscale"===i.sortColumn&&"asc"===i.sortDirection,"codiceFiscale"===i.sortColumn&&"desc"===i.sortDirection,"codiceFiscale"!==i.sortColumn)),ae(5),Me("ngClass",pi(60,ka,"profilo"===i.sortColumn&&"asc"===i.sortDirection,"profilo"===i.sortColumn&&"desc"===i.sortDirection,"profilo"!==i.sortColumn)),ae(5),Me("ngClass",pi(64,ka,"email"===i.sortColumn&&"asc"===i.sortDirection,"email"===i.sortColumn&&"desc"===i.sortDirection,"email"!==i.sortColumn)),ae(5),Me("ngClass",pi(68,ka,"tagliaDivisa"===i.sortColumn&&"asc"===i.sortDirection,"tagliaDivisa"===i.sortColumn&&"desc"===i.sortDirection,"tagliaDivisa"!==i.sortColumn)),ae(5),Me("ngClass",pi(72,ka,"scadenzaCertificatoMedico"===i.sortColumn&&"asc"===i.sortDirection,"scadenzaCertificatoMedico"===i.sortColumn&&"desc"===i.sortDirection,"scadenzaCertificatoMedico"!==i.sortColumn)),ae(1),Me("ngIf",i.shouldShowActionsColumn()),ae(3),Me("ngModel",i.filters.numeroMaglia),ae(2),Me("ngModel",i.filters.cognome),ae(2),Me("ngModel",i.filters.nome),ae(2),Me("ngModel",i.filters.dataDiNascita),ae(2),Me("ngModel",i.filters.ruolo),ae(2),Me("ngModel",i.filters.tesseraUisp),ae(2),Me("ngModel",i.filters.codiceFiscale),ae(2),Me("ngModel",i.filters.profilo),ae(2),Me("ngModel",i.filters.email),ae(2),Me("ngModel",i.filters.tagliaDivisa),ae(2),Me("ngModel",i.filters.scadenzaCertificatoMedico),ae(1),Me("ngIf",i.shouldShowActionsColumn()),ae(2),Me("ngForOf",i.giocatoriOrdinati),ae(1),Me("ngIf",0===i.filteredGiocatori.length),ae(2),Me("ngIf",0===i.giocatori.length),ae(2),Me("ngForOf",i.giocatoriOrdinati),ae(1),Me("giocatore",i.selectedGiocatore)("isEditMode",i.isEditMode))},dependencies:[J0,X0,Rd,El,fh,uv,zme,MA,s9],styles:[".file-input-hidden[_ngcontent-%COMP%]{display:none}.custom-spacing[_ngcontent-%COMP%]{margin-top:-20px}.numero-maglia-badge[_ngcontent-%COMP%]{min-width:40px;text-align:center}.table-container[_ngcontent-%COMP%]{background:white;border-radius:8px;box-shadow:0 1px 3px #00000014;overflow:hidden;margin-bottom:2rem}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;max-height:calc(100vh - 200px)}.modern-table[_ngcontent-%COMP%]{margin-bottom:0;font-size:.9rem}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10}.table-header[_ngcontent-%COMP%]{background-color:#cfe2ff;color:#084298}.table-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#cfe2ff!important}.table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.75rem;font-weight:600;white-space:nowrap;background-color:#cfe2ff!important}.sortable[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:background-color .2s}.sortable[_ngcontent-%COMP%]:hover{background-color:#0842981a}.th-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.5rem}.th-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem;opacity:.7}.filter-row[_ngcontent-%COMP%]{background-color:#cfe2ff}.filter-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem;background-color:#cfe2ff;border-top:none}.filter-input[_ngcontent-%COMP%]{font-size:.85rem;border:1px solid #dee2e6;border-radius:4px;padding:.375rem .5rem}.filter-input[_ngcontent-%COMP%]:focus{border-color:#6ea8fe;box-shadow:0 0 0 .2rem #6ea8fe40}.table-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{color:#084298;opacity:.8}.table-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{color:#052c65;opacity:1}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .15s;border-bottom:1px solid #f8f9fa}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#0d6efd0a}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;vertical-align:middle}.actions-column[_ngcontent-%COMP%]{min-width:120px;text-align:center}.actions-cell[_ngcontent-%COMP%]{white-space:nowrap;text-align:center}.actions-cell[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem}.actions-cell[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0}.modern-table[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.875rem;padding:.35rem .65rem;font-weight:500}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.375rem}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:last-child{margin-right:0}@media (max-width: 1400px){.modern-table[_ngcontent-%COMP%]{font-size:.85rem}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem}}@media (max-width: 768px){.table-container[_ngcontent-%COMP%]{display:none}}"]})}}return t})(),a9=(()=>{class t{constructor(){this.onSave=new Qn,this.onClose=new Qn,this.ospitanteRis=null,this.ospiteRis=null}open(){this.ospitanteRis=null,this.ospiteRis=null;const n=document.getElementById("risultatoModal");n&&(this.modalInstance=new bootstrap.Modal(n),this.modalInstance.show())}salva(){null==this.ospitanteRis||null==this.ospiteRis||(this.onSave.emit({ospitante:this.ospitanteRis,ospite:this.ospiteRis}),this.chiudi())}chiudi(){this.modalInstance&&this.modalInstance.hide(),this.onClose.emit()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ys({type:t,selectors:[["app-dialog-risultato"]],inputs:{partita:"partita"},outputs:{onSave:"onSave",onClose:"onClose"},decls:22,vars:5,consts:[["id","risultatoModal","tabindex","-1","aria-labelledby","dialogRisultatoLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","dialogRisultatoLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["autocomplete","off",3,"ngSubmit"],[1,"mb-3","d-flex","align-items-center","justify-content-between"],[1,"form-label","mb-0"],["type","number","name","ospitanteRis","min","0","max","3","required","",1,"form-control","w-auto","ms-2",3,"ngModel","ngModelChange"],["type","number","name","ospiteRis","min","0","max","3","required","",1,"form-control","w-auto","ms-2",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-success",3,"disabled","click"]],template:function(r,i){1&r&&(Q(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),ce(5,"Inserisci Risultato"),G(),Q(6,"button",5),ze("click",function(){return i.chiudi()}),G()(),Q(7,"div",6)(8,"form",7),ze("ngSubmit",function(){return i.salva()}),Q(9,"div",8)(10,"label",9),ce(11),G(),Q(12,"input",10),ze("ngModelChange",function(s){return i.ospitanteRis=s}),G()(),Q(13,"div",8)(14,"label",9),ce(15),G(),Q(16,"input",11),ze("ngModelChange",function(s){return i.ospiteRis=s}),G()()()(),Q(17,"div",12)(18,"button",13),ze("click",function(){return i.chiudi()}),ce(19,"Annulla"),G(),Q(20,"button",14),ze("click",function(){return i.salva()}),ce(21,"Salva"),G()()()()()),2&r&&(ae(11),jn(null==i.partita?null:i.partita.ospitante),ae(1),Me("ngModel",i.ospitanteRis),ae(3),jn(null==i.partita?null:i.partita.ospite),ae(1),Me("ngModel",i.ospiteRis),ae(4),Me("disabled",null==i.ospitanteRis||null==i.ospiteRis||i.ospitanteRis<0||i.ospitanteRis>3||i.ospiteRis<0||i.ospiteRis>3))},dependencies:[lv,El,nw,fh,ev,iw,jx,Bx,uv,tw]})}}return t})(),f_e=(()=>{class t{constructor(n){this.firestore=n,this.collectionName="partite"}getPartiteObservable(){const n=X_(this.firestore,this.collectionName),r=rj(n,nj("numeroGara","asc"));return ej(r,{idField:"id"})}getPartite(){var n=this;return(0,ne.A)(function*(){return yield oj(n.getPartiteObservable())})()}addPartita(n){var r=this;return(0,ne.A)(function*(){const i=X_(r.firestore,r.collectionName);yield Ix(i,n)})()}updatePartita(n,r){var i=this;return(0,ne.A)(function*(){const o=qb(i.firestore,i.collectionName,n);yield ij(o,r)})()}deletePartita(n){var r=this;return(0,ne.A)(function*(){const i=qb(r.firestore,r.collectionName,n);yield tj(i)})()}static{this.\u0275fac=function(r){return new(r||t)(gt(J_))}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function qn(t){return qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qn(t)}var Gn=Uint8Array,zo=Uint16Array,dv=Int32Array,Wp=new Gn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Kp=new Gn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),hv=new Gn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l9=function(t,e){for(var n=new zo(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];var i=new dv(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},c9=l9(Wp,2),sw=c9.r;c9.b[28]=258,sw[258]=28;for(var qx=l9(Kp,0).r,fv=new zo(32768),Ir=0;Ir<32768;++Ir){var Rc=(43690&Ir)>>1|(21845&Ir)<<1;fv[Ir]=((65280&(Rc=(61680&(Rc=(52428&Rc)>>2|(13107&Rc)<<2))>>4|(3855&Rc)<<4))>>8|(255&Rc)<<8)>>1}var vu=function(t,e,n){for(var r=t.length,i=0,o=new zo(e);i<r;++i)t[i]&&++o[t[i]-1];var a,s=new zo(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;if(n){a=new zo(1<<e);var u=15-e;for(i=0;i<r;++i)if(t[i])for(var l=i<<4|t[i],c=e-t[i],d=s[t[i]-1]++<<c,g=d|(1<<c)-1;d<=g;++d)a[fv[d]>>u]=l}else for(a=new zo(r),i=0;i<r;++i)t[i]&&(a[i]=fv[s[t[i]-1]++]>>15-t[i]);return a},Mc=new Gn(288);for(Ir=0;Ir<144;++Ir)Mc[Ir]=8;for(Ir=144;Ir<256;++Ir)Mc[Ir]=9;for(Ir=256;Ir<280;++Ir)Mc[Ir]=7;for(Ir=280;Ir<288;++Ir)Mc[Ir]=8;var pv=new Gn(32);for(Ir=0;Ir<32;++Ir)pv[Ir]=5;var f9=vu(Mc,9,0),g9=vu(pv,5,0),gv=function(t){return(t+7)/8|0},yu=function(t,e,n){var r=e/8|0;t[r]|=n<<=7&e,t[r+1]|=n>>8},Qp=function(t,e,n){var r=e/8|0;t[r]|=n<<=7&e,t[r+1]|=n>>8,t[r+2]|=n>>16},cw=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,o=n.slice();if(!i)return{t:Kx,l:0};if(1==i){var s=new Gn(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(Z,ie){return Z.f-ie.f}),n.push({s:-1,f:25001});var a=n[0],u=n[1],l=0,c=1,d=2;for(n[0]={s:-1,f:a.f+u.f,l:a,r:u};c!=i-1;)a=n[n[l].f<n[d].f?l++:d++],u=n[l!=c&&n[l].f<n[d].f?l++:d++],n[c++]={s:-1,f:a.f+u.f,l:a,r:u};var g=o[0].s;for(r=1;r<i;++r)o[r].s>g&&(g=o[r].s);var p=new zo(g+1),b=dw(n[c-1],p,0);if(b>e){r=0;var w=0,E=b-e,A=1<<E;for(o.sort(function(ie,B){return p[B.s]-p[ie.s]||ie.f-B.f});r<i;++r){var R=o[r].s;if(!(p[R]>e))break;w+=A-(1<<b-p[R]),p[R]=e}for(w>>=E;w>0;){var V=o[r].s;p[V]<e?w-=1<<e-p[V]++-1:++r}for(;r>=0&&w;--r){var O=o[r].s;p[O]==e&&(--p[O],++w)}b=e}return{t:new Gn(p),l:b}},dw=function(t,e,n){return-1==t.s?Math.max(dw(t.l,e,n+1),dw(t.r,e,n+1)):e[t.s]=n},Gx=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new zo(++e),r=0,i=t[0],o=1,s=function(u){n[r++]=u},a=1;a<=e;++a)if(t[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=t[a]}return{c:n.subarray(0,r),n:e}},Yp=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},Hx=function(t,e,n){var r=n.length,i=gv(e+2);t[i]=255&r,t[i+1]=r>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var o=0;o<r;++o)t[i+o+4]=n[o];return 8*(i+4+r)},Wx=function(t,e,n,r,i,o,s,a,u,l,c){yu(e,c++,n),++i[256];for(var d=cw(i,15),g=d.t,p=d.l,b=cw(o,15),w=b.t,E=b.l,A=Gx(g),R=A.c,V=A.n,O=Gx(w),Z=O.c,ie=O.n,B=new zo(19),D=0;D<R.length;++D)++B[31&R[D]];for(D=0;D<Z.length;++D)++B[31&Z[D]];for(var S=cw(B,7),L=S.t,C=S.l,x=19;x>4&&!L[hv[x-1]];--x);var Ee,Ie,pe,Ae,P=l+5<<3,X=Yp(i,Mc)+Yp(o,pv)+s,ge=Yp(i,g)+Yp(o,w)+s+14+3*x+Yp(B,L)+2*B[16]+3*B[17]+7*B[18];if(u>=0&&P<=X&&P<=ge)return Hx(e,c,t.subarray(u,u+l));if(yu(e,c,1+(ge<X)),c+=2,ge<X){Ee=vu(g,p,0),Ie=g,pe=vu(w,E,0),Ae=w;var Ge=vu(L,C,0);for(yu(e,c,V-257),yu(e,c+5,ie-1),yu(e,c+10,x-4),c+=14,D=0;D<x;++D)yu(e,c+3*D,L[hv[D]]);c+=3*x;for(var ke=[R,Z],F=0;F<2;++F){var q=ke[F];for(D=0;D<q.length;++D)yu(e,c,Ge[J=31&q[D]]),c+=L[J],J>15&&(yu(e,c,q[D]>>5&127),c+=q[D]>>12)}}else Ee=f9,Ie=Mc,pe=g9,Ae=pv;for(D=0;D<a;++D){var te=r[D];if(te>255){var J;Qp(e,c,Ee[257+(J=te>>18&31)]),c+=Ie[J+257],J>7&&(yu(e,c,te>>23&31),c+=Wp[J]);var se=31&te;Qp(e,c,pe[se]),c+=Ae[se],se>3&&(Qp(e,c,te>>5&8191),c+=Kp[se])}else Qp(e,c,Ee[te]),c+=Ie[te]}return Qp(e,c,Ee[256]),c+Ie[256]},v9=new dv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Kx=new Gn(0),y9=function(t,e,n,r,i,o){var s=o.z||t.length,a=new Gn(r+s+5*(1+Math.ceil(s/7e3))+i),u=a.subarray(r,a.length-i),l=o.l,c=7&(o.r||0);if(e){c&&(u[0]=o.r>>3);for(var d=v9[e-1],g=d>>13,p=8191&d,b=(1<<n)-1,w=o.p||new zo(32768),E=o.h||new zo(b+1),A=Math.ceil(n/3),R=2*A,V=function(Ce){return(t[Ce]^t[Ce+1]<<A^t[Ce+2]<<R)&b},O=new dv(25e3),Z=new zo(288),ie=new zo(32),B=0,D=0,S=o.i||0,L=0,C=o.w||0,x=0;S+2<s;++S){var P=V(S),X=32767&S,ge=E[P];if(w[X]=ge,E[P]=X,C<=S){var Ee=s-S;if((B>7e3||L>24576)&&(Ee>423||!l)){c=Wx(t,u,0,O,Z,ie,D,L,x,S-x,c),L=B=D=0,x=S;for(var Ie=0;Ie<286;++Ie)Z[Ie]=0;for(Ie=0;Ie<30;++Ie)ie[Ie]=0}var pe=2,Ae=0,Ge=p,ke=X-ge&32767;if(Ee>2&&P==V(S-ke))for(var F=Math.min(g,Ee)-1,q=Math.min(32767,S),J=Math.min(258,Ee);ke<=q&&--Ge&&X!=ge;){if(t[S+pe]==t[S+pe-ke]){for(var te=0;te<J&&t[S+te]==t[S+te-ke];++te);if(te>pe){if(pe=te,Ae=ke,te>F)break;var se=Math.min(ke,te-2),de=0;for(Ie=0;Ie<se;++Ie){var ve=S-ke+Ie&32767,De=ve-w[ve]&32767;De>de&&(de=De,ge=ve)}}}ke+=(X=ge)-(ge=w[X])&32767}if(Ae){O[L++]=268435456|sw[pe]<<18|qx[Ae];var Te=31&sw[pe],Qe=31&qx[Ae];D+=Wp[Te]+Kp[Qe],++Z[257+Te],++ie[Qe],C=S+pe,++B}else O[L++]=t[S],++Z[t[S]]}}for(S=Math.max(S,C);S<s;++S)O[L++]=t[S],++Z[t[S]];c=Wx(t,u,l,O,Z,ie,D,L,x,S-x,c),l||(o.r=7&c|u[c/8|0]<<3,c-=7,o.h=E,o.p=w,o.i=S,o.w=C)}else{for(S=o.w||0;S<s+l;S+=65535){var Ke=S+65535;Ke>=s&&(u[c/8|0]=l,Ke=s),c=Hx(u,c+1,t.subarray(S,Ke))}o.i=s}return function(t,e,n){return(null==e||e<0)&&(e=0),(null==n||n>t.length)&&(n=t.length),new Gn(t.subarray(e,n))}(a,0,r+gv(c)+i)},Qx=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,o=0|n.length,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=n[s];r=(65535&r)+15*(r>>16),i=(65535&i)+15*(i>>16)}t=r,e=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(e%=65521))<<8|e>>8}}},fw=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new Gn(o.length+t.length);s.set(o),s.set(t,o.length),t=s,i.w=o.length}return y9(t,null==e.level?6:e.level,null==e.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):20:12+e.mem,n,r,i)},Nr=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},S9=function(t,e){var n=e.level,r=0==n?0:n<6?1:9==n?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Qx();i.p(e.dictionary),Nr(t,2,i.d())}};function _v(t,e){e||(e={});var n=Qx();n.p(t);var r=fw(t,e,e.dictionary?6:2,4);return S9(r,e),Nr(r,r.length-4,n.d()),r}var rP=typeof TextDecoder<"u"&&new TextDecoder;try{rP.decode(Kx,{stream:!0})}catch{}function O9(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function L9(t,e){return function S_e(t){if(Array.isArray(t))return t}(t)||function D_e(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(t,e)||function x_e(t,e){if(t){if("string"==typeof t)return O9(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O9(t,e):void 0}}(t,e)||function P_e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F9(t,e="utf8"){return new TextDecoder(e).decode(t)}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;const N_e=new TextEncoder,k_e=(()=>{const t=new Uint8Array(4);return!((new Uint32Array(t.buffer)[0]=1)&t[0])})(),iP={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class yv{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=8192,n={}){let r=!1;"number"==typeof e?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,o=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof yv)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),this.lastWrittenByte=r?o:0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=2*(this.offset+e),i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=iP[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+r);if(this.littleEndian===k_e&&"uint8"!==n&&"int8"!==n){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const u=new iP[n](a.buffer);return this.offset+=r,u.reverse(),u}const s=new iP[n](o);return this.offset+=r,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return F9(this.readBytes(e))}decodeText(e=1,n="utf8"){return F9(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(function R_e(t){return N_e.encode(t)}(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Jp(t){let e=t.length;for(;--e>=0;)t[e]=0}const lP=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),bw=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),z_e=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),G9=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Al=new Array(576);Jp(Al);const Iv=new Array(60);Jp(Iv);const Ev=new Array(512);Jp(Ev);const Av=new Array(256);Jp(Av);const cP=new Array(29);Jp(cP);const ww=new Array(30);function dP(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}let H9,W9,K9;function hP(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}Jp(ww);const Q9=t=>t<256?Ev[t]:Ev[256+(t>>>7)],Cv=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},ds=(t,e,n)=>{t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,Cv(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},bu=(t,e,n)=>{ds(t,n[2*e],n[2*e+1])},Y9=(t,e)=>{let n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1},Z9=(t,e,n)=>{const r=new Array(16);let o,s,i=0;for(o=1;o<=15;o++)i=i+n[o-1]<<1,r[o]=i;for(s=0;s<=e;s++){let a=t[2*s+1];0!==a&&(t[2*s]=Y9(r[a]++,a))}},J9=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},X9=t=>{t.bi_valid>8?Cv(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},ez=(t,e,n,r)=>{const i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]},fP=(t,e,n)=>{const r=t.heap[n];let i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&ez(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!ez(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},tz=(t,e,n)=>{let r,i,s,a,o=0;if(0!==t.sym_next)do{r=255&t.pending_buf[t.sym_buf+o++],r+=(255&t.pending_buf[t.sym_buf+o++])<<8,i=t.pending_buf[t.sym_buf+o++],0===r?bu(t,i,e):(s=Av[i],bu(t,s+256+1,e),a=lP[s],0!==a&&(i-=cP[s],ds(t,i,a)),r--,s=Q9(r),bu(t,s,n),a=bw[s],0!==a&&(r-=ww[s],ds(t,r,a)))}while(o<t.sym_next);bu(t,256,e)},pP=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems;let s,a,l,u=-1;for(t.heap_len=0,t.heap_max=573,s=0;s<o;s++)0!==n[2*s]?(t.heap[++t.heap_len]=u=s,t.depth[s]=0):n[2*s+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=u<2?++u:0,n[2*l]=1,t.depth[l]=0,t.opt_len--,i&&(t.static_len-=r[2*l+1]);for(e.max_code=u,s=t.heap_len>>1;s>=1;s--)fP(t,n,s);l=o;do{s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],fP(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,n[2*l]=n[2*s]+n[2*a],t.depth[l]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,n[2*s+1]=n[2*a+1]=l,t.heap[1]=l++,fP(t,n,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,u=e.stat_desc.max_length;let l,c,d,g,p,b,w=0;for(g=0;g<=15;g++)t.bl_count[g]=0;for(n[2*t.heap[t.heap_max]+1]=0,l=t.heap_max+1;l<573;l++)c=t.heap[l],g=n[2*n[2*c+1]+1]+1,g>u&&(g=u,w++),n[2*c+1]=g,!(c>r)&&(t.bl_count[g]++,p=0,c>=a&&(p=s[c-a]),b=n[2*c],t.opt_len+=b*(g+p),o&&(t.static_len+=b*(i[2*c+1]+p)));if(0!==w){do{for(g=u-1;0===t.bl_count[g];)g--;t.bl_count[g]--,t.bl_count[g+1]+=2,t.bl_count[u]--,w-=2}while(w>0);for(g=u;0!==g;g--)for(c=t.bl_count[g];0!==c;)d=t.heap[--l],!(d>r)&&(n[2*d+1]!==g&&(t.opt_len+=(g-n[2*d+1])*n[2*d],n[2*d+1]=g),c--)}})(t,e),Z9(n,u,t.bl_count)},nz=(t,e,n)=>{let r,o,i=-1,s=e[1],a=0,u=7,l=4;for(0===s&&(u=138,l=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)o=s,s=e[2*(r+1)+1],!(++a<u&&o===s)&&(a<l?t.bl_tree[2*o]+=a:0!==o?(o!==i&&t.bl_tree[2*o]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,i=o,0===s?(u=138,l=3):o===s?(u=6,l=3):(u=7,l=4))},rz=(t,e,n)=>{let r,o,i=-1,s=e[1],a=0,u=7,l=4;for(0===s&&(u=138,l=3),r=0;r<=n;r++)if(o=s,s=e[2*(r+1)+1],!(++a<u&&o===s)){if(a<l)do{bu(t,o,t.bl_tree)}while(0!=--a);else 0!==o?(o!==i&&(bu(t,o,t.bl_tree),a--),bu(t,16,t.bl_tree),ds(t,a-3,2)):a<=10?(bu(t,17,t.bl_tree),ds(t,a-3,3)):(bu(t,18,t.bl_tree),ds(t,a-11,7));a=0,i=o,0===s?(u=138,l=3):o===s?(u=6,l=3):(u=7,l=4)}};let iz=!1;const oz=(t,e,n,r)=>{ds(t,0+(r?1:0),3),X9(t),Cv(t,n),Cv(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n};var ove={_tr_init:t=>{iz||((()=>{let t,e,n,r,i;const o=new Array(16);for(n=0,r=0;r<28;r++)for(cP[r]=n,t=0;t<1<<lP[r];t++)Av[n++]=r;for(Av[n-1]=r,i=0,r=0;r<16;r++)for(ww[r]=i,t=0;t<1<<bw[r];t++)Ev[i++]=r;for(i>>=7;r<30;r++)for(ww[r]=i<<7,t=0;t<1<<bw[r]-7;t++)Ev[256+i++]=r;for(e=0;e<=15;e++)o[e]=0;for(t=0;t<=143;)Al[2*t+1]=8,t++,o[8]++;for(;t<=255;)Al[2*t+1]=9,t++,o[9]++;for(;t<=279;)Al[2*t+1]=7,t++,o[7]++;for(;t<=287;)Al[2*t+1]=8,t++,o[8]++;for(Z9(Al,287,o),t=0;t<30;t++)Iv[2*t+1]=5,Iv[2*t]=Y9(t,5);H9=new dP(Al,lP,257,286,15),W9=new dP(Iv,bw,0,30,15),K9=new dP(new Array(0),z_e,0,19,7)})(),iz=!0),t.l_desc=new hP(t.dyn_ltree,H9),t.d_desc=new hP(t.dyn_dtree,W9),t.bl_desc=new hP(t.bl_tree,K9),t.bi_buf=0,t.bi_valid=0,J9(t)},_tr_stored_block:oz,_tr_flush_block:(t,e,n,r)=>{let i,o,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let n,e=4093624447;for(n=0;n<=31;n++,e>>>=1)if(1&e&&0!==t.dyn_ltree[2*n])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(n=32;n<256;n++)if(0!==t.dyn_ltree[2*n])return 1;return 0})(t)),pP(t,t.l_desc),pP(t,t.d_desc),s=(t=>{let e;for(nz(t,t.dyn_ltree,t.l_desc.max_code),nz(t,t.dyn_dtree,t.d_desc.max_code),pP(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*G9[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==e?oz(t,e,n,r):4===t.strategy||o===i?(ds(t,2+(r?1:0),3),tz(t,Al,Iv)):(ds(t,4+(r?1:0),3),((t,e,n,r)=>{let i;for(ds(t,e-257,5),ds(t,n-1,5),ds(t,r-4,4),i=0;i<r;i++)ds(t,t.bl_tree[2*G9[i]+1],3);rz(t,t.dyn_ltree,e-1),rz(t,t.dyn_dtree,n-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),tz(t,t.dyn_ltree,t.dyn_dtree)),J9(t),r&&X9(t)},_tr_tally:(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(Av[n]+256+1)]++,t.dyn_dtree[2*Q9(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{ds(t,2,3),bu(t,256,Al),(t=>{16===t.bi_valid?(Cv(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},Tv=(t,e,n,r)=>{let i=65535&t|0,o=t>>>16&65535|0,s=0;for(;0!==n;){s=n>2e3?2e3:n,n-=s;do{i=i+e[r++]|0,o=o+i|0}while(--s);i%=65521,o%=65521}return i|o<<16|0};const ave=new Uint32Array((()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e})());var Ui=(t,e,n,r)=>{const i=ave,o=r+n;t^=-1;for(let s=r;s<o;s++)t=t>>>8^i[255&(t^e[s])];return-1^t},_h={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},vh={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:uve,_tr_stored_block:gP,_tr_flush_block:lve,_tr_tally:Lc,_tr_align:cve}=ove,{Z_NO_FLUSH:Fc,Z_PARTIAL_FLUSH:dve,Z_FULL_FLUSH:hve,Z_FINISH:ca,Z_BLOCK:sz,Z_OK:no,Z_STREAM_END:az,Z_STREAM_ERROR:wu,Z_DATA_ERROR:fve,Z_BUF_ERROR:mP,Z_DEFAULT_COMPRESSION:pve,Z_FILTERED:gve,Z_HUFFMAN_ONLY:Iw,Z_RLE:mve,Z_FIXED:_ve,Z_DEFAULT_STRATEGY:vve,Z_UNKNOWN:yve,Z_DEFLATED:Ew}=vh,Iu=262,wh=(t,e)=>(t.msg=_h[e],e),uz=t=>2*t-(t>4?9:0),Uc=t=>{let e=t.length;for(;--e>=0;)t[e]=0},Pve=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do{n=t.head[--r],t.head[r]=n>=i?n-i:0}while(--e);e=i,r=e;do{n=t.prev[--r],t.prev[r]=n>=i?n-i:0}while(--e)};let Bc=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask;const ks=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},Os=(t,e)=>{lve(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,ks(t.strm)},Rn=(t,e)=>{t.pending_buf[t.pending++]=e},Dv=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},EP=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),1===t.state.wrap?t.adler=Tv(t.adler,e,i,n):2===t.state.wrap&&(t.adler=Ui(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},lz=(t,e)=>{let i,o,n=t.max_chain_length,r=t.strstart,s=t.prev_length,a=t.nice_match;const u=t.strstart>t.w_size-Iu?t.strstart-(t.w_size-Iu):0,l=t.window,c=t.w_mask,d=t.prev,g=t.strstart+258;let p=l[r+s-1],b=l[r+s];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do{if(i=e,l[i+s]===b&&l[i+s-1]===p&&l[i]===l[r]&&l[++i]===l[r+1]){r+=2,i++;do{}while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<g);if(o=258-(g-r),r=g-258,o>s){if(t.match_start=e,s=o,o>=a)break;p=l[r+s-1],b=l[r+s]}}}while((e=d[e&c])>u&&0!=--n);return s<=t.lookahead?s:t.lookahead},rg=t=>{const e=t.w_size;let n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Iu)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),Pve(t),r+=e),0===t.strm.avail_in)break;if(n=EP(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=Bc(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=Bc(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<Iu&&0!==t.strm.avail_in)},cz=(t,e)=>{let r,i,o,n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,s=0,a=t.strm.avail_in;do{if(r=65535,o=t.bi_valid+42>>3,t.strm.avail_out<o||(o=t.strm.avail_out-o,i=t.strstart-t.block_start,r>i+t.strm.avail_in&&(r=i+t.strm.avail_in),r>o&&(r=o),r<n&&(0===r&&e!==ca||e===Fc||r!==i+t.strm.avail_in)))break;s=e===ca&&r===i+t.strm.avail_in?1:0,gP(t,0,0,s),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,ks(t.strm),i&&(i>r&&(i=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,r-=i),r&&(EP(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(0===s);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?4:e!==Fc&&e!==ca&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(o=t.window_size-t.strstart,t.strm.avail_in>o&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,o+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),o>t.strm.avail_in&&(o=t.strm.avail_in),o&&(EP(t.strm,t.window,t.strstart,o),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.high_water<t.strstart&&(t.high_water=t.strstart),o=t.bi_valid+42>>3,o=t.pending_buf_size-o>65535?65535:t.pending_buf_size-o,n=o>t.w_size?t.w_size:o,i=t.strstart-t.block_start,(i>=n||(i||e===ca)&&e!==Fc&&0===t.strm.avail_in&&i<=o)&&(r=i>o?o:i,s=e===ca&&0===t.strm.avail_in&&r===i?1:0,gP(t,t.block_start,r,s),t.block_start+=r,ks(t.strm)),s?3:1)},AP=(t,e)=>{let n,r;for(;;){if(t.lookahead<Iu){if(rg(t),t.lookahead<Iu&&e===Fc)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=Bc(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-Iu&&(t.match_length=lz(t,n)),t.match_length>=3)if(r=Lc(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=Bc(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Bc(t,t.ins_h,t.window[t.strstart+1]);else r=Lc(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(Os(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===ca?(Os(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Os(t,!1),0===t.strm.avail_out)?1:2},ig=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<Iu){if(rg(t),t.lookahead<Iu&&e===Fc)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=Bc(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Iu&&(t.match_length=lz(t,n),t.match_length<=5&&(t.strategy===gve||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,r=Lc(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=Bc(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(Os(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(r=Lc(t,0,t.window[t.strstart-1]),r&&Os(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=Lc(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===ca?(Os(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Os(t,!1),0===t.strm.avail_out)?1:2};function Eu(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}const xv=[new Eu(0,0,0,0,cz),new Eu(4,4,8,4,AP),new Eu(4,5,16,8,AP),new Eu(4,6,32,32,AP),new Eu(4,4,16,16,ig),new Eu(8,16,32,32,ig),new Eu(8,16,128,128,ig),new Eu(8,32,128,256,ig),new Eu(32,128,258,1024,ig),new Eu(32,258,258,4096,ig)];function kve(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ew,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Uc(this.dyn_ltree),Uc(this.dyn_dtree),Uc(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Uc(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Uc(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Pv=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||42!==e.status&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&113!==e.status&&666!==e.status?1:0},dz=t=>{if(Pv(t))return wh(t,wu);t.total_in=t.total_out=0,t.data_type=yve;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=-2,uve(e),no},hz=t=>{const e=dz(t);return e===no&&(t=>{t.window_size=2*t.w_size,Uc(t.head),t.max_lazy_match=xv[t.level].max_lazy,t.good_match=xv[t.level].good_length,t.nice_match=xv[t.level].nice_length,t.max_chain_length=xv[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0})(t.state),e},fz=(t,e,n,r,i,o)=>{if(!t)return wu;let s=1;if(e===pve&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>9||n!==Ew||r<8||r>15||e<0||e>9||o<0||o>_ve||8===r&&1!==s)return wh(t,wu);8===r&&(r=9);const a=new kve;return t.state=a,a.strm=t,a.status=42,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=e,a.strategy=o,a.method=n,hz(t)};var Nv={deflateInit:(t,e)=>fz(t,e,Ew,15,8,vve),deflateInit2:fz,deflateReset:hz,deflateResetKeep:dz,deflateSetHeader:(t,e)=>Pv(t)||2!==t.state.wrap?wu:(t.state.gzhead=e,no),deflate:(t,e)=>{if(Pv(t)||e>sz||e<0)return t?wh(t,wu):wu;const n=t.state;if(!t.output||0!==t.avail_in&&!t.input||666===n.status&&e!==ca)return wh(t,0===t.avail_out?mP:wu);const r=n.last_flush;if(n.last_flush=e,0!==n.pending){if(ks(t),0===t.avail_out)return n.last_flush=-1,no}else if(0===t.avail_in&&uz(e)<=uz(r)&&e!==ca)return wh(t,mP);if(666===n.status&&0!==t.avail_in)return wh(t,mP);if(42===n.status&&0===n.wrap&&(n.status=113),42===n.status){let i=Ew+(n.w_bits-8<<4)<<8,o=-1;if(o=n.strategy>=Iw||n.level<2?0:n.level<6?1:6===n.level?2:3,i|=o<<6,0!==n.strstart&&(i|=32),i+=31-i%31,Dv(n,i),0!==n.strstart&&(Dv(n,t.adler>>>16),Dv(n,65535&t.adler)),t.adler=1,n.status=113,ks(t),0!==n.pending)return n.last_flush=-1,no}if(57===n.status)if(t.adler=0,Rn(n,31),Rn(n,139),Rn(n,8),n.gzhead)Rn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Rn(n,255&n.gzhead.time),Rn(n,n.gzhead.time>>8&255),Rn(n,n.gzhead.time>>16&255),Rn(n,n.gzhead.time>>24&255),Rn(n,9===n.level?2:n.strategy>=Iw||n.level<2?4:0),Rn(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(Rn(n,255&n.gzhead.extra.length),Rn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Ui(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(Rn(n,0),Rn(n,0),Rn(n,0),Rn(n,0),Rn(n,0),Rn(n,9===n.level?2:n.strategy>=Iw||n.level<2?4:0),Rn(n,3),n.status=113,ks(t),0!==n.pending)return n.last_flush=-1,no;if(69===n.status){if(n.gzhead.extra){let i=n.pending,o=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+o>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(t.adler=Ui(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=a,ks(t),0!==n.pending)return n.last_flush=-1,no;i=0,o-=a}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending+=o,n.gzhead.hcrc&&n.pending>i&&(t.adler=Ui(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let o,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=Ui(t.adler,n.pending_buf,n.pending-i,i)),ks(t),0!==n.pending)return n.last_flush=-1,no;i=0}o=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,Rn(n,o)}while(0!==o);n.gzhead.hcrc&&n.pending>i&&(t.adler=Ui(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let o,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=Ui(t.adler,n.pending_buf,n.pending-i,i)),ks(t),0!==n.pending)return n.last_flush=-1,no;i=0}o=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,Rn(n,o)}while(0!==o);n.gzhead.hcrc&&n.pending>i&&(t.adler=Ui(t.adler,n.pending_buf,n.pending-i,i))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(ks(t),0!==n.pending))return n.last_flush=-1,no;Rn(n,255&t.adler),Rn(n,t.adler>>8&255),t.adler=0}if(n.status=113,ks(t),0!==n.pending)return n.last_flush=-1,no}if(0!==t.avail_in||0!==n.lookahead||e!==Fc&&666!==n.status){let i=0===n.level?cz(n,e):n.strategy===Iw?((t,e)=>{let n;for(;;){if(0===t.lookahead&&(rg(t),0===t.lookahead)){if(e===Fc)return 1;break}if(t.match_length=0,n=Lc(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(Os(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===ca?(Os(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Os(t,!1),0===t.strm.avail_out)?1:2})(n,e):n.strategy===mve?((t,e)=>{let n,r,i,o;const s=t.window;for(;;){if(t.lookahead<=258){if(rg(t),t.lookahead<=258&&e===Fc)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=t.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=t.strstart+258;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);t.match_length=258-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=Lc(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Lc(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(Os(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===ca?(Os(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Os(t,!1),0===t.strm.avail_out)?1:2})(n,e):xv[n.level].func(n,e);if((3===i||4===i)&&(n.status=666),1===i||3===i)return 0===t.avail_out&&(n.last_flush=-1),no;if(2===i&&(e===dve?cve(n):e!==sz&&(gP(n,0,0,!1),e===hve&&(Uc(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),ks(t),0===t.avail_out))return n.last_flush=-1,no}return e!==ca?no:n.wrap<=0?az:(2===n.wrap?(Rn(n,255&t.adler),Rn(n,t.adler>>8&255),Rn(n,t.adler>>16&255),Rn(n,t.adler>>24&255),Rn(n,255&t.total_in),Rn(n,t.total_in>>8&255),Rn(n,t.total_in>>16&255),Rn(n,t.total_in>>24&255)):(Dv(n,t.adler>>>16),Dv(n,65535&t.adler)),ks(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?no:az)},deflateEnd:t=>{if(Pv(t))return wu;const e=t.state.status;return t.state=null,113===e?wh(t,fve):no},deflateSetDictionary:(t,e)=>{let n=e.length;if(Pv(t))return wu;const r=t.state,i=r.wrap;if(2===i||1===i&&42!==r.status||r.lookahead)return wu;if(1===i&&(t.adler=Tv(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){0===i&&(Uc(r.head),r.strstart=0,r.block_start=0,r.insert=0);let u=new Uint8Array(r.w_size);u.set(e.subarray(n-r.w_size,n),0),e=u,n=r.w_size}const o=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,rg(r);r.lookahead>=3;){let u=r.strstart,l=r.lookahead-2;do{r.ins_h=Bc(r,r.ins_h,r.window[u+3-1]),r.prev[u&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=u,u++}while(--l);r.strstart=u,r.lookahead=2,rg(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,r.wrap=i,no},deflateInfo:"pako deflate (from Nodeca project)"};const Qve=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Aw={assign:function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const r in n)Qve(n,r)&&(t[r]=n[r])}}return t},flattenChunks:t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,o=t.length;r<o;r++){let s=t[r];n.set(s,i),i+=s.length}return n}};let pz=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{pz=!1}const Rv=new Uint8Array(256);for(let t=0;t<256;t++)Rv[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Rv[254]=Rv[254]=1;var Mv={string2buf:t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)n=t.charCodeAt(i),55296==(64512&n)&&i+1<s&&(r=t.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)n=t.charCodeAt(i),55296==(64512&n)&&i+1<s&&(r=t.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},buf2string:(t,e)=>{const n=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let r,i;const o=new Array(2*n);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){o[i++]=s;continue}let a=Rv[s];if(a>4)o[i++]=65533,r+=a-1;else{for(s&=2===a?31:3===a?15:7;a>1&&r<n;)s=s<<6|63&t[r++],a--;a>1?o[i++]=65533:s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|1023&s)}}return((t,e)=>{if(e<65534&&t.subarray&&pz)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n})(o,i)},utf8border:(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let n=e-1;for(;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+Rv[t[n]]>e?n:e}},gz=function nye(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const mz=Object.prototype.toString,{Z_NO_FLUSH:rye,Z_SYNC_FLUSH:iye,Z_FULL_FLUSH:oye,Z_FINISH:sye,Z_OK:Cw,Z_STREAM_END:aye,Z_DEFAULT_COMPRESSION:uye,Z_DEFAULT_STRATEGY:lye,Z_DEFLATED:cye}=vh;function kv(t){this.options=Aw.assign({level:uye,method:cye,chunkSize:16384,windowBits:15,memLevel:8,strategy:lye},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new gz,this.strm.avail_out=0;let n=Nv.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==Cw)throw new Error(_h[n]);if(e.header&&Nv.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(r="string"==typeof e.dictionary?Mv.string2buf(e.dictionary):"[object ArrayBuffer]"===mz.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=Nv.deflateSetDictionary(this.strm,r),n!==Cw)throw new Error(_h[n]);this._dict_set=!0}}function CP(t,e){const n=new kv(e);if(n.push(t,!0),n.err)throw n.msg||_h[n.err];return n.result}kv.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=e===~~e?e:!0===e?sye:rye,n.input="string"==typeof t?Mv.string2buf(t):"[object ArrayBuffer]"===mz.call(t)?new Uint8Array(t):t,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===iye||o===oye)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=Nv.deflate(n,o),i===aye)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Nv.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Cw;if(0!==n.avail_out){if(o>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},kv.prototype.onData=function(t){this.chunks.push(t)},kv.prototype.onEnd=function(t){t===Cw&&(this.result=Aw.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var vye={Deflate:kv,deflate:CP,deflateRaw:function dye(t,e){return(e=e||{}).raw=!0,CP(t,e)},gzip:function hye(t,e){return(e=e||{}).gzip=!0,CP(t,e)},constants:vh};const Tw=16209;var bye=function(e,n){let r,i,o,s,a,u,l,c,d,g,p,b,w,E,A,R,V,O,Z,ie,B,D,S,L;const C=e.state;r=e.next_in,S=e.input,i=r+(e.avail_in-5),o=e.next_out,L=e.output,s=o-(n-e.avail_out),a=o+(e.avail_out-257),u=C.dmax,l=C.wsize,c=C.whave,d=C.wnext,g=C.window,p=C.hold,b=C.bits,w=C.lencode,E=C.distcode,A=(1<<C.lenbits)-1,R=(1<<C.distbits)-1;e:do{b<15&&(p+=S[r++]<<b,b+=8,p+=S[r++]<<b,b+=8),V=w[p&A];t:for(;;){if(O=V>>>24,p>>>=O,b-=O,O=V>>>16&255,0===O)L[o++]=65535&V;else{if(!(16&O)){if(64&O){if(32&O){C.mode=16191;break e}e.msg="invalid literal/length code",C.mode=Tw;break e}V=w[(65535&V)+(p&(1<<O)-1)];continue t}for(Z=65535&V,O&=15,O&&(b<O&&(p+=S[r++]<<b,b+=8),Z+=p&(1<<O)-1,p>>>=O,b-=O),b<15&&(p+=S[r++]<<b,b+=8,p+=S[r++]<<b,b+=8),V=E[p&R];;){if(O=V>>>24,p>>>=O,b-=O,O=V>>>16&255,16&O){if(ie=65535&V,O&=15,b<O&&(p+=S[r++]<<b,b+=8,b<O&&(p+=S[r++]<<b,b+=8)),ie+=p&(1<<O)-1,ie>u){e.msg="invalid distance too far back",C.mode=Tw;break e}if(p>>>=O,b-=O,O=o-s,ie>O){if(O=ie-O,O>c&&C.sane){e.msg="invalid distance too far back",C.mode=Tw;break e}if(B=0,D=g,0===d){if(B+=l-O,O<Z){Z-=O;do{L[o++]=g[B++]}while(--O);B=o-ie,D=L}}else if(d<O){if(B+=l+d-O,O-=d,O<Z){Z-=O;do{L[o++]=g[B++]}while(--O);if(B=0,d<Z){O=d,Z-=O;do{L[o++]=g[B++]}while(--O);B=o-ie,D=L}}}else if(B+=d-O,O<Z){Z-=O;do{L[o++]=g[B++]}while(--O);B=o-ie,D=L}for(;Z>2;)L[o++]=D[B++],L[o++]=D[B++],L[o++]=D[B++],Z-=3;Z&&(L[o++]=D[B++],Z>1&&(L[o++]=D[B++]))}else{B=o-ie;do{L[o++]=L[B++],L[o++]=L[B++],L[o++]=L[B++],Z-=3}while(Z>2);Z&&(L[o++]=L[B++],Z>1&&(L[o++]=L[B++]))}break}if(64&O){e.msg="invalid distance code",C.mode=Tw;break e}V=E[(65535&V)+(p&(1<<O)-1)]}}break}}while(r<i&&o<a);Z=b>>3,r-=Z,b-=Z<<3,p&=(1<<b)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<a?a-o+257:257-(o-a),C.hold=p,C.bits=b};const wye=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Iye=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Eye=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Aye=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Ov=(t,e,n,r,i,o,s,a)=>{const u=a.bits;let V,O,Z,ie,B,S,l=0,c=0,d=0,g=0,p=0,b=0,w=0,E=0,A=0,R=0,D=null;const L=new Uint16Array(16),C=new Uint16Array(16);let P,X,ge,x=null;for(l=0;l<=15;l++)L[l]=0;for(c=0;c<r;c++)L[e[n+c]]++;for(p=u,g=15;g>=1&&0===L[g];g--);if(p>g&&(p=g),0===g)return i[o++]=20971520,i[o++]=20971520,a.bits=1,0;for(d=1;d<g&&0===L[d];d++);for(p<d&&(p=d),E=1,l=1;l<=15;l++)if(E<<=1,E-=L[l],E<0)return-1;if(E>0&&(0===t||1!==g))return-1;for(C[1]=0,l=1;l<15;l++)C[l+1]=C[l]+L[l];for(c=0;c<r;c++)0!==e[n+c]&&(s[C[e[n+c]]++]=c);if(0===t?(D=x=s,S=20):1===t?(D=wye,x=Iye,S=257):(D=Eye,x=Aye,S=0),R=0,c=0,l=d,B=o,b=p,w=0,Z=-1,A=1<<p,ie=A-1,1===t&&A>852||2===t&&A>592)return 1;for(;;){P=l-w,s[c]+1<S?(X=0,ge=s[c]):s[c]>=S?(X=x[s[c]-S],ge=D[s[c]-S]):(X=96,ge=0),V=1<<l-w,O=1<<b,d=O;do{O-=V,i[B+(R>>w)+O]=P<<24|X<<16|ge|0}while(0!==O);for(V=1<<l-1;R&V;)V>>=1;if(0!==V?(R&=V-1,R+=V):R=0,c++,0==--L[l]){if(l===g)break;l=e[n+s[c]]}if(l>p&&(R&ie)!==Z){for(0===w&&(w=p),B+=d,b=l-w,E=1<<b;b+w<g&&(E-=L[b+w],!(E<=0));)b++,E<<=1;if(A+=1<<b,1===t&&A>852||2===t&&A>592)return 1;Z=R&ie,i[Z]=p<<24|b<<16|B-o|0}}return 0!==R&&(i[B+R]=l-w<<24|64<<16|0),a.bits=p,0};const{Z_FINISH:Ez,Z_BLOCK:Tye,Z_TREES:Sw,Z_OK:Ih,Z_STREAM_END:Sye,Z_NEED_DICT:Dye,Z_STREAM_ERROR:da,Z_DATA_ERROR:Az,Z_MEM_ERROR:Cz,Z_BUF_ERROR:xye,Z_DEFLATED:Tz}=vh,Dw=16180,xw=16190,Cl=16191,Pw=16199,Nw=16200,Rr=16209,Yz=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Mye(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Eh=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Dw||e.mode>16211?1:0},Zz=t=>{if(Eh(t))return da;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=Dw,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,Ih},Jz=t=>{if(Eh(t))return da;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Zz(t)},Xz=(t,e)=>{let n;if(Eh(t))return da;const r=t.state;return e<0?(n=0,e=-e):(n=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?da:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,Jz(t))},e$=(t,e)=>{if(!t)return da;const n=new Mye;t.state=n,n.strm=t,n.window=null,n.mode=Dw;const r=Xz(t,e);return r!==Ih&&(t.state=null),r};let PP,NP,t$=!0;const Oye=t=>{if(t$){PP=new Int32Array(512),NP=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Ov(1,t.lens,0,288,PP,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Ov(2,t.lens,0,32,NP,0,t.work,{bits:5}),t$=!1}t.lencode=PP,t.lenbits=9,t.distcode=NP,t.distbits=5},n$=(t,e,n,r)=>{let i;const o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),(r-=i)?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var Tl={inflateReset:Jz,inflateReset2:Xz,inflateResetKeep:Zz,inflateInit:t=>e$(t,15),inflateInit2:e$,inflate:(t,e)=>{let n,r,i,o,s,a,u,l,c,d,g,p,b,w,A,R,V,O,Z,ie,B,D,E=0;const S=new Uint8Array(4);let L,C;const x=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Eh(t)||!t.output||!t.input&&0!==t.avail_in)return da;n=t.state,n.mode===Cl&&(n.mode=16192),s=t.next_out,i=t.output,u=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,l=n.hold,c=n.bits,d=a,g=u,D=Ih;e:for(;;)switch(n.mode){case Dw:if(0===n.wrap){n.mode=16192;break}for(;c<16;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}if(2&n.wrap&&35615===l){0===n.wbits&&(n.wbits=15),n.check=0,S[0]=255&l,S[1]=l>>>8&255,n.check=Ui(n.check,S,2,0),l=0,c=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&l)<<8)+(l>>8))%31){t.msg="incorrect header check",n.mode=Rr;break}if((15&l)!==Tz){t.msg="unknown compression method",n.mode=Rr;break}if(l>>>=4,c-=4,B=8+(15&l),0===n.wbits&&(n.wbits=B),B>15||B>n.wbits){t.msg="invalid window size",n.mode=Rr;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=512&l?16189:Cl,l=0,c=0;break;case 16181:for(;c<16;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}if(n.flags=l,(255&n.flags)!==Tz){t.msg="unknown compression method",n.mode=Rr;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=Rr;break}n.head&&(n.head.text=l>>8&1),512&n.flags&&4&n.wrap&&(S[0]=255&l,S[1]=l>>>8&255,n.check=Ui(n.check,S,2,0)),l=0,c=0,n.mode=16182;case 16182:for(;c<32;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}n.head&&(n.head.time=l),512&n.flags&&4&n.wrap&&(S[0]=255&l,S[1]=l>>>8&255,S[2]=l>>>16&255,S[3]=l>>>24&255,n.check=Ui(n.check,S,4,0)),l=0,c=0,n.mode=16183;case 16183:for(;c<16;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}n.head&&(n.head.xflags=255&l,n.head.os=l>>8),512&n.flags&&4&n.wrap&&(S[0]=255&l,S[1]=l>>>8&255,n.check=Ui(n.check,S,2,0)),l=0,c=0,n.mode=16184;case 16184:if(1024&n.flags){for(;c<16;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}n.length=l,n.head&&(n.head.extra_len=l),512&n.flags&&4&n.wrap&&(S[0]=255&l,S[1]=l>>>8&255,n.check=Ui(n.check,S,2,0)),l=0,c=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(p=n.length,p>a&&(p=a),p&&(n.head&&(B=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+p),B)),512&n.flags&&4&n.wrap&&(n.check=Ui(n.check,r,p,o)),a-=p,o+=p,n.length-=p),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===a)break e;p=0;do{B=r[o+p++],n.head&&B&&n.length<65536&&(n.head.name+=String.fromCharCode(B))}while(B&&p<a);if(512&n.flags&&4&n.wrap&&(n.check=Ui(n.check,r,p,o)),a-=p,o+=p,B)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===a)break e;p=0;do{B=r[o+p++],n.head&&B&&n.length<65536&&(n.head.comment+=String.fromCharCode(B))}while(B&&p<a);if(512&n.flags&&4&n.wrap&&(n.check=Ui(n.check,r,p,o)),a-=p,o+=p,B)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;c<16;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}if(4&n.wrap&&l!==(65535&n.check)){t.msg="header crc mismatch",n.mode=Rr;break}l=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Cl;break;case 16189:for(;c<32;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}t.adler=n.check=Yz(l),l=0,c=0,n.mode=xw;case xw:if(0===n.havedict)return t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,n.hold=l,n.bits=c,Dye;t.adler=n.check=1,n.mode=Cl;case Cl:if(e===Tye||e===Sw)break e;case 16192:if(n.last){l>>>=7&c,c-=7&c,n.mode=16206;break}for(;c<3;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}switch(n.last=1&l,l>>>=1,c-=1,3&l){case 0:n.mode=16193;break;case 1:if(Oye(n),n.mode=Pw,e===Sw){l>>>=2,c-=2;break e}break;case 2:n.mode=16196;break;case 3:t.msg="invalid block type",n.mode=Rr}l>>>=2,c-=2;break;case 16193:for(l>>>=7&c,c-=7&c;c<32;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}if((65535&l)!=(l>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Rr;break}if(n.length=65535&l,l=0,c=0,n.mode=16194,e===Sw)break e;case 16194:n.mode=16195;case 16195:if(p=n.length,p){if(p>a&&(p=a),p>u&&(p=u),0===p)break e;i.set(r.subarray(o,o+p),s),a-=p,o+=p,u-=p,s+=p,n.length-=p;break}n.mode=Cl;break;case 16196:for(;c<14;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}if(n.nlen=257+(31&l),l>>>=5,c-=5,n.ndist=1+(31&l),l>>>=5,c-=5,n.ncode=4+(15&l),l>>>=4,c-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Rr;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;c<3;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}n.lens[x[n.have++]]=7&l,l>>>=3,c-=3}for(;n.have<19;)n.lens[x[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,L={bits:n.lenbits},D=Ov(0,n.lens,0,19,n.lencode,0,n.work,L),n.lenbits=L.bits,D){t.msg="invalid code lengths set",n.mode=Rr;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;E=n.lencode[l&(1<<n.lenbits)-1],A=E>>>24,R=E>>>16&255,V=65535&E,!(A<=c);){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}if(V<16)l>>>=A,c-=A,n.lens[n.have++]=V;else{if(16===V){for(C=A+2;c<C;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}if(l>>>=A,c-=A,0===n.have){t.msg="invalid bit length repeat",n.mode=Rr;break}B=n.lens[n.have-1],p=3+(3&l),l>>>=2,c-=2}else if(17===V){for(C=A+3;c<C;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}l>>>=A,c-=A,B=0,p=3+(7&l),l>>>=3,c-=3}else{for(C=A+7;c<C;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}l>>>=A,c-=A,B=0,p=11+(127&l),l>>>=7,c-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Rr;break}for(;p--;)n.lens[n.have++]=B}}if(n.mode===Rr)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=Rr;break}if(n.lenbits=9,L={bits:n.lenbits},D=Ov(1,n.lens,0,n.nlen,n.lencode,0,n.work,L),n.lenbits=L.bits,D){t.msg="invalid literal/lengths set",n.mode=Rr;break}if(n.distbits=6,n.distcode=n.distdyn,L={bits:n.distbits},D=Ov(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,L),n.distbits=L.bits,D){t.msg="invalid distances set",n.mode=Rr;break}if(n.mode=Pw,e===Sw)break e;case Pw:n.mode=Nw;case Nw:if(a>=6&&u>=258){t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,n.hold=l,n.bits=c,bye(t,g),s=t.next_out,i=t.output,u=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,l=n.hold,c=n.bits,n.mode===Cl&&(n.back=-1);break}for(n.back=0;E=n.lencode[l&(1<<n.lenbits)-1],A=E>>>24,R=E>>>16&255,V=65535&E,!(A<=c);){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}if(R&&!(240&R)){for(O=A,Z=R,ie=V;E=n.lencode[ie+((l&(1<<O+Z)-1)>>O)],A=E>>>24,R=E>>>16&255,V=65535&E,!(O+A<=c);){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}l>>>=O,c-=O,n.back+=O}if(l>>>=A,c-=A,n.back+=A,n.length=V,0===R){n.mode=16205;break}if(32&R){n.back=-1,n.mode=Cl;break}if(64&R){t.msg="invalid literal/length code",n.mode=Rr;break}n.extra=15&R,n.mode=16201;case 16201:if(n.extra){for(C=n.extra;c<C;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;E=n.distcode[l&(1<<n.distbits)-1],A=E>>>24,R=E>>>16&255,V=65535&E,!(A<=c);){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}if(!(240&R)){for(O=A,Z=R,ie=V;E=n.distcode[ie+((l&(1<<O+Z)-1)>>O)],A=E>>>24,R=E>>>16&255,V=65535&E,!(O+A<=c);){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}l>>>=O,c-=O,n.back+=O}if(l>>>=A,c-=A,n.back+=A,64&R){t.msg="invalid distance code",n.mode=Rr;break}n.offset=V,n.extra=15&R,n.mode=16203;case 16203:if(n.extra){for(C=n.extra;c<C;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Rr;break}n.mode=16204;case 16204:if(0===u)break e;if(p=g-u,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Rr;break}p>n.wnext?(p-=n.wnext,b=n.wsize-p):b=n.wnext-p,p>n.length&&(p=n.length),w=n.window}else w=i,b=s-n.offset,p=n.length;p>u&&(p=u),u-=p,n.length-=p;do{i[s++]=w[b++]}while(--p);0===n.length&&(n.mode=Nw);break;case 16205:if(0===u)break e;i[s++]=n.length,u--,n.mode=Nw;break;case 16206:if(n.wrap){for(;c<32;){if(0===a)break e;a--,l|=r[o++]<<c,c+=8}if(g-=u,t.total_out+=g,n.total+=g,4&n.wrap&&g&&(t.adler=n.check=n.flags?Ui(n.check,i,g,s-g):Tv(n.check,i,g,s-g)),g=u,4&n.wrap&&(n.flags?l:Yz(l))!==n.check){t.msg="incorrect data check",n.mode=Rr;break}l=0,c=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;c<32;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}if(4&n.wrap&&l!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=Rr;break}l=0,c=0}n.mode=16208;case 16208:D=Sye;break e;case Rr:D=Az;break e;case 16210:return Cz;default:return da}return t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,n.hold=l,n.bits=c,(n.wsize||g!==t.avail_out&&n.mode<Rr&&(n.mode<16206||e!==Ez))&&n$(t,t.output,t.next_out,g-t.avail_out),d-=t.avail_in,g-=t.avail_out,t.total_in+=d,t.total_out+=g,n.total+=g,4&n.wrap&&g&&(t.adler=n.check=n.flags?Ui(n.check,i,g,t.next_out-g):Tv(n.check,i,g,t.next_out-g)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Cl?128:0)+(n.mode===Pw||16194===n.mode?256:0),(0===d&&0===g||e===Ez)&&D===Ih&&(D=xye),D},inflateEnd:t=>{if(Eh(t))return da;let e=t.state;return e.window&&(e.window=null),t.state=null,Ih},inflateGetHeader:(t,e)=>{if(Eh(t))return da;const n=t.state;return 2&n.wrap?(n.head=e,e.done=!1,Ih):da},inflateSetDictionary:(t,e)=>{const n=e.length;let r,i,o;return Eh(t)||(r=t.state,0!==r.wrap&&r.mode!==xw)?da:r.mode===xw&&(i=1,i=Tv(i,e,n,0),i!==r.check)?Az:(o=n$(t,e,n,n),o?(r.mode=16210,Cz):(r.havedict=1,Ih))},inflateInfo:"pako inflate (from Nodeca project)"},Zye=function Yye(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const r$=Object.prototype.toString,{Z_NO_FLUSH:Jye,Z_FINISH:Xye,Z_OK:Lv,Z_STREAM_END:RP,Z_NEED_DICT:MP,Z_STREAM_ERROR:e0e,Z_DATA_ERROR:i$,Z_MEM_ERROR:t0e}=vh;function Fv(t){this.options=Aw.assign({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new gz,this.strm.avail_out=0;let n=Tl.inflateInit2(this.strm,e.windowBits);if(n!==Lv)throw new Error(_h[n]);if(this.header=new Zye,Tl.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Mv.string2buf(e.dictionary):"[object ArrayBuffer]"===r$.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Tl.inflateSetDictionary(this.strm,e.dictionary),n!==Lv)))throw new Error(_h[n])}function kP(t,e){const n=new Fv(e);if(n.push(t),n.err)throw n.msg||_h[n.err];return n.result}Fv.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(s=e===~~e?e:!0===e?Xye:Jye,n.input="[object ArrayBuffer]"===r$.call(t)?new Uint8Array(t):t,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=Tl.inflate(n,s),o===MP&&i&&(o=Tl.inflateSetDictionary(n,i),o===Lv?o=Tl.inflate(n,s):o===i$&&(o=MP));n.avail_in>0&&o===RP&&n.state.wrap>0&&0!==t[n.next_in];)Tl.inflateReset(n),o=Tl.inflate(n,s);switch(o){case e0e:case i$:case MP:case t0e:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(0===n.avail_out||o===RP))if("string"===this.options.to){let u=Mv.utf8border(n.output,n.next_out),l=n.next_out-u,c=Mv.buf2string(n.output,u);n.next_out=l,n.avail_out=r-l,l&&n.output.set(n.output.subarray(u,u+l),0),this.onData(c)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==Lv||0!==a){if(o===RP)return o=Tl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},Fv.prototype.onData=function(t){this.chunks.push(t)},Fv.prototype.onEnd=function(t){t===Lv&&(this.result="string"===this.options.to?this.chunks.join(""):Aw.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var u0e={Inflate:Fv,inflate:kP,inflateRaw:function n0e(t,e){return(e=e||{}).raw=!0,kP(t,e)},ungzip:kP,constants:vh};const{Inflate:f0e,inflate:p0e}=u0e;var OP=f0e,s$=p0e;const a$=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)1&e?e=3988292384^e>>>1:e>>>=1;a$[t]=e}const u$=4294967295;function c$(t,e,n){const r=t.readUint32(),i=function l$(t,e){return(function E0e(t,e,n){let r=t;for(let i=0;i<n;i++)r=a$[255&(r^e[i])]^r>>>8;return r}(u$,t,e)^u$)>>>0}(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function d$(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function h$(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function f$(t,e,n,r){let i=0;if(0===n.length)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function p$(t,e,n,r,i){let o=0;if(0===n.length){for(;o<i;o++)e[o]=t[o];for(;o<r;o++)e[o]=t[o]+(e[o-i]>>1)&255}else{for(;o<i;o++)e[o]=t[o]+(n[o]>>1)&255;for(;o<r;o++)e[o]=t[o]+(e[o-i]+n[o]>>1)&255}}function g$(t,e,n,r,i){let o=0;if(0===n.length){for(;o<i;o++)e[o]=t[o];for(;o<r;o++)e[o]=t[o]+e[o-i]&255}else{for(;o<i;o++)e[o]=t[o]+n[o]&255;for(;o<r;o++)e[o]=t[o]+A0e(e[o-i],n[o],n[o-i])&255}}function A0e(t,e,n){const r=t+e-n,i=Math.abs(r-t),o=Math.abs(r-e),s=Math.abs(r-n);return i<=o&&i<=s?t:o<=s?e:n}function C0e(t,e,n,r,i,o){switch(t){case 0:d$(e,n,i);break;case 1:h$(e,n,i,o);break;case 2:f$(e,n,r,i);break;case 3:p$(e,n,r,i,o);break;case 4:g$(e,n,r,i,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const T0e=new Uint16Array([255]),S0e=255===new Uint8Array(T0e.buffer)[0];function x0e(t){return(255&t)<<8|t>>8&255}const P0e=new Uint16Array([255]),N0e=255===new Uint8Array(P0e.buffer)[0],R0e=new Uint8Array(0);function m$(t){const{data:e,width:n,height:r,channels:i,depth:o}=t,s=Math.ceil(o/8)*i,a=Math.ceil(o/8*i*n),u=new Uint8Array(r*a);let d,g,l=R0e,c=0;for(let p=0;p<r;p++){switch(d=e.subarray(c+1,c+1+a),g=u.subarray(p*a,(p+1)*a),e[c]){case 0:d$(d,g,a);break;case 1:h$(d,g,a,s);break;case 2:f$(d,g,l,a);break;case 3:p$(d,g,l,a,s);break;case 4:g$(d,g,l,a,s);break;default:throw new Error(`Unsupported filter: ${e[c]}`)}l=g,c+=a+1}if(16===o){const p=new Uint16Array(u.buffer);if(N0e)for(let b=0;b<p.length;b++)p[b]=M0e(p[b]);return p}return u}function M0e(t){return(255&t)<<8|t>>8&255}const Vv=Uint8Array.of(137,80,78,71,13,10,26,10);function _$(t){if(!function O0e(t){if(t.length<Vv.length)return!1;for(let e=0;e<Vv.length;e++)if(t[e]!==Vv[e])return!1;return!0}(t.readBytes(Vv.length)))throw new Error("wrong PNG signature")}const y$=0,b$=new TextDecoder("latin1");function w$(t){if(function I$(t){if(!L0e.test(t))throw new Error("invalid latin1 text")}(t),0===t.length||t.length>79)throw new Error("keyword length must be between 1 and 79")}const L0e=/^[\u0000-\u00FF]*$/;function E$(t){for(t.mark();t.readByte()!==y$;);const e=t.offset;t.reset();const n=b$.decode(t.readBytes(e-t.offset-1));return t.skip(1),w$(n),n}class B0e extends yv{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new OP,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=-1,this._filterMethod=-1,this._interlaceMethod=-1,this._colorType=-1,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(_$(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(_$(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case"tEXt":!function F0e(t,e,n){const r=E$(e);t[r]=function U0e(t,e){return b$.decode(t.readBytes(e))}(e,n-r.length-1)}(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e)}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?c$(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const r=this.offset;switch("fdAT"!==n&&"IDAT"!==n&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=r+e}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?c$(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=function j0e(t){if(1!==t&&2!==t&&4!==t&&8!==t&&16!==t)throw new Error(`invalid bit depth: ${t}`);return t}(this.readUint8());const n=this.readUint8();let r;switch(this._colorType=n,n){case 0:case 3:r=1;break;case 2:r=3;break;case 4:r=2;break;case 6:r=4;break;default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),0!==this._compressionMethod)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!=0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<n;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){if(this._writingDataChunks=!0,this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case 0:case 2:if(e%2!=0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break;case 3:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=E$(this),r=this.readUint8();if(0!==r)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:s$(i)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=m$({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===e||0===r.xOffset&&0===r.yOffset&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,r){switch(e.disposeOp){case 0:break;case 1:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const s=(i*e.width+o)*this._png.channels;for(let a=0;a<this._png.channels;a++)r.data[s+a]=0}break;case 2:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const r=1<<this._png.depth,i=(o,s)=>({index:((o+n.yOffset)*this._png.width+n.xOffset+s)*this._png.channels,frameIndex:(o*n.width+s)*this._png.channels});switch(n.blendOp){case 0:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){const{index:a,frameIndex:u}=i(o,s);for(let l=0;l<this._png.channels;l++)e.data[a+l]=n.data[u+l]}break;case 1:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){const{index:a,frameIndex:u}=i(o,s);for(let l=0;l<this._png.channels;l++){const c=n.data[u+this._png.channels-1]/r,g=Math.floor(c*(l%(this._png.channels-1)==0?1:n.data[u+l])+(1-c)*e.data[a+l]);e.data[a+l]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(0!==this._filterMethod)throw new Error(`Filter method ${this._filterMethod} not supported`);if(0===this._interlaceMethod)this._png.data=m$({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(1!==this._interlaceMethod)throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._png.data=function D0e(t){const{data:e,width:n,height:r,channels:i,depth:o}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(o/8)*i,u=new Uint8Array(r*n*a);let l=0;for(let c=0;c<7;c++){const d=s[c],g=Math.ceil((n-d.x)/d.xStep),p=Math.ceil((r-d.y)/d.yStep);if(g<=0||p<=0)continue;const b=g*a,w=new Uint8Array(b);for(let E=0;E<p;E++){const A=e[l++],R=e.subarray(l,l+b);l+=b;const V=new Uint8Array(b);C0e(A,R,V,w,b,a),w.set(V);for(let O=0;O<g;O++){const Z=d.x+O*d.xStep,ie=d.y+E*d.yStep;if(!(Z>=n||ie>=r))for(let B=0;B<a;B++)u[(ie*n+Z)*a+B]=V[O*a+B]}}}if(16===o){const c=new Uint16Array(u.buffer);if(S0e)for(let d=0;d<c.length;d++)c[d]=x0e(c[d]);return c}return u}({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:0,blendOp:0,data:e}),this._inflator=new OP,this._writingDataChunks=!1}}var Gt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function VP(){Gt.console&&"function"==typeof Gt.console.log&&Gt.console.log.apply(Gt.console,arguments)}var sr={log:VP,warn:function(t){Gt.console&&("function"==typeof Gt.console.warn?Gt.console.warn.apply(Gt.console,arguments):VP.call(null,arguments))},error:function(t){Gt.console&&("function"==typeof Gt.console.error?Gt.console.error.apply(Gt.console,arguments):VP(t))}};function UP(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Ah(r.response,e,n)},r.onerror=function(){sr.error("could not download file")},r.send()}function C$(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function kw(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Ah=Gt.saveAs||("object"!==(typeof window>"u"?"undefined":qn(window))||window!==Gt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Gt.URL||Gt.webkitURL,i=document.createElement("a");i.download=e=e||t.name||"download",i.rel="noopener","string"==typeof t?(i.href=t,i.origin!==location.origin?C$(i.href)?UP(t,e,n):kw(i,i.target="_blank"):kw(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){kw(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download","string"==typeof t)if(C$(t))UP(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){kw(r)})}else navigator.msSaveOrOpenBlob((i=t,void 0===(o=n)?o={autoBom:!1}:"object"!==qn(o)&&(sr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i),e);var i,o}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return UP(t,e,n);var i="application/octet-stream"===t.type,o=/constructor/i.test(Gt.HTMLElement)||Gt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&"object"===(typeof FileReader>"u"?"undefined":qn(FileReader))){var a=new FileReader;a.onloadend=function(){var c=a.result;c=s?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},a.readAsDataURL(t)}else{var u=Gt.URL||Gt.webkitURL,l=u.createObjectURL(t);r?r.location=l:location.href=l,r=null,setTimeout(function(){u.revokeObjectURL(l)},4e4)}});function T$(t){var e;t=t||"",this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var o=n[r].process,s=n[r].re.exec(t);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),u=this.g.toString(16),l=this.b.toString(16);return 1==a.length&&(a="0"+a),1==u.length&&(u="0"+u),1==l.length&&(l="0"+l),"#"+a+u+l}}var Ow=Gt.atob.bind(Gt),S$=Gt.btoa.bind(Gt);function BP(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];n=bo(n,r,i,o,e[0],7,-680876936),o=bo(o,n,r,i,e[1],12,-389564586),i=bo(i,o,n,r,e[2],17,606105819),r=bo(r,i,o,n,e[3],22,-1044525330),n=bo(n,r,i,o,e[4],7,-176418897),o=bo(o,n,r,i,e[5],12,1200080426),i=bo(i,o,n,r,e[6],17,-1473231341),r=bo(r,i,o,n,e[7],22,-45705983),n=bo(n,r,i,o,e[8],7,1770035416),o=bo(o,n,r,i,e[9],12,-1958414417),i=bo(i,o,n,r,e[10],17,-42063),r=bo(r,i,o,n,e[11],22,-1990404162),n=bo(n,r,i,o,e[12],7,1804603682),o=bo(o,n,r,i,e[13],12,-40341101),i=bo(i,o,n,r,e[14],17,-1502002290),n=wo(n,r=bo(r,i,o,n,e[15],22,1236535329),i,o,e[1],5,-165796510),o=wo(o,n,r,i,e[6],9,-1069501632),i=wo(i,o,n,r,e[11],14,643717713),r=wo(r,i,o,n,e[0],20,-373897302),n=wo(n,r,i,o,e[5],5,-701558691),o=wo(o,n,r,i,e[10],9,38016083),i=wo(i,o,n,r,e[15],14,-660478335),r=wo(r,i,o,n,e[4],20,-405537848),n=wo(n,r,i,o,e[9],5,568446438),o=wo(o,n,r,i,e[14],9,-1019803690),i=wo(i,o,n,r,e[3],14,-187363961),r=wo(r,i,o,n,e[8],20,1163531501),n=wo(n,r,i,o,e[13],5,-1444681467),o=wo(o,n,r,i,e[2],9,-51403784),i=wo(i,o,n,r,e[7],14,1735328473),n=Io(n,r=wo(r,i,o,n,e[12],20,-1926607734),i,o,e[5],4,-378558),o=Io(o,n,r,i,e[8],11,-2022574463),i=Io(i,o,n,r,e[11],16,1839030562),r=Io(r,i,o,n,e[14],23,-35309556),n=Io(n,r,i,o,e[1],4,-1530992060),o=Io(o,n,r,i,e[4],11,1272893353),i=Io(i,o,n,r,e[7],16,-155497632),r=Io(r,i,o,n,e[10],23,-1094730640),n=Io(n,r,i,o,e[13],4,681279174),o=Io(o,n,r,i,e[0],11,-358537222),i=Io(i,o,n,r,e[3],16,-722521979),r=Io(r,i,o,n,e[6],23,76029189),n=Io(n,r,i,o,e[9],4,-640364487),o=Io(o,n,r,i,e[12],11,-421815835),i=Io(i,o,n,r,e[15],16,530742520),n=Eo(n,r=Io(r,i,o,n,e[2],23,-995338651),i,o,e[0],6,-198630844),o=Eo(o,n,r,i,e[7],10,1126891415),i=Eo(i,o,n,r,e[14],15,-1416354905),r=Eo(r,i,o,n,e[5],21,-57434055),n=Eo(n,r,i,o,e[12],6,1700485571),o=Eo(o,n,r,i,e[3],10,-1894986606),i=Eo(i,o,n,r,e[10],15,-1051523),r=Eo(r,i,o,n,e[1],21,-2054922799),n=Eo(n,r,i,o,e[8],6,1873313359),o=Eo(o,n,r,i,e[15],10,-30611744),i=Eo(i,o,n,r,e[6],15,-1560198380),r=Eo(r,i,o,n,e[13],21,1309151649),n=Eo(n,r,i,o,e[4],6,-145523070),o=Eo(o,n,r,i,e[11],10,-1120210379),i=Eo(i,o,n,r,e[2],15,718787259),r=Eo(r,i,o,n,e[9],21,-343485551),t[0]=zc(n,t[0]),t[1]=zc(r,t[1]),t[2]=zc(i,t[2]),t[3]=zc(o,t[3])}function Lw(t,e,n,r,i,o){return e=zc(zc(e,t),zc(r,o)),zc(e<<i|e>>>32-i,n)}function bo(t,e,n,r,i,o,s){return Lw(e&n|~e&r,t,e,i,o,s)}function wo(t,e,n,r,i,o,s){return Lw(e&r|n&~r,t,e,i,o,s)}function Io(t,e,n,r,i,o,s){return Lw(e^n^r,t,e,i,o,s)}function Eo(t,e,n,r,i,o,s){return Lw(n^(e|~r),t,e,i,o,s)}function D$(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)BP(r,Q0e(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(BP(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,BP(r,i),r}function Q0e(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var x$="0123456789abcdef".split("");function Y0e(t){for(var e="",n=0;n<4;n++)e+=x$[t>>8*n+4&15]+x$[t>>8*n&15];return e}function Z0e(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function jP(t){return D$(t).map(Z0e).join("")}var J0e="5d41402abc4b2a76b9719d911017c592"!=function(t){for(var e=0;e<t.length;e++)t[e]=Y0e(t[e]);return t.join("")}(D$("hello"));function zc(t,e){if(J0e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function zP(t,e){var n,r,i;if(t!==n){for(var s=(i=t,new Array(1+(256/t.length|0)+1).join(i)),a=[],u=0;u<256;u++)a[u]=u;var l=0;for(u=0;u<256;u++){var c=a[u];l=(l+c+s.charCodeAt(u))%256,a[u]=a[l],a[l]=c}n=t,r=a}else a=r;var d=e.length,g=0,p=0,b="";for(u=0;u<d;u++)p=(p+(c=a[g=(g+1)%256]))%256,a[g]=a[p],a[p]=c,s=a[(a[g]+a[p])%256],b+=String.fromCharCode(e.charCodeAt(u)^s);return b}var P$={print:4,modify:8,copy:16,"annot-forms":32};function ag(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(void 0!==P$.perm)throw new Error("Invalid permission: "+a);i+=P$[a]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var o=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=jP(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=zP(this.encryptionKey,this.padding)}function ug(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function N$(t){if("object"!==qn(t))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,"string"!=typeof n||"function"!=typeof r||"boolean"!=typeof i)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var o=Math.random().toString(35);return e[n][o]=[r,!!i],o},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],0===Object.keys(e[r]).length&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[n]){var s=e[n][o];try{s[0].apply(t,r)}catch(a){Gt.console&&sr.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Fw(t){if(!(this instanceof Fw))return new Fw(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function R$(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ch(t,e,n,r,i){if(!(this instanceof Ch))return new Ch(t,e,n,r,i);this.type="axial"===t?2:3,this.coords=e,this.colors=n,R$.call(this,r,i)}function lg(t,e,n,r,i){if(!(this instanceof lg))return new lg(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,R$.call(this,r,i)}function Et(t){var e,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,u=16,l="S",c=null;"object"===qn(t=t||{})&&(n=t.orientation,r=t.unit||r,i=t.format||i,o=t.compress||t.compressPdf||o,null!==(c=t.encryption||null)&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),a="number"==typeof t.userUnit?Math.abs(t.userUnit):1,void 0!==t.precision&&(e=t.precision),void 0!==t.floatPrecision&&(u=t.floatPrecision),l=t.defaultPathOperation||"S"),s=t.filters||(!0===o?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,g={},p={internal:{},__private__:{}};p.__private__.PubSub=N$;var b="1.3",w=p.__private__.getPdfVersion=function(){return b};p.__private__.setPdfVersion=function(_){b=_};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return E};var A=p.__private__.getPageFormat=function(_){return E[_]};i=i||"a4";var R="compat",V="advanced",O=R;function Z(){this.saveGraphicsState(),Y(new Dt(Nt,0,0,-Nt,0,qa()*Nt).toString()+" cm"),this.setFontSize(this.getFontSize()/Nt),l="n",O=V}function ie(){this.restoreGraphicsState(),l="S",O=R}var B=p.__private__.combineFontStyleAndFontWeight=function(_,N){if("bold"==_&&"normal"==N||"bold"==_&&400==N||"normal"==_&&"italic"==N||"bold"==_&&"italic"==N)throw new Error("Invalid Combination of fontweight and fontstyle");return N&&(_=400==N||"normal"===N?"italic"===_?"italic":"normal":700!=N&&"bold"!==N||"normal"!==_?(700==N?"bold":N)+""+_:"bold"),_};p.advancedAPI=function(_){var N=O===R;return N&&Z.call(this),"function"!=typeof _||(_(this),N&&ie.call(this)),this},p.compatAPI=function(_){var N=O===V;return N&&ie.call(this),"function"!=typeof _||(_(this),N&&Z.call(this)),this},p.isAdvancedAPI=function(){return O===V};var D,S=function(_){if(O!==V)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},L=p.roundToPrecision=p.__private__.roundToPrecision=function(_,N){var H=e||N;if(isNaN(_)||isNaN(H))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(H).replace(/0+$/,"")};D=p.hpf=p.__private__.hpf="number"==typeof u?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return L(_,u)}:"smart"===u?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return L(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return L(_,16)};var C=p.f2=p.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return L(_,2)},x=p.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return L(_,3)},P=p.scale=p.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return O===R?_*Nt:O===V?_:void 0},X=function(_){return P((N=_,O===R?qa()-N:O===V?N:void 0));var N};p.__private__.setPrecision=p.setPrecision=function(_){"number"==typeof parseInt(_,10)&&(e=parseInt(_,10))};var ge,Ee="00000000000000000000000000000000",Ie=p.__private__.getFileId=function(){return Ee},pe=p.__private__.setFileId=function(_){return Ee=void 0!==_&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():Ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==c&&(Ur=new ag(c.userPermissions,c.userPassword,c.ownerPassword,Ee)),Ee};p.setFileId=function(_){return pe(_),this},p.getFileId=function(){return Ie()};var Ae=p.__private__.convertDateToPDFDate=function(_){var N=_.getTimezoneOffset(),H=N<0?"+":"-",ee=Math.floor(Math.abs(N/60)),le=Math.abs(N%60),xe=[H,J(ee),"'",J(le),"'"].join("");return["D:",_.getFullYear(),J(_.getMonth()+1),J(_.getDate()),J(_.getHours()),J(_.getMinutes()),J(_.getSeconds()),xe].join("")},Ge=p.__private__.convertPDFDateToDate=function(_){var N=parseInt(_.substr(2,4),10),H=parseInt(_.substr(6,2),10)-1,ee=parseInt(_.substr(8,2),10),le=parseInt(_.substr(10,2),10),xe=parseInt(_.substr(12,2),10),Fe=parseInt(_.substr(14,2),10);return new Date(N,H,ee,le,xe,Fe,0)},ke=p.__private__.setCreationDate=function(_){var N;if(void 0===_&&(_=new Date),_ instanceof Date)N=Ae(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");N=_}return ge=N},F=p.__private__.getCreationDate=function(_){var N=ge;return"jsDate"===_&&(N=Ge(ge)),N};p.setCreationDate=function(_){return ke(_),this},p.getCreationDate=function(_){return F(_)};var q,J=p.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},te=p.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},se=0,de=[],ve=[],we=0,De=[],Te=[],Qe=!1,Ke=ve;p.__private__.setCustomOutputDestination=function(_){Qe=!0,Ke=_};var Ce=function(_){Qe||(Ke=_)};p.__private__.resetCustomOutputDestination=function(){Qe=!1,Ke=ve};var Y=p.__private__.out=function(_){return _=_.toString(),we+=_.length+1,Ke.push(_),Ke},rn=p.__private__.write=function(_){return Y(1===arguments.length?_.toString():Array.prototype.join.call(arguments," "))},Ut=p.__private__.getArrayBuffer=function(_){for(var N=_.length,H=new ArrayBuffer(N),ee=new Uint8Array(H);N--;)ee[N]=_.charCodeAt(N);return H},St=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return St};var $e=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(_){return $e=O===V?_/Nt:_,this};var ht,Je=p.__private__.getFontSize=p.getFontSize=function(){return O===R?$e:$e*Nt},Bt=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(_){return Bt=_,this},p.__private__.getR2L=p.getR2L=function(){return Bt};var wt,on=p.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))ht=_;else if(isNaN(_)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');ht=_}else ht=parseInt(_,10)};p.__private__.getZoomMode=function(){return ht};var Pt,kt=p.__private__.setPageMode=function(_){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');wt=_};p.__private__.getPageMode=function(){return wt};var Ht=p.__private__.setLayoutMode=function(_){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Pt=_};p.__private__.getLayoutMode=function(){return Pt},p.__private__.setDisplayMode=p.setDisplayMode=function(_,N,H){return on(_),Ht(N),kt(H),this};var mt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(_){if(-1===Object.keys(mt).indexOf(_))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return mt[_]},p.__private__.getDocumentProperties=function(){return mt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(_){for(var N in mt)mt.hasOwnProperty(N)&&_[N]&&(mt[N]=_[N]);return this},p.__private__.setDocumentProperty=function(_,N){if(-1===Object.keys(mt).indexOf(_))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return mt[_]=N};var dt,Nt,_t,Mn,ln,He={},At={},Wt=[],Ct={},Xt={},vt={},Ln={},Er=null,yn=0,Rt=[],fn=new N$(p),ro=t.hotfixes||[],Wr={},Ao={},ji=[],Dt=function _(N,H,ee,le,xe,Fe){if(!(this instanceof _))return new _(N,H,ee,le,xe,Fe);isNaN(N)&&(N=1),isNaN(H)&&(H=0),isNaN(ee)&&(ee=0),isNaN(le)&&(le=1),isNaN(xe)&&(xe=0),isNaN(Fe)&&(Fe=0),this._matrix=[N,H,ee,le,xe,Fe]};Object.defineProperty(Dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(Dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(Dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(Dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(Dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(Dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(Dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(Dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(Dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(Dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(Dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(Dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(Dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Dt.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Dt.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(_)},Dt.prototype.multiply=function(_){return new Dt(_.sx*this.sx+_.shy*this.shx,_.sx*this.shy+_.shy*this.sy,_.shx*this.sx+_.sy*this.shx,_.shx*this.shy+_.sy*this.sy,_.tx*this.sx+_.ty*this.shx+this.tx,_.tx*this.shy+_.ty*this.sy+this.ty)},Dt.prototype.decompose=function(){var _=this.sx,N=this.shy,H=this.shx,ee=this.sy,le=this.tx,xe=this.ty,Fe=Math.sqrt(_*_+N*N),rt=(_/=Fe)*H+(N/=Fe)*ee;H-=_*rt,ee-=N*rt;var ct=Math.sqrt(H*H+ee*ee);return rt/=ct,_*(ee/=ct)<N*(H/=ct)&&(_=-_,N=-N,rt=-rt,Fe=-Fe),{scale:new Dt(Fe,0,0,ct,0,0),translate:new Dt(1,0,0,1,le,xe),rotate:new Dt(_,N,-N,_,0,0),skew:new Dt(1,0,rt,1,0,0)}},Dt.prototype.toString=function(_){return this.join(" ")},Dt.prototype.inversed=function(){var _=this.sx,N=this.shy,H=this.shx,ee=this.sy,le=this.tx,xe=this.ty,Fe=1/(_*ee-N*H),rt=ee*Fe,ct=-N*Fe,Ot=-H*Fe,Lt=_*Fe;return new Dt(rt,ct,Ot,Lt,-rt*le-Ot*xe,-ct*le-Lt*xe)},Dt.prototype.applyToPoint=function(_){return new Fl(_.x*this.sx+_.y*this.shx+this.tx,_.x*this.shy+_.y*this.sy+this.ty)},Dt.prototype.applyToRectangle=function(_){var N=this.applyToPoint(_),H=this.applyToPoint(new Fl(_.x+_.w,_.y+_.h));return new Yc(N.x,N.y,H.x-N.x,H.y-N.y)},Dt.prototype.clone=function(){return new Dt(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},p.Matrix=Dt;var ha=p.matrixMult=function(_,N){return N.multiply(_)},Ar=new Dt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ar;var qo=function(_,N){if(!Xt[_]){var H=(N instanceof Ch?"Sh":"P")+(Object.keys(Ct).length+1).toString(10);N.id=H,Xt[_]=H,Ct[H]=N,fn.publish("addPattern",N)}};p.ShadingPattern=Ch,p.TilingPattern=lg,p.addShadingPattern=function(_,N){return S("addShadingPattern()"),qo(_,N),this},p.beginTilingPattern=function(_){S("beginTilingPattern()"),Zc(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},p.endTilingPattern=function(_,N){S("endTilingPattern()"),N.stream=Te[q].join("\n"),qo(_,N),fn.publish("endTilingPattern",N),ji.pop().restore()};var zi,Zn=p.__private__.newObject=function(){var _=yi();return Ti(_,!0),_},yi=p.__private__.newObjectDeferred=function(){return se++,de[se]=function(){return we},se},Ti=function(_,N){return N="boolean"==typeof N&&N,de[_]=we,N&&Y(_+" 0 obj"),_},fs=p.__private__.newAdditionalObject=function(){var _={objId:yi(),content:""};return De.push(_),_},Su=yi(),Ls=yi(),Go=p.__private__.decodeColorString=function(_){var N=_.split(" ");if(2!==N.length||"g"!==N[1]&&"G"!==N[1])5!==N.length||"k"!==N[4]&&"K"!==N[4]||(N=[(1-N[0])*(1-N[3]),(1-N[1])*(1-N[3]),(1-N[2])*(1-N[3]),"r"]);else{var H=parseFloat(N[0]);N=[H,H,H,"r"]}for(var ee="#",le=0;le<3;le++)ee+=("0"+Math.floor(255*parseFloat(N[le])).toString(16)).slice(-2);return ee},ps=p.__private__.encodeColorString=function(_){var N;"string"==typeof _&&(_={ch1:_});var H=_.ch1,ee=_.ch2,le=_.ch3,xe=_.ch4,Fe="draw"===_.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof H&&"#"!==H.charAt(0)){var rt=new T$(H);if(rt.ok)H=rt.toHex();else if(!/^\d*\.?\d*$/.test(H))throw new Error('Invalid color "'+H+'" passed to jsPDF.encodeColorString.')}if("string"==typeof H&&/^#[0-9A-Fa-f]{3}$/.test(H)&&(H="#"+H[1]+H[1]+H[2]+H[2]+H[3]+H[3]),"string"==typeof H&&/^#[0-9A-Fa-f]{6}$/.test(H)){var ct=parseInt(H.substr(1),16);H=ct>>16&255,ee=ct>>8&255,le=255&ct}if(void 0===ee||void 0===xe&&H===ee&&ee===le)N="string"==typeof H?H+" "+Fe[0]:2===_.precision?C(H/255)+" "+Fe[0]:x(H/255)+" "+Fe[0];else if(void 0===xe||"object"===qn(xe)){if(xe&&!isNaN(xe.a)&&0===xe.a)return["1.","1.","1.",Fe[1]].join(" ");N="string"==typeof H?[H,ee,le,Fe[1]].join(" "):2===_.precision?[C(H/255),C(ee/255),C(le/255),Fe[1]].join(" "):[x(H/255),x(ee/255),x(le/255),Fe[1]].join(" ")}else N="string"==typeof H?[H,ee,le,xe,Fe[2]].join(" "):2===_.precision?[C(H),C(ee),C(le),C(xe),Fe[2]].join(" "):[x(H),x(ee),x(le),x(xe),Fe[2]].join(" ");return N},Ho=p.__private__.getFilters=function(){return s},io=p.__private__.putStream=function(_){var N=(_=_||{}).data||"",H=_.filters||Ho(),ee=_.alreadyAppliedFilters||[],le=_.addLength1||!1,xe=N.length,Fe=_.objectId,rt=function(Kr){return Kr};if(null!==c&&void 0===Fe)throw new Error("ObjectId must be passed to putStream for file encryption");null!==c&&(rt=Ur.encryptor(Fe,0));var ct={};!0===H&&(H=["FlateEncode"]);var Ot=_.additionalKeyValues||[],Lt=(ct=void 0!==Et.API.processDataByFilters?Et.API.processDataByFilters(N,H):{data:N,reverseChain:[]}).reverseChain+(Array.isArray(ee)?ee.join(" "):ee.toString());if(0!==ct.data.length&&(Ot.push({key:"Length",value:ct.data.length}),!0===le&&Ot.push({key:"Length1",value:xe})),0!=Lt.length)if(Lt.split("/").length-1==1)Ot.push({key:"Filter",value:Lt});else{Ot.push({key:"Filter",value:"["+Lt+"]"});for(var Cn=0;Cn<Ot.length;Cn+=1)if("DecodeParms"===Ot[Cn].key){for(var mr=[],Xn=0;Xn<ct.reverseChain.split("/").length-1;Xn+=1)mr.push("null");mr.push(Ot[Cn].value),Ot[Cn].value="["+mr.join(" ")+"]"}}Y("<<");for(var Hn=0;Hn<Ot.length;Hn++)Y("/"+Ot[Hn].key+" "+Ot[Hn].value);Y(">>"),0!==ct.data.length&&(Y("stream"),Y(rt(ct.data)),Y("endstream"))},Co=p.__private__.putPage=function(_){var N=_.number,H=_.data,ee=_.objId,le=_.contentsObjId;Ti(ee,!0),Y("<</Type /Page"),Y("/Parent "+_.rootDictionaryObjId+" 0 R"),Y("/Resources "+_.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(D(_.mediaBox.bottomLeftX))+" "+parseFloat(D(_.mediaBox.bottomLeftY))+" "+D(_.mediaBox.topRightX)+" "+D(_.mediaBox.topRightY)+"]"),null!==_.cropBox&&Y("/CropBox ["+D(_.cropBox.bottomLeftX)+" "+D(_.cropBox.bottomLeftY)+" "+D(_.cropBox.topRightX)+" "+D(_.cropBox.topRightY)+"]"),null!==_.bleedBox&&Y("/BleedBox ["+D(_.bleedBox.bottomLeftX)+" "+D(_.bleedBox.bottomLeftY)+" "+D(_.bleedBox.topRightX)+" "+D(_.bleedBox.topRightY)+"]"),null!==_.trimBox&&Y("/TrimBox ["+D(_.trimBox.bottomLeftX)+" "+D(_.trimBox.bottomLeftY)+" "+D(_.trimBox.topRightX)+" "+D(_.trimBox.topRightY)+"]"),null!==_.artBox&&Y("/ArtBox ["+D(_.artBox.bottomLeftX)+" "+D(_.artBox.bottomLeftY)+" "+D(_.artBox.topRightX)+" "+D(_.artBox.topRightY)+"]"),"number"==typeof _.userUnit&&1!==_.userUnit&&Y("/UserUnit "+_.userUnit),fn.publish("putPage",{objId:ee,pageContext:Rt[N],pageNumber:N,page:H}),Y("/Contents "+le+" 0 R"),Y(">>"),Y("endobj");var xe=H.join("\n");return O===V&&(xe+="\nQ"),Ti(le,!0),io({data:xe,filters:Ho(),objectId:le}),Y("endobj"),ee},Fs=p.__private__.putPages=function(){var _,N,H=[];for(_=1;_<=yn;_++)Rt[_].objId=yi(),Rt[_].contentsObjId=yi();for(_=1;_<=yn;_++)H.push(Co({number:_,data:Te[_],objId:Rt[_].objId,contentsObjId:Rt[_].contentsObjId,mediaBox:Rt[_].mediaBox,cropBox:Rt[_].cropBox,bleedBox:Rt[_].bleedBox,trimBox:Rt[_].trimBox,artBox:Rt[_].artBox,userUnit:Rt[_].userUnit,rootDictionaryObjId:Su,resourceDictionaryObjId:Ls}));Ti(Su,!0),Y("<</Type /Pages");var ee="/Kids [";for(N=0;N<yn;N++)ee+=H[N]+" 0 R ";Y(ee+"]"),Y("/Count "+yn),Y(">>"),Y("endobj"),fn.publish("postPutPages")},Du=function(_){fn.publish("putFont",{font:_,out:Y,newObject:Zn,putStream:io}),!0!==_.isAlreadyPutted&&(_.objectNumber=Zn(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+ug(_.postScriptName)),Y("/Subtype /Type1"),"string"==typeof _.encoding&&Y("/Encoding /"+_.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},xu=function(_){_.objectNumber=Zn();var N=[];N.push({key:"Type",value:"/XObject"}),N.push({key:"Subtype",value:"/Form"}),N.push({key:"BBox",value:"["+[D(_.x),D(_.y),D(_.x+_.width),D(_.y+_.height)].join(" ")+"]"}),N.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var H=_.pages[1].join("\n");io({data:H,additionalKeyValues:N,objectId:_.objectNumber}),Y("endobj")},Pu=function(_,N){N||(N=21);var H=Zn(),ee=function(Fe,rt){var ct,Ot=[],Lt=1/(rt-1);for(ct=0;ct<1;ct+=Lt)Ot.push(ct);Ot.push(1),0!=Fe[0].offset&&Fe.unshift({offset:0,color:Fe[0].color}),1!=Fe[Fe.length-1].offset&&Fe.push({offset:1,color:Fe[Fe.length-1].color});for(var Xn="",Hn=0,Kr=0;Kr<Ot.length;Kr++){for(ct=Ot[Kr];ct>Fe[Hn+1].offset;)Hn++;var Br=Fe[Hn].offset,bi=(ct-Br)/(Fe[Hn+1].offset-Br),oo=Fe[Hn].color,er=Fe[Hn+1].color;Xn+=te(Math.round((1-bi)*oo[0]+bi*er[0]).toString(16))+te(Math.round((1-bi)*oo[1]+bi*er[1]).toString(16))+te(Math.round((1-bi)*oo[2]+bi*er[2]).toString(16))}return Xn.trim()}(_.colors,N),le=[];le.push({key:"FunctionType",value:"0"}),le.push({key:"Domain",value:"[0.0 1.0]"}),le.push({key:"Size",value:"["+N+"]"}),le.push({key:"BitsPerSample",value:"8"}),le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),io({data:ee,additionalKeyValues:le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:H}),Y("endobj"),_.objectNumber=Zn(),Y("<< /ShadingType "+_.type),Y("/ColorSpace /DeviceRGB");var xe="/Coords ["+D(parseFloat(_.coords[0]))+" "+D(parseFloat(_.coords[1]))+" ";xe+=2===_.type?D(parseFloat(_.coords[2]))+" "+D(parseFloat(_.coords[3])):D(parseFloat(_.coords[2]))+" "+D(parseFloat(_.coords[3]))+" "+D(parseFloat(_.coords[4]))+" "+D(parseFloat(_.coords[5])),Y(xe+="]"),_.matrix&&Y("/Matrix ["+_.matrix.toString()+"]"),Y("/Function "+H+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},Sl=function(_,N){var H=yi(),ee=Zn();N.push({resourcesOid:H,objectOid:ee}),_.objectNumber=ee;var le=[];le.push({key:"Type",value:"/Pattern"}),le.push({key:"PatternType",value:"1"}),le.push({key:"PaintType",value:"1"}),le.push({key:"TilingType",value:"1"}),le.push({key:"BBox",value:"["+_.boundingBox.map(D).join(" ")+"]"}),le.push({key:"XStep",value:D(_.xStep)}),le.push({key:"YStep",value:D(_.yStep)}),le.push({key:"Resources",value:H+" 0 R"}),_.matrix&&le.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),io({data:_.stream,additionalKeyValues:le,objectId:_.objectNumber}),Y("endobj")},mg=function(_){for(var N in _.objectNumber=Zn(),Y("<<"),_)switch(N){case"opacity":Y("/ca "+C(_[N]));break;case"stroke-opacity":Y("/CA "+C(_[N]))}Y(">>"),Y("endobj")},Dh=function(_){Ti(_.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var N in Y("/Font <<"),He)He.hasOwnProperty(N)&&(!1===d||!0===d&&g.hasOwnProperty(N))&&Y("/"+N+" "+He[N].objectNumber+" 0 R");Y(">>")}(),function(){if(Object.keys(Ct).length>0){for(var N in Y("/Shading <<"),Ct)Ct.hasOwnProperty(N)&&Ct[N]instanceof Ch&&Ct[N].objectNumber>=0&&Y("/"+N+" "+Ct[N].objectNumber+" 0 R");fn.publish("putShadingPatternDict"),Y(">>")}}(),function(N){if(Object.keys(Ct).length>0){for(var H in Y("/Pattern <<"),Ct)Ct.hasOwnProperty(H)&&Ct[H]instanceof p.TilingPattern&&Ct[H].objectNumber>=0&&Ct[H].objectNumber<N&&Y("/"+H+" "+Ct[H].objectNumber+" 0 R");fn.publish("putTilingPatternDict"),Y(">>")}}(_.objectOid),function(){if(Object.keys(vt).length>0){var N;for(N in Y("/ExtGState <<"),vt)vt.hasOwnProperty(N)&&vt[N].objectNumber>=0&&Y("/"+N+" "+vt[N].objectNumber+" 0 R");fn.publish("putGStateDict"),Y(">>")}}(),function(){for(var N in Y("/XObject <<"),Wr)Wr.hasOwnProperty(N)&&Wr[N].objectNumber>=0&&Y("/"+N+" "+Wr[N].objectNumber+" 0 R");fn.publish("putXobjectDict"),Y(">>")}(),Y(">>"),Y("endobj")},Dl=function(_){At[_.fontName]=At[_.fontName]||{},At[_.fontName][_.fontStyle]=_.id},xh=function(_,N,H,ee,le){var xe={id:"F"+(Object.keys(He).length+1).toString(10),postScriptName:_,fontName:N,fontStyle:H,encoding:ee,isStandardFont:le||!1,metadata:{}};return fn.publish("addFont",{font:xe,instance:this}),He[xe.id]=xe,Dl(xe),xe.id},To=p.__private__.pdfEscape=p.pdfEscape=function(_,N){return function(H,ee){var le,xe,Fe,rt,ct,Ot,Lt,Cn,mr;if(Fe=(ee=ee||{}).sourceEncoding||"Unicode",ct=ee.outputEncoding,(ee.autoencode||ct)&&He[dt].metadata&&He[dt].metadata[Fe]&&He[dt].metadata[Fe].encoding&&(rt=He[dt].metadata[Fe].encoding,!ct&&He[dt].encoding&&(ct=He[dt].encoding),!ct&&rt.codePages&&(ct=rt.codePages[0]),"string"==typeof ct&&(ct=rt[ct]),ct)){for(Lt=!1,Ot=[],le=0,xe=H.length;le<xe;le++)(Cn=ct[H.charCodeAt(le)])?Ot.push(String.fromCharCode(Cn)):Ot.push(H[le]),Ot[le].charCodeAt(0)>>8&&(Lt=!0);H=Ot.join("")}for(le=H.length;void 0===Lt&&0!==le;)H.charCodeAt(le-1)>>8&&(Lt=!0),le--;if(!Lt)return H;for(Ot=ee.noBOM?[]:[254,255],le=0,xe=H.length;le<xe;le++){if((mr=(Cn=H.charCodeAt(le))>>8)>>8)throw new Error("Character at position "+le+" of string '"+H+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ot.push(mr),Ot.push(Cn-(mr<<8))}return String.fromCharCode.apply(void 0,Ot)}(_,N).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ua=p.__private__.beginPage=function(_){Te[++yn]=[],Rt[yn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},_g(yn),Ce(Te[q])},fa=function(_,N){var H,ee,le;switch(n=N||n,"string"==typeof _&&(H=A(_.toLowerCase()),Array.isArray(H)&&(ee=H[0],le=H[1])),Array.isArray(_)&&(ee=_[0]*Nt,le=_[1]*Nt),isNaN(ee)&&(ee=i[0],le=i[1]),(ee>14400||le>14400)&&(sr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ee=Math.min(14400,ee),le=Math.min(14400,le)),i=[ee,le],n.substr(0,1)){case"l":le>ee&&(i=[le,ee]);break;case"p":ee>le&&(i=[le,ee])}Ua(i),yg(Qc),Y(pa),0!==Ol&&Y(Ol+" J"),0!==Jn&&Y(Jn+" j"),fn.publish("addPage",{pageNumber:yn})},xl=function(_){_>0&&_<=yn&&(Te.splice(_,1),Rt.splice(_,1),yn--,q>yn&&(q=yn),this.setPage(q))},_g=function(_){_>0&&_<=yn&&(q=_)},Ph=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Te.length-1},Nh=function(_,N,H){var ee,le=void 0;return H=H||{},N=void 0!==N?N:He[dt].fontStyle,ee=(_=void 0!==_?_:He[dt].fontName).toLowerCase(),void 0!==At[ee]&&void 0!==At[ee][N]?le=At[ee][N]:void 0!==At[_]&&void 0!==At[_][N]?le=At[_][N]:!1===H.disableWarning&&sr.warn("Unable to look up font label for font '"+_+"', '"+N+"'. Refer to getFontList() for available fonts."),le||H.noFallback||null==(le=At.times[N])&&(le=At.times.normal),le},Pl=p.__private__.putInfo=function(){var _=Zn(),N=function(ee){return ee};for(var H in null!==c&&(N=Ur.encryptor(_,0)),Y("<<"),Y("/Producer ("+To(N("jsPDF "+Et.version))+")"),mt)mt.hasOwnProperty(H)&&mt[H]&&Y("/"+H.substr(0,1).toUpperCase()+H.substr(1)+" ("+To(N(mt[H]))+")");Y("/CreationDate ("+To(N(ge))+")"),Y(">>"),Y("endobj")},Rh=p.__private__.putCatalog=function(_){var N=(_=_||{}).rootDictionaryObjId||Su;switch(Zn(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+N+" 0 R"),ht||(ht="fullwidth"),ht){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var H=""+ht;"%"===H.substr(H.length-1)&&(ht=parseInt(ht)/100),"number"==typeof ht&&Y("/OpenAction [3 0 R /XYZ null null "+C(ht)+"]")}switch(Pt||(Pt="continuous"),Pt){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}wt&&Y("/PageMode /"+wt),fn.publish("putCatalog"),Y(">>"),Y("endobj")},Mr=p.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(se+1)),Y("/Root "+se+" 0 R"),Y("/Info "+(se-1)+" 0 R"),null!==c&&Y("/Encrypt "+Ur.oid+" 0 R"),Y("/ID [ <"+Ee+"> <"+Ee+"> ]"),Y(">>")},Mh=p.__private__.putHeader=function(){Y("%PDF-"+b),Y("%\xba\xdf\xac\xe0")},kh=p.__private__.putXRef=function(){var _="0000000000";Y("xref"),Y("0 "+(se+1)),Y("0000000000 65535 f ");for(var N=1;N<=se;N++)Y("function"==typeof de[N]?(_+de[N]()).slice(-10)+" 00000 n ":void 0!==de[N]?(_+de[N]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},Ba=p.__private__.buildDocument=function(){var _;se=0,we=0,ve=[],de=[],De=[],Su=yi(),Ls=yi(),Ce(ve),fn.publish("buildDocument"),Mh(),Fs(),function(){fn.publish("putAdditionalObjects");for(var H=0;H<De.length;H++){var ee=De[H];Ti(ee.objId,!0),Y(ee.content),Y("endobj")}fn.publish("postPutAdditionalObjects")}(),_=[],function(){for(var H in He)He.hasOwnProperty(H)&&(!1===d||!0===d&&g.hasOwnProperty(H))&&Du(He[H])}(),function(){var H;for(H in vt)vt.hasOwnProperty(H)&&mg(vt[H])}(),function(){for(var H in Wr)Wr.hasOwnProperty(H)&&xu(Wr[H])}(),function(H){var ee;for(ee in Ct)Ct.hasOwnProperty(ee)&&(Ct[ee]instanceof Ch?Pu(Ct[ee]):Ct[ee]instanceof lg&&Sl(Ct[ee],H))}(_),fn.publish("putResources"),_.forEach(Dh),Dh({resourcesOid:Ls,objectOid:Number.MAX_SAFE_INTEGER}),fn.publish("postPutResources"),null!==c&&(Ur.oid=Zn(),Y("<<"),Y("/Filter /Standard"),Y("/V "+Ur.v),Y("/R "+Ur.r),Y("/U <"+Ur.toHexString(Ur.U)+">"),Y("/O <"+Ur.toHexString(Ur.O)+">"),Y("/P "+Ur.P),Y(">>"),Y("endobj")),Pl(),Rh();var N=we;return kh(),Mr(),Y("startxref"),Y(""+N),Y("%%EOF"),Ce(Te[q]),ve.join("\n")},Nl=p.__private__.getBlob=function(_){return new Blob([Ut(_)],{type:"application/pdf"})},gs=p.output=p.__private__.output=((zi=function(_,N){switch("string"==typeof(N=N||{})?N={filename:N}:N.filename=N.filename||"generated.pdf",_){case void 0:return Ba();case"save":p.save(N.filename);break;case"arraybuffer":return Ut(Ba());case"blob":return Nl(Ba());case"bloburi":case"bloburl":if(void 0!==Gt.URL&&"function"==typeof Gt.URL.createObjectURL)return Gt.URL&&Gt.URL.createObjectURL(Nl(Ba()))||void 0;sr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var H="",ee=Ba();try{H=S$(ee)}catch{H=S$(unescape(encodeURIComponent(ee)))}return"data:application/pdf;filename="+N.filename+";base64,"+H;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Gt)){var le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",xe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';N.pdfObjectUrl&&(le=N.pdfObjectUrl,xe="");var Fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+le+'"'+xe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(N)+");<\/script></body></html>",rt=Gt.open();return null!==rt&&rt.document.write(Fe),rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Gt)){var ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(N.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+N.filename+'" width="500px" height="400px" /></body></html>',Ot=Gt.open();if(null!==Ot){Ot.document.write(ct);var Lt=this;Ot.document.documentElement.querySelector("#pdfViewer").onload=function(){Ot.document.title=N.filename,Ot.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Lt.output("bloburl"))}}return Ot}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Gt))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Cn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",N)+'"></iframe></body></html>',mr=Gt.open();if(null!==mr&&(mr.document.write(Cn),mr.document.title=N.filename),mr||typeof safari>"u")return mr;break;case"datauri":case"dataurl":return Gt.document.location.href=this.output("datauristring",N);default:return null}}).foo=function(){try{return zi.apply(this,arguments)}catch(H){var _=H.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var N="Error in function "+_.split("\n")[0].split("<")[0]+": "+H.message;if(!Gt.console)throw new Error(N);Gt.console.error(N,H),Gt.alert&&alert(N)}},zi.foo.bar=zi,zi.foo),Nu=function(_){return!0===Array.isArray(ro)&&ro.indexOf(_)>-1};switch(r){case"pt":Nt=1;break;case"mm":Nt=72/25.4;break;case"cm":Nt=72/2.54;break;case"in":Nt=72;break;case"px":Nt=1==Nu("px_scaling")?.75:96/72;break;case"pc":case"em":Nt=12;break;case"ex":Nt=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);Nt=r}var Ur=null;ke(),pe();var Vs=p.__private__.getPageInfo=p.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Rt[_].objId,pageNumber:_,pageContext:Rt[_]}},Us=p.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var N in Rt)if(Rt[N].objId===_)break;return Vs(N)},Wc=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Rt[q].objId,pageNumber:q,pageContext:Rt[q]}};p.addPage=function(){return fa.apply(this,arguments),this},p.setPage=function(){return _g.apply(this,arguments),Ce.call(this,Te[q]),this},p.insertPage=function(_){return this.addPage(),this.movePage(q,_),this},p.movePage=function(_,N){var H,ee;if(_>N){H=Te[_],ee=Rt[_];for(var le=_;le>N;le--)Te[le]=Te[le-1],Rt[le]=Rt[le-1];Te[N]=H,Rt[N]=ee,this.setPage(N)}else if(_<N){H=Te[_],ee=Rt[_];for(var xe=_;xe<N;xe++)Te[xe]=Te[xe+1],Rt[xe]=Rt[xe+1];Te[N]=H,Rt[N]=ee,this.setPage(N)}return this},p.deletePage=function(){return xl.apply(this,arguments),this},p.__private__.text=p.text=function(_,N,H,ee,le){var xe,Fe,rt,ct,Ot,Lt,Cn,mr,Xn,Hn=(ee=ee||{}).scope||this;if("number"==typeof _&&"number"==typeof N&&("string"==typeof H||Array.isArray(H))){var Kr=H;H=N,N=_,_=Kr}if(arguments[3]instanceof Dt==0?(rt=arguments[4],ct=arguments[5],"object"===qn(Cn=arguments[3])&&null!==Cn||("string"==typeof rt&&(ct=rt,rt=null),"string"==typeof Cn&&(ct=Cn,Cn=null),"number"==typeof Cn&&(rt=Cn,Cn=null),ee={flags:Cn,angle:rt,align:ct})):(S("The transform parameter of text() with a Matrix value"),Xn=le),isNaN(N)||isNaN(H)||null==_)throw new Error("Invalid arguments passed to jsPDF.text");if(0===_.length)return Hn;var Br,bi="",oo="number"==typeof ee.lineHeightFactor?ee.lineHeightFactor:So,er=Hn.internal.scaleFactor;function Vh(Vn){return Vn=Vn.split("\t").join(Array(ee.TabLen||9).join(" ")),To(Vn,Cn)}function Bl(Vn){for(var ar,ci=Vn.concat(),Si=[],$l=ci.length;$l--;)"string"==typeof(ar=ci.shift())?Si.push(ar):Array.isArray(Vn)&&(1===ar.length||void 0===ar[1]&&void 0===ar[2])?Si.push(ar[0]):Si.push([ar[0],ar[1],ar[2]]);return Si}function vs(Vn,ar){var ci;if("string"==typeof Vn)ci=ar(Vn)[0];else if(Array.isArray(Vn)){for(var Si,$l,Jv=Vn.concat(),Ig=[],Qw=Jv.length;Qw--;)"string"==typeof(Si=Jv.shift())?Ig.push(ar(Si)[0]):Array.isArray(Si)&&"string"==typeof Si[0]&&($l=ar(Si[0],Si[1],Si[2]),Ig.push([$l[0],$l[1],$l[2]]));ci=Ig}return ci}var f=!1,y=!0;if("string"==typeof _)f=!0;else if(Array.isArray(_)){var T=_.concat();Fe=[];for(var j,ue=T.length;ue--;)("string"!=typeof(j=T.shift())||Array.isArray(j)&&"string"!=typeof j[0])&&(y=!1);f=y}if(!1===f)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');"string"==typeof _&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var ye=$e/Hn.internal.scaleFactor,We=ye*(oo-1);switch(ee.baseline){case"bottom":H-=We;break;case"top":H+=ye-We;break;case"hanging":H+=ye-2*We;break;case"middle":H+=ye/2-We}if((Lt=ee.maxWidth||0)>0&&("string"==typeof _?_=Hn.splitTextToSize(_,Lt):"[object Array]"===Object.prototype.toString.call(_)&&(_=_.reduce(function(Vn,ar){return Vn.concat(Hn.splitTextToSize(ar,Lt))},[]))),fn.publish("preProcessText",xe={text:_,x:N,y:H,options:ee,mutex:{pdfEscape:To,activeFontKey:dt,fonts:He,activeFontSize:$e}}),_=xe.text,rt=(ee=xe.options).angle,Xn instanceof Dt==0&&rt&&"number"==typeof rt){rt*=Math.PI/180,0===ee.rotationDirection&&(rt=-rt),O===V&&(rt=-rt);var Sn=Math.cos(rt),jr=Math.sin(rt);Xn=new Dt(Sn,jr,-jr,Sn,0,0)}else rt&&rt instanceof Dt&&(Xn=rt);O!==V||Xn||(Xn=Ar),void 0!==(Ot=ee.charSpace||ma)&&(bi+=D(P(Ot))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(mr=ee.horizontalScale)&&(bi+=D(100*mr)+" Tz\n");var xt=-1,_r=void 0!==ee.renderingMode?ee.renderingMode:ee.stroke,zr=Hn.internal.getCurrentPageInfo().pageContext;switch(_r){case 0:case!1:case"fill":xt=0;break;case 1:case!0:case"stroke":xt=1;break;case 2:case"fillThenStroke":xt=2;break;case 3:case"invisible":xt=3;break;case 4:case"fillAndAddForClipping":xt=4;break;case 5:case"strokeAndAddPathForClipping":xt=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":xt=6;break;case 7:case"addToPathForClipping":xt=7}-1!==xt?bi+=xt+" Tr\n":-1!==(void 0!==zr.usedRenderingMode?zr.usedRenderingMode:-1)&&(bi+="0 Tr\n"),-1!==xt&&(zr.usedRenderingMode=xt),ct=ee.align||"left";var kr,ya=$e*oo,jl=Hn.internal.pageSize.getWidth(),Hv=He[dt];Ot=ee.charSpace||ma,Lt=ee.maxWidth||0,Cn=Object.assign({autoencode:!0,noBOM:!0},ee.flags);var Jc=[],Uh=function(Vn){return Hn.getStringUnitWidth(Vn,{font:Hv,charSpace:Ot,fontSize:$e,doKerning:!1})*$e/er};if("[object Array]"===Object.prototype.toString.call(_)){var js;Fe=Bl(_),"left"!==ct&&(kr=Fe.map(Uh));var zs,Xc=0;if("right"===ct){N-=kr[0],_=[],ue=Fe.length;for(var zl=0;zl<ue;zl++)0===zl?(zs=za(N),js=$i(H)):(zs=P(Xc-kr[zl]),js=-ya),_.push([Fe[zl],zs,js]),Xc=kr[zl]}else if("center"===ct){N-=kr[0]/2,_=[],ue=Fe.length;for(var ed=0;ed<ue;ed++)0===ed?(zs=za(N),js=$i(H)):(zs=P((Xc-kr[ed])/2),js=-ya),_.push([Fe[ed],zs,js]),Xc=kr[ed]}else if("left"===ct){_=[],ue=Fe.length;for(var Wv=0;Wv<ue;Wv++)_.push(Fe[Wv])}else if("justify"===ct&&"Identity-H"===Hv.encoding){_=[],ue=Fe.length,Lt=0!==Lt?Lt:jl;for(var wg=0,li=0;li<ue;li++)if(js=0===li?$i(H):-ya,zs=0===li?za(N):wg,li<ue-1){var Kw=P((Lt-kr[li])/(Fe[li].split(" ").length-1)),Fu=Fe[li].split(" ");_.push([Fu[0]+" ",zs,js]),wg=0;for(var Vu=1;Vu<Fu.length;Vu++){var Kv=(Uh(Fu[Vu-1]+" "+Fu[Vu])-Uh(Fu[Vu]))*er+Kw;_.push(Vu==Fu.length-1?[Fu[Vu],Kv,0]:[Fu[Vu]+" ",Kv,0]),wg-=Kv}}else _.push([Fe[li],zs,js]);_.push(["",wg,0])}else{if("justify"!==ct)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],ue=Fe.length,Lt=0!==Lt?Lt:jl,li=0;li<ue;li++){js=0===li?$i(H):-ya,zs=0===li?za(N):0;var Qv=Fe[li].split(" ").length-1;Jc.push(li<ue-1?D(P(Qv>0?(Lt-kr[li])/Qv:0)):0),_.push([Fe[li],zs,js])}}}!0===("boolean"==typeof ee.R2L?ee.R2L:Bt)&&(_=vs(_,function(Vn,ar,ci){return[Vn.split("").reverse().join(""),ar,ci]})),fn.publish("postProcessText",xe={text:_,x:N,y:H,options:ee,mutex:{pdfEscape:To,activeFontKey:dt,fonts:He,activeFontSize:$e}}),_=xe.text,Br=xe.mutex.isHex||!1;var Zv=He[dt].encoding;"WinAnsiEncoding"!==Zv&&"StandardEncoding"!==Zv||(_=vs(_,function(Vn,ar,ci){return[Vh(Vn),ar,ci]})),Fe=Bl(_),_=[];for(var td,nd,rd,Bh=Array.isArray(Fe[0])?1:0,id="",jh=function(Vn,ar,ci){var Si="";return ci instanceof Dt?(ci="number"==typeof ee.angle?ha(ci,new Dt(1,0,0,1,Vn,ar)):ha(new Dt(1,0,0,1,Vn,ar),ci),O===V&&(ci=ha(new Dt(1,0,0,-1,0,0),ci)),Si=ci.join(" ")+" Tm\n"):Si=D(Vn)+" "+D(ar)+" Td\n",Si},ba=0;ba<Fe.length;ba++){switch(id="",Bh){case 1:rd=(Br?"<":"(")+Fe[ba][0]+(Br?">":")"),td=parseFloat(Fe[ba][1]),nd=parseFloat(Fe[ba][2]);break;case 0:rd=(Br?"<":"(")+Fe[ba]+(Br?">":")"),td=za(N),nd=$i(H)}void 0!==Jc&&void 0!==Jc[ba]&&(id=Jc[ba]+" Tw\n"),0===ba?_.push(id+jh(td,nd,Xn)+rd):0===Bh?_.push(id+rd):1===Bh&&_.push(id+jh(td,nd,Xn)+rd)}_=_.join(0===Bh?" Tj\nT* ":" Tj\n"),_+=" Tj\n";var Uu="BT\n/";return Uu+=dt+" "+$e+" Tf\n",Uu+=D($e*oo)+" TL\n",Uu+=Ou+"\n",Uu+=bi,Uu+=_,Y(Uu+="ET"),g[dt]=!0,Hn};var Kc=p.__private__.clip=p.clip=function(_){return Y("evenodd"===_?"W*":"W"),this};p.clipEvenOdd=function(){return Kc("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Y("n"),this};var Bs=p.__private__.isValidStyle=function(_){var N=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)&&(N=!0),N};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(_){return Bs(_)&&(l=_),this};var Fn=p.__private__.getStyle=p.getStyle=function(_){var N=l;switch(_){case"D":case"S":N="S";break;case"F":N="f";break;case"FD":case"DF":N="B";break;case"f":case"f*":case"B":case"B*":N=_}return N},Rl=p.close=function(){return Y("h"),this};p.stroke=function(){return Y("S"),this},p.fill=function(_){return ms("f",_),this},p.fillEvenOdd=function(_){return ms("f*",_),this},p.fillStroke=function(_){return ms("B",_),this},p.fillStrokeEvenOdd=function(_){return ms("B*",_),this};var ms=function(_,N){"object"===qn(N)?vg(N,_):Y(_)},ja=function(_){null===_||O===V&&void 0===_||(_=Fn(_),Y(_))};function Bv(_,N,H,ee,le){var xe=new lg(N||this.boundingBox,H||this.xStep,ee||this.yStep,this.gState,le||this.matrix);xe.stream=this.stream;var Fe=_+"$$"+this.cloneIndex+++"$$";return qo(Fe,xe),xe}var vg=function(_,N){var H=Xt[_.key],ee=Ct[H];if(ee instanceof Ch)Y("q"),Y(jv(N)),ee.gState&&p.setGState(ee.gState),Y(_.matrix.toString()+" cm"),Y("/"+H+" sh"),Y("Q");else if(ee instanceof lg){var le=new Dt(1,0,0,-1,0,qa());_.matrix&&(le=le.multiply(_.matrix||Ar),H=Bv.call(ee,_.key,_.boundingBox,_.xStep,_.yStep,le).id),Y("q"),Y("/Pattern cs"),Y("/"+H+" scn"),ee.gState&&p.setGState(ee.gState),Y(N),Y("Q")}},jv=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Oh=p.moveTo=function(_,N){return Y(D(P(_))+" "+D(X(N))+" m"),this},Ml=p.lineTo=function(_,N){return Y(D(P(_))+" "+D(X(N))+" l"),this},Ru=p.curveTo=function(_,N,H,ee,le,xe){return Y([D(P(_)),D(X(N)),D(P(H)),D(X(ee)),D(P(le)),D(X(xe)),"c"].join(" ")),this};p.__private__.line=p.line=function(_,N,H,ee,le){if(isNaN(_)||isNaN(N)||isNaN(H)||isNaN(ee)||!Bs(le))throw new Error("Invalid arguments passed to jsPDF.line");return O===R?this.lines([[H-_,ee-N]],_,N,[1,1],le||"S"):this.lines([[H-_,ee-N]],_,N,[1,1]).stroke()},p.__private__.lines=p.lines=function(_,N,H,ee,le,xe){var Fe,rt,ct,Ot,Lt,Kr,Br,bi;if("number"==typeof _&&(bi=H,H=N,N=_,_=bi),ee=ee||[1,1],xe=xe||!1,isNaN(N)||isNaN(H)||!Array.isArray(_)||!Array.isArray(ee)||!Bs(le)||"boolean"!=typeof xe)throw new Error("Invalid arguments passed to jsPDF.lines");for(Oh(N,H),Fe=ee[0],rt=ee[1],Ot=_.length,Kr=N,Br=H,ct=0;ct<Ot;ct++)2===(Lt=_[ct]).length?Ml(Kr=Lt[0]*Fe+Kr,Br=Lt[1]*rt+Br):Ru(Lt[0]*Fe+Kr,Lt[1]*rt+Br,Lt[2]*Fe+Kr,Lt[3]*rt+Br,Kr=Lt[4]*Fe+Kr,Br=Lt[5]*rt+Br);return xe&&Rl(),ja(le),this},p.path=function(_){for(var N=0;N<_.length;N++){var H=_[N],ee=H.c;switch(H.op){case"m":Oh(ee[0],ee[1]);break;case"l":Ml(ee[0],ee[1]);break;case"c":Ru.apply(this,ee);break;case"h":Rl()}}return this},p.__private__.rect=p.rect=function(_,N,H,ee,le){if(isNaN(_)||isNaN(N)||isNaN(H)||isNaN(ee)||!Bs(le))throw new Error("Invalid arguments passed to jsPDF.rect");return O===R&&(ee=-ee),Y([D(P(_)),D(X(N)),D(P(H)),D(P(ee)),"re"].join(" ")),ja(le),this},p.__private__.triangle=p.triangle=function(_,N,H,ee,le,xe,Fe){if(isNaN(_)||isNaN(N)||isNaN(H)||isNaN(ee)||isNaN(le)||isNaN(xe)||!Bs(Fe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[H-_,ee-N],[le-H,xe-ee],[_-le,N-xe]],_,N,[1,1],Fe,!0),this},p.__private__.roundedRect=p.roundedRect=function(_,N,H,ee,le,xe,Fe){if(isNaN(_)||isNaN(N)||isNaN(H)||isNaN(ee)||isNaN(le)||isNaN(xe)||!Bs(Fe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var rt=4/3*(Math.SQRT2-1);return le=Math.min(le,.5*H),xe=Math.min(xe,.5*ee),this.lines([[H-2*le,0],[le*rt,0,le,xe-xe*rt,le,xe],[0,ee-2*xe],[0,xe*rt,-le*rt,xe,-le,xe],[2*le-H,0],[-le*rt,0,-le,-xe*rt,-le,-xe],[0,2*xe-ee],[0,-xe*rt,le*rt,-xe,le,-xe]],_+le,N,[1,1],Fe,!0),this},p.__private__.ellipse=p.ellipse=function(_,N,H,ee,le){if(isNaN(_)||isNaN(N)||isNaN(H)||isNaN(ee)||!Bs(le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var xe=4/3*(Math.SQRT2-1)*H,Fe=4/3*(Math.SQRT2-1)*ee;return Oh(_+H,N),Ru(_+H,N-Fe,_+xe,N-ee,_,N-ee),Ru(_-xe,N-ee,_-H,N-Fe,_-H,N),Ru(_-H,N+Fe,_-xe,N+ee,_,N+ee),Ru(_+xe,N+ee,_+H,N+Fe,_+H,N),ja(le),this},p.__private__.circle=p.circle=function(_,N,H,ee){if(isNaN(_)||isNaN(N)||isNaN(H)||!Bs(ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,N,H,H,ee)},p.setFont=function(_,N,H){return H&&(N=B(N,H)),dt=Nh(_,N,{disableWarning:!1}),this};var kl=p.__private__.getFont=p.getFont=function(){return He[Nh.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var _,N,H={};for(_ in At)if(At.hasOwnProperty(_))for(N in H[_]=[],At[_])At[_].hasOwnProperty(N)&&H[_].push(N);return H},p.addFont=function(_,N,H,ee,le){var xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==xe.indexOf(arguments[3])?le=arguments[3]:arguments[3]&&-1==xe.indexOf(arguments[3])&&(H=B(H,ee)),xh.call(this,_,N,H,le=le||"Identity-H")};var So,Qc=t.lineWidth||.200025,jt=p.__private__.getLineWidth=p.getLineWidth=function(){return Qc},yg=p.__private__.setLineWidth=p.setLineWidth=function(_){return Qc=_,Y(D(P(_))+" w"),this};p.__private__.setLineDash=Et.API.setLineDash=Et.API.setLineDashPattern=function(_,N){if(_=_||[],N=N||0,isNaN(N)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(H){return D(P(H))}).join(" "),N=D(P(N)),Y("["+_+"] "+N+" d"),this};var Mu=p.__private__.getLineHeight=p.getLineHeight=function(){return $e*So};p.__private__.getLineHeight=p.getLineHeight=function(){return $e*So};var zv=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(_){return"number"==typeof(_=_||1.15)&&(So=_),this},$v=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return So};zv(t.lineHeight);var za=p.__private__.getHorizontalCoordinate=function(_){return P(_)},$i=p.__private__.getVerticalCoordinate=function(_){return O===V?_:Rt[q].mediaBox.topRightY-Rt[q].mediaBox.bottomLeftY-P(_)},qv=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(_){return D(za(_))},Gv=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(_){return D($i(_))},pa=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Go(pa)},p.__private__.setStrokeColor=p.setDrawColor=function(_,N,H,ee){return pa=ps({ch1:_,ch2:N,ch3:H,ch4:ee,pdfColorType:"draw",precision:2}),Y(pa),this};var ku=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Go(ku)},p.__private__.setFillColor=p.setFillColor=function(_,N,H,ee){return ku=ps({ch1:_,ch2:N,ch3:H,ch4:ee,pdfColorType:"fill",precision:2}),Y(ku),this};var Ou=t.textColor||"0 g",ga=p.__private__.getTextColor=p.getTextColor=function(){return Go(Ou)};p.__private__.setTextColor=p.setTextColor=function(_,N,H,ee){return Ou=ps({ch1:_,ch2:N,ch3:H,ch4:ee,pdfColorType:"text",precision:3}),this};var ma=t.charSpace,bg=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(ma||0)};p.__private__.setCharSpace=p.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ma=_,this};var Ol=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(_){var N=p.CapJoinStyles[_];if(void 0===N)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ol=N,Y(N+" J"),this};var Jn=0;p.__private__.setLineJoin=p.setLineJoin=function(_){var N=p.CapJoinStyles[_];if(void 0===N)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Jn=N,Y(N+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(D(P(_))+" M"),this},p.GState=Fw,p.setGState=function(_){(_="string"==typeof _?vt[Ln[_]]:Ll(null,_)).equals(Er)||(Y("/"+_.id+" gs"),Er=_)};var Ll=function(_,N){if(!_||!Ln[_]){var H=!1;for(var ee in vt)if(vt.hasOwnProperty(ee)&&vt[ee].equals(N)){H=!0;break}if(H)N=vt[ee];else{var le="GS"+(Object.keys(vt).length+1).toString(10);vt[le]=N,N.id=le}return _&&(Ln[_]=N.id),fn.publish("addGState",N),N}};p.addGState=function(_,N){return Ll(_,N),this},p.saveGraphicsState=function(){return Y("q"),Wt.push({key:dt,size:$e,color:Ou}),this},p.restoreGraphicsState=function(){Y("Q");var _=Wt.pop();return dt=_.key,$e=_.size,Ou=_.color,Er=null,this},p.setCurrentTransformationMatrix=function(_){return Y(_.toString()+" cm"),this},p.comment=function(_){return Y("#"+_),this};var Fl=function(_,N){var H=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return H},set:function(xe){isNaN(xe)||(H=parseFloat(xe))}});var ee=N||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ee},set:function(xe){isNaN(xe)||(ee=parseFloat(xe))}});var le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return le},set:function(xe){le=xe.toString()}}),this},Yc=function(_,N,H,ee){Fl.call(this,_,N),this.type="rect";var le=H||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return le},set:function(Fe){isNaN(Fe)||(le=parseFloat(Fe))}});var xe=ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return xe},set:function(Fe){isNaN(Fe)||(xe=parseFloat(Fe))}}),this},Vl=function(){this.page=yn,this.currentPage=q,this.pages=Te.slice(0),this.pagesContext=Rt.slice(0),this.x=_t,this.y=Mn,this.matrix=ln,this.width=Lh(q),this.height=va(q),this.outputDestination=Ke,this.id="",this.objectNumber=-1};Vl.prototype.restore=function(){yn=this.page,Rt=this.pagesContext,Te=this.pages,_t=this.x,Mn=this.y,ln=this.matrix,_s(q=this.currentPage,this.width),$a(q,this.height),Ke=this.outputDestination};var Zc=function(_,N,H,ee,le){ji.push(new Vl),yn=q=0,Te=[],_t=_,Mn=N,ln=le,Ua([H,ee])};for(var _a in p.beginFormObject=function(_,N,H,ee,le){return Zc(_,N,H,ee,le),this},p.endFormObject=function(_){return function(N){if(Ao[N])ji.pop().restore();else{var H=new Vl,ee="Xo"+(Object.keys(Wr).length+1).toString(10);H.id=ee,Ao[N]=ee,Wr[ee]=H,fn.publish("addFormObject",H),ji.pop().restore()}}(_),this},p.doFormObject=function(_,N){var H=Wr[Ao[_]];return Y("q"),Y(N.toString()+" cm"),Y("/"+H.id+" Do"),Y("Q"),this},p.getFormObject=function(_){var N=Wr[Ao[_]];return{x:N.x,y:N.y,width:N.width,height:N.height,matrix:N.matrix}},p.save=function(_,N){return _=_||"generated.pdf",(N=N||{}).returnPromise=N.returnPromise||!1,!1===N.returnPromise?(Ah(Nl(Ba()),_),"function"==typeof Ah.unload&&Gt.setTimeout&&setTimeout(Ah.unload,911),this):new Promise(function(H,ee){try{var le=Ah(Nl(Ba()),_);"function"==typeof Ah.unload&&Gt.setTimeout&&setTimeout(Ah.unload,911),H(le)}catch(xe){ee(xe.message)}})},Et.API)Et.API.hasOwnProperty(_a)&&("events"===_a&&Et.API.events.length?function(_,N){var ee,le;for(le=N.length-1;-1!==le;le--)_.subscribe.apply(_,[N[le][0]].concat("function"==typeof(ee=N[le][1])?[ee]:ee))}(fn,Et.API.events):p[_a]=Et.API[_a]);function Lh(_){return Rt[_].mediaBox.topRightX-Rt[_].mediaBox.bottomLeftX}function _s(_,N){Rt[_].mediaBox.topRightX=N+Rt[_].mediaBox.bottomLeftX}function va(_){return Rt[_].mediaBox.topRightY-Rt[_].mediaBox.bottomLeftY}function $a(_,N){Rt[_].mediaBox.topRightY=N+Rt[_].mediaBox.bottomLeftY}var Lu=p.getPageWidth=function(_){return Lh(_=_||q)/Nt},Fh=p.setPageWidth=function(_,N){_s(_,N*Nt)},qa=p.getPageHeight=function(_){return va(_=_||q)/Nt},Ul=p.setPageHeight=function(_,N){$a(_,N*Nt)};return p.internal={pdfEscape:To,getStyle:Fn,getFont:kl,getFontSize:Je,getCharSpace:bg,getTextColor:ga,getLineHeight:Mu,getLineHeightFactor:$v,getLineWidth:jt,write:rn,getHorizontalCoordinate:za,getVerticalCoordinate:$i,getCoordinateString:qv,getVerticalCoordinateString:Gv,collections:{},newObject:Zn,newAdditionalObject:fs,newObjectDeferred:yi,newObjectDeferredBegin:Ti,getFilters:Ho,putStream:io,events:fn,scaleFactor:Nt,pageSize:{getWidth:function(){return Lu(q)},setWidth:function(_){Fh(q,_)},getHeight:function(){return qa(q)},setHeight:function(_){Ul(q,_)}},encryptionOptions:c,encryption:Ur,getEncryptor:function(_){return null!==c?Ur.encryptor(_,0):function(N){return N}},output:gs,getNumberOfPages:Ph,pages:Te,out:Y,f2:C,f3:x,getPageInfo:Vs,getPageInfoByObjId:Us,getCurrentPageInfo:Wc,getPDFVersion:w,Point:Fl,Rectangle:Yc,Matrix:Dt,hasHotfix:Nu},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Lu(q)},set:function(_){Fh(q,_)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return qa(q)},set:function(_){Ul(q,_)},enumerable:!0,configurable:!0}),function(_){for(var N=0,H=St.length;N<H;N++){var ee=xh.call(this,_[N][0],_[N][1],_[N][2],St[N][3],!0);!1===d&&(g[ee]=!0);var le=_[N][0].split("-");Dl({id:ee,fontName:le[0],fontStyle:le[1]||""})}fn.publish("addFonts",{fonts:He,dictionary:At})}.call(p,St),dt="F1",fa(i,n),fn.publish("initialized"),p}ag.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},ag.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ag.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},ag.prototype.processOwnerPassword=function(t,e){return zP(jP(e).substr(0,5),t)},ag.prototype.encryptor=function(t,e){var n=jP(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return zP(n,r)}},Fw.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||qn(t)!==qn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return 0===r},Et.API={events:[]},Et.version="3.0.3";var Hr=Et.API,$P=1,Th=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cg=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Zt=function(t){return t.toFixed(2)},$c=function(t){return t.toFixed(5)};Hr.__acroform__={};var hs=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},M$=function(t){return t*$P},Au=function(t){var e=new O$,n=lt.internal.getHeight(t)||0,r=lt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Zt(r)),Number(Zt(n))],e},X0e=Hr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},e1e=Hr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},t1e=Hr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},si=Hr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return t1e(t,e-1)},ai=Hr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return X0e(t,e-1)},ui=Hr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return e1e(t,e-1)},n1e=Hr.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],o=t[1],s=t[2],a=t[3],u={};return u.lowerLeft_X=n(i)||0,u.lowerLeft_Y=r(o+a)||0,u.upperRight_X=n(i+s)||0,u.upperRight_Y=r(o)||0,[Number(Zt(u.lowerLeft_X)),Number(Zt(u.lowerLeft_Y)),Number(Zt(u.upperRight_X)),Number(Zt(u.upperRight_Y))]},r1e=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=qP(t,t._V||t.DV),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Zt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Au(t);return o.scope=t.scope,o.stream=e.join("\n"),o}},qP=function(t,e){var n=0===t.fontSize?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" ");i=i.map(t.multiline?function(C){return C.split("\n")}:function(C){return[C]});var o=n,s=lt.internal.getHeight(t)||0;s=s<0?-s:s;var C,a=lt.internal.getWidth(t)||0;a=a<0?-a:a,o++;e:for(;o>0;){e="",o--;var l,c,d=Vw("3",t,o).height,g=t.multiline?s-o:(s-d)/2,p=g+=2,b=0,w=0,E=0;if(o<=0){e="(...) Tj\n",e+="% Width of Text: "+Vw(e,t,o=12).width+", FieldWidth:"+a+"\n";break}for(var A="",R=0,V=0;V<i.length;V++)if(i.hasOwnProperty(V)){var O=!1;if(1!==i[V].length&&E!==i[V].length-1){if((d+2)*(R+2)+2>s)continue e;A+=i[V][E],O=!0,w=V,V--}else{A=" "==(A+=i[V][E]+" ").substr(A.length-1)?A.substr(0,A.length-1):A;var Z=parseInt(V),ie=(C=Z)+1<i.length&&Vw(A+" "+i[C+1][0],t,o).width<=a-4,B=V>=i.length-1;if(ie&&!B){A+=" ",E=0;continue}if(ie||B){if(B)w=Z;else if(t.multiline&&(d+2)*(R+2)+2>s)continue e}else{if(!t.multiline||(d+2)*(R+2)+2>s)continue e;w=Z}}for(var D="",S=b;S<=w;S++){var L=i[S];if(t.multiline){if(S===w){D+=L[E]+" ",E=(E+1)%L.length;continue}if(S===b){D+=L[L.length-1]+" ";continue}}D+=L[0]+" "}switch(D=" "==D.substr(D.length-1)?D.substr(0,D.length-1):D,c=Vw(D,t,o).width,t.textAlign){case"right":l=a-c-2;break;case"center":l=(a-c)/2;break;default:l=2}e+=Zt(l)+" "+Zt(p)+" Td\n",e+="("+Th(D)+") Tj\n",e+=-Zt(l)+" 0 Td\n",p=-(o+2),c=0,b=O?w:w+1,R++,A=""}break}return r.text=e,r.fontSize=o,r},Vw=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},i1e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},o1e=function(t,e){var n={type:"reference",object:t};void 0===e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},k$=Hr.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(0!==o&&(i+=" "),qn(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":"/"!==t[o].substr(0,1)?(void 0!==e&&n&&(r=n.internal.getEncryptor(e)),i+="("+Th(r(t[o].toString()))+")"):i+=t[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},GP=function(t,e,n){var r=function(i){return i};return void 0!==e&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Th(r(t))+")"},Cu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Cu.prototype.toString=function(){return this.objId+" 0 R"},Cu.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Cu.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return"content"!=o&&"appearanceStreamContent"!=o&&"scope"!=o&&"objId"!=o&&"_"!=o.substring(0,1)});for(var n in e)if(!1===Object.getOwnPropertyDescriptor(this,e[n]).configurable){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:k$(i,this.objId,this.scope)}):i instanceof Cu?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&t.push({key:r,value:i}))}return t};var O$=function(){Cu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};hs(O$,Cu);var L$=function(){Cu.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Th(n(t))+")"}},set:function(n){t=n}})};hs(L$,Cu);var La=function t(){Cu.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute F supplied.');e=A}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!si(e,3)},set:function(A){this.F=A?ai(e,3):ui(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute Ff supplied.');n=A}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(A){r=void 0!==A?A:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(A){r[0]=A}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(A){r[1]=A}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(A){r[2]=A}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(A){r[3]=A}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(A){switch(A){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=A;break;default:throw new Error('Invalid value "'+A+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof jw)return;o="FieldObject"+t.FieldNum++}var A=function(R){return R};return this.scope&&(A=this.scope.internal.getEncryptor(this.objId)),"("+Th(A(o))+")"},set:function(A){o=A.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(A){o=A}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(A){s=A}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(A){a=A}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(A){u=A}});var l=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===l?50/$P:l},set:function(A){l=A}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(A){c=A}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof jw||this instanceof Sh))return GP(d,this.objId,this.scope)},set:function(A){A=A.toString(),d=A}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Bi==0?GP(g,this.objId,this.scope):g},set:function(A){A=A.toString(),g=this instanceof Bi==0?"("===A.substr(0,1)?cg(A.substr(1,A.length-2)):cg(A):A}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bi==1?cg(g.substr(1,g.length-1)):g},set:function(A){A=A.toString(),g=this instanceof Bi==1?"/"+A:A}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(A){this.V=A}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Bi==0?GP(p,this.objId,this.scope):p},set:function(A){A=A.toString(),p=this instanceof Bi==0?"("===A.substr(0,1)?cg(A.substr(1,A.length-2)):cg(A):A}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bi==1?cg(p.substr(1,p.length-1)):p},set:function(A){A=A.toString(),p=this instanceof Bi==1?"/"+A:A}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(A){w=A=!!A}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(A){b=A}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,1)},set:function(A){this.Ff=A?ai(this.Ff,1):ui(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,2)},set:function(A){this.Ff=A?ai(this.Ff,2):ui(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,3)},set:function(A){this.Ff=A?ai(this.Ff,3):ui(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==E)return E},set:function(A){if(-1===[0,1,2].indexOf(A))throw new Error('Invalid value "'+A+'" for attribute Q supplied.');E=A}}),Object.defineProperty(this,"textAlign",{get:function(){var A;switch(E){case 0:default:A="left";break;case 1:A="center";break;case 2:A="right"}return A},configurable:!0,enumerable:!0,set:function(A){switch(A){case"right":case 2:E=2;break;case"center":case 1:E=1;break;default:E=0}}})};hs(La,Cu);var dg=function(){La.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return k$(e,this.objId,this.scope)},set:function(n){var r,i;i=[],"string"==typeof(r=n)&&(i=function(o,s,a){a||(a=1);for(var u,l=[];u=s.exec(o);)l.push(u[a]);return l}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();-1!==e.indexOf(n)&&(e.splice(e.indexOf(n),1),!1!==r););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,18)},set:function(n){this.Ff=n?ai(this.Ff,18):ui(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,19)},set:function(n){!0===this.combo&&(this.Ff=n?ai(this.Ff,19):ui(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,20)},set:function(n){n?(this.Ff=ai(this.Ff,20),e.sort()):this.Ff=ui(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,22)},set:function(n){this.Ff=n?ai(this.Ff,22):ui(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,23)},set:function(n){this.Ff=n?ai(this.Ff,23):ui(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,27)},set:function(n){this.Ff=n?ai(this.Ff,27):ui(this.Ff,27)}}),this.hasAppearanceStream=!1};hs(dg,La);var hg=function(){dg.call(this),this.fontName="helvetica",this.combo=!1};hs(hg,dg);var fg=function(){hg.call(this),this.combo=!0};hs(fg,hg);var Uw=function(){fg.call(this),this.edit=!0};hs(Uw,fg);var Bi=function(){La.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,15)},set:function(n){this.Ff=n?ai(this.Ff,15):ui(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,16)},set:function(n){this.Ff=n?ai(this.Ff,16):ui(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,17)},set:function(n){this.Ff=n?ai(this.Ff,17):ui(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,26)},set:function(n){this.Ff=n?ai(this.Ff,26):ui(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(e).length){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Th(n(e[r]))+")");return i.push(">>"),i.join("\n")}},set:function(n){"object"===qn(n)&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){"string"==typeof n&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};hs(Bi,La);var Bw=function(){Bi.call(this),this.pushButton=!0};hs(Bw,Bi);var pg=function(){Bi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=void 0!==e?e:[]}})};hs(pg,Bi);var jw=function(){var t,e;La.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+Th(i(r[o]))+")");return s.push(">>"),s.join("\n")},set:function(i){"object"===qn(i)&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){"string"==typeof i&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=lt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};hs(jw,La),pg.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},pg.prototype.createOption=function(t){var e=new jw;return e.Parent=this,e.optionName=t,this.Kids.push(e),a1e.call(this.scope,e),e};var zw=function(){Bi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=lt.CheckBox.createAppearanceStream()};hs(zw,Bi);var Sh=function(){La.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,13)},set:function(e){this.Ff=e?ai(this.Ff,13):ui(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,21)},set:function(e){this.Ff=e?ai(this.Ff,21):ui(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,23)},set:function(e){this.Ff=e?ai(this.Ff,23):ui(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,24)},set:function(e){this.Ff=e?ai(this.Ff,24):ui(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,25)},set:function(e){this.Ff=e?ai(this.Ff,25):ui(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,26)},set:function(e){this.Ff=e?ai(this.Ff,26):ui(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};hs(Sh,La);var $w=function(){Sh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,14)},set:function(t){this.Ff=t?ai(this.Ff,14):ui(this.Ff,14)}}),this.password=!0};hs($w,Sh);var lt={CheckBox:{createAppearanceStream:function(){return{N:{On:lt.CheckBox.YesNormal},D:{On:lt.CheckBox.YesPushDown,Off:lt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Au(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=qP(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Zt(lt.internal.getWidth(t))+" "+Zt(lt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Zt(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join("\n"),e},YesNormal:function(t){var e=Au(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],o=lt.internal.getHeight(t),s=lt.internal.getWidth(t),a=qP(t,t.caption);return i.push("1 g"),i.push("0 0 "+Zt(s)+" "+Zt(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Zt(s-1)+" "+Zt(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Zt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(t){var e=Au(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Zt(lt.internal.getWidth(t))+" "+Zt(lt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:lt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=lt.RadioButton.Circle.YesNormal,e.D[t]=lt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Au(t);e.scope=t.scope;var n=[],r=lt.internal.getWidth(t)<=lt.internal.getHeight(t)?lt.internal.getWidth(t)/4:lt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var o=Number((r*lt.internal.Bezier_C).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+$c(lt.internal.getWidth(t)/2)+" "+$c(lt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=Au(t);e.scope=t.scope;var n=[],r=lt.internal.getWidth(t)<=lt.internal.getHeight(t)?lt.internal.getWidth(t)/4:lt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*lt.internal.Bezier_C).toFixed(5)),s=Number((r*lt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+$c(lt.internal.getWidth(t)/2)+" "+$c(lt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+$c(lt.internal.getWidth(t)/2)+" "+$c(lt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},OffPushDown:function(t){var e=Au(t);e.scope=t.scope;var n=[],r=lt.internal.getWidth(t)<=lt.internal.getHeight(t)?lt.internal.getWidth(t)/4:lt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*lt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+$c(lt.internal.getWidth(t)/2)+" "+$c(lt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:lt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=lt.RadioButton.Cross.YesNormal,e.D[t]=lt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Au(t);e.scope=t.scope;var n=[],r=lt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Zt(lt.internal.getWidth(t)-2)+" "+Zt(lt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Zt(r.x1.x)+" "+Zt(r.x1.y)+" m"),n.push(Zt(r.x2.x)+" "+Zt(r.x2.y)+" l"),n.push(Zt(r.x4.x)+" "+Zt(r.x4.y)+" m"),n.push(Zt(r.x3.x)+" "+Zt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=Au(t);e.scope=t.scope;var n=lt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Zt(lt.internal.getWidth(t))+" "+Zt(lt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Zt(lt.internal.getWidth(t)-2)+" "+Zt(lt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Zt(n.x1.x)+" "+Zt(n.x1.y)+" m"),r.push(Zt(n.x2.x)+" "+Zt(n.x2.y)+" l"),r.push(Zt(n.x4.x)+" "+Zt(n.x4.y)+" m"),r.push(Zt(n.x3.x)+" "+Zt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(t){var e=Au(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Zt(lt.internal.getWidth(t))+" "+Zt(lt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};lt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=lt.internal.getWidth(t),n=lt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},lt.internal.getWidth=function(t){var e=0;return"object"===qn(t)&&(e=M$(t.Rect[2])),e},lt.internal.getHeight=function(t){var e=0;return"object"===qn(t)&&(e=M$(t.Rect[3])),e};var a1e=Hr.addField=function(t){if(function(t,e){if(e.scope=t,void 0!==t.internal&&(void 0===t.internal.acroformPlugin||!1===t.internal.acroformPlugin.isInitialized)){if(La.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(i1e)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");$P=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new L$,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){var n;(n=t).internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0}),t.internal.events.subscribe("buildDocument",function(){!function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&o1e(o,n)}}(t)}),t.internal.events.subscribe("putCatalog",function(){!function(n){if(void 0===n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(t)}),t.internal.events.subscribe("postPutPages",function(n){!function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var a=r[s],u=[],l=a.Rect;if(a.Rect&&(a.Rect=n1e(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=lt.createDefaultAppearanceStream(a),"object"===qn(a)&&"function"==typeof a.getKeyValueListForStream&&(u=a.getKeyValueListForStream()),a.Rect=l,a.hasAppearanceStream&&!a.appearanceStreamContent){var c=r1e(a);u.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(a.appearanceStreamContent){var d="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var p=a.appearanceStreamContent[g];if(d+="/"+g+" ",d+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var b=p[s];"function"==typeof b&&(b=b.call(i,a)),d+="/"+s+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else"function"==typeof(b=p)&&(b=b.call(i,a)),d+="/"+s+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);d+=">>"}u.push({key:"AP",value:"<<\n"+d+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:a.objId}),i.internal.out("endobj")}o&&function(w,E){for(var A in w)if(w.hasOwnProperty(A)){var R=A,V=w[A];E.internal.newObjectDeferredBegin(V.objId,!0),"object"===qn(V)&&"function"==typeof V.putStream&&V.putStream(),delete w[R]}}(i.internal.acroformPlugin.xForms,i)}(n,t)}),t.internal.acroformPlugin.isInitialized=!0}}(this,t),!(t instanceof La))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};function F$(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}Hr.AcroFormChoiceField=dg,Hr.AcroFormListBox=hg,Hr.AcroFormComboBox=fg,Hr.AcroFormEditBox=Uw,Hr.AcroFormButton=Bi,Hr.AcroFormPushButton=Bw,Hr.AcroFormRadioButton=pg,Hr.AcroFormCheckBox=zw,Hr.AcroFormTextField=Sh,Hr.AcroFormPasswordField=$w,Hr.AcroFormAppearance=lt,Hr.AcroForm={ChoiceField:dg,ListBox:hg,ComboBox:fg,EditBox:Uw,Button:Bi,PushButton:Bw,RadioButton:pg,CheckBox:zw,TextField:Sh,PasswordField:$w,Appearance:lt},Et.AcroForm={ChoiceField:dg,ListBox:hg,ComboBox:fg,EditBox:Uw,Button:Bi,PushButton:Bw,RadioButton:pg,CheckBox:zw,TextField:Sh,PasswordField:$w,Appearance:lt},function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(C,x){var P,X,ge,Ee,Ie,pe=n;if("RGBA"===(x=x||n)||void 0!==C.data&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(ie(C))for(Ie in r)for(ge=r[Ie],P=0;P<ge.length;P+=1){for(Ee=!0,X=0;X<ge[P].length;X+=1)if(void 0!==ge[P][X]&&ge[P][X]!==C[X]){Ee=!1;break}if(!0===Ee){pe=Ie;break}}else for(Ie in r)for(ge=r[Ie],P=0;P<ge.length;P+=1){for(Ee=!0,X=0;X<ge[P].length;X+=1)if(void 0!==ge[P][X]&&ge[P][X]!==C.charCodeAt(X)){Ee=!1;break}if(!0===Ee){pe=Ie;break}}return pe===n&&x!==n&&(pe=x),pe},o=function C(x){for(var P=this.internal.write,X=this.internal.putStream,ge=(0,this.internal.getFilters)();-1!==ge.indexOf("FlateEncode");)ge.splice(ge.indexOf("FlateEncode"),1);x.objectId=this.internal.newObject();var Ee=[];if(Ee.push({key:"Type",value:"/XObject"}),Ee.push({key:"Subtype",value:"/Image"}),Ee.push({key:"Width",value:x.width}),Ee.push({key:"Height",value:x.height}),x.colorSpace===A.INDEXED?Ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(x.palette.length/3-1)+" "+("sMask"in x&&void 0!==x.sMask?x.objectId+2:x.objectId+1)+" 0 R]"}):(Ee.push({key:"ColorSpace",value:"/"+x.colorSpace}),x.colorSpace===A.DEVICE_CMYK&&Ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ee.push({key:"BitsPerComponent",value:x.bitsPerComponent}),"decodeParameters"in x&&void 0!==x.decodeParameters&&Ee.push({key:"DecodeParms",value:"<<"+x.decodeParameters+">>"}),"transparency"in x&&Array.isArray(x.transparency)&&x.transparency.length>0){for(var Ie="",pe=0,Ae=x.transparency.length;pe<Ae;pe++)Ie+=x.transparency[pe]+" "+x.transparency[pe]+" ";Ee.push({key:"Mask",value:"["+Ie+"]"})}if(void 0!==x.sMask&&Ee.push({key:"SMask",value:x.objectId+1+" 0 R"}),X({data:x.data,additionalKeyValues:Ee,alreadyAppliedFilters:void 0!==x.filter?["/"+x.filter]:void 0,objectId:x.objectId}),P("endobj"),"sMask"in x&&void 0!==x.sMask){var ke,F=null!==(ke=x.sMaskBitsPerComponent)&&void 0!==ke?ke:x.bitsPerComponent,q={width:x.width,height:x.height,colorSpace:"DeviceGray",bitsPerComponent:F,data:x.sMask};"filter"in x&&(q.decodeParameters="/Predictor ".concat(x.predictor," /Colors 1 /BitsPerComponent ").concat(F," /Columns ").concat(x.width),q.filter=x.filter),C.call(this,q)}if(x.colorSpace===A.INDEXED){var J=this.internal.newObject();X({data:D(new Uint8Array(x.palette)),objectId:J}),P("endobj")}},s=function(){var C=this.internal.collections[e+"images"];for(var x in C)o.call(this,C[x])},a=function(){var C,x=this.internal.collections[e+"images"],P=this.internal.write;for(var X in x)P("/I"+(C=x[X]).index,C.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var C=this.internal.collections[e+"images"];return u.call(this),C},c=function(){return Object.keys(this.internal.collections[e+"images"]).length},d=function(C){return"function"==typeof t["process"+C.toUpperCase()]},g=function(C){return"object"===qn(C)&&1===C.nodeType},p=function(C,x){if("IMG"===C.nodeName&&C.hasAttribute("src")){var P=""+C.getAttribute("src");if(0===P.indexOf("data:image/"))return Ow(unescape(P).split("base64,").pop());var X=t.loadFile(P,!0);if(void 0!==X)return X}if("CANVAS"===C.nodeName){if(0===C.width||0===C.height)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var ge;switch(x){case"PNG":ge="image/png";break;case"WEBP":ge="image/webp";break;default:ge="image/jpeg"}return Ow(C.toDataURL(ge,1).split("base64,").pop())}},b=function(C){var x=this.internal.collections[e+"images"];if(x)for(var P in x)if(C===x[P].alias)return x[P]},w=function(C,x,P){return C||x||(C=-96,x=-96),C<0&&(C=-1*P.width*72/C/this.internal.scaleFactor),x<0&&(x=-1*P.height*72/x/this.internal.scaleFactor),0===C&&(C=x*P.width/P.height),0===x&&(x=C*P.height/P.width),[C,x]},E=function(C,x,P,X,ge,Ee){var Ie=w.call(this,P,X,ge),pe=this.internal.getCoordinateString,Ae=this.internal.getVerticalCoordinateString,Ge=l.call(this);if(P=Ie[0],X=Ie[1],Ge[ge.index]=ge,Ee){Ee*=Math.PI/180;var ke=Math.cos(Ee),F=Math.sin(Ee),q=function(te){return te.toFixed(4)},J=[q(ke),q(F),q(-1*F),q(ke),0,0,"cm"]}this.internal.write("q"),Ee?(this.internal.write([1,"0","0",1,pe(C),Ae(x+X),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([pe(P),"0","0",pe(X),"0","0","cm"].join(" "))):this.internal.write([pe(P),"0","0",pe(X),pe(C),Ae(x+X),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ge.index+" Do"),this.internal.write("Q")},A=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var R=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},V=t.__addimage__.sHashCode=function(C){var x,P,X=0;if("string"==typeof C)for(P=C.length,x=0;x<P;x++)X=(X<<5)-X+C.charCodeAt(x),X|=0;else if(ie(C))for(P=C.byteLength/2,x=0;x<P;x++)X=(X<<5)-X+C[x],X|=0;return X},O=t.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var x=!0;return 0===C.length&&(x=!1),C.length%4!=0&&(x=!1),!1===/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))&&(x=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))&&(x=!1),x},Z=t.__addimage__.extractImageFromDataUrl=function(C){if(null==C||!(C=C.trim()).startsWith("data:"))return null;var x=C.indexOf(",");return x<0?null:C.substring(0,x).trim().endsWith("base64")?C.substring(x+1):null};t.__addimage__.isArrayBuffer=function(C){return C instanceof ArrayBuffer};var ie=t.__addimage__.isArrayBufferView=function(C){return C instanceof Int8Array||C instanceof Uint8Array||C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array},B=t.__addimage__.binaryStringToUint8Array=function(C){for(var x=C.length,P=new Uint8Array(x),X=0;X<x;X++)P[X]=C.charCodeAt(X);return P},D=t.__addimage__.arrayBufferToBinaryString=function(C){for(var x="",P=ie(C)?C:new Uint8Array(C),X=0;X<P.length;X+=8192)x+=String.fromCharCode.apply(null,P.subarray(X,X+8192));return x};t.addImage=function(){var C,x,P,X,ge,Ee,Ie,pe,Ae;if("number"==typeof arguments[1]?(x=n,P=arguments[1],X=arguments[2],ge=arguments[3],Ee=arguments[4],Ie=arguments[5],pe=arguments[6],Ae=arguments[7]):(x=arguments[1],P=arguments[2],X=arguments[3],ge=arguments[4],Ee=arguments[5],Ie=arguments[6],pe=arguments[7],Ae=arguments[8]),"object"===qn(C=arguments[0])&&!g(C)&&"imageData"in C){var Ge=C;C=Ge.imageData,x=Ge.format||x||n,P=Ge.x||P||0,X=Ge.y||X||0,ge=Ge.w||Ge.width||ge,Ee=Ge.h||Ge.height||Ee,Ie=Ge.alias||Ie,pe=Ge.compression||pe,Ae=Ge.rotation||Ge.angle||Ae}var ke=this.internal.getFilters();if(void 0===pe&&-1!==ke.indexOf("FlateEncode")&&(pe="SLOW"),isNaN(P)||isNaN(X))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var F=S.call(this,C,x,Ie,pe);return E.call(this,P,X,ge,Ee,F,Ae),this};var S=function(C,x,P,X){var ge,Ee,Ie,Ae;if("string"==typeof C&&i(C)===n){C=unescape(C);var pe=L(C,!1);(""!==pe||void 0!==(pe=t.loadFile(C,!0)))&&(C=pe)}if(g(C)&&(C=p(C,x)),x=i(C,x),!d(x))throw new Error("addImage does not support files of type '"+x+"', please ensure that a plugin for '"+x+"' support is added.");if((null==(Ie=P)||0===Ie.length)&&(P="string"==typeof(Ae=C)||ie(Ae)?V(Ae):ie(Ae.data)?V(Ae.data):null),(ge=b.call(this,P))||(C instanceof Uint8Array||"RGBA"===x||(Ee=C,C=B(C)),ge=this["process"+x.toUpperCase()](C,c.call(this),P,function(Ae){return Ae&&"string"==typeof Ae&&(Ae=Ae.toUpperCase()),Ae in t.image_compression?Ae:R.NONE}(X),Ee)),!ge)throw new Error("An unknown error occurred whilst processing the image.");return ge},L=t.__addimage__.convertBase64ToBinaryString=function(C,x){x="boolean"!=typeof x||x;var P,X="";if("string"==typeof C){var ge;P=null!==(ge=Z(C))&&void 0!==ge?ge:C;try{X=Ow(P)}catch(Ee){if(x)throw O(P)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return X};t.getImageProperties=function(C){var x,P,X="";if(g(C)&&(C=p(C)),"string"==typeof C&&i(C)===n&&(""===(X=L(C,!1))&&(X=t.loadFile(C)||""),C=X),P=i(C),!d(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(C instanceof Uint8Array||(C=B(C)),!(x=this["process"+P.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return x.fileType=P,x}}(Et.API),
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){var e=function(n){if(void 0!==n&&""!=n)return!0};Et.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(n.objId),l=n.pageContext.annotations,c=!1,d=0;d<l.length&&!c;d++)switch((r=l[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var g=0;g<l.length;g++){r=l[g];var p=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),A=this.internal.getEncryptor(w.objId),R=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(A(r.contents))+")",o+=" /Popup "+E.objId+" 0 R",o+=" /P "+u.objId+" 0 R",o+=" /T ("+p(A(R))+") >>",w.content=o;var V=w.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+V,r.open&&(o+=" /Open true"),E.content=o+=" >>",this.internal.write(w.objId,"0 R",E.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var O=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(b(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+O+")",o+=" /Border [0 0 0]",this.internal.write(o+=" >>");break;case"link":if(r.options.name){var Z=this.annotations._nameMap[r.options.name];r.options.pageNumber=Z.page,r.options.top=Z.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var ie=a(r.options.top);r.options.left=r.options.left||0,void 0===r.options.zoom&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+ie+" "+r.options.zoom+"]"}""!=o&&this.internal.write(o+=" >>")}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,o,s){var a=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:u(n),y:l(r),w:u(n+i),h:l(r+o)},options:s,type:"link"})},t.textWithLink=function(n,r,i,o){var s,a,u=this.getTextWidth(n),l=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==o.maxWidth){var c=this.splitTextToSize(n,a=o.maxWidth).length;s=Math.ceil(l*c)}else a=u,s=l;return this.text(n,r,i,o),"center"===o.align&&(r-=u/2),"right"===o.align&&(r-=u),this.link(r,(i+=.2*l)-l,a,s,o),u},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Et.API),
/**
         * @license
         * Copyright (c) 2017 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(w){return void 0!==e[w.charCodeAt(0)]},s=t.__arabicParser__.isArabicLetter=function(w){return"string"==typeof w&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},a=t.__arabicParser__.isArabicEndLetter=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length<=2},u=t.__arabicParser__.isArabicAlfLetter=function(w){return s(w)&&i.indexOf(w.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length>=1};var l=t.__arabicParser__.arabicLetterHasFinalForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(w){return s(w)&&o(w)&&4==e[w.charCodeAt(0)].length},d=t.__arabicParser__.resolveLigatures=function(w){var E=0,A=n,R="",V=0;for(E=0;E<w.length;E+=1)void 0!==A[w.charCodeAt(E)]?(V++,"number"==typeof(A=A[w.charCodeAt(E)])&&(R+=String.fromCharCode(A),A=n,V=0),E===w.length-1&&(A=n,R+=w.charAt(E-(V-1)),E-=V-1,V=0)):(A=n,R+=w.charAt(E-V),E-=V,V=0);return R};t.__arabicParser__.isArabicDiacritic=function(w){return void 0!==w&&void 0!==r[w.charCodeAt(0)]};var g=t.__arabicParser__.getCorrectForm=function(w,E,A){return s(w)?!1===o(w)?-1:!l(w)||!s(E)&&!s(A)||!s(A)&&a(E)||a(w)&&!s(E)||a(w)&&u(E)||a(w)&&a(E)?0:c(w)&&s(E)&&!a(E)&&s(A)&&l(A)?3:a(w)||!s(A)?1:2:-1},p=function(w){var E=0,A=0,R=0,V="",O="",Z="",ie=(w=w||"").split("\\s+"),B=[];for(E=0;E<ie.length;E+=1){for(B.push(""),A=0;A<ie[E].length;A+=1)O=ie[E][A-1],Z=ie[E][A+1],s(V=ie[E][A])?(R=g(V,O,Z),B[E]+=-1!==R?String.fromCharCode(e[V.charCodeAt(0)][R]):V):B[E]+=V;B[E]=d(B[E])}return B.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var w,E="string"==typeof arguments[0]?arguments[0]:arguments[0].text,A=[];if(Array.isArray(E)){var R=0;for(A=[],R=0;R<E.length;R+=1)Array.isArray(E[R])?A.push([p(E[R][0]),E[R][1],E[R][2]]):A.push([p(E[R])]);w=A}else w=p(E);return"string"==typeof arguments[0]?w:(arguments[0].text=w,arguments[0])};t.events.push(["preProcessText",b])}(Et.API),Et.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform","javascript"===t.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||!1===Number.isInteger(a)||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||!1===Number.isInteger(a)||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if("2d"!==(n=n||"2d"))return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Et.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var l=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return l},set:function(w){l=w}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(w){b=w}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof u?u:void 0,this},t.getTextDimensions=function(u,l){r.call(this);var c=(l=l||{}).fontSize||this.getFontSize(),d=l.font||this.getFont(),g=l.scaleFactor||this.internal.scaleFactor,p=0,b=0,w=0,E=this;if(!Array.isArray(u)&&"string"!=typeof u){if("number"!=typeof u)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var A=l.maxWidth;A>0?"string"==typeof u?u=this.splitTextToSize(u,A):"[object Array]"===Object.prototype.toString.call(u)&&(u=u.reduce(function(V,O){return V.concat(E.splitTextToSize(O,A))},[])):u=Array.isArray(u)?u:[u];for(var R=0;R<u.length;R++)p<(w=this.getStringUnitWidth(u[R],{font:d})*c)&&(p=w);return 0!==p&&(b=u.length),{w:p/=g,h:Math.max((b*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var u;u=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var l=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return void 0!==l.lineNumber&&(l.lineNumber===u.lineNumber?(u.x=(l.x||0)+(l.width||0),u.y=l.y||0):l.y+l.height+u.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=d.top,p&&g&&(this.printHeaderRow(u.lineNumber,!0),u.y+=g[0].height)):u.y=l.y+l.height||u.y),void 0!==u.text[0]&&(this.rect(u.x,u.y,u.width,u.height,!0===n?"FD":void 0),"right"===u.align?this.text(u.text,u.x+u.width-c,u.y+c,{align:"right",baseline:"top"}):"center"===u.align?this.text(u.text,u.x+u.width/2,u.y+c,{align:"center",baseline:"top",maxWidth:u.width-c-c}):this.text(u.text,u.x+c,u.y+c,{align:"left",baseline:"top",maxWidth:u.width-c-c})),this.internal.__cell__.lastCell=u,this};t.table=function(u,l,c,d,g){if(r.call(this),!c)throw new Error("No data for PDF table.");var p,b,w,E,A=[],R=[],V=[],O={},Z={},ie=[],B=[],D=(g=g||{}).autoSize||!1,S=!1!==g.printHeaders,L=g.css&&void 0!==g.css["font-size"]?16*g.css["font-size"]:g.fontSize||12,C=g.margins||Object.assign({width:this.getPageWidth()},e),x="number"==typeof g.padding?g.padding:3,P=g.headerBackgroundColor||"#c8c8c8",X=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=L,this.internal.__cell__.padding=x,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=X,this.setFontSize(L),null==d)R=A=Object.keys(c[0]),V=A.map(function(){return"left"});else if(Array.isArray(d)&&"object"===qn(d[0]))for(A=d.map(function(Ge){return Ge.name}),R=d.map(function(Ge){return Ge.prompt||Ge.name||""}),V=d.map(function(Ge){return Ge.align||"left"}),p=0;p<d.length;p+=1)Z[d[p].name]=.7499990551181103*d[p].width;else Array.isArray(d)&&"string"==typeof d[0]&&(R=A=d,V=A.map(function(){return"left"}));if(D||Array.isArray(d)&&"string"==typeof d[0])for(p=0;p<A.length;p+=1){for(O[E=A[p]]=c.map(function(Ge){return Ge[E]}),this.setFont(void 0,"bold"),ie.push(this.getTextDimensions(R[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=O[E],this.setFont(void 0,"normal"),w=0;w<b.length;w+=1)ie.push(this.getTextDimensions(b[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Z[E]=Math.max.apply(null,ie)+x+x,ie=[]}if(S){var ge={};for(p=0;p<A.length;p+=1)ge[A[p]]={},ge[A[p]].text=R[p],ge[A[p]].align=V[p];var Ee=a.call(this,ge,Z);B=A.map(function(Ge){return new o(u,l,Z[Ge],Ee,ge[Ge].text,void 0,ge[Ge].align)}),this.setTableHeaderRow(B),this.printHeaderRow(1,!1)}var Ie=d.reduce(function(Ge,ke){return Ge[ke.name]=ke.align,Ge},{});for(p=0;p<c.length;p+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:p,data:c[p]},this);var pe=a.call(this,c[p],Z);for(w=0;w<A.length;w+=1){var Ae=c[p][A[w]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:p,col:w,data:Ae},this),s.call(this,new o(u,l,Z[A[w]],pe,Ae,p+2,Ie[A[w]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=l,this};var a=function(u,l){var c=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(u).map(function(p){var b=u[p];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,l[p]-c-c)},this).map(function(p){return this.getLineHeightFactor()*p.length*d/g+c+c},this).reduce(function(p,b){return Math.max(p,b)},0)};t.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},t.printHeaderRow=function(u,l){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){c=this.internal.__cell__.tableHeaderRow[p].clone(),l&&(c.y=this.internal.__cell__.margins.top||0,g.push(c)),c.lineNumber=u;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,c),this.setTextColor(b)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(Et.API);var V$={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},U$=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],HP=F$(U$),B$=[100,200,300,400,500,600,700,800,900],u1e=F$(B$);function WP(t){var o,e=t.family.replace(/"|'/g,"").toLowerCase(),n=V$[o=(o=t.style)||"normal"]?o:"normal",r=function(o){return o?"number"==typeof o?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):"bold"===o?700:400:400}(t.weight),i=function(o){return"number"==typeof HP[o=o||"normal"]?o:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function j$(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var l1e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},z$={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function $$(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function q$(t){return t.trimLeft()}function c1e(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function d1e(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===e?null:[e[0],t.substring(e[0].length)]}var qw,G$,H$,gg,Gw,W$,K$,Q$,KP=["times"];function Y$(t,e,n,r,i){var o=4,s=J$;switch(i){case Et.API.image_compression.FAST:o=1,s=Z$;break;case Et.API.image_compression.MEDIUM:o=6,s=X$;break;case Et.API.image_compression.SLOW:o=9,s=eq}var a=_v(t=function(u,l,c,d){for(var g,p=u.length/l,b=new Uint8Array(u.length+p),w=[h1e,Z$,J$,X$,eq],E=0;E<p;E+=1){var A=E*l,R=u.subarray(A,A+l);if(d)b.set(d(R,c,g),A+E);else{for(var V=w.length,O=[],Z=0;Z<V;Z+=1)O[Z]=w[Z](R,c,g);var ie=p1e(O.concat());b.set(O[ie],A+E)}g=R}return b}(t,e,Math.ceil(n*r/8),s),{level:o});return Et.API.__addimage__.arrayBufferToBinaryString(a)}function h1e(t){var e=Array.apply([],t);return e.unshift(0),e}function Z$(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1)r[i+1]=t[i]-(t[i-e]||0)+256&255;return r}function J$(t,e,n){var r=t.length,i=[];i[0]=2;for(var o=0;o<r;o+=1)i[o+1]=t[o]-(n&&n[o]||0)+256&255;return i}function X$(t,e,n){var r=t.length,i=[];i[0]=3;for(var o=0;o<r;o+=1)i[o+1]=t[o]+256-((t[o-e]||0)+(n&&n[o]||0)>>>1)&255;return i}function eq(t,e,n){var r=t.length,i=[];i[0]=4;for(var o=0;o<r;o+=1){var s=f1e(t[o-e]||0,n&&n[o]||0,n&&n[o-e]||0);i[o+1]=t[o]-s+256&255}return i}function f1e(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),o=Math.abs(t+e-n-n);return r<=i&&r<=o?t:i<=o?e:n}function p1e(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function QP(t,e,n){var r=e*n,i=Math.floor(r/8),o=16-(r-8*i+n),s=(1<<n)-1;return nq(t,i)>>o&s}function tq(t,e,n,r){var l,c,d,i=n*r,o=Math.floor(i/8),s=16-(i-8*o+r),a=(1<<r)-1,u=(e&a)<<s;l=t,c=o,d=nq(t,o)&~(a<<s)&65535|u,c+1<l.byteLength?l.setUint16(c,d,!1):l.setUint8(c,d>>8&255)}function nq(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function g1e(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=1<<1+(7&i);e++,e++;var a=null,u=null;i>>7&&(a=e,u=s,e+=3*s);var l=!0,c=[],d=0,g=null,p=0,b=null;for(this.width=n,this.height=r;l&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(0===C)break;e+=C}break;case 249:if(4!==t[e++]||0!==t[e+4])throw new Error("Invalid graphics extension block.");var w=t[e++];d=t[e++]|t[e++]<<8,g=t[e++],1&w||(g=null),p=w>>2&7,e++;break;case 254:for(;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(0===C)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var E=t[e++]|t[e++]<<8,A=t[e++]|t[e++]<<8,R=t[e++]|t[e++]<<8,V=t[e++]|t[e++]<<8,O=t[e++],Z=O>>6&1,ie=1<<1+(7&O),B=a,D=u,S=!1;O>>7&&(S=!0,B=e,D=ie,e+=3*ie);var L=e;for(e++;;){var C;if(!((C=t[e++])>=0))throw Error("Invalid block size");if(0===C)break;e+=C}c.push({x:E,y:A,width:R,height:V,has_local_palette:S,palette_offset:B,palette_size:D,data_offset:L,data_length:e-L,transparent_index:g,interlaced:!!Z,delay:d,disposal:p});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return b},this.frameInfo=function(x){if(x<0||x>=c.length)throw new Error("Frame index out of range.");return c[x]},this.decodeAndBlitFrameBGRA=function(x,P){var X=this.frameInfo(x),ge=X.width*X.height,Ee=new Uint8Array(ge);rq(t,X.data_offset,Ee,ge);var Ie=X.palette_offset,pe=X.transparent_index;null===pe&&(pe=256);var Ae=X.width,Ge=n-Ae,ke=Ae,F=4*(X.y*n+X.x),q=4*((X.y+X.height)*n+X.x),J=F,te=4*Ge;!0===X.interlaced&&(te+=4*n*7);for(var se=8,de=0,ve=Ee.length;de<ve;++de){var we=Ee[de];if(0===ke&&(ke=Ae,(J+=te)>=q&&(te=4*Ge+4*n*(se-1),J=F+(Ae+Ge)*(se<<1),se>>=1)),we===pe)J+=4;else{var De=t[Ie+3*we],Te=t[Ie+3*we+1];P[J++]=t[Ie+3*we+2],P[J++]=Te,P[J++]=De,P[J++]=255}--ke}},this.decodeAndBlitFrameRGBA=function(x,P){var X=this.frameInfo(x),ge=X.width*X.height,Ee=new Uint8Array(ge);rq(t,X.data_offset,Ee,ge);var Ie=X.palette_offset,pe=X.transparent_index;null===pe&&(pe=256);var Ae=X.width,Ge=n-Ae,ke=Ae,F=4*(X.y*n+X.x),q=4*((X.y+X.height)*n+X.x),J=F,te=4*Ge;!0===X.interlaced&&(te+=4*n*7);for(var se=8,de=0,ve=Ee.length;de<ve;++de){var we=Ee[de];if(0===ke&&(ke=Ae,(J+=te)>=q&&(te=4*Ge+4*n*(se-1),J=F+(Ae+Ge)*(se<<1),se>>=1)),we===pe)J+=4;else{var Te=t[Ie+3*we+1],Qe=t[Ie+3*we+2];P[J++]=t[Ie+3*we],P[J++]=Te,P[J++]=Qe,P[J++]=255}--ke}}}function rq(t,e,n,r){for(var i=t[e++],o=1<<i,s=o+1,a=s+1,u=i+1,l=(1<<u)-1,c=0,d=0,g=0,p=t[e++],b=new Int32Array(4096),w=null;;){for(;c<16&&0!==p;)d|=t[e++]<<c,c+=8,1===p?p=t[e++]:--p;if(c<u)break;var E=d&l;if(d>>=u,c-=u,E!==o){if(E===s)break;for(var A=E<a?E:w,R=0,V=A;V>o;)V=b[V]>>8,++R;var O=V;if(g+R+(A!==E?1:0)>r)return void sr.log("Warning, gif stream longer than expected.");n[g++]=O;var Z=g+=R;for(A!==E&&(n[g++]=O),V=A;R--;)n[--Z]=255&(V=b[V]),V>>=8;null!==w&&a<4096&&(b[a++]=w<<8|O,a>=l+1&&u<12&&(++u,l=l<<1|1)),w=E}else a=s+1,l=(1<<(u=i+1))-1,w=null}return g!==r&&sr.log("Warning, gif stream shorter than expected."),n}function YP(t){var e,n,r,i,o,s=Math.floor,a=new Array(64),u=new Array(64),l=new Array(64),c=new Array(64),d=new Array(65535),g=new Array(65535),p=new Array(64),b=new Array(64),w=[],E=0,A=7,R=new Array(64),V=new Array(64),O=new Array(64),Z=new Array(256),ie=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],x=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ge=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ee(F,q){for(var J=0,te=0,se=new Array,de=1;de<=16;de++){for(var ve=1;ve<=F[de];ve++)se[q[te]]=[],se[q[te]][0]=J,se[q[te]][1]=de,te++,J++;J*=2}return se}function Ie(F){for(var q=F[0],J=F[1]-1;J>=0;)q&1<<J&&(E|=1<<A),J--,--A<0&&(255==E?(pe(255),pe(0)):pe(E),A=7,E=0)}function pe(F){w.push(F)}function Ae(F){pe(F>>8&255),pe(255&F)}function Ge(F,q,J,te,se){for(var de,ve=se[0],we=se[240],De=function($e,ht){var Je,Bt,wt,on,Pt,kt,Ht,mt,dt,Nt,_t=0;for(dt=0;dt<8;++dt){var Mn=(Je=$e[_t])+(mt=$e[_t+7]),ln=Je-mt,He=(Bt=$e[_t+1])+(Ht=$e[_t+6]),At=Bt-Ht,Wt=(wt=$e[_t+2])+(kt=$e[_t+5]),Ct=wt-kt,Xt=(on=$e[_t+3])+(Pt=$e[_t+4]),vt=on-Pt,Ln=Mn+Xt,Er=Mn-Xt,yn=He+Wt,Rt=He-Wt;$e[_t]=Ln+yn,$e[_t+4]=Ln-yn;var fn=.707106781*(Rt+Er);$e[_t+2]=Er+fn,$e[_t+6]=Er-fn;var ro=.382683433*((Ln=vt+Ct)-(Rt=At+ln)),Wr=.5411961*Ln+ro,Ao=1.306562965*Rt+ro,ji=.707106781*(yn=Ct+At),Dt=ln+ji,ha=ln-ji;$e[_t+5]=ha+Wr,$e[_t+3]=ha-Wr,$e[_t+1]=Dt+Ao,$e[_t+7]=Dt-Ao,_t+=8}for(_t=0,dt=0;dt<8;++dt){var Ar=(Je=$e[_t])+(mt=$e[_t+56]),qo=Je-mt,zi=(Bt=$e[_t+8])+(Ht=$e[_t+48]),Zn=Bt-Ht,yi=(wt=$e[_t+16])+(kt=$e[_t+40]),Ti=wt-kt,fs=(on=$e[_t+24])+(Pt=$e[_t+32]),Su=on-Pt,Ls=Ar+fs,Go=Ar-fs,ps=zi+yi,Ho=zi-yi;$e[_t]=Ls+ps,$e[_t+32]=Ls-ps;var io=.707106781*(Ho+Go);$e[_t+16]=Go+io,$e[_t+48]=Go-io;var Co=.382683433*((Ls=Su+Ti)-(Ho=Zn+qo)),Fs=.5411961*Ls+Co,Du=1.306562965*Ho+Co,xu=.707106781*(ps=Ti+Zn),Pu=qo+xu,Sl=qo-xu;$e[_t+40]=Sl+Fs,$e[_t+24]=Sl-Fs,$e[_t+8]=Pu+Du,$e[_t+56]=Pu-Du,_t++}for(dt=0;dt<64;++dt)p[dt]=(Nt=$e[dt]*ht[dt])>0?Nt+.5|0:Nt-.5|0;return p}(F,q),Te=0;Te<64;++Te)b[B[Te]]=De[Te];var Qe=b[0]-J;J=b[0],0==Qe?Ie(te[0]):(Ie(te[g[de=32767+Qe]]),Ie(d[de]));for(var Ke=63;Ke>0&&0==b[Ke];)Ke--;if(0==Ke)return Ie(ve),J;for(var Ce,Y=1;Y<=Ke;){for(var rn=Y;0==b[Y]&&Y<=Ke;)++Y;var Ut=Y-rn;if(Ut>=16){Ce=Ut>>4;for(var St=1;St<=Ce;++St)Ie(we);Ut&=15}Ie(se[(Ut<<4)+g[de=32767+b[Y]]]),Ie(d[de]),Y++}return 63!=Ke&&Ie(ve),J}function ke(F){F=Math.min(Math.max(F,1),100),o!=F&&(function(q){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var se=s((J[te]*q+50)/100);se=Math.min(Math.max(se,1),255),a[B[te]]=se}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var we=s((de[ve]*q+50)/100);we=Math.min(Math.max(we,1),255),u[B[ve]]=we}for(var De=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Te=0,Qe=0;Qe<8;Qe++)for(var Ke=0;Ke<8;Ke++)l[Te]=1/(a[B[Te]]*De[Qe]*De[Ke]*8),c[Te]=1/(u[B[Te]]*De[Qe]*De[Ke]*8),Te++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),o=F)}this.encode=function(F,q){var Bt,wt;q&&ke(q),w=new Array,E=0,A=7,Ae(65496),Ae(65504),Ae(16),pe(74),pe(70),pe(73),pe(70),pe(0),pe(1),pe(1),pe(0),Ae(1),Ae(1),pe(0),pe(0),function(){Ae(65499),Ae(132),pe(0);for(var Bt=0;Bt<64;Bt++)pe(a[Bt]);pe(1);for(var wt=0;wt<64;wt++)pe(u[wt])}(),Bt=F.width,wt=F.height,Ae(65472),Ae(17),pe(8),Ae(wt),Ae(Bt),pe(3),pe(1),pe(17),pe(0),pe(2),pe(17),pe(1),pe(3),pe(17),pe(1),function(){Ae(65476),Ae(418),pe(0);for(var Bt=0;Bt<16;Bt++)pe(D[Bt+1]);for(var wt=0;wt<=11;wt++)pe(S[wt]);pe(16);for(var on=0;on<16;on++)pe(L[on+1]);for(var Pt=0;Pt<=161;Pt++)pe(C[Pt]);pe(1);for(var kt=0;kt<16;kt++)pe(x[kt+1]);for(var Ht=0;Ht<=11;Ht++)pe(P[Ht]);pe(17);for(var mt=0;mt<16;mt++)pe(X[mt+1]);for(var dt=0;dt<=161;dt++)pe(ge[dt])}(),Ae(65498),Ae(12),pe(3),pe(1),pe(0),pe(2),pe(17),pe(3),pe(17),pe(0),pe(63),pe(0);var J=0,te=0,se=0;E=0,A=7,this.encode.displayName="_encode_";for(var de,ve,we,De,Te,Qe,Ke,Ce,Y,rn=F.data,St=F.height,$e=4*F.width,ht=0;ht<St;){for(de=0;de<$e;){for(Te=$e*ht+de,Ke=-1,Ce=0,Y=0;Y<64;Y++)Qe=Te+(Ce=Y>>3)*$e+(Ke=4*(7&Y)),ht+Ce>=St&&(Qe-=$e*(ht+1+Ce-St)),de+Ke>=$e&&(Qe-=de+Ke-$e+4),ve=rn[Qe++],we=rn[Qe++],De=rn[Qe++],R[Y]=(ie[ve]+ie[we+256|0]+ie[De+512|0]>>16)-128,V[Y]=(ie[ve+768|0]+ie[we+1024|0]+ie[De+1280|0]>>16)-128,O[Y]=(ie[ve+1280|0]+ie[we+1536|0]+ie[De+1792|0]>>16)-128;J=Ge(R,l,J,e,r),te=Ge(V,c,te,n,i),se=Ge(O,c,se,n,i),de+=32}ht+=8}if(A>=0){var Je=[];Je[1]=A+1,Je[0]=(1<<A+1)-1,Ie(Je)}return Ae(65497),new Uint8Array(w)},t=t||50,function(){for(var F=String.fromCharCode,q=0;q<256;q++)Z[q]=F(q)}(),e=Ee(D,S),n=Ee(x,P),r=Ee(L,C),i=Ee(X,ge),function(){for(var F=1,q=2,J=1;J<=15;J++){for(var te=F;te<q;te++)g[32767+te]=J,d[32767+te]=[],d[32767+te][1]=J,d[32767+te][0]=te;for(var se=-(q-1);se<=-F;se++)g[32767+se]=J,d[32767+se]=[],d[32767+se][1]=J,d[32767+se][0]=q-1+se;F<<=1,q<<=1}}(),function(){for(var F=0;F<256;F++)ie[F]=19595*F,ie[F+256|0]=38470*F,ie[F+512|0]=7471*F+32768,ie[F+768|0]=-11059*F,ie[F+1024|0]=-21709*F,ie[F+1280|0]=32768*F+8421375,ie[F+1536|0]=-27439*F,ie[F+1792|0]=-5329*F}(),ke(t)}function Fa(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function iq(t){function e(S){if(!S)throw Error("assert :P")}function n(S,L,C){for(var x=0;4>x;x++)if(S[L+x]!=C.charCodeAt(x))return!0;return!1}function r(S,L,C,x,P){for(var X=0;X<P;X++)S[L+X]=C[x+X]}function i(S,L,C,x){for(var P=0;P<x;P++)S[L+P]=C}function o(S){return new Int32Array(S)}function s(S,L){for(var C=[],x=0;x<S;x++)C.push(new L);return C}function a(S,L){var C=[];return function x(P,X,ge){for(var Ee=ge[X],Ie=0;Ie<Ee&&(P.push(ge.length>X+1?[]:new L),!(ge.length<X+1));Ie++)x(P[Ie],X+1,ge)}(C,0,S),C}var u=function(){var S=this;function L(h,m){for(var v=1<<m-1>>>0;h&v;)v>>>=1;return v?(h&v-1)+v:h}function C(h,m,v,I,M){e(!(I%v));do{h[m+(I-=v)]=M}while(0<I)}function x(h,m,v,I,M){if(e(2328>=M),512>=M)var k=o(512);else if(null==(k=o(M)))return 0;return function(U,z,$,W,re,_e){var K,oe,he=z,Se=1<<$,me=o(16),Pe=o(16);for(e(0!=re),e(null!=W),e(null!=U),e(0<$),oe=0;oe<re;++oe){if(15<W[oe])return 0;++me[W[oe]]}if(me[0]==re)return 0;for(Pe[1]=0,K=1;15>K;++K){if(me[K]>1<<K)return 0;Pe[K+1]=Pe[K]+me[K]}for(oe=0;oe<re;++oe)K=W[oe],0<W[oe]&&(_e[Pe[K]++]=oe);if(1==Pe[15])return(W=new P).g=0,W.value=_e[0],C(U,he,1,Se,W),Se;var Ne,qe=-1,Ve=Se-1,Tt=0,at=1,sn=1,ft=1<<$;for(oe=0,K=1,re=2;K<=$;++K,re<<=1){if(at+=sn<<=1,0>(sn-=me[K]))return 0;for(;0<me[K];--me[K])(W=new P).g=K,W.value=_e[oe++],C(U,he+Tt,re,ft,W),Tt=L(Tt,K)}for(K=$+1,re=2;15>=K;++K,re<<=1){if(at+=sn<<=1,0>(sn-=me[K]))return 0;for(;0<me[K];--me[K]){if(W=new P,(Tt&Ve)!=qe){for(he+=ft,Ne=1<<(qe=K)-$;15>qe&&!(0>=(Ne-=me[qe]));)++qe,Ne<<=1;Se+=ft=1<<(Ne=qe-$),U[z+(qe=Tt&Ve)].g=Ne+$,U[z+qe].value=he-z-qe}W.g=K-$,W.value=_e[oe++],C(U,he+(Tt>>$),re,ft,W),Tt=L(Tt,K)}}return at!=2*Pe[15]-1?0:Se}(h,m,v,I,M,k)}function P(){this.value=this.g=0}function X(){this.value=this.g=0}function ge(){this.G=s(5,P),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Uh,X)}function Ee(h,m,v,I){e(null!=h),e(null!=m),e(2147483648>I),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=m,h.pa=v,h.Jd=m,h.Yc=v+I,h.Zc=4<=I?v+I-4+1:v,ve(h)}function Ie(h,m){for(var v=0;0<m--;)v|=De(h,128)<<m;return v}function pe(h,m){var v=Ie(h,m);return we(h)?-v:v}function Ae(h,m,v,I){var M,k=0;for(e(null!=h),e(null!=m),e(4294967288>I),h.Sb=I,h.Ra=0,h.u=0,h.h=0,4<I&&(I=4),M=0;M<I;++M)k+=m[v+M]<<8*M;h.Ra=k,h.bb=I,h.oa=m,h.pa=v}function Ge(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Xc-8>>>0,++h.bb,h.u-=8;te(h)&&(h.h=1,h.u=0)}function ke(h,m){if(e(0<=m),!h.h&&m<=zs){var v=J(h)&js[m];return h.u+=m,Ge(h),v}return h.h=1,h.u=0}function F(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(h){return h.Ra>>>(h.u&Xc-1)>>>0}function te(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Xc}function se(h,m){h.u=m,h.h=te(h)}function de(h){h.u>=zl&&(e(h.u>=zl),Ge(h))}function ve(h){e(null!=h&&null!=h.oa),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(null!=h&&null!=h.oa),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function we(h){return Ie(h,1)}function De(h,m){var v=h.Ca;0>h.b&&ve(h);var I=h.b,M=v*m>>>8,k=(h.I>>>I>M)+0;for(k?(v-=M,h.I-=M+1<<I>>>0):v=M+1,I=v,M=0;256<=I;)M+=8,I>>=8;return h.b-=I=7^M+ed[I],h.Ca=(v<<I)-1,k}function Te(h,m,v){h[m+0]=v>>24&255,h[m+1]=v>>16&255,h[m+2]=v>>8&255,h[m+3]=255&v}function Qe(h,m){return h[m+0]|h[m+1]<<8}function Ke(h,m){return Qe(h,m)|h[m+2]<<16}function Ce(h,m){return Qe(h,m)|Qe(h,m+2)<<16}function Y(h,m){var v=1<<m;return e(null!=h),e(0<m),h.X=o(v),null==h.X?0:(h.Mb=32-m,h.Xa=m,1)}function rn(h,m){e(null!=h),e(null!=m),e(h.Xa==m.Xa),r(m.X,0,h.X,0,1<<m.Xa)}function Ut(){this.X=[],this.Xa=this.Mb=0}function St(h,m,v,I){e(null!=v),e(null!=I);var M=v[0],k=I[0];return 0==M&&(M=(h*k+m/2)/m),0==k&&(k=(m*M+h/2)/h),0>=M||0>=k?0:(v[0]=M,I[0]=k,1)}function $e(h,m){return h+(1<<m)-1>>>m}function ht(h,m){return((4278255360&h)+(4278255360&m)>>>0&4278255360)+((16711935&h)+(16711935&m)>>>0&16711935)>>>0}function Je(h,m){S[m]=function(v,I,M,k,U,z,$){var W;for(W=0;W<U;++W){var re=S[h](z[$+W-1],M,k+W);z[$+W]=ht(v[I+W],re)}}}function Bt(){this.ud=this.hd=this.jd=0}function wt(h,m){return((4278124286&(h^m))>>>1)+(h&m)>>>0}function on(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function Pt(h,m){return on(h+(h-m+.5>>1))}function kt(h,m,v){return Math.abs(m-v)-Math.abs(h-v)}function Ht(h,m,v,I,M,k,U){for(I=k[U-1],v=0;v<M;++v)k[U+v]=I=ht(h[m+v],I)}function mt(h,m,v,I,M){var k;for(k=0;k<v;++k){var U=h[m+k],z=U>>8&255,$=16711935&($=($=16711935&U)+((z<<16)+z));I[M+k]=(4278255360&U)+$>>>0}}function dt(h,m){m.jd=255&h,m.hd=h>>8&255,m.ud=h>>16&255}function Nt(h,m,v,I,M,k){var U;for(U=0;U<I;++U){var z=m[v+U],$=z>>>8,W=z,re=255&(re=(re=z>>>16)+((h.jd<<24>>24)*($<<24>>24)>>>5));W=255&(W=(W+=(h.hd<<24>>24)*($<<24>>24)>>>5)+((h.ud<<24>>24)*(re<<24>>24)>>>5)),M[k+U]=(4278255360&z)+(re<<16)+W}}function _t(h,m,v,I,M){S[m]=function(k,U,z,$,W,re,_e,K,oe){for($=_e;$<K;++$)for(_e=0;_e<oe;++_e)W[re++]=M(z[I(k[U++])])},S[h]=function(k,U,z,$,W,re,_e){var K=8>>k.b,oe=k.Ea,he=k.K[0],Se=k.w;if(8>K)for(k=(1<<k.b)-1,Se=(1<<K)-1;U<z;++U){var me,Pe=0;for(me=0;me<oe;++me)me&k||(Pe=I($[W++])),re[_e++]=M(he[Pe&Se]),Pe>>=K}else S["VP8LMapColor"+v]($,W,he,Se,re,_e,U,z,oe)}}function Mn(h,m,v,I,M){for(v=m+v;m<v;){var k=h[m++];I[M++]=k>>16&255,I[M++]=k>>8&255,I[M++]=255&k}}function ln(h,m,v,I,M){for(v=m+v;m<v;){var k=h[m++];I[M++]=k>>16&255,I[M++]=k>>8&255,I[M++]=255&k,I[M++]=k>>24&255}}function He(h,m,v,I,M){for(v=m+v;m<v;){var k=(U=h[m++])>>16&240|U>>12&15,U=240&U|U>>28&15;I[M++]=k,I[M++]=U}}function At(h,m,v,I,M){for(v=m+v;m<v;){var k=(U=h[m++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;I[M++]=k,I[M++]=U}}function Wt(h,m,v,I,M){for(v=m+v;m<v;){var k=h[m++];I[M++]=255&k,I[M++]=k>>8&255,I[M++]=k>>16&255}}function Ct(h,m,v,I,M,k){if(0==k)for(v=m+v;m<v;)Te(I,((k=h[m++])[0]>>24|k[1]>>8&65280|k[2]<<8&16711680|k[3]<<24)>>>0),M+=32;else r(I,M,h,m,v)}function Xt(h,m){S[m][0]=S[h+"0"],S[m][1]=S[h+"1"],S[m][2]=S[h+"2"],S[m][3]=S[h+"3"],S[m][4]=S[h+"4"],S[m][5]=S[h+"5"],S[m][6]=S[h+"6"],S[m][7]=S[h+"7"],S[m][8]=S[h+"8"],S[m][9]=S[h+"9"],S[m][10]=S[h+"10"],S[m][11]=S[h+"11"],S[m][12]=S[h+"12"],S[m][13]=S[h+"13"],S[m][14]=S[h+"0"],S[m][15]=S[h+"0"]}function vt(h){return h==tN||h==nN||h==t2||h==rN}function Ln(){this.eb=[],this.size=this.A=this.fb=0}function Er(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function yn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ln,this.f.kb=new Er,this.sd=null}function Rt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function fn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ro(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Wr(h,m){var v=h.T,I=m.ba.f.RGBA,M=I.eb,k=I.fb+h.ka*I.A,U=Ia[m.ba.S],z=h.y,$=h.O,W=h.f,re=h.N,_e=h.ea,K=h.W,oe=m.cc,he=m.dc,Se=m.Mc,me=m.Nc,Pe=h.ka,Ne=h.ka+h.T,qe=h.U,Ve=qe+1>>1;for(0==Pe?U(z,$,null,null,W,re,_e,K,W,re,_e,K,M,k,null,null,qe):(U(m.ec,m.fc,z,$,oe,he,Se,me,W,re,_e,K,M,k-I.A,M,k,qe),++v);Pe+2<Ne;Pe+=2)U(z,($+=2*h.fa)-h.fa,z,$,oe=W,he=re,Se=_e,me=K,W,re+=h.Rc,_e,K+=h.Rc,M,(k+=2*I.A)-I.A,M,k,qe);return $+=h.fa,h.j+Ne<h.o?(r(m.ec,m.fc,z,$,qe),r(m.cc,m.dc,W,re,Ve),r(m.Mc,m.Nc,_e,K,Ve),v--):1&Ne||U(z,$,null,null,W,re,_e,K,W,re,_e,K,M,k+I.A,null,null,qe),v}function Ao(h,m,v){var I=h.F,M=[h.J];if(null!=I){var k=h.U,U=m.ba.S,z=U==e2||U==t2;m=m.ba.f.RGBA;var $=[0],W=h.ka;$[0]=h.T,h.Kb&&(0==W?--$[0]:(--W,M[0]-=h.width),h.j+h.ka+h.T==h.o&&($[0]=h.o-h.j-W));var re=m.eb;h=Eq(I,M[0],h.width,k,$,re,(W=m.fb+W*m.A)+(z?0:3),m.A),e(v==$),h&&vt(U)&&Xv(re,W,z,k,$,m.A)}return 0}function ji(h){var m=h.ma,v=m.ba.S,I=11>v,M=v==Jw||v==Xw||v==e2||v==eN||12==v||vt(v);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!jl(m.Oa,h,M?11:12))return 0;if(M&&vt(v)&&Vh(),h.da)alert("todo:use_scaling");else{if(I){if(m.Ib=ro,h.Kb){if(m.memory=o(h.U+2*(v=h.U+1>>1)),null==m.memory)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+h.U,m.Mc=m.cc,m.Nc=m.dc+v,m.Ib=Wr,Vh()}}else alert("todo:EmitYUV");M&&(m.Jb=Ao,I&&oo())}if(I&&!Bq){for(h=0;256>h;++h)nwe[h]=89858*(h-128)+r2>>n2,owe[h]=-22014*(h-128)+r2,iwe[h]=-45773*(h-128),rwe[h]=113618*(h-128)+r2>>n2;for(h=ty;h<sN;++h)swe[h-ty]=xt(m=76283*(h-16)+r2>>n2,255),awe[h-ty]=xt(m+8>>4,15);Bq=1}return 1}function Dt(h){var m=h.ma,v=h.U,I=h.T;return e(!(1&h.ka)),0>=v||0>=I?0:(v=m.Ib(h,m),null!=m.Jb&&m.Jb(h,m,v),m.Dc+=v,1)}function ha(h){h.ma.memory=null}function Ar(h,m,v,I){return 47!=ke(h,8)?0:(m[0]=ke(h,14)+1,v[0]=ke(h,14)+1,I[0]=ke(h,1),0!=ke(h,3)?0:!h.h)}function qo(h,m){if(4>h)return h+1;var v=h-2>>1;return(2+(1&h)<<v)+ke(m,v)+1}function zi(h,m){return 120<m?m-120:1<=(v=((v=zbe[m-1])>>4)*h+(8-(15&v)))?v:1;var v}function Zn(h,m,v){var I=J(v),M=h[m+=255&I].g-8;return 0<M&&(se(v,v.u+8),I=J(v),m+=h[m].value,m+=I&(1<<M)-1),se(v,v.u+h[m].g),h[m].value}function yi(h,m,v){return v.g+=h.g,v.value+=h.value<<m>>>0,e(8>=v.g),h.g}function Ti(h,m,v){var I=h.xc;return e((m=0==I?0:h.vc[h.md*(v>>I)+(m>>I)])<h.Wb),h.Ya[m]}function fs(h,m,v,I){var M=h.ab,k=h.c*m,U=h.C;m=U+m;var z=v,$=I;for(I=h.Ta,v=h.Ua;0<M--;){var W=h.gc[M],re=U,_e=m,K=z,oe=$,he=($=I,z=v,W.Ea);switch(e(re<_e),e(_e<=W.nc),W.hc){case 2:li(K,oe,(_e-re)*he,$,z);break;case 0:var Se=re,me=_e,Pe=$,Ne=z,qe=(ft=W).Ea;0==Se&&(Wv(K,oe,null,null,1,Pe,Ne),Ht(K,oe+1,0,0,qe-1,Pe,Ne+1),oe+=qe,Ne+=qe,++Se);for(var Ve=1<<ft.b,Tt=Ve-1,at=$e(qe,ft.b),sn=ft.K,ft=ft.w+(Se>>ft.b)*at;Se<me;){var bn=sn,Di=ft,an=1;for(wg(K,oe,Pe,Ne-qe,1,Pe,Ne);an<qe;){var pt=(an&~Tt)+Ve;pt>qe&&(pt=qe),(0,Qv[bn[Di++]>>8&15])(K,oe+ +an,Pe,Ne+an-qe,pt-an,Pe,Ne+an),an=pt}oe+=qe,Ne+=qe,++Se&Tt||(ft+=at)}_e!=W.nc&&r($,z-he,$,z+(_e-re-1)*he,he);break;case 1:for(he=K,me=oe,qe=(K=W.Ea)-(Ne=K&~(Pe=(oe=1<<W.b)-1)),Se=$e(K,W.b),Ve=W.K,W=W.w+(re>>W.b)*Se;re<_e;){for(Tt=Ve,at=W,sn=new Bt,ft=me+Ne,bn=me+K;me<ft;)dt(Tt[at++],sn),Yv(sn,he,me,oe,$,z),me+=oe,z+=oe;me<bn&&(dt(Tt[at++],sn),Yv(sn,he,me,qe,$,z),me+=qe,z+=qe),++re&Pe||(W+=Se)}break;case 3:if(K==$&&oe==z&&0<W.b){for(me=$,K=he=z+(_e-re)*he-(Ne=(_e-re)*$e(W.Ea,W.b)),oe=$,Pe=z,Se=[],Ne=(qe=Ne)-1;0<=Ne;--Ne)Se[Ne]=oe[Pe+Ne];for(Ne=qe-1;0<=Ne;--Ne)me[K+Ne]=Se[Ne];Kw(W,re,_e,$,he,$,z)}else Kw(W,re,_e,K,oe,$,z)}z=I,$=v}$!=v&&r(I,v,z,$,k)}function Su(h,m){var v=h.V,I=h.Ba+h.c*h.C,M=m-h.C;if(e(m<=h.l.o),e(16>=M),0<M){var k=h.l,U=h.Ta,z=h.Ua,$=k.width;if(fs(h,M,v,I),M=z=[z],e((v=h.C)<(I=m)),e(k.v<k.va),I>k.o&&(I=k.o),v<k.j){var W=k.j-v;v=k.j,M[0]+=W*$}if(v>=I?v=0:(M[0]+=4*k.v,k.ka=v-k.j,k.U=k.va-k.v,k.T=I-v,v=1),v){if(z=z[0],11>(v=h.ca).S){var re=v.f.RGBA,_e=(I=v.S,M=k.U,k=k.T,W=re.eb,re.A),K=k;for(re=re.fb+h.Ma*re.A;0<K--;){var oe=U,he=z,Se=M,me=W,Pe=re;switch(I){case Zw:Zv(oe,he,Se,me,Pe);break;case Jw:td(oe,he,Se,me,Pe);break;case tN:td(oe,he,Se,me,Pe),Xv(me,Pe,0,Se,1,0);break;case Pq:Bh(oe,he,Se,me,Pe);break;case Xw:Ct(oe,he,Se,me,Pe,1);break;case nN:Ct(oe,he,Se,me,Pe,1),Xv(me,Pe,0,Se,1,0);break;case e2:Ct(oe,he,Se,me,Pe,0);break;case t2:Ct(oe,he,Se,me,Pe,0),Xv(me,Pe,1,Se,1,0);break;case eN:nd(oe,he,Se,me,Pe);break;case rN:nd(oe,he,Se,me,Pe),Iq(me,Pe,Se,1,0);break;case Nq:rd(oe,he,Se,me,Pe);break;default:e(0)}z+=$,re+=_e}h.Ma+=k}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=v.height)}}h.C=m,e(h.C<=h.i)}function Ls(h){var m;if(0<h.ua)return 0;for(m=0;m<h.Wb;++m){var v=h.Ya[m].G,I=h.Ya[m].H;if(0<v[1][I[1]+0].g||0<v[2][I[2]+0].g||0<v[3][I[3]+0].g)return 0}return 1}function Go(h,m,v,I,M,k){if(0!=h.Z){var U=h.qd,z=h.rd;for(e(null!=sd[h.Z]);m<v;++m)sd[h.Z](U,z,I,M,I,M,k),U=I,z=M,M+=k;h.qd=U,h.rd=z}}function ps(h,m){var v=h.l.ma,I=0==v.Z||1==v.Z?h.l.j:h.C;if(I=h.C<I?I:h.C,e(m<=h.l.o),m>I){var M=h.l.width,k=v.ca,U=v.tb+M*I,z=h.V,$=h.Ba+h.c*I,W=h.gc;e(1==h.ab),e(3==W[0].hc),Vu(W[0],I,m,z,$,k,U),Go(v,I,m,k,U,M)}h.C=h.Ma=m}function Ho(h,m,v,I,M,k,U){var z=h.$/I,$=h.$%I,W=h.m,re=h.s,_e=v+h.$,K=_e;M=v+I*M;var oe=v+I*k,he=280+re.ua,Se=h.Pb?z:16777216,me=0<re.ua?re.Wa:null,Pe=re.wc,Ne=_e<oe?Ti(re,$,z):null;e(h.C<k),e(oe<=M);var qe=!1;e:for(;;){for(;qe||_e<oe;){var Ve=0;if(z>=Se){var Tt=_e-v;e((Se=h).Pb),Se.wd=Se.m,Se.xd=Tt,0<Se.s.ua&&rn(Se.s.Wa,Se.s.vb),Se=z+qbe}if($&Pe||(Ne=Ti(re,$,z)),e(null!=Ne),Ne.Qb&&(m[_e]=Ne.qb,qe=!0),!qe)if(de(W),Ne.jc){Tt=m;var at=_e,sn=Ne.pd[J(Ve=W)&Uh-1];e(Ne.jc),256>sn.g?(se(Ve,Ve.u+sn.g),Tt[at]=sn.value,Ve=0):(se(Ve,Ve.u+sn.g-256),e(256<=sn.value),Ve=sn.value),0==Ve&&(qe=!0)}else Ve=Zn(Ne.G[0],Ne.H[0],W);if(W.h)break;if(qe||256>Ve){if(!qe)if(Ne.nd)m[_e]=(Ne.qb|Ve<<8)>>>0;else{if(de(W),qe=Zn(Ne.G[1],Ne.H[1],W),de(W),Tt=Zn(Ne.G[2],Ne.H[2],W),at=Zn(Ne.G[3],Ne.H[3],W),W.h)break;m[_e]=(at<<24|qe<<16|Ve<<8|Tt)>>>0}if(qe=!1,++_e,++$>=I&&($=0,++z,null!=U&&z<=k&&!(z%16)&&U(h,z),null!=me))for(;K<_e;)Ve=m[K++],me.X[(506832829*Ve&4294967295)>>>me.Mb]=Ve}else if(280>Ve){if(Ve=qo(Ve-256,W),Tt=Zn(Ne.G[4],Ne.H[4],W),de(W),Tt=zi(I,Tt=qo(Tt,W)),W.h)break;if(_e-v<Tt||M-_e<Ve)break e;for(at=0;at<Ve;++at)m[_e+at]=m[_e+at-Tt];for(_e+=Ve,$+=Ve;$>=I;)$-=I,++z,null!=U&&z<=k&&!(z%16)&&U(h,z);if(e(_e<=M),$&Pe&&(Ne=Ti(re,$,z)),null!=me)for(;K<_e;)Ve=m[K++],me.X[(506832829*Ve&4294967295)>>>me.Mb]=Ve}else{if(!(Ve<he))break e;for(qe=Ve-280,e(null!=me);K<_e;)Ve=m[K++],me.X[(506832829*Ve&4294967295)>>>me.Mb]=Ve;Ve=_e,e(!(qe>>>(Tt=me).Xa)),m[Ve]=Tt.X[qe],qe=!0}qe||e(W.h==te(W))}if(h.Pb&&W.h&&_e<M)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&rn(h.s.vb,h.s.Wa);else{if(W.h)break e;U?.(h,z>k?k:z),h.a=0,h.$=_e-v}return 1}return h.a=3,0}function io(h){e(null!=h),h.vc=null,h.yc=null,h.Ya=null;var m=h.Wa;null!=m&&(m.X=null),h.vb=null,e(null!=h)}function Co(){var h=new ct;return null==h?null:(h.a=0,h.xb=kq,Xt("Predictor","VP8LPredictors"),Xt("Predictor","VP8LPredictors_C"),Xt("PredictorAdd","VP8LPredictorsAdd"),Xt("PredictorAdd","VP8LPredictorsAdd_C"),li=mt,Yv=Nt,Zv=Mn,td=ln,nd=He,rd=At,Bh=Wt,S.VP8LMapColor32b=Fu,S.VP8LMapColor8b=Kv,h)}function Fs(h,m,v,I,M){var k=1,U=[h],z=[m],$=I.m,W=I.s,re=null,_e=0;e:for(;;){if(v)for(;k&&ke($,1);){var K=U,oe=z,he=I,Se=1,me=he.m,Pe=he.gc[he.ab],Ne=ke(me,2);if(he.Oc&1<<Ne)k=0;else{switch(he.Oc|=1<<Ne,Pe.hc=Ne,Pe.Ea=K[0],Pe.nc=oe[0],Pe.K=[null],++he.ab,e(4>=he.ab),Ne){case 0:case 1:Pe.b=ke(me,3)+2,Se=Fs($e(Pe.Ea,Pe.b),$e(Pe.nc,Pe.b),0,he,Pe.K),Pe.K=Pe.K[0];break;case 3:var qe,Ve=ke(me,8)+1,Tt=16<Ve?0:4<Ve?1:2<Ve?2:3;if(K[0]=$e(Pe.Ea,Tt),Pe.b=Tt,qe=Se=Fs(Ve,1,0,he,Pe.K)){var at,sn=Ve,ft=Pe,bn=1<<(8>>ft.b),Di=o(bn);if(null==Di)qe=0;else{var an=ft.K[0],pt=ft.w;for(Di[0]=ft.K[0][0],at=1;at<1*sn;++at)Di[at]=ht(an[pt+at],Di[at-1]);for(;at<4*bn;++at)Di[at]=0;ft.K[0]=null,ft.K[0]=Di,qe=1}}Se=qe;break;case 2:break;default:e(0)}k=Se}}if(U=U[0],z=z[0],k&&ke($,1)&&!(k=1<=(_e=ke($,4))&&11>=_e)){I.a=3;break e}var Xe;if(Xe=k)t:{var di,en,Tn,Cr=I,so=U,Wo=z,Qr=_e,Do=v,Ko=Cr.m,xi=Cr.s,Dn=[null],Wn=1,Yr=0,Kn=$be[Qr];n:for(;;){if(Do&&ke(Ko,1)){var ao=ke(Ko,3)+2,Wa=$e(so,ao),hi=$e(Wo,ao),ys=Wa*hi;if(!Fs(Wa,hi,0,Cr,Dn))break n;for(Dn=Dn[0],xi.xc=ao,di=0;di<ys;++di){var ur=Dn[di]>>8&65535;Dn[di]=ur,ur>=Wn&&(Wn=ur+1)}}if(Ko.h)break n;for(en=0;5>en;++en){var Pi=Rq[en];!en&&0<Qr&&(Pi+=1<<Qr),Yr<Pi&&(Yr=Pi)}var qs=s(Wn*Kn,P),Qo=Wn,Gs=s(Qo,ge);if(null==Gs)var Hs=null;else e(65536>=Qo),Hs=Gs;var bs=o(Yr);if(null==Hs||null==bs||null==qs){Cr.a=1;break n}var Ws=qs;for(di=Tn=0;di<Wn;++di){var vr=Hs[di],Ks=vr.G,Ka=vr.H,zh=0,Gl=1,uo=0;for(en=0;5>en;++en){Pi=Rq[en],Ks[en]=Ws,Ka[en]=Tn,!en&&0<Qr&&(Pi+=1<<Qr);i:{var o2,aN=Pi,s2=Cr,ny=bs,cwe=Ws,dwe=Tn,uN=0,ad=s2.m,hwe=ke(ad,1);if(i(ny,0,0,aN),hwe){var fwe=ke(ad,1)+1,pwe=ke(ad,1),$q=ke(ad,0==pwe?1:8);ny[$q]=1,2==fwe&&(ny[$q=ke(ad,8)]=1);var a2=1}else{var qq=o(19),Gq=ke(ad,4)+4;if(19<Gq){s2.a=3;var u2=0;break i}for(o2=0;o2<Gq;++o2)qq[jbe[o2]]=ke(ad,3);var lN=void 0,ry=void 0,Hq=s2,gwe=qq,l2=aN,Wq=ny,cN=0,ud=Hq.m,Kq=8,Qq=s(128,P);r:for(;x(Qq,0,7,gwe,19);){if(ke(ud,1)){var mwe=2+2*ke(ud,3);if((lN=2+ke(ud,mwe))>l2)break r}else lN=l2;for(ry=0;ry<l2&&lN--;){de(ud);var Yq=Qq[0+(127&J(ud))];se(ud,ud.u+Yq.g);var Eg=Yq.value;if(16>Eg)Wq[ry++]=Eg,0!=Eg&&(Kq=Eg);else{var _we=16==Eg,Zq=Eg-16,vwe=Ube[Zq],Jq=ke(ud,Vbe[Zq])+vwe;if(ry+Jq>l2)break r;for(var ywe=_we?Kq:0;0<Jq--;)Wq[ry++]=ywe}}cN=1;break r}cN||(Hq.a=3),a2=cN}(a2=a2&&!ad.h)&&(uN=x(cwe,dwe,8,ny,aN)),a2&&0!=uN?u2=uN:(s2.a=3,u2=0)}if(0==u2)break n;if(Gl&&1==Bbe[en]&&(Gl=0==Ws[Tn].g),zh+=Ws[Tn].g,Tn+=u2,3>=en){var iy,dN=bs[0];for(iy=1;iy<Pi;++iy)bs[iy]>dN&&(dN=bs[iy]);uo+=dN}}if(vr.nd=Gl,vr.Qb=0,Gl&&(vr.qb=(Ks[3][Ka[3]+0].value<<24|Ks[1][Ka[1]+0].value<<16|Ks[2][Ka[2]+0].value)>>>0,0==zh&&256>Ks[0][Ka[0]+0].value&&(vr.Qb=1,vr.qb+=Ks[0][Ka[0]+0].value<<8)),vr.jc=!vr.Qb&&6>uo,vr.jc){var c2,Hl=vr;for(c2=0;c2<Uh;++c2){var ld=c2,cd=Hl.pd[ld],d2=Hl.G[0][Hl.H[0]+ld];256<=d2.value?(cd.g=d2.g+256,cd.value=d2.value):(cd.g=0,cd.value=0,ld>>=yi(d2,8,cd),ld>>=yi(Hl.G[1][Hl.H[1]+ld],16,cd),ld>>=yi(Hl.G[2][Hl.H[2]+ld],0,cd),yi(Hl.G[3][Hl.H[3]+ld],24,cd))}}}xi.vc=Dn,xi.Wb=Wn,xi.Ya=Hs,xi.yc=qs,Xe=1;break t}Xe=0}if(!(k=Xe)){I.a=3;break e}if(0<_e){if(W.ua=1<<_e,!Y(W.Wa,_e)){I.a=1,k=0;break e}}else W.ua=0;var hN=I,Xq=U,bwe=z,fN=hN.s,pN=fN.xc;if(hN.c=Xq,hN.i=bwe,fN.md=$e(Xq,pN),fN.wc=0==pN?-1:(1<<pN)-1,v){I.xb=Zbe;break e}if(null==(re=o(U*z))){I.a=1,k=0;break e}k=(k=Ho(I,re,0,U,z,z,null))&&!$.h;break e}return k?(null!=M?M[0]=re:(e(null==re),e(v)),I.$=0,v||io(W)):io(W),k}function Du(h,m){var v=h.c*h.i,I=v+m+16*m;return e(h.c<=m),h.V=o(I),null==h.V?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+v+m,1)}function xu(h,m){var v=h.C,I=m-v,M=h.V,k=h.Ba+h.c*v;for(e(m<=h.l.o);0<I;){var U=16<I?16:I,z=h.l.ma,$=h.l.width,W=$*U,re=z.ca,_e=z.tb+$*v,K=h.Ta,oe=h.Ua;fs(h,U,M,k),Aq(K,oe,re,_e,W),Go(z,v,v+U,re,_e,$),I-=U,M+=U*h.c,v+=U}e(v==m),h.C=h.Ma=m}function Pu(){this.ub=this.yd=this.td=this.Rb=0}function Sl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function mg(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Dh(){var h;this.Yb=(function m(v,I,M){for(var k=M[I],U=0;U<k&&(v.push(M.length>I+1?[]:0),!(M.length<I+1));U++)m(v[U],I+1,M)}(h=[],0,[3,11]),h)}function Dl(){this.jb=o(3),this.Wc=a([4,8],Dh),this.Xc=a([4,17],Dh)}function xh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function To(){this.ld=this.La=this.dd=this.tc=0}function Ua(){this.Na=this.la=0}function fa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xl(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function _g(){this.uc=this.M=this.Nb=0,this.wa=Array(new To),this.Y=0,this.ya=Array(new xl),this.aa=0,this.l=new Pl}function Ph(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Nh(){this.cb=this.a=0,this.sc="",this.m=new F,this.Od=new Pu,this.Kc=new Sl,this.ed=new xh,this.Qa=new mg,this.Ic=this.$c=this.Aa=0,this.D=new _g,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,F),this.ia=0,this.pb=s(4,fa),this.Pa=new Dl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ph),this.Hd=0,this.rb=Array(new Ua),this.sb=0,this.wa=Array(new To),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xl),this.L=this.aa=0,this.gd=a([4,2],To),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Pl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Rh(){var h=new Nh;return null!=h&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,ey||(ey=Ba)),h}function Mr(h,m,v){return 0==h.a&&(h.a=m,h.sc=v,h.cb=0),0}function Mh(h,m,v){return 3<=v&&157==h[m+0]&&1==h[m+1]&&42==h[m+2]}function kh(h,m){if(null==h)return 0;if(h.a=0,h.sc="OK",null==m)return Mr(h,2,"null VP8Io passed to VP8GetHeaders()");var v=m.data,I=m.w,M=m.ha;if(4>M)return Mr(h,7,"Truncated header.");var k=v[I+0]|v[I+1]<<8|v[I+2]<<16,U=h.Od;if(U.Rb=!(1&k),U.td=k>>1&7,U.yd=k>>4&1,U.ub=k>>5,3<U.td)return Mr(h,3,"Incorrect keyframe parameters.");if(!U.yd)return Mr(h,4,"Frame not displayable.");I+=3,M-=3;var z=h.Kc;if(U.Rb){if(7>M)return Mr(h,7,"cannot parse picture header");if(!Mh(v,I,M))return Mr(h,3,"Bad code word");z.c=16383&(v[I+4]<<8|v[I+3]),z.Td=v[I+4]>>6,z.i=16383&(v[I+6]<<8|v[I+5]),z.Ud=v[I+6]>>6,I+=7,M-=7,h.za=z.c+15>>4,h.Ub=z.i+15>>4,m.width=z.c,m.height=z.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,i((k=h.Pa).jb,0,255,k.jb.length),e(null!=(k=h.Qa)),k.Cb=0,k.Bb=0,k.Fb=1,i(k.Zb,0,0,k.Zb.length),i(k.Lb,0,0,k.Lb)}if(U.ub>M)return Mr(h,7,"bad partition length");Ee(k=h.m,v,I,U.ub),I+=U.ub,M-=U.ub,U.Rb&&(z.Ld=we(k),z.Kd=we(k)),z=h.Qa;var $,W=h.Pa;if(e(null!=k),e(null!=z),z.Cb=we(k),z.Cb){if(z.Bb=we(k),we(k)){for(z.Fb=we(k),$=0;4>$;++$)z.Zb[$]=we(k)?pe(k,7):0;for($=0;4>$;++$)z.Lb[$]=we(k)?pe(k,6):0}if(z.Bb)for($=0;3>$;++$)W.jb[$]=we(k)?Ie(k,8):255}else z.Bb=0;if(k.Ka)return Mr(h,3,"cannot parse segment header");if((z=h.ed).zd=we(k),z.Tb=Ie(k,6),z.wb=Ie(k,3),z.Pc=we(k),z.Pc&&we(k)){for(W=0;4>W;++W)we(k)&&(z.vd[W]=pe(k,6));for(W=0;4>W;++W)we(k)&&(z.od[W]=pe(k,6))}if(h.L=0==z.Tb?0:z.zd?1:2,k.Ka)return Mr(h,3,"cannot parse filter header");var re=M;if(M=$=I,I=$+re,z=re,h.Xb=(1<<Ie(h.m,2))-1,re<3*(W=h.Xb))v=7;else{for($+=3*W,z-=3*W,re=0;re<W;++re){var _e=v[M+0]|v[M+1]<<8|v[M+2]<<16;_e>z&&(_e=z),Ee(h.Jc[+re],v,$,_e),$+=_e,z-=_e,M+=3}Ee(h.Jc[+W],v,$,z),v=$<I?0:5}if(0!=v)return Mr(h,v,"cannot parse partitions");for(v=Ie($=h.m,7),M=we($)?pe($,4):0,I=we($)?pe($,4):0,z=we($)?pe($,4):0,W=we($)?pe($,4):0,$=we($)?pe($,4):0,re=h.Qa,_e=0;4>_e;++_e){if(re.Cb){var K=re.Zb[_e];re.Fb||(K+=v)}else{if(0<_e){h.pb[_e]=h.pb[0];continue}K=v}var oe=h.pb[_e];oe.Sc[0]=iN[xt(K+M,127)],oe.Sc[1]=oN[xt(K+0,127)],oe.Eb[0]=2*iN[xt(K+I,127)],oe.Eb[1]=101581*oN[xt(K+z,127)]>>16,8>oe.Eb[1]&&(oe.Eb[1]=8),oe.Qc[0]=iN[xt(K+W,117)],oe.Qc[1]=oN[xt(K+$,127)],oe.lc=K+$}if(!U.Rb)return Mr(h,4,"Not a key frame.");for(we(k),U=h.Pa,v=0;4>v;++v){for(M=0;8>M;++M)for(I=0;3>I;++I)for(z=0;11>z;++z)W=De(k,Qbe[v][M][I][z])?Ie(k,8):Wbe[v][M][I][z],U.Wc[v][M].Yb[I][z]=W;for(M=0;17>M;++M)U.Xc[v][M]=U.Wc[v][Ybe[M]]}return h.kc=we(k),h.kc&&(h.Bd=Ie(k,8)),h.cb=1}function Ba(h,m,v,I,M,k,U){var z=m[M].Yb[v];for(v=0;16>M;++M){if(!De(h,z[v+0]))return M;for(;!De(h,z[v+1]);)if(z=m[++M].Yb[0],v=0,16==M)return 16;var $=m[M+1].Yb;if(De(h,z[v+2])){var W=h,re=0;if(De(W,(K=z)[(_e=v)+3]))if(De(W,K[_e+6])){for(z=0,_e=2*(re=De(W,K[_e+8]))+(K=De(W,K[_e+9+re])),re=0,K=Gbe[_e];K[z];++z)re+=re+De(W,K[z]);re+=3+(8<<_e)}else De(W,K[_e+7])?(re=7+2*De(W,165),re+=De(W,145)):re=5+De(W,159);else re=De(W,K[_e+4])?3+De(W,K[_e+5]):2;z=$[2]}else re=1,z=$[1];$=U+Hbe[M],0>(W=h).b&&ve(W);var _e,K=W.b,oe=(_e=W.Ca>>1)-(W.I>>K)>>31;--W.b,W.Ca+=oe,W.Ca|=1,W.I-=(_e+1&oe)<<K,k[$]=((re^oe)-oe)*I[(0<M)+0]}return 16}function Nl(h){var m=h.rb[h.sb-1];m.la=0,m.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function gs(h,m,v,I,M){h[m+v+32*I]=-256&(M=h[m+v+32*I]+(M>>3))?0>M?0:255:M}function Nu(h,m,v,I,M,k){gs(h,m,0,v,I+M),gs(h,m,1,v,I+k),gs(h,m,2,v,I-k),gs(h,m,3,v,I-M)}function Ur(h){return(20091*h>>16)+h}function Vs(h,m,v,I){var M,k=0,U=o(16);for(M=0;4>M;++M){var z=h[m+0]+h[m+8],$=h[m+0]-h[m+8],W=(35468*h[m+4]>>16)-Ur(h[m+12]),re=Ur(h[m+4])+(35468*h[m+12]>>16);U[k+0]=z+re,U[k+1]=$+W,U[k+2]=$-W,U[k+3]=z-re,k+=4,m++}for(M=k=0;4>M;++M)z=(h=U[k+0]+4)+U[k+8],$=h-U[k+8],W=(35468*U[k+4]>>16)-Ur(U[k+12]),gs(v,I,0,0,z+(re=Ur(U[k+4])+(35468*U[k+12]>>16))),gs(v,I,1,0,$+W),gs(v,I,2,0,$-W),gs(v,I,3,0,z-re),k++,I+=32}function Us(h,m,v,I){var M=h[m+0]+4,k=35468*h[m+4]>>16,U=Ur(h[m+4]),z=35468*h[m+1]>>16;Nu(v,I,0,M+U,h=Ur(h[m+1]),z),Nu(v,I,1,M+k,h,z),Nu(v,I,2,M-k,h,z),Nu(v,I,3,M-U,h,z)}function Wc(h,m,v,I,M){Vs(h,m,v,I),M&&Vs(h,m+16,v,I+4)}function Kc(h,m,v,I){jh(h,m+0,v,I,1),jh(h,m+32,v,I+128,1)}function Bs(h,m,v,I){var M;for(h=h[m+0]+4,M=0;4>M;++M)for(m=0;4>m;++m)gs(v,I,m,M,h)}function Fn(h,m,v,I){h[m+0]&&Vn(h,m+0,v,I),h[m+16]&&Vn(h,m+16,v,I+4),h[m+32]&&Vn(h,m+32,v,I+128),h[m+48]&&Vn(h,m+48,v,I+128+4)}function Rl(h,m,v,I){var M,k=o(16);for(M=0;4>M;++M){var U=h[m+0+M]+h[m+12+M],z=h[m+4+M]+h[m+8+M],$=h[m+4+M]-h[m+8+M],W=h[m+0+M]-h[m+12+M];k[0+M]=U+z,k[8+M]=U-z,k[4+M]=W+$,k[12+M]=W-$}for(M=0;4>M;++M)U=(h=k[0+4*M]+3)+k[3+4*M],$=k[1+4*M]-k[2+4*M],W=h-k[3+4*M],v[I+0]=U+(z=k[1+4*M]+k[2+4*M])>>3,v[I+16]=W+$>>3,v[I+32]=U-z>>3,v[I+48]=W-$>>3,I+=64}function ms(h,m,v){var I,M=m-32,k=$s,U=255-h[M-1];for(I=0;I<v;++I){var z,$=k,W=U+h[m-1];for(z=0;z<v;++z)h[m+z]=$[W+h[M+z]];m+=32}}function ja(h,m){ms(h,m,4)}function Bv(h,m){ms(h,m,8)}function vg(h,m){ms(h,m,16)}function jv(h,m){var v;for(v=0;16>v;++v)r(h,m+32*v,h,m-32,16)}function Oh(h,m){var v;for(v=16;0<v;--v)i(h,m,h[m-1],16),m+=32}function Ml(h,m,v){var I;for(I=0;16>I;++I)i(m,v+32*I,h,16)}function Ru(h,m){var v,I=16;for(v=0;16>v;++v)I+=h[m-1+32*v]+h[m+v-32];Ml(I>>5,h,m)}function kl(h,m){var v,I=8;for(v=0;16>v;++v)I+=h[m-1+32*v];Ml(I>>4,h,m)}function So(h,m){var v,I=8;for(v=0;16>v;++v)I+=h[m+v-32];Ml(I>>4,h,m)}function Qc(h,m){Ml(128,h,m)}function jt(h,m,v){return h+2*m+v+2>>2}function yg(h,m){var v,I=m-32;for(I=new Uint8Array([jt(h[I-1],h[I+0],h[I+1]),jt(h[I+0],h[I+1],h[I+2]),jt(h[I+1],h[I+2],h[I+3]),jt(h[I+2],h[I+3],h[I+4])]),v=0;4>v;++v)r(h,m+32*v,I,0,I.length)}function Mu(h,m){var v=h[m-1],I=h[m-1+32],M=h[m-1+64],k=h[m-1+96];Te(h,m+0,16843009*jt(h[m-1-32],v,I)),Te(h,m+32,16843009*jt(v,I,M)),Te(h,m+64,16843009*jt(I,M,k)),Te(h,m+96,16843009*jt(M,k,k))}function zv(h,m){var v,I=4;for(v=0;4>v;++v)I+=h[m+v-32]+h[m-1+32*v];for(I>>=3,v=0;4>v;++v)i(h,m+32*v,I,4)}function $v(h,m){var v=h[m-1+0],I=h[m-1+32],M=h[m-1+64],k=h[m-1-32],U=h[m+0-32],z=h[m+1-32],$=h[m+2-32],W=h[m+3-32];h[m+0+96]=jt(I,M,h[m-1+96]),h[m+1+96]=h[m+0+64]=jt(v,I,M),h[m+2+96]=h[m+1+64]=h[m+0+32]=jt(k,v,I),h[m+3+96]=h[m+2+64]=h[m+1+32]=h[m+0+0]=jt(U,k,v),h[m+3+64]=h[m+2+32]=h[m+1+0]=jt(z,U,k),h[m+3+32]=h[m+2+0]=jt($,z,U),h[m+3+0]=jt(W,$,z)}function za(h,m){var v=h[m+1-32],I=h[m+2-32],M=h[m+3-32],k=h[m+4-32],U=h[m+5-32],z=h[m+6-32],$=h[m+7-32];h[m+0+0]=jt(h[m+0-32],v,I),h[m+1+0]=h[m+0+32]=jt(v,I,M),h[m+2+0]=h[m+1+32]=h[m+0+64]=jt(I,M,k),h[m+3+0]=h[m+2+32]=h[m+1+64]=h[m+0+96]=jt(M,k,U),h[m+3+32]=h[m+2+64]=h[m+1+96]=jt(k,U,z),h[m+3+64]=h[m+2+96]=jt(U,z,$),h[m+3+96]=jt(z,$,$)}function $i(h,m){var v=h[m-1+0],I=h[m-1+32],M=h[m-1+64],k=h[m-1-32],U=h[m+0-32],z=h[m+1-32],$=h[m+2-32],W=h[m+3-32];h[m+0+0]=h[m+1+64]=k+U+1>>1,h[m+1+0]=h[m+2+64]=U+z+1>>1,h[m+2+0]=h[m+3+64]=z+$+1>>1,h[m+3+0]=$+W+1>>1,h[m+0+96]=jt(M,I,v),h[m+0+64]=jt(I,v,k),h[m+0+32]=h[m+1+96]=jt(v,k,U),h[m+1+32]=h[m+2+96]=jt(k,U,z),h[m+2+32]=h[m+3+96]=jt(U,z,$),h[m+3+32]=jt(z,$,W)}function qv(h,m){var v=h[m+0-32],I=h[m+1-32],M=h[m+2-32],k=h[m+3-32],U=h[m+4-32],z=h[m+5-32],$=h[m+6-32],W=h[m+7-32];h[m+0+0]=v+I+1>>1,h[m+1+0]=h[m+0+64]=I+M+1>>1,h[m+2+0]=h[m+1+64]=M+k+1>>1,h[m+3+0]=h[m+2+64]=k+U+1>>1,h[m+0+32]=jt(v,I,M),h[m+1+32]=h[m+0+96]=jt(I,M,k),h[m+2+32]=h[m+1+96]=jt(M,k,U),h[m+3+32]=h[m+2+96]=jt(k,U,z),h[m+3+64]=jt(U,z,$),h[m+3+96]=jt(z,$,W)}function Gv(h,m){var v=h[m-1+0],I=h[m-1+32],M=h[m-1+64],k=h[m-1+96];h[m+0+0]=v+I+1>>1,h[m+2+0]=h[m+0+32]=I+M+1>>1,h[m+2+32]=h[m+0+64]=M+k+1>>1,h[m+1+0]=jt(v,I,M),h[m+3+0]=h[m+1+32]=jt(I,M,k),h[m+3+32]=h[m+1+64]=jt(M,k,k),h[m+3+64]=h[m+2+64]=h[m+0+96]=h[m+1+96]=h[m+2+96]=h[m+3+96]=k}function pa(h,m){var v=h[m-1+0],I=h[m-1+32],M=h[m-1+64],k=h[m-1+96],U=h[m-1-32],z=h[m+0-32],$=h[m+1-32],W=h[m+2-32];h[m+0+0]=h[m+2+32]=v+U+1>>1,h[m+0+32]=h[m+2+64]=I+v+1>>1,h[m+0+64]=h[m+2+96]=M+I+1>>1,h[m+0+96]=k+M+1>>1,h[m+3+0]=jt(z,$,W),h[m+2+0]=jt(U,z,$),h[m+1+0]=h[m+3+32]=jt(v,U,z),h[m+1+32]=h[m+3+64]=jt(I,v,U),h[m+1+64]=h[m+3+96]=jt(M,I,v),h[m+1+96]=jt(k,M,I)}function ku(h,m){var v;for(v=0;8>v;++v)r(h,m+32*v,h,m-32,8)}function Ou(h,m){var v;for(v=0;8>v;++v)i(h,m,h[m-1],8),m+=32}function ga(h,m,v){var I;for(I=0;8>I;++I)i(m,v+32*I,h,8)}function ma(h,m){var v,I=8;for(v=0;8>v;++v)I+=h[m+v-32]+h[m-1+32*v];ga(I>>4,h,m)}function bg(h,m){var v,I=4;for(v=0;8>v;++v)I+=h[m+v-32];ga(I>>3,h,m)}function Ol(h,m){var v,I=4;for(v=0;8>v;++v)I+=h[m-1+32*v];ga(I>>3,h,m)}function Jn(h,m){ga(128,h,m)}function Ll(h,m,v){var I=h[m-v],M=h[m+0],k=3*(M-I)+XP[1020+h[m-2*v]-h[m+v]],U=Yw[112+(k+4>>3)];h[m-v]=$s[255+I+Yw[112+(k+3>>3)]],h[m+0]=$s[255+M-U]}function Fl(h,m,v,I){return wa[255+h[m-2*v]-h[m-v]]>I||wa[255+h[m+v]-h[m+0]]>I}function Yc(h,m,v,I){return 4*wa[255+h[m-v]-h[m+0]]+wa[255+h[m-2*v]-h[m+v]]<=I}function Vl(h,m,v,I,M){var k=h[m-3*v],U=h[m-2*v],z=h[m-v],$=h[m+0],W=h[m+v],re=h[m+2*v];return 4*wa[255+z-$]+wa[255+U-W]>I?0:wa[255+h[m-4*v]-k]<=M&&wa[255+k-U]<=M&&wa[255+U-z]<=M&&wa[255+h[m+3*v]-re]<=M&&wa[255+re-W]<=M&&wa[255+W-$]<=M}function Zc(h,m,v,I){var M=2*I+1;for(I=0;16>I;++I)Yc(h,m+I,v,M)&&Ll(h,m+I,v)}function _a(h,m,v,I){var M=2*I+1;for(I=0;16>I;++I)Yc(h,m+I*v,1,M)&&Ll(h,m+I*v,1)}function Lh(h,m,v,I){var M;for(M=3;0<M;--M)Zc(h,m+=4*v,v,I)}function _s(h,m,v,I){var M;for(M=3;0<M;--M)_a(h,m+=4,v,I)}function va(h,m,v,I,M,k,U,z){for(k=2*k+1;0<M--;){if(Vl(h,m,v,k,U))if(Fl(h,m,v,z))Ll(h,m,v);else{var $=h,W=m,re=v,_e=$[W-2*re],K=$[W-re],oe=$[W+0],he=$[W+re],Se=$[W+2*re],me=27*(Ne=XP[1020+3*(oe-K)+XP[1020+_e-he]])+63>>7,Pe=18*Ne+63>>7,Ne=9*Ne+63>>7;$[W-3*re]=$s[255+$[W-3*re]+Ne],$[W-2*re]=$s[255+_e+Pe],$[W-re]=$s[255+K+me],$[W+0]=$s[255+oe-me],$[W+re]=$s[255+he-Pe],$[W+2*re]=$s[255+Se-Ne]}m+=I}}function $a(h,m,v,I,M,k,U,z){for(k=2*k+1;0<M--;){if(Vl(h,m,v,k,U))if(Fl(h,m,v,z))Ll(h,m,v);else{var $=h,W=m,re=v,_e=$[W-re],K=$[W+0],oe=$[W+re],he=Yw[112+(4+(Se=3*(K-_e))>>3)],Se=Yw[112+(Se+3>>3)],me=he+1>>1;$[W-2*re]=$s[255+$[W-2*re]+me],$[W-re]=$s[255+_e+Se],$[W+0]=$s[255+K-he],$[W+re]=$s[255+oe-me]}m+=I}}function Lu(h,m,v,I,M,k){va(h,m,v,1,16,I,M,k)}function Fh(h,m,v,I,M,k){va(h,m,1,v,16,I,M,k)}function qa(h,m,v,I,M,k){var U;for(U=3;0<U;--U)$a(h,m+=4*v,v,1,16,I,M,k)}function Ul(h,m,v,I,M,k){var U;for(U=3;0<U;--U)$a(h,m+=4,1,v,16,I,M,k)}function _(h,m,v,I,M,k,U,z){va(h,m,M,1,8,k,U,z),va(v,I,M,1,8,k,U,z)}function N(h,m,v,I,M,k,U,z){va(h,m,1,M,8,k,U,z),va(v,I,1,M,8,k,U,z)}function H(h,m,v,I,M,k,U,z){$a(h,m+4*M,M,1,8,k,U,z),$a(v,I+4*M,M,1,8,k,U,z)}function ee(h,m,v,I,M,k,U,z){$a(h,m+4,1,M,8,k,U,z),$a(v,I+4,1,M,8,k,U,z)}function le(){this.ba=new yn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new fn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function xe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Fe(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function rt(){this.ua=0,this.Wa=new Ut,this.vb=new Ut,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ge,this.yc=new P}function ct(){this.xb=this.a=0,this.l=new Pl,this.ca=new yn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new rt,this.ab=0,this.gc=s(4,Fe),this.Oc=0}function Ot(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Pl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Lt(h,m,v,I,M,k,U){for(h=null==h?0:h[m+0],m=0;m<U;++m)M[k+m]=h+v[I+m]&255,h=M[k+m]}function Cn(h,m,v,I,M,k,U){var z;if(null==h)Lt(null,null,v,I,M,k,U);else for(z=0;z<U;++z)M[k+z]=h[m+z]+v[I+z]&255}function mr(h,m,v,I,M,k,U){if(null==h)Lt(null,null,v,I,M,k,U);else{var z,$=h[m+0],W=$,re=$;for(z=0;z<U;++z)W=re+($=h[m+z])-W,re=v[I+z]+(-256&W?0>W?0:255:W)&255,W=$,M[k+z]=re}}function Xn(h,m,v,I){var M=m.width,k=m.o;if(e(null!=h&&null!=m),0>v||0>=I||v+I>k)return null;if(!h.Cc){if(null==h.ga){var U;if(h.ga=new Ot,(U=null==h.ga)||(U=m.width*m.o,e(0==h.Gb.length),h.Gb=o(U),h.Uc=0,null==h.Gb?U=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,U=1),U=!U),!U){var z=h.Fa,$=h.P,W=h.qc,re=h.mb,_e=h.nb,K=$+1,oe=W-1,he=(U=h.ga).l;if(e(null!=z&&null!=re&&null!=m),sd[0]=null,sd[1]=Lt,sd[2]=Cn,sd[3]=mr,U.ca=re,U.tb=_e,U.c=m.width,U.i=m.height,e(0<U.c&&0<U.i),1>=W)m=0;else if(U.$a=3&z[$+0],U.Z=z[$+0]>>2&3,U.Lc=z[$+0]>>4&3,$=z[$+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||$)m=0;else if(he.put=Dt,he.ac=ji,he.bc=ha,he.ma=U,he.width=m.width,he.height=m.height,he.Da=m.Da,he.v=m.v,he.va=m.va,he.j=m.j,he.o=m.o,U.$a)e:{e(1==U.$a),m=Co();t:for(;;){if(null==m){m=0;break e}if(e(null!=U),U.mc=m,m.c=U.c,m.i=U.i,m.l=U.l,m.l.ma=U,m.l.width=U.c,m.l.height=U.i,m.a=0,Ae(m.m,z,K,oe),!Fs(U.c,U.i,1,m,null)||(1==m.ab&&3==m.gc[0].hc&&Ls(m.s)?(U.ic=1,z=m.c*m.i,m.Ta=null,m.Ua=0,m.V=o(z),m.Ba=0,null==m.V?(m.a=1,m=0):m=1):(U.ic=0,m=Du(m,U.c)),!m))break t;m=1;break e}U.mc=null,m=0}else m=oe>=U.c*U.i;U=!m}if(U)return null;1!=h.ga.Lc?h.Ga=0:I=k-v}e(null!=h.ga),e(v+I<=k);e:{if(m=(z=h.ga).c,k=z.l.o,0==z.$a){if(K=h.rc,oe=h.Vc,he=h.Fa,W=h.mb,re=h.nb+v*m,e(($=h.P+1+v*m)<=h.P+h.qc),0!=z.Z)for(e(null!=sd[z.Z]),U=0;U<I;++U)sd[z.Z](K,oe,he,$,W,re,m),K=W,oe=re,re+=m,$+=m;else for(U=0;U<I;++U)r(W,re,he,$,m),K=W,oe=re,re+=m,$+=m;h.rc=K,h.Vc=oe}else{if(e(null!=z.mc),m=v+I,e(null!=(U=z.mc)),e(m<=U.i),U.C>=m)m=1;else if(z.ic||oo(),z.ic){z=U.V,K=U.Ba;var Se=U.i,me=(he=1,$=U.$/(oe=U.c),W=U.$%oe,re=U.m,_e=U.s,U.$),Pe=oe*Se,Ne=oe*m,qe=_e.wc,Ve=me<Ne?Ti(_e,W,$):null;e(me<=Pe),e(m<=Se),e(Ls(_e));t:for(;;){for(;!re.h&&me<Ne;){if(W&qe||(Ve=Ti(_e,W,$)),e(null!=Ve),de(re),256>(Se=Zn(Ve.G[0],Ve.H[0],re)))z[K+me]=Se,++me,++W>=oe&&(W=0,++$<=m&&!($%16)&&ps(U,$));else{if(!(280>Se)){he=0;break t}Se=qo(Se-256,re);var Tt,at=Zn(Ve.G[4],Ve.H[4],re);if(de(re),!(me>=(at=zi(oe,at=qo(at,re)))&&Pe-me>=Se)){he=0;break t}for(Tt=0;Tt<Se;++Tt)z[K+me+Tt]=z[K+me+Tt-at];for(me+=Se,W+=Se;W>=oe;)W-=oe,++$<=m&&!($%16)&&ps(U,$);me<Ne&&W&qe&&(Ve=Ti(_e,W,$))}e(re.h==te(re))}ps(U,$>m?m:$);break t}!he||re.h&&me<Pe?(he=0,U.a=re.h?5:3):U.$=me,m=he}else m=Ho(U,U.V,U.Ba,U.c,U.i,m,xu);if(!m){I=0;break e}}v+I>=k&&(h.Cc=1),I=1}if(!I)return null;if(h.Cc&&(null!=(I=h.ga)&&(I.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+v*M}function Hn(h,m,v,I,M,k){for(;0<M--;){var U,z=h,$=m+(v?1:0),W=h,re=m+(v?0:3);for(U=0;U<I;++U){var _e=W[re+4*U];255!=_e&&(z[$+4*U+0]=z[$+4*U+0]*(_e*=32897)>>23,z[$+4*U+1]=z[$+4*U+1]*_e>>23,z[$+4*U+2]=z[$+4*U+2]*_e>>23)}m+=k}}function Kr(h,m,v,I,M){for(;0<I--;){var k;for(k=0;k<v;++k){var U=h[m+2*k+0],z=15&(W=h[m+2*k+1]),$=4369*z,W=(240&W|W>>4)*$>>16;h[m+2*k+0]=(240&U|U>>4)*$>>16&240|(15&U|U<<4)*$>>16>>4&15,h[m+2*k+1]=240&W|z}m+=M}}function Br(h,m,v,I,M,k,U,z){var $,W,re=255;for(W=0;W<M;++W){for($=0;$<I;++$){var _e=h[m+$];k[U+4*$]=_e,re&=_e}m+=v,U+=z}return 255!=re}function bi(h,m,v,I,M){var k;for(k=0;k<M;++k)v[I+k]=h[m+k]>>8}function oo(){Xv=Hn,Iq=Kr,Eq=Br,Aq=bi}function er(h,m,v){S[h]=function(I,M,k,U,z,$,W,re,_e,K,oe,he,Se,me,Pe,Ne,qe){var Ve,Tt=qe-1>>1,at=z[$+0]|W[re+0]<<16,sn=_e[K+0]|oe[he+0]<<16;e(null!=I);var ft=3*at+sn+131074>>2;for(m(I[M+0],255&ft,ft>>16,Se,me),null!=k&&m(k[U+0],255&(ft=3*sn+at+131074>>2),ft>>16,Pe,Ne),Ve=1;Ve<=Tt;++Ve){var bn=z[$+Ve]|W[re+Ve]<<16,Di=_e[K+Ve]|oe[he+Ve]<<16,an=at+bn+sn+Di+524296,pt=an+2*(bn+sn)>>3;ft=pt+at>>1,at=(an=an+2*(at+Di)>>3)+bn>>1,m(I[M+2*Ve-1],255&ft,ft>>16,Se,me+(2*Ve-1)*v),m(I[M+2*Ve-0],255&at,at>>16,Se,me+(2*Ve-0)*v),null!=k&&(at=pt+Di>>1,m(k[U+2*Ve-1],255&(ft=an+sn>>1),ft>>16,Pe,Ne+(2*Ve-1)*v),m(k[U+2*Ve+0],255&at,at>>16,Pe,Ne+(2*Ve+0)*v)),at=bn,sn=Di}1&qe||(m(I[M+qe-1],255&(ft=3*at+sn+131074>>2),ft>>16,Se,me+(qe-1)*v),null!=k&&m(k[U+qe-1],255&(ft=3*sn+at+131074>>2),ft>>16,Pe,Ne+(qe-1)*v))}}function Vh(){Ia[Zw]=Jbe,Ia[Jw]=Oq,Ia[Pq]=Xbe,Ia[Xw]=Lq,Ia[e2]=Fq,Ia[eN]=Vq,Ia[Nq]=ewe,Ia[tN]=Oq,Ia[nN]=Lq,Ia[t2]=Fq,Ia[rN]=Vq}function Bl(h){return h&~twe?0>h?0:255:h>>Uq}function vs(h,m){return Bl((19077*h>>8)+(26149*m>>8)-14234)}function f(h,m,v){return Bl((19077*h>>8)-(6419*m>>8)-(13320*v>>8)+8708)}function y(h,m){return Bl((19077*h>>8)+(33050*m>>8)-17685)}function T(h,m,v,I,M){I[M+0]=vs(h,v),I[M+1]=f(h,m,v),I[M+2]=y(h,m)}function j(h,m,v,I,M){I[M+0]=y(h,m),I[M+1]=f(h,m,v),I[M+2]=vs(h,v)}function ue(h,m,v,I,M){var k=f(h,m,v);m=k<<3&224|y(h,m)>>3,I[M+0]=248&vs(h,v)|k>>5,I[M+1]=m}function ye(h,m,v,I,M){var k=240&y(h,m)|15;I[M+0]=240&vs(h,v)|f(h,m,v)>>4,I[M+1]=k}function We(h,m,v,I,M){I[M+0]=255,T(h,m,v,I,M+1)}function Sn(h,m,v,I,M){j(h,m,v,I,M),I[M+3]=255}function jr(h,m,v,I,M){T(h,m,v,I,M),I[M+3]=255}function xt(h,m){return 0>h?0:h>m?m:h}function _r(h,m,v){S[h]=function(I,M,k,U,z,$,W,re,_e){for(var K=re+(-2&_e)*v;re!=K;)m(I[M+0],k[U+0],z[$+0],W,re),m(I[M+1],k[U+0],z[$+0],W,re+v),M+=2,++U,++$,re+=2*v;1&_e&&m(I[M+0],k[U+0],z[$+0],W,re)}}function zr(h,m,v){return 0==v?0==h?0==m?6:5:0==m?4:0:v}function Ga(h,m,v,I,M){switch(h>>>30){case 3:jh(m,v,I,M,0);break;case 2:ba(m,v,I,M);break;case 1:Vn(m,v,I,M)}}function kr(h,m){var v,I,M=m.M,k=m.Nb,U=h.oc,z=h.pc+40,$=h.oc,W=h.pc+584,re=h.oc,_e=h.pc+600;for(v=0;16>v;++v)U[z+32*v-1]=129;for(v=0;8>v;++v)$[W+32*v-1]=129,re[_e+32*v-1]=129;for(0<M?U[z-1-32]=$[W-1-32]=re[_e-1-32]=129:(i(U,z-32-1,127,21),i($,W-32-1,127,9),i(re,_e-32-1,127,9)),I=0;I<h.za;++I){var K=m.ya[m.aa+I];if(0<I){for(v=-1;16>v;++v)r(U,z+32*v-4,U,z+32*v+12,4);for(v=-1;8>v;++v)r($,W+32*v-4,$,W+32*v+4,4),r(re,_e+32*v-4,re,_e+32*v+4,4)}var oe=h.Gd,he=h.Hd+I,Se=K.ad,me=K.Hc;if(0<M&&(r(U,z-32,oe[he].y,0,16),r($,W-32,oe[he].f,0,8),r(re,_e-32,oe[he].ea,0,8)),K.Za){var Pe=U,Ne=z-32+16;for(0<M&&(I>=h.za-1?i(Pe,Ne,oe[he].y[15],4):r(Pe,Ne,oe[he+1].y,0,4)),v=0;4>v;v++)Pe[Ne+128+v]=Pe[Ne+256+v]=Pe[Ne+384+v]=Pe[Ne+0+v];for(v=0;16>v;++v,me<<=2)Ha[K.Ob[v]](Pe=U,Ne=z+jq[v]),Ga(me,Se,16*+v,Pe,Ne)}else if(Pe=zr(I,M,K.Ob[0]),od[Pe](U,z),0!=me)for(v=0;16>v;++v,me<<=2)Ga(me,Se,16*+v,U,z+jq[v]);for(v=K.Gc,Pe=zr(I,M,K.Dd),ql[Pe]($,W),ql[Pe](re,_e),me=Se,Pe=$,Ne=W,255&(K=0|v)&&(170&K?Uu(me,256,Pe,Ne):ar(me,256,Pe,Ne)),K=re,me=_e,255&(v>>=8)&&(170&v?Uu(Se,320,K,me):ar(Se,320,K,me)),M<h.Ub-1&&(r(oe[he].y,0,U,z+480,16),r(oe[he].f,0,$,W+224,8),r(oe[he].ea,0,re,_e+224,8)),oe=h.sa,he=h.ta+16*I+16*k*h.R,Se=h.qa,K=h.ra+8*I+(v=8*k*h.B),me=h.Ha,Pe=h.Ia+8*I+v,v=0;16>v;++v)r(oe,he+v*h.R,U,z+32*v,16);for(v=0;8>v;++v)r(Se,K+v*h.B,$,W+32*v,8),r(me,Pe+v*h.B,re,_e+32*v,8)}}function ya(h,m,v,I,M,k,U,z,$){var W=[0],re=[0],_e=0,K=null!=$?$.kd:0,oe=$??new xe;if(null==h||12>v)return 7;oe.data=h,oe.w=m,oe.ha=v,m=[m],v=[v],oe.gb=[oe.gb];e:{var he=m,Se=v,me=oe.gb;if(e(null!=h),e(null!=Se),e(null!=me),me[0]=0,12<=Se[0]&&!n(h,he[0],"RIFF")){if(n(h,he[0]+8,"WEBP")){me=3;break e}var Pe=Ce(h,he[0]+4);if(12>Pe||4294967286<Pe){me=3;break e}if(K&&Pe>Se[0]-8){me=7;break e}me[0]=Pe,he[0]+=12,Se[0]-=12}me=0}if(0!=me)return me;for(Pe=0<oe.gb[0],v=v[0];;){e:{var Ne=h;Se=m,me=v;var qe=W,Ve=re,Tt=he=[0];if((ft=_e=[_e])[0]=0,8>me[0])me=7;else{if(!n(Ne,Se[0],"VP8X")){if(10!=Ce(Ne,Se[0]+4)){me=3;break e}if(18>me[0]){me=7;break e}var at=Ce(Ne,Se[0]+8),sn=1+Ke(Ne,Se[0]+12);if(2147483648<=sn*(Ne=1+Ke(Ne,Se[0]+15))){me=3;break e}null!=Tt&&(Tt[0]=at),null!=qe&&(qe[0]=sn),null!=Ve&&(Ve[0]=Ne),Se[0]+=18,me[0]-=18,ft[0]=1}me=0}}if(_e=_e[0],0!=me)return me;if(Se=!!(2&(he=he[0])),!Pe&&_e)return 3;if(null!=k&&(k[0]=!!(16&he)),null!=U&&(U[0]=Se),null!=z&&(z[0]=0),U=W[0],he=re[0],_e&&Se&&null==$){me=0;break}if(4>v){me=7;break}if(Pe&&_e||!Pe&&!_e&&!n(h,m[0],"ALPH")){v=[v],oe.na=[oe.na],oe.P=[oe.P],oe.Sa=[oe.Sa];e:{me=m,Pe=v;var ft=oe.gb;qe=oe.na,Ve=oe.P,Tt=oe.Sa,sn=22,e(null!=(at=h)),e(null!=Pe),Ne=me[0];var bn=Pe[0];for(e(null!=qe),e(null!=Tt),qe[0]=null,Ve[0]=null,Tt[0]=0;;){if(me[0]=Ne,Pe[0]=bn,8>bn){me=7;break e}var Di=Ce(at,Ne+4);if(4294967286<Di){me=3;break e}var an=8+Di+1&-2;if(sn+=an,0<ft&&sn>ft){me=3;break e}if(!n(at,Ne,"VP8 ")||!n(at,Ne,"VP8L")){me=0;break e}if(bn[0]<an){me=7;break e}n(at,Ne,"ALPH")||(qe[0]=at,Ve[0]=Ne+8,Tt[0]=Di),Ne+=an,bn-=an}}if(v=v[0],oe.na=oe.na[0],oe.P=oe.P[0],oe.Sa=oe.Sa[0],0!=me)break}v=[v],oe.Ja=[oe.Ja],oe.xa=[oe.xa];e:if(ft=h,me=m,Pe=v,qe=oe.gb[0],Ve=oe.Ja,Tt=oe.xa,at=me[0],Ne=!n(ft,at,"VP8 "),sn=!n(ft,at,"VP8L"),e(null!=ft),e(null!=Pe),e(null!=Ve),e(null!=Tt),8>Pe[0])me=7;else{if(Ne||sn){if(ft=Ce(ft,at+4),12<=qe&&ft>qe-12){me=3;break e}if(K&&ft>Pe[0]-8){me=7;break e}Ve[0]=ft,me[0]+=8,Pe[0]-=8,Tt[0]=sn}else Tt[0]=5<=Pe[0]&&47==ft[at+0]&&!(ft[at+4]>>5),Ve[0]=Pe[0];me=0}if(v=v[0],oe.Ja=oe.Ja[0],oe.xa=oe.xa[0],m=m[0],0!=me)break;if(4294967286<oe.Ja)return 3;if(null==z||Se||(z[0]=oe.xa?2:1),U=[U],he=[he],oe.xa){if(5>v){me=7;break}z=U,K=he,Se=k,null==h||5>v?h=0:5<=v&&47==h[m+0]&&!(h[m+4]>>5)?(Pe=[0],ft=[0],qe=[0],Ae(Ve=new q,h,m,v),Ar(Ve,Pe,ft,qe)?(null!=z&&(z[0]=Pe[0]),null!=K&&(K[0]=ft[0]),null!=Se&&(Se[0]=qe[0]),h=1):h=0):h=0}else{if(10>v){me=7;break}z=he,null==h||10>v||!Mh(h,m+3,v-3)?h=0:(K=h[m+0]|h[m+1]<<8|h[m+2]<<16,Se=16383&(h[m+7]<<8|h[m+6]),h=16383&(h[m+9]<<8|h[m+8]),1&K||3<(K>>1&7)||!(K>>4&1)||K>>5>=oe.Ja||!Se||!h?h=0:(U&&(U[0]=Se),z&&(z[0]=h),h=1))}if(!h||(U=U[0],he=he[0],_e&&(W[0]!=U||re[0]!=he)))return 3;null!=$&&($[0]=oe,$.offset=m-$.w,e(4294967286>m-$.w),e($.offset==$.ha-v));break}return 0==me||7==me&&_e&&null==$?(null!=k&&(k[0]|=null!=oe.na&&0<oe.na.length),null!=I&&(I[0]=U),null!=M&&(M[0]=he),0):me}function jl(h,m,v){var I=m.width,M=m.height,k=0,U=0,z=I,$=M;if(m.Da=null!=h&&0<h.Da,m.Da&&(z=h.cd,$=h.bd,k=h.v,U=h.j,11>v||(k&=-2,U&=-2),0>k||0>U||0>=z||0>=$||k+z>I||U+$>M))return 0;if(m.v=k,m.j=U,m.va=k+z,m.o=U+$,m.U=z,m.T=$,m.da=null!=h&&0<h.da,m.da){if(!St(z,$,v=[h.ib],k=[h.hb]))return 0;m.ib=v[0],m.hb=k[0]}return m.ob=null!=h&&h.ob,m.Kb=null==h||!h.Sd,m.da&&(m.ob=m.ib<3*I/4&&m.hb<3*M/4,m.Kb=0),1}function Hv(h){if(null==h)return 2;if(11>h.S){var m=h.f.RGBA;m.fb+=(h.height-1)*m.A,m.A=-m.A}else(m=h.f.kb).O+=((h=h.height)-1)*m.fa,m.fa=-m.fa,m.N+=(h-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(h-1>>1)*m.Db,m.Db=-m.Db,null!=m.F&&(m.J+=(h-1)*m.lb,m.lb=-m.lb);return 0}function Jc(h,m,v,I){if(null==I||0>=h||0>=m)return 2;if(null!=v){if(v.Da){var M=v.cd,k=v.bd,U=-2&v.v,z=-2&v.j;if(0>U||0>z||0>=M||0>=k||U+M>h||z+k>m)return 2;h=M,m=k}if(v.da){if(!St(h,m,M=[v.ib],k=[v.hb]))return 2;h=M[0],m=k[0]}}I.width=h,I.height=m;e:{var $=I.width,W=I.height;if(h=I.S,0>=$||0>=W||!(h>=Zw&&13>h))h=2;else{if(0>=I.Rd&&null==I.sd){U=k=M=m=0;var re=(z=$*zq[h])*W;if(11>h||(k=(W+1)/2*(m=($+1)/2),12==h&&(U=(M=$)*W)),null==(W=o(re+2*k+U))){h=1;break e}I.sd=W,11>h?(($=I.f.RGBA).eb=W,$.fb=0,$.A=z,$.size=re):(($=I.f.kb).y=W,$.O=0,$.fa=z,$.Fd=re,$.f=W,$.N=0+re,$.Ab=m,$.Cd=k,$.ea=W,$.W=0+re+k,$.Db=m,$.Ed=k,12==h&&($.F=W,$.J=0+re+2*k),$.Tc=U,$.lb=M)}if(m=1,k=I.width,U=I.height,(M=I.S)>=Zw&&13>M)if(11>M)h=I.f.RGBA,m&=(z=Math.abs(h.A))*(U-1)+k<=h.size,m&=z>=k*zq[M],m&=null!=h.eb;else{h=I.f.kb,z=(k+1)/2,re=(U+1)/2,$=Math.abs(h.fa),W=Math.abs(h.Ab);var _e=Math.abs(h.Db),K=Math.abs(h.lb);m&=$*(U-1)+k<=h.Fd,m&=W*(re-1)+z<=h.Cd,m=(m&=_e*(re-1)+z<=h.Ed)&$>=k&W>=z&_e>=z,m&=null!=h.y,m&=null!=h.f,m&=null!=h.ea,12==M&&(m&=K>=k,m&=K*(U-1)+k<=h.Tc,m&=null!=h.F)}else m=0;h=m?0:2}}return 0!=h||null!=v&&v.fd&&(h=Hv(I)),h}var Uh=64,js=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],zs=24,Xc=32,zl=8,ed=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Je("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(h){return h},S.Predictor2=function(h,m,v){return m[v+0]},S.Predictor3=function(h,m,v){return m[v+1]},S.Predictor4=function(h,m,v){return m[v-1]},S.Predictor5=function(h,m,v){return wt(wt(h,m[v+1]),m[v+0])},S.Predictor6=function(h,m,v){return wt(h,m[v-1])},S.Predictor7=function(h,m,v){return wt(h,m[v+0])},S.Predictor8=function(h,m,v){return wt(m[v-1],m[v+0])},S.Predictor9=function(h,m,v){return wt(m[v+0],m[v+1])},S.Predictor10=function(h,m,v){return wt(wt(h,m[v-1]),wt(m[v+0],m[v+1]))},S.Predictor11=function(h,m,v){var I=m[v+0];return 0>=kt(I>>24&255,h>>24&255,(m=m[v-1])>>24&255)+kt(I>>16&255,h>>16&255,m>>16&255)+kt(I>>8&255,h>>8&255,m>>8&255)+kt(255&I,255&h,255&m)?I:h},S.Predictor12=function(h,m,v){var I=m[v+0];return(on((h>>24&255)+(I>>24&255)-((m=m[v-1])>>24&255))<<24|on((h>>16&255)+(I>>16&255)-(m>>16&255))<<16|on((h>>8&255)+(I>>8&255)-(m>>8&255))<<8|on((255&h)+(255&I)-(255&m)))>>>0},S.Predictor13=function(h,m,v){var I=m[v-1];return(Pt((h=wt(h,m[v+0]))>>24&255,I>>24&255)<<24|Pt(h>>16&255,I>>16&255)<<16|Pt(h>>8&255,I>>8&255)<<8|Pt(255&h,255&I))>>>0};var Wv=S.PredictorAdd0;S.PredictorAdd1=Ht,Je("Predictor2","PredictorAdd2"),Je("Predictor3","PredictorAdd3"),Je("Predictor4","PredictorAdd4"),Je("Predictor5","PredictorAdd5"),Je("Predictor6","PredictorAdd6"),Je("Predictor7","PredictorAdd7"),Je("Predictor8","PredictorAdd8"),Je("Predictor9","PredictorAdd9"),Je("Predictor10","PredictorAdd10"),Je("Predictor11","PredictorAdd11"),Je("Predictor12","PredictorAdd12"),Je("Predictor13","PredictorAdd13");var wg=S.PredictorAdd2;_t("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),_t("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var li,Kw=S.ColorIndexInverseTransform,Fu=S.MapARGB,Vu=S.VP8LColorIndexInverseTransformAlpha,Kv=S.MapAlpha,Qv=S.VP8LPredictorsAdd=[];Qv.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var Yv,Zv,td,nd,rd,Bh,id,jh,ba,Uu,Vn,ar,ci,Si,$l,Jv,Ig,Qw,mq,_q,vq,yq,bq,wq,Xv,Iq,Eq,Aq,Cq=o(511),Tq=o(2041),Sq=o(225),Dq=o(767),xq=0,XP=Tq,Yw=Sq,$s=Dq,wa=Cq,Zw=0,Jw=1,Pq=2,Xw=3,e2=4,eN=5,Nq=6,tN=7,nN=8,t2=9,rN=10,Vbe=[2,3,7],Ube=[3,3,11],Rq=[280,256,256,256,40],Bbe=[0,1,1,1,0],jbe=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],zbe=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$be=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],qbe=8,iN=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],oN=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ey=null,Gbe=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Hbe=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Mq=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Wbe=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Kbe=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Qbe=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ybe=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],od=[],Ha=[],ql=[],Zbe=1,kq=2,sd=[],Ia=[];er("UpsampleRgbLinePair",T,3),er("UpsampleBgrLinePair",j,3),er("UpsampleRgbaLinePair",jr,4),er("UpsampleBgraLinePair",Sn,4),er("UpsampleArgbLinePair",We,4),er("UpsampleRgba4444LinePair",ye,2),er("UpsampleRgb565LinePair",ue,2);var Jbe=S.UpsampleRgbLinePair,Xbe=S.UpsampleBgrLinePair,Oq=S.UpsampleRgbaLinePair,Lq=S.UpsampleBgraLinePair,Fq=S.UpsampleArgbLinePair,Vq=S.UpsampleRgba4444LinePair,ewe=S.UpsampleRgb565LinePair,n2=16,r2=1<<n2-1,ty=-227,sN=482,Uq=6,twe=(256<<Uq)-1,Bq=0,nwe=o(256),rwe=o(256),iwe=o(256),owe=o(256),swe=o(sN-ty),awe=o(sN-ty);_r("YuvToRgbRow",T,3),_r("YuvToBgrRow",j,3),_r("YuvToRgbaRow",jr,4),_r("YuvToBgraRow",Sn,4),_r("YuvToArgbRow",We,4),_r("YuvToRgba4444Row",ye,2),_r("YuvToRgb565Row",ue,2);var jq=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],i2=[0,2,8],uwe=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(h,m,v,I,M){var k=Jw,U=new le,z=new yn;U.ba=z,z.S=k,z.width=[z.width],z.height=[z.height];var $=z.width,W=z.height,re=new Rt;if(null==re||null==h)var _e=2;else e(null!=re),_e=ya(h,m,v,re.width,re.height,re.Pd,re.Qd,re.format,null);if(0!=_e?$=0:(null!=$&&($[0]=re.width[0]),null!=W&&(W[0]=re.height[0]),$=1),$){z.width=z.width[0],z.height=z.height[0],null!=I&&(I[0]=z.width),null!=M&&(M[0]=z.height);e:{if(I=new Pl,(M=new xe).data=h,M.w=m,M.ha=v,M.kd=1,m=[0],e(null!=M),(0==(h=ya(M.data,M.w,M.ha,null,null,null,m,null,M))||7==h)&&m[0]&&(h=4),0==(m=h)){if(e(null!=U),I.data=M.data,I.w=M.w+M.offset,I.ha=M.ha-M.offset,I.put=Dt,I.ac=ji,I.bc=ha,I.ma=U,M.xa){if(null==(h=Co())){U=1;break e}if(function(K,oe){var he=[0],Se=[0],me=[0];t:for(;;){if(null==K)return 0;if(null==oe)return K.a=2,0;if(K.l=oe,K.a=0,Ae(K.m,oe.data,oe.w,oe.ha),!Ar(K.m,he,Se,me)){K.a=3;break t}if(K.xb=kq,oe.width=he[0],oe.height=Se[0],!Fs(he[0],Se[0],1,K,null))break t;return 1}return e(0!=K.a),0}(h,I)){if(I=0==(m=Jc(I.width,I.height,U.Oa,U.ba))){t:{I=h;n:for(;;){if(null==I){I=0;break t}if(e(null!=I.s.yc),e(null!=I.s.Ya),e(0<I.s.Wb),e(null!=(v=I.l)),e(null!=(M=v.ma)),0!=I.xb){if(I.ca=M.ba,I.tb=M.tb,e(null!=I.ca),!jl(M.Oa,v,Xw)){I.a=2;break n}if(!Du(I,v.width)||v.da)break n;if((v.da||vt(I.ca.S))&&oo(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=I.ca.f.kb.F&&oo()),I.Pb&&0<I.s.ua&&null==I.s.vb.X&&!Y(I.s.vb,I.s.Wa.Xa)){I.a=1;break n}I.xb=0}if(!Ho(I,I.V,I.Ba,I.c,I.i,v.o,Su))break n;M.Dc=I.Ma,I=1;break t}e(0!=I.a),I=0}I=!I}I&&(m=h.a)}else m=h.a}else{if(null==(h=new Rh)){U=1;break e}if(h.Fa=M.na,h.P=M.P,h.qc=M.Sa,kh(h,I)){if(0==(m=Jc(I.width,I.height,U.Oa,U.ba))){if(h.Aa=0,v=U.Oa,e(null!=(M=h)),null!=v){if(0<($=0>($=v.Md)?0:100<$?255:255*$/100)){for(W=re=0;4>W;++W)12>(_e=M.pb[W]).lc&&(_e.ia=$*uwe[0>_e.lc?0:_e.lc]>>3),re|=_e.ia;re&&(alert("todo:VP8InitRandom"),M.ia=1)}M.Ga=v.Id,100<M.Ga?M.Ga=100:0>M.Ga&&(M.Ga=0)}(function(K,oe){if(null==K)return 0;if(null==oe)return Mr(K,2,"NULL VP8Io parameter in VP8Decode().");if(!K.cb&&!kh(K,oe))return 0;if(e(K.cb),null==oe.ac||oe.ac(oe)){oe.ob&&(K.L=0);var he=i2[K.L];if(2==K.L?(K.yb=0,K.zb=0):(K.yb=oe.v-he>>4,K.zb=oe.j-he>>4,0>K.yb&&(K.yb=0),0>K.zb&&(K.zb=0)),K.Va=oe.o+15+he>>4,K.Hb=oe.va+15+he>>4,K.Hb>K.za&&(K.Hb=K.za),K.Va>K.Ub&&(K.Va=K.Ub),0<K.L){var Se=K.ed;for(he=0;4>he;++he){var me;if(K.Qa.Cb){var Pe=K.Qa.Lb[he];K.Qa.Fb||(Pe+=Se.Tb)}else Pe=Se.Tb;for(me=0;1>=me;++me){var Ne=K.gd[he][me],qe=Pe;if(Se.Pc&&(qe+=Se.vd[0],me&&(qe+=Se.od[0])),0<(qe=0>qe?0:63<qe?63:qe)){var Ve=qe;0<Se.wb&&(Ve=4<Se.wb?Ve>>2:Ve>>1)>9-Se.wb&&(Ve=9-Se.wb),1>Ve&&(Ve=1),Ne.dd=Ve,Ne.tc=2*qe+Ve,Ne.ld=40<=qe?2:15<=qe?1:0}else Ne.tc=0;Ne.La=me}}}he=0}else Mr(K,6,"Frame setup failed"),he=K.a;if(he=0==he){if(he){K.$c=0,0<K.Aa||(K.Ic=1);t:{Se=4*(Ve=K.za);var Tt=32*Ve,at=Ve+1,sn=0<K.L?Ve*(0<K.Aa?2:1):0,ft=(2==K.Aa?2:1)*Ve;if((Ne=Se+832+(me=3*(16*(he=K.Ic)+i2[K.L])/2*Tt)+(Pe=null!=K.Fa&&0<K.Fa.length?K.Kc.c*K.Kc.i:0))!=Ne)he=0;else{if(Ne>K.Vb){if(K.Vb=0,K.Ec=o(Ne),K.Fc=0,null==K.Ec){he=Mr(K,1,"no memory during frame initialization.");break t}K.Vb=Ne}qe=K.Fc,K.Ac=Ne=K.Ec,K.Bc=qe,qe+=Se,K.Gd=s(Tt,Ph),K.Hd=0,K.rb=s(at+1,Ua),K.sb=1,K.wa=sn?s(sn,To):null,K.Y=0,K.D.Nb=0,K.D.wa=K.wa,K.D.Y=K.Y,0<K.Aa&&(K.D.Y+=Ve),e(!0),K.oc=Ne,K.pc=qe,qe+=832,K.ya=s(ft,xl),K.aa=0,K.D.ya=K.ya,K.D.aa=K.aa,2==K.Aa&&(K.D.aa+=Ve),K.R=16*Ve,K.B=8*Ve,Ve=(Tt=i2[K.L])*K.R,Tt=Tt/2*K.B,K.sa=Ne,K.ta=qe+Ve,K.qa=K.sa,K.ra=K.ta+16*he*K.R+Tt,K.Ha=K.qa,K.Ia=K.ra+8*he*K.B+Tt,K.$c=0,qe+=me,K.mb=Pe?Ne:null,K.nb=Pe?qe:null,e(qe+Pe<=K.Fc+K.Vb),Nl(K),i(K.Ac,K.Bc,0,Se),he=1}}if(he){if(oe.ka=0,oe.y=K.sa,oe.O=K.ta,oe.f=K.qa,oe.N=K.ra,oe.ea=K.Ha,oe.Vd=K.Ia,oe.fa=K.R,oe.Rc=K.B,oe.F=null,oe.J=0,!xq){for(he=-255;255>=he;++he)Cq[255+he]=0>he?-he:he;for(he=-1020;1020>=he;++he)Tq[1020+he]=-128>he?-128:127<he?127:he;for(he=-112;112>=he;++he)Sq[112+he]=-16>he?-16:15<he?15:he;for(he=-255;510>=he;++he)Dq[255+he]=0>he?0:255<he?255:he;xq=1}id=Rl,jh=Wc,Uu=Kc,Vn=Bs,ar=Fn,ba=Us,ci=Lu,Si=Fh,$l=_,Jv=N,Ig=qa,Qw=Ul,mq=H,_q=ee,vq=Zc,yq=_a,bq=Lh,wq=_s,Ha[0]=zv,Ha[1]=ja,Ha[2]=yg,Ha[3]=Mu,Ha[4]=$v,Ha[5]=$i,Ha[6]=za,Ha[7]=qv,Ha[8]=pa,Ha[9]=Gv,od[0]=Ru,od[1]=vg,od[2]=jv,od[3]=Oh,od[4]=kl,od[5]=So,od[6]=Qc,ql[0]=ma,ql[1]=Bv,ql[2]=ku,ql[3]=Ou,ql[4]=Ol,ql[5]=bg,ql[6]=Jn,he=1}else he=0}he&&(he=function(bn,Di){for(bn.M=0;bn.M<bn.Va;++bn.M){var an,pt=bn.Jc[bn.M&bn.Xb],Xe=bn.m,di=bn;for(an=0;an<di.za;++an){var en=Xe,Tn=di,Cr=Tn.Ac,so=Tn.Bc+4*an,Wo=Tn.zc,Qr=Tn.ya[Tn.aa+an];if(Qr.$b=Tn.Qa.Bb?De(en,Tn.Pa.jb[0])?2+De(en,Tn.Pa.jb[2]):De(en,Tn.Pa.jb[1]):0,Tn.kc&&(Qr.Ad=De(en,Tn.Bd)),Qr.Za=!De(en,145)+0,Qr.Za){var Do=Qr.Ob,Ko=0;for(Tn=0;4>Tn;++Tn){var xi,Dn=Wo[0+Tn];for(xi=0;4>xi;++xi){for(var Wn=Mq[De(en,(Dn=Kbe[Cr[so+xi]][Dn])[0])];0<Wn;)Wn=Mq[2*Wn+De(en,Dn[Wn])];Cr[so+xi]=Dn=-Wn}r(Do,Ko,Cr,so,4),Ko+=4,Wo[0+Tn]=Dn}}else Dn=De(en,156)?De(en,128)?1:3:De(en,163)?2:0,Qr.Ob[0]=Dn,i(Cr,so,Dn,4),i(Wo,0,Dn,4);Qr.Dd=De(en,142)?De(en,114)?De(en,183)?1:3:2:0}if(di.m.Ka)return Mr(bn,7,"Premature end-of-partition0 encountered.");for(;bn.ja<bn.za;++bn.ja){if(di=pt,en=(Xe=bn).rb[Xe.sb-1],Cr=Xe.rb[Xe.sb+Xe.ja],an=Xe.ya[Xe.aa+Xe.ja],so=Xe.kc?an.Ad:0)en.la=Cr.la=0,an.Za||(en.Na=Cr.Na=0),an.Hc=0,an.Gc=0,an.ia=0;else{var Yr,Kn;if(en=Cr,Cr=di,so=Xe.Pa.Xc,Qr=Xe.pb[(Wo=Xe.ya[Xe.aa+Xe.ja]).$b],Ko=Xe.rb[Xe.sb-1],Dn=xi=0,i(Tn=Wo.ad,Do=0,0,384),Wo.Za)var ao=0,Wa=so[3];else{Wn=o(16);var hi=en.Na+Ko.Na;if(hi=ey(Cr,so[1],hi,Qr.Eb,0,Wn,0),en.Na=Ko.Na=(0<hi)+0,1<hi)id(Wn,0,Tn,Do);else{var ys=Wn[0]+3>>3;for(Wn=0;256>Wn;Wn+=16)Tn[Do+Wn]=ys}ao=1,Wa=so[0]}var ur=15&en.la,Pi=15&Ko.la;for(Wn=0;4>Wn;++Wn){var qs=1&Pi;for(ys=Kn=0;4>ys;++ys)ur=ur>>1|(qs=(hi=ey(Cr,Wa,hi=qs+(1&ur),Qr.Sc,ao,Tn,Do))>ao)<<7,Kn=Kn<<2|(3<hi?3:1<hi?2:0!=Tn[Do+0]),Do+=16;ur>>=4,Pi=Pi>>1|qs<<7,xi=(xi<<8|Kn)>>>0}for(Wa=ur,ao=Pi>>4,Yr=0;4>Yr;Yr+=2){for(Kn=0,ur=en.la>>4+Yr,Pi=Ko.la>>4+Yr,Wn=0;2>Wn;++Wn){for(qs=1&Pi,ys=0;2>ys;++ys)ur=ur>>1|(qs=0<(hi=ey(Cr,so[2],hi=qs+(1&ur),Qr.Qc,0,Tn,Do)))<<3,Kn=Kn<<2|(3<hi?3:1<hi?2:0!=Tn[Do+0]),Do+=16;ur>>=2,Pi=Pi>>1|qs<<5}Dn|=Kn<<4*Yr,Wa|=ur<<4<<Yr,ao|=(240&Pi)<<Yr}en.la=Wa,Ko.la=ao,Wo.Hc=xi,Wo.Gc=Dn,Wo.ia=43690&Dn?0:Qr.ia,so=!(xi|Dn)}if(0<Xe.L&&(Xe.wa[Xe.Y+Xe.ja]=Xe.gd[an.$b][an.Za],Xe.wa[Xe.Y+Xe.ja].La|=!so),di.Ka)return Mr(bn,7,"Premature end-of-file encountered.")}if(Nl(bn),Xe=Di,di=1,an=(pt=bn).D,en=0<pt.L&&pt.M>=pt.zb&&pt.M<=pt.Va,0==pt.Aa)t:{if(an.M=pt.M,an.uc=en,kr(pt,an),di=1,an=(Kn=pt.D).Nb,en=(Dn=i2[pt.L])*pt.R,so=pt.sa,Wo=pt.ta-en+(Wn=16*an*pt.R),Qr=pt.qa,Tn=pt.ra-(Cr=Dn/2*pt.B)+(ys=8*an*pt.B),Do=pt.Ha,Ko=pt.Ia-Cr+ys,Pi=0==(ur=Kn.M),xi=ur>=pt.Va-1,2==pt.Aa&&kr(pt,Kn),Kn.uc)for(qs=(hi=pt).D.M,e(hi.D.uc),Kn=hi.yb;Kn<hi.Hb;++Kn){Wa=qs;var Qo=(Gs=(uo=hi).D).Nb,Gs=Gs.wa[Gs.Y+(ao=Kn)],Hs=uo.sa,bs=uo.ta+16*Qo*(Yr=uo.R)+16*ao,Ws=Gs.dd,vr=Gs.tc;if(0!=vr)if(e(3<=vr),1==uo.L)0<ao&&yq(Hs,bs,Yr,vr+4),Gs.La&&wq(Hs,bs,Yr,vr),0<Wa&&vq(Hs,bs,Yr,vr+4),Gs.La&&bq(Hs,bs,Yr,vr);else{var Ks=uo.B,Ka=uo.qa,zh=uo.ra+8*Qo*Ks+8*ao,Gl=uo.Ha,uo=uo.Ia+8*Qo*Ks+8*ao;Qo=Gs.ld,0<ao&&(Si(Hs,bs,Yr,vr+4,Ws,Qo),Jv(Ka,zh,Gl,uo,Ks,vr+4,Ws,Qo)),Gs.La&&(Qw(Hs,bs,Yr,vr,Ws,Qo),_q(Ka,zh,Gl,uo,Ks,vr,Ws,Qo)),0<Wa&&(ci(Hs,bs,Yr,vr+4,Ws,Qo),$l(Ka,zh,Gl,uo,Ks,vr+4,Ws,Qo)),Gs.La&&(Ig(Hs,bs,Yr,vr,Ws,Qo),mq(Ka,zh,Gl,uo,Ks,vr,Ws,Qo))}}if(pt.ia&&alert("todo:DitherRow"),null!=Xe.put){if(Kn=16*ur,ur=16*(ur+1),Pi?(Xe.y=pt.sa,Xe.O=pt.ta+Wn,Xe.f=pt.qa,Xe.N=pt.ra+ys,Xe.ea=pt.Ha,Xe.W=pt.Ia+ys):(Kn-=Dn,Xe.y=so,Xe.O=Wo,Xe.f=Qr,Xe.N=Tn,Xe.ea=Do,Xe.W=Ko),xi||(ur-=Dn),ur>Xe.o&&(ur=Xe.o),Xe.F=null,Xe.J=null,null!=pt.Fa&&0<pt.Fa.length&&Kn<ur&&(Xe.J=Xn(pt,Xe,Kn,ur-Kn),Xe.F=pt.mb,null==Xe.F&&0==Xe.F.length)){di=Mr(pt,3,"Could not decode alpha data.");break t}Kn<Xe.j&&(Dn=Xe.j-Kn,Kn=Xe.j,e(!(1&Dn)),Xe.O+=pt.R*Dn,Xe.N+=pt.B*(Dn>>1),Xe.W+=pt.B*(Dn>>1),null!=Xe.F&&(Xe.J+=Xe.width*Dn)),Kn<ur&&(Xe.O+=Xe.v,Xe.N+=Xe.v>>1,Xe.W+=Xe.v>>1,null!=Xe.F&&(Xe.J+=Xe.v),Xe.ka=Kn-Xe.j,Xe.U=Xe.va-Xe.v,Xe.T=ur-Kn,di=Xe.put(Xe))}an+1!=pt.Ic||xi||(r(pt.sa,pt.ta-en,so,Wo+16*pt.R,en),r(pt.qa,pt.ra-Cr,Qr,Tn+8*pt.B,Cr),r(pt.Ha,pt.Ia-Cr,Do,Ko+8*pt.B,Cr))}if(!di)return Mr(bn,6,"Output aborted.")}return 1}(K,oe)),null!=oe.bc&&oe.bc(oe),he&=1}return he?(K.cb=0,he):0})(h,I)||(m=h.a)}}else m=h.a}0==m&&null!=U.Oa&&U.Oa.fd&&(m=Hv(U.ba))}U=m}k=0!=U?null:11>k?z.f.RGBA.eb:z.f.kb.y}else k=null;return k};var zq=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function l(S,L){for(var C="",x=0;x<4;x++)C+=String.fromCharCode(S[L++]);return C}function c(S,L){return S[L+0]|S[L+1]<<8}function d(S,L){return(S[L+0]|S[L+1]<<8|S[L+2]<<16)>>>0}function g(S,L){return(S[L+0]|S[L+1]<<8|S[L+2]<<16|S[L+3]<<24)>>>0}new u;var p=[0],b=[0],w=[],E=new u,A=t,R=function(S,L){var C={},x=0,P=!1,X=0,ge=0;if(C.frames=[],!
/** @license
               * Copyright (c) 2017 Dominik Homberger
              Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
              The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
              THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
              https://webpjs.appspot.com
              WebPRiffParser dominikhlbg@gmail.com
              */
function(F,q){for(var J=0;J<4;J++)if(F[q+J]!="RIFF".charCodeAt(J))return!0;return!1}(S,L)){for(g(S,L+=4),L+=8;L<S.length;){var Ee=l(S,L),Ie=g(S,L+=4);L+=4;var pe=Ie+(1&Ie);switch(Ee){case"VP8 ":case"VP8L":void 0===C.frames[x]&&(C.frames[x]={}),(ke=C.frames[x]).src_off=P?ge:L-8,ke.src_size=X+Ie+8,x++,P&&(P=!1,X=0,ge=0);break;case"VP8X":(ke=C.header={}).feature_flags=S[L];var Ae=L+4;ke.canvas_width=1+d(S,Ae),ke.canvas_height=1+d(S,Ae+=3),Ae+=3;break;case"ALPH":P=!0,X=pe+8,ge=L-8;break;case"ANIM":(ke=C.header).bgcolor=g(S,L),ke.loop_count=c(S,Ae=L+4),Ae+=2;break;case"ANMF":var Ge,ke;(ke=C.frames[x]={}).offset_x=2*d(S,L),ke.offset_y=2*d(S,L+=3),ke.width=1+d(S,L+=3),ke.height=1+d(S,L+=3),ke.duration=d(S,L+=3),L+=3,Ge=S[L++],ke.dispose=1&Ge,ke.blend=Ge>>1&1}"ANMF"!=Ee&&(L+=pe)}return C}}(A,0);R.response=A,R.rgbaoutput=!0,R.dataurl=!1;var V=R.header?R.header:null,O=R.frames?R.frames:null;if(V){V.loop_counter=V.loop_count,p=[V.canvas_height],b=[V.canvas_width];for(var Z=0;Z<O.length&&0!=O[Z].blend;Z++);}var ie=O[0],B=E.WebPDecodeRGBA(A,ie.src_off,ie.src_size,b,p);ie.rgba=B,ie.imgwidth=b[0],ie.imgheight=p[0];for(var D=0;D<b[0]*p[0]*4;D++)w[D]=B[D];return this.width=b,this.height=p,this.data=w,this}(function(t){var e,n,r,i,o,s,a,u,l,c=function(F){return this.isStrokeTransparent=(F=F||{}).isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=void 0!==F.transform?F.transform.clone():new u,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new s,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new s,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof F.ignoreClearRect||F.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,u=this.internal.Matrix,l=new c}]);var d=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=F;Object.defineProperty(this,"pdf",{get:function(){return q}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(Ce){J=!!Ce}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(Ce){te=!!Ce}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(Ce){isNaN(Ce)||(se=Ce)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(Ce){isNaN(Ce)||(de=Ce)}}),Object.defineProperty(this,"margin",{get:function(){return l.margin},set:function(Ce){var Y;"number"==typeof Ce?Y=[Ce,Ce,Ce,Ce]:((Y=new Array(4))[0]=Ce[0],Y[1]=Ce.length>=2?Ce[1]:Y[0],Y[2]=Ce.length>=3?Ce[2]:Y[0],Y[3]=Ce.length>=4?Ce[3]:Y[1]),l.margin=Y}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(Ce){ve=Ce}});var we=0;Object.defineProperty(this,"lastBreak",{get:function(){return we},set:function(Ce){we=Ce}});var De=[];Object.defineProperty(this,"pageBreaks",{get:function(){return De},set:function(Ce){De=Ce}}),Object.defineProperty(this,"ctx",{get:function(){return l},set:function(Ce){Ce instanceof c&&(l=Ce)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(Ce){l.path=Ce}});var Te=[];Object.defineProperty(this,"ctxStack",{get:function(){return Te},set:function(Ce){Te=Ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ce){var Y;Y=g(Ce),this.ctx.fillStyle=Y.style,this.ctx.isFillTransparent=0===Y.a,this.ctx.fillOpacity=Y.a,this.pdf.setFillColor(Y.r,Y.g,Y.b,{a:Y.a}),this.pdf.setTextColor(Y.r,Y.g,Y.b,{a:Y.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ce){var Y=g(Ce);this.ctx.strokeStyle=Y.style,this.ctx.isStrokeTransparent=0===Y.a,this.ctx.strokeOpacity=Y.a,0===Y.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(Y.r,Y.g,Y.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ce){-1!==["butt","round","square"].indexOf(Ce)&&(this.ctx.lineCap=Ce,this.pdf.setLineCap(Ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ce){isNaN(Ce)||(this.ctx.lineWidth=Ce,this.pdf.setLineWidth(Ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ce){-1!==["bevel","round","miter"].indexOf(Ce)&&(this.ctx.lineJoin=Ce,this.pdf.setLineJoin(Ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ce){isNaN(Ce)||(this.ctx.miterLimit=Ce,this.pdf.setMiterLimit(Ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ce){this.ctx.textBaseline=Ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ce){-1!==["right","end","center","left","start"].indexOf(Ce)&&(this.ctx.textAlign=Ce)}});var Qe=null,Ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ke},set:function(Ce){Qe=null,Ke=Ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ce){var Y;if(this.ctx.font=Ce,null!==(Y=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ce))){var rn=Y[1],Ut=Y[3],St=Y[4],$e=Y[6],ht=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(St)[2];St=Math.floor("px"===ht?parseFloat(St)*this.pdf.internal.scaleFactor:"em"===ht?parseFloat(St)*this.pdf.getFontSize():parseFloat(St)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(St);var Je=function(Nt){var _t,Mn,ln=[],He=Nt.trim();if(""===He)return KP;if(He in z$)return[z$[He]];for(;""!==He;){switch(Mn=null,_t=(He=q$(He)).charAt(0)){case'"':case"'":Mn=c1e(He.substring(1),_t);break;default:Mn=d1e(He)}if(null===Mn||(ln.push(Mn[0]),""!==(He=q$(Mn[1]))&&","!==He.charAt(0)))return KP;He=He.replace(/^,/,"")}return ln}($e);if(this.fontFaces){var on=function(Nt,_t,Mn){for(var ln=(Mn=Mn||{}).defaultFontFamily||"times",He=Object.assign({},l1e,Mn.genericFontFamilies||{}),At=null,Wt=null,Ct=0;Ct<_t.length;++Ct)if(He[(At=WP(_t[Ct])).family]&&(At.family=He[At.family]),Nt.hasOwnProperty(At.family)){Wt=Nt[At.family];break}if(!(Wt=Wt||Nt[ln]))throw new Error("Could not find a font-family for the rule '"+$$(At)+"' and default family '"+ln+"'.");if(Wt=function(Xt,vt){if(vt[Xt])return vt[Xt];var Ln=HP[Xt],yn=j$(vt,U$,Ln,Ln<=HP.normal?-1:1);if(!yn)throw new Error("Could not find a matching font-stretch value for "+Xt);return yn}(At.stretch,Wt),Wt=function(Xt,vt){if(vt[Xt])return vt[Xt];for(var Ln=V$[Xt],Er=0;Er<Ln.length;++Er)if(vt[Ln[Er]])return vt[Ln[Er]];throw new Error("Could not find a matching font-style for "+Xt)}(At.style,Wt),!(Wt=function(Xt,vt){if(vt[Xt])return vt[Xt];if(400===Xt&&vt[500])return vt[500];if(500===Xt&&vt[400])return vt[400];var Er=j$(vt,B$,u1e[Xt],Xt<400?-1:1);if(!Er)throw new Error("Could not find a matching font-weight for value "+Xt);return Er}(At.weight,Wt)))throw new Error("Failed to resolve a font for the rule '"+$$(At)+"'.");return Wt}(function(Nt,_t){if(null===Qe){var Mn=(ln=Nt.getFontList(),He=[],Object.keys(ln).forEach(function(At){ln[At].forEach(function(Wt){var Ct=null;switch(Wt){case"bold":Ct={family:At,weight:"bold"};break;case"italic":Ct={family:At,style:"italic"};break;case"bolditalic":Ct={family:At,weight:"bold",style:"italic"};break;case"":case"normal":Ct={family:At}}null!==Ct&&(Ct.ref={name:At,style:Wt},He.push(Ct))})}),He);Qe=function(ln){for(var He={},At=0;At<ln.length;++At){var Wt=WP(ln[At]),Ct=Wt.family,Xt=Wt.stretch,vt=Wt.style,Ln=Wt.weight;He[Ct]=He[Ct]||{},He[Ct][Xt]=He[Ct][Xt]||{},He[Ct][Xt][vt]=He[Ct][Xt][vt]||{},He[Ct][Xt][vt][Ln]=Wt}return He}(Mn.concat(_t))}var ln,He;return Qe}(this.pdf,this.fontFaces),Je.map(function(Nt){return{family:Nt,stretch:"normal",weight:Ut,style:rn}}));this.pdf.setFont(on.ref.name,on.ref.style)}else{var Pt="";("bold"===Ut||parseInt(Ut,10)>=700||"bold"===rn)&&(Pt="bold"),"italic"===rn&&(Pt+="italic"),0===Pt.length&&(Pt="normal");for(var kt="",Ht={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},mt=0;mt<Je.length;mt++){if(void 0!==this.pdf.internal.getFont(Je[mt],Pt,{noFallback:!0,disableWarning:!0})){kt=Je[mt];break}if("bolditalic"===Pt&&void 0!==this.pdf.internal.getFont(Je[mt],"bold",{noFallback:!0,disableWarning:!0}))kt=Je[mt],Pt="bold";else if(void 0!==this.pdf.internal.getFont(Je[mt],"normal",{noFallback:!0,disableWarning:!0})){kt=Je[mt],Pt="normal";break}}if(""===kt)for(var dt=0;dt<Je.length;dt++)if(Ht[Je[dt]]){kt=Ht[Je[dt]];break}this.pdf.setFont(kt=""===kt?"Times":kt,Pt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ce){this.ctx.globalCompositeOperation=Ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ce){this.ctx.globalAlpha=Ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ce){this.ctx.lineDashOffset=Ce,ke.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ce){this.ctx.lineDash=Ce,ke.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ce){this.ctx.ignoreClearRect=!!Ce}})};d.prototype.setLineDash=function(F){this.lineDash=F},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){O.call(this,"fill",!1)},d.prototype.stroke=function(){O.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(F,q){if(isNaN(F)||isNaN(q))throw sr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new s(F,q));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new s(F,q)},d.prototype.closePath=function(){var F=new s(0,0),q=0;for(q=this.path.length-1;-1!==q;q--)if("begin"===this.path[q].type&&"object"===qn(this.path[q+1])&&"number"==typeof this.path[q+1].x){F=new s(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(F.x,F.y)},d.prototype.lineTo=function(F,q){if(isNaN(F)||isNaN(q))throw sr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new s(F,q));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new s(J.x,J.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},d.prototype.quadraticCurveTo=function(F,q,J,te){if(isNaN(J)||isNaN(te)||isNaN(F)||isNaN(q))throw sr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new s(J,te)),de=this.ctx.transform.applyToPoint(new s(F,q));this.path.push({type:"qct",x1:de.x,y1:de.y,x:se.x,y:se.y}),this.ctx.lastPoint=new s(se.x,se.y)},d.prototype.bezierCurveTo=function(F,q,J,te,se,de){if(isNaN(se)||isNaN(de)||isNaN(F)||isNaN(q)||isNaN(J)||isNaN(te))throw sr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new s(se,de)),we=this.ctx.transform.applyToPoint(new s(F,q)),De=this.ctx.transform.applyToPoint(new s(J,te));this.path.push({type:"bct",x1:we.x,y1:we.y,x2:De.x,y2:De.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new s(ve.x,ve.y)},d.prototype.arc=function(F,q,J,te,se,de){if(isNaN(F)||isNaN(q)||isNaN(J)||isNaN(te)||isNaN(se))throw sr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new s(F,q));F=ve.x,q=ve.y;var we=this.ctx.transform.applyToPoint(new s(0,J)),De=this.ctx.transform.applyToPoint(new s(0,0));J=Math.sqrt(Math.pow(we.x-De.x,2)+Math.pow(we.y-De.y,2))}Math.abs(se-te)>=2*Math.PI&&(te=0,se=2*Math.PI),this.path.push({type:"arc",x:F,y:q,radius:J,startAngle:te,endAngle:se,counterclockwise:de})},d.prototype.arcTo=function(F,q,J,te,se){throw new Error("arcTo not implemented.")},d.prototype.rect=function(F,q,J,te){if(isNaN(F)||isNaN(q)||isNaN(J)||isNaN(te))throw sr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,q),this.lineTo(F+J,q),this.lineTo(F+J,q+te),this.lineTo(F,q+te),this.lineTo(F,q),this.lineTo(F+J,q),this.lineTo(F,q)},d.prototype.fillRect=function(F,q,J,te){if(isNaN(F)||isNaN(q)||isNaN(J)||isNaN(te))throw sr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var se={};"butt"!==this.lineCap&&(se.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,q,J,te),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},d.prototype.strokeRect=function(F,q,J,te){if(isNaN(F)||isNaN(q)||isNaN(J)||isNaN(te))throw sr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(F,q,J,te),this.stroke())},d.prototype.clearRect=function(F,q,J,te){if(isNaN(F)||isNaN(q)||isNaN(J)||isNaN(te))throw sr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,q,J,te))},d.prototype.save=function(F){F="boolean"!=typeof F||F;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},d.prototype.restore=function(F){F="boolean"!=typeof F||F;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(q),F&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(F){var q,J,te,se;if(!0===F.isCanvasGradient&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))q=0,J=0,te=0,se=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(null!==de)q=parseInt(de[1]),J=parseInt(de[2]),te=parseInt(de[3]),se=1;else if(null!==(de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F)))q=parseInt(de[1]),J=parseInt(de[2]),te=parseInt(de[3]),se=parseFloat(de[4]);else{if(se=1,"string"==typeof F&&"#"!==F.charAt(0)){var ve=new T$(F);F=ve.ok?ve.toHex():"#000000"}4===F.length?(q=F.substring(1,2),q+=q,J=F.substring(2,3),J+=J,te=F.substring(3,4),te+=te):(q=F.substring(1,3),J=F.substring(3,5),te=F.substring(5,7)),q=parseInt(q,16),J=parseInt(J,16),te=parseInt(te,16)}}return{r:q,g:J,b:te,a:se,style:F}},p=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},b=function(){return!(!this.ctx.isStrokeTransparent&&0!=this.globalAlpha)};d.prototype.fillText=function(F,q,J,te){if(isNaN(q)||isNaN(J)||"string"!=typeof F)throw sr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!p.call(this)){var se=pe(this.ctx.transform.rotation);x.call(this,{text:F,x:q,y:J,scale:this.ctx.transform.scaleX,angle:se,align:this.textAlign,maxWidth:te})}},d.prototype.strokeText=function(F,q,J,te){if(isNaN(q)||isNaN(J)||"string"!=typeof F)throw sr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){te=isNaN(te)?void 0:te;var se=pe(this.ctx.transform.rotation);x.call(this,{text:F,x:q,y:J,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:te})}},d.prototype.measureText=function(F){if("string"!=typeof F)throw sr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,J=this.pdf.internal.scaleFactor,te=q.internal.getFontSize(),se=q.getStringUnitWidth(F)*te/q.internal.scaleFactor;return new function(de){var ve=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ve}}),this}({width:se*=Math.round(96*J/72*1e4)/1e4})},d.prototype.scale=function(F,q){if(isNaN(F)||isNaN(q))throw sr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new u(F,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},d.prototype.rotate=function(F){if(isNaN(F))throw sr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new u(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},d.prototype.translate=function(F,q){if(isNaN(F)||isNaN(q))throw sr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new u(1,0,0,1,F,q);this.ctx.transform=this.ctx.transform.multiply(J)},d.prototype.transform=function(F,q,J,te,se,de){if(isNaN(F)||isNaN(q)||isNaN(J)||isNaN(te)||isNaN(se)||isNaN(de))throw sr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new u(F,q,J,te,se,de);this.ctx.transform=this.ctx.transform.multiply(ve)},d.prototype.setTransform=function(F,q,J,te,se,de){F=isNaN(F)?1:F,q=isNaN(q)?0:q,J=isNaN(J)?0:J,te=isNaN(te)?1:te,se=isNaN(se)?0:se,de=isNaN(de)?0:de,this.ctx.transform=new u(F,q,J,te,se,de)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(F,q,J,te,se,de,ve,we,De){var Te=this.pdf.getImageProperties(F),Qe=1,Ke=1,Ce=1,Y=1;void 0!==te&&void 0!==we&&(Ce=we/te,Y=De/se,Qe=Te.width/te*we/te,Ke=Te.height/se*De/se),void 0===de&&(de=q,ve=J,q=0,J=0),void 0!==te&&void 0===we&&(we=te,De=se),void 0===te&&void 0===we&&(we=Te.width,De=Te.height);for(var rn,Ut=this.ctx.transform.decompose(),St=pe(Ut.rotate.shx),$e=new u,ht=($e=($e=($e=$e.multiply(Ut.translate)).multiply(Ut.skew)).multiply(Ut.scale)).applyToRectangle(new a(de-q*Ce,ve-J*Y,te*Qe,se*Ke)),Je=E.call(this,ht),Bt=[],wt=0;wt<Je.length;wt+=1)-1===Bt.indexOf(Je[wt])&&Bt.push(Je[wt]);if(V(Bt),this.autoPaging)for(var on=Bt[0],Pt=Bt[Bt.length-1],kt=on;kt<Pt+1;kt++){this.pdf.setPage(kt);var Ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],mt=1===kt?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_t=1===kt?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(kt-2)*Nt;if(0!==this.ctx.clip_path.length){var Mn=this.path;rn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(rn,this.posX+this.margin[3],-_t+mt+this.ctx.prevPageLastElemOffset),Z.call(this,"fill",!0),this.path=Mn}var ln=JSON.parse(JSON.stringify(ht));ln=R([ln],this.posX+this.margin[3],-_t+mt+this.ctx.prevPageLastElemOffset)[0];var He=(kt>on||kt<Pt)&&w.call(this);He&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ht,Nt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",ln.x,ln.y,ln.w,ln.h,null,null,St),He&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",ht.x,ht.y,ht.w,ht.h,null,null,St)};var E=function(F,q,J){var te=[];q=q||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":te.push(Math.floor((F.y+se)/J)+1);break;case"arc":te.push(Math.floor((F.y+se-F.radius)/J)+1),te.push(Math.floor((F.y+se+F.radius)/J)+1);break;case"qct":var de=Ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);te.push(Math.floor((de.y+se)/J)+1),te.push(Math.floor((de.y+de.h+se)/J)+1);break;case"bct":var ve=Ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);te.push(Math.floor((ve.y+se)/J)+1),te.push(Math.floor((ve.y+ve.h+se)/J)+1);break;case"rect":te.push(Math.floor((F.y+se)/J)+1),te.push(Math.floor((F.y+F.h+se)/J)+1)}for(var we=0;we<te.length;we+=1)for(;this.pdf.internal.getNumberOfPages()<te[we];)A.call(this);return te},A=function(){var F=this.fillStyle,q=this.strokeStyle,J=this.font,te=this.lineCap,se=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=q,this.font=J,this.lineCap=te,this.lineWidth=se,this.lineJoin=de},R=function(F,q,J){for(var te=0;te<F.length;te++)switch(F[te].type){case"bct":F[te].x2+=q,F[te].y2+=J;case"qct":F[te].x1+=q,F[te].y1+=J;default:F[te].x+=q,F[te].y+=J}return F},V=function(F){return F.sort(function(q,J){return q-J})},O=function(F,q){for(var J,te,se=this.fillStyle,de=this.strokeStyle,ve=this.lineCap,we=this.lineWidth,De=Math.abs(we*this.ctx.transform.scaleX),Te=this.lineJoin,Qe=JSON.parse(JSON.stringify(this.path)),Ke=JSON.parse(JSON.stringify(this.path)),Ce=[],Y=0;Y<Ke.length;Y++)if(void 0!==Ke[Y].x)for(var rn=E.call(this,Ke[Y]),Ut=0;Ut<rn.length;Ut+=1)-1===Ce.indexOf(rn[Ut])&&Ce.push(rn[Ut]);for(var St=0;St<Ce.length;St++)for(;this.pdf.internal.getNumberOfPages()<Ce[St];)A.call(this);if(V(Ce),this.autoPaging)for(var $e=Ce[0],ht=Ce[Ce.length-1],Je=$e;Je<ht+1;Je++){this.pdf.setPage(Je),this.fillStyle=se,this.strokeStyle=de,this.lineCap=ve,this.lineWidth=De,this.lineJoin=Te;var Bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=1===Je?this.posY+this.margin[0]:this.margin[0],Pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],kt=1===Je?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Je-2)*Pt;if(0!==this.ctx.clip_path.length){var Ht=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(J,this.posX+this.margin[3],-kt+wt+this.ctx.prevPageLastElemOffset),Z.call(this,F,!0),this.path=Ht}if(te=JSON.parse(JSON.stringify(Qe)),this.path=R(te,this.posX+this.margin[3],-kt+wt+this.ctx.prevPageLastElemOffset),!1===q||0===Je){var mt=(Je>$e||Je<ht)&&w.call(this);mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Bt,Pt,null).clip().discardPath()),Z.call(this,F,q),mt&&this.pdf.restoreGraphicsState()}this.lineWidth=we}else this.lineWidth=De,Z.call(this,F,q),this.lineWidth=we;this.path=Qe},Z=function(F,q){if(("stroke"!==F||q||!b.call(this))&&("stroke"===F||q||!p.call(this))){for(var J,te,se=[],de=this.path,ve=0;ve<de.length;ve++){var we=de[ve];switch(we.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:we,deltas:[],abs:[]});break;case"lt":var De=se.length;if(de[ve-1]&&!isNaN(de[ve-1].x)&&(J=[we.x-de[ve-1].x,we.y-de[ve-1].y],De>0))for(;De>=0;De--)if(!0!==se[De-1].close&&!0!==se[De-1].begin){se[De-1].deltas.push(J),se[De-1].abs.push(we);break}break;case"bct":se[se.length-1].deltas.push(J=[we.x1-de[ve-1].x,we.y1-de[ve-1].y,we.x2-de[ve-1].x,we.y2-de[ve-1].y,we.x-de[ve-1].x,we.y-de[ve-1].y]);break;case"qct":se[se.length-1].deltas.push(J=[de[ve-1].x+2/3*(we.x1-de[ve-1].x)-de[ve-1].x,de[ve-1].y+2/3*(we.y1-de[ve-1].y)-de[ve-1].y,we.x+2/3*(we.x1-we.x)-de[ve-1].x,we.y+2/3*(we.y1-we.y)-de[ve-1].y,we.x-de[ve-1].x,we.y-de[ve-1].y]);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(we)}}te=q?null:"stroke"===F?"stroke":"fill";for(var Ut=!1,St=0;St<se.length;St++)if(se[St].arc)for(var $e=se[St].abs,ht=0;ht<$e.length;ht++){var Je=$e[ht];"arc"===Je.type?D.call(this,Je.x,Je.y,Je.radius,Je.startAngle,Je.endAngle,Je.counterclockwise,void 0,q,!Ut):P.call(this,Je.x,Je.y),Ut=!0}else!0===se[St].close?(this.pdf.internal.out("h"),Ut=!1):!0!==se[St].begin&&(X.call(this,se[St].deltas,se[St].start.x,se[St].start.y),Ut=!0);te&&S.call(this,te),q&&L.call(this)}},ie=function(F){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-J;case"top":return F+q-J;case"hanging":return F+q-2*J;case"middle":return F+q/2-J;default:return F}},B=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(q,J){this.colorStops.push([q,J])},F.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(F,q,J,te,se,de,ve,we,De){for(var Te=Ee.call(this,J,te,se,de),Qe=0;Qe<Te.length;Qe++){var Ke=Te[Qe];0===Qe&&(De?C.call(this,Ke.x1+F,Ke.y1+q):P.call(this,Ke.x1+F,Ke.y1+q)),ge.call(this,F,q,Ke.x2,Ke.y2,Ke.x3,Ke.y3,Ke.x4,Ke.y4)}we?L.call(this):S.call(this,ve)},S=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},L=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(F,q){this.pdf.internal.out(n(F)+" "+r(q)+" m")},x=function(F){var q;switch(F.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var J=this.pdf.getTextDimensions(F.text),te=ie.call(this,F.y),se=B.call(this,te)-J.h,de=this.ctx.transform.applyToPoint(new s(F.x,te)),ve=this.ctx.transform.decompose(),we=new u;we=(we=(we=we.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale);for(var De,Te,Qe,Ke=this.ctx.transform.applyToRectangle(new a(F.x,te,J.w,J.h)),Ce=we.applyToRectangle(new a(F.x,se,J.w,J.h)),Y=E.call(this,Ce),rn=[],Ut=0;Ut<Y.length;Ut+=1)-1===rn.indexOf(Y[Ut])&&rn.push(Y[Ut]);if(V(rn),this.autoPaging)for(var St=rn[0],$e=rn[rn.length-1],ht=St;ht<$e+1;ht++){this.pdf.setPage(ht);var Je=1===ht?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.margin[2],on=wt-this.margin[0],Pt=this.pdf.internal.pageSize.width-this.margin[1],kt=Pt-this.margin[3],Ht=1===ht?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(ht-2)*on;if(0!==this.ctx.clip_path.length){var mt=this.path;De=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(De,this.posX+this.margin[3],-1*Ht+Je),Z.call(this,"fill",!0),this.path=mt}var dt=R([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-Ht+Je+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*F.scale),this.lineWidth=(Qe=this.lineWidth)*F.scale);var Nt="text"!==this.autoPaging;if(Nt||dt.y+dt.h<=wt){if(Nt||dt.y>=Je&&dt.x<=Pt){var _t=Nt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||Pt-dt.x)[0],Mn=R([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-Ht+Je+this.ctx.prevPageLastElemOffset)[0],ln=Nt&&(ht>St||ht<$e)&&w.call(this);ln&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,on,null).clip().discardPath()),this.pdf.text(_t,Mn.x,Mn.y,{angle:F.angle,align:q,renderingMode:F.renderingMode}),ln&&this.pdf.restoreGraphicsState()}}else dt.y<wt&&(this.ctx.prevPageLastElemOffset+=wt-dt.y);F.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=Qe)}else F.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*F.scale),this.lineWidth=(Qe=this.lineWidth)*F.scale),this.pdf.text(F.text,de.x+this.posX,de.y+this.posY,{angle:F.angle,align:q,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=Qe)},P=function(F,q,J,te){te=te||0,this.pdf.internal.out(n(F+(J=J||0))+" "+r(q+te)+" l")},X=function(F,q,J){return this.pdf.lines(F,q,J,null,null)},ge=function(F,q,J,te,se,de,ve,we){this.pdf.internal.out([e(i(J+F)),e(o(te+q)),e(i(se+F)),e(o(de+q)),e(i(ve+F)),e(o(we+q)),"c"].join(" "))},Ee=function(F,q,J,te){for(var se=2*Math.PI,de=Math.PI/2;q>J;)q-=se;var ve=Math.abs(J-q);ve<se&&te&&(ve=se-ve);for(var we=[],De=te?-1:1,Te=q;ve>1e-5;){var Qe=Te+De*Math.min(ve,de);we.push(Ie.call(this,F,Te,Qe)),ve-=Math.abs(Qe-Te),Te=Qe}return we},Ie=function(F,q,J){var te=(J-q)/2,se=F*Math.cos(te),de=F*Math.sin(te),ve=se,we=-de,De=ve*ve+we*we,Te=De+ve*se+we*de,Qe=4/3*(Math.sqrt(2*De*Te)-Te)/(ve*de-we*se),Ke=ve-Qe*we,Ce=we+Qe*ve,Y=Ke,rn=-Ce,Ut=te+q,St=Math.cos(Ut),$e=Math.sin(Ut);return{x1:F*Math.cos(q),y1:F*Math.sin(q),x2:Ke*St-Ce*$e,y2:Ke*$e+Ce*St,x3:Y*St-rn*$e,y3:Y*$e+rn*St,x4:F*Math.cos(J),y4:F*Math.sin(J)}},pe=function(F){return 180*F/Math.PI},Ae=function(F,q,J,te,se,de){var ve=F+.5*(J-F),we=q+.5*(te-q),De=se+.5*(J-se),Te=de+.5*(te-de),Qe=Math.min(F,se,ve,De),Ke=Math.max(F,se,ve,De),Ce=Math.min(q,de,we,Te),Y=Math.max(q,de,we,Te);return new a(Qe,Ce,Ke-Qe,Y-Ce)},Ge=function(F,q,J,te,se,de,ve,we){var De,Te,Qe,Ke,Ce,Y,rn,Ut,St,$e,ht,Je,Bt,wt,on=J-F,Pt=te-q,kt=se-J,Ht=de-te,mt=ve-se,dt=we-de;for(Te=0;Te<41;Te++)St=(rn=(Qe=F+(De=Te/40)*on)+De*((Ce=J+De*kt)-Qe))+De*(Ce+De*(se+De*mt-Ce)-rn),$e=(Ut=(Ke=q+De*Pt)+De*((Y=te+De*Ht)-Ke))+De*(Y+De*(de+De*dt-Y)-Ut),0==Te?(ht=St,Je=$e,Bt=St,wt=$e):(ht=Math.min(ht,St),Je=Math.min(Je,$e),Bt=Math.max(Bt,St),wt=Math.max(wt,$e));return new a(Math.round(ht),Math.round(Je),Math.round(Bt-ht),Math.round(wt-Je))},ke=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var J=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(Et.API),
/**
         * @license
         * jsPDF filters PlugIn
         * Copyright (c) 2014 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){var e=function(s){var a,u,l,c,d,g,p,b,w,E;for(/[^\x00-\xFF]/.test(s),u=[],l=0,c=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)0!==(d=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))?(g=(d=((d=((d=((d=(d-(E=d%85))/85)-(w=d%85))/85)-(b=d%85))/85)-(p=d%85))/85)%85,u.push(g+33,p+33,b+33,w+33,E+33)):u.push(122);return function(A,R){for(var V=R;V>0;V--)A.pop()}(u,a.length),String.fromCharCode.apply(String,u)+"~>"},n=function(s){var a,u,l,c,d,g=String,p="length",b=255,w="charCodeAt",E="slice",A="replace";for(s[E](-2),s=s[E](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),l=[],c=0,d=(s+=a="uuuuu"[E](s[p]%5||5))[p];d>c;c+=5)u=52200625*(s[w](c)-33)+614125*(s[w](c+1)-33)+7225*(s[w](c+2)-33)+85*(s[w](c+3)-33)+(s[w](c+4)-33),l.push(b&u>>24,b&u>>16,b&u>>8,b&u);return function(R,V){for(var O=V;O>0;O--)R.pop()}(l,a[p]),g.fromCharCode.apply(g,l)},r=function(s){return s.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(s=s.replace(/\s/g,"")).indexOf(">")&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),!1===a.test(s))return"";for(var u="",l=0;l<s.length;l+=2)u+=String.fromCharCode("0x"+(s[l]+s[l+1]));return u},o=function(s){for(var a=new Uint8Array(s.length),u=s.length;u--;)a[u]=s.charCodeAt(u);return(a=_v(a)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,a){var u=0,l=s||"",c=[];for("string"==typeof(a=a||[])&&(a=[a]),u=0;u<a.length;u+=1)switch(a[u]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=i(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=r(l),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=o(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[u]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Et.API),
/**
         * @license
         * jsPDF fileloading PlugIn
         * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){t.loadFile=function(e,n,r){return function(i,o,s){o=!1!==o,s="function"==typeof s?s:function(){};var a=void 0;try{a=function(u,l,c){var d=new XMLHttpRequest,g=0,p=function(b){var w=b.length,E=[],A=String.fromCharCode;for(g=0;g<w;g+=1)E.push(A(255&b.charCodeAt(g)));return E.join("")};if(d.open("GET",u,!l),d.overrideMimeType("text/plain; charset=x-user-defined"),!1===l&&(d.onload=function(){c(200===d.status?p(this.responseText):void 0)}),d.send(null),l&&200===d.status)return p(d.responseText)}(i,o,s)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(Et.API),function(t){function e(){return(Gt.html2canvas?Promise.resolve(Gt.html2canvas):ws.e(239).then(ws.t.bind(ws,7239,23))).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(Gt.DOMPurify?Promise.resolve(Gt.DOMPurify):ws.e(627).then(ws.bind(ws,627))).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var u=qn(a);return"undefined"===u?"undefined":"string"===u||a instanceof String?"string":"number"===u||a instanceof Number?"number":"function"===u||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&1===a.nodeType?"element":"object"===u?"object":"unknown"},i=function(a,u){var l=document.createElement(a);for(var c in u.className&&(l.className=u.className),u.innerHTML&&u.dompurify&&(l.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)l.style[c]=u.style[c];return l},o=function a(u,l){for(var c=3===u.nodeType?document.createTextNode(u.nodeValue):u.cloneNode(!1),d=u.firstChild;d;d=d.nextSibling)!0!==l&&1===d.nodeType&&"SCRIPT"===d.nodeName||c.appendChild(a(d,l));return 1===u.nodeType&&("CANVAS"===u.nodeName?(c.width=u.width,c.height=u.height,c.getContext("2d").drawImage(u,0,0)):"TEXTAREA"!==u.nodeName&&"SELECT"!==u.nodeName||(c.value=u.value),c.addEventListener("load",function(){c.scrollTop=u.scrollTop,c.scrollLeft=u.scrollLeft},!0)),c},s=function a(u){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),l);return(c=c.setProgress(1,a,1,[a])).set(u)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,u){return a.__proto__=u||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,u){return this.then(function(){switch(u=u||function(l){switch(r(l)){case"string":return"string";case"element":return"canvas"===l.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===u.tagName&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(u){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,u(this.prop.container,l)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(u){var l=this.opt.jsPDF,c=this.opt.fontFaces,d="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,l.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var b=c[p],w=b.src.find(function(E){return"truetype"===E.format});w&&l.addFont(w.url,b.ref.name,b.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=0==g.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,l.context2d.save(!0),u(this.prop.container,g)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,u,l){return"img"===(l=l||"pdf").toLowerCase()||"image"===l.toLowerCase()?this.outputImg(a,u):this.outputPdf(a,u)},s.prototype.outputPdf=function(a,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,u)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if("object"!==r(a))return this;var u=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(u)})},s.prototype.get=function(a,u){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return u?u(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(2===a.length&&(a=[a[0],a[1],a[0],a[1]]),4===a.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function u(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(a=a||Et.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:u(a.inner.width,a.k),height:u(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,u,l,c){return null!=a&&(this.progress.val=a),null!=u&&(this.progress.state=u),null!=l&&(this.progress.n=l),null!=c&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,u,l,c){return this.setProgress(a?this.progress.val+a:null,u||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(a,u){var l=this;return this.thenCore(a,u,function(c,d){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(g){return l.updateProgress(null,c),g}).then(c,d).then(function(g){return l.updateProgress(1),g})})},s.prototype.thenCore=function(a,u,l){l=l||Promise.prototype.then;var c=this;a&&(a=a.bind(c)),u&&(u=u.bind(c));var d=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?c:s.convert(Object.assign({},c),Promise.prototype),g=l.call(d,a,u);return s.convert(g,c.__proto__)},s.prototype.thenExternal=function(a,u){return Promise.prototype.then.call(this,a,u)},s.prototype.thenList=function(a){var u=this;return a.forEach(function(l){u=u.thenCore(l)}),u},s.prototype.catch=function(a){a&&(a=a.bind(this));var u=Promise.prototype.catch.call(this,a);return s.convert(u,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Et.getPageSize=function(a,u,l){if("object"===qn(a)){var c=a;a=c.orientation,u=c.unit||u,l=c.format||l}u=u||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var d,g=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+u}var b,w=0,E=0;if(p.hasOwnProperty(g))w=p[g][1]/d,E=p[g][0]/d;else try{w=l[1],E=l[0]}catch{throw new Error("Invalid format: "+l)}if("p"===a||"portrait"===a)a="p",E>w&&(b=E,E=w,w=b);else{if("l"!==a&&"landscape"!==a)throw"Invalid orientation: "+a;a="l",w>E&&(b=E,E=w,w=b)}return{width:E,height:w,unit:u,k:d,orientation:a}},t.html=function(a,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(WP):null;var l=new s(u);return u.worker?l:l.from(a).doCallback()}}(Et.API),Et.API.addJS=function(t){return H$=t,this.internal.events.subscribe("postPutResources",function(){qw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(qw+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),G$=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+H$+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==qw&&void 0!==G$&&this.internal.out("/Names <</JavaScript "+qw+" 0 R>>")}),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=r.exec(s);null!=a&&n.internal.newObjectDeferredBegin(a[1],!1),n.internal.write(s)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(o=0;o<l;o++){var d=n.internal.newObject();c.push(d);var g=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<c.length;o++)n.internal.write("(page_"+(o+1)+")"+c[o]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return null==r&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var u=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var l=0;l<r.children.length;l++)this.renderItems(r.children[l])},n.outline.line=function(r){this.ctx.val+=r+"\r\n"},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+="\r\n"+r.id+" 0 obj\r\n<<\r\n"},n.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},n.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])}(Et.API),
/**
         * @license
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,o,s,a){var u,l=this.decode.DCT_DECODE,c=null;if("string"==typeof n||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=this.__addimage__.isArrayBuffer(n=s||n)?new Uint8Array(n):n,(u=function(d){for(var g,p=256*d.charCodeAt(4)+d.charCodeAt(5),b=d.length,w={width:0,height:0,numcomponents:1},E=4;E<b;E+=2){if(-1!==e.indexOf(d.charCodeAt((E+=p)+1))){g=256*d.charCodeAt(E+5)+d.charCodeAt(E+6),w={width:256*d.charCodeAt(E+7)+d.charCodeAt(E+8),height:g,numcomponents:d.charCodeAt(E+9)};break}p=256*d.charCodeAt(E+2)+d.charCodeAt(E+3)}return w}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:n,width:u.width,height:u.height,colorSpace:a,bitsPerComponent:8,filter:l,index:r,alias:i}}return c}}(Et.API),Et.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,d,g,p,o=function K0e(t,e){return new B0e(t,e).decode()}(t,{checkCrc:!0}),s=o.width,a=o.height,u=o.channels,c=o.depth,w=(i=o.palette&&1===u?function(D){for(var S=D.width,L=D.height,C=D.data,x=D.palette,P=D.depth,X=!1,ge=[],Ee=[],Ie=void 0,pe=!1,Ae=0,Ge=0;Ge<x.length;Ge++){var ke=L9(x[Ge],4),te=ke[3];ge.push(ke[0],ke[1],ke[2]),null!=te&&(0===te?(Ae++,Ee.length<1&&Ee.push(Ge)):te<255&&(pe=!0))}if(pe||Ae>1){X=!0,Ee=void 0;var se=S*L;Ie=new Uint8Array(se);for(var de=new DataView(C.buffer),ve=0;ve<se;ve++){var De=L9(x[QP(de,ve,P)],4)[3];Ie[ve]=De}}else 0===Ae&&(Ee=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:X?8:void 0,colorBytes:C,alphaBytes:Ie,needSMask:X,palette:ge,mask:Ee}}(o):2===u||4===u?function(D){for(var S=D.data,x=D.channels,P=D.depth,X=2===x?"DeviceGray":"DeviceRGB",ge=x-1,Ee=D.width*D.height,Ie=ge,Ae=1*Ee,Ge=Math.ceil(Ee*Ie*P/8),ke=Math.ceil(Ae*P/8),F=new Uint8Array(Ge),q=new Uint8Array(ke),J=new DataView(S.buffer),te=new DataView(F.buffer),se=new DataView(q.buffer),de=!1,ve=0;ve<Ee;ve++){for(var we=ve*x,De=0;De<Ie;De++)tq(te,QP(J,we+De,P),ve*Ie+De,P);var Te=QP(J,we+Ie,P);Te<(1<<P)-1&&(de=!0),tq(se,Te,1*ve,P)}return{colorSpace:X,colorsPerPixel:ge,sMaskBitsPerComponent:de?P:void 0,colorBytes:F,alphaBytes:q,needSMask:de}}(o):{colorSpace:L=1===(D=o).channels?"DeviceGray":"DeviceRGB",colorsPerPixel:"DeviceGray"===L?1:3,colorBytes:(S=D.data)instanceof Uint16Array?function(C){for(var x=C.length,P=new Uint8Array(2*x),X=new DataView(P.buffer,P.byteOffset,P.byteLength),ge=0;ge<x;ge++)X.setUint16(2*ge,C[ge],!1);return P}(S):S,needSMask:!1}).colorSpace,E=i.colorsPerPixel,A=i.sMaskBitsPerComponent,R=i.colorBytes,V=i.alphaBytes,O=i.needSMask,Z=i.palette,ie=i.mask,B=null;return r!==Et.API.image_compression.NONE?(B=function(D){var S;switch(D){case Et.API.image_compression.FAST:S=11;break;case Et.API.image_compression.MEDIUM:S=13;break;case Et.API.image_compression.SLOW:S=14;break;default:S=12}return S}(r),d=this.decode.FLATE_DECODE,g="/Predictor ".concat(B," /Colors ").concat(E," /BitsPerComponent ").concat(c," /Columns ").concat(s),t=Y$(R,Math.ceil(s*E*c/8),E,c,r),O&&(p=Y$(V,Math.ceil(s*A/8),1,A,r))):(d=void 0,g=void 0,t=R,O&&(p=V)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:d,decodeParameters:g,transparency:ie,palette:Z,sMask:p,predictor:B,width:s,height:a,bitsPerComponent:c,sMaskBitsPerComponent:A,colorSpace:w}}var D,S,L},function(t){t.processGIF89A=function(e,n,r,i){var o=new g1e(e),s=o.width,a=o.height,u=[];o.decodeAndBlitFrameRGBA(0,u);var l={data:u,width:s,height:a},c=new YP(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)},t.processGIF87A=t.processGIF89A}(Et.API),Fa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Fa.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[t]()}catch(n){sr.log("bit decode error:"+n)}},Fa.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var u=this.palette[o>>7-a&1];this.data[s+4*a]=u.blue,this.data[s+4*a+1]=u.green,this.data[s+4*a+2]=u.red,this.data[s+4*a+3]=255}0!==n&&(this.pos+=4-n)}},Fa.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,u=15&o,l=this.palette[o>>4];if(this.data[s]=l.blue,this.data[s+1]=l.green,this.data[s+2]=l.red,this.data[s+3]=255,2*i+1>=this.width)break;this.data[s+4]=(l=this.palette[u]).blue,this.data[s+4+1]=l.green,this.data[s+4+2]=l.red,this.data[s+4+3]=255}0!==e&&(this.pos+=4-e)}},Fa.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!==t&&(this.pos+=4-t)}},Fa.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,l=o>>15?255:0,c=r*this.width*4+4*i;this.data[c]=(o>>10&e)/e*255|0,this.data[c+1]=a,this.data[c+2]=s,this.data[c+3]=l}this.pos+=t}},Fa.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,u=(s>>5&n)/n*255|0,c=i*this.width*4+4*o;this.data[c]=(s>>11)/e*255|0,this.data[c+1]=u,this.data[c+2]=a,this.data[c+3]=255}this.pos+=t}},Fa.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Fa.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},Fa.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2018 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){t.processBMP=function(e,n,r,i){var o=new Fa(e,!1),s=o.width,a=o.height,u={data:o.getData(),width:s,height:a},l=new YP(100).encode(u,100);return t.processJPEG.call(this,l,n,r,i)}}(Et.API),iq.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2019 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){t.processWEBP=function(e,n,r,i){var o=new iq(e),s=o.width,a=o.height,u={data:o.getData(),width:s,height:a},l=new YP(100).encode(u,100);return t.processJPEG.call(this,l,n,r,i)}}(Et.API),Et.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,u=0,l=0;l<i;l+=4){var d=r[l+1],g=r[l+2],p=r[l+3];o[a++]=r[l],o[a++]=d,o[a++]=g,s[u++]=p}var b=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:b,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Et.API.setLanguage=function(t){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]&&(this.internal.languageSettings.languageCode=t,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Gw=(gg=Et.API).getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,u=a.fof?a.fof:1,l=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=l.fof?l.fof:1,d=!1!==e.doKerning,g=0,p=t.length,b=0,w=a[0]||u,E=[];for(n=0;n<p;n++)r=t.charCodeAt(n),"function"==typeof i.metadata.widthOfString?E.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(g=d&&"object"===qn(l[r])&&!isNaN(parseInt(l[r][b],10))?l[r][b]/c:0,E.push((a[r]||w)/u+g)),b=r;return E},W$=gg.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return gg.processArabic&&(t=gg.processArabic(t)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(t,n,i)/n:Gw.apply(this,arguments).reduce(function(o,s){return o+s},0)},K$=function(t,e,n,r){for(var i=[],o=0,s=t.length,a=0;o!==s&&a+e[o]<n;)a+=e[o],o++;i.push(t.slice(0,o));var u=o;for(a=0;o!==s;)a+e[o]>r&&(i.push(t.slice(u,o)),a=0,u=o),a+=e[o],o++;return u!==o&&i.push(t.slice(u,o)),i},Q$=function(t,e,n){n||(n={});var r,i,o,s,a,u,c=[],d=[c],g=n.textIndent||0,p=0,b=0,w=t.split(" "),E=Gw.apply(this,[" ",n])[0];if(u=-1===n.lineIndent?w[0].length+2:n.lineIndent||0){var A=Array(u).join(" "),R=[];w.map(function(O){(O=O.split(/\s*\n/)).length>1?R=R.concat(O.map(function(Z,ie){return(ie&&Z.length?"\n":"")+Z})):R.push(O[0])}),w=R,u=W$.apply(this,[A,n])}for(o=0,s=w.length;o<s;o++){var V=0;if(r=w[o],u&&"\n"==r[0]&&(r=r.substr(1),V=1),g+p+(b=(i=Gw.apply(this,[r,n])).reduce(function(O,Z){return O+Z},0))>e||V){if(b>e){for(a=K$.apply(this,[r,i,e-(g+p),e]),c.push(a.shift()),c=[a.pop()];a.length;)d.push([a.shift()]);b=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(O,Z){return O+Z},0)}else c=[r];d.push(c),g=b+u,p=E}else c.push(r),g+=p+b,p=E}return d.map(u?function(O,Z){return(Z?A:"")+O.join(" ")}:function(O){return O.join(" ")})},gg.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var d=this.internal.getFont(c.fontName,c.fontStyle),g="Unicode";return d.metadata[g]?{widths:d.metadata[g].widths||{0:1},kerning:d.metadata[g].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var a,u,l=[];for(a=0,u=r.length;a<u;a++)l=l.concat(Q$.apply(this,[r[a],s,o]));return l},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},o=0;o<16;o++)r[n[o]]=e[o],i[e[o]]=n[o];var s=function(g){return"0x"+parseInt(g,10).toString(16)},a=t.__fontmetrics__.compress=function(g){var p,b,w,E,A=["{"];for(var R in g){if(p=g[R],isNaN(parseInt(R,10))?b="'"+R+"'":(R=parseInt(R,10),b=(b=s(R).slice(2)).slice(0,-1)+i[b.slice(-1)]),"number"==typeof p)p<0?(w=s(p).slice(3),E="-"):(w=s(p).slice(2),E=""),w=E+w.slice(0,-1)+i[w.slice(-1)];else{if("object"!==qn(p))throw new Error("Don't know what to do with value type "+qn(p)+".");w=a(p)}A.push(b+w)}return A.push("}"),A.join("")},u=t.__fontmetrics__.uncompress=function(g){if("string"!=typeof g)throw new Error("Invalid argument passed to uncompress.");for(var p,b,w,E,A={},R=1,V=A,O=[],Z="",ie="",B=g.length-1,D=1;D<B;D+=1)"'"==(E=g[D])?p?(w=p.join(""),p=void 0):p=[]:p?p.push(E):"{"==E?(O.push([V,w]),V={},w=void 0):"}"==E?((b=O.pop())[0][b[1]]=V,w=void 0,V=b[0]):"-"==E?R=-1:void 0===w?r.hasOwnProperty(E)?(Z+=r[E],w=parseInt(Z,16)*R,R=1,Z=""):Z+=E:r.hasOwnProperty(E)?(ie+=r[E],V[w]=parseInt(ie,16)*R,R=1,w=void 0,ie=""):ie+=E;return A},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var p=g.font,b=d.Unicode[p.postScriptName];b&&(p.metadata.Unicode={},p.metadata.Unicode.widths=b.widths,p.metadata.Unicode.kerning=b.kerning);var w=c.Unicode[p.postScriptName];w&&(p.metadata.Unicode.encoding=w,p.encoding=w.codePages[0])}])}(Et.API),
/**
         * @license
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=n.charCodeAt(o);return i};t.API.events.push(["addFont",function(n){var s,a,r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===o.existsFileInVFS(i.postScriptName)?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");s=i,a=/^\x00\x01\x00\x00/.test(a=r)?e(a):e(Ow(a)),s.metadata=t.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]}}])}(Et),Et.API.addSvgAsImage=function(t,e,n,r,i,o,s,a){if(isNaN(e)||isNaN(n))throw sr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw sr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=r,u.height=i;var l=u.getContext("2d");l.fillStyle="#fff",l.fillRect(0,0,u.width,u.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(Gt.canvg?Promise.resolve(Gt.canvg):ws.e(842).then(ws.bind(ws,3842))).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(l,t,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(c)}).then(function(){d.addImage(u.toDataURL("image/jpeg",1),e,n,r,i,s,a)})},Et.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Et.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),u=[],l=0,c=0,d=0;function g(b,w){var E,A=!1;for(E=0;E<b.length;E+=1)b[E]===w&&(A=!0);return A}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===t||!0===e){var p=a.length;for(d=0;d<p;d+=1)n[a[d]].value=n[a[d]].defaultValue,n[a[d]].explicitSet=!1}if("object"===qn(t))for(i in t)if(o=t[i],g(a,i)&&void 0!==o){if("boolean"===n[i].type&&"boolean"==typeof o)n[i].value=o;else if("name"===n[i].type&&g(n[i].valueSet,o))n[i].value=o;else if("integer"===n[i].type&&Number.isInteger(o))n[i].value=o;else if("array"===n[i].type){for(l=0;l<o.length;l+=1)if(r=!0,1===o[l].length&&"number"==typeof o[l][0])u.push(String(o[l]-1));else if(o[l].length>1){for(c=0;c<o[l].length;c+=1)"number"!=typeof o[l][c]&&(r=!1);!0===r&&u.push([o[l][0]-1,o[l][1]-1].join(" "))}n[i].value="["+u.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var b,w=[];for(b in n)!0===n[b].explicitSet&&w.push("name"===n[b].type?"/"+b+" /"+n[b].value:"/"+b+" "+n[b].value);0!==w.length&&this.internal.write("/ViewerPreferences\n<<\n"+w.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},
/** ====================================================================
         * @license
         * jsPDF XMP metadata plugin
         * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
         *
         * Permission is hereby granted, free of charge, to any person obtaining
         * a copy of this software and associated documentation files (the
         * "Software"), to deal in the Software without restriction, including
         * without limitation the rights to use, copy, modify, merge, publish,
         * distribute, sublicense, and/or sell copies of the Software, and to
         * permit persons to whom the Software is furnished to do so, subject to
         * the following conditions:
         *
         * The above copyright notice and this permission notice shall be
         * included in all copies or substantial portions of the Software.
         *
         * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
         * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
         * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
         * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
         * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
         * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
         * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
         * ====================================================================
         */
function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),l=o.length+s.length+a.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+l+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+u),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Et.API),function(t){var e=t.API,n=e.pdfEscape16=function(o,s){for(var a,u=s.metadata.Unicode.widths,l=["","0","00","000","0000"],c=[""],d=0,g=o.length;d<g;++d){if(a=s.metadata.characterToGlyph(o.charCodeAt(d)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(d),-1==u.indexOf(a)&&(u.push(a),u.push([parseInt(s.metadata.widthOfGlyph(a),10)])),"0"==a)return c.join("");a=a.toString(16),c.push(l[4-a.length],a)}return c.join("")},r=function(o){var s,a,u,l,c,d,g;for(c="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",u=[],d=0,g=(a=Object.keys(o).sort(function(p,b){return p-b})).length;d<g;d++)s=a[d],u.length>=100&&(c+="\n"+u.length+" beginbfchar\n"+u.join("\n")+"\nendbfchar",u=[]),null!=o[s]&&"function"==typeof o[s].toString&&(l=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),u.push("<"+s+"><"+l+">"));return u.length&&(c+="\n"+u.length+" beginbfchar\n"+u.join("\n")+"\nendbfchar\n"),c+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(o){!function(s){var a=s.font,u=s.out,l=s.newObject,c=s.putStream;if(a.metadata instanceof t.API.TTFFont&&"Identity-H"===a.encoding){for(var d=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",b=0;b<g.length;b++)p+=String.fromCharCode(g[b]);var w=l();c({data:p,addLength1:!0,objectId:w}),u("endobj");var E=l();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:E}),u("endobj");var A=l();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+ug(a.fontName)),u("/FontFile2 "+w+" 0 R"),u("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),u("/Flags "+a.metadata.flags),u("/StemV "+a.metadata.stemV),u("/ItalicAngle "+a.metadata.italicAngle),u("/Ascent "+a.metadata.ascender),u("/Descent "+a.metadata.decender),u("/CapHeight "+a.metadata.capHeight),u(">>"),u("endobj");var R=l();u("<<"),u("/Type /Font"),u("/BaseFont /"+ug(a.fontName)),u("/FontDescriptor "+A+" 0 R"),u("/W "+t.API.PDFObject.convert(d)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+a.encoding+")"),u(">>"),u(">>"),u("endobj"),a.objectNumber=l(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+E+" 0 R"),u("/BaseFont /"+ug(a.fontName)),u("/Encoding /"+a.encoding),u("/DescendantFonts ["+R+" 0 R]"),u(">>"),u("endobj"),a.isAlreadyPutted=!0}}(o)}]),e.events.push(["putFont",function(o){!function(s){var a=s.font,u=s.out,l=s.newObject,c=s.putStream;if(a.metadata instanceof t.API.TTFFont&&"WinAnsiEncoding"===a.encoding){for(var d=a.metadata.rawData,g="",p=0;p<d.length;p++)g+=String.fromCharCode(d[p]);var b=l();c({data:g,addLength1:!0,objectId:b}),u("endobj");var w=l();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:w}),u("endobj");var E=l();u("<<"),u("/Descent "+a.metadata.decender),u("/CapHeight "+a.metadata.capHeight),u("/StemV "+a.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+b+" 0 R"),u("/Flags 96"),u("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),u("/FontName /"+ug(a.fontName)),u("/ItalicAngle "+a.metadata.italicAngle),u("/Ascent "+a.metadata.ascender),u(">>"),u("endobj"),a.objectNumber=l();for(var A=0;A<a.metadata.hmtx.widths.length;A++)a.metadata.hmtx.widths[A]=parseInt(a.metadata.hmtx.widths[A]*(1e3/a.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+ug(a.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),u("endobj"),a.isAlreadyPutted=!0}}(o)}]);var i=function(o){var s,a=o.text||"",u=o.x,l=o.y,c=o.options||{},d=o.mutex||{},g=d.pdfEscape,p=d.activeFontKey,b=d.fonts,w=p,E="",A=0,R="",V=b[w].encoding;if("Identity-H"!==b[w].encoding)return{text:a,x:u,y:l,options:c,mutex:d};for(R=a,w=p,Array.isArray(a)&&(R=a[0]),A=0;A<R.length;A+=1)b[w].metadata.hasOwnProperty("cmap")&&(s=b[w].metadata.cmap.unicode.codeMap[R[A].charCodeAt(0)]),s||R[A].charCodeAt(0)<256&&b[w].metadata.hasOwnProperty("Unicode")?E+=R[A]:E+="";var O="";return parseInt(w.slice(1))<14||"WinAnsiEncoding"===V?O=g(E,w).split("").map(function(Z){return Z.charCodeAt(0).toString(16)}).join(""):"Identity-H"===V&&(O=n(E,b[w])),d.isHex=!0,{text:O,x:u,y:l,options:c,mutex:d}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],u={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var l=0;for(l=0;l<s.length;l+=1)Array.isArray(s[l])&&3===s[l].length?a.push([i(Object.assign({},u,{text:s[l][0]})).text,s[l][1],s[l][2]]):a.push(i(Object.assign({},u,{text:s[l]})).text);o.text=a}else o.text=i(Object.assign({},u,{text:s})).text}])}(Et),
/**
         * @license
         * jsPDF virtual FileSystem functionality
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){var e=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),void 0!==this.internal.vFS[n]},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),void 0!==this.internal.vFS[n]?this.internal.vFS[n]:null}}(Et.API),
/**
         * @license
         * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
         * MIT License
         */
function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,o,s,a,u,l,c,d=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],A=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),R=!1,V=0;this.__bidiEngine__={};var O=function(C){var x=C.charCodeAt(),P=x>>8,X=w[P];return void 0!==X?d[256*X+(255&x)]:252===P||253===P?"AL":A.test(P)?"L":8===P?"R":"N"},Z=function(C){for(var x,P=0;P<C.length;P++){if("L"===(x=O(C.charAt(P))))return!1;if("R"===x)return!0}return!1},ie=function(C,x,P,X){var ge,Ee,Ie,pe,Ae=x[X];switch(Ae){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":R=!1;break;case"N":case"AN":break;case"EN":R&&(Ae="AN");break;case"AL":R=!0,Ae="R";break;case"WS":case"BN":Ae="N";break;case"CS":X<1||X+1>=x.length||"EN"!==(ge=P[X-1])&&"AN"!==ge||"EN"!==(Ee=x[X+1])&&"AN"!==Ee?Ae="N":R&&(Ee="AN"),Ae=Ee===ge?Ee:"N";break;case"ES":Ae="EN"===(ge=X>0?P[X-1]:"B")&&X+1<x.length&&"EN"===x[X+1]?"EN":"N";break;case"ET":if(X>0&&"EN"===P[X-1]){Ae="EN";break}if(R){Ae="N";break}for(Ie=X+1,pe=x.length;Ie<pe&&"ET"===x[Ie];)Ie++;Ae=Ie<pe&&"EN"===x[Ie]?"EN":"N";break;case"NSM":if(s&&!a){for(pe=x.length,Ie=X+1;Ie<pe&&"NSM"===x[Ie];)Ie++;if(Ie<pe){var Ge=C[X];if(ge=x[Ie],(Ge>=1425&&Ge<=2303||64286===Ge)&&("R"===ge||"AL"===ge)){Ae="R";break}}}Ae=X<1||"B"===(ge=x[X-1])?"N":P[X-1];break;case"B":R=!1,i=!0,Ae=V;break;case"S":o=!0,Ae="N"}return Ae},B=function(C,x,P){var X=C.split("");return P&&D(X,P,{hiLevel:V}),X.reverse(),x&&x.reverse(),X.join("")},D=function(C,x,P){var X,ge,Ee,Ie,pe,Ae=-1,Ge=C.length,ke=0,F=[],q=V?p:g,J=[];for(R=!1,i=!1,o=!1,ge=0;ge<Ge;ge++)J[ge]=O(C[ge]);for(Ee=0;Ee<Ge;Ee++){if(pe=ke,F[Ee]=ie(C,J,F,Ee),X=240&(ke=q[pe][b[F[Ee]]]),x[Ee]=Ie=q[ke&=15][5],X>0)if(16===X){for(ge=Ae;ge<Ee;ge++)x[ge]=1;Ae=-1}else Ae=-1;if(q[ke][6])-1===Ae&&(Ae=Ee);else if(Ae>-1){for(ge=Ae;ge<Ee;ge++)x[ge]=Ie;Ae=-1}"B"===J[Ee]&&(x[Ee]=0),P.hiLevel|=Ie}o&&function(te,se,de){for(var ve=0;ve<de;ve++)if("S"===te[ve]){se[ve]=V;for(var we=ve-1;we>=0&&"WS"===te[we];we--)se[we]=V}}(J,x,Ge)},S=function(C,x,P,X,ge){if(!(ge.hiLevel<C)){if(1===C&&1===V&&!i)return x.reverse(),void(P&&P.reverse());for(var Ee,Ie,pe,Ae,Ge=x.length,ke=0;ke<Ge;){if(X[ke]>=C){for(pe=ke+1;pe<Ge&&X[pe]>=C;)pe++;for(Ae=ke,Ie=pe-1;Ae<Ie;Ae++,Ie--)Ee=x[Ae],x[Ae]=x[Ie],x[Ie]=Ee,P&&(Ee=P[Ae],P[Ae]=P[Ie],P[Ie]=Ee);ke=pe}ke++}}},L=function(C,x,P){var X=C.split(""),ge={hiLevel:V};return P||(P=[]),D(X,P,ge),function(Ee,Ie,pe){if(0!==pe.hiLevel&&c)for(var Ae,Ge=0;Ge<Ee.length;Ge++)1===Ie[Ge]&&(Ae=E.indexOf(Ee[Ge]))>=0&&(Ee[Ge]=E[Ae+1])}(X,P,ge),S(2,X,x,P,ge),S(1,X,x,P,ge),X.join("")};return this.__bidiEngine__.doBidiReorder=function(C,x,P){if(function(ge,Ee){if(Ee)for(var Ie=0;Ie<ge.length;Ie++)Ee[Ie]=Ie;void 0===a&&(a=Z(ge)),void 0===l&&(l=Z(ge))}(C,x),s||!u||l)if(s&&u&&a^l)V=a?1:0,C=B(C,x,P);else if(!s&&u&&l)V=a?1:0,C=L(C,x,P),C=B(C,x);else if(!s||a||u||l){if(s&&!u&&a^l)C=B(C,x),a?(V=0,C=L(C,x,P)):(V=1,C=L(C,x,P),C=B(C,x));else if(s&&a&&!u&&l)V=1,C=L(C,x,P),C=B(C,x);else if(!s&&!u&&a^l){var X=c;a?(V=1,C=L(C,x,P),V=0,c=!1,C=L(C,x,P),c=X):(V=0,C=L(C,x,P),C=B(C,x),V=1,c=!1,C=L(C,x,P),c=X,C=B(C,x))}}else V=0,C=L(C,x,P);else V=a?1:0,C=L(C,x,P);return C},this.__bidiEngine__.setOptions=function(C){C&&(s=C.isInputVisual,u=C.isOutputVisual,a=C.isInputRtl,l=C.isOutputRtl,c=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,o=r.options||{},s=[];if(o.isInputVisual="boolean"!=typeof o.isInputVisual||o.isInputVisual,n.setOptions(o),"[object Array]"===Object.prototype.toString.call(i)){var a=0;for(s=[],a=0;a<i.length;a+=1)"[object Array]"===Object.prototype.toString.call(i[a])?s.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([n.doBidiReorder(i[a])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Et),Et.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new qc(e),this.contents.pos=4,"ttcf"===n.readString(4))throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new P1e(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new m1e(this.contents),this.head=new v1e(this),this.name=new E1e(this),this.cmap=new sq(this),this.toUnicode={},this.hhea=new y1e(this),this.maxp=new A1e(this),this.hmtx=new C1e(this),this.post=new w1e(this),this.os2=new b1e(this),this.loca=new x1e(this),this.glyf=new T1e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var n,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var s,a,u,l;for(l=[],s=0,a=(u=this.bbox).length;s<a;s++)l.push(Math.round(u[s]*this.scaleFactor));return l}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(o=this.familyClass)||2===o||3===o||4===o||5===o||7===o,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return(null!=(n=this.cmap.unicode)?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){return null==n&&(n=!1),(this.ascender+(n?this.lineGap:0)-this.decender)/1e3*e},t}();var Va,qc=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,o,s,a,u;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^u)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*o+65536*s+256*a+u},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var r,i,o;for(o=[],r=0,i=e.length;r<i;r++)o.push(this.writeByte(e[r]));return o},t}(),m1e=function(){var t;function e(n){var r,i,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,u,l,c,d,g,p,b,w;for(w in p=Object.keys(n).length,u=Math.log(2),d=16*Math.floor(Math.log(p)/u),s=Math.floor(d/u),c=16*p-d,(i=new qc).writeInt(this.scalarType),i.writeShort(p),i.writeShort(d),i.writeShort(s),i.writeShort(c),l=i.pos+16*p,a=null,b=[],n)for(g=n[w],i.writeString(w),i.writeInt(t(g)),i.writeInt(l),i.writeInt(g.length),b=b.concat(g),"head"===w&&(a=l),l+=g.length;l%4;)b.push(0),l++;return i.write(b),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,o,s;for(n=aq.call(n);n.length%4;)n.push(0);for(o=new qc(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},e}(),_1e={}.hasOwnProperty,Tu=function(t,e){for(var n in e)_1e.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Va=function(){function t(e){var n;this.file=e,this.exists=!!(n=this.file.directory.tables[this.tag]),n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var v1e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tu(t,Va),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new qc).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),oq=function(){function t(e,n){var r,i,o,s,a,u,l,c,d,g,p,b,w,E,A,R,V;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(p=e.readUInt16(),g=p/2,e.pos+=6,o=function(){var O,Z;for(Z=[],u=O=0;0<=g?O<g:O>g;u=0<=g?++O:--O)Z.push(e.readUInt16());return Z}(),e.pos+=2,w=function(){var O,Z;for(Z=[],u=O=0;0<=g?O<g:O>g;u=0<=g?++O:--O)Z.push(e.readUInt16());return Z}(),l=function(){var O,Z;for(Z=[],u=O=0;0<=g?O<g:O>g;u=0<=g?++O:--O)Z.push(e.readUInt16());return Z}(),c=function(){var O,Z;for(Z=[],u=O=0;0<=g?O<g:O>g;u=0<=g?++O:--O)Z.push(e.readUInt16());return Z}(),i=(this.length-e.pos+this.offset)/2,a=function(){var O,Z;for(Z=[],u=O=0;0<=i?O<i:O>i;u=0<=i?++O:--O)Z.push(e.readUInt16());return Z}(),u=A=0,V=o.length;A<V;u=++A)for(E=o[u],r=R=b=w[u];b<=E?R<=E:R>=E;r=b<=E?++R:--R)0===c[u]?s=r+l[u]:0!==(s=a[c[u]/2+(r-b)-(g-u)]||0)&&(s+=l[u]),this.codeMap[r]=65535&s}e.pos=d}return t.encode=function(e,n){var r,i,o,s,a,u,l,c,d,g,p,b,w,E,A,R,V,Z,ie,B,D,S,L,C,x,P,X,ge,Ee,Ie,pe,Ae,Ge,ke,F,q,J,te,se,de,ve,we,De,Te,Qe;switch(X=new qc,s=Object.keys(e).sort(function(Ke,Ce){return Ke-Ce}),n){case"macroman":for(w=0,E=function(){var Ke=[];for(b=0;b<256;++b)Ke.push(0);return Ke}(),R={0:0},o={},ge=0,Ae=s.length;ge<Ae;ge++)null==R[we=e[i=s[ge]]]&&(R[we]=++w),o[i]={old:e[i],new:R[e[i]]},E[i]=R[e[i]];return X.writeUInt16(1),X.writeUInt16(0),X.writeUInt32(12),X.writeUInt16(0),X.writeUInt16(262),X.writeUInt16(0),X.write(E),{charMap:o,subtable:X.data,maxGlyphID:w+1};case"unicode":for(x=[],d=[],V=0,R={},r={},A=l=null,Ee=0,Ge=s.length;Ee<Ge;Ee++)null==R[Z=e[i=s[Ee]]]&&(R[Z]=++V),r[i]={old:Z,new:R[Z]},a=R[Z]-i,null!=A&&a===l||(A&&d.push(A),x.push(i),l=a),A=i;for(A&&d.push(A),d.push(65535),x.push(65535),L=2*(S=x.length),D=2*Math.pow(Math.log(S)/Math.LN2,2),g=Math.log(D/2)/Math.LN2,B=2*S-D,u=[],ie=[],p=[],b=Ie=0,ke=x.length;Ie<ke;b=++Ie){if(c=d[b],65535===(C=x[b])){u.push(0),ie.push(0);break}if(C-(P=r[C].new)>=32768)for(u.push(0),ie.push(2*(p.length+S-b)),i=pe=C;C<=c?pe<=c:pe>=c;i=C<=c?++pe:--pe)p.push(r[i].new);else u.push(P-C),ie.push(0)}for(X.writeUInt16(3),X.writeUInt16(1),X.writeUInt32(12),X.writeUInt16(4),X.writeUInt16(16+8*S+2*p.length),X.writeUInt16(0),X.writeUInt16(L),X.writeUInt16(D),X.writeUInt16(g),X.writeUInt16(B),de=0,F=d.length;de<F;de++)X.writeUInt16(i=d[de]);for(X.writeUInt16(0),ve=0,q=x.length;ve<q;ve++)X.writeUInt16(i=x[ve]);for(De=0,J=u.length;De<J;De++)X.writeUInt16(a=u[De]);for(Te=0,te=ie.length;Te<te;Te++)X.writeUInt16(ie[Te]);for(Qe=0,se=p.length;Qe<se;Qe++)X.writeUInt16(w=p[Qe]);return{charMap:r,subtable:X.data,maxGlyphID:V+1}}},t}(),sq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tu(t,Va),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new oq(e,this.offset),this.tables.push(n),n.isUnicode&&null==this.unicode&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return null==n&&(n="macroman"),r=oq.encode(e,n),(i=new qc).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),y1e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tu(t,Va),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),b1e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tu(t,Va),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),w1e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tu(t,Va),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var s,a,u;for(u=[],o=s=0,a=this.file.maxp.numGlyphs;0<=a?s<a:s>a;o=0<=a?++s:--s)u.push(e.readUInt32());return u}.call(this)}},t}(),I1e=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},E1e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tu(t,Va),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,o,s,a,u,l,c,d,g;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(u={},o=c=0,d=r.length;c<d;o=++c)e.pos=(i=r[o]).offset,l=e.readString(i.length),s=new I1e(l,i),null==u[g=i.nameID]&&(u[g]=[]),u[i.nameID].push(s);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),A1e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tu(t,Va),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),C1e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tu(t,Va),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,a,u;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var l,c;for(c=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)c.push(e.readInt16());return c}(),this.widths=function(){var l,c,d,g;for(g=[],l=0,c=(d=this.metrics).length;l<c;l++)g.push(d[l].advance);return g}.call(this),r=this.widths[this.widths.length-1],u=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)u.push(this.widths.push(r));return u},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),aq=[].slice,T1e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tu(t,Va),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,o,s,a,u,l,c,d;return e in this.cache?this.cache[e]:(n=this.file.contents,r=(o=this.file.loca).indexOf(e),0===(i=o.lengthOf(e))?this.cache[e]=null:(n.pos=this.offset+r,s=(a=new qc(n.read(i))).readShort(),l=a.readShort(),d=a.readShort(),u=a.readShort(),c=a.readShort(),this.cache[e]=-1===s?new D1e(a,l,d,u,c):new S1e(a,s,l,d,u,c),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,o,s,a,u;for(s=[],o=[],a=0,u=n.length;a<u;a++)i=e[n[a]],o.push(s.length),i&&(s=s.concat(i.encode(r)));return o.push(s.length),{table:s,offsets:o}},t}(),S1e=function(){function t(e,n,r,i,o,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),D1e=function(){function t(e,n,r,i,o){var s,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new qc(aq.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),x1e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tu(t,Va),t.prototype.tag="loca",t.prototype.parse=function(e){var r;return e.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=2)o.push(2*e.readUInt16());return o}.call(this):function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=4)o.push(e.readUInt32());return o}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,o=0,s=0;s<r.length;++s)if(r[s]=i,o<n.length&&n[o]==s){++o,r[s]=i;var u=this.offsets[s+1]-this.offsets[s];u>0&&(i+=u)}for(var l=new Array(4*r.length),c=0;c<r.length;++c)l[4*c+3]=255&r[c],l[4*c+2]=(65280&r[c])>>8,l[4*c+1]=(16711680&r[c])>>16,l[4*c]=(4278190080&r[c])>>24;return l},t}(),P1e=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,i,o;for(n in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)e[n]=i[o[n]];return e},t.prototype.glyphsFor=function(e){var n,r,i,o,s,a,u;for(i={},s=0,a=e.length;s<a;s++)i[o=e[s]]=this.font.glyf.glyphFor(o);for(o in n=[],i)null!=(r=i[o])&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(o in u=this.glyphsFor(n))i[o]=r=u[o];return i},t.prototype.encode=function(e,n){var r,i,o,s,u,l,c,d,g,p,b,w,E,A;for(i in r=sq.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),p={0:0},A=r.charMap)p[(u=A[i]).old]=u.new;for(b in g=r.maxGlyphID,s)b in p||(p[b]=g++);return c=function(R){var V,O;for(V in O={},R)O[R[V]]=V;return O}(p),d=Object.keys(c).sort(function(R,V){return R-V}),w=function(){var R,V,O;for(O=[],R=0,V=d.length;R<V;R++)O.push(c[d[R]]);return O}(),o=this.font.glyf.encode(s,w,p),l=this.font.loca.encode(o.offsets,w),E={cmap:this.font.cmap.raw(),glyf:o.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},t}();Et.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var i,o;if(Array.isArray(n))return"["+function(){var a,u,l;for(l=[],a=0,u=n.length;a<u;a++)l.push(e.convert(n[a]));return l}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(i in o=["<<"],n)o.push("/"+i+" "+e.convert(n[i]));return o.push(">>"),o.join("\n")}return""+n},e}();class N1e{static ordinaGiocatoriPerCognome(e){return[...e].sort((n,r)=>{const i=(n.cognome||"").toLowerCase(),o=(r.cognome||"").toLowerCase();if(i<o)return-1;if(i>o)return 1;const s=(n.nome||"").toLowerCase(),a=(r.nome||"").toLowerCase();return s<a?-1:s>a?1:0})}}let R1e=(()=>{class t{constructor(n){this.giocatoriService=n}generaListaGara(n){var r=this;return(0,ne.A)(function*(){const i=new Et,o=i.internal.pageSize.width,s=[0,128,0],u=[0,0,0];let l=15;try{const He=yield r.loadImageAsBase64("assets/images/uisp1.png"),At=yield r.loadImageAsBase64("assets/images/uisp2.png"),Wt=yield r.loadImageAsBase64("assets/images/uisp3.jpg");i.addImage(He,"PNG",20,5,20,20),i.addImage(At,"PNG",o/2-10,5,20,20),i.addImage(Wt,"JPG",o-40,5,20,20)}catch(He){console.error("Errore nel caricamento delle immagini:",He),i.setFontSize(8),i.setTextColor(...u),i.text("UISP",25,l),i.text("COMITATO TERRITORIALE",o/2-30,l),i.text("LOGO PALLAVOLO",o-60,l)}l+=22,i.setFontSize(12),i.setFont("helvetica","normal"),i.setTextColor(...s);const c=Ma.TITOLO_PDF,d=i.getTextWidth(c);i.text(c,(o-d)/2,l),l+=10,i.setFontSize(9),i.setFont("helvetica","bold");const g=Ma.PRIMO_SOTTOTITOLO,p=i.getTextWidth(g);i.rect(20,l-6,o-40,8),i.text(g,(o-p)/2,l),l+=12,i.setFontSize(9),i.setTextColor(...s),i.rect(20,l-6,o-40,8),i.text(Ma.SECONDO_SOTTOTITOLO,22,l);const w=22+i.getTextWidth(Ma.SECONDO_SOTTOTITOLO)+4;i.setTextColor(...u),i.setFont("helvetica","bold"),i.text(Ma.NOME_SQUADRA,w,l),l+=12;const E=20,A=o-40;i.setFontSize(9),i.setFont("helvetica","bold");const R=l,O=[.2*A,.4*A,.4*A];let Z=E;O.forEach(He=>{i.rect(Z,R-4,He,6),Z+=He}),Z=E,i.setFontSize(8),i.setFont("helvetica","bold"),i.setTextColor(...s);const ie="N\xb0 GARA";i.text(ie,Z+2,R);const B=i.getTextWidth(ie);i.setTextColor(...u),i.text(`    ${n.numeroGara}`,Z+2+B,R),Z+=O[0],i.setTextColor(...s);const D="OSPITANTE";i.text(D,Z+2,R);const S=i.getTextWidth(D);i.setTextColor(...u),i.text(`    ${n.ospitante}`,Z+2+S,R),Z+=O[1],i.setTextColor(...s);const L="OSPITE";i.text(L,Z+2,R);const C=i.getTextWidth(L);i.setTextColor(...u),i.text(`    ${n.ospite}`,Z+2+C,R),l+=6;const x=l,P=[.7*A,.3*A];Z=E,P.forEach(He=>{i.rect(Z,x-4,He,6),Z+=He}),Z=E;const X=n.indirizzo.length>50?n.indirizzo.substring(0,32)+"...":n.indirizzo;i.setTextColor(...s);const ge="INDIRIZZO";i.text(ge,Z+2,x);const Ee=i.getTextWidth(ge);i.setTextColor(...u),i.text(`     ${X}`,Z+2+Ee,x),Z+=P[0],i.setTextColor(...s);const Ie="DATA E ORA";i.text(Ie,Z+2,x);const pe=i.getTextWidth(Ie);i.setTextColor(...u);const Ae=r.formatDate(n.data);i.text(`    ${Ae} ${n.ora}`,Z+2+pe,x),l+=6;const Ge=l;i.rect(E,Ge-4,A,6),i.setTextColor(...s);const ke="CAMPIONATO";i.text(ke,22,Ge);const F=i.getTextWidth(ke);i.setTextColor(...u),i.text(`    ${n.campionato}`,22+F,Ge),l+=12;const q=yield r.giocatoriService.getGiocatori(),J=r.filtraEOrdinaGiocatori(q),te=q.filter(He=>"allenatore"===(He.ruolo||"").toLowerCase()),se=q.filter(He=>"dirigente"===(He.ruolo||"").toLowerCase()),ve=[.0625*A,.3125*A,3/12.8*A,3/12.8*A,2/12.8*A],we=l;i.setFontSize(9),i.setFont("helvetica","bold"),i.setTextColor(...s);let Te=E;["N\xb0","COGNOME E NOME","DATA DI NASCITA","TESSERA UISP","DOCUMENTO"].forEach((He,At)=>{i.rect(Te,we-4,ve[At],6);const Wt=i.getTextWidth(He);i.text(He,Te+(ve[At]-Wt)/2,we),Te+=ve[At]}),l+=6,i.setFontSize(9),i.setFont("helvetica","bold"),i.setTextColor(...u),J.forEach((He,At)=>{Te=E,ve.forEach(ji=>{i.rect(Te,l-4,ji,6),Te+=ji}),Te=E;const Ct=`${He.numeroMaglia||At+1}`,Xt=i.getTextWidth(Ct);i.text(Ct,Te+(ve[0]-Xt)/2,l),Te+=ve[0];let vt=`${He.cognome?.toUpperCase()||""} ${He.nome?.toUpperCase()||""}`.trim();const Ln=He.capitano?"K":"libero"===He.ruolo?.toLowerCase()?"L":"",Er=Ln?i.getTextWidth(Ln):0,Rt=ve[1]-2-(Ln?Er+4:0);if(i.getTextWidth(vt)>Rt){for(;i.getTextWidth(vt+"...")>Rt&&vt.length>0;)vt=vt.slice(0,-1);vt+="..."}i.text(vt,Te+2,l),Ln&&i.text(Ln,Te+ve[1]-2-Er,l),Te+=ve[1];const fn=r.formatDate(He.dataDiNascita||""),ro=i.getTextWidth(fn);i.text(fn,Te+(ve[2]-ro)/2,l),Te+=ve[2];const Wr=He.tesseraUisp||"",Ao=i.getTextWidth(Wr);i.text(Wr,Te+(ve[3]-Ao)/2,l),Te+=ve[3],l+=6}),l+=4;const Ke=[3/12.8*A,4.8/12.8*A,3/12.8*A,2/12.8*A];i.setFontSize(8),i.setFont("helvetica","bold"),["1\xb0 ALLENATORE","2\xb0 ALLENATORE","DIRIGENTE"].forEach(He=>{Te=E,Ke.forEach(vt=>{i.rect(Te,l-4,vt,6),Te+=vt}),Te=E,i.setTextColor(...s);const At=i.getTextWidth(He);i.text(He,Te+(Ke[0]-At)/2,l),Te+=Ke[0],i.setTextColor(...u);let Wt=null;He.startsWith("1\xb0")&&te.length>0?Wt=te[0]:He.startsWith("2\xb0")&&te.length>1?Wt=te[1]:"DIRIGENTE"===He&&se.length>0&&(Wt=se[0]);const Ct=Wt?`${(Wt.cognome||"").toUpperCase()} ${(Wt.nome||"").toUpperCase()}`.trim():"",Xt=Wt&&Wt.tesseraUisp||"";if(Ct&&i.text(Ct,Te+2,l),Te+=Ke[1],Xt){const vt=i.getTextWidth(Xt);i.text(Xt,Te+(Ke[2]-vt)/2,l)}Te+=Ke[2],l+=6}),l+=4,i.rect(20,l-4,o-40,6),i.setFontSize(10),i.setFont("helvetica","bold"),i.setTextColor(139,0,0);const Ut=Ma.TITOLO_DEFIBRILLATORE,St=i.getTextWidth(Ut);i.text(Ut,(o-St)/2,l),l+=6,i.setFontSize(9);const Je=i.splitTextToSize(Ma.SOTTOTITOLO_DEFIBRILLATORE,o-48),wt=4*Je.length+2;i.rect(20,l-4,o-40,wt),Je.forEach((He,At)=>{const Wt=i.getTextWidth(He);i.text(He,(o-Wt)/2,l+4*At)}),l+=wt+4;const on=(n.ospitante||"").toUpperCase().includes("THUNDERS"),Pt=Ma.ADDETTO_DEFIBRILLATORE_THUNDERS;i.setFontSize(9),i.setFont("helvetica","bold"),i.setTextColor(...u);const kt=on?`${Pt.cognome.toUpperCase()} ${Pt.nome.toUpperCase()}`:"",Ht=on?Pt.codiceFiscale:"";i.text(`IL/LA SOTTOSCRITTO/A: ${kt||"_______________________"}`,20,l),i.text(`CODICE FISCALE: ${Ht||"_______________"}`,125,l),l+=6;const mt=on?r.formatDate(Pt.dataDiNascita):"",dt=on?Pt.luogoNascita:"__________",Nt=on?Pt.residenza:"_______________";i.text(`NATO/A IL: ${mt||"__________"}`,20,l),i.text(`A: ${dt}`,75,l),i.text(`RESIDENTE IN: ${Nt}`,125,l),l+=7,i.setFontSize(8);const Mn=i.splitTextToSize(Ma.TESTO_DICHIARAZIONE_DEFIBRILLATORE,o-40);i.text(Mn,20,l),l+=2.5*Mn.length+8,i.setFontSize(9),i.text("DATA_______________",20,l),i.text("FIRMA_______________________",80,l),i.setFont("helvetica","bold"),i.text("IL CAPITANO_____________________",140,l);const ln=`Lista_Gara_${n.numeroGara}_${n.data.replace(/-/g,"")}.pdf`;i.save(ln)})()}formatDate(n){if(!n)return"";const r=new Date(n);return isNaN(r.getTime())?n:`${r.getDate().toString().padStart(2,"0")}/${(r.getMonth()+1).toString().padStart(2,"0")}/${r.getFullYear()}`}loadImageAsBase64(n){return(0,ne.A)(function*(){const i=yield(yield fetch(n)).blob();return new Promise((o,s)=>{const a=new FileReader;a.onloadend=()=>o(a.result),a.onerror=s,a.readAsDataURL(i)})})()}filtraEOrdinaGiocatori(n){const r=n.filter(i=>{const o=(i.ruolo||"").toLowerCase();return"allenatore"!==o&&"dirigente"!==o});return N1e.ordinaGiocatoriPerCognome(r)}static{this.\u0275fac=function(r){return new(r||t)(gt(Ex))}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),M1e=(()=>{class t{constructor(n){this.fb=n,this.partita=null,this.isEditMode=!1,this.onSave=new Qn,this.onClose=new Qn}ngOnInit(){this.partitaForm=this.fb.group({id:[null],numeroGara:["",Vi.required],data:["",Vi.required],ora:["",Vi.required],campionato:["",Vi.required],indirizzo:["",Vi.required],ospitante:["",Vi.required],ospite:["",Vi.required],risultato:["",[Vi.pattern(/^([0-3]-[0-3])$/)]]})}ngOnChanges(n){n.partita&&this.partitaForm&&(this.partita?this.partitaForm.patchValue(this.partita):this.partitaForm.reset())}salvaPartita(){this.partitaForm.valid&&(this.onSave.emit(this.partitaForm.value),this.partitaForm.reset())}onCancel(){this.partitaForm.reset(),this.onClose.emit()}static{this.\u0275fac=function(r){return new(r||t)(Oe(zx))}}static{this.\u0275cmp=Ys({type:t,selectors:[["app-dialog-calendario"]],inputs:{partita:"partita",isEditMode:"isEditMode"},outputs:{onSave:"onSave",onClose:"onClose"},features:[ts],decls:67,vars:20,consts:[["id","calendarioModal","tabindex","-1","aria-labelledby","calendarioModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","calendarioModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"row","mb-3"],[1,"col-md-4"],["for","numeroGara",1,"form-label"],["type","text","id","numeroGara","formControlName","numeroGara",1,"form-control"],[1,"invalid-feedback"],["for","data",1,"form-label"],["type","date","id","data","formControlName","data",1,"form-control"],["for","ora",1,"form-label"],["type","time","id","ora","formControlName","ora",1,"form-control"],[1,"col-md-12"],["for","campionato",1,"form-label"],["type","text","id","campionato","formControlName","campionato",1,"form-control"],["for","indirizzo",1,"form-label"],["type","text","id","indirizzo","formControlName","indirizzo",1,"form-control"],[1,"col-md-6"],["for","ospitante",1,"form-label"],["type","text","id","ospitante","formControlName","ospitante",1,"form-control"],["for","ospite",1,"form-label"],["type","text","id","ospite","formControlName","ospite",1,"form-control"],["for","risultato",1,"form-label"],["type","text","id","risultato","placeholder","es. 3-2","formControlName","risultato",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(r,i){if(1&r&&(Q(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),ce(5),G(),Re(6,"button",5),G(),Q(7,"div",6)(8,"form",7)(9,"div",8)(10,"div",9)(11,"label",10),ce(12,"Numero Gara *"),G(),Re(13,"input",11),Q(14,"div",12),ce(15,"Il numero gara \xe8 obbligatorio"),G()(),Q(16,"div",9)(17,"label",13),ce(18,"Data *"),G(),Re(19,"input",14),Q(20,"div",12),ce(21,"La data \xe8 obbligatoria"),G()(),Q(22,"div",9)(23,"label",15),ce(24,"Ora *"),G(),Re(25,"input",16),Q(26,"div",12),ce(27,"L'ora \xe8 obbligatoria"),G()()(),Q(28,"div",8)(29,"div",17)(30,"label",18),ce(31,"Campionato *"),G(),Re(32,"input",19),Q(33,"div",12),ce(34,"Il campionato \xe8 obbligatorio"),G()()(),Q(35,"div",8)(36,"div",17)(37,"label",20),ce(38,"Indirizzo *"),G(),Re(39,"input",21),Q(40,"div",12),ce(41,"L'indirizzo \xe8 obbligatorio"),G()()(),Q(42,"div",8)(43,"div",22)(44,"label",23),ce(45,"Ospitante *"),G(),Re(46,"input",24),Q(47,"div",12),ce(48,"L'ospitante \xe8 obbligatorio"),G()(),Q(49,"div",22)(50,"label",25),ce(51,"Ospite *"),G(),Re(52,"input",26),Q(53,"div",12),ce(54,"L'ospite \xe8 obbligatorio"),G()()(),Q(55,"div",8)(56,"div",9)(57,"label",27),ce(58,"Risultato (opzionale)"),G(),Re(59,"input",28),Q(60,"div",12),ce(61,"Formato non valido (usa X-Y con valori 0-3)"),G()()()()(),Q(62,"div",29)(63,"button",30),ze("click",function(){return i.onCancel()}),ce(64,"Annulla"),G(),Q(65,"button",31),ze("click",function(){return i.salvaPartita()}),ce(66),G()()()()()),2&r){let o,s,a,u,l,c,d,g;ae(5),jn(i.isEditMode?"Modifica Partita":"Aggiungi Partita"),ae(3),Me("formGroup",i.partitaForm),ae(5),Lr("is-invalid",(null==(o=i.partitaForm.get("numeroGara"))?null:o.invalid)&&(null==(o=i.partitaForm.get("numeroGara"))?null:o.touched)),ae(6),Lr("is-invalid",(null==(s=i.partitaForm.get("data"))?null:s.invalid)&&(null==(s=i.partitaForm.get("data"))?null:s.touched)),ae(6),Lr("is-invalid",(null==(a=i.partitaForm.get("ora"))?null:a.invalid)&&(null==(a=i.partitaForm.get("ora"))?null:a.touched)),ae(7),Lr("is-invalid",(null==(u=i.partitaForm.get("campionato"))?null:u.invalid)&&(null==(u=i.partitaForm.get("campionato"))?null:u.touched)),ae(7),Lr("is-invalid",(null==(l=i.partitaForm.get("indirizzo"))?null:l.invalid)&&(null==(l=i.partitaForm.get("indirizzo"))?null:l.touched)),ae(7),Lr("is-invalid",(null==(c=i.partitaForm.get("ospitante"))?null:c.invalid)&&(null==(c=i.partitaForm.get("ospitante"))?null:c.touched)),ae(6),Lr("is-invalid",(null==(d=i.partitaForm.get("ospite"))?null:d.invalid)&&(null==(d=i.partitaForm.get("ospite"))?null:d.touched)),ae(7),Lr("is-invalid",(null==(g=i.partitaForm.get("risultato"))?null:g.invalid)&&(null==(g=i.partitaForm.get("risultato"))?null:g.touched)),ae(6),Me("disabled",i.partitaForm.invalid),ae(1),hr(" ",i.isEditMode?"Salva Modifiche":"Aggiungi"," ")}},dependencies:[lv,El,fh,ev,Hp,cv]})}}return t})();function k1e(t,e){if(1&t&&(Q(0,"div",29)(1,"span",30),ce(2),G()()),2&t){const n=ot();ae(2),hr("",n.partiteRimanenti," partite rimanenti")}}function O1e(t,e){if(1&t){const n=fi();Q(0,"div",31)(1,"input",32,33),ze("change",function(i){return nr(n),rr(ot().handleFileUpload(i))}),G(),Q(3,"button",34),ze("click",function(){return nr(n),rr(AE(2).click())}),Re(4,"i",35),Q(5,"span",36),ce(6,"Importa"),G()(),Q(7,"button",37),ze("click",function(){return nr(n),rr(ot().exportToJSON())}),Re(8,"i",38),Q(9,"span",36),ce(10,"Esporta"),G()(),Q(11,"button",39),ze("click",function(){return nr(n),rr(ot().openDialog())}),Re(12,"i",40),Q(13,"span",36),ce(14,"Aggiungi"),G()()()}}function L1e(t,e){1&t&&(Q(0,"span",50),ce(1,"-"),G())}function F1e(t,e){1&t&&(Q(0,"span",52),Re(1,"i",53),G())}function V1e(t,e){1&t&&(Q(0,"span",52),Re(1,"i",54),G())}function U1e(t,e){if(1&t&&(Q(0,"span"),ce(1),It(2,F1e,2,0,"span",51),It(3,V1e,2,0,"span",51),G()),2&t){const n=ot().$implicit,r=ot();ae(1),hr(" ",n.risultato," "),ae(1),Me("ngIf",!0===r.isVittoria(n)),ae(1),Me("ngIf",!1===r.isVittoria(n))}}function B1e(t,e){if(1&t){const n=fi();Q(0,"button",55),ze("click",function(){nr(n);const i=ot().index;return rr(ot().aggiungiAlCalendario(i))}),Re(1,"i",56),G()}}function j1e(t,e){if(1&t){const n=fi();Q(0,"button",57),ze("click",function(){nr(n);const i=ot().index;return rr(ot().apriDialogRisultato(i))}),Re(1,"i",58),G()}}function z1e(t,e){if(1&t){const n=fi();Q(0,"button",59),ze("click",function(){nr(n);const i=ot().index;return rr(ot().creaListaGara(i))}),Re(1,"i",60),G()}}function $1e(t,e){if(1&t){const n=fi();Q(0,"button",61),ze("click",function(){nr(n);const i=ot().index;return rr(ot().openDialog(i))}),Re(1,"i",62),G()}}function q1e(t,e){if(1&t){const n=fi();Q(0,"button",63),ze("click",function(){nr(n);const i=ot().index;return rr(ot().eliminaPartita(i))}),Re(1,"i",64),G()}}function G1e(t,e){if(1&t){const n=fi();Q(0,"tr")(1,"td")(2,"span",30),ce(3),G()(),Q(4,"td"),ce(5),Fo(6,"date"),G(),Q(7,"td"),ce(8),G(),Q(9,"td"),ce(10),G(),Q(11,"td")(12,"a",41),ze("click",function(){const o=nr(n).$implicit;return rr(ot().openMaps(o.indirizzo))}),Re(13,"i",42),ce(14),G()(),Q(15,"td"),ce(16),G(),Q(17,"td"),ce(18),G(),Q(19,"td"),It(20,L1e,2,0,"span",43),It(21,U1e,4,3,"span",22),G(),Q(22,"td",44),It(23,B1e,2,0,"button",45),It(24,j1e,2,0,"button",46),It(25,z1e,2,0,"button",47),It(26,$1e,2,0,"button",48),It(27,q1e,2,0,"button",49),G()()}if(2&t){const n=e.$implicit,r=ot();ae(3),jn(n.numeroGara),ae(2),jn(Dd(6,14,n.data,"dd/MM/yyyy")),ae(3),jn(n.ora),ae(2),jn(n.campionato),ae(4),hr(" ",n.indirizzo," "),ae(2),jn(n.ospitante),ae(2),jn(n.ospite),ae(2),Me("ngIf",!n.risultato),ae(1),Me("ngIf",n.risultato),ae(2),Me("ngIf",!n.risultato),ae(1),Me("ngIf",r.authService.hasEditPermission()&&!n.risultato),ae(1),Me("ngIf",r.authService.hasEditPermission()&&!n.risultato),ae(1),Me("ngIf",r.authService.hasEditPermission()),ae(1),Me("ngIf",r.authService.hasEditPermission())}}function H1e(t,e){if(1&t&&(Q(0,"tr")(1,"td",65),Re(2,"i",66),ce(3),G()()),2&t){const n=ot();ae(3),hr(" ",0===n.partite.length?"Nessuna partita in calendario":"Nessun risultato trovato"," ")}}function W1e(t,e){1&t&&(Q(0,"div",67),ce(1," Nessuna partita in calendario "),G())}function K1e(t,e){1&t&&(Q(0,"span",52),Re(1,"i",53),G())}function Q1e(t,e){1&t&&(Q(0,"span",52),Re(1,"i",54),G())}function Y1e(t,e){if(1&t&&(Q(0,"div",29)(1,"strong"),ce(2,"Risultato:"),G(),ce(3),It(4,K1e,2,0,"span",51),It(5,Q1e,2,0,"span",51),G()),2&t){const n=ot().$implicit,r=ot();ae(3),hr(" ",n.risultato," "),ae(1),Me("ngIf",!0===r.isVittoria(n)),ae(1),Me("ngIf",!1===r.isVittoria(n))}}function Z1e(t,e){if(1&t){const n=fi();Q(0,"button",80),ze("click",function(){nr(n);const i=ot().index;return rr(ot().aggiungiAlCalendario(i))}),Re(1,"i",81),ce(2,"Calendario "),G()}}function J1e(t,e){if(1&t){const n=fi();Q(0,"button",89),ze("click",function(){nr(n);const i=ot(2).index;return rr(ot().apriDialogRisultato(i))}),Re(1,"i",90),ce(2,"Risultato "),G()}}function X1e(t,e){if(1&t){const n=fi();Q(0,"button",91),ze("click",function(){nr(n);const i=ot(2).index;return rr(ot().creaListaGara(i))}),Re(1,"i",92),ce(2,"Lista gara "),G()}}function ebe(t,e){if(1&t){const n=fi();Q(0,"div",82),It(1,J1e,3,0,"button",83),It(2,X1e,3,0,"button",84),Q(3,"button",85),ze("click",function(){nr(n);const i=ot().index;return rr(ot().openDialog(i))}),Re(4,"i",86),ce(5,"Modifica "),G(),Q(6,"button",87),ze("click",function(){nr(n);const i=ot().index;return rr(ot().eliminaPartita(i))}),Re(7,"i",88),ce(8,"Elimina "),G()()}if(2&t){const n=ot().$implicit;ae(1),Me("ngIf",!n.risultato),ae(1),Me("ngIf",!n.risultato)}}function tbe(t,e){if(1&t){const n=fi();Q(0,"div",68)(1,"h2",69)(2,"button",70)(3,"div",71)(4,"span",72),ce(5),G(),Q(6,"span",73),ce(7),Fo(8,"date"),G(),Q(9,"span",74),ce(10),G()()()(),Q(11,"div",75)(12,"div",76)(13,"div")(14,"strong"),ce(15,"Campionato:"),G(),ce(16),Re(17,"br"),Q(18,"strong"),ce(19,"Ospitante:"),G(),ce(20),Re(21,"br"),Q(22,"strong"),ce(23,"Ospite:"),G(),ce(24),Re(25,"br"),Q(26,"strong"),ce(27,"Indirizzo:"),G(),Q(28,"a",41),ze("click",function(){const o=nr(n).$implicit;return rr(ot().openMaps(o.indirizzo))}),Re(29,"i",42),ce(30),G(),It(31,Y1e,6,3,"div",6),G(),Q(32,"div",77),It(33,Z1e,3,0,"button",78),G(),It(34,ebe,9,2,"div",79),G()()()}if(2&t){const n=e.$implicit,r=e.index,i=ot();ae(1),Qi("id","heading"+r),ae(1),Qi("data-bs-target","#collapse"+r)("aria-controls","collapse"+r),ae(3),hr("Gara ",n.numeroGara,""),ae(2),jn(Dd(8,15,n.data,"dd/MM/yyyy")),ae(3),jn(n.ora),ae(1),Qi("id","collapse"+r)("aria-labelledby","heading"+r),ae(5),hr(" ",n.campionato,""),ae(4),hr(" ",n.ospitante,""),ae(4),hr(" ",n.ospite,""),ae(6),hr(" ",n.indirizzo," "),ae(1),Me("ngIf",n.risultato),ae(2),Me("ngIf",!n.risultato),ae(1),Me("ngIf",i.authService.hasEditPermission())}}const Gc=function(t,e,n){return{"bi-arrow-down":t,"bi-arrow-up":e,"bi-arrow-down-up":n}};let nbe=(()=>{class t{constructor(n,r,i){this.calendarioService=n,this.pdfService=r,this.authService=i,this.partite=[],this.filteredPartite=[],this.selectedPartita=null,this.isEditMode=!1,this.selectedIndex=null,this.filters={numeroGara:"",data:"",ora:"",campionato:"",indirizzo:"",ospitante:"",ospite:"",risultato:""},this.sortColumn="numeroGara",this.sortDirection="asc"}shouldShowActionsColumn(){return!0}ngOnInit(){this.partiteSubscription=this.calendarioService.getPartiteObservable().subscribe(n=>{this.partite=n,this.applyFilters()})}ngOnDestroy(){this.partiteSubscription&&this.partiteSubscription.unsubscribe()}get partiteRimanenti(){return this.partite.filter(n=>!n.risultato||""===n.risultato.trim()).length}get partiteOrdinateEFiltrate(){return this.filteredPartite}applyFilters(){let n=[...this.partite];Object.keys(this.filters).forEach(r=>{const i=this.filters[r].toLowerCase().trim();i&&(n=n.filter(o=>{let s=o[r];if("data"===r&&s){const a=new Date(s);s=`${a.getDate().toString().padStart(2,"0")}/${(a.getMonth()+1).toString().padStart(2,"0")}/${a.getFullYear()}`}return s?.toString().toLowerCase().includes(i)}))}),n.sort((r,i)=>{let o=r[this.sortColumn],s=i[this.sortColumn];return"data"===this.sortColumn?(o=o?new Date(o).getTime():0,s=s?new Date(s).getTime():0):"numeroGara"===this.sortColumn?(o=parseInt(o)||0,s=parseInt(s)||0):(o=o?.toString().toLowerCase()||"",s=s?.toString().toLowerCase()||""),o<s?"asc"===this.sortDirection?-1:1:o>s?"asc"===this.sortDirection?1:-1:0}),this.filteredPartite=n}onFilterChange(){this.applyFilters()}sortBy(n){this.sortColumn===n?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=n,this.sortDirection="asc"),this.applyFilters()}clearFilters(){this.filters={numeroGara:"",data:"",ora:"",campionato:"",indirizzo:"",ospitante:"",ospite:"",risultato:""},this.applyFilters()}openDialog(n){void 0!==n?(this.selectedPartita={...this.filteredPartite[n]},this.selectedIndex=this.partite.findIndex(r=>r.id===this.filteredPartite[n].id),this.isEditMode=!0):(this.selectedPartita=null,this.selectedIndex=null,this.isEditMode=!1)}handleSave(n){var r=this;return(0,ne.A)(function*(){try{if(r.isEditMode&&null!==r.selectedIndex){const i=r.partite[r.selectedIndex].id,{id:o,...s}=n;yield r.calendarioService.updatePartita(i,s)}else yield r.calendarioService.addPartita(n);r.closeModal(),r.handleClose()}catch(i){console.error("Errore nel salvataggio della partita:",i),alert("Errore nel salvataggio. Riprova.")}})()}handleClose(){this.selectedPartita=null,this.selectedIndex=null,this.isEditMode=!1}eliminaPartita(n){var r=this;return(0,ne.A)(function*(){if(confirm("Sei sicuro di voler eliminare questa partita?"))try{const i=r.filteredPartite[n].id;yield r.calendarioService.deletePartita(i)}catch(i){console.error("Errore nell'eliminazione della partita:",i),alert("Errore nell'eliminazione. Riprova.")}})()}closeModal(){const n=document.getElementById("calendarioModal");if(n){const r=bootstrap.Modal.getInstance(n);r&&r.hide()}}isVittoria(n){if(!n.risultato)return null;const r=n.risultato.split("-");if(2!==r.length)return null;const i=parseInt(r[0].trim()),o=parseInt(r[1].trim());if(isNaN(i)||isNaN(o))return null;const s=n.ospitante.toLowerCase().includes("thunders"),a=n.ospite.toLowerCase().includes("thunders");return s||a?s?i>o:o>i:null}handleFileUpload(n){var r=this;const i=n.target.files[0];if(!i)return;if(!i.name.endsWith(".json"))return alert("Seleziona un file JSON valido."),void(n.target.value="");const o=new FileReader;o.onload=function(){var s=(0,ne.A)(function*(a){try{const u=JSON.parse(a.target.result);if(!Array.isArray(u))return alert("Il file JSON deve contenere un array di partite."),void(n.target.value="");yield r.parsePartiteFromJSON(u),n.target.value=""}catch(u){console.error("Errore nel parsing del file JSON:",u),alert("Errore nel parsing del file JSON. Assicurati che il formato sia corretto."),n.target.value=""}});return function(a){return s.apply(this,arguments)}}(),o.readAsText(i)}parsePartiteFromJSON(n){var r=this;return(0,ne.A)(function*(){const i=[];for(const o of n)if(o.numeroGara&&o.data&&o.ora&&o.campionato&&o.indirizzo&&o.ospitante&&o.ospite){const s={numeroGara:parseInt(o.numeroGara),data:o.data,ora:o.ora,campionato:o.campionato,indirizzo:o.indirizzo,ospitante:o.ospitante,ospite:o.ospite,risultato:o.risultato||""};i.push(s)}if(i.length>0)try{for(const o of i)yield r.calendarioService.addPartita(o);alert(`${i.length} partite caricate con successo!`)}catch(o){console.error("Errore nel caricamento delle partite:",o),alert("Errore nel caricamento. Riprova.")}else alert("Nessuna partita valida trovata nel file")})()}exportToJSON(){if(0===this.partite.length)return void alert("Nessuna partita da esportare.");const n=this.partite.map(u=>{const{id:l,...c}=u;return c}),r=JSON.stringify(n,null,2),i=new Blob([r],{type:"application/json"}),o=window.URL.createObjectURL(i),s=document.createElement("a");s.href=o;const a=(new Date).toISOString().split("T")[0];s.download=`partite_${a}.json`,s.click(),window.URL.revokeObjectURL(o)}apriDialogRisultato(n){this.selectedPartita=this.filteredPartite[n],this.dialogRisultatoComp&&this.dialogRisultatoComp.open()}chiudiDialogRisultato(){}salvaRisultato(n){var r=this;return(0,ne.A)(function*(){if(null!=r.selectedPartita&&!(n.ospitante<0||n.ospitante>3||n.ospite<0||n.ospite>3))try{r.selectedPartita.risultato=`${n.ospitante}-${n.ospite}`;const i=r.selectedPartita.id,{id:o,...s}=r.selectedPartita;yield r.calendarioService.updatePartita(i,s)}catch(i){console.error("Errore nel salvataggio del risultato:",i),alert("Errore nel salvataggio. Riprova.")}})()}openMaps(n){const r=encodeURIComponent(n);/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?window.location.href=`https://maps.google.com/?q=${r}`:window.open(`https://www.google.com/maps?q=${r}`,"_blank")}creaListaGara(n){var r=this;return(0,ne.A)(function*(){try{const i=r.filteredPartite[n];yield r.pdfService.generaListaGara(i)}catch(i){console.error("Errore nella generazione del PDF:",i),alert("Errore nella generazione del PDF. Riprova pi\xf9 tardi.")}})()}aggiungiAlCalendario(n){const r=this.filteredPartite[n],i=new Date(r.data),[o,s]=r.ora.split(":");i.setHours(parseInt(o),parseInt(s),0,0);const a=new Date(i);a.setHours(i.getHours()+2);const u=b=>`${b.getFullYear()}${String(b.getMonth()+1).padStart(2,"0")}${String(b.getDate()).padStart(2,"0")}T${String(b.getHours()).padStart(2,"0")}${String(b.getMinutes()).padStart(2,"0")}${String(b.getSeconds()).padStart(2,"0")}`,l=u(i),c=u(a),d=u(new Date),g=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//PuntoVolley Thunders//Calendario//IT","CALSCALE:GREGORIAN","METHOD:PUBLISH","BEGIN:VEVENT",`DTSTART:${l}`,`DTEND:${c}`,`DTSTAMP:${d}`,`UID:partita-${r.numeroGara}-${d}@thunders.it`,`SUMMARY:${r.ospitante} vs ${r.ospite}`,`DESCRIPTION:Partita ${r.campionato}\\nGara n. ${r.numeroGara}`,`LOCATION:${r.indirizzo}`,"STATUS:CONFIRMED","SEQUENCE:0","BEGIN:VALARM","TRIGGER:-PT1H","ACTION:DISPLAY","DESCRIPTION:Partita tra 1 ora","END:VALARM","END:VEVENT","END:VCALENDAR"].join("\r\n");if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){const b=new Blob([g],{type:"text/calendar;charset=utf-8"}),w=URL.createObjectURL(b);window.location.href=w,setTimeout(()=>URL.revokeObjectURL(w),1e3)}else{const b=new Blob([g],{type:"text/calendar;charset=utf-8"}),w=window.URL.createObjectURL(b),E=document.createElement("a");E.href=w,E.download=`partita-${r.numeroGara}.ics`,E.click(),window.URL.revokeObjectURL(w)}}static{this.\u0275fac=function(r){return new(r||t)(Oe(f_e),Oe(R1e),Oe(dh))}}static{this.\u0275cmp=Ys({type:t,selectors:[["app-calendario"]],viewQuery:function(r,i){if(1&r&&function C3(t,e,n){const r=In();r.firstCreatePass&&(D3(r,new E3(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),S3(r,Le(),e)}(a9,5),2&r){let o;YE(o=ZE())&&(i.dialogRisultatoComp=o.first)}},decls:87,vars:57,consts:[[1,"container-fluid","px-3","custom-spacing"],[1,"row","mb-2"],[1,"col-12","d-flex","justify-content-between","align-items-center","flex-wrap"],[1,"mb-2","mb-md-0"],[1,"mb-0"],[1,"badge","bg-primary","fs-4","text-uppercase"],["class","mt-2",4,"ngIf"],["class","d-flex gap-2",4,"ngIf"],[1,"table-container","d-none","d-md-block"],[1,"table-wrapper"],[1,"table","table-hover","modern-table"],[1,"table-header","sticky-header"],[1,"sortable",3,"click"],[1,"th-content"],[1,"bi",3,"ngClass"],[1,"actions-column"],["title","Pulisci filtri",1,"btn","btn-sm","btn-link","text-white",3,"click"],[1,"bi","bi-x-circle"],[1,"filter-row"],["type","text","placeholder","Filtra...",1,"form-control","form-control-sm","filter-input",3,"ngModel","ngModelChange","input"],["type","text","placeholder","gg/mm/aaaa",1,"form-control","form-control-sm","filter-input",3,"ngModel","ngModelChange","input"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"d-md-none"],["class","text-center text-muted py-4",4,"ngIf"],["id","calendarioAccordion",1,"accordion"],["class","accordion-item",4,"ngFor","ngForOf"],[3,"partita","isEditMode","onSave","onClose"],[3,"partita","onSave","onClose"],[1,"mt-2"],[1,"badge","bg-primary"],[1,"d-flex","gap-2"],["type","file","accept",".json",1,"file-input-hidden",3,"change"],["fileInput",""],["title","Importa partite da JSON",1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi-upload"],[1,"d-none","d-lg-inline"],["title","Esporta partite in JSON",1,"btn","btn-sm","btn-success",3,"click"],[1,"bi","bi-download"],["data-bs-toggle","modal","data-bs-target","#calendarioModal",1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi-plus-circle"],["href","javascript:void(0)","title","Apri in Google Maps",1,"text-decoration-none","text-primary","d-inline-flex","align-items-center","maps-link",3,"click"],[1,"bi","bi-geo-alt-fill","me-1"],["class","text-muted",4,"ngIf"],[1,"actions-cell"],["class","btn btn-info btn-sm me-1","title","Aggiungi al calendario",3,"click",4,"ngIf"],["class","btn btn-success btn-sm me-1","title","Inserisci risultato",3,"click",4,"ngIf"],["class","btn btn-secondary btn-sm me-1","title","Crea lista gara",3,"click",4,"ngIf"],["class","btn btn-primary btn-sm me-1","data-bs-toggle","modal","data-bs-target","#calendarioModal","title","Modifica",3,"click",4,"ngIf"],["class","btn btn-danger btn-sm","title","Elimina",3,"click",4,"ngIf"],[1,"text-muted"],["class","ms-2",4,"ngIf"],[1,"ms-2"],[1,"bi","bi-check-circle-fill","text-success"],[1,"bi","bi-x-circle-fill","text-danger"],["title","Aggiungi al calendario",1,"btn","btn-info","btn-sm","me-1",3,"click"],[1,"bi","bi-calendar-plus"],["title","Inserisci risultato",1,"btn","btn-success","btn-sm","me-1",3,"click"],[1,"bi","bi-check2-square"],["title","Crea lista gara",1,"btn","btn-secondary","btn-sm","me-1",3,"click"],[1,"bi","bi-list-check"],["data-bs-toggle","modal","data-bs-target","#calendarioModal","title","Modifica",1,"btn","btn-primary","btn-sm","me-1",3,"click"],[1,"bi","bi-pencil"],["title","Elimina",1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],["colspan","9",1,"text-center","text-muted","py-4"],[1,"bi","bi-inbox","fs-1","d-block","mb-2"],[1,"text-center","text-muted","py-4"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"accordion-button","collapsed"],[1,"accordion-header-content"],[1,"gara-numero"],[1,"gara-data"],[1,"gara-ora"],["data-bs-parent","#calendarioAccordion",1,"accordion-collapse","collapse"],[1,"accordion-body"],[1,"mt-3","d-flex","flex-wrap","gap-2","justify-content-end"],["class","btn btn-info btn-sm",3,"click",4,"ngIf"],["class","mt-2 d-flex flex-wrap gap-2 justify-content-end",4,"ngIf"],[1,"btn","btn-info","btn-sm",3,"click"],[1,"bi","bi-calendar-plus","me-1"],[1,"mt-2","d-flex","flex-wrap","gap-2","justify-content-end"],["class","btn btn-success btn-sm",3,"click",4,"ngIf"],["class","btn btn-secondary btn-sm",3,"click",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#calendarioModal",1,"btn","btn-primary","btn-sm",3,"click"],[1,"bi","bi-pencil","me-1"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash","me-1"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"bi","bi-check2-square","me-1"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"bi","bi-list-check","me-1"]],template:function(r,i){1&r&&(Q(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4)(5,"span",5),ce(6,"Calendario"),G()(),It(7,k1e,3,1,"div",6),G(),It(8,O1e,15,0,"div",7),G()(),Q(9,"div",8)(10,"div",9)(11,"table",10)(12,"thead",11)(13,"tr")(14,"th",12),ze("click",function(){return i.sortBy("numeroGara")}),Q(15,"div",13)(16,"span"),ce(17,"N. Gara"),G(),Re(18,"i",14),G()(),Q(19,"th",12),ze("click",function(){return i.sortBy("data")}),Q(20,"div",13)(21,"span"),ce(22,"Data"),G(),Re(23,"i",14),G()(),Q(24,"th",12),ze("click",function(){return i.sortBy("ora")}),Q(25,"div",13)(26,"span"),ce(27,"Ora"),G(),Re(28,"i",14),G()(),Q(29,"th",12),ze("click",function(){return i.sortBy("campionato")}),Q(30,"div",13)(31,"span"),ce(32,"Campionato"),G(),Re(33,"i",14),G()(),Q(34,"th",12),ze("click",function(){return i.sortBy("indirizzo")}),Q(35,"div",13)(36,"span"),ce(37,"Indirizzo"),G(),Re(38,"i",14),G()(),Q(39,"th",12),ze("click",function(){return i.sortBy("ospitante")}),Q(40,"div",13)(41,"span"),ce(42,"Ospitante"),G(),Re(43,"i",14),G()(),Q(44,"th",12),ze("click",function(){return i.sortBy("ospite")}),Q(45,"div",13)(46,"span"),ce(47,"Ospite"),G(),Re(48,"i",14),G()(),Q(49,"th",12),ze("click",function(){return i.sortBy("risultato")}),Q(50,"div",13)(51,"span"),ce(52,"Risultato"),G(),Re(53,"i",14),G()(),Q(54,"th",15)(55,"div",13)(56,"span"),ce(57,"Azioni"),G(),Q(58,"button",16),ze("click",function(){return i.clearFilters()}),Re(59,"i",17),G()()()(),Q(60,"tr",18)(61,"th")(62,"input",19),ze("ngModelChange",function(s){return i.filters.numeroGara=s})("input",function(){return i.onFilterChange()}),G()(),Q(63,"th")(64,"input",20),ze("ngModelChange",function(s){return i.filters.data=s})("input",function(){return i.onFilterChange()}),G()(),Q(65,"th")(66,"input",19),ze("ngModelChange",function(s){return i.filters.ora=s})("input",function(){return i.onFilterChange()}),G()(),Q(67,"th")(68,"input",19),ze("ngModelChange",function(s){return i.filters.campionato=s})("input",function(){return i.onFilterChange()}),G()(),Q(69,"th")(70,"input",19),ze("ngModelChange",function(s){return i.filters.indirizzo=s})("input",function(){return i.onFilterChange()}),G()(),Q(71,"th")(72,"input",19),ze("ngModelChange",function(s){return i.filters.ospitante=s})("input",function(){return i.onFilterChange()}),G()(),Q(73,"th")(74,"input",19),ze("ngModelChange",function(s){return i.filters.ospite=s})("input",function(){return i.onFilterChange()}),G()(),Q(75,"th")(76,"input",19),ze("ngModelChange",function(s){return i.filters.risultato=s})("input",function(){return i.onFilterChange()}),G()(),Re(77,"th"),G()(),Q(78,"tbody"),It(79,G1e,28,17,"tr",21),It(80,H1e,4,1,"tr",22),G()()()(),Q(81,"div",23),It(82,W1e,2,0,"div",24),Q(83,"div",25),It(84,tbe,35,18,"div",26),G()()(),Q(85,"app-dialog-calendario",27),ze("onSave",function(s){return i.handleSave(s)})("onClose",function(){return i.handleClose()}),G(),Q(86,"app-dialog-risultato",28),ze("onSave",function(s){return i.salvaRisultato(s)})("onClose",function(){return i.chiudiDialogRisultato()}),G()),2&r&&(ae(7),Me("ngIf",i.partite.length),ae(1),Me("ngIf",i.authService.hasEditPermission()),ae(10),Me("ngClass",pi(25,Gc,"numeroGara"===i.sortColumn&&"asc"===i.sortDirection,"numeroGara"===i.sortColumn&&"desc"===i.sortDirection,"numeroGara"!==i.sortColumn)),ae(5),Me("ngClass",pi(29,Gc,"data"===i.sortColumn&&"asc"===i.sortDirection,"data"===i.sortColumn&&"desc"===i.sortDirection,"data"!==i.sortColumn)),ae(5),Me("ngClass",pi(33,Gc,"ora"===i.sortColumn&&"asc"===i.sortDirection,"ora"===i.sortColumn&&"desc"===i.sortDirection,"ora"!==i.sortColumn)),ae(5),Me("ngClass",pi(37,Gc,"campionato"===i.sortColumn&&"asc"===i.sortDirection,"campionato"===i.sortColumn&&"desc"===i.sortDirection,"campionato"!==i.sortColumn)),ae(5),Me("ngClass",pi(41,Gc,"indirizzo"===i.sortColumn&&"asc"===i.sortDirection,"indirizzo"===i.sortColumn&&"desc"===i.sortDirection,"indirizzo"!==i.sortColumn)),ae(5),Me("ngClass",pi(45,Gc,"ospitante"===i.sortColumn&&"asc"===i.sortDirection,"ospitante"===i.sortColumn&&"desc"===i.sortDirection,"ospitante"!==i.sortColumn)),ae(5),Me("ngClass",pi(49,Gc,"ospite"===i.sortColumn&&"asc"===i.sortDirection,"ospite"===i.sortColumn&&"desc"===i.sortDirection,"ospite"!==i.sortColumn)),ae(5),Me("ngClass",pi(53,Gc,"risultato"===i.sortColumn&&"asc"===i.sortDirection,"risultato"===i.sortColumn&&"desc"===i.sortDirection,"risultato"!==i.sortColumn)),ae(9),Me("ngModel",i.filters.numeroGara),ae(2),Me("ngModel",i.filters.data),ae(2),Me("ngModel",i.filters.ora),ae(2),Me("ngModel",i.filters.campionato),ae(2),Me("ngModel",i.filters.indirizzo),ae(2),Me("ngModel",i.filters.ospitante),ae(2),Me("ngModel",i.filters.ospite),ae(2),Me("ngModel",i.filters.risultato),ae(3),Me("ngForOf",i.partiteOrdinateEFiltrate),ae(1),Me("ngIf",0===i.filteredPartite.length),ae(2),Me("ngIf",0===i.partite.length),ae(2),Me("ngForOf",i.partite),ae(1),Me("partita",i.selectedPartita)("isEditMode",i.isEditMode),ae(1),Me("partita",i.selectedPartita))},dependencies:[J0,X0,Rd,El,fh,uv,M1e,a9,MA],styles:[".file-input-hidden[_ngcontent-%COMP%]{display:none}.custom-spacing[_ngcontent-%COMP%]{margin-top:-20px}.table-container[_ngcontent-%COMP%]{background:white;border-radius:8px;box-shadow:0 1px 3px #00000014;overflow:hidden;margin-bottom:2rem}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;max-height:calc(100vh - 200px)}.modern-table[_ngcontent-%COMP%]{margin-bottom:0;font-size:.9rem}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10}.table-header[_ngcontent-%COMP%]{background-color:#cfe2ff;color:#084298}.table-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#cfe2ff!important}.table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.75rem;font-weight:600;white-space:nowrap;background-color:#cfe2ff!important}.sortable[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:background-color .2s}.sortable[_ngcontent-%COMP%]:hover{background-color:#0842981a}.th-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.5rem}.th-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem;opacity:.7}.filter-row[_ngcontent-%COMP%]{background-color:#cfe2ff}.filter-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem;background-color:#cfe2ff;border-top:none}.filter-input[_ngcontent-%COMP%]{font-size:.85rem;border:1px solid #dee2e6;border-radius:4px;padding:.375rem .5rem}.filter-input[_ngcontent-%COMP%]:focus{border-color:#6ea8fe;box-shadow:0 0 0 .2rem #6ea8fe40}.table-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{color:#084298;opacity:.8}.table-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{color:#052c65;opacity:1}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .15s;border-bottom:1px solid #f8f9fa}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#0d6efd0a}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;vertical-align:middle}.actions-column[_ngcontent-%COMP%]{min-width:180px;text-align:center}.actions-cell[_ngcontent-%COMP%]{white-space:nowrap;text-align:center}.actions-cell[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem}.actions-cell[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0}.modern-table[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.875rem;padding:.35rem .65rem;font-weight:500}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.375rem}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:last-child{margin-right:0}.maps-link[_ngcontent-%COMP%]{transition:all .2s ease}.maps-link[_ngcontent-%COMP%]:hover{background-color:rgba(var(--bs-primary-rgb),.1);border-radius:4px;padding:2px 4px;transform:translate(2px)}.accordion-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;width:100%}.gara-numero[_ngcontent-%COMP%]{font-weight:600;min-width:65px;color:#0d6efd}.gara-data[_ngcontent-%COMP%]{font-weight:500;min-width:85px}.gara-ora[_ngcontent-%COMP%]{font-weight:400;color:#6c757d;min-width:50px}@media (max-width: 1400px){.modern-table[_ngcontent-%COMP%]{font-size:.85rem}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem}}@media (max-width: 768px){.table-container[_ngcontent-%COMP%]{display:none}.maps-link[_ngcontent-%COMP%]:hover{transform:none}}"]})}}return t})();function rbe(t,e){if(1&t&&(Q(0,"div",13),Re(1,"i",14),ce(2),G()),2&t){const n=ot();ae(2),hr(" ",n.errorMessage," ")}}function ibe(t,e){1&t&&(Q(0,"span"),Re(1,"i",15),ce(2," Accedi "),G())}function obe(t,e){1&t&&(Q(0,"span"),Re(1,"span",16),ce(2," Accesso in corso... "),G())}let sbe=(()=>{class t{constructor(n,r,i){this.fb=n,this.authService=r,this.router=i,this.errorMessage="",this.loading=!1}ngOnInit(){this.authService.isAuthenticated()&&this.router.navigate(["/home"]),this.loginForm=this.fb.group({codiceFiscale:["",[Vi.required,Vi.minLength(16),Vi.maxLength(16)]]})}onLogin(){var n=this;return(0,ne.A)(function*(){if(n.loginForm.invalid)return;n.loading=!0,n.errorMessage="";const r=n.loginForm.get("codiceFiscale")?.value;try{(yield n.authService.login(r))?n.router.navigate(["/home"]):n.errorMessage="Codice fiscale non riconosciuto. Accesso negato."}catch{n.errorMessage="Errore durante il login. Riprova."}finally{n.loading=!1}})()}onCodiceFiscaleInput(n){const i=n.target.value.toUpperCase();this.loginForm.get("codiceFiscale")?.setValue(i,{emitEvent:!1})}static{this.\u0275fac=function(r){return new(r||t)(Oe(zx),Oe(dh),Oe(Bo))}}static{this.\u0275cmp=Ys({type:t,selectors:[["app-login"]],decls:18,vars:7,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"bi","bi-lightning-fill","text-primary"],["autocomplete","on",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","codiceFiscale",1,"form-label"],["type","text","id","codiceFiscale","name","username","formControlName","codiceFiscale","maxlength","16","autocomplete","username",1,"form-control","form-control-lg",3,"input"],[1,"invalid-feedback"],["type","password","name","password","autocomplete","current-password","value","dummy",2,"display","none"],["class","alert alert-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-lg","w-100",3,"disabled"],[4,"ngIf"],[1,"alert","alert-danger"],[1,"bi","bi-exclamation-triangle-fill","me-2"],[1,"bi","bi-box-arrow-in-right","me-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"]],template:function(r,i){if(1&r&&(Q(0,"div",0)(1,"div",1)(2,"div",2),Re(3,"i",3),Q(4,"h2"),ce(5,"PuntoVolley Thunders"),G()(),Q(6,"form",4),ze("ngSubmit",function(){return i.onLogin()}),Q(7,"div",5)(8,"label",6),ce(9,"Codice Fiscale"),G(),Q(10,"input",7),ze("input",function(s){return i.onCodiceFiscaleInput(s)}),G(),Q(11,"div",8),ce(12," Il codice fiscale deve essere di 16 caratteri "),G()(),Re(13,"input",9),It(14,rbe,3,1,"div",10),Q(15,"button",11),It(16,ibe,3,0,"span",12),It(17,obe,3,0,"span",12),G()()()()),2&r){let o;ae(6),Me("formGroup",i.loginForm),ae(4),Lr("is-invalid",(null==(o=i.loginForm.get("codiceFiscale"))?null:o.invalid)&&(null==(o=i.loginForm.get("codiceFiscale"))?null:o.touched)),ae(4),Me("ngIf",i.errorMessage),ae(1),Me("disabled",i.loginForm.invalid||i.loading),ae(1),Me("ngIf",!i.loading),ae(1),Me("ngIf",i.loading)}},dependencies:[Rd,lv,El,fh,ev,ow,Hp,cv],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);padding:1rem}.login-card[_ngcontent-%COMP%]{background:white;border-radius:1rem;padding:2rem;box-shadow:0 10px 40px #0003;max-width:450px;width:100%}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.login-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;margin-bottom:.5rem;font-weight:700}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:.9rem}.form-control-lg[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:1rem}#codiceFiscale[_ngcontent-%COMP%]{text-transform:uppercase}.btn-lg[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:1rem}@media (max-width: 576px){.login-card[_ngcontent-%COMP%]{padding:1.5rem}.login-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}"]})}}return t})(),ZP=(()=>{class t{constructor(n,r){this.router=n,this.authService=r}canActivate(n,r){return!!this.authService.isAuthenticated()||(this.router.navigate(["/login"]),!1)}static{this.\u0275fac=function(r){return new(r||t)(gt(Bo),gt(dh))}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const abe=[{path:"login",component:sbe},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"home",component:Zse,canActivate:[ZP]},{path:"squadra",component:h_e,canActivate:[ZP]},{path:"calendario",component:nbe,canActivate:[ZP]}];let ube=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Xo({type:t})}static{this.\u0275inj=xo({imports:[A6.forRoot(abe),A6]})}}return t})();function lbe(t,e){if(1&t&&(Q(0,"span",29),Re(1,"i",30),ce(2),Fo(3,"capitalize"),Fo(4,"capitalize"),G()),2&t){const n=ot();ae(2),fm("",Xu(3,2,n.currentUser.nome)," ",Xu(4,4,n.currentUser.cognome)," ")}}function cbe(t,e){if(1&t&&(Q(0,"div",31)(1,"div",32),Re(2,"i",33),G(),Q(3,"div")(4,"p",34),ce(5),Fo(6,"capitalize"),Fo(7,"capitalize"),G(),Q(8,"small",35),ce(9),G()()()),2&t){const n=ot();ae(5),fm("",Xu(6,3,n.currentUser.nome)," ",Xu(7,5,n.currentUser.cognome),""),ae(4),jn(n.currentUser.profilo)}}function dbe(t,e){if(1&t){const n=fi();Q(0,"div",36),ze("click",function(){return nr(n),rr(ot().toggleMenu())}),G()}2&t&&Lr("show",ot().menuOpen)}let hbe=(()=>{class t{constructor(n,r){this.authService=n,this.router=r,this.menuOpen=!1,this.currentUser=null}ngOnInit(){this.authService.currentUser.subscribe(n=>{this.currentUser=n})}toggleMenu(){this.menuOpen=!this.menuOpen}logout(){this.authService.logout(),this.menuOpen=!1,this.router.navigate(["/login"])}static{this.\u0275fac=function(r){return new(r||t)(Oe(dh),Oe(Bo))}}static{this.\u0275cmp=Ys({type:t,selectors:[["app-header"]],decls:43,vars:5,consts:[[1,"navbar","navbar-dark","bg-primary"],[1,"container-fluid"],["type","button",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["class","navbar-brand mx-auto",4,"ngIf"],["href","assets/files/elenco_tesserati_2526.pdf","download","",1,"btn","btn-light","download-btn","ms-auto"],[1,"bi","bi-download"],[1,"desktop-label"],["tabindex","-1",1,"offcanvas","offcanvas-start"],[1,"offcanvas-header","bg-primary","text-white"],[1,"offcanvas-title","fw-bold"],[1,"bi","bi-list-ul","me-2"],["type","button",1,"btn-close","btn-close-white",3,"click"],[1,"offcanvas-body","p-0"],[1,"user-info-section","p-3","bg-light","border-bottom"],["class","d-flex align-items-center",4,"ngIf"],[1,"nav","flex-column","menu-items"],[1,"nav-item"],["routerLink","/home","routerLinkActive","active",1,"nav-link","menu-link",3,"click"],[1,"bi","bi-house-door-fill","me-3"],[1,"bi","bi-chevron-right","ms-auto"],["routerLink","/squadra","routerLinkActive","active",1,"nav-link","menu-link",3,"click"],[1,"bi","bi-people-fill","me-3"],["routerLink","/calendario","routerLinkActive","active",1,"nav-link","menu-link",3,"click"],[1,"bi","bi-calendar-event-fill","me-3"],[1,"logout-section","mt-auto","p-3","border-top"],[1,"nav-link","menu-link","logout-link",3,"click"],[1,"bi","bi-box-arrow-right","me-3"],["class","offcanvas-backdrop fade",3,"show","click",4,"ngIf"],[1,"navbar-brand","mx-auto"],[1,"bi","bi-person-fill","me-2"],[1,"d-flex","align-items-center"],[1,"user-avatar","me-3"],[1,"bi","bi-person-circle"],[1,"mb-0","fw-semibold"],[1,"text-muted"],[1,"offcanvas-backdrop","fade",3,"click"]],template:function(r,i){1&r&&(Q(0,"nav",0)(1,"div",1)(2,"button",2),ze("click",function(){return i.toggleMenu()}),Re(3,"span",3),G(),It(4,lbe,5,6,"span",4),Q(5,"a",5),Re(6,"i",6),Q(7,"span",7),ce(8,"Elenco tesserati"),G()()()(),Q(9,"div",8)(10,"div",9)(11,"h5",10),Re(12,"i",11),ce(13,"Menu "),G(),Q(14,"button",12),ze("click",function(){return i.toggleMenu()}),G()(),Q(15,"div",13)(16,"div",14),It(17,cbe,10,7,"div",15),G(),Q(18,"ul",16)(19,"li",17)(20,"a",18),ze("click",function(){return i.toggleMenu()}),Re(21,"i",19),Q(22,"span"),ce(23,"Home"),G(),Re(24,"i",20),G()(),Q(25,"li",17)(26,"a",21),ze("click",function(){return i.toggleMenu()}),Re(27,"i",22),Q(28,"span"),ce(29,"Squadra"),G(),Re(30,"i",20),G()(),Q(31,"li",17)(32,"a",23),ze("click",function(){return i.toggleMenu()}),Re(33,"i",24),Q(34,"span"),ce(35,"Calendario"),G(),Re(36,"i",20),G()()(),Q(37,"div",25)(38,"a",26),ze("click",function(){return i.logout()}),Re(39,"i",27),Q(40,"span"),ce(41,"Logout"),G()()()()(),It(42,dbe,1,2,"div",28)),2&r&&(ae(4),Me("ngIf",i.currentUser),ae(5),Lr("show",i.menuOpen),ae(8),Me("ngIf",i.currentUser),ae(25),Me("ngIf",i.menuOpen))},dependencies:[Rd,Hm,m6,s9],styles:['.navbar-brand[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);font-weight:700}.download-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.375rem .75rem;font-size:.875rem;background-color:transparent;border:1px solid rgba(255,255,255,.1);color:#fff;text-decoration:none;border-radius:.25rem;transition:all .15s ease-in-out}.download-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;border-color:#ffffff26;color:#fff}.download-btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .25rem #ffffff40}.download-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}@media (max-width: 767px){.desktop-label[_ngcontent-%COMP%]{display:none}.download-btn[_ngcontent-%COMP%]{padding:.375rem;min-width:auto}}.offcanvas[_ngcontent-%COMP%]{visibility:hidden;transform:translate(-100%);transition:transform .3s ease-in-out;width:280px;max-width:80vw}.offcanvas.show[_ngcontent-%COMP%]{visibility:visible;transform:translate(0)}.offcanvas-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#000;opacity:0;visibility:hidden;transition:opacity .3s ease-in-out}.offcanvas-backdrop.show[_ngcontent-%COMP%]{opacity:.5;visibility:visible}.offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.user-info-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa 0%,#e9ecef 100%)}.user-avatar[_ngcontent-%COMP%]{font-size:2.5rem;color:var(--bs-primary);line-height:1}.menu-items[_ngcontent-%COMP%]{flex-grow:1;padding:.5rem 0}.menu-link[_ngcontent-%COMP%]{color:#212529;padding:1rem 1.5rem;display:flex;align-items:center;transition:all .2s ease;border-left:3px solid transparent;font-weight:500;position:relative;overflow:hidden}.menu-link[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;height:100%;width:0;background:linear-gradient(90deg,rgba(13,110,253,.1) 0%,transparent 100%);transition:width .3s ease}.menu-link[_ngcontent-%COMP%]:hover:before{width:100%}.menu-link[_ngcontent-%COMP%]:hover{background-color:#0d6efd0d;border-left-color:var(--bs-primary);color:var(--bs-primary);transform:translate(5px)}.menu-link.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(13,110,253,.15) 0%,rgba(13,110,253,.05) 100%);border-left-color:var(--bs-primary);color:var(--bs-primary);font-weight:600}.menu-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:first-child{font-size:1.25rem;width:24px;text-align:center}.menu-link[_ngcontent-%COMP%]   i.bi-chevron-right[_ngcontent-%COMP%]{font-size:.875rem;opacity:.5;transition:transform .2s ease,opacity .2s ease}.menu-link[_ngcontent-%COMP%]:hover   i.bi-chevron-right[_ngcontent-%COMP%], .menu-link.active[_ngcontent-%COMP%]   i.bi-chevron-right[_ngcontent-%COMP%]{opacity:1;transform:translate(3px)}.logout-section[_ngcontent-%COMP%]{background-color:#f8f9fa}.logout-link[_ngcontent-%COMP%]{color:#dc3545;padding:.75rem 1rem;display:flex;align-items:center;transition:all .2s ease;border-radius:.375rem;font-weight:500}.logout-link[_ngcontent-%COMP%]:hover{background-color:#dc35451a;color:#bb2d3b;transform:translate(5px)}.logout-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}']})}}return t})(),fbe=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ys({type:t,selectors:[["app-footer"]],decls:7,vars:0,consts:[[1,"navbar","navbar-dark","bg-primary","fixed-bottom"],[1,"container-fluid"],[1,"navbar-brand","mx-auto"],[1,"bi","bi-lightning-fill"],["href","https://www.instagram.com/thunders.team_/","target","_blank","rel","noopener noreferrer",1,"instagram-link","ms-auto"],[1,"bi","bi-instagram"]],template:function(r,i){1&r&&(Q(0,"nav",0)(1,"div",1)(2,"span",2),ce(3,"PuntoVolley Thunders "),Re(4,"i",3),G(),Q(5,"a",4),Re(6,"i",5),G()()())},styles:[".navbar[_ngcontent-%COMP%]{min-height:56px;padding-bottom:calc(.5rem + env(safe-area-inset-bottom))}.navbar-brand[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);font-weight:700;font-size:1.25rem}.instagram-link[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-decoration:none;transition:all .15s ease-in-out;margin-right:.75rem;padding-right:env(safe-area-inset-right,0)}.instagram-link[_ngcontent-%COMP%]:hover{color:#fffc;transform:scale(1.1)}"]})}}return t})();function pbe(t,e){1&t&&Re(0,"app-header")}function gbe(t,e){1&t&&Re(0,"app-footer")}let mbe=(()=>{class t{constructor(n){this.authService=n,this.title="thunders-pwa"}static{this.\u0275fac=function(r){return new(r||t)(Oe(dh))}}static{this.\u0275cmp=Ys({type:t,selectors:[["app-root"]],decls:4,vars:4,consts:[[4,"ngIf"]],template:function(r,i){1&r&&(It(0,pbe,1,0,"app-header",0),Q(1,"div"),Re(2,"router-outlet"),G(),It(3,gbe,1,0,"app-footer",0)),2&r&&(Me("ngIf",i.authService.isAuthenticated()),ae(1),Lr("with-nav",i.authService.isAuthenticated()),ae(2),Me("ngIf",i.authService.isAuthenticated()))},dependencies:[Rd,cC,hbe,fbe],styles:[".with-nav[_ngcontent-%COMP%]{padding-top:58px;padding-bottom:56px;min-height:calc(100vh - 114px)}"]})}}return t})();const _be=["addListener","removeListener"],vbe=["addEventListener","removeEventListener"],ybe=["on","off"];function Hw(t,e,n,r){if(un(n)&&(r=n,n=void 0),r)return Hw(t,e,n).pipe(HA(r));const[i,o]=function Ibe(t){return un(t.addEventListener)&&un(t.removeEventListener)}(t)?vbe.map(s=>a=>t[s](e,a,n)):function bbe(t){return un(t.addListener)&&un(t.removeListener)}(t)?_be.map(uq(t,e)):function wbe(t){return un(t.on)&&un(t.off)}(t)?ybe.map(uq(t,e)):[];if(!i&&I2(t))return wi(s=>Hw(s,e,n))(lo(t));if(!i)throw new TypeError("Invalid event target");return new tr(s=>{const a=(...u)=>s.next(1<u.length?u:u[0]);return i(a),()=>o(a)})}function uq(t,e){return n=>r=>t[n](e,r)}const Hc=new tr(gd),Abe={connector:()=>new Yo};function lq(t,e=Abe){const{connector:n}=e;return Zr((r,i)=>{const o=n();lo(t(function Ebe(t){return new tr(e=>t.subscribe(e))}(o))).subscribe(i),i.add(r.subscribe(o))})}function cq(t,e){return e?n=>xm(e.pipe(ss(1),function Sbe(){return Zr((t,e)=>{t.subscribe(Jr(e,gd))})}()),n.pipe(cq(t))):wi((n,r)=>lo(t(n,r)).pipe(ss(1),IF(n)))}const Uv="Service workers are disabled or not supported by this browser";class Ww{constructor(e){if(this.serviceWorker=e,e){const r=Hw(e,"controllerchange").pipe(pn(()=>e.controller)),o=xm(r1(()=>Mt(e.controller)),r);this.worker=o.pipe(as(c=>!!c)),this.registration=this.worker.pipe(Zo(()=>e.getRegistration()));const l=Hw(e,"message").pipe(pn(c=>c.data)).pipe(as(c=>c&&c.type)).pipe(function Tbe(t){return t?e=>lq(t)(e):e=>function Cbe(t,e){const n=un(t)?t:()=>t;return un(e)?lq(e,{connector:n}):r=>new QA(r,n)}(new Yo)(e)}());l.connect(),this.events=l}else this.worker=this.events=this.registration=function Nbe(t){return r1(()=>$f(new Error(t)))}(Uv)}postMessage(e,n){return this.worker.pipe(ss(1),Mi(r=>{r.postMessage({action:e,...n})})).toPromise().then(()=>{})}postMessageWithOperation(e,n,r){const i=this.waitForOperationCompleted(r),o=this.postMessage(e,n);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let n;return n="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(as(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(ss(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(as(n=>n.nonce===e),ss(1),pn(n=>{if(void 0!==n.result)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let dq=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,this.pushManager=null,this.subscriptionChanges=new Yo,!n.isEnabled)return this.messages=Hc,this.notificationClicks=Hc,void(this.subscription=Hc);this.messages=this.sw.eventsOfType("PUSH").pipe(pn(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(pn(i=>i.data)),this.pushManager=this.sw.registration.pipe(pn(i=>i.pushManager));const r=this.pushManager.pipe(Zo(i=>i.getSubscription()));this.subscription=A2(r,this.subscriptionChanges)}requestSubscription(n){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Uv));const r={userVisibleOnly:!0};let i=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,this.pushManager.pipe(Zo(s=>s.subscribe(r)),ss(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(ss(1),Zo(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Uv))}decodeBase64(n){return atob(n)}static{this.\u0275fac=function(r){return new(r||t)(gt(Ww))}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac})}}return t})(),hq=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,!n.isEnabled)return this.versionUpdates=Hc,this.available=Hc,this.activated=Hc,void(this.unrecoverable=Hc);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(as(r=>"VERSION_READY"===r.type),pn(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Uv));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Uv));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}static{this.\u0275fac=function(r){return new(r||t)(gt(Ww))}}static{this.\u0275prov=yt({token:t,factory:t.\u0275fac})}}return t})();const fq=new it("NGSW_REGISTER_SCRIPT");function Rbe(t,e,n,r){return()=>{if(!QL(r)||!("serviceWorker"in navigator)||!1===n.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)i=n.registrationStrategy();else{const[s,...a]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Mt(null);break;case"registerWithDelay":i=pq(+a[0]||0);break;case"registerWhenStable":i=a[0]?A2(gq(t),pq(+a[0])):gq(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}t.get(On).runOutsideAngular(()=>i.pipe(ss(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function pq(t){return Mt(null).pipe(function Pbe(t,e=LC){const n=function xbe(t=0,e,n=$ue){let r=-1;return null!=e&&(RN(e)?n=e:r=e),new tr(i=>{let o=function Dbe(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(t,e);return cq(()=>n)}(t))}function gq(t){return t.get(xd).isStable.pipe(as(n=>n))}function Mbe(t,e){return new Ww(QL(e)&&!1!==t.enabled?navigator.serviceWorker:void 0)}class JP{}function kbe(t,e={}){return function FI(t){return{\u0275providers:t}}([dq,hq,{provide:fq,useValue:t},{provide:JP,useValue:e},{provide:Ww,useFactory:Mbe,deps:[JP,Ku]},{provide:M0,useFactory:Rbe,deps:[fo,fq,JP,Ku],multi:!0}])}let Obe=(()=>{class t{static register(n,r={}){return{ngModule:t,providers:[kbe(n,r)]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Xo({type:t})}static{this.\u0275inj=xo({providers:[dq,hq]})}}return t})();const Lbe_firebase={apiKey:"AIzaSyAUbG_IDk6TFGtGbpkMVY4j2ZLvtvYee3A",authDomain:"thunders-pwa.firebaseapp.com",projectId:"thunders-pwa",storageBucket:"thunders-pwa.firebasestorage.app",messagingSenderId:"521968874196",appId:"1:521968874196:web:d279af17ffb90278814141"};let Fbe=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Xo({type:t,bootstrap:[mbe]})}static{this.\u0275inj=xo({imports:[pie,ube,Obe.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"}),Fme,Lme,nle(()=>rle(Lbe_firebase)),$ge(()=>qge())]})}}return t})();hie().bootstrapModule(Fbe).catch(t=>console.error(t))},467:(oy,sy,ws)=>{function un(dd,Wl,Ni,hd,fd,pd,Is){try{var Qa=dd[pd](Is),Bu=Qa.value}catch(gd){return void Ni(gd)}Qa.done?Wl(Bu):Promise.resolve(Bu).then(hd,fd)}function Ag(dd){return function(){var Wl=this,Ni=arguments;return new Promise(function(hd,fd){var pd=dd.apply(Wl,Ni);function Is(Bu){un(pd,hd,fd,Is,Qa,"next",Bu)}function Qa(Bu){un(pd,hd,fd,Is,Qa,"throw",Bu)}Is(void 0)})}}ws.d(sy,{A:()=>Ag})}},oy=>{oy(oy.s=8523)}]);