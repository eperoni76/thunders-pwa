"use strict";(self.webpackChunkthunders_pwa=self.webpackChunkthunders_pwa||[]).push([[792],{9500:(l1,c1,ys)=>{function fn(n){return"function"==typeof n}function Mg(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const md=Mg(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Yc(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Ri{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(fn(r))try{r()}catch(o){e=o instanceof md?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{yd(o)}catch(s){e=e??[],s instanceof md?e=[...e,...s.errors]:e.push(s)}}if(e)throw new md(e)}}add(e){var t;if(e&&e!==this)if(this.closed)yd(e);else{if(e instanceof Ri){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Yc(t,e)}remove(e){const{_finalizers:t}=this;t&&Yc(t,e),e instanceof Ri&&e._removeParent(this)}}Ri.EMPTY=(()=>{const n=new Ri;return n.closed=!0,n})();const _d=Ri.EMPTY;function vd(n){return n instanceof Ri||n&&"closed"in n&&fn(n.remove)&&fn(n.add)&&fn(n.unsubscribe)}function yd(n){fn(n)?n():n.unsubscribe()}const bs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ja={setTimeout(n,e,...t){const{delegate:r}=Ja;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Ja;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ql(n){Ja.setTimeout(()=>{const{onUnhandledError:e}=bs;if(!e)throw n;e(n)})}function bd(){}const tG=mw("C",void 0,void 0);function mw(n,e,t){return{kind:n,value:e,error:t}}let wd=null;function u1(n){if(bs.useDeprecatedSynchronousErrorHandling){const e=!wd;if(e&&(wd={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=wd;if(wd=null,t)throw r}}else n()}class _w extends Ri{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,vd(e)&&e.add(this)):this.destination=lG}static create(e,t,r){return new Wh(e,t,r)}next(e){this.isStopped?yw(function rG(n){return mw("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?yw(function nG(n){return mw("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?yw(tG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const oG=Function.prototype.bind;function vw(n,e){return oG.call(n,e)}class sG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){d1(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){d1(r)}else d1(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){d1(t)}}}class Wh extends _w{constructor(e,t,r){let i;if(super(),fn(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&bs.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&vw(e.next,o),error:e.error&&vw(e.error,o),complete:e.complete&&vw(e.complete,o)}):i=e}this.destination=new sG(i)}}function d1(n){bs.useDeprecatedSynchronousErrorHandling?function iG(n){bs.useDeprecatedSynchronousErrorHandling&&wd&&(wd.errorThrown=!0,wd.error=n)}(n):ql(n)}function yw(n,e){const{onStoppedNotification:t}=bs;t&&Ja.setTimeout(()=>t(n,e))}const lG={closed:!0,next:bd,error:function aG(n){throw n},complete:bd},bw="function"==typeof Symbol&&Symbol.observable||"@@observable";function Zc(n){return n}function yM(n){return 0===n.length?Zc:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let ir=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function dG(n){return n&&n instanceof _w||function uG(n){return n&&fn(n.next)&&fn(n.error)&&fn(n.complete)}(n)&&vd(n)}(t)?t:new Wh(t,r,i);return u1(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=bM(r))((i,o)=>{const s=new Wh({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[bw](){return this}pipe(...t){return yM(t)(this)}toPromise(t){return new(t=bM(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function bM(n){var e;return null!==(e=n??bs.Promise)&&void 0!==e?e:Promise}const hG=Mg(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Qo=(()=>{class n extends ir{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new wM(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new hG}next(t){u1(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){u1(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){u1(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?_d:(this.currentObservers=null,o.push(t),new Ri(()=>{this.currentObservers=null,Yc(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new ir;return t.source=this,t}}return n.create=(e,t)=>new wM(e,t),n})();class wM extends Qo{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:_d}}function IM(n){return fn(n?.lift)}function Jr(n){return e=>{if(IM(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Xr(n,e,t,r,i){return new fG(n,e,t,r,i)}class fG extends _w{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function hn(n,e){return Jr((t,r)=>{let i=0;t.subscribe(Xr(r,o=>{r.next(n.call(e,o,i++))}))})}function h1(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Jc(n){return this instanceof Jc?(this.v=n,this):new Jc(n)}function TM(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Cw(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Tw=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function SM(n){return fn(n?.then)}function DM(n){return fn(n[bw])}function xM(n){return Symbol.asyncIterator&&fn(n?.[Symbol.asyncIterator])}function PM(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const MM=function UG(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function NM(n){return fn(n?.[MM])}function RM(n){return function AM(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(p){return function(b){return Promise.resolve(b).then(p,d)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(p,b){r[p]&&(i[p]=function(w){return new Promise(function(E,C){o.push([p,w,E,C])>1||l(p,w)})},b&&(i[p]=b(i[p])))}function l(p,b){try{!function c(p){p.value instanceof Jc?Promise.resolve(p.value.v).then(u,d):m(o[0][2],p)}(r[p](b))}catch(w){m(o[0][3],w)}}function u(p){l("next",p)}function d(p){l("throw",p)}function m(p,b){p(b),o.shift(),o.length&&l(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Jc(t.read());if(i)return yield Jc(void 0);yield yield Jc(r)}}finally{t.releaseLock()}})}function kM(n){return fn(n?.getReader)}function co(n){if(n instanceof ir)return n;if(null!=n){if(DM(n))return function BG(n){return new ir(e=>{const t=n[bw]();if(fn(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Tw(n))return function jG(n){return new ir(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(SM(n))return function zG(n){return new ir(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ql)})}(n);if(xM(n))return OM(n);if(NM(n))return function $G(n){return new ir(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(kM(n))return function qG(n){return OM(RM(n))}(n)}throw PM(n)}function OM(n){return new ir(e=>{(function GG(n,e){var t,r,i,o;return function EM(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=TM(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Gl(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ii(n,e,t=1/0){return fn(e)?Ii((r,i)=>hn((o,s)=>e(r,o,i,s))(co(n(r,i))),t):("number"==typeof e&&(t=e),Jr((r,i)=>function HG(n,e,t,r,i,o,s,a){const l=[];let c=0,u=0,d=!1;const m=()=>{d&&!l.length&&!c&&e.complete()},p=w=>c<r?b(w):l.push(w),b=w=>{o&&e.next(w),c++;let E=!1;co(t(w,u++)).subscribe(Xr(e,C=>{i?.(C),o?p(C):e.next(C)},()=>{E=!0},void 0,()=>{if(E)try{for(c--;l.length&&c<r;){const C=l.shift();s?Gl(e,s,()=>b(C)):b(C)}m()}catch(C){e.error(C)}}))};return n.subscribe(Xr(e,p,()=>{d=!0,m()})),()=>{a?.()}}(r,i,n,t)))}function Kh(n=1/0){return Ii(Zc,n)}const Xa=new ir(n=>n.complete());function LM(n){return n&&fn(n.schedule)}function Sw(n){return n[n.length-1]}function FM(n){return fn(Sw(n))?n.pop():void 0}function Ng(n){return LM(Sw(n))?n.pop():void 0}function f1(n,e=0){return Jr((t,r)=>{t.subscribe(Xr(r,i=>Gl(r,n,()=>r.next(i),e),()=>Gl(r,n,()=>r.complete(),e),i=>Gl(r,n,()=>r.error(i),e)))})}function p1(n,e=0){return Jr((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function VM(n,e){if(!n)throw new Error("Iterable cannot be null");return new ir(t=>{Gl(t,e,()=>{const r=n[Symbol.asyncIterator]();Gl(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ki(n,e){return e?function eH(n,e){if(null!=n){if(DM(n))return function QG(n,e){return co(n).pipe(p1(e),f1(e))}(n,e);if(Tw(n))return function ZG(n,e){return new ir(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(SM(n))return function YG(n,e){return co(n).pipe(p1(e),f1(e))}(n,e);if(xM(n))return VM(n,e);if(NM(n))return function JG(n,e){return new ir(t=>{let r;return Gl(t,e,()=>{r=n[MM](),Gl(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>fn(r?.return)&&r.return()})}(n,e);if(kM(n))return function XG(n,e){return VM(RM(n),e)}(n,e)}throw PM(n)}(n,e):co(n)}function Dw(...n){const e=Ng(n),t=function KG(n,e){return"number"==typeof Sw(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?co(r[0]):Kh(t)(ki(r,e)):Xa}class ws extends Qo{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function kt(...n){return ki(n,Ng(n))}function UM(n={}){const{connector:e=(()=>new Qo),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,l,c=0,u=!1,d=!1;const m=()=>{a?.unsubscribe(),a=void 0},p=()=>{m(),s=l=void 0,u=d=!1},b=()=>{const w=s;p(),w?.unsubscribe()};return Jr((w,E)=>{c++,!d&&!u&&m();const C=l=l??e();E.add(()=>{c--,0===c&&!d&&!u&&(a=xw(b,i))}),C.subscribe(E),!s&&c>0&&(s=new Wh({next:k=>C.next(k),error:k=>{d=!0,m(),a=xw(p,t,k),C.error(k)},complete:()=>{u=!0,m(),a=xw(p,r),C.complete()}}),co(w).subscribe(s))})(o)}}function xw(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Wh({next:()=>{r.unsubscribe(),n()}});return co(e(...t)).subscribe(r)}function Yo(n,e){return Jr((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(Xr(r,l=>{i?.unsubscribe();let c=0;const u=o++;co(n(l,u)).subscribe(i=Xr(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function nH(n,e){return n===e}function qn(n){for(let e in n)if(n[e]===qn)return e;throw Error("Could not find renamed property on target object.")}function g1(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ei(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ei).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Pw(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const rH=qn({__forward_ref__:qn});function ur(n){return n.__forward_ref__=ur,n.toString=function(){return Ei(this())},n}function $t(n){return Mw(n)?n():n}function Mw(n){return"function"==typeof n&&n.hasOwnProperty(rH)&&n.__forward_ref__===ur}function Nw(n){return n&&!!n.\u0275providers}const BM="https://g.co/ng/security#xss";class ze extends Error{constructor(e,t){super(function m1(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Qt(n){return"string"==typeof n?n:null==n?"":String(n)}function Rw(n,e){throw new ze(-201,!1)}function Ys(n,e){null==n&&function Vt(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function gt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function xo(n){return{providers:n.providers||[],imports:n.imports||[]}}function _1(n){return jM(n,y1)||jM(n,zM)}function jM(n,e){return n.hasOwnProperty(e)?n[e]:null}function v1(n){return n&&(n.hasOwnProperty(kw)||n.hasOwnProperty(dH))?n[kw]:null}const y1=qn({\u0275prov:qn}),kw=qn({\u0275inj:qn}),zM=qn({ngInjectableDef:qn}),dH=qn({ngInjectorDef:qn});var gn=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(gn||{});let Ow;function Zo(n){const e=Ow;return Ow=n,e}function qM(n,e,t){const r=_1(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&gn.Optional?null:void 0!==e?e:void Rw(Ei(n))}const dr=globalThis;class at{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=gt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Rg={},Bw="__NG_DI_FLAG__",b1="ngTempTokenPath",pH=/\n/gm,HM="__source";let Qh;function Xc(n){const e=Qh;return Qh=n,e}function _H(n,e=gn.Default){if(void 0===Qh)throw new ze(-203,!1);return null===Qh?qM(n,void 0,e):Qh.get(n,e&gn.Optional?null:void 0,e)}function ft(n,e=gn.Default){return(function $M(){return Ow}()||_H)($t(n),e)}function lt(n,e=gn.Default){return ft(n,w1(e))}function w1(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function jw(n){const e=[];for(let t=0;t<n.length;t++){const r=$t(n[t]);if(Array.isArray(r)){if(0===r.length)throw new ze(900,!1);let i,o=gn.Default;for(let s=0;s<r.length;s++){const a=r[s],l=vH(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(ft(i,o))}else e.push(ft(r))}return e}function kg(n,e){return n[Bw]=e,n.prototype[Bw]=e,n}function vH(n){return n[Bw]}function Hl(n){return{toString:n}.toString()}var I1=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(I1||{}),Ca=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Ca||{});const el={},Rn=[],E1=qn({\u0275cmp:qn}),zw=qn({\u0275dir:qn}),$w=qn({\u0275pipe:qn}),KM=qn({\u0275mod:qn}),Wl=qn({\u0275fac:qn}),Og=qn({__NG_ELEMENT_ID__:qn}),QM=qn({__NG_ENV_ID__:qn});function YM(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function qw(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];JM(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function ZM(n){return 3===n||4===n||6===n}function JM(n){return 64===n.charCodeAt(0)}function Lg(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||XM(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function XM(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}const eN="ng-template";function wH(n,e,t){let r=0,i=!0;for(;r<n.length;){let o=n[r++];if("string"==typeof o&&i){const s=n[r++];if(t&&"class"===o&&-1!==YM(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function tN(n){return 4===n.type&&n.value!==eN}function IH(n,e,t){return e===(4!==n.type||t?n.value:eN)}function EH(n,e,t){let r=4;const i=n.attrs||[],o=function TH(n){for(let e=0;e<n.length;e++)if(ZM(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!IH(n,l,t)||""===l&&1===e.length){if(Aa(r))return!1;s=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!wH(n.attrs,c,t)){if(Aa(r))return!1;s=!0}continue}const d=CH(8&r?"class":l,i,tN(n),t);if(-1===d){if(Aa(r))return!1;s=!0;continue}if(""!==c){let m;m=d>o?"":i[d+1].toLowerCase();const p=8&r?m:null;if(p&&-1!==YM(p,c,0)||2&r&&c!==m){if(Aa(r))return!1;s=!0}}}}else{if(!s&&!Aa(r)&&!Aa(l))return!1;if(s&&Aa(l))continue;s=!1,r=l|1&r}}return Aa(r)||s}function Aa(n){return 0==(1&n)}function CH(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function SH(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function nN(n,e,t=!1){for(let r=0;r<e.length;r++)if(EH(n,e[r],t))return!0;return!1}function rN(n,e){return n?":not("+e.trim()+")":e}function xH(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Aa(s)&&(e+=rN(o,i),i=""),r=s,o=o||!Aa(r);t++}return""!==i&&(e+=rN(o,i)),e}function Es(n){return Hl(()=>{const e=oN(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===I1.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ca.Emulated,styles:n.styles||Rn,_:null,schemas:n.schemas||null,tView:null,id:""};sN(t);const r=n.dependencies;return t.directiveDefs=C1(r,!1),t.pipeDefs=C1(r,!0),t.id=function FH(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function RH(n){return An(n)||Gi(n)}function kH(n){return null!==n}function Jo(n){return Hl(()=>({type:n.type,bootstrap:n.bootstrap||Rn,declarations:n.declarations||Rn,imports:n.imports||Rn,exports:n.exports||Rn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function iN(n,e){if(null==n)return el;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}function qt(n){return Hl(()=>{const e=oN(n);return sN(e),e})}function Po(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function An(n){return n[E1]||null}function Gi(n){return n[zw]||null}function Mo(n){return n[$w]||null}function Cs(n,e){const t=n[KM]||null;if(!t&&!0===e)throw new Error(`Type ${Ei(n)} does not have '\u0275mod' property.`);return t}function oN(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||el,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Rn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:iN(n.inputs,e),outputs:iN(n.outputs)}}function sN(n){n.features?.forEach(e=>e(n))}function C1(n,e){if(!n)return null;const t=e?Mo:RH;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(kH)}const qr=0,it=1,Xt=2,Tr=3,Ta=4,Fg=5,uo=6,Zh=7,ei=8,eu=9,Jh=10,Yt=11,Vg=12,aN=13,Xh=14,ti=15,Ug=16,ef=17,tl=18,Bg=19,lN=20,tu=21,Kl=22,jg=23,zg=24,mn=25,Gw=1,cN=2,nl=7,tf=9,Hi=11;function Xo(n){return Array.isArray(n)&&"object"==typeof n[Gw]}function No(n){return Array.isArray(n)&&!0===n[Gw]}function Hw(n){return 0!=(4&n.flags)}function Ed(n){return n.componentOffset>-1}function T1(n){return 1==(1&n.flags)}function Sa(n){return!!n.template}function Ww(n){return 0!=(512&n[Xt])}function Cd(n,e){return n.hasOwnProperty(Wl)?n[Wl]:null}let Wi=null,S1=!1;function Zs(n){const e=Wi;return Wi=n,e}const hN={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function pN(n){if(!qg(n)||n.dirty){if(!n.producerMustRecompute(n)&&!_N(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function mN(n){n.dirty=!0,function gN(n){if(void 0===n.liveConsumerNode)return;const e=S1;S1=!0;try{for(const t of n.liveConsumerNode)t.dirty||mN(t)}finally{S1=e}}(n),n.consumerMarkedDirty?.(n)}function Qw(n){return n&&(n.nextProducerIndex=0),Zs(n)}function Yw(n,e){if(Zs(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(qg(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)D1(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function _N(n){nf(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(pN(t),r!==t.version))return!0}return!1}function vN(n){if(nf(n),qg(n))for(let e=0;e<n.producerNode.length;e++)D1(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function D1(n,e){if(function bN(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),nf(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)D1(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];nf(i),i.producerIndexOfThis[r]=e}}function qg(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function nf(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let wN=null;const AN=()=>{},YH=(()=>({...hN,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:AN}))();class ZH{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function As(){return TN}function TN(n){return n.type.prototype.ngOnChanges&&(n.setInput=XH),JH}function JH(){const n=DN(this),e=n?.current;if(e){const t=n.previous;if(t===el)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function XH(n,e,t,r){const i=this.declaredInputs[t],o=DN(n)||function eW(n,e){return n[SN]=e}(n,{previous:el,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new ZH(l&&l.currentValue,e,a===el),n[r]=e}As.ngInherit=!0;const SN="__ngSimpleChanges__";function DN(n){return n[SN]||null}const rl=function(n,e,t){};function hr(n){for(;Array.isArray(n);)n=n[qr];return n}function x1(n,e){return hr(e[n])}function es(n,e){return hr(e[n.index])}function MN(n,e){return n.data[e]}function rf(n,e){return n[e]}function Ts(n,e){const t=e[n];return Xo(t)?t:t[qr]}function ru(n,e){return null==e?null:n[e]}function NN(n){n[ef]=0}function sW(n){1024&n[Xt]||(n[Xt]|=1024,kN(n,1))}function RN(n){1024&n[Xt]&&(n[Xt]&=-1025,kN(n,-1))}function kN(n,e){let t=n[Tr];if(null===t)return;t[Fg]+=e;let r=t;for(t=t[Tr];null!==t&&(1===e&&1===r[Fg]||-1===e&&0===r[Fg]);)t[Fg]+=e,r=t,t=t[Tr]}const Ut={lFrame:GN(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function FN(){return Ut.bindingsEnabled}function Fe(){return Ut.lFrame.lView}function Tn(){return Ut.lFrame.tView}function en(n){return Ut.lFrame.contextLView=n,n[ei]}function tn(n){return Ut.lFrame.contextLView=null,n}function Ki(){let n=VN();for(;null!==n&&64===n.type;)n=n.parent;return n}function VN(){return Ut.lFrame.currentTNode}function il(n,e){const t=Ut.lFrame;t.currentTNode=n,t.isParent=e}function tI(){return Ut.lFrame.isParent}function Ro(){const n=Ut.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function af(){return Ut.lFrame.bindingIndex++}function Yl(n){const e=Ut.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function vW(n,e){const t=Ut.lFrame;t.bindingIndex=t.bindingRootIndex=n,rI(e)}function rI(n){Ut.lFrame.currentDirectiveIndex=n}function zN(){return Ut.lFrame.currentQueryIndex}function oI(n){Ut.lFrame.currentQueryIndex=n}function bW(n){const e=n[it];return 2===e.type?e.declTNode:1===e.type?n[uo]:null}function $N(n,e,t){if(t&gn.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&gn.Host||(i=bW(o),null===i||(o=o[Xh],10&i.type))););if(null===i)return!1;e=i,n=o}const r=Ut.lFrame=qN();return r.currentTNode=e,r.lView=n,!0}function sI(n){const e=qN(),t=n[it];Ut.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function qN(){const n=Ut.lFrame,e=null===n?null:n.child;return null===e?GN(n):e}function GN(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function HN(){const n=Ut.lFrame;return Ut.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const WN=HN;function aI(){const n=HN();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ko(){return Ut.lFrame.selectedIndex}function Ad(n){Ut.lFrame.selectedIndex=n}function Fr(){const n=Ut.lFrame;return MN(n.tView,n.selectedIndex)}let QN=!0;function P1(){return QN}function iu(n){QN=n}function M1(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function N1(n,e,t){YN(n,e,3,t)}function R1(n,e,t,r){(3&n[Xt])===t&&YN(n,e,t,r)}function lI(n,e){let t=n[Xt];(3&t)===e&&(t&=8191,t+=1,n[Xt]=t)}function YN(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&n[ef]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[ef]+=65536),(a<o||-1==o)&&(DW(n,t,e,l),n[ef]=(4294901760&n[ef])+l+2),l++}function ZN(n,e){rl(4,n,e);const t=Zs(null);try{e.call(n)}finally{Zs(t),rl(5,n,e)}}function DW(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];i?n[Xt]>>13<n[ef]>>16&&(3&n[Xt])===e&&(n[Xt]+=8192,ZN(a,o)):ZN(a,o)}const lf=-1;class Hg{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function uI(n){return n!==lf}function Wg(n){return 32767&n}function Kg(n,e){let t=function NW(n){return n>>16}(n),r=e;for(;t>0;)r=r[Xh],t--;return r}let dI=!0;function k1(n){const e=dI;return dI=n,e}const JN=255,XN=5;let RW=0;const ol={};function O1(n,e){const t=eR(n,e);if(-1!==t)return t;const r=e[it];r.firstCreatePass&&(n.injectorIndex=e.length,hI(r.data,n),hI(e,null),hI(r.blueprint,null));const i=L1(n,e),o=n.injectorIndex;if(uI(i)){const s=Wg(i),a=Kg(i,e),l=a[it].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function hI(n,e){n.push(0,0,0,0,0,0,0,0,e)}function eR(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function L1(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=aR(i),null===r)return lf;if(t++,i=i[Xh],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return lf}function fI(n,e,t){!function kW(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Og)&&(r=t[Og]),null==r&&(r=t[Og]=RW++);const i=r&JN;e.data[n+(i>>XN)]|=1<<i}(n,e,t)}function tR(n,e,t){if(t&gn.Optional||void 0!==n)return n;Rw()}function nR(n,e,t,r){if(t&gn.Optional&&void 0===r&&(r=null),!(t&(gn.Self|gn.Host))){const i=n[eu],o=Zo(void 0);try{return i?i.get(e,r,t&gn.Optional):qM(e,r,t&gn.Optional)}finally{Zo(o)}}return tR(r,0,t)}function rR(n,e,t,r=gn.Default,i){if(null!==n){if(2048&e[Xt]&&!(r&gn.Self)){const s=function BW(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Xt]&&!(512&s[Xt]);){const a=iR(o,s,t,r|gn.Self,ol);if(a!==ol)return a;let l=o.parent;if(!l){const c=s[lN];if(c){const u=c.get(t,ol,r);if(u!==ol)return u}l=aR(s),s=s[Xh]}o=l}return i}(n,e,t,r,ol);if(s!==ol)return s}const o=iR(n,e,t,r,ol);if(o!==ol)return o}return nR(e,t,r,i)}function iR(n,e,t,r,i){const o=function FW(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Og)?n[Og]:void 0;return"number"==typeof e?e>=0?e&JN:UW:e}(t);if("function"==typeof o){if(!$N(e,n,r))return r&gn.Host?tR(i,0,r):nR(e,t,r,i);try{let s;if(s=o(r),null!=s||r&gn.Optional)return s;Rw()}finally{WN()}}else if("number"==typeof o){let s=null,a=eR(n,e),l=lf,c=r&gn.Host?e[ti][uo]:null;for((-1===a||r&gn.SkipSelf)&&(l=-1===a?L1(n,e):e[a+8],l!==lf&&sR(r,!1)?(s=e[it],a=Wg(l),e=Kg(l,e)):a=-1);-1!==a;){const u=e[it];if(oR(o,a,u.data)){const d=LW(a,e,t,s,r,c);if(d!==ol)return d}l=e[a+8],l!==lf&&sR(r,e[it].data[a+8]===c)&&oR(o,a,e)?(s=u,a=Wg(l),e=Kg(l,e)):a=-1}}return i}function LW(n,e,t,r,i,o){const s=e[it],a=s.data[n+8],u=F1(a,s,t,null==r?Ed(a)&&dI:r!=s&&0!=(3&a.type),i&gn.Host&&o===a);return null!==u?Td(e,s,u,a):ol}function F1(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,u=o>>20,m=i?a+u:n.directiveEnd;for(let p=r?a:a+u;p<m;p++){const b=s[p];if(p<l&&t===b||p>=l&&b.type===t)return p}if(i){const p=s[l];if(p&&Sa(p)&&p.type===t)return l}return null}function Td(n,e,t,r){let i=n[t];const o=e.data;if(function xW(n){return n instanceof Hg}(i)){const s=i;s.resolving&&function iH(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ze(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Un(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Qt(n)}(o[t]));const a=k1(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Zo(s.injectImpl):null;$N(n,r,gn.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function SW(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=TN(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==c&&Zo(c),k1(a),s.resolving=!1,WN()}}return i}function oR(n,e,t){return!!(t[e+(n>>XN)]&1<<n)}function sR(n,e){return!(n&gn.Self||n&gn.Host&&e)}class Oo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return rR(this._tNode,this._lView,e,w1(r),t)}}function UW(){return new Oo(Ki(),Fe())}function Qi(n){return Hl(()=>{const e=n.prototype.constructor,t=e[Wl]||pI(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Wl]||pI(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function pI(n){return Mw(n)?()=>{const e=pI($t(n));return e&&e()}:Cd(n)}function aR(n){const e=n[it],t=e.type;return 2===t?e.declTNode:1===t?n[uo]:null}const uf="__parameters__";function hf(n,e,t){return Hl(()=>{const r=function gI(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(uf)?l[uf]:Object.defineProperty(l,uf,{value:[]})[uf];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function pf(n,e){n.forEach(t=>Array.isArray(t)?pf(t,e):e(t))}function cR(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function U1(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Ss(n,e,t){let r=gf(n,e);return r>=0?n[1|r]=t:(r=~r,function WW(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function mI(n,e){const t=gf(n,e);if(t>=0)return n[1|t]}function gf(n,e){return function uR(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const Xs=kg(hf("Optional"),8),j1=kg(hf("SkipSelf"),4);function H1(n){return 128==(128&n.flags)}var ou=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ou||{});const wI=new Map;let _K=0;const EI="__ngContext__";function ho(n,e){Xo(e)?(n[EI]=e[Bg],function yK(n){wI.set(n[Bg],n)}(e)):n[EI]=e}let CI;function AI(n,e){return CI(n,e)}function em(n){const e=n[Tr];return No(e)?e[Tr]:e}function PR(n){return NR(n[Vg])}function MR(n){return NR(n[Ta])}function NR(n){for(;null!==n&&!No(n);)n=n[Ta];return n}function vf(n,e,t,r,i){if(null!=r){let o,s=!1;No(r)?o=r:Xo(r)&&(s=!0,r=r[qr]);const a=hr(r);0===n&&null!==t?null==i?LR(e,t,a):Sd(e,t,a,i||null,!0):1===n&&null!==t?Sd(e,t,a,i||null,!0):2===n?function X1(n,e,t){const r=Z1(n,e);r&&function VK(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function jK(n,e,t,r,i){const o=t[nl];o!==hr(t)&&vf(e,n,r,o,i);for(let a=Hi;a<t.length;a++){const l=t[a];nm(l[it],l,n,e,r,o)}}(e,n,o,t,i)}}function Q1(n,e,t){return n.createElement(e,t)}function kR(n,e){const t=n[tf],r=t.indexOf(e);RN(e),t.splice(r,1)}function Y1(n,e){if(n.length<=Hi)return;const t=Hi+e,r=n[t];if(r){const i=r[Ug];null!==i&&i!==n&&kR(i,r),e>0&&(n[t-1][Ta]=r[Ta]);const o=U1(n,Hi+e);!function PK(n,e){nm(n,e,e[Yt],2,null,null),e[qr]=null,e[uo]=null}(r[it],r);const s=o[tl];null!==s&&s.detachView(o[it]),r[Tr]=null,r[Ta]=null,r[Xt]&=-129}return r}function SI(n,e){if(!(256&e[Xt])){const t=e[Yt];e[jg]&&vN(e[jg]),e[zg]&&vN(e[zg]),t.destroyNode&&nm(n,e,t,3,null,null),function RK(n){let e=n[Vg];if(!e)return DI(n[it],n);for(;e;){let t=null;if(Xo(e))t=e[Vg];else{const r=e[Hi];r&&(t=r)}if(!t){for(;e&&!e[Ta]&&e!==n;)Xo(e)&&DI(e[it],e),e=e[Tr];null===e&&(e=n),Xo(e)&&DI(e[it],e),t=e&&e[Ta]}e=t}}(e)}}function DI(n,e){if(!(256&e[Xt])){e[Xt]&=-129,e[Xt]|=256,function FK(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Hg)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];rl(4,a,l);try{l.call(a)}finally{rl(5,a,l)}}else{rl(4,i,o);try{o.call(i)}finally{rl(5,i,o)}}}}}(n,e),function LK(n,e){const t=n.cleanup,r=e[Zh];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(e[Zh]=null);const i=e[tu];if(null!==i){e[tu]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(n,e),1===e[it].type&&e[Yt].destroy();const t=e[Ug];if(null!==t&&No(e[Tr])){t!==e[Tr]&&kR(t,e);const r=e[tl];null!==r&&r.detachView(n)}!function bK(n){wI.delete(n[Bg])}(e)}}function xI(n,e,t){return function OR(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[qr];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===Ca.None||o===Ca.Emulated)return null}return es(r,t)}}(n,e.parent,t)}function Sd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function LR(n,e,t){n.appendChild(e,t)}function FR(n,e,t,r,i){null!==r?Sd(n,e,t,r,i):LR(n,e,t)}function Z1(n,e){return n.parentNode(e)}let PI,kI,t0,BR=function UR(n,e,t){return 40&n.type?es(n,t):null};function J1(n,e,t,r){const i=xI(n,r,e),o=e[Yt],a=function VR(n,e,t){return BR(n,e,t)}(r.parent||e[uo],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)FR(o,i,t[l],a,!1);else FR(o,i,t,a,!1);void 0!==PI&&PI(o,r,e,t,i)}function tm(n,e){if(null!==e){const t=e.type;if(3&t)return es(e,n);if(4&t)return MI(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return tm(n,r);{const i=n[e.index];return No(i)?MI(-1,i):hr(i)}}if(32&t)return AI(e,n)()||hr(n[e.index]);{const r=zR(n,e);return null!==r?Array.isArray(r)?r[0]:tm(em(n[ti]),r):tm(n,e.next)}}return null}function zR(n,e){return null!==e?n[ti][uo].projection[e.projection]:null}function MI(n,e){const t=Hi+n+1;if(t<e.length){const r=e[t],i=r[it].firstChild;if(null!==i)return tm(r,i)}return e[nl]}function NI(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],l=t.type;if(s&&0===e&&(a&&ho(hr(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)NI(n,e,t.child,r,i,o,!1),vf(e,n,i,a,o);else if(32&l){const c=AI(t,r);let u;for(;u=c();)vf(e,n,i,u,o);vf(e,n,i,a,o)}else 16&l?qR(n,e,r,t,i,o):vf(e,n,i,a,o);t=s?t.projectionNext:t.next}}function nm(n,e,t,r,i,o){NI(t,r,n.firstChild,e,i,o,!1)}function qR(n,e,t,r,i,o){const s=t[ti],l=s[uo].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)vf(e,n,i,l[c],o);else{let c=l;const u=s[Tr];H1(r)&&(c.flags|=128),NI(n,e,c,u,i,o,!0)}}function GR(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function HR(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&qw(n,e,r),null!==i&&GR(n,e,i),null!==o&&function $K(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function QR(n){return function OI(){if(void 0===t0&&(t0=null,dr.trustedTypes))try{t0=dr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return t0}()?.createScriptURL(n)||n}class YR{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${BM})`}}function su(n){return n instanceof YR?n.changingThisBreaksApplicationSecurity:n}function rm(n,e){const t=function XK(n){return n instanceof YR&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${BM})`)}return t===e}const rQ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var wf=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(wf||{});function rk(n){const e=om();return e?e.sanitize(wf.URL,n)||"":rm(n,"URL")?su(n):function LI(n){return(n=String(n)).match(rQ)?n:"unsafe:"+n}(Qt(n))}function ik(n){const e=om();if(e)return QR(e.sanitize(wf.RESOURCE_URL,n)||"");if(rm(n,"ResourceURL"))return QR(su(n));throw new ze(904,!1)}function om(){const n=Fe();return n&&n[Jh].sanitizer}const sm=new at("ENVIRONMENT_INITIALIZER"),sk=new at("INJECTOR",-1),ak=new at("INJECTOR_DEF_TYPES");class BI{get(e,t=Rg){if(t===Rg){const r=new Error(`NullInjectorError: No provider for ${Ei(e)}!`);throw r.name="NullInjectorError",r}return t}}function mQ(...n){return{\u0275providers:lk(0,n),\u0275fromNgModule:!0}}function lk(n,...e){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return pf(e,s=>{const a=s;r0(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&ck(i,o),t}function ck(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];zI(i,o=>{e(o,r)})}}function r0(n,e,t,r){if(!(n=$t(n)))return!1;let i=null,o=v1(n);const s=!o&&An(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const l=n.ngModule;if(o=v1(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)r0(c,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{pf(o.imports,u=>{r0(u,e,t,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&ck(c,e)}if(!a){const c=Cd(i)||(()=>new i);e({provide:i,useFactory:c,deps:Rn},i),e({provide:ak,useValue:i,multi:!0},i),e({provide:sm,useValue:()=>ft(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const c=n;zI(l,u=>{e(u,c)})}}}return i!==n&&void 0!==n.providers}function zI(n,e){for(let t of n)Nw(t)&&(t=t.\u0275providers),Array.isArray(t)?zI(t,e):e(t)}const _Q=qn({provide:String,useValue:qn});function $I(n){return null!==n&&"object"==typeof n&&_Q in n}function Dd(n){return"function"==typeof n}const qI=new at("Set Injector scope."),o0={},yQ={};let GI;function s0(){return void 0===GI&&(GI=new BI),GI}class ea{}class If extends ea{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,WI(e,s=>this.processProvider(s)),this.records.set(sk,Ef(void 0,this)),i.has("environment")&&this.records.set(ea,Ef(void 0,this));const o=this.records.get(qI);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ak.multi,Rn,gn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Xc(this),r=Zo(void 0);try{return e()}finally{Xc(t),Zo(r)}}get(e,t=Rg,r=gn.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(QM))return e[QM](this);r=w1(r);const o=Xc(this),s=Zo(void 0);try{if(!(r&gn.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function CQ(n){return"function"==typeof n||"object"==typeof n&&n instanceof at}(e)&&_1(e);l=c&&this.injectableDefInScope(c)?Ef(HI(e),o0):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&gn.Self?s0():this.parent).get(e,t=r&gn.Optional&&t===Rg?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[b1]=a[b1]||[]).unshift(Ei(e)),o)throw a;return function yH(n,e,t,r){const i=n[b1];throw e[HM]&&i.unshift(e[HM]),n.message=function bH(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Ei(e);if(Array.isArray(e))i=e.map(Ei).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ei(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(pH,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[b1]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Zo(s),Xc(o)}}resolveInjectorInitializers(){const e=Xc(this),t=Zo(void 0);try{const i=this.get(sm.multi,Rn,gn.Self);for(const o of i)o()}finally{Xc(e),Zo(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Ei(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ze(205,!1)}processProvider(e){let t=Dd(e=$t(e))?e:$t(e&&e.provide);const r=function wQ(n){return $I(n)?Ef(void 0,n.useValue):Ef(hk(n),o0)}(e);if(Dd(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Ef(void 0,o0,!0),i.factory=()=>jw(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===o0&&(t.value=yQ,t.value=t.factory()),"object"==typeof t.value&&t.value&&function EQ(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=$t(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function HI(n){const e=_1(n),t=null!==e?e.factory:Cd(n);if(null!==t)return t;if(n instanceof at)throw new ze(204,!1);if(n instanceof Function)return function bQ(n){const e=n.length;if(e>0)throw function Zg(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new ze(204,!1);const t=function uH(n){return n&&(n[y1]||n[zM])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new ze(204,!1)}function hk(n,e,t){let r;if(Dd(n)){const i=$t(n);return Cd(i)||HI(i)}if($I(n))r=()=>$t(n.useValue);else if(function dk(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...jw(n.deps||[]));else if(function uk(n){return!(!n||!n.useExisting)}(n))r=()=>ft($t(n.useExisting));else{const i=$t(n&&(n.useClass||n.provide));if(!function IQ(n){return!!n.deps}(n))return Cd(i)||HI(i);r=()=>new i(...jw(n.deps))}return r}function Ef(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function WI(n,e){for(const t of n)Array.isArray(t)?WI(t,e):t&&Nw(t)?WI(t.\u0275providers,e):e(t)}const a0=new at("AppId",{providedIn:"root",factory:()=>AQ}),AQ="ng",fk=new at("Platform Initializer"),Jl=new at("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),pk=new at("CSP nonce",{providedIn:"root",factory:()=>function bf(){if(void 0!==kI)return kI;if(typeof document<"u")return document;throw new ze(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let gk=(n,e,t)=>null;function tE(n,e,t=!1){return gk(n,e,t)}class OQ{}class vk{}class FQ{resolveComponentFactory(e){throw function LQ(n){const e=Error(`No component factory found for ${Ei(n)}.`);return e.ngComponent=n,e}(e)}}let f0=(()=>{class n{static{this.NULL=new FQ}}return n})();function VQ(){return Tf(Ki(),Fe())}function Tf(n,e){return new Ds(es(n,e))}let Ds=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=VQ}}return n})();function UQ(n){return n instanceof Ds?n.nativeElement:n}class bk{}let Xl=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function BQ(){const n=Fe(),t=Ts(Ki().index,n);return(Xo(t)?t:n)[Yt]}()}}return n})(),jQ=(()=>{class n{static{this.\u0275prov=gt({token:n,providedIn:"root",factory:()=>null})}}return n})();class Sf{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const wk=new Sf("16.2.12"),iE={};function Ak(n,e=null,t=null,r){const i=Tk(n,e,t,r);return i.resolveInjectorInitializers(),i}function Tk(n,e=null,t=null,r,i=new Set){const o=[t||Rn,mQ(n)];return r=r||("object"==typeof n?void 0:Ei(n)),new If(o,e||s0(),r||null,i)}let fo=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Rg}static{this.NULL=new BI}static create(t,r){if(Array.isArray(t))return Ak({name:""},r,t,"");{const i=t.name??"";return Ak({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=gt({token:n,providedIn:"any",factory:()=>ft(sk)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function sE(n){return n.ngOriginalError}class ec{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&sE(e);for(;t&&sE(t);)t=sE(t);return t||null}}function aE(n){return e=>{setTimeout(n,void 0,e)}}const Sr=class QQ extends Qo{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=aE(o),i&&(i=aE(i)),s&&(s=aE(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ri&&e.add(a),a}};function Dk(...n){}class Bn{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Sr(!1),this.onMicrotaskEmpty=new Sr(!1),this.onStable=new Sr(!1),this.onError=new Sr(!1),typeof Zone>"u")throw new ze(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function YQ(){const n="function"==typeof dr.requestAnimationFrame;let e=dr[n?"requestAnimationFrame":"setTimeout"],t=dr[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function XQ(n){const e=()=>{!function JQ(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(dr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,cE(n),n.isCheckStableRunning=!0,lE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),cE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(function tY(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,o,s,a);try{return xk(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),Pk(n)}},onInvoke:(t,r,i,o,s,a,l)=>{try{return xk(n),t.invoke(i,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),Pk(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,cE(n),lE(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bn.isInAngularZone())throw new ze(909,!1)}static assertNotInAngularZone(){if(Bn.isInAngularZone())throw new ze(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,ZQ,Dk,Dk);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const ZQ={};function lE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function cE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function xk(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Pk(n){n._nesting--,lE(n)}class eY{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Sr,this.onMicrotaskEmpty=new Sr,this.onStable=new Sr,this.onError=new Sr}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const Mk=new at("",{providedIn:"root",factory:Nk});function Nk(){const n=lt(Bn);let e=!0;return Dw(new ir(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new ir(i=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{Bn.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Bn.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(UM()))}function tc(n){return n instanceof Function?n():n}let uE=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=gt({token:n,providedIn:"root",factory:()=>new n})}}return n})();function cm(n){for(;n;){n[Xt]|=64;const e=em(n);if(Ww(n)&&!e)return n;n=e}return null}const Fk=new at("",{providedIn:"root",factory:()=>!1});let m0=null;function jk(n,e){return n[e]??qk()}function zk(n,e){const t=qk();t.producerNode?.length&&(n[e]=m0,t.lView=n,m0=$k())}const dY={...hN,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{cm(n.lView)},lView:null};function $k(){return Object.create(dY)}function qk(){return m0??=$k(),m0}const Zt={};function W(n){Gk(Tn(),Fe(),ko()+n,!1)}function Gk(n,e,t,r){if(!r)if(3==(3&e[Xt])){const o=n.preOrderCheckHooks;null!==o&&N1(e,o,t)}else{const o=n.preOrderHooks;null!==o&&R1(e,o,0,t)}Ad(t)}function ke(n,e=gn.Default){const t=Fe();return null===t?ft(n,e):rR(Ki(),t,$t(n),e)}function _0(n,e,t,r,i,o,s,a,l,c,u){const d=e.blueprint.slice();return d[qr]=i,d[Xt]=140|r,(null!==c||n&&2048&n[Xt])&&(d[Xt]|=2048),NN(d),d[Tr]=d[Xh]=n,d[ei]=t,d[Jh]=s||n&&n[Jh],d[Yt]=a||n&&n[Yt],d[eu]=l||n&&n[eu]||null,d[uo]=o,d[Bg]=function vK(){return _K++}(),d[Kl]=u,d[lN]=c,d[ti]=2==e.type?n[ti]:d,d}function Pf(n,e,t,r,i){let o=n.data[e];if(null===o)o=function dE(n,e,t,r,i){const o=VN(),s=tI(),l=n.data[e]=function yY(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function sf(){return null!==Ut.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(n,e,t,r,i),function _W(){return Ut.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Gg(){const n=Ut.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return il(o,!0),o}function um(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Wk(n,e,t,r,i){const o=jk(e,jg),s=ko(),a=2&r;try{Ad(-1),a&&e.length>mn&&Gk(n,e,mn,!1),rl(a?2:0,i);const c=a?o:null,u=Qw(c);try{null!==c&&(c.dirty=!1),t(r,i)}finally{Yw(c,u)}}finally{a&&null===e[jg]&&zk(e,jg),Ad(s),rl(a?3:1,i)}}function hE(n,e,t){if(Hw(e)){const r=Zs(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Zs(r)}}}function fE(n,e,t){FN()&&(function TY(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;Ed(t)&&function RY(n,e,t){const r=es(e,n),i=Kk(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=v0(n,_0(n,i,null,s,r,e,null,n[Jh].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||O1(t,e),ho(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const l=n.data[a],c=Td(e,n,a,t);ho(c,e),null!==s&&kY(0,a-i,c,l,0,s),Sa(l)&&(Ts(t.index,e)[ei]=Td(e,n,a,t))}}(n,e,t,es(t,e)),64==(64&t.flags)&&Xk(n,e,t))}function pE(n,e,t=es){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function Kk(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=gE(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function gE(n,e,t,r,i,o,s,a,l,c,u){const d=mn+r,m=d+i,p=function fY(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Zt);return t}(d,m),b="function"==typeof c?c():c;return p[it]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1,ssrId:u}}let Qk=n=>null;function Yk(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const o=n[i];null===r?Zk(t,e,i,o):r.hasOwnProperty(i)&&Zk(t,e,r[i],o)}return t}function Zk(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function mE(n,e,t,r){if(FN()){const i=null===r?null:{"":-1},o=function DY(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(nN(e,s.selectors,!1))if(r||(r=[]),Sa(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),_E(n,e,a.length)}else r.unshift(s),_E(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&Jk(n,e,t,s,i,a),i&&function xY(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new ze(-301,!1);r.push(e[i],o)}}}(t,r,i)}t.mergedAttrs=Lg(t.mergedAttrs,t.attrs)}function Jk(n,e,t,r,i,o){for(let c=0;c<r.length;c++)fI(O1(t,e),n,r[c].type);!function MY(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=um(n,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];t.mergedAttrs=Lg(t.mergedAttrs,u.hostAttrs),NY(n,t,e,l,u),PY(l,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function bY(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const d=o[u],m=t?t.get(d):null,b=m?m.outputs:null;l=Yk(d.inputs,u,l,m?m.inputs:null),c=Yk(d.outputs,u,c,b);const w=null===l||null===s||tN(e)?null:OY(l,u,s);a.push(w)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,o)}function Xk(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function yW(){return Ut.lFrame.currentDirectiveIndex}();try{Ad(o);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];rI(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&SY(l,c)}}finally{Ad(-1),rI(s)}}function SY(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function _E(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function PY(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Sa(e)&&(t[""]=n)}}function NY(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=Cd(i.type)),s=new Hg(o,Sa(i),ke);n.blueprint[r]=s,t[r]=s,function CY(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function AY(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,um(n,t,i.hostVars,Zt),i)}function sl(n,e,t,r,i,o){const s=es(n,e);!function vE(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?Qt(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[Yt],s,o,n.value,t,r,i)}function kY(n,e,t,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)eO(r,t,s[a++],s[a++],s[a++])}function eO(n,e,t,r,i){const o=Zs(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{Zs(o)}}function OY(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function tO(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function nO(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=n.data[o];oI(t[r]),s.contentQueries(2,e[o],o)}}}function v0(n,e){return n[Vg]?n[aN][Ta]=e:n[Vg]=e,n[aN]=e,e}function yE(n,e,t){oI(0);const r=Zs(null);try{e(n,t)}finally{Zs(r)}}function rO(n){return n[Zh]||(n[Zh]=[])}function iO(n){return n.cleanup||(n.cleanup=[])}function sO(n,e){const t=n[eu],r=t?t.get(ec,null):null;r&&r.handleError(e)}function bE(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];eO(n.data[s],e[s],r,a,i)}}function nc(n,e,t){const r=x1(e,n);!function RR(n,e,t){n.setValue(e,t)}(n[Yt],r,t)}function LY(n,e){const t=Ts(e,n),r=t[it];!function FY(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[qr];null!==i&&null===t[Kl]&&(t[Kl]=tE(i,t[eu])),wE(r,t,t[ei])}function wE(n,e,t){sI(e);try{const r=n.viewQuery;null!==r&&yE(1,r,t);const i=n.template;null!==i&&Wk(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&nO(n,e),n.staticViewQueries&&yE(2,n.viewQuery,t);const o=n.components;null!==o&&function VY(n,e){for(let t=0;t<e.length;t++)LY(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Xt]&=-5,aI()}}let aO=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function QH(n,e,t){const r=Object.create(YH);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>mN(r),run:()=>{if(r.dirty=!1,r.hasRun&&!_N(r))return;r.hasRun=!0;const s=Qw(r);try{r.cleanupFn(),r.cleanupFn=AN,r.fn(i)}finally{Yw(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(t,c=>{this.all.has(c)&&this.queue.set(c,o)},i);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=gt({token:n,providedIn:"root",factory:()=>new n})}}return n})();function y0(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Pw(i,a):2==o&&(r=Pw(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function dm(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];null!==o&&r.push(hr(o)),No(o)&&lO(o,r);const s=t.type;if(8&s)dm(n,e,t.child,r);else if(32&s){const a=AI(t,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=zR(e,t);if(Array.isArray(a))r.push(...a);else{const l=em(e[ti]);dm(l[it],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function lO(n,e){for(let t=Hi;t<n.length;t++){const r=n[t],i=r[it].firstChild;null!==i&&dm(r[it],r,i,e)}n[nl]!==n[qr]&&e.push(n[nl])}function b0(n,e,t,r=!0){const i=e[Jh],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{cO(n,e,n.template,t)}catch(l){throw r&&sO(e,l),l}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function cO(n,e,t,r){const i=e[Xt];if(256!=(256&i)){e[Jh].effectManager?.flush(),sI(e);try{NN(e),function BN(n){return Ut.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Wk(n,e,t,2,r);const s=3==(3&i);if(s){const c=n.preOrderCheckHooks;null!==c&&N1(e,c,null)}else{const c=n.preOrderHooks;null!==c&&R1(e,c,0,null),lI(e,0)}if(function jY(n){for(let e=PR(n);null!==e;e=MR(e)){if(!e[cN])continue;const t=e[tf];for(let r=0;r<t.length;r++){sW(t[r])}}}(e),uO(e,2),null!==n.contentQueries&&nO(n,e),s){const c=n.contentCheckHooks;null!==c&&N1(e,c)}else{const c=n.contentHooks;null!==c&&R1(e,c,1),lI(e,1)}!function hY(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=jk(e,zg);try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)Ad(~o);else{const s=o,a=t[++i],l=t[++i];vW(a,s),r.dirty=!1;const c=Qw(r);try{l(2,e[s])}finally{Yw(r,c)}}}}finally{null===e[zg]&&zk(e,zg),Ad(-1)}}(n,e);const a=n.components;null!==a&&hO(e,a,0);const l=n.viewQuery;if(null!==l&&yE(2,l,r),s){const c=n.viewCheckHooks;null!==c&&N1(e,c)}else{const c=n.viewHooks;null!==c&&R1(e,c,2),lI(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Xt]&=-73,RN(e)}finally{aI()}}}function uO(n,e){for(let t=PR(n);null!==t;t=MR(t))for(let r=Hi;r<t.length;r++)dO(t[r],e)}function zY(n,e,t){dO(Ts(e,n),t)}function dO(n,e){if(!function iW(n){return 128==(128&n[Xt])}(n))return;const t=n[it],r=n[Xt];if(80&r&&0===e||1024&r||2===e)cO(t,n,t.template,n[ei]);else if(n[Fg]>0){uO(n,1);const i=t.components;null!==i&&hO(n,i,1)}}function hO(n,e,t){for(let r=0;r<e.length;r++)zY(n,e[r],t)}class hm{get rootNodes(){const e=this._lView,t=e[it];return dm(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ei]}set context(e){this._lView[ei]=e}get destroyed(){return 256==(256&this._lView[Xt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Tr];if(No(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Y1(e,r),U1(t,r))}this._attachedToViewContainer=!1}SI(this._lView[it],this._lView)}onDestroy(e){!function ON(n,e){if(256==(256&n[Xt]))throw new ze(911,!1);null===n[tu]&&(n[tu]=[]),n[tu].push(e)}(this._lView,e)}markForCheck(){cm(this._cdRefInjectingView||this._lView)}detach(){this._lView[Xt]&=-129}reattach(){this._lView[Xt]|=128}detectChanges(){b0(this._lView[it],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function NK(n,e){nm(n,e,e[Yt],2,null,null)}(this._lView[it],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ze(902,!1);this._appRef=e}}class $Y extends hm{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;b0(e[it],e,e[ei],!1)}checkNoChanges(){}get context(){return null}}class fO extends f0{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=An(e);return new fm(t,this.ngModule)}}function pO(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class GY{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=w1(r);const i=this.injector.get(e,iE,r);return i!==iE||t===iE?i:this.parentInjector.get(e,t,r)}}class fm extends vk{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=pO(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return pO(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function PH(n){return n.map(xH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof ea?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new GY(e,o):e,a=s.get(bk,null);if(null===a)throw new ze(407,!1);const d={rendererFactory:a,sanitizer:s.get(jQ,null),effectManager:s.get(aO,null),afterRenderEventManager:s.get(uE,null)},m=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",b=r?function pY(n,e,t,r){const o=r.get(Fk,!1)||t===Ca.ShadowDom,s=n.selectRootElement(e,o);return function gY(n){Qk(n)}(s),s}(m,r,this.componentDef.encapsulation,s):Q1(m,p,function qY(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(p)),C=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let k=null;null!==b&&(k=tE(b,s,!0));const B=gE(0,null,null,1,0,null,null,null,null,null,null),F=_0(null,B,null,C,null,null,d,m,s,null,k);let X,se;sI(F);try{const z=this.componentDef;let x,S=null;z.findHostDirectiveDefs?(x=[],S=new Map,z.findHostDirectiveDefs(z,x,S),x.push(z)):x=[z];const V=function WY(n,e){const t=n[it],r=mn;return n[r]=e,Pf(t,r,2,"#host",null)}(F,b),A=function KY(n,e,t,r,i,o,s){const a=i[it];!function QY(n,e,t,r){for(const i of n)e.mergedAttrs=Lg(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(y0(e,e.mergedAttrs,!0),null!==t&&HR(r,t,e))}(r,n,e,s);let l=null;null!==e&&(l=tE(e,i[eu]));const c=o.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=_0(i,Kk(t),null,u,i[n.index],n,o,c,null,null,l);return a.firstCreatePass&&_E(a,n,r.length-1),v0(i,d),i[n.index]=d}(V,b,z,x,F,d,m);se=MN(B,mn),b&&function ZY(n,e,t,r){if(r)qw(n,t,["ng-version",wk.full]);else{const{attrs:i,classes:o}=function MH(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!Aa(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&qw(n,t,i),o&&o.length>0&&GR(n,t,o.join(" "))}}(m,z,b,r),void 0!==t&&function JY(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(se,this.ngContentSelectors,t),X=function YY(n,e,t,r,i,o){const s=Ki(),a=i[it],l=es(s,i);Jk(a,i,s,t,null,r);for(let u=0;u<t.length;u++)ho(Td(i,a,s.directiveStart+u,s),i);Xk(a,i,s),l&&ho(l,i);const c=Td(i,a,s.directiveStart+s.componentOffset,s);if(n[ei]=i[ei]=c,null!==o)for(const u of o)u(c,e);return hE(a,s,n),c}(A,z,x,S,F,[XY]),wE(B,F,null)}finally{aI()}return new HY(this.componentType,X,Tf(se,F),F,se)}}class HY extends OQ{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new $Y(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;bE(o[it],o,i,e,t),this.previousInputValues.set(e,t),cm(Ts(this._tNode.index,o))}}get injector(){return new Oo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function XY(){const n=Ki();M1(Fe()[it],n)}function Gn(n){let e=function gO(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Sa(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ze(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=w0(n.inputs),s.inputTransforms=w0(n.inputTransforms),s.declaredInputs=w0(n.declaredInputs),s.outputs=w0(n.outputs);const a=i.hostBindings;a&&rZ(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&tZ(n,l),c&&nZ(n,c),g1(n.inputs,i.inputs),g1(n.declaredInputs,i.declaredInputs),g1(n.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),g1(s.inputTransforms,i.inputTransforms)),Sa(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Gn&&(t=!1)}}e=Object.getPrototypeOf(e)}!function eZ(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Lg(i.hostAttrs,t=Lg(t,i.hostAttrs))}}(r)}function w0(n){return n===el?{}:n===Rn?[]:n}function tZ(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function nZ(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function rZ(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function yO(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function I0(n){return!!IE(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function IE(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function al(n,e,t){return n[e]=t}function po(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function xd(n,e,t,r){const i=po(n,e,t);return po(n,e+1,r)||i}function Ai(n,e,t,r){const i=Fe();return po(i,af(),e)&&(Tn(),sl(Fr(),i,n,e,t,r)),Ai}function Rf(n,e,t,r,i,o){const a=xd(n,function Ql(){return Ut.lFrame.bindingIndex}(),t,i);return Yl(2),a?e+Qt(t)+r+Qt(i)+o:Zt}function Qe(n,e,t,r,i,o,s,a){const l=Fe(),c=Tn(),u=n+mn,d=c.firstCreatePass?function DZ(n,e,t,r,i,o,s,a,l){const c=e.consts,u=Pf(e,n,4,s||null,ru(c,a));mE(e,t,u,ru(c,l)),M1(e,u);const d=u.tView=gE(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,o,s):c.data[u];il(d,!1);const m=NO(c,l,d,n);P1()&&J1(c,l,m,d),ho(m,l),v0(l,l[u]=tO(m,l,m,d)),T1(d)&&fE(c,l,d),null!=s&&pE(l,d,a)}let NO=function RO(n,e,t,r){return iu(!0),e[Yt].createComment("")};function DE(n){return rf(function mW(){return Ut.lFrame.contextLView}(),mn+n)}function ye(n,e,t){const r=Fe();return po(r,af(),e)&&function xs(n,e,t,r,i,o,s,a){const l=es(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(bE(n,t,u,r,i),Ed(e)&&function IY(n,e){const t=Ts(e,n);16&t[Xt]||(t[Xt]|=64)}(t,e.index)):3&e.type&&(r=function wY(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(l,r,i))}(Tn(),Fr(),r,n,e,r[Yt],t,!1),ye}function xE(n,e,t,r,i){const s=i?"class":"style";bE(n,t,e.inputs[s],s,r)}function D(n,e,t,r){const i=Fe(),o=Tn(),s=mn+n,a=i[Yt],l=o.firstCreatePass?function NZ(n,e,t,r,i,o){const s=e.consts,l=Pf(e,n,2,r,ru(s,i));return mE(e,t,l,ru(s,o)),null!==l.attrs&&y0(l,l.attrs,!1),null!==l.mergedAttrs&&y0(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,e,t,r):o.data[s],c=kO(o,i,l,a,e,n);i[s]=c;const u=T1(l);return il(l,!0),HR(a,c,l),32!=(32&l.flags)&&P1()&&J1(o,i,c,l),0===function lW(){return Ut.lFrame.elementDepthCount}()&&ho(c,i),function cW(){Ut.lFrame.elementDepthCount++}(),u&&(fE(o,i,l),hE(o,l,i)),null!==r&&pE(i,l),D}function M(){let n=Ki();tI()?function nI(){Ut.lFrame.isParent=!1}():(n=n.parent,il(n,!1));const e=n;(function dW(n){return Ut.skipHydrationRootTNode===n})(e)&&function gW(){Ut.skipHydrationRootTNode=null}(),function uW(){Ut.lFrame.elementDepthCount--}();const t=Tn();return t.firstCreatePass&&(M1(t,n),Hw(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function PW(n){return 0!=(8&n.flags)}(e)&&xE(t,e,Fe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function MW(n){return 0!=(16&n.flags)}(e)&&xE(t,e,Fe(),e.stylesWithoutHost,!1),M}function fe(n,e,t,r){return D(n,e,t,r),M(),fe}let kO=(n,e,t,r,i,o)=>(iu(!0),Q1(r,i,function KN(){return Ut.lFrame.currentNamespace}()));function ni(){return Fe()}function vm(n){return!!n&&"function"==typeof n.then}function FO(n){return!!n&&"function"==typeof n.subscribe}function Le(n,e,t,r){const i=Fe(),o=Tn(),s=Ki();return function UO(n,e,t,r,i,o,s){const a=T1(r),c=n.firstCreatePass&&iO(n),u=e[ei],d=rO(e);let m=!0;if(3&r.type||s){const w=es(r,e),E=s?s(w):w,C=d.length,k=s?F=>s(hr(F[r.index])):r.index;let B=null;if(!s&&a&&(B=function VZ(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[Zh],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==B)(B.__ngLastListenerFn__||B).__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,m=!1;else{o=jO(r,e,u,o,!1);const F=t.listen(E,i,o);d.push(o,F),c&&c.push(i,k,C,C+1)}}else o=jO(r,e,u,o,!1);const p=r.outputs;let b;if(m&&null!==p&&(b=p[i])){const w=b.length;if(w)for(let E=0;E<w;E+=2){const X=e[b[E]][b[E+1]].subscribe(o),se=d.length;d.push(o,X),c&&c.push(i,r.index,se,-(se+1))}}}(o,i,i[Yt],s,n,e,r),Le}function BO(n,e,t,r){try{return rl(6,e,t),!1!==t(r)}catch(i){return sO(n,i),!1}finally{rl(7,e,t)}}function jO(n,e,t,r,i){return function o(s){if(s===Function)return r;cm(n.componentOffset>-1?Ts(n.index,e):e);let l=BO(e,t,r,s),c=o.__ngNextListenerFn__;for(;c;)l=BO(e,t,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function We(n=1){return function wW(n){return(Ut.lFrame.contextLView=function IW(n,e){for(;n>0;)e=e[Xh],n--;return e}(n,Ut.lFrame.contextLView))[ei]}(n)}function S0(n,e){return n<<17|e<<2}function au(n){return n>>17&32767}function RE(n){return 2|n}function Pd(n){return(131068&n)>>2}function kE(n,e){return-131069&n|e<<2}function OE(n){return 1|n}function ZO(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?au(o):Pd(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];WZ(n[a],e)&&(l=!0,n[a+1]=r?OE(u):RE(u)),a=r?au(u):Pd(u)}l&&(n[t+1]=r?RE(o):OE(o))}function WZ(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&gf(n,e)>=0}function nn(n,e){return function Da(n,e,t,r){const i=Fe(),o=Tn(),s=Yl(2);o.firstUpdatePass&&function s3(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[ko()],s=function o3(n,e){return e>=n.expandoStartIndex}(n,t);(function u3(n,e){return 0!=(n.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function nJ(n,e,t,r){const i=function iI(n){const e=Ut.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=ym(t=LE(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=LE(i,n,e,t,r),null===o){let l=function rJ(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Pd(r))return n[au(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=LE(null,n,e,l[1],r),l=ym(l,e.attrs,r),function iJ(n,e,t,r){n[au(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else o=function oJ(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=ym(r,n[o].hostAttrs,t);return ym(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function GZ(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=au(s),l=Pd(s);n[r]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||gf(t,u)>0)&&(c=!0)):u=t,i)if(0!==l){const m=au(n[a+1]);n[r+1]=S0(m,a),0!==m&&(n[m+1]=kE(n[m+1],r)),n[a+1]=function $Z(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=S0(a,0),0!==a&&(n[a+1]=kE(n[a+1],r)),a=r;else n[r+1]=S0(l,0),0===a?a=r:n[l+1]=kE(n[l+1],r),l=r;c&&(n[r+1]=RE(n[r+1])),ZO(n,u,r,!0),ZO(n,u,r,!1),function HZ(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&gf(o,e)>=0&&(t[r+1]=OE(t[r+1]))}(e,u,n,r,o),s=S0(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}(o,n,s,r),e!==Zt&&po(i,s,e)&&function l3(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function qZ(n){return 1==(1&n)}(c)?c3(l,e,t,i,Pd(c),s):void 0;D0(u)||(D0(o)||function zZ(n){return 2==(2&n)}(c)&&(o=c3(l,null,t,i,a,s)),function zK(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:ou.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ou.Important),n.setStyle(t,r,i,o))}}(r,s,x1(ko(),t),i,o))}(o,o.data[ko()],i,i[Yt],n,i[s+1]=function cJ(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ei(su(n)))),n}(e,t),r,s)}(n,e,null,!0),nn}function LE(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=ym(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function ym(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ss(n,s,!!t||e[++o]))}return void 0===n?null:n}function c3(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let m=t[i+1];m===Zt&&(m=d?Rn:void 0);let p=d?mI(m,r):u===r?m:void 0;if(c&&!D0(p)&&(p=mI(l,r)),D0(p)&&(a=p,s))return a;const b=n[i+1];i=s?au(b):Pd(b)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=mI(l,r))}return a}function D0(n){return void 0!==n}function G(n,e=""){const t=Fe(),r=Tn(),i=n+mn,o=r.firstCreatePass?Pf(r,i,1,e,null):r.data[i],s=d3(r,t,o,e,n);t[i]=s,P1()&&J1(r,t,s,o),il(o,!1)}let d3=(n,e,t,r,i)=>(iu(!0),function K1(n,e){return n.createText(e)}(e[Yt],r));function tt(n){return kn("",n,""),tt}function kn(n,e,t){const r=Fe(),i=function Nf(n,e,t,r){return po(n,af(),t)?e+Qt(t)+r:Zt}(r,n,e,t);return i!==Zt&&nc(r,ko(),i),kn}function Pa(n,e,t,r,i){const o=Fe(),s=Rf(o,n,e,t,r,i);return s!==Zt&&nc(o,ko(),s),Pa}const Md=void 0;var MJ=["en",[["a","p"],["AM","PM"],Md],[["AM","PM"],Md,Md],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Md,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Md,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Md,"{1} 'at' {0}",Md],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function PJ(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let jf={};function Lo(n){const e=function NJ(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=M3(e);if(t)return t;const r=e.split("-")[0];if(t=M3(r),t)return t;if("en"===r)return MJ;throw new ze(701,!1)}function M3(n){return n in jf||(jf[n]=dr.ng&&dr.ng.common&&dr.ng.common.locales&&dr.ng.common.locales[n]),jf[n]}var fr=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(fr||{});const zf="en-US";let N3=zf;function UE(n,e,t,r,i){if(n=$t(n),Array.isArray(n))for(let o=0;o<n.length;o++)UE(n[o],e,t,r,i);else{const o=Tn(),s=Fe(),a=Ki();let l=Dd(n)?n:$t(n.provide);const c=hk(n),u=1048575&a.providerIndexes,d=a.directiveStart,m=a.providerIndexes>>20;if(Dd(n)||!n.multi){const p=new Hg(c,i,ke),b=jE(l,e,i?u:u+m,d);-1===b?(fI(O1(a,s),o,l),BE(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(p),s.push(p)):(t[b]=p,s[b]=p)}else{const p=jE(l,e,u+m,d),b=jE(l,e,u,u+m),E=b>=0&&t[b];if(i&&!E||!i&&!(p>=0&&t[p])){fI(O1(a,s),o,l);const C=function PX(n,e,t,r,i){const o=new Hg(n,t,ke);return o.multi=[],o.index=e,o.componentProviders=0,r4(o,i,r&&!t),o}(i?xX:DX,t.length,i,r,c);!i&&E&&(t[b].providerFactory=C),BE(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(C),s.push(C)}else BE(o,n,p>-1?p:b,r4(t[i?b:p],c,!i&&r));!i&&r&&E&&t[b].componentProviders++}}}function BE(n,e,t,r){const i=Dd(e),o=function vQ(n){return!!n.useClass}(e);if(i||o){const l=(o?$t(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function r4(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function jE(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function DX(n,e,t,r){return zE(this.multi,[])}function xX(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Td(t,t[it],this.providerFactory.index,r);o=a.slice(0,s),zE(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],zE(i,o);return o}function zE(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Dr(n,e=[]){return t=>{t.providersResolver=(r,i)=>function SX(n,e,t){const r=Tn();if(r.firstCreatePass){const i=Sa(n);UE(t,r.data,r.blueprint,i,!0),UE(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Nd{}class i4{}class $E extends Nd{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fO(this);const i=Cs(e);this._bootstrapComponents=tc(i.bootstrap),this._r3Injector=Tk(e,t,[{provide:Nd,useValue:this},{provide:f0,useValue:this.componentFactoryResolver},...r],Ei(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class qE extends i4{constructor(e){super(),this.moduleType=e}create(e){return new $E(this.moduleType,e,[])}}class o4 extends Nd{constructor(e){super(),this.componentFactoryResolver=new fO(this),this.instance=null;const t=new If([...e.providers,{provide:Nd,useValue:this},{provide:f0,useValue:this.componentFactoryResolver}],e.parent||s0(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function GE(n,e,t=null){return new o4({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let RX=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=lk(0,t.type),i=r.length>0?GE([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=gt({token:n,providedIn:"environment",factory:()=>new n(ft(ea))})}}return n})();function s4(n){n.getStandaloneInjector=e=>e.get(RX).getOrCreateStandaloneInjector(n)}function gi(n,e,t,r,i,o){return function g4(n,e,t,r,i,o,s,a){const l=e+t;return function E0(n,e,t,r,i){const o=xd(n,e,t,r);return po(n,e+2,i)||o}(n,l,i,o,s)?al(n,l+3,a?r.call(a,i,o,s):r(i,o,s)):Am(n,l+3)}(Fe(),Ro(),n,e,t,r,i,o)}function Am(n,e){const t=n[e];return t===Zt?void 0:t}function xr(n,e){const t=Tn();let r;const i=n+mn;t.firstCreatePass?(r=function ZX(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=Cd(r.type)),a=Zo(ke);try{const l=k1(!1),c=o();return k1(l),function MZ(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,Fe(),i,c),c}finally{Zo(a)}}function na(n,e,t){const r=n+mn,i=Fe(),o=rf(i,r);return Tm(i,r)?function f4(n,e,t,r,i,o){const s=e+t;return po(n,s,i)?al(n,s+1,o?r.call(o,i):r(i)):Am(n,s+1)}(i,Ro(),e,o.transform,t,o):o.transform(t)}function Ps(n,e,t,r){const i=n+mn,o=Fe(),s=rf(o,i);return Tm(o,i)?function p4(n,e,t,r,i,o,s){const a=e+t;return xd(n,a,i,o)?al(n,a+2,s?r.call(s,i,o):r(i,o)):Am(n,a+2)}(o,Ro(),e,s.transform,t,r,s):s.transform(t,r)}function Tm(n,e){return n[it].data[e].pure}function tee(){return this._results[Symbol.iterator]()}class WE{get changes(){return this._changes||(this._changes=new Sr)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=WE.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=tee)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function Js(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function GW(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function ree(n,e,t,r=!0){const i=e[it];if(function kK(n,e,t,r){const i=Hi+r,o=t.length;r>0&&(t[i-1][Ta]=e),r<o-Hi?(e[Ta]=t[i],cR(t,Hi+r,e)):(t.push(e),e[Ta]=null),e[Tr]=t;const s=e[Ug];null!==s&&t!==s&&function OK(n,e){const t=n[tf];e[ti]!==e[Tr][Tr][ti]&&(n[cN]=!0),null===t?n[tf]=[e]:t.push(e)}(s,e);const a=e[tl];null!==a&&a.insertView(n),e[Xt]|=128}(i,e,n,t),r){const o=MI(t,n),s=e[Yt],a=Z1(s,n[nl]);null!==a&&function MK(n,e,t,r,i,o){r[qr]=i,r[uo]=e,nm(n,r,t,1,i,o)}(i,n[uo],s,e,a,o)}}let rc=(()=>{class n{static{this.__NG_ELEMENT_ID__=see}}return n})();const iee=rc,oee=class extends iee{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function nee(n,e,t,r){const i=e.tView,a=_0(n,i,t,4096&n[Xt]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Ug]=n[e.index];const c=n[tl];return null!==c&&(a[tl]=c.createEmbeddedView(i)),wE(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new hm(i)}};function see(){return R0(Ki(),Fe())}function R0(n,e){return 4&n.type?new oee(e,n,Tf(n,e)):null}let Ma=(()=>{class n{static{this.__NG_ELEMENT_ID__=hee}}return n})();function hee(){return C4(Ki(),Fe())}const fee=Ma,I4=class extends fee{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Tf(this._hostTNode,this._hostLView)}get injector(){return new Oo(this._hostTNode,this._hostLView)}get parentInjector(){const e=L1(this._hostTNode,this._hostLView);if(uI(e)){const t=Kg(e,this._hostLView),r=Wg(e);return new Oo(t[it].data[r+8],t)}return new Oo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=E4(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Hi}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,o){const s=e&&!function Yg(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const w=t||{};a=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}const l=s?e:new fm(An(e)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const E=(s?c:this.parentInjector).get(ea,null);E&&(o=E)}An(l.componentType??{});const p=l.create(c,i,null,o);return this.insertImpl(p.hostView,a,false),p}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function oW(n){return No(n[Tr])}(i)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=i[Tr],u=new I4(c,c[uo],c[Tr]);u.detach(u.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return ree(a,i,s,!r),e.attachToViewContainerRef(),cR(KE(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=E4(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Y1(this._lContainer,t);r&&(U1(KE(this._lContainer),t),SI(r[it],r))}detach(e){const t=this._adjustIndex(e,-1),r=Y1(this._lContainer,t);return r&&null!=U1(KE(this._lContainer),t)?new hm(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function E4(n){return n[8]}function KE(n){return n[8]||(n[8]=[])}function C4(n,e){let t;const r=e[n.index];return No(r)?t=r:(t=tO(r,e,null,n),e[n.index]=t,v0(e,t)),A4(t,e,n,r),new I4(t,n,e)}let A4=function T4(n,e,t,r){if(n[nl])return;let i;i=8&t.type?hr(r):function pee(n,e){const t=n[Yt],r=t.createComment(""),i=es(e,n);return Sd(t,Z1(t,i),r,function UK(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[nl]=i};class QE{constructor(e){this.queryList=e,this.matches=null}clone(){return new QE(this.queryList)}setDirty(){this.queryList.setDirty()}}class YE{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new YE(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==k4(e,t).matches&&this.queries[t].setDirty()}}class S4{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class ZE{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new ZE(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class JE{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new JE(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,_ee(t,o)),this.matchTNodeWithReadOption(e,t,F1(t,e,o,!1,!1))}else r===rc?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,F1(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ds||i===Ma||i===rc&&4&t.type)this.addMatch(t.index,-2);else{const o=F1(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function _ee(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function yee(n,e,t,r){return-1===t?function vee(n,e){return 11&n.type?Tf(n,e):4&n.type?R0(n,e):null}(e,n):-2===t?function bee(n,e,t){return t===Ds?Tf(e,n):t===rc?R0(e,n):t===Ma?C4(e,n):void 0}(n,e,r):Td(n,n[it],t,e)}function D4(n,e,t,r){const i=e[tl].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:yee(e,o[c],s[l+1],t.metadata.read))}i.matches=a}return i.matches}function XE(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=D4(n,e,i,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const c=o[a+1],u=e[-l];for(let d=Hi;d<u.length;d++){const m=u[d];m[Ug]===m[Tr]&&XE(m[it],m,c,r)}if(null!==u[tf]){const d=u[tf];for(let m=0;m<d.length;m++){const p=d[m];XE(p[it],p,c,r)}}}}}return r}function x4(n){const e=Fe(),t=Tn(),r=zN();oI(r+1);const i=k4(t,r);if(n.dirty&&function rW(n){return 4==(4&n[Xt])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?XE(t,e,r,[]):D4(t,e,i,r);n.reset(o,UQ),n.notifyOnChanges()}return!0}return!1}function P4(n,e,t,r){const i=Tn();if(i.firstCreatePass){const o=Ki();(function R4(n,e,t){null===n.queries&&(n.queries=new ZE),n.queries.track(new JE(e,t))})(i,new S4(e,t,r),o.index),function Eee(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}!function N4(n,e,t){const r=new WE(4==(4&t));(function vY(n,e,t,r){const i=rO(e);i.push(t),n.firstCreatePass&&iO(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[tl]&&(e[tl]=new YE),e[tl].queries.push(new QE(r))}(i,Fe(),t)}function k4(n,e){return n.queries.getByIndex(e)}const L0=new at("Application Initializer");let oC=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=lt(L0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(vm(o))t.push(o);else if(FO(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Z4=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const ic=new at("LocaleId",{providedIn:"root",factory:()=>lt(ic,gn.Optional|gn.SkipSelf)||function Gee(){return typeof $localize<"u"&&$localize.locale||zf}()});let J4=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ws(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Kee{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let X4=(()=>{class n{compileModuleSync(t){return new qE(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=tc(Cs(t).declarations).reduce((s,a)=>{const l=An(a);return l&&s.push(new fm(l)),s},[]);return new Kee(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const rL=new at(""),V0=new at("");let uC,lC=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,uC||(function mte(n){uC=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(ft(Bn),ft(cC),ft(V0))}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac})}}return n})(),cC=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return uC?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),lu=null;const iL=new at("AllowMultipleToken"),dC=new at("PlatformDestroyListeners"),hC=new at("appBootstrapListener");class sL{constructor(e,t){this.name=e,this.token=t}}function lL(n,e,t=[]){const r=`Platform: ${e}`,i=new at(r);return(o=[])=>{let s=fC();if(!s||s.injector.get(iL,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function yte(n){if(lu&&!lu.get(iL,!1))throw new ze(400,!1);(function oL(){!function qH(n){wN=n}(()=>{throw new ze(600,!1)})})(),lu=n;const e=n.get(uL);(function aL(n){n.get(fk,null)?.forEach(t=>t())})(n)}(function cL(n=[],e){return fo.create({name:e,providers:[{provide:qI,useValue:"platform"},{provide:dC,useValue:new Set([()=>lu=null])},...n]})}(a,r))}return function wte(n){const e=fC();if(!e)throw new ze(401,!1);return e}()}}function fC(){return lu?.get(uL)??null}let uL=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function Ite(n="zone.js",e){return"noop"===n?new eY:"zone.js"===n?new Bn(e):n}(r?.ngZone,function dL(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function NX(n,e,t){return new $E(n,e,t)}(t.moduleType,this.injector,function mL(n){return[{provide:Bn,useFactory:n},{provide:sm,multi:!0,useFactory:()=>{const e=lt(Cte,{optional:!0});return()=>e.initialize()}},{provide:gL,useFactory:Ete},{provide:Mk,useFactory:Nk}]}(()=>i)),s=o.injector.get(ec,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{U0(this._modules,o),a.unsubscribe()})}),function hL(n,e,t){try{const r=t();return vm(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(oC);return a.runInitializers(),a.donePromise.then(()=>(function R3(n){Ys(n,"Expected localeId to be defined"),"string"==typeof n&&(N3=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(ic,zf)||zf),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=fL({},r);return function _te(n,e,t){const r=new qE(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(Rd);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new ze(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ze(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(dC,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(ft(fo))}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function fL(n,e){return Array.isArray(e)?e.reduce(fL,n):{...n,...e}}let Rd=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=lt(gL),this.zoneIsStable=lt(Mk),this.componentTypes=[],this.components=[],this.isStable=lt(J4).hasPendingTasks.pipe(Yo(t=>t?kt(!1):this.zoneIsStable),function tH(n,e=Zc){return n=n??nH,Jr((t,r)=>{let i,o=!0;t.subscribe(Xr(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}(),UM()),this._injector=lt(ea)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof vk;if(!this._injector.get(oC).done)throw!i&&function Yh(n){const e=An(n)||Gi(n)||Mo(n);return null!==e&&e.standalone}(t),new ze(405,!1);let s;s=i?t:this._injector.get(f0).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function vte(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Nd),c=s.create(fo.NULL,[],r||s.selector,a),u=c.location.nativeElement,d=c.injector.get(rL,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),U0(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new ze(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;U0(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(hC,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>U0(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ze(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function U0(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const gL=new at("",{providedIn:"root",factory:()=>lt(ec).handleError.bind(void 0)});function Ete(){const n=lt(Bn),e=lt(ec);return t=>n.runOutsideAngular(()=>e.handleError(t))}let Cte=(()=>{class n{constructor(){this.zone=lt(Bn),this.applicationRef=lt(Rd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();let B0=(()=>{class n{static{this.__NG_ELEMENT_ID__=Ste}}return n})();function Ste(n){return function Dte(n,e,t){if(Ed(n)&&!t){const r=Ts(n.index,e);return new hm(r,r)}return 47&n.type?new hm(e[ti],e):null}(Ki(),Fe(),16==(16&n))}class wL{constructor(){}supports(e){return I0(e)}create(e){return new Rte(e)}}const Nte=(n,e)=>e;class Rte{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Nte}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<EL(r,i,o)?t:r,a=EL(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,u=l-i;if(c!=u){for(let m=0;m<c;m++){const p=m<o.length?o[m]:o[m]=0,b=p+m;u<=b&&b<c&&(o[m]=p+1)}o[s.previousIndex]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!I0(e))throw new ze(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function uZ(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new kte(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new IL),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new IL),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class kte{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ote{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class IL{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new Ote,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function EL(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class CL{constructor(){}supports(e){return e instanceof Map||IE(e)}create(){return new Lte}}class Lte{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||IE(e)))throw new ze(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new Fte(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class Fte{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function AL(){return new $0([new wL])}let $0=(()=>{class n{static{this.\u0275prov=gt({token:n,providedIn:"root",factory:AL})}constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||AL()),deps:[[n,new j1,new Xs]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new ze(901,!1)}}return n})();function TL(){return new xm([new CL])}let xm=(()=>{class n{static{this.\u0275prov=gt({token:n,providedIn:"root",factory:TL})}constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||TL()),deps:[[n,new j1,new Xs]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new ze(901,!1)}}return n})();const Bte=lL(null,"core",[]);let jte=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(ft(Rd))}}static{this.\u0275mod=Jo({type:n})}static{this.\u0275inj=xo({})}}return n})();function Gf(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let yC=null;function cu(){return yC}class tne{}const ra=new at("DocumentToken");let bC=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=gt({token:n,factory:function(){return lt(rne)},providedIn:"platform"})}}return n})();const nne=new at("Location Initialized");let rne=(()=>{class n extends bC{constructor(){super(),this._doc=lt(ra),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return cu().getBaseHref(this._doc)}onPopState(t){const r=cu().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=cu().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=gt({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function wC(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function OL(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function oc(n){return n&&"?"!==n[0]?"?"+n:n}let Od=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=gt({token:n,factory:function(){return lt(FL)},providedIn:"root"})}}return n})();const LL=new at("appBaseHref");let FL=(()=>{class n extends Od{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??lt(ra).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return wC(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+oc(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+oc(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+oc(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(ft(bC),ft(LL,8))}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ine=(()=>{class n extends Od{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=wC(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+oc(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+oc(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(ft(bC),ft(LL,8))}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac})}}return n})(),IC=(()=>{class n{constructor(t){this._subject=new Sr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function ane(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(OL(VL(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+oc(r))}normalize(t){return n.stripTrailingSlash(function sne(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,VL(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+oc(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+oc(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=oc}static{this.joinWithSlash=wC}static{this.stripTrailingSlash=OL}static{this.\u0275fac=function(r){return new(r||n)(ft(Od))}}static{this.\u0275prov=gt({token:n,factory:function(){return function one(){return new IC(ft(Od))}()},providedIn:"root"})}}return n})();function VL(n){return n.replace(/\/index.html$/,"")}var G0=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(G0||{}),Vo=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Vo||{}),or=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(or||{}),Ms=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Ms||{}),ri=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(ri||{});function H0(n,e){return oa(Lo(n)[fr.DateFormat],e)}function W0(n,e){return oa(Lo(n)[fr.TimeFormat],e)}function K0(n,e){return oa(Lo(n)[fr.DateTimeFormat],e)}function ia(n,e){const t=Lo(n),r=t[fr.NumberSymbols][e];if(typeof r>"u"){if(e===ri.CurrencyDecimal)return t[fr.NumberSymbols][ri.Decimal];if(e===ri.CurrencyGroup)return t[fr.NumberSymbols][ri.Group]}return r}function BL(n){if(!n[fr.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[fr.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function oa(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function CC(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const wne=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Pm={},Ine=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var sc=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(sc||{}),On=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(On||{}),Ln=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ln||{});function Ene(n,e,t,r){let i=function Nne(n){if($L(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,o=1,s=1]=n.split("-").map(a=>+a);return Q0(i,o-1,s)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(wne))return function Rne(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,s,a,l,c),e}(r)}const e=new Date(n);if(!$L(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=ac(t,e)||e;let a,s=[];for(;e;){if(a=Ine.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const u=s.pop();if(!u)break;e=u}}let l=i.getTimezoneOffset();r&&(l=zL(r,l),i=function Mne(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function Pne(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(zL(e,i)-i))}(i,r,!0));let c="";return s.forEach(u=>{const d=function xne(n){if(TC[n])return TC[n];let e;switch(n){case"G":case"GG":case"GGG":e=pr(Ln.Eras,or.Abbreviated);break;case"GGGG":e=pr(Ln.Eras,or.Wide);break;case"GGGGG":e=pr(Ln.Eras,or.Narrow);break;case"y":e=mi(On.FullYear,1,0,!1,!0);break;case"yy":e=mi(On.FullYear,2,0,!0,!0);break;case"yyy":e=mi(On.FullYear,3,0,!1,!0);break;case"yyyy":e=mi(On.FullYear,4,0,!1,!0);break;case"Y":e=X0(1);break;case"YY":e=X0(2,!0);break;case"YYY":e=X0(3);break;case"YYYY":e=X0(4);break;case"M":case"L":e=mi(On.Month,1,1);break;case"MM":case"LL":e=mi(On.Month,2,1);break;case"MMM":e=pr(Ln.Months,or.Abbreviated);break;case"MMMM":e=pr(Ln.Months,or.Wide);break;case"MMMMM":e=pr(Ln.Months,or.Narrow);break;case"LLL":e=pr(Ln.Months,or.Abbreviated,Vo.Standalone);break;case"LLLL":e=pr(Ln.Months,or.Wide,Vo.Standalone);break;case"LLLLL":e=pr(Ln.Months,or.Narrow,Vo.Standalone);break;case"w":e=AC(1);break;case"ww":e=AC(2);break;case"W":e=AC(1,!0);break;case"d":e=mi(On.Date,1);break;case"dd":e=mi(On.Date,2);break;case"c":case"cc":e=mi(On.Day,1);break;case"ccc":e=pr(Ln.Days,or.Abbreviated,Vo.Standalone);break;case"cccc":e=pr(Ln.Days,or.Wide,Vo.Standalone);break;case"ccccc":e=pr(Ln.Days,or.Narrow,Vo.Standalone);break;case"cccccc":e=pr(Ln.Days,or.Short,Vo.Standalone);break;case"E":case"EE":case"EEE":e=pr(Ln.Days,or.Abbreviated);break;case"EEEE":e=pr(Ln.Days,or.Wide);break;case"EEEEE":e=pr(Ln.Days,or.Narrow);break;case"EEEEEE":e=pr(Ln.Days,or.Short);break;case"a":case"aa":case"aaa":e=pr(Ln.DayPeriods,or.Abbreviated);break;case"aaaa":e=pr(Ln.DayPeriods,or.Wide);break;case"aaaaa":e=pr(Ln.DayPeriods,or.Narrow);break;case"b":case"bb":case"bbb":e=pr(Ln.DayPeriods,or.Abbreviated,Vo.Standalone,!0);break;case"bbbb":e=pr(Ln.DayPeriods,or.Wide,Vo.Standalone,!0);break;case"bbbbb":e=pr(Ln.DayPeriods,or.Narrow,Vo.Standalone,!0);break;case"B":case"BB":case"BBB":e=pr(Ln.DayPeriods,or.Abbreviated,Vo.Format,!0);break;case"BBBB":e=pr(Ln.DayPeriods,or.Wide,Vo.Format,!0);break;case"BBBBB":e=pr(Ln.DayPeriods,or.Narrow,Vo.Format,!0);break;case"h":e=mi(On.Hours,1,-12);break;case"hh":e=mi(On.Hours,2,-12);break;case"H":e=mi(On.Hours,1);break;case"HH":e=mi(On.Hours,2);break;case"m":e=mi(On.Minutes,1);break;case"mm":e=mi(On.Minutes,2);break;case"s":e=mi(On.Seconds,1);break;case"ss":e=mi(On.Seconds,2);break;case"S":e=mi(On.FractionalSeconds,1);break;case"SS":e=mi(On.FractionalSeconds,2);break;case"SSS":e=mi(On.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Z0(sc.Short);break;case"ZZZZZ":e=Z0(sc.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Z0(sc.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Z0(sc.Long);break;default:return null}return TC[n]=e,e}(u);c+=d?d(i,t,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Q0(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function ac(n,e){const t=function cne(n){return Lo(n)[fr.LocaleId]}(n);if(Pm[t]=Pm[t]||{},Pm[t][e])return Pm[t][e];let r="";switch(e){case"shortDate":r=H0(n,Ms.Short);break;case"mediumDate":r=H0(n,Ms.Medium);break;case"longDate":r=H0(n,Ms.Long);break;case"fullDate":r=H0(n,Ms.Full);break;case"shortTime":r=W0(n,Ms.Short);break;case"mediumTime":r=W0(n,Ms.Medium);break;case"longTime":r=W0(n,Ms.Long);break;case"fullTime":r=W0(n,Ms.Full);break;case"short":const i=ac(n,"shortTime"),o=ac(n,"shortDate");r=Y0(K0(n,Ms.Short),[i,o]);break;case"medium":const s=ac(n,"mediumTime"),a=ac(n,"mediumDate");r=Y0(K0(n,Ms.Medium),[s,a]);break;case"long":const l=ac(n,"longTime"),c=ac(n,"longDate");r=Y0(K0(n,Ms.Long),[l,c]);break;case"full":const u=ac(n,"fullTime"),d=ac(n,"fullDate");r=Y0(K0(n,Ms.Full),[u,d])}return r&&(Pm[t][e]=r),r}function Y0(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Na(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function mi(n,e,t=0,r=!1,i=!1){return function(o,s){let a=function Ane(n,e){switch(n){case On.FullYear:return e.getFullYear();case On.Month:return e.getMonth();case On.Date:return e.getDate();case On.Hours:return e.getHours();case On.Minutes:return e.getMinutes();case On.Seconds:return e.getSeconds();case On.FractionalSeconds:return e.getMilliseconds();case On.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||a>-t)&&(a+=t),n===On.Hours)0===a&&-12===t&&(a=12);else if(n===On.FractionalSeconds)return function Cne(n,e){return Na(n,3).substring(0,e)}(a,e);const l=ia(s,ri.MinusSign);return Na(a,e,l,r,i)}}function pr(n,e,t=Vo.Format,r=!1){return function(i,o){return function Tne(n,e,t,r,i,o){switch(t){case Ln.Months:return function hne(n,e,t){const r=Lo(n),o=oa([r[fr.MonthsFormat],r[fr.MonthsStandalone]],e);return oa(o,t)}(e,i,r)[n.getMonth()];case Ln.Days:return function dne(n,e,t){const r=Lo(n),o=oa([r[fr.DaysFormat],r[fr.DaysStandalone]],e);return oa(o,t)}(e,i,r)[n.getDay()];case Ln.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const c=function mne(n){const e=Lo(n);return BL(e),(e[fr.ExtraData][2]||[]).map(r=>"string"==typeof r?CC(r):[CC(r[0]),CC(r[1])])}(e),u=function _ne(n,e,t){const r=Lo(n);BL(r);const o=oa([r[fr.ExtraData][0],r[fr.ExtraData][1]],e)||[];return oa(o,t)||[]}(e,i,r),d=c.findIndex(m=>{if(Array.isArray(m)){const[p,b]=m,w=s>=p.hours&&a>=p.minutes,E=s<b.hours||s===b.hours&&a<b.minutes;if(p.hours<b.hours){if(w&&E)return!0}else if(w||E)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(-1!==d)return u[d]}return function une(n,e,t){const r=Lo(n),o=oa([r[fr.DayPeriodsFormat],r[fr.DayPeriodsStandalone]],e);return oa(o,t)}(e,i,r)[s<12?0:1];case Ln.Eras:return function fne(n,e){return oa(Lo(n)[fr.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,o,n,e,t,r)}}function Z0(n){return function(e,t,r){const i=-1*r,o=ia(t,ri.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case sc.Short:return(i>=0?"+":"")+Na(s,2,o)+Na(Math.abs(i%60),2,o);case sc.ShortGMT:return"GMT"+(i>=0?"+":"")+Na(s,1,o);case sc.Long:return"GMT"+(i>=0?"+":"")+Na(s,2,o)+":"+Na(Math.abs(i%60),2,o);case sc.Extended:return 0===r?"Z":(i>=0?"+":"")+Na(s,2,o)+":"+Na(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const Sne=0,J0=4;function jL(n){return Q0(n.getFullYear(),n.getMonth(),n.getDate()+(J0-n.getDay()))}function AC(n,e=!1){return function(t,r){let i;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{const o=jL(t),s=function Dne(n){const e=Q0(n,Sne,1).getDay();return Q0(n,0,1+(e<=J0?J0:J0+7)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Na(i,n,ia(r,ri.MinusSign))}}function X0(n,e=!1){return function(t,r){return Na(jL(t).getFullYear(),n,ia(r,ri.MinusSign),e)}}const TC={};function zL(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function $L(n){return n instanceof Date&&!isNaN(n.valueOf())}const kne=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function PC(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}const NC=/\s+/,WL=[];let ty=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=WL,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(NC):WL}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(NC):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(NC).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(ke($0),ke(xm),ke(Ds),ke(Xl))}}static{this.\u0275dir=qt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();class Wne{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ld=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Wne(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),QL(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{QL(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(ke(Ma),ke(rc),ke($0))}}static{this.\u0275dir=qt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function QL(n,e){n.context.$implicit=e.item}let Ra=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Kne,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){YL("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){YL("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(ke(Ma),ke(rc))}}static{this.\u0275dir=qt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class Kne{constructor(){this.$implicit=null,this.ngIf=null}}function YL(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ei(e)}'.`)}function ka(n,e){return new ze(2100,!1)}const are=new at("DATE_PIPE_DEFAULT_TIMEZONE"),lre=new at("DATE_PIPE_DEFAULT_OPTIONS");let ny=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(null==t||""===t||t!=t)return null;try{return Ene(t,r??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw ka()}}static{this.\u0275fac=function(r){return new(r||n)(ke(ic,16),ke(are,24),ke(lre,24))}}static{this.\u0275pipe=Po({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),XL=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function OC(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function Une(n,e,t){return function DC(n,e,t,r,i,o,s=!1){let a="",l=!1;if(isFinite(n)){let c=function zne(n){let r,i,o,s,a,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;"0"===e.charAt(o);o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);s&&(c=function jne(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(c));let u=e.minInt,d=e.minFrac,m=e.maxFrac;if(o){const k=o.match(kne);if(null===k)throw new Error(`${o} is not a valid digit info`);const B=k[1],F=k[3],X=k[5];null!=B&&(u=PC(B)),null!=F&&(d=PC(F)),null!=X?m=PC(X):null!=F&&d>m&&(m=d)}!function $ne(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const o=Math.min(Math.max(e,i),t);let s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=0!==o;const c=e+n.integerLen,u=r.reduceRight(function(d,m,p,b){return b[p]=(m+=d)<10?m:m-10,l&&(0===b[p]&&p>=c?b.pop():l=!1),m>=10?1:0},0);u&&(r.unshift(u),n.integerLen++)}(c,d,m);let p=c.digits,b=c.integerLen;const w=c.exponent;let E=[];for(l=p.every(k=>!k);b<u;b++)p.unshift(0);for(;b<0;b++)p.unshift(0);b>0?E=p.splice(b,p.length):(E=p,p=[0]);const C=[];for(p.length>=e.lgSize&&C.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)C.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&C.unshift(p.join("")),a=C.join(ia(t,r)),E.length&&(a+=ia(t,i)+E.join("")),w&&(a+=ia(t,ri.Exponential)+"+"+w)}else a=ia(t,ri.Infinity);return a=n<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(n,function xC(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";t.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const d=l.charAt(u);"0"===d?t.minFrac=t.maxFrac=u+1:"#"===d?t.maxFrac=u+1:t.posSuf+=d}const c=a.split(",");if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const u=i.length-t.posPre.length-t.posSuf.length,d=o.indexOf("#");t.negPre=o.substring(0,d).replace(/'/g,""),t.negSuf=o.slice(d+u).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function EC(n,e){return Lo(n)[fr.NumberFormats][e]}(e,G0.Percent),ia(e,ri.MinusSign)),e,ri.Group,ri.Decimal,t,!0).replace(new RegExp("%","g"),ia(e,ri.PercentSign))}(function LC(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(o){throw ka()}}static{this.\u0275fac=function(r){return new(r||n)(ke(ic,16))}}static{this.\u0275pipe=Po({name:"percent",type:n,pure:!0,standalone:!0})}}return n})();let _re=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Jo({type:n})}static{this.\u0275inj=xo({})}}return n})();const eF="browser";function tF(n){return n===eF}function nF(n){return"server"===n}let wre=(()=>{class n{static{this.\u0275prov=gt({token:n,providedIn:"root",factory:()=>new Ire(ft(ra),window)})}}return n})();class Ire{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ere(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Wre extends tne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class UC extends Wre{static makeCurrent(){!function ene(n){yC||(yC=n)}(new UC)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Kre(){return Rm=Rm||document.querySelector("base"),Rm?Rm.getAttribute("href"):null}();return null==t?null:function Qre(n){oy=oy||document.createElement("a"),oy.setAttribute("href",n);const e=oy.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Rm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Gne(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let oy,Rm=null,Zre=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac})}}return n})();const BC=new at("EventManagerPlugins");let aF=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new ze(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(ft(BC),ft(Bn))}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac})}}return n})();class lF{constructor(e){this._doc=e}}const jC="ng-app-id";let cF=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=nF(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${jC}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(jC),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(jC,this.appId),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(ft(ra),ft(a0),ft(pk,8),ft(Jl))}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac})}}return n})();const zC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$C=/%COMP%/g,tie=new at("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function dF(n,e){return e.map(t=>t.replace($C,n))}let hF=(()=>{class n{constructor(t,r,i,o,s,a,l,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=nF(a),this.defaultRenderer=new qC(t,s,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ca.ShadowDom&&(r={...r,encapsulation:Ca.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof pF?i.applyToHost(t):i instanceof GC&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Ca.Emulated:o=new pF(l,c,r,this.appId,u,s,a,d);break;case Ca.ShadowDom:return new oie(l,c,t,r,s,a,this.nonce,d);default:o=new GC(l,c,r,u,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(ft(aF),ft(cF),ft(a0),ft(tie),ft(ra),ft(Jl),ft(Bn),ft(pk))}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac})}}return n})();class qC{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(zC[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(fF(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(fF(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new ze(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=zC[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=zC[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ou.DashCase|ou.Important)?e.style.setProperty(t,r,i&ou.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ou.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=cu().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function fF(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class oie extends qC{constructor(e,t,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=dF(i.id,i.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class GC extends qC{constructor(e,t,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?dF(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class pF extends GC{constructor(e,t,r,i,o,s,a,l){const c=i+"-"+r.id;super(e,t,r,o,s,a,l,c),this.contentAttr=function nie(n){return"_ngcontent-%COMP%".replace($C,n)}(c),this.hostAttr=function rie(n){return"_nghost-%COMP%".replace($C,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let sie=(()=>{class n extends lF{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(ft(ra))}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac})}}return n})();const gF=["alt","control","meta","shift"],aie={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lie={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let cie=(()=>{class n extends lF{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cu().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),gF.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=aie[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),gF.forEach(s=>{s!==i&&(0,lie[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(ft(ra))}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac})}}return n})();const _F=[{provide:Jl,useValue:eF},{provide:fk,useValue:function uie(){UC.makeCurrent()},multi:!0},{provide:ra,useFactory:function hie(){return function WK(n){kI=n}(document),document},deps:[]}],fie=lL(Bte,"browser",_F),pie=new at(""),vF=[{provide:V0,useClass:class Yre{addToWindow(e){dr.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new ze(5103,!1);return o},dr.getAllAngularTestabilities=()=>e.getAllTestabilities(),dr.getAllAngularRootElements=()=>e.getAllRootElements(),dr.frameworkStabilizers||(dr.frameworkStabilizers=[]),dr.frameworkStabilizers.push(r=>{const i=dr.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?cu().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:rL,useClass:lC,deps:[Bn,cC,V0]},{provide:lC,useClass:lC,deps:[Bn,cC,V0]}],yF=[{provide:qI,useValue:"root"},{provide:ec,useFactory:function die(){return new ec},deps:[]},{provide:BC,useClass:sie,multi:!0,deps:[ra,Bn,Jl]},{provide:BC,useClass:cie,multi:!0,deps:[ra]},hF,cF,aF,{provide:bk,useExisting:hF},{provide:class Cre{},useClass:Zre,deps:[]},[]];let gie=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:a0,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(ft(pie,12))}}static{this.\u0275mod=Jo({type:n})}static{this.\u0275inj=xo({providers:[...yF,...vF],imports:[_re,jte]})}}return n})(),bF=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(ft(ra))}}static{this.\u0275prov=gt({token:n,factory:function(r){let i=null;return i=r?new r:function _ie(){return new bF(ft(ra))}(),i},providedIn:"root"})}}return n})();typeof window<"u"&&window;const{isArray:Eie}=Array,{getPrototypeOf:Cie,prototype:Aie,keys:Tie}=Object;function CF(n){if(1===n.length){const e=n[0];if(Eie(e))return{args:e,keys:null};if(function Sie(n){return n&&"object"==typeof n&&Cie(n)===Aie}(e)){const t=Tie(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Die}=Array;function WC(n){return hn(e=>function xie(n,e){return Die(e)?n(...e):n(e)}(n,e))}function AF(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function sy(...n){const e=Ng(n),t=FM(n),{args:r,keys:i}=CF(n);if(0===r.length)return ki([],e);const o=new ir(function Pie(n,e,t=Zc){return r=>{TF(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)TF(e,()=>{const c=ki(n[l],e);let u=!1;c.subscribe(Xr(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>AF(i,s):Zc));return t?o.pipe(WC(t)):o}function TF(n,e,t){n?Gl(t,n,e):e()}const km=Mg(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Om(...n){return function Mie(){return Kh(1)}()(ki(n,Ng(n)))}function ay(n){return new ir(e=>{co(n()).subscribe(e)})}function Wf(n,e){const t=fn(n)?n:()=>n,r=i=>i.error(t());return new ir(e?i=>e.schedule(r,0,i):r)}function KC(){return Jr((n,e)=>{let t=null;n._refCount++;const r=Xr(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class QC extends ir{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,IM(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ri;const t=this.getSubject();e.add(this.source.subscribe(Xr(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ri.EMPTY)}return e}refCount(){return KC()(this)}}function is(n){return n<=0?()=>Xa:Jr((e,t)=>{let r=0;e.subscribe(Xr(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function os(n,e){return Jr((t,r)=>{let i=0;t.subscribe(Xr(r,o=>n.call(e,o,i++)&&r.next(o)))})}function ly(n){return Jr((e,t)=>{let r=!1;e.subscribe(Xr(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function SF(n=Rie){return Jr((e,t)=>{let r=!1;e.subscribe(Xr(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Rie(){return new km}function Fd(n,e){const t=arguments.length>=2;return r=>r.pipe(n?os((i,o)=>n(i,o,r)):Zc,is(1),t?ly(e):SF(()=>new km))}function Lm(n,e){return fn(e)?Ii(n,e,1):Ii(n,1)}function Oi(n,e,t){const r=fn(n)||e||t?{next:n,error:e,complete:t}:n;return r?Jr((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Xr(o,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),o.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Zc}function Vd(n){return Jr((e,t)=>{let o,r=null,i=!1;r=e.subscribe(Xr(t,void 0,void 0,s=>{o=co(n(s,Vd(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function YC(n){return n<=0?()=>Xa:Jr((e,t)=>{let r=[];e.subscribe(Xr(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function DF(n){return hn(()=>n)}function ZC(n){return Jr((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const sn="primary",Fm=Symbol("RouteTitle");class Vie{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Kf(n){return new Vie(n)}function Uie(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ul(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!xF(n[i],e[i]))return!1;return!0}function xF(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function PF(n){return n.length>0?n[n.length-1]:null}function du(n){return function Iie(n){return!!n&&(n instanceof ir||fn(n.lift)&&fn(n.subscribe))}(n)?n:vm(n)?ki(Promise.resolve(n)):kt(n)}const jie={exact:function RF(n,e,t){if(!Ud(n.segments,e.segments)||!cy(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!RF(n.children[r],e.children[r],t))return!1;return!0},subset:kF},MF={exact:function zie(n,e){return ul(n,e)},subset:function $ie(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>xF(n[t],e[t]))},ignored:()=>!0};function NF(n,e,t){return jie[t.paths](n.root,e.root,t.matrixParams)&&MF[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function kF(n,e,t){return OF(n,e,e.segments,t)}function OF(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ud(i,t)||e.hasChildren()||!cy(i,t,r))}if(n.segments.length===t.length){if(!Ud(n.segments,t)||!cy(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!kF(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Ud(n.segments,i)&&cy(n.segments,i,r)&&n.children[sn])&&OF(n.children[sn],e,o,r)}}function cy(n,e,t){return e.every((r,i)=>MF[t](n[i].parameters,r.parameters))}class Qf{constructor(e=new Hn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kf(this.queryParams)),this._queryParamMap}toString(){return Hie.serialize(this)}}class Hn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uy(this)}}class Vm{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Kf(this.parameters)),this._parameterMap}toString(){return VF(this)}}function Ud(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Um=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=gt({token:n,factory:function(){return new JC},providedIn:"root"})}}return n})();class JC{parse(e){const t=new roe(e);return new Qf(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Bm(e.root,!0)}`,r=function Qie(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${dy(t)}=${dy(i)}`).join("&"):`${dy(t)}=${dy(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Wie(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Hie=new JC;function uy(n){return n.segments.map(e=>VF(e)).join("/")}function Bm(n,e){if(!n.hasChildren())return uy(n);if(e){const t=n.children[sn]?Bm(n.children[sn],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==sn&&r.push(`${i}:${Bm(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Gie(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===sn&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==sn&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===sn?[Bm(n.children[sn],!1)]:[`${i}:${Bm(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[sn]?`${uy(n)}/${t[0]}`:`${uy(n)}/(${t.join("//")})`}}function LF(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dy(n){return LF(n).replace(/%3B/gi,";")}function XC(n){return LF(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hy(n){return decodeURIComponent(n)}function FF(n){return hy(n.replace(/\+/g,"%20"))}function VF(n){return`${XC(n.path)}${function Kie(n){return Object.keys(n).map(e=>`;${XC(e)}=${XC(n[e])}`).join("")}(n.parameters)}`}const Yie=/^[^\/()?;#]+/;function eA(n){const e=n.match(Yie);return e?e[0]:""}const Zie=/^[^\/()?;=#]+/,Xie=/^[^=?&#]+/,toe=/^[^&#]+/;class roe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Hn([],{}):new Hn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[sn]=new Hn(e,t)),r}parseSegment(){const e=eA(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new ze(4009,!1);return this.capture(e),new Vm(hy(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Jie(n){const e=n.match(Zie);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=eA(this.remaining);i&&(r=i,this.capture(r))}e[hy(t)]=hy(r)}parseQueryParam(e){const t=function eoe(n){const e=n.match(Xie);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function noe(n){const e=n.match(toe);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=FF(t),o=FF(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=eA(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new ze(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=sn);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[sn]:new Hn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new ze(4011,!1)}}function UF(n){return n.segments.length>0?new Hn([],{[sn]:n}):n}function BF(n){const e={};for(const r of Object.keys(n.children)){const o=BF(n.children[r]);if(r===sn&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function ioe(n){if(1===n.numberOfChildren&&n.children[sn]){const e=n.children[sn];return new Hn(n.segments.concat(e.segments),e.children)}return n}(new Hn(n.segments,e))}function Bd(n){return n instanceof Qf}function jF(n){let e;const i=UF(function t(o){const s={};for(const l of o.children){const c=t(l);s[l.outlet]=c}const a=new Hn(o.url,s);return o===n&&(e=a),a}(n.root));return e??i}function zF(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return tA(i,i,i,t,r);const o=function soe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new qF(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new qF(t,e,r)}(e);if(o.toRoot())return tA(i,i,new Hn([],{}),t,r);const s=function aoe(n,e,t){if(n.isAbsolute)return new py(e,!0,0);if(!t)return new py(e,!1,NaN);if(null===t.parent)return new py(t,!0,0);const r=fy(n.commands[0])?0:1;return function loe(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ze(4005,!1);i=r.segments.length}return new py(r,!1,i-o)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(o,i,n),a=s.processChildren?zm(s.segmentGroup,s.index,o.commands):GF(s.segmentGroup,s.index,o.commands);return tA(i,s.segmentGroup,a,t,r)}function fy(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function jm(n){return"object"==typeof n&&null!=n&&n.outlets}function tA(n,e,t,r,i){let s,o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),s=n===e?t:$F(n,e,t);const a=UF(BF(s));return new Qf(a,o,i)}function $F(n,e,t){const r={};return Object.entries(n.children).forEach(([i,o])=>{r[i]=o===e?t:$F(o,e,t)}),new Hn(n.segments,r)}class qF{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&fy(r[0]))throw new ze(4003,!1);const i=r.find(jm);if(i&&i!==PF(r))throw new ze(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class py{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function GF(n,e,t){if(n||(n=new Hn([],{})),0===n.segments.length&&n.hasChildren())return zm(n,e,t);const r=function uoe(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(jm(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!WF(l,c,s))return o;r+=2}else{if(!WF(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new Hn(n.segments.slice(0,r.pathIndex),{});return o.children[sn]=new Hn(n.segments.slice(r.pathIndex),n.children),zm(o,0,i)}return r.match&&0===i.length?new Hn(n.segments,{}):r.match&&!n.hasChildren()?nA(n,e,t):r.match?zm(n,0,i):nA(n,e,t)}function zm(n,e,t){if(0===t.length)return new Hn(n.segments,{});{const r=function coe(n){return jm(n[0])?n[0].outlets:{[sn]:n}}(t),i={};if(Object.keys(r).some(o=>o!==sn)&&n.children[sn]&&1===n.numberOfChildren&&0===n.children[sn].segments.length){const o=zm(n.children[sn],e,t);return new Hn(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=GF(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Hn(n.segments,i)}}function nA(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(jm(o)){const l=doe(o.outlets);return new Hn(r,l)}if(0===i&&fy(t[0])){r.push(new Vm(n.segments[e].path,HF(t[0]))),i++;continue}const s=jm(o)?o.outlets[sn]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&fy(a)?(r.push(new Vm(s,HF(a))),i+=2):(r.push(new Vm(s,{})),i++)}return new Hn(r,{})}function doe(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=nA(new Hn([],{}),0,r))}),e}function HF(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function WF(n,e,t){return n==t.path&&ul(e,t.parameters)}const $m="imperative";class dl{constructor(e,t){this.id=e,this.url=t}}class gy extends dl{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hu extends dl{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qm extends dl{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Yf extends dl{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class my extends dl{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class KF extends dl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hoe extends dl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class foe extends dl{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class poe extends dl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class goe extends dl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class moe{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _oe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class voe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yoe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class boe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class woe{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QF{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class rA{}class iA{constructor(e){this.url=e}}class Ioe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Gm,this.attachRef=null}}let Gm=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ioe,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class YF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=oA(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=oA(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=sA(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sA(e,this._root).map(t=>t.value)}}function oA(n,e){if(n===e.value)return e;for(const t of e.children){const r=oA(n,t);if(r)return r}return null}function sA(n,e){if(n===e.value)return[e];for(const t of e.children){const r=sA(n,t);if(r.length)return r.unshift(e),r}return[]}class lc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Zf(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ZF extends YF{constructor(e,t){super(e),this.snapshot=t,aA(this,e)}toString(){return this.snapshot.toString()}}function JF(n,e){const t=function Eoe(n,e){const s=new _y([],{},{},"",{},sn,e,null,{});return new e6("",new lc(s,[]))}(0,e),r=new ws([new Vm("",{})]),i=new ws({}),o=new ws({}),s=new ws({}),a=new ws(""),l=new Jf(r,i,s,a,o,sn,e,t.root);return l.snapshot=t.root,new ZF(new lc(l,[]),t)}class Jf{constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(hn(c=>c[Fm]))??kt(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(hn(e=>Kf(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(hn(e=>Kf(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function XF(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Coe(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class _y{get title(){return this.data?.[Fm]}constructor(e,t,r,i,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Kf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class e6 extends YF{constructor(e,t){super(t),this.url=e,aA(this,t)}toString(){return t6(this._root)}}function aA(n,e){e.value._routerState=n,e.children.forEach(t=>aA(n,t))}function t6(n){const e=n.children.length>0?` { ${n.children.map(t6).join(", ")} } `:"";return`${n.value}${e}`}function lA(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ul(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ul(e.params,t.params)||n.paramsSubject.next(t.params),function Bie(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ul(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),ul(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function cA(n,e){const t=ul(n.params,e.params)&&function qie(n,e){return Ud(n,e)&&n.every((t,r)=>ul(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||cA(n.parent,e.parent))}let uA=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=sn,this.activateEvents=new Sr,this.deactivateEvents=new Sr,this.attachEvents=new Sr,this.detachEvents=new Sr,this.parentContexts=lt(Gm),this.location=lt(Ma),this.changeDetector=lt(B0),this.environmentInjector=lt(ea),this.inputBinder=lt(vy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ze(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ze(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ze(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new ze(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Aoe(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=qt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[As]})}}return n})();class Aoe{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Jf?this.route:e===Gm?this.childContexts:this.parent.get(e,t)}}const vy=new at("");let n6=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=sy([r.queryParams,r.params,r.data]).pipe(Yo(([o,s,a],l)=>(a={...o,...s,...a},0===l?kt(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function Xte(n){const e=An(n);if(!e)return null;const t=new fm(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac})}}return n})();function Hm(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Soe(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Hm(n,r,i);return Hm(n,r)})}(n,e,t);return new lc(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Hm(n,a)),s}}const r=function Doe(n){return new Jf(new ws(n.url),new ws(n.params),new ws(n.queryParams),new ws(n.fragment),new ws(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>Hm(n,o));return new lc(r,i)}}const dA="ngNavigationCancelingError";function r6(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Bd(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=i6(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function i6(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[dA]=!0,r.cancellationCode=e,t&&(r.url=t),r}function o6(n){return n&&n[dA]}let s6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Es({type:n,selectors:[["ng-component"]],standalone:!0,features:[s4],decls:1,vars:0,template:function(r,i){1&r&&fe(0,"router-outlet")},dependencies:[uA],encapsulation:2})}}return n})();function hA(n){const e=n.children&&n.children.map(hA),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==sn&&(t.component=s6),t}function Oa(n){return n.outlet||sn}function Wm(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Loe{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),lA(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Zf(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Zf(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Zf(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Zf(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new woe(o.value.snapshot))}),e.children.length&&this.forwardEvent(new yoe(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(lA(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),lA(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Wm(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class a6{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class yy{constructor(e,t){this.component=e,this.route=t}}function Foe(n,e,t){const r=n._root;return Km(r,e?e._root:null,t,[r.value])}function Xf(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function cH(n){return null!==_1(n)}(n)?e.get(n):n:r}function Km(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Zf(e);return n.children.forEach(s=>{(function Uoe(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function Boe(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ud(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ud(n.url,e.url)||!ul(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cA(n,e)||!ul(n.queryParams,e.queryParams);default:return!cA(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new a6(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Km(n,e,o.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new yy(a.outlet.component,s))}else s&&Qm(e,a,i),i.canActivateChecks.push(new a6(r)),Km(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Qm(a,t.getContext(s),i)),i}function Qm(n,e,t){const r=Zf(n),i=n.value;Object.entries(r).forEach(([o,s])=>{Qm(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new yy(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ym(n){return"function"==typeof n}function l6(n){return n instanceof km||"EmptyError"===n?.name}const by=Symbol("INITIAL_VALUE");function ep(){return Yo(n=>sy(n.map(e=>e.pipe(is(1),function Nie(...n){const e=Ng(n);return Jr((t,r)=>{(e?Om(n,t,e):Om(n,t)).subscribe(r)})}(by)))).pipe(hn(e=>{for(const t of e)if(!0!==t){if(t===by)return by;if(!1===t||t instanceof Qf)return t}return!0}),os(e=>e!==by),is(1)))}function c6(n){return function cG(...n){return yM(n)}(Oi(e=>{if(Bd(e))throw r6(0,e)}),hn(e=>!0===e))}class wy{constructor(e){this.segmentGroup=e||null}}class u6{constructor(e){this.urlTree=e}}function tp(n){return Wf(new wy(n))}function d6(n){return Wf(new u6(n))}class sse{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new ze(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return kt(r);if(i.numberOfChildren>1||!i.children[sn])return Wf(new ze(4e3,!1));i=i.children[sn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new Qf(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Hn(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new ze(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const fA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ase(n,e,t,r,i){const o=pA(n,e,t);return o.matched?(r=function Poe(n,e){return n.providers&&!n._injector&&(n._injector=GE(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function rse(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?kt(i.map(s=>{const a=Xf(s,n);return du(function Hoe(n){return n&&Ym(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(ep(),c6()):kt(!0)}(r,e,t).pipe(hn(s=>!0===s?o:{...fA}))):kt(o)}function pA(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...fA}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Uie)(t,n,e);if(!i)return{...fA};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function h6(n,e,t,r){return t.length>0&&function use(n,e,t){return t.some(r=>Iy(n,e,r)&&Oa(r)!==sn)}(n,t,r)?{segmentGroup:new Hn(e,cse(r,new Hn(t,n.children))),slicedSegments:[]}:0===t.length&&function dse(n,e,t){return t.some(r=>Iy(n,e,r))}(n,t,r)?{segmentGroup:new Hn(n.segments,lse(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Hn(n.segments,n.children),slicedSegments:t}}function lse(n,e,t,r,i){const o={};for(const s of r)if(Iy(n,t,s)&&!i[Oa(s)]){const a=new Hn([],{});o[Oa(s)]=a}return{...i,...o}}function cse(n,e){const t={};t[sn]=e;for(const r of n)if(""===r.path&&Oa(r)!==sn){const i=new Hn([],{});t[Oa(r)]=i}return t}function Iy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class gse{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new sse(this.urlSerializer,this.urlTree)}noMatchError(e){return new ze(4002,!1)}recognize(){const e=h6(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,sn).pipe(Vd(t=>{if(t instanceof u6)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof wy?this.noMatchError(t):t}),hn(t=>{const r=new _y([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},sn,this.rootComponentType,null,{}),i=new lc(r,t),o=new e6("",i),s=function ooe(n,e,t=null,r=null){return zF(jF(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,sn).pipe(Vd(r=>{throw r instanceof wy?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=XF(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return ki(i).pipe(Lm(o=>{const s=r.children[o],a=function koe(n,e){const t=n.filter(r=>Oa(r)===e);return t.push(...n.filter(r=>Oa(r)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),function Oie(n,e){return Jr(function kie(n,e,t,r,i){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(Xr(s,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(n,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),ly(null),function Lie(n,e){const t=arguments.length>=2;return r=>r.pipe(n?os((i,o)=>n(i,o,r)):Zc,YC(1),t?ly(e):SF(()=>new km))}(),Ii(o=>{if(null===o)return tp(r);const s=f6(o);return function mse(n){n.sort((e,t)=>e.value.outlet===sn?-1:t.value.outlet===sn?1:e.value.outlet.localeCompare(t.value.outlet))}(s),kt(s)}))}processSegment(e,t,r,i,o,s){return ki(t).pipe(Lm(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,o,s).pipe(Vd(l=>{if(l instanceof wy)return kt(null);throw l}))),Fd(a=>!!a),Vd(a=>{if(l6(a))return function fse(n,e,t){return 0===e.length&&!n.children[t]}(r,i,o)?kt([]):tp(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,o,s,a){return function hse(n,e,t,r){return!!(Oa(n)===r||r!==sn&&Iy(e,t,n))&&("**"===n.path||pA(e,n,t).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s):tp(i):tp(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?d6(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Ii(s=>{const a=new Hn(s,{});return this.processSegment(e,t,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=pA(t,i,o);if(!a)return tp(t);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?d6(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Ii(m=>this.processSegment(e,r,t,m.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a;if("**"===r.path){const l=i.length>0?PF(i).parameters:{};a=kt({snapshot:new _y(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,p6(r),Oa(r),r.component??r._loadedComponent??null,r,g6(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=ase(t,r,i,e).pipe(hn(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new _y(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,p6(r),Oa(r),r.component??r._loadedComponent??null,r,g6(r)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(Yo(l=>null===l?tp(t):this.getChildConfig(e=r._injector??e,r,i).pipe(Yo(({routes:c})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:m,remainingSegments:p}=l,{segmentGroup:b,slicedSegments:w}=h6(t,m,p,c);if(0===w.length&&b.hasChildren())return this.processChildren(u,c,b).pipe(hn(C=>null===C?null:[new lc(d,C)]));if(0===c.length&&0===w.length)return kt([new lc(d,[])]);const E=Oa(r)===o;return this.processSegment(u,c,b,w,E?sn:o,!0).pipe(hn(C=>[new lc(d,C)]))}))))}getChildConfig(e,t,r){return t.children?kt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?kt({routes:t._loadedRoutes,injector:t._loadedInjector}):function nse(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?kt(!0):kt(i.map(s=>{const a=Xf(s,n);return du(function zoe(n){return n&&Ym(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(ep(),c6())}(e,t,r).pipe(Ii(i=>i?this.configLoader.loadChildren(e,t).pipe(Oi(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function ose(n){return Wf(i6(!1,3))}())):kt({routes:[],injector:e})}}function _se(n){const e=n.value.routeConfig;return e&&""===e.path}function f6(n){const e=[],t=new Set;for(const r of n){if(!_se(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=f6(r.children);e.push(new lc(r.value,i))}return e.filter(r=>!t.has(r))}function p6(n){return n.data||{}}function g6(n){return n.resolve||{}}function m6(n){return"string"==typeof n.title||null===n.title}function gA(n){return Yo(e=>{const t=n(e);return t?ki(t).pipe(hn(()=>e)):kt(e)})}const np=new at("ROUTES");let mA=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=lt(X4)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return kt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=du(t.loadComponent()).pipe(hn(_6),Oi(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),ZC(()=>{this.componentLoaders.delete(t)})),i=new QC(r,()=>new Qo).pipe(KC());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return kt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function Cse(n,e,t,r){return du(n.loadChildren()).pipe(hn(_6),Ii(i=>i instanceof i4||Array.isArray(i)?kt(i):ki(e.compileModuleAsync(i))),hn(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(np,[],{optional:!0,self:!0}).flat()),{routes:s.map(hA),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(ZC(()=>{this.childrenLoaders.delete(r)})),s=new QC(o,()=>new Qo).pipe(KC());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function _6(n){return function Ase(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Ey=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Qo,this.transitionAbortSubject=new Qo,this.configLoader=lt(mA),this.environmentInjector=lt(ea),this.urlSerializer=lt(Um),this.rootContexts=lt(Gm),this.inputBindingEnabled=null!==lt(vy,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>kt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new _oe(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new moe(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new ws({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$m,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(os(o=>0!==o.id),hn(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),Yo(o=>{this.currentTransition=o;let s=!1,a=!1;return kt(o).pipe(Oi(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Yo(l=>{const c=l.currentBrowserUrl.toString(),u=!t.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const m="";return this.events.next(new Yf(l.id,this.urlSerializer.serialize(l.rawUrl),m,0)),l.resolve(null),Xa}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return kt(l).pipe(Yo(m=>{const p=this.transitions?.getValue();return this.events.next(new gy(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),p!==this.transitions?.getValue()?Xa:Promise.resolve(m)}),function vse(n,e,t,r,i,o){return Ii(s=>function pse(n,e,t,r,i,o,s="emptyOnly"){return new gse(n,e,t,r,i,s,o).recognize()}(n,e,t,r,s.extractedUrl,i,o).pipe(hn(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Oi(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const p=new KF(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(p)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:m,extractedUrl:p,source:b,restoredState:w,extras:E}=l,C=new gy(m,this.urlSerializer.serialize(p),b,w);this.events.next(C);const k=JF(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:k,urlAfterRedirects:p,extras:{...E,skipLocationChange:!1,replaceUrl:!1}},kt(o)}{const m="";return this.events.next(new Yf(l.id,this.urlSerializer.serialize(l.extractedUrl),m,1)),l.resolve(null),Xa}}),Oi(l=>{const c=new hoe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),hn(l=>(this.currentTransition=o={...l,guards:Foe(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function Koe(n,e){return Ii(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?kt({...t,guardsResult:!0}):function Qoe(n,e,t,r){return ki(n).pipe(Ii(i=>function tse(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?kt(o.map(a=>{const l=Wm(e)??i,c=Xf(a,l);return du(function Goe(n){return n&&Ym(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):l.runInContext(()=>c(n,e,t,r))).pipe(Fd())})).pipe(ep()):kt(!0)}(i.component,i.route,t,e,r)),Fd(i=>!0!==i,!0))}(s,r,i,n).pipe(Ii(a=>a&&function joe(n){return"boolean"==typeof n}(a)?function Yoe(n,e,t,r){return ki(e).pipe(Lm(i=>Om(function Joe(n,e){return null!==n&&e&&e(new voe(n)),kt(!0)}(i.route.parent,r),function Zoe(n,e){return null!==n&&e&&e(new boe(n)),kt(!0)}(i.route,r),function ese(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Voe(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>ay(()=>kt(s.guards.map(l=>{const c=Wm(s.node)??t,u=Xf(l,c);return du(function qoe(n){return n&&Ym(n.canActivateChild)}(u)?u.canActivateChild(r,n):c.runInContext(()=>u(r,n))).pipe(Fd())})).pipe(ep())));return kt(o).pipe(ep())}(n,i.path,t),function Xoe(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return kt(!0);const i=r.map(o=>ay(()=>{const s=Wm(e)??t,a=Xf(o,s);return du(function $oe(n){return n&&Ym(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Fd())}));return kt(i).pipe(ep())}(n,i.route,t))),Fd(i=>!0!==i,!0))}(r,o,n,e):kt(a)),hn(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Oi(l=>{if(o.guardsResult=l.guardsResult,Bd(l.guardsResult))throw r6(0,l.guardsResult);const c=new foe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),os(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),gA(l=>{if(l.guards.canActivateChecks.length)return kt(l).pipe(Oi(c=>{const u=new poe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Yo(c=>{let u=!1;return kt(c).pipe(function yse(n,e){return Ii(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return kt(t);let o=0;return ki(i).pipe(Lm(s=>function bse(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!m6(i)&&(o[Fm]=i.title),function wse(n,e,t,r){const i=function Ise(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return kt({});const o={};return ki(i).pipe(Ii(s=>function Ese(n,e,t,r){const i=Wm(e)??r,o=Xf(n,i);return du(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[s],e,t,r).pipe(Fd(),Oi(a=>{o[s]=a}))),YC(1),DF(o),Vd(s=>l6(s)?Xa:Wf(s)))}(o,n,e,r).pipe(hn(s=>(n._resolvedData=s,n.data=XF(n,t).resolve,i&&m6(i)&&(n.data[Fm]=i.title),null)))}(s.route,r,n,e)),Oi(()=>o++),YC(1),Ii(s=>o===i.length?kt(t):Xa))})}(t.paramsInheritanceStrategy,this.environmentInjector),Oi({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),Oi(c=>{const u=new goe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),gA(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Oi(m=>{u.component=m}),hn(()=>{})));for(const m of u.children)d.push(...c(m));return d};return sy(c(l.targetSnapshot.root)).pipe(ly(),is(1))}),gA(()=>this.afterPreactivation()),hn(l=>{const c=function Toe(n,e,t){const r=Hm(n,e._root,t?t._root:void 0);return new ZF(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:c},o}),Oi(()=>{this.events.next(new rA)}),((n,e,t,r)=>hn(i=>(new Loe(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),is(1),Oi({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new hu(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),function Fie(n){return Jr((e,t)=>{co(n).subscribe(Xr(t,()=>t.complete(),bd)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(Oi(l=>{throw l}))),ZC(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Vd(l=>{if(a=!0,o6(l))this.events.next(new qm(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function xoe(n){return o6(n)&&Bd(n.url)}(l)?this.events.next(new iA(l.url)):o.resolve(!1);else{this.events.next(new my(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(l))}catch(c){o.reject(c)}}return Xa}))}))}cancelNavigationTransition(t,r,i){const o=new qm(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function v6(n){return n!==$m}let y6=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===sn);return r}getResolvedTitleForRoute(t){return t.data[Fm]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=gt({token:n,factory:function(){return lt(Tse)},providedIn:"root"})}}return n})(),Tse=(()=>{class n extends y6{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(ft(bF))}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Sse=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=gt({token:n,factory:function(){return lt(xse)},providedIn:"root"})}}return n})();class Dse{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let xse=(()=>{class n extends Dse{static{this.\u0275fac=function(){let t;return function(i){return(t||(t=Qi(n)))(i||n)}}()}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Cy=new at("",{providedIn:"root",factory:()=>({})});let Pse=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=gt({token:n,factory:function(){return lt(Mse)},providedIn:"root"})}}return n})(),Mse=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Zm=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Zm||{});function b6(n,e){n.events.pipe(os(t=>t instanceof hu||t instanceof qm||t instanceof my||t instanceof Yf),hn(t=>t instanceof hu||t instanceof Yf?Zm.COMPLETE:t instanceof qm&&(0===t.code||1===t.code)?Zm.REDIRECTING:Zm.FAILED),os(t=>t!==Zm.REDIRECTING),is(1)).subscribe(()=>{e()})}function Nse(n){throw n}function Rse(n,e,t){return e.parse("/")}const kse={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ose={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Uo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=lt(Z4),this.isNgZoneEnabled=!1,this._events=new Qo,this.options=lt(Cy,{optional:!0})||{},this.pendingTasks=lt(J4),this.errorHandler=this.options.errorHandler||Nse,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Rse,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=lt(Pse),this.routeReuseStrategy=lt(Sse),this.titleStrategy=lt(y6),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=lt(np,{optional:!0})?.flat()??[],this.navigationTransitions=lt(Ey),this.urlSerializer=lt(Um),this.location=lt(IC),this.componentInputBindingEnabled=!!lt(vy,{optional:!0}),this.eventsSubscription=new Ri,this.isNgZoneEnabled=lt(Bn)instanceof Bn&&Bn.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Qf,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=JF(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(w6(r)&&this._events.next(r));if(r instanceof gy)v6(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Yf)this.rawUrlTree=i.rawUrl;else if(r instanceof KF){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof rA)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof qm)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof iA){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||v6(i.source)};this.scheduleNavigation(o,$m,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof my&&this.restoreHistory(i,!0),r instanceof hu&&(this.navigated=!0),w6(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),$m,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(hA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=jF(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return zF(d,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Bd(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,$m,null,r)}navigate(t,r={skipLocationChange:!1}){return function Lse(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new ze(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...kse}:!1===r?{...Ose}:r,Bd(t))return NF(this.currentUrlTree,t,i);const o=this.parseUrl(t);return NF(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,m)=>{a=d,l=m});const u=this.pendingTasks.add();return b6(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function w6(n){return!(n instanceof rA||n instanceof iA)}let Jm=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Qo,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof hu&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function ok(n,e,t){return function gQ(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?ik:rk}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(ke(Uo),ke(Jf),function V1(n){return function OW(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(ZM(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(Ki(),n)}("tabindex"),ke(Xl),ke(Ds),ke(Od))}}static{this.\u0275dir=qt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Le("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Ai("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Gf],skipLocationChange:["skipLocationChange","skipLocationChange",Gf],replaceUrl:["replaceUrl","replaceUrl",Gf],routerLink:"routerLink"},standalone:!0,features:[yO,As]})}}return n})(),I6=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Sr,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof hu&&this.update()})}ngAfterContentInit(){kt(this.links.changes,kt(null)).pipe(Kh()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ki(t).pipe(Kh()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function Fse(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(ke(Uo),ke(Ds),ke(Xl),ke(B0),ke(Jm,8))}}static{this.\u0275dir=qt({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(1&r&&P4(o,Jm,5),2&r){let s;x4(s=function M4(){return function Iee(n,e){return n[tl].queries[e].queryList}(Fe(),zN())}())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[As]})}}return n})();class E6{}let Vse=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(os(t=>t instanceof hu),Lm(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=GE(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ki(i).pipe(Kh())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):kt(null);const o=i.pipe(Ii(s=>null===s?kt(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?ki([o,this.loader.loadComponent(r)]).pipe(Kh()):o})}static{this.\u0275fac=function(r){return new(r||n)(ft(Uo),ft(X4),ft(ea),ft(E6),ft(mA))}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const _A=new at("");let C6=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof gy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof hu?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Yf&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof QF&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new QF(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function Hk(){throw new Error("invalid")}()}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac})}}return n})();function cc(n,e){return{\u0275kind:n,\u0275providers:e}}function T6(){const n=lt(fo);return e=>{const t=n.get(Rd);if(e!==t.components[0])return;const r=n.get(Uo),i=n.get(S6);1===n.get(vA)&&r.initialNavigation(),n.get(D6,null,gn.Optional)?.setUpPreloading(),n.get(_A,null,gn.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const S6=new at("",{factory:()=>new Qo}),vA=new at("",{providedIn:"root",factory:()=>1}),D6=new at("");function zse(n){return cc(0,[{provide:D6,useExisting:Vse},{provide:E6,useExisting:n}])}const x6=new at("ROUTER_FORROOT_GUARD"),qse=[IC,{provide:Um,useClass:JC},Uo,Gm,{provide:Jf,useFactory:function A6(n){return n.routerState.root},deps:[Uo]},mA,[]];function Gse(){return new sL("Router",Uo)}let P6=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[qse,[],{provide:np,multi:!0,useValue:t},{provide:x6,useFactory:Qse,deps:[[Uo,new Xs,new j1]]},{provide:Cy,useValue:r||{}},r?.useHash?{provide:Od,useClass:ine}:{provide:Od,useClass:FL},{provide:_A,useFactory:()=>{const n=lt(wre),e=lt(Bn),t=lt(Cy),r=lt(Ey),i=lt(Um);return t.scrollOffset&&n.setOffset(t.scrollOffset),new C6(i,r,n,e,t)}},r?.preloadingStrategy?zse(r.preloadingStrategy).\u0275providers:[],{provide:sL,multi:!0,useFactory:Gse},r?.initialNavigation?Yse(r):[],r?.bindToComponentInputs?cc(8,[n6,{provide:vy,useExisting:n6}]).\u0275providers:[],[{provide:M6,useFactory:T6},{provide:hC,multi:!0,useExisting:M6}]]}}static forChild(t){return{ngModule:n,providers:[{provide:np,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(ft(x6,8))}}static{this.\u0275mod=Jo({type:n})}static{this.\u0275inj=xo({})}}return n})();function Qse(n){return"guarded"}function Yse(n){return["disabled"===n.initialNavigation?cc(3,[{provide:L0,multi:!0,useFactory:()=>{const e=lt(Uo);return()=>{e.setUpLocationChangeListener()}}},{provide:vA,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?cc(2,[{provide:vA,useValue:0},{provide:L0,multi:!0,deps:[fo],useFactory:e=>{const t=e.get(nne,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Uo),o=e.get(S6);b6(i,()=>{r(!0)}),e.get(Ey).afterPreactivation=()=>(r(!0),o.closed?kt(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const M6=new at("");var ie=ys(467);const N6=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},R6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let m=(15&a)<<2|c>>6,p=63&c;l||(p=64,s||(m=64)),r.push(t[o>>2],t[(3&o)<<4|a>>4],t[m],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(N6(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==d)throw new tae;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class tae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ay=function(n){return function(n){const e=N6(n);return R6.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Ty=function(n){try{return R6.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Sy=()=>{try{return function iae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Ty(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},O6=()=>{var n;return null===(n=Sy())||void 0===n?void 0:n.config};class L6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Yi(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class uc extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,uc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xm.prototype.create)}}class Xm{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function bae(n,e){return n.replace(wae,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new uc(i,`${this.serviceName}: ${s} (${i}).`,r)}}const wae=/\{\$([^}]+)}/g;function e_(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(B6(o)&&B6(s)){if(!e_(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function B6(n){return null!==n&&"object"==typeof n}function bA(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Eae{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function Cae(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=wA),void 0===i.error&&(i.error=wA),void 0===i.complete&&(i.complete=wA);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wA(){}function Zi(n){return n&&n._delegate?n._delegate:n}class jd{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const zd="[DEFAULT]";class Pae{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new L6;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Nae(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:zd})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=zd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,ie.A)(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=zd){return this.instances.has(e)}getOptions(e=zd){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===zd?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=zd){return this.component?this.component.multipleInstances?e:zd:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Rae{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Pae(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const EA=[];var yn=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(yn||{});const j6={debug:yn.DEBUG,verbose:yn.VERBOSE,info:yn.INFO,warn:yn.WARN,error:yn.ERROR,silent:yn.SILENT},kae=yn.INFO,Oae={[yn.DEBUG]:"log",[yn.VERBOSE]:"log",[yn.INFO]:"info",[yn.WARN]:"warn",[yn.ERROR]:"error"},Lae=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Oae[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class CA{constructor(e){this.name=e,this._logLevel=kae,this._logHandler=Lae,this._userLogHandler=null,EA.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?j6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yn.DEBUG,...e),this._logHandler(this,yn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yn.VERBOSE,...e),this._logHandler(this,yn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yn.INFO,...e),this._logHandler(this,yn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yn.WARN,...e),this._logHandler(this,yn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yn.ERROR,...e),this._logHandler(this,yn.ERROR,...e)}}const Fae=(n,e)=>e.some(t=>n instanceof t);let z6,$6;const q6=new WeakMap,AA=new WeakMap,G6=new WeakMap,TA=new WeakMap,SA=new WeakMap;let DA={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return AA.get(n);if("objectStoreNames"===e)return n.objectStoreNames||G6.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fu(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function qae(n){return"function"==typeof n?function $ae(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Uae(){return $6||($6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(xA(this),e),fu(q6.get(this))}:function(...e){return fu(n.apply(xA(this),e))}:function(e,...t){const r=n.call(xA(this),e,...t);return G6.set(r,e.sort?e.sort():[e]),fu(r)}}(n):(n instanceof IDBTransaction&&function jae(n){if(AA.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});AA.set(n,e)}(n),Fae(n,function Vae(){return z6||(z6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,DA):n)}function fu(n){if(n instanceof IDBRequest)return function Bae(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(fu(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&q6.set(t,n)}).catch(()=>{}),SA.set(e,n),e}(n);if(TA.has(n))return TA.get(n);const e=qae(n);return e!==n&&(TA.set(n,e),SA.set(e,n)),e}const xA=n=>SA.get(n),Hae=["get","getKey","getAll","getAllKeys","count"],Wae=["put","add","delete","clear"],PA=new Map;function H6(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(PA.get(e))return PA.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Wae.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Hae.includes(t))return;const o=function(){var s=(0,ie.A)(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return PA.set(e,o),o}!function zae(n){DA=n(DA)}(n=>({...n,get:(e,t,r)=>H6(e,t)||n.get(e,t,r),has:(e,t)=>!!H6(e,t)||n.has(e,t)}));class Kae{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function Qae(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const xy="@firebase/app",MA="0.10.13",dc=new CA("@firebase/app"),Py="[DEFAULT]",Ele={[xy]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},$d=new Map,t_=new Map,n_=new Map;function W6(n,e){try{n.container.addComponent(e)}catch(t){dc.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function rp(n){const e=n.name;if(n_.has(e))return dc.debug(`There were multiple attempts to register component ${e}.`),!1;n_.set(e,n);for(const t of $d.values())W6(t,n);for(const t of t_.values())W6(t,n);return!0}function qd(n){return void 0!==n.settings}const sa=new Xm("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Q6{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sa.create("app-deleted",{appName:this._name})}}const My="10.14.1";function Y6(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Py,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw sa.create("bad-app-name",{appName:String(i)});if(t||(t=O6()),!t)throw sa.create("no-options");const o=$d.get(i);if(o){if(e_(t,o.options)&&e_(r,o.config))return o;throw sa.create("duplicate-app",{appName:i})}const s=new Rae(i);for(const l of n_.values())s.addComponent(l);const a=new Q6(t,r,s);return $d.set(i,a),a}function Z6(n=Py){const e=$d.get(n);if(!e&&n===Py&&O6())return Y6();if(!e)throw sa.create("no-app",{appName:n});return e}function J6(){return Array.from($d.values())}function Ns(n,e,t){var r;let i=null!==(r=Ele[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void dc.warn(a.join(" "))}rp(new jd(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Dle="firebase-heartbeat-database",xle=1,r_="firebase-heartbeat-store";let RA=null;function X6(){return RA||(RA=function Gae(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=fu(s);return r&&s.addEventListener("upgradeneeded",l=>{r(fu(s.result),l.oldVersion,l.newVersion,fu(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(Dle,xle,{upgrade:(n,e)=>{if(0===e)try{n.createObjectStore(r_)}catch(t){console.warn(t)}}}).catch(n=>{throw sa.create("idb-open",{originalErrorMessage:n.message})})),RA}function kA(){return(kA=(0,ie.A)(function*(n){try{const t=(yield X6()).transaction(r_),r=yield t.objectStore(r_).get(t8(n));return yield t.done,r}catch(e){if(e instanceof uc)dc.warn(e.message);else{const t=sa.create("idb-get",{originalErrorMessage:e?.message});dc.warn(t.message)}}})).apply(this,arguments)}function e8(n,e){return OA.apply(this,arguments)}function OA(){return(OA=(0,ie.A)(function*(n,e){try{const r=(yield X6()).transaction(r_,"readwrite");yield r.objectStore(r_).put(e,t8(n)),yield r.done}catch(t){if(t instanceof uc)dc.warn(t.message);else{const r=sa.create("idb-set",{originalErrorMessage:t?.message});dc.warn(r.message)}}})).apply(this,arguments)}function t8(n){return`${n.name}!${n.options.appId}`}class Rle{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ole(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return(0,ie.A)(function*(){var t,r;try{const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=n8();return null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===s||e._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=2592e6}),e._storage.overwrite(e._heartbeatsCache))}catch(i){dc.warn(i)}})()}getHeartbeatsHeader(){var e=this;return(0,ie.A)(function*(){var t;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=n8(),{heartbeatsToSend:i,unsentEntries:o}=function kle(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),r8(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),r8(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Ay(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s}catch(r){return dc.warn(r),""}})()}}function n8(){return(new Date).toISOString().substring(0,10)}class Ole{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,ie.A)(function*(){return!!function V6(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function vae(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,ie.A)(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function Ple(n){return kA.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return(0,ie.A)(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return e8(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return(0,ie.A)(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return e8(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function r8(n){return Ay(JSON.stringify({version:2,heartbeats:n})).length}!function Lle(n){rp(new jd("platform-logger",e=>new Kae(e),"PRIVATE")),rp(new jd("heartbeat",e=>new Rle(e),"PRIVATE")),Ns(xy,MA,n),Ns(xy,MA,"esm2017"),Ns("fire-js","")}(""),Ns("firebase","10.14.1","app");class Ule extends Ri{constructor(e,t){super()}schedule(e,t=0){return this}}const Ny={setInterval(n,e,...t){const{delegate:r}=Ny;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Ny;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class i8 extends Ule{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Ny.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Ny.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Yc(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const o8={now:()=>(o8.delegate||Date).now(),delegate:void 0};class i_{constructor(e,t=i_.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}i_.now=o8.now;class s8 extends i_{constructor(e,t=i_.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const zle=new class jle extends s8{}(class Ble extends i8{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),LA=new s8(i8),$le=LA,FA=new Sf("ANGULARFIRE2_VERSION");const VA=(n,e)=>{const t=e?[e]:J6(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class qle{constructor(){return VA(Gle)}}const Gle="app-check";function ip(){}class l8{zone;delegate;constructor(e,t=zle){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},t,r)}}class Hle{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ip,{},ip,ip)),t.pipe(Oi({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let c8=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new l8(Zone.current)),this.insideAngular=t.run(()=>new l8(Zone.current,LA)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(ft(Bn))};static \u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function op(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Gd(n){return op().ngZone.run(()=>n())}function Kle(n){return function Qle(n){return function(t){return(t=t.lift(new Hle(n.ngZone))).pipe(p1(n.outsideAngular),f1(n.insideAngular))}}(op())(n)}const Yle=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Gd(()=>n.apply(void 0,r))},hl=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||=Gd(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ip,{},ip,ip))),r[o]=Yle(r[o],t));const i=function Wle(n){return op().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof ir){const o=op();return i.pipe(p1(o.outsideAngular),f1(o.insideAngular))}return Gd(()=>i)}return i instanceof ir?i.pipe(Kle):i instanceof Promise?Gd(()=>new Promise((o,s)=>i.then(a=>Gd(()=>o(a)),a=>Gd(()=>s(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Gd(()=>i)};class o_{constructor(e){return e}}class u8{constructor(){return J6()}}const UA=new at("angularfire2._apps"),Jle={provide:o_,useFactory:function Zle(n){return n&&1===n.length?n[0]:new o_(Z6())},deps:[[new Xs,UA]]},Xle={provide:u8,deps:[[new Xs,UA]]};function ece(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new o_(r)}}let tce=(()=>{class n{constructor(t){Ns("angularfire",FA.full,"core"),Ns("angularfire",FA.full,"app"),Ns("angular",wk.full,t.toString())}static \u0275fac=function(r){return new(r||n)(ft(Jl))};static \u0275mod=Jo({type:n});static \u0275inj=xo({providers:[Jle,Xle]})}return n})();function nce(n,...e){return{ngModule:tce,providers:[{provide:UA,useFactory:ece(n),multi:!0,deps:[Bn,fo,c8,...e]}]}}const rce=hl(Y6,!0);const ice=function d8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},h8=new Xm("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ry=new CA("@firebase/auth");function ky(n,...e){Ry.logLevel<=yn.ERROR&&Ry.error(`Auth (${My}): ${n}`,...e)}function ss(n,...e){throw jA(n,...e)}function aa(n,...e){return jA(n,...e)}function BA(n,e,t){const r=Object.assign(Object.assign({},ice()),{[e]:t});return new Xm("auth","Firebase",r).create(e,{appName:n.name})}function Li(n){return BA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jA(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return h8.create(n,...e)}function Je(n,e,...t){if(!n)throw jA(e,...t)}function fl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ky(e),new Error(e)}function pu(n,e){n||fl(e)}function f8(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function sce(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function zA(){return"http:"===f8()||"https:"===f8()}()||function mae(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class a_{constructor(e,t){this.shortDelay=e,this.longDelay=t,pu(t>e,"Short delay should be less than long delay!"),this.isMobile=function hae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yi())}()||function _ae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return sce()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class p8{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void fl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void fl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void fl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},cce=new a_(3e4,6e4);function yr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function br(n,e,t,r){return qA.apply(this,arguments)}function qA(){return(qA=(0,ie.A)(function*(n,e,t,r,i={}){return g8(n,i,(0,ie.A)(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=bA(Object.assign({key:n.config.apiKey},s)).slice(1),l=yield n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:e,headers:l},o);return function gae(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(c.referrerPolicy="no-referrer"),p8.fetch()(m8(n,n.config.apiHost,t,a),c)}))})).apply(this,arguments)}function g8(n,e,t){return GA.apply(this,arguments)}function GA(){return(GA=(0,ie.A)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},lce),e);try{const i=new dce(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw l_(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw l_(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===l)throw l_(n,"email-already-in-use",s);if("USER_DISABLED"===l)throw l_(n,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw BA(n,u,c);ss(n,u)}}catch(i){if(i instanceof uc)throw i;ss(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function m8(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function $A(n,e){pu(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class dce{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(aa(this.auth,"network-request-failed")),cce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function l_(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=aa(n,e,r);return i.customData._tokenResponse=t,i}function QA(){return(QA=(0,ie.A)(function*(n,e){return br(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function w8(n,e){return ZA.apply(this,arguments)}function ZA(){return(ZA=(0,ie.A)(function*(n,e){return br(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function c_(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function JA(){return(JA=(0,ie.A)(function*(n,e=!1){const t=Zi(n),r=yield t.getIdToken(e),i=Oy(r);Je(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:c_(XA(i.auth_time)),issuedAtTime:c_(XA(i.iat)),expirationTime:c_(XA(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function XA(n){return 1e3*Number(n)}function Oy(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return ky("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ty(t);return i?JSON.parse(i):(ky("Failed to decode base64 JWT payload"),null)}catch(i){return ky("Caught error parsing JWT payload as JSON",i?.toString()),null}}function I8(n){const e=Oy(n);return Je(e,"internal-error"),Je(typeof e.exp<"u","internal-error"),Je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function fc(n,e){return e5.apply(this,arguments)}function e5(){return(e5=(0,ie.A)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof uc&&function mce({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class _ce{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,ie.A)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,ie.A)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class t5{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=c_(this.lastLoginAt),this.creationTime=c_(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function u_(n){return n5.apply(this,arguments)}function n5(){return(n5=(0,ie.A)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield fc(n,w8(t,{idToken:r}));Je(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?E8(o.providerUserInfo):[],a=function yce(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,s),u=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new t5(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,d)})).apply(this,arguments)}function r5(){return(r5=(0,ie.A)(function*(n){const e=Zi(n);yield u_(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function E8(n){return n.map(e=>{var{providerId:t}=e,r=h1(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function i5(){return(i5=(0,ie.A)(function*(n,e){const t=yield g8(n,{},(0,ie.A)(function*(){const r=bA({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=m8(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",p8.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function o5(){return(o5=(0,ie.A)(function*(n,e){return br(n,"POST","/v2/accounts:revokeToken",yr(n,e))})).apply(this,arguments)}class ap{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Je(e.idToken,"internal-error"),Je(typeof e.idToken<"u","internal-error"),Je(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):I8(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Je(0!==e.length,"internal-error");const t=I8(e);this.updateTokensAndExpiration(e,null,t)}getToken(e){var t=this;return(0,ie.A)(function*(r,i=!1){return i||!t.accessToken||t.isExpired?(Je(t.refreshToken,r,"user-token-expired"),t.refreshToken?(yield t.refresh(r,t.refreshToken),t.accessToken):null):t.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,ie.A)(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function bce(n,e){return i5.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new ap;return r&&(Je("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(Je("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(Je("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ap,this.toJSON())}_performRefresh(){return fl("not implemented")}}function gu(n,e){Je("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class pc{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=h1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _ce(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new t5(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,ie.A)(function*(){const r=yield fc(t,t.stsTokenManager.getToken(t.auth,e));return Je(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function gce(n){return JA.apply(this,arguments)}(this,e)}reload(){return function vce(n){return r5.apply(this,arguments)}(this)}_assign(e){this!==e&&(Je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new pc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e){var t=this;return(0,ie.A)(function*(r,i=!1){let o=!1;r.idToken&&r.idToken!==t.stsTokenManager.accessToken&&(t.stsTokenManager.updateFromServerResponse(r),o=!0),i&&(yield u_(t)),yield t.auth._persistUserIfCurrent(t),o&&t.auth._notifyListenersIfCurrent(t)}).apply(this,arguments)}delete(){var e=this;return(0,ie.A)(function*(){if(qd(e.auth.app))return Promise.reject(Li(e.auth));const t=yield e.getIdToken();return yield fc(e,function fce(n,e){return QA.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,l,c,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,m=null!==(i=t.email)&&void 0!==i?i:void 0,p=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,b=null!==(s=t.photoURL)&&void 0!==s?s:void 0,w=null!==(a=t.tenantId)&&void 0!==a?a:void 0,E=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,C=null!==(c=t.createdAt)&&void 0!==c?c:void 0,k=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:B,emailVerified:F,isAnonymous:X,providerData:se,stsTokenManager:z}=t;Je(B&&z,e,"internal-error");const x=ap.fromJSON(this.name,z);Je("string"==typeof B,e,"internal-error"),gu(d,e.name),gu(m,e.name),Je("boolean"==typeof F,e,"internal-error"),Je("boolean"==typeof X,e,"internal-error"),gu(p,e.name),gu(b,e.name),gu(w,e.name),gu(E,e.name),gu(C,e.name),gu(k,e.name);const S=new pc({uid:B,auth:e,email:m,emailVerified:F,displayName:d,isAnonymous:X,photoURL:b,phoneNumber:p,tenantId:w,stsTokenManager:x,createdAt:C,lastLoginAt:k});return se&&Array.isArray(se)&&(S.providerData=se.map(V=>Object.assign({},V))),E&&(S._redirectEventId=E),S}static _fromIdTokenResponse(e,t){return(0,ie.A)(function*(r,i,o=!1){const s=new ap;s.updateFromServerResponse(i);const a=new pc({uid:i.localId,auth:r,stsTokenManager:s,isAnonymous:o});return yield u_(a),a}).apply(this,arguments)}static _fromGetAccountInfoResponse(e,t,r){return(0,ie.A)(function*(){const i=t.users[0];Je(void 0!==i.localId,"internal-error");const o=void 0!==i.providerUserInfo?E8(i.providerUserInfo):[],s=!(i.email&&i.passwordHash||o?.length),a=new ap;a.updateFromIdToken(r);const l=new pc({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new t5(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||o?.length)};return Object.assign(l,c),l})()}}const C8=new Map;function gc(n){pu(n instanceof Function,"Expected a class definition");let e=C8.get(n);return e?(pu(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,C8.set(n,e),e)}const A8=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ie.A)(function*(){return!0})()}_set(t,r){var i=this;return(0,ie.A)(function*(){i.storage[t]=r})()}_get(t){var r=this;return(0,ie.A)(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return(0,ie.A)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Ly(n,e,t){return`firebase:${n}:${e}:${t}`}class lp{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ly(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ly("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,ie.A)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?pc._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,ie.A)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t){return(0,ie.A)(function*(r,i,o="authUser"){if(!i.length)return new lp(gc(A8),r,o);const s=(yield Promise.all(i.map(function(){var d=(0,ie.A)(function*(m){if(yield m._isAvailable())return m});return function(m){return d.apply(this,arguments)}}()))).filter(d=>d);let a=s[0]||gc(A8);const l=Ly(o,r.config.apiKey,r.name);let c=null;for(const d of i)try{const m=yield d._get(l);if(m){const p=pc._fromJSON(r,m);d!==a&&(c=p),a=d;break}}catch{}const u=s.filter(d=>d._shouldAllowMigration);return a._shouldAllowMigration&&u.length?(a=u[0],c&&(yield a._set(l,c.toJSON())),yield Promise.all(i.map(function(){var d=(0,ie.A)(function*(m){if(m!==a)try{yield m._remove(l)}catch{}});return function(m){return d.apply(this,arguments)}}())),new lp(a,r,o)):new lp(a,r,o)}).apply(this,arguments)}}function T8(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function P8(n=Yi()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function S8(n=Yi()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function N8(n=Yi()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function R8(n=Yi()){return/webos/i.test(n)}(e))return"Webos";if(function D8(n=Yi()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function x8(n=Yi()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function M8(n=Yi()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function k8(n,e=[]){let t;switch(n){case"Browser":t=T8(Yi());break;case"Worker":t=`${T8(Yi())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${My}/${r}`}class Cce{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,ie.A)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function a5(){return(a5=(0,ie.A)(function*(n,e={}){return br(n,"GET","/v2/passwordPolicy",yr(n,e))})).apply(this,arguments)}class Sce{constructor(e){var t,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=null===(t=l.meetsMinPasswordLength)||void 0===t||t),l.isValid&&(l.isValid=null===(r=l.meetsMaxPasswordLength)||void 0===r||r),l.isValid&&(l.isValid=null===(i=l.containsLowercaseLetter)||void 0===i||i),l.isValid&&(l.isValid=null===(o=l.containsUppercaseLetter)||void 0===o||o),l.isValid&&(l.isValid=null===(s=l.containsNumericCharacter)||void 0===s||s),l.isValid&&(l.isValid=null===(a=l.containsNonAlphanumericCharacter)||void 0===a||a),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class Dce{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O8(this),this.idTokenSubscription=new O8(this),this.beforeStateQueue=new Cce(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h8,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=gc(t)),this._initializationPromise=this.queue((0,ie.A)(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield lp.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,ie.A)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return(0,ie.A)(function*(){try{const r=yield w8(t,{idToken:e}),i=yield pc._fromGetAccountInfoResponse(t,r,e);yield t.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return(0,ie.A)(function*(){var r;if(qd(t.app)){const a=t.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(a).then(l,l))}):t.directlySetCurrentUser(null)}const i=yield t.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=o?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(o=c.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return Je(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return(0,ie.A)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,ie.A)(function*(){try{yield u_(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function ace(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,ie.A)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,ie.A)(function*(){if(qd(t.app))return Promise.reject(Li(t));const r=e?Zi(e):null;return r&&Je(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e){var t=this;return(0,ie.A)(function*(r,i=!1){if(!t._deleted)return r&&Je(t.tenantId===r.tenantId,t,"tenant-id-mismatch"),i||(yield t.beforeStateQueue.runMiddleware(r)),t.queue((0,ie.A)(function*(){yield t.directlySetCurrentUser(r),t.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var e=this;return(0,ie.A)(function*(){return qd(e.app)?Promise.reject(Li(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return qd(this.app)?Promise.reject(Li(this)):this.queue((0,ie.A)(function*(){yield t.assertedPersistence.setPersistence(gc(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return(0,ie.A)(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,ie.A)(function*(){const t=yield function Ace(n){return a5.apply(this,arguments)}(e),r=new Sce(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xm("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return(0,ie.A)(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function wce(n,e){return o5.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,ie.A)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,ie.A)(function*(){if(!t.redirectPersistenceManager){const r=e&&gc(e)||t._popupRedirectResolver;Je(r,t,"argument-error"),t.redirectPersistenceManager=yield lp.create(t,[gc(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,ie.A)(function*(){var r,i;return t._isInitialized&&(yield t.queue((0,ie.A)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,ie.A)(function*(){if(e===t.currentUser)return t.queue((0,ie.A)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Je(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof t){const l=e.addObserver(t,r,i);return()=>{s=!0,l()}}{const l=e.addObserver(t);return()=>{s=!0,l()}}}directlySetCurrentUser(e){var t=this;return(0,ie.A)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=k8(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,ie.A)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return(0,ie.A)(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function oce(n,...e){Ry.logLevel<=yn.WARN&&Ry.warn(`Auth (${My}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class O8{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Iae(n,e){const t=new Eae(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let d_={loadJS:()=>(0,ie.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};(function L8(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new a_(3e4,6e4),new a_(2e3,1e4),new a_(3e4,6e4),new a_(5e3,15e3),encodeURIComponent("fac");var gV="@firebase/auth";class Nde{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,ie.A)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Sy(),function xce(n){d_=n}({loadJS:n=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=aa("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",function Vde(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function kde(n){rp(new jd("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Je(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k8(n)},c=new Dce(r,i,o,l);return function Fce(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(gc);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),rp(new jd("auth-internal",e=>{const t=function ii(n){return Zi(n)}(e.getProvider("auth").getImmediate());return new Nde(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ns(gV,"1.7.9",function Rde(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),Ns(gV,"1.7.9","esm2017")}("Browser");class yV{constructor(){return VA("auth")}}var Kd,IV,bV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wV={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(z,x,S){S||(S=0);var V=Array(16);if("string"==typeof x)for(var A=0;16>A;++A)V[A]=x.charCodeAt(S++)|x.charCodeAt(S++)<<8|x.charCodeAt(S++)<<16|x.charCodeAt(S++)<<24;else for(A=0;16>A;++A)V[A]=x[S++]|x[S++]<<8|x[S++]<<16|x[S++]<<24;var P=z.g[3],N=(x=z.g[0])+(P^(S=z.g[1])&((A=z.g[2])^P))+V[0]+3614090360&4294967295;N=(S=(A=(P=(x=(S=(A=(P=(x=(S=(A=(P=(x=(S=(A=(P=(x=(S=(A=(P=(x=(S=(A=(P=(x=(S=(A=(P=(x=(S=(A=(P=(x=(S=(A=(P=(x=(S=(A=(P=(x=(S=(A=(P=(x=(S=(A=(P=(x=(S=(A=(P=(x=(S=(A=(P=(x=(S=(A=(P=(x=S+(N<<7&4294967295|N>>>25))+((N=P+(A^x&(S^A))+V[1]+3905402710&4294967295)<<12&4294967295|N>>>20))+((N=A+(S^P&(x^S))+V[2]+606105819&4294967295)<<17&4294967295|N>>>15))+((N=S+(x^A&(P^x))+V[3]+3250441966&4294967295)<<22&4294967295|N>>>10))+((N=x+(P^S&(A^P))+V[4]+4118548399&4294967295)<<7&4294967295|N>>>25))+((N=P+(A^x&(S^A))+V[5]+1200080426&4294967295)<<12&4294967295|N>>>20))+((N=A+(S^P&(x^S))+V[6]+2821735955&4294967295)<<17&4294967295|N>>>15))+((N=S+(x^A&(P^x))+V[7]+4249261313&4294967295)<<22&4294967295|N>>>10))+((N=x+(P^S&(A^P))+V[8]+1770035416&4294967295)<<7&4294967295|N>>>25))+((N=P+(A^x&(S^A))+V[9]+2336552879&4294967295)<<12&4294967295|N>>>20))+((N=A+(S^P&(x^S))+V[10]+4294925233&4294967295)<<17&4294967295|N>>>15))+((N=S+(x^A&(P^x))+V[11]+2304563134&4294967295)<<22&4294967295|N>>>10))+((N=x+(P^S&(A^P))+V[12]+1804603682&4294967295)<<7&4294967295|N>>>25))+((N=P+(A^x&(S^A))+V[13]+4254626195&4294967295)<<12&4294967295|N>>>20))+((N=A+(S^P&(x^S))+V[14]+2792965006&4294967295)<<17&4294967295|N>>>15))+((N=S+(x^A&(P^x))+V[15]+1236535329&4294967295)<<22&4294967295|N>>>10))+((N=x+(A^P&(S^A))+V[1]+4129170786&4294967295)<<5&4294967295|N>>>27))+((N=P+(S^A&(x^S))+V[6]+3225465664&4294967295)<<9&4294967295|N>>>23))+((N=A+(x^S&(P^x))+V[11]+643717713&4294967295)<<14&4294967295|N>>>18))+((N=S+(P^x&(A^P))+V[0]+3921069994&4294967295)<<20&4294967295|N>>>12))+((N=x+(A^P&(S^A))+V[5]+3593408605&4294967295)<<5&4294967295|N>>>27))+((N=P+(S^A&(x^S))+V[10]+38016083&4294967295)<<9&4294967295|N>>>23))+((N=A+(x^S&(P^x))+V[15]+3634488961&4294967295)<<14&4294967295|N>>>18))+((N=S+(P^x&(A^P))+V[4]+3889429448&4294967295)<<20&4294967295|N>>>12))+((N=x+(A^P&(S^A))+V[9]+568446438&4294967295)<<5&4294967295|N>>>27))+((N=P+(S^A&(x^S))+V[14]+3275163606&4294967295)<<9&4294967295|N>>>23))+((N=A+(x^S&(P^x))+V[3]+4107603335&4294967295)<<14&4294967295|N>>>18))+((N=S+(P^x&(A^P))+V[8]+1163531501&4294967295)<<20&4294967295|N>>>12))+((N=x+(A^P&(S^A))+V[13]+2850285829&4294967295)<<5&4294967295|N>>>27))+((N=P+(S^A&(x^S))+V[2]+4243563512&4294967295)<<9&4294967295|N>>>23))+((N=A+(x^S&(P^x))+V[7]+1735328473&4294967295)<<14&4294967295|N>>>18))+((N=S+(P^x&(A^P))+V[12]+2368359562&4294967295)<<20&4294967295|N>>>12))+((N=x+(S^A^P)+V[5]+4294588738&4294967295)<<4&4294967295|N>>>28))+((N=P+(x^S^A)+V[8]+2272392833&4294967295)<<11&4294967295|N>>>21))+((N=A+(P^x^S)+V[11]+1839030562&4294967295)<<16&4294967295|N>>>16))+((N=S+(A^P^x)+V[14]+4259657740&4294967295)<<23&4294967295|N>>>9))+((N=x+(S^A^P)+V[1]+2763975236&4294967295)<<4&4294967295|N>>>28))+((N=P+(x^S^A)+V[4]+1272893353&4294967295)<<11&4294967295|N>>>21))+((N=A+(P^x^S)+V[7]+4139469664&4294967295)<<16&4294967295|N>>>16))+((N=S+(A^P^x)+V[10]+3200236656&4294967295)<<23&4294967295|N>>>9))+((N=x+(S^A^P)+V[13]+681279174&4294967295)<<4&4294967295|N>>>28))+((N=P+(x^S^A)+V[0]+3936430074&4294967295)<<11&4294967295|N>>>21))+((N=A+(P^x^S)+V[3]+3572445317&4294967295)<<16&4294967295|N>>>16))+((N=S+(A^P^x)+V[6]+76029189&4294967295)<<23&4294967295|N>>>9))+((N=x+(S^A^P)+V[9]+3654602809&4294967295)<<4&4294967295|N>>>28))+((N=P+(x^S^A)+V[12]+3873151461&4294967295)<<11&4294967295|N>>>21))+((N=A+(P^x^S)+V[15]+530742520&4294967295)<<16&4294967295|N>>>16))+((N=S+(A^P^x)+V[2]+3299628645&4294967295)<<23&4294967295|N>>>9))+((N=x+(A^(S|~P))+V[0]+4096336452&4294967295)<<6&4294967295|N>>>26))+((N=P+(S^(x|~A))+V[7]+1126891415&4294967295)<<10&4294967295|N>>>22))+((N=A+(x^(P|~S))+V[14]+2878612391&4294967295)<<15&4294967295|N>>>17))+((N=S+(P^(A|~x))+V[5]+4237533241&4294967295)<<21&4294967295|N>>>11))+((N=x+(A^(S|~P))+V[12]+1700485571&4294967295)<<6&4294967295|N>>>26))+((N=P+(S^(x|~A))+V[3]+2399980690&4294967295)<<10&4294967295|N>>>22))+((N=A+(x^(P|~S))+V[10]+4293915773&4294967295)<<15&4294967295|N>>>17))+((N=S+(P^(A|~x))+V[1]+2240044497&4294967295)<<21&4294967295|N>>>11))+((N=x+(A^(S|~P))+V[8]+1873313359&4294967295)<<6&4294967295|N>>>26))+((N=P+(S^(x|~A))+V[15]+4264355552&4294967295)<<10&4294967295|N>>>22))+((N=A+(x^(P|~S))+V[6]+2734768916&4294967295)<<15&4294967295|N>>>17))+((N=S+(P^(A|~x))+V[13]+1309151649&4294967295)<<21&4294967295|N>>>11))+((P=(x=S+((N=x+(A^(S|~P))+V[4]+4149444226&4294967295)<<6&4294967295|N>>>26))+((N=P+(S^(x|~A))+V[11]+3174756917&4294967295)<<10&4294967295|N>>>22))^((A=P+((N=A+(x^(P|~S))+V[2]+718787259&4294967295)<<15&4294967295|N>>>17))|~x))+V[9]+3951481745&4294967295,z.g[0]=z.g[0]+x&4294967295,z.g[1]=z.g[1]+(A+(N<<21&4294967295|N>>>11))&4294967295,z.g[2]=z.g[2]+A&4294967295,z.g[3]=z.g[3]+P&4294967295}function s(z,x){this.h=x;for(var S=[],V=!0,A=z.length-1;0<=A;A--){var P=0|z[A];V&&P==x||(S[A]=P,V=!1)}this.g=S}(function e(z,x){function S(){}S.prototype=x.prototype,z.D=x.prototype,z.prototype=new S,z.prototype.constructor=z,z.C=function(V,A,P){for(var N=Array(arguments.length-2),te=2;te<arguments.length;te++)N[te-2]=arguments[te];return x.prototype[A].apply(V,N)}})(r,function t(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(z,x){void 0===x&&(x=z.length);for(var S=x-this.blockSize,V=this.B,A=this.h,P=0;P<x;){if(0==A)for(;P<=S;)i(this,z,P),P+=this.blockSize;if("string"==typeof z){for(;P<x;)if(V[A++]=z.charCodeAt(P++),A==this.blockSize){i(this,V),A=0;break}}else for(;P<x;)if(V[A++]=z[P++],A==this.blockSize){i(this,V),A=0;break}}this.h=A,this.o+=x},r.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var x=1;x<z.length-8;++x)z[x]=0;var S=8*this.o;for(x=z.length-8;x<z.length;++x)z[x]=255&S,S/=256;for(this.u(z),z=Array(16),x=S=0;4>x;++x)for(var V=0;32>V;V+=8)z[S++]=this.g[x]>>>V&255;return z};var a={};function l(z){return-128<=z&&128>z?function o(z,x){var S=a;return Object.prototype.hasOwnProperty.call(S,z)?S[z]:S[z]=x(z)}(z,function(x){return new s([0|x],0>x?-1:0)}):new s([0|z],0>z?-1:0)}function c(z){if(isNaN(z)||!isFinite(z))return d;if(0>z)return E(c(-z));for(var x=[],S=1,V=0;z>=S;V++)x[V]=z/S|0,S*=4294967296;return new s(x,0)}var d=l(0),m=l(1),p=l(16777216);function b(z){if(0!=z.h)return!1;for(var x=0;x<z.g.length;x++)if(0!=z.g[x])return!1;return!0}function w(z){return-1==z.h}function E(z){for(var x=z.g.length,S=[],V=0;V<x;V++)S[V]=~z.g[V];return new s(S,~z.h).add(m)}function C(z,x){return z.add(E(x))}function k(z,x){for(;(65535&z[x])!=z[x];)z[x+1]+=z[x]>>>16,z[x]&=65535,x++}function B(z,x){this.g=z,this.h=x}function F(z,x){if(b(x))throw Error("division by zero");if(b(z))return new B(d,d);if(w(z))return x=F(E(z),x),new B(E(x.g),E(x.h));if(w(x))return x=F(z,E(x)),new B(E(x.g),x.h);if(30<z.g.length){if(w(z)||w(x))throw Error("slowDivide_ only works with positive integers.");for(var S=m,V=x;0>=V.l(z);)S=X(S),V=X(V);var A=se(S,1),P=se(V,1);for(V=se(V,2),S=se(S,2);!b(V);){var N=P.add(V);0>=N.l(z)&&(A=A.add(S),P=N),V=se(V,1),S=se(S,1)}return x=C(z,A.j(x)),new B(A,x)}for(A=d;0<=z.l(x);){for(S=Math.max(1,Math.floor(z.m()/x.m())),V=48>=(V=Math.ceil(Math.log(S)/Math.LN2))?1:Math.pow(2,V-48),N=(P=c(S)).j(x);w(N)||0<N.l(z);)N=(P=c(S-=V)).j(x);b(P)&&(P=m),A=A.add(P),z=C(z,N)}return new B(A,z)}function X(z){for(var x=z.g.length+1,S=[],V=0;V<x;V++)S[V]=z.i(V)<<1|z.i(V-1)>>>31;return new s(S,z.h)}function se(z,x){var S=x>>5;x%=32;for(var V=z.g.length-S,A=[],P=0;P<V;P++)A[P]=0<x?z.i(P+S)>>>x|z.i(P+S+1)<<32-x:z.i(P+S);return new s(A,z.h)}(n=s.prototype).m=function(){if(w(this))return-E(this).m();for(var z=0,x=1,S=0;S<this.g.length;S++){var V=this.i(S);z+=(0<=V?V:4294967296+V)*x,x*=4294967296}return z},n.toString=function(z){if(2>(z=z||10)||36<z)throw Error("radix out of range: "+z);if(b(this))return"0";if(w(this))return"-"+E(this).toString(z);for(var x=c(Math.pow(z,6)),S=this,V="";;){var A=F(S,x).g,P=((0<(S=C(S,A.j(x))).g.length?S.g[0]:S.h)>>>0).toString(z);if(b(S=A))return P+V;for(;6>P.length;)P="0"+P;V=P+V}},n.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h},n.l=function(z){return w(z=C(this,z))?-1:b(z)?0:1},n.abs=function(){return w(this)?E(this):this},n.add=function(z){for(var x=Math.max(this.g.length,z.g.length),S=[],V=0,A=0;A<=x;A++){var P=V+(65535&this.i(A))+(65535&z.i(A)),N=(P>>>16)+(this.i(A)>>>16)+(z.i(A)>>>16);V=N>>>16,S[A]=(N&=65535)<<16|(P&=65535)}return new s(S,-2147483648&S[S.length-1]?-1:0)},n.j=function(z){if(b(this)||b(z))return d;if(w(this))return w(z)?E(this).j(E(z)):E(E(this).j(z));if(w(z))return E(this.j(E(z)));if(0>this.l(p)&&0>z.l(p))return c(this.m()*z.m());for(var x=this.g.length+z.g.length,S=[],V=0;V<2*x;V++)S[V]=0;for(V=0;V<this.g.length;V++)for(var A=0;A<z.g.length;A++){var P=this.i(V)>>>16,N=65535&this.i(V),te=z.i(A)>>>16,me=65535&z.i(A);S[2*V+2*A]+=N*me,k(S,2*V+2*A),S[2*V+2*A+1]+=P*me,k(S,2*V+2*A+1),S[2*V+2*A+1]+=N*te,k(S,2*V+2*A+1),S[2*V+2*A+2]+=P*te,k(S,2*V+2*A+2)}for(V=0;V<x;V++)S[V]=S[2*V+1]<<16|S[2*V];for(V=x;V<2*x;V++)S[V]=0;return new s(S,0)},n.A=function(z){return F(this,z).h},n.and=function(z){for(var x=Math.max(this.g.length,z.g.length),S=[],V=0;V<x;V++)S[V]=this.i(V)&z.i(V);return new s(S,this.h&z.h)},n.or=function(z){for(var x=Math.max(this.g.length,z.g.length),S=[],V=0;V<x;V++)S[V]=this.i(V)|z.i(V);return new s(S,this.h|z.h)},n.xor=function(z){for(var x=Math.max(this.g.length,z.g.length),S=[],V=0;V<x;V++)S[V]=this.i(V)^z.i(V);return new s(S,this.h^z.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,IV=wV.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=function u(z,x){if(0==z.length)throw Error("number format error: empty string");if(2>(x=x||10)||36<x)throw Error("radix out of range: "+x);if("-"==z.charAt(0))return E(u(z.substring(1),x));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(x,8)),V=d,A=0;A<z.length;A+=8){var P=Math.min(8,z.length-A),N=parseInt(z.substring(A,A+P),x);8>P?(P=c(Math.pow(x,P)),V=V.j(P).add(c(N))):V=(V=V.j(S)).add(c(N))}return V},Kd=wV.Integer=s}).apply(typeof bV<"u"?bV:typeof self<"u"?self:typeof window<"u"?window:{});var EV,y_,CV,Qy,ZT,AV,TV,SV,Ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vc={};(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(f,y,T){return f==Array.prototype||f==Object.prototype||(f[y]=T.value),f},r=function t(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ky&&Ky];for(var y=0;y<f.length;++y){var T=f[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}(this);!function i(f,y){if(y)e:{var T=r;f=f.split(".");for(var $=0;$<f.length-1;$++){var ce=f[$];if(!(ce in T))break e;T=T[ce]}(y=y($=T[f=f[f.length-1]]))!=$&&null!=y&&e(T,f,{configurable:!0,writable:!0,value:y})}}("Array.prototype.values",function(f){return f||function(){return function o(f,y){f instanceof String&&(f+="");var T=0,$=!1,ce={next:function(){if(!$&&T<f.length){var we=T++;return{value:y(we,f[we]),done:!1}}return $=!0,{done:!0,value:void 0}}};return ce[Symbol.iterator]=function(){return ce},ce}(this,function(y,T){return T})}});var s=s||{},a=this||self;function l(f){var y=typeof f;return"array"==(y="object"!=y?y:f?Array.isArray(f)?"array":y:"null")||"object"==y&&"number"==typeof f.length}function c(f){var y=typeof f;return"object"==y&&null!=f||"function"==y}function u(f,y,T){return f.call.apply(f.bind,arguments)}function d(f,y,T){if(!f)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var ce=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ce,$),f.apply(y,ce)}}return function(){return f.apply(y,arguments)}}function m(f,y,T){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?u:d).apply(null,arguments)}function p(f,y){var T=Array.prototype.slice.call(arguments,1);return function(){var $=T.slice();return $.push.apply($,arguments),f.apply(this,$)}}function b(f,y){function T(){}T.prototype=y.prototype,f.aa=y.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function($,ce,we){for(var Ke=Array(arguments.length-2),Mn=2;Mn<arguments.length;Mn++)Ke[Mn-2]=arguments[Mn];return y.prototype[ce].apply($,Ke)}}function w(f){const y=f.length;if(0<y){const T=Array(y);for(let $=0;$<y;$++)T[$]=f[$];return T}return[]}function E(f,y){for(let T=1;T<arguments.length;T++){const $=arguments[T];if(l($)){const ce=f.length||0,we=$.length||0;f.length=ce+we;for(let Ke=0;Ke<we;Ke++)f[ce+Ke]=$[Ke]}else f.push($)}}function k(f){return/^[\s\xa0]*$/.test(f)}function B(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function F(f){return F[" "](f),f}F[" "]=function(){};var X=!(-1==B().indexOf("Gecko")||-1!=B().toLowerCase().indexOf("webkit")&&-1==B().indexOf("Edge")||-1!=B().indexOf("Trident")||-1!=B().indexOf("MSIE")||-1!=B().indexOf("Edge"));function se(f,y,T){for(const $ in f)y.call(T,f[$],$,f)}function x(f){const y={};for(const T in f)y[T]=f[T];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(f,y){let T,$;for(let ce=1;ce<arguments.length;ce++){for(T in $=arguments[ce],$)f[T]=$[T];for(let we=0;we<S.length;we++)T=S[we],Object.prototype.hasOwnProperty.call($,T)&&(f[T]=$[T])}}function A(f){var y=1;f=f.split(":");const T=[];for(;0<y&&f.length;)T.push(f.shift()),y--;return f.length&&T.push(f.join(":")),T}function P(f){a.setTimeout(()=>{throw f},0)}function N(){var f=Te;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}var me=new class C{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}(()=>new Ae,f=>f.reset());class Ae{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,ge=!1,Te=new class te{constructor(){this.h=this.g=null}add(y,T){const $=me.get();$.set(y,T),this.h?this.h.next=$:this.g=$,this.h=$}},Ge=()=>{const f=a.Promise.resolve(void 0);Ce=()=>{f.then(Oe)}};var Oe=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(T){P(T)}var y=me;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}ge=!1};function U(){this.s=this.s,this.C=this.C}function K(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},K.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};a.addEventListener("test",T,y),a.removeEventListener("test",T,y)}catch{}return f}();function re(f,y){if(K.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,$=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(X){e:{try{F(y.nodeName);var ce=!0;break e}catch{}ce=!1}ce||(y=null)}}else"mouseover"==T?y=f.fromElement:"mouseout"==T&&(y=f.toElement);this.relatedTarget=y,$?(this.clientX=void 0!==$.clientX?$.clientX:$.pageX,this.clientY=void 0!==$.clientY?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType="string"==typeof f.pointerType?f.pointerType:le[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&re.aa.h.call(this)}}b(re,K);var le={2:"touch",3:"pen",4:"mouse"};re.prototype.h=function(){re.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),be=0;function Ee(f,y,T,$,ce){this.listener=f,this.proxy=null,this.src=y,this.type=T,this.capture=!!$,this.ha=ce,this.key=++be,this.da=this.fa=!1}function Pe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function De(f){this.src=f,this.g={},this.h=0}function Ze(f,y){var T=y.type;if(T in f.g){var we,$=f.g[T],ce=Array.prototype.indexOf.call($,y,void 0);(we=0<=ce)&&Array.prototype.splice.call($,ce,1),we&&(Pe(y),0==f.g[T].length&&(delete f.g[T],f.h--))}}function Ye(f,y,T,$){for(var ce=0;ce<f.length;++ce){var we=f[ce];if(!we.da&&we.listener==y&&we.capture==!!T&&we.ha==$)return ce}return-1}De.prototype.add=function(f,y,T,$,ce){var we=f.toString();(f=this.g[we])||(f=this.g[we]=[],this.h++);var Ke=Ye(f,y,$,ce);return-1<Ke?(y=f[Ke],T||(y.fa=!1)):((y=new Ee(y,this.src,we,!!$,ce)).fa=T,f.push(y)),y};var Se="closure_lm_"+(1e6*Math.random()|0),J={};function ln(f,y,T,$,ce){if($&&$.once)return $e(f,y,T,$,ce);if(Array.isArray(y)){for(var we=0;we<y.length;we++)ln(f,y[we],T,$,ce);return null}return T=Ot(T),f&&f[de]?f.K(y,T,c($)?!!$.capture:!!$,ce):Bt(f,y,T,!1,$,ce)}function Bt(f,y,T,$,ce,we){if(!y)throw Error("Invalid event type");var Ke=c(ce)?!!ce.capture:!!ce,Mn=cn(f);if(Mn||(f[Se]=Mn=new De(f)),(T=Mn.add(y,T,$,Ke,we)).proxy)return T;if($=function Dt(){const y=Et;return function f(T){return y.call(f.src,f.listener,T)}}(),T.proxy=$,$.src=f,$.listener=T,f.addEventListener)ee||(ce=Ke),void 0===ce&&(ce=!1),f.addEventListener(y.toString(),$,ce);else if(f.attachEvent)f.attachEvent(jt(y.toString()),$);else{if(!f.addListener||!f.removeListener)throw Error("addEventListener and attachEvent are unavailable.");f.addListener($)}return T}function $e(f,y,T,$,ce){if(Array.isArray(y)){for(var we=0;we<y.length;we++)$e(f,y[we],T,$,ce);return null}return T=Ot(T),f&&f[de]?f.L(y,T,c($)?!!$.capture:!!$,ce):Bt(f,y,T,!0,$,ce)}function mt(f,y,T,$,ce){if(Array.isArray(y))for(var we=0;we<y.length;we++)mt(f,y[we],T,$,ce);else $=c($)?!!$.capture:!!$,T=Ot(T),f&&f[de]?(f=f.i,(y=String(y).toString())in f.g&&-1<(T=Ye(we=f.g[y],T,$,ce))&&(Pe(we[T]),Array.prototype.splice.call(we,T,1),0==we.length&&(delete f.g[y],f.h--))):f&&(f=cn(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Ye(y,T,$,ce)),(T=-1<f?y[f]:null)&&et(T))}function et(f){if("number"!=typeof f&&f&&!f.da){var y=f.src;if(y&&y[de])Ze(y.i,f);else{var T=f.type,$=f.proxy;y.removeEventListener?y.removeEventListener(T,$,f.capture):y.detachEvent?y.detachEvent(jt(T),$):y.addListener&&y.removeListener&&y.removeListener($),(T=cn(y))?(Ze(T,f),0==T.h&&(T.src=null,y[Se]=null)):Pe(f)}}}function jt(f){return f in J?J[f]:J[f]="on"+f}function Et(f,y){if(f.da)f=!0;else{y=new re(y,this);var T=f.listener,$=f.ha||f.src;f.fa&&et(f),f=T.call($,y)}return f}function cn(f){return(f=f[Se])instanceof De?f:null}var Mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ot(f){return"function"==typeof f?f:(f[Mt]||(f[Mt]=function(y){return f.handleEvent(y)}),f[Mt])}function Wt(){U.call(this),this.i=new De(this),this.M=this,this.F=null}function yt(f,y){var T,$=f.F;if($)for(T=[];$;$=$.F)T.push($);if(f=f.M,$=y.type||y,"string"==typeof y)y=new K(y,f);else if(y instanceof K)y.target=y.target||f;else{var ce=y;V(y=new K($,f),ce)}if(ce=!0,T)for(var we=T.length-1;0<=we;we--){var Ke=y.g=T[we];ce=pt(Ke,$,!0,y)&&ce}if(ce=pt(Ke=y.g=f,$,!0,y)&&ce,ce=pt(Ke,$,!1,y)&&ce,T)for(we=0;we<T.length;we++)ce=pt(Ke=y.g=T[we],$,!1,y)&&ce}function pt(f,y,T,$){if(!(y=f.i.g[String(y)]))return!0;y=y.concat();for(var ce=!0,we=0;we<y.length;++we){var Ke=y[we];if(Ke&&!Ke.da&&Ke.capture==T){var Mn=Ke.listener,zr=Ke.ha||Ke.src;Ke.fa&&Ze(f.i,Ke),ce=!1!==Mn.call(zr,$)&&ce}}return ce&&!$.defaultPrevented}function Nt(f,y,T){if("function"==typeof f)T&&(f=m(f,T));else{if(!f||"function"!=typeof f.handleEvent)throw Error("Invalid listener argument");f=m(f.handleEvent,f)}return 2147483647<Number(y)?-1:a.setTimeout(f,y||0)}function bt(f){f.g=Nt(()=>{f.g=null,f.i&&(f.i=!1,bt(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}b(Wt,U),Wt.prototype[de]=!0,Wt.prototype.removeEventListener=function(f,y,T,$){mt(this,f,y,T,$)},Wt.prototype.N=function(){if(Wt.aa.N.call(this),this.i){var y,f=this.i;for(y in f.g){for(var T=f.g[y],$=0;$<T.length;$++)Pe(T[$]);delete f.g[y],f.h--}}this.F=null},Wt.prototype.K=function(f,y,T,$){return this.i.add(String(f),y,!1,T,$)},Wt.prototype.L=function(f,y,T,$){return this.i.add(String(f),y,!0,T,$)};class Vn extends U{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:bt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pn(f){U.call(this),this.h=f,this.g={}}b(pn,U);var He=[];function At(f){se(f.g,function(y,T){this.g.hasOwnProperty(T)&&et(y)},f),f.g={}}pn.prototype.N=function(){pn.aa.N.call(this),At(this)},pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kt=a.JSON.stringify,Tt=a.JSON.parse,rn=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function wt(){}function Er(){}wt.prototype.h=null;var En={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rt(){K.call(this,"d")}function vn(){K.call(this,"c")}b(Rt,K),b(vn,K);var ro={},Kr=null;function Co(){return Kr=Kr||new Wt}function zi(f){K.call(this,ro.La,f)}function xt(f){const y=Co();yt(y,new zi(y))}function fa(f,y){K.call(this,ro.STAT_EVENT,f),this.stat=y}function Cr(f){const y=Co();yt(y,new fa(y,f))}function $o(f,y){K.call(this,ro.Ma,f),this.size=y}function $i(f,y){if("function"!=typeof f)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},y)}function er(){this.g=!0}function ds(f,y,T,$){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+function Fs(f,y){if(!f.g)return y;if(!y)return null;try{var T=JSON.parse(y);if(T)for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var $=T[f];if(!(2>$.length)){var ce=$[1];if(Array.isArray(ce)&&!(1>ce.length)){var we=ce[0];if("noop"!=we&&"stop"!=we&&"close"!=we)for(var Ke=1;Ke<ce.length;Ke++)ce[Ke]=""}}}return Kt(T)}catch{return y}}(f,T)+($?" "+$:"")})}ro.La="serverreachability",b(zi,K),ro.STAT_EVENT="statevent",b(fa,K),ro.Ma="timingevent",b($o,K),er.prototype.xa=function(){this.g=!1},er.prototype.info=function(){};var Go,qo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function io(){}function Ao(f,y,T,$){this.j=f,this.i=y,this.l=T,this.R=$||1,this.U=new pn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vs}function Vs(){this.i=null,this.g="",this.h=!1}b(io,wt),io.prototype.g=function(){return new XMLHttpRequest},io.prototype.i=function(){return{}},Go=new io;var Nl={},Rl={};function kl(f,y,T){f.L=1,f.v=Oc(Bs(y)),f.m=T,f.P=!0,Pc(f,null)}function Pc(f,y){f.F=Date.now(),Mc(f),f.A=Bs(f.v);var T=f.A,$=f.R;Array.isArray($)||($=[String($)]),Tg(T.i,"t",$),f.C=0,T=f.j.J,f.h=new Vs,f.g=jr(f.j,T?y:null,!f.m),0<f.O&&(f.M=new Vn(m(f.Y,f,f.g),f.O)),y=f.U,T=f.g,$=f.ca;var ce="readystatechange";Array.isArray(ce)||(ce&&(He[0]=ce.toString()),ce=He);for(var we=0;we<ce.length;we++){var Ke=ln(T,ce[we],$||y.handleEvent,!1,y.h||y);if(!Ke)break;y.g[Ke.key]=Ke}y=f.H?x(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),xt(),function bi(f,y,T,$,ce,we){f.info(function(){if(f.g)if(we)for(var Ke="",Mn=we.split("&"),zr=0;zr<Mn.length;zr++){var Pt=Mn[zr].split("=");if(1<Pt.length){var _r=Pt[0];Pt=Pt[1];var $r=_r.split("_");Ke=2<=$r.length&&"type"==$r[1]?Ke+(_r+"=")+Pt+"&":Ke+(_r+"=redacted&")}}else Ke=null;else Ke=we;return"XMLHTTP REQ ("+$+") [attempt "+ce+"]: "+y+"\n"+T+"\n"+Ke})}(f.i,f.u,f.A,f.l,f.R,f.m)}function Eg(f){return!!f.g&&"GET"==f.u&&2!=f.L&&f.j.Ca}function Nh(f,y){var T=f.C,$=y.indexOf("\n",T);return-1==$?Rl:(T=Number(y.substring(T,$)),isNaN(T)?Nl:($+=1)+T>y.length?Rl:(y=y.slice($,$+T),f.C=$+T,y))}function Mc(f){f.S=Date.now()+f.I,Rh(f,f.I)}function Rh(f,y){if(null!=f.B)throw Error("WatchDog timer not null");f.B=$i(m(f.ba,f),y)}function To(f){f.B&&(a.clearTimeout(f.B),f.B=null)}function za(f){0==f.j.G||f.J||xn(f.j,f)}function pa(f){To(f);var y=f.M;y&&"function"==typeof y.ma&&y.ma(),f.M=null,At(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function Nc(f,y){try{var T=f.j;if(0!=T.G&&(T.g==f||Lh(T.h,f)))if(!f.K&&Lh(T.h,f)&&3==T.G){try{var $=T.Da.g.parse(y)}catch{$=null}if(Array.isArray($)&&3==$.length){var ce=$;if(0==ce[0]){e:if(!T.u){if(T.g){if(!(T.g.F+3e3<f.F))break e;Ft(T),zc(T)}st(T),Cr(18)}}else T.za=ce[1],0<T.za-T.T&&37500>ce[2]&&T.F&&0==T.v&&!T.C&&(T.C=$i(m(T.Za,T),6e3));if(1>=Rc(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else nr(T,11)}else if((f.K||T.g==f)&&Ft(T),!k(y))for(ce=T.Da.g.parse(y),y=0;y<ce.length;y++){let Pt=ce[y];if(T.T=Pt[0],Pt=Pt[1],2==T.G)if("c"==Pt[0]){T.K=Pt[1],T.ia=Pt[2];const _r=Pt[3];null!=_r&&(T.la=_r,T.j.info("VER="+T.la));const $r=Pt[4];null!=$r&&(T.Aa=$r,T.j.info("SVER="+T.Aa));const Ka=Pt[5];null!=Ka&&"number"==typeof Ka&&0<Ka&&(T.L=$=1.5*Ka,T.j.info("backChannelRequestTimeoutMs_="+$)),$=T;const Lr=f.g;if(Lr){const ba=Lr.g?Lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ba){var we=$.h;we.g||-1==ba.indexOf("spdy")&&-1==ba.indexOf("quic")&&-1==ba.indexOf("h2")||(we.j=we.l,we.g=new Set,we.h&&(Or(we,we.h),we.h=null))}if($.D){const qc=Lr.g?Lr.g.getResponseHeader("X-HTTP-Session-Id"):null;qc&&($.ya=qc,zn($.I,$.D,qc))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms"));var Ke=f;if(($=T).qa=Qr($,$.J?$.ia:null,$.W),Ke.K){Fh($.h,Ke);var Mn=Ke,zr=$.L;zr&&(Mn.I=zr),Mn.B&&(To(Mn),Mc(Mn)),$.g=Ke}else Ve($);0<T.i.length&&R(T)}else"stop"!=Pt[0]&&"close"!=Pt[0]||nr(T,7);else 3==T.G&&("stop"==Pt[0]||"close"==Pt[0]?"stop"==Pt[0]?nr(T,7):Wa(T):"noop"!=Pt[0]&&T.l&&T.l.ta(Pt),T.v=0)}xt()}catch{}}function kh(f){this.l=f||10,f=a.PerformanceNavigationTiming?0<(f=a.performance.getEntriesByType("navigation")).length&&("hq"==f[0].nextHopProtocol||"h2"==f[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oh(f){return!!f.h||!!f.g&&f.g.size>=f.j}function Rc(f){return f.h?1:f.g?f.g.size:0}function Lh(f,y){return f.h?f.h==y:!!f.g&&f.g.has(y)}function Or(f,y){f.g?f.g.add(y):f.h=y}function Fh(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}function Vh(f){if(null!=f.h)return f.i.concat(f.h.D);if(null!=f.g&&0!==f.g.size){let y=f.i;for(const T of f.g.values())y=y.concat(T.D);return y}return w(f.i)}function fs(f,y){if(f.forEach&&"function"==typeof f.forEach)f.forEach(y,void 0);else if(l(f)||"string"==typeof f)Array.prototype.forEach.call(f,y,void 0);else for(var T=function kc(f){if(f.na&&"function"==typeof f.na)return f.na();if(!f.V||"function"!=typeof f.V){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||"string"==typeof f){var y=[];f=f.length;for(var T=0;T<f;T++)y.push(T);return y}y=[],T=0;for(const $ in f)y[T++]=$;return y}}}(f),$=function $a(f){if(f.V&&"function"==typeof f.V)return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if("string"==typeof f)return f.split("");if(l(f)){for(var y=[],T=f.length,$=0;$<T;$++)y.push(f[$]);return y}for($ in y=[],T=0,f)y[T++]=f[$];return y}(f),ce=$.length,we=0;we<ce;we++)y.call(void 0,$[we],T&&T[we],f)}Ao.prototype.ca=function(f){f=f.target;const y=this.M;y&&3==gs(f)?y.j():this.Y(f)},Ao.prototype.Y=function(f){try{if(f==this.g)e:{const $r=gs(this.g);var y=this.g.Ba();if(this.g.Z(),!(3>$r)&&(3!=$r||this.g&&(this.h.h||this.g.oa()||ya(this.g)))){this.J||4!=$r||7==y||xt(),To(this);var T=this.g.Z();this.X=T;t:if(Eg(this)){var $=ya(this.g);f="";var ce=$.length,we=4==gs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){pa(this),za(this);var Ke="";break t}this.h.i=new a.TextDecoder}for(y=0;y<ce;y++)this.h.h=!0,f+=this.h.i.decode($[y],{stream:!(we&&y==ce-1)});$.length=0,this.h.g+=f,this.C=0,Ke=this.h.g}else Ke=this.g.oa();if(this.o=200==T,function Di(f,y,T,$,ce,we,Ke){f.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+ce+"]: "+y+"\n"+T+"\n"+we+" "+Ke})}(this.i,this.u,this.A,this.l,this.R,$r,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Mn,zr=this.g;if((Mn=zr.g?zr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(Mn)){var Pt=Mn;break t}}Pt=null}if(!(T=Pt)){this.o=!1,this.s=3,Cr(12),pa(this),za(this);break e}ds(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nc(this,T)}if(this.P){let Lr;for(T=!0;!this.J&&this.C<Ke.length;){if(Lr=Nh(this,Ke),Lr==Rl){4==$r&&(this.s=4,Cr(14),T=!1),ds(this.i,this.l,null,"[Incomplete Response]");break}if(Lr==Nl){this.s=4,Cr(15),ds(this.i,this.l,Ke,"[Invalid Chunk]"),T=!1;break}ds(this.i,this.l,Lr,null),Nc(this,Lr)}if(Eg(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=$r||0!=Ke.length||this.h.h||(this.s=1,Cr(16),T=!1),this.o=this.o&&T,T){if(0<Ke.length&&!this.W){this.W=!0;var _r=this.j;_r.g==this&&_r.ba&&!_r.M&&(_r.j.info("Great, no buffering proxy detected. Bytes received: "+Ke.length),ht(_r),_r.M=!0,Cr(11))}}else ds(this.i,this.l,Ke,"[Invalid Chunked Response]"),pa(this),za(this)}else ds(this.i,this.l,Ke,null),Nc(this,Ke);4==$r&&pa(this),this.o&&!this.J&&(4==$r?xn(this.j,this):(this.o=!1,Mc(this)))}else(function Ha(f){const y={};f=(f.g&&2<=gs(f)&&f.g.getAllResponseHeaders()||"").split("\r\n");for(let $=0;$<f.length;$++){if(k(f[$]))continue;var T=A(f[$]);const ce=T[0];if("string"!=typeof(T=T[1]))continue;T=T.trim();const we=y[ce]||[];y[ce]=we,we.push(T)}!function z(f,y){for(const T in f)y.call(void 0,f[T],T,f)}(y,function($){return $.join(", ")})})(this.g),400==T&&0<Ke.indexOf("Unknown SID")?(this.s=3,Cr(12)):(this.s=0,Cr(13)),pa(this),za(this)}}}catch{}},Ao.prototype.cancel=function(){this.J=!0,pa(this)},Ao.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(function Ml(f,y){f.info(function(){return"TIMEOUT: "+y})}(this.i,this.A),2!=this.L&&(xt(),Cr(17)),pa(this),this.s=2,za(this)):Rh(this,this.S-f)},kh.prototype.cancel=function(){if(this.i=Vh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const f of this.g.values())f.cancel();this.g.clear()}};var Ol=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Us(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Us){this.h=f.h,Ju(this,f.j),this.o=f.o,this.g=f.g,Xu(this,f.s),this.l=f.l;var y=f.i,T=new Fc;T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),js(this,T),this.m=f.m}else f&&(y=String(f).match(Ol))?(this.h=!1,Ju(this,y[1]||"",!0),this.o=ps(y[2]||""),this.g=ps(y[3]||"",!0),Xu(this,y[4]),this.l=ps(y[5]||"",!0),js(this,y[6]||"",!0),this.m=ps(y[7]||"")):(this.h=!1,this.i=new Fc(null,this.h))}function Bs(f){return new Us(f)}function Ju(f,y,T){f.j=T?ps(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Xu(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function js(f,y,T){y instanceof Fc?(f.i=y,function Gv(f,y){y&&!f.j&&(So(f),f.i=null,f.g.forEach(function(T,$){var ce=$.toLowerCase();$!=ce&&(ed(this,$),Tg(this,ce,T))},f)),f.j=y}(f.i,f.h)):(T||(y=qa(y,Lc)),f.i=new Fc(y,f.h))}function zn(f,y,T){f.i.set(y,T)}function Oc(f){return zn(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ps(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function qa(f,y,T){return"string"==typeof f?(f=encodeURI(f).replace(y,$v),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function $v(f){return"%"+((f=f.charCodeAt(0))>>4&15).toString(16)+(15&f).toString(16)}Us.prototype.toString=function(){var f=[],y=this.j;y&&f.push(qa(y,Ag,!0),":");var T=this.g;return(T||"file"==y)&&(f.push("//"),(y=this.o)&&f.push(qa(y,Ag,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(T=this.s)&&f.push(":",String(T))),(T=this.l)&&(this.g&&"/"!=T.charAt(0)&&f.push("/"),f.push(qa(T,"/"==T.charAt(0)?Uh:qv,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",qa(T,Ll)),f.join("")};var f,Ag=/[#\/\?@]/g,qv=/[#\?:]/g,Uh=/[#\?]/g,Lc=/[#\?@]/g,Ll=/#/g;function Fc(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function So(f){f.g||(f.g=new Map,f.h=0,f.i&&function Br(f,y){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var $=f[T].indexOf("="),ce=null;if(0<=$){var we=f[T].substring(0,$);ce=f[T].substring($+1)}else we=f[T];y(we,ce?decodeURIComponent(ce.replace(/\+/g," ")):"")}}}(f.i,function(y,T){f.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}function ed(f,y){So(f),y=Fl(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function zt(f,y){return So(f),y=Fl(f,y),f.g.has(y)}function Tg(f,y,T){ed(f,y),0<T.length&&(f.i=null,f.g.set(Fl(f,y),w(T)),f.h+=T.length)}function Fl(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function qi(f,y,T,$,ce){try{ce&&(ce.onload=null,ce.onerror=null,ce.onabort=null,ce.ontimeout=null),$(T)}catch{}}function Wv(){this.g=new rn}function Kv(f,y,T){const $=T||"";try{fs(f,function(ce,we){let Ke=ce;c(ce)&&(Ke=Kt(ce)),y.push($+we+"="+encodeURIComponent(Ke))})}catch(ce){throw y.push($+"type="+encodeURIComponent("_badmap")),ce}}function ga(f){this.l=f.Ub||null,this.j=f.eb||!1}function Vl(f,y){Wt.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ul(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}function ma(f){f.readyState=4,f.l=null,f.j=null,f.v=null,_a(f)}function _a(f){f.onreadystatechange&&f.onreadystatechange.call(f)}function Sg(f){let y="";return se(f,function(T,$){y+=$,y+=":",y+=T,y+="\r\n"}),y}function Vc(f,y,T){e:{for($ in T){var $=!1;break e}$=!0}$||(T=Sg(T),"string"==typeof f?null!=T&&encodeURIComponent(String(T)):zn(f,y,T))}function tr(f){Wt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=Fc.prototype).add=function(f,y){So(this),this.i=null,f=Fl(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(y),this.h+=1,this},n.forEach=function(f,y){So(this),this.g.forEach(function(T,$){T.forEach(function(ce){f.call(y,ce,$,this)},this)},this)},n.na=function(){So(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),T=[];for(let $=0;$<y.length;$++){const ce=f[$];for(let we=0;we<ce.length;we++)T.push(y[$])}return T},n.V=function(f){So(this);let y=[];if("string"==typeof f)zt(this,f)&&(y=y.concat(this.g.get(Fl(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)y=y.concat(f[T])}return y},n.set=function(f,y){return So(this),this.i=null,zt(this,f=Fl(this,f))&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f&&0<(f=this.V(f)).length?String(f[0]):y},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var T=0;T<y.length;T++){var $=y[T];const we=encodeURIComponent(String($)),Ke=this.V($);for($=0;$<Ke.length;$++){var ce=we;""!==Ke[$]&&(ce+="="+encodeURIComponent(String(Ke[$]))),f.push(ce)}}return this.i=f.join("&")},b(ga,wt),ga.prototype.g=function(){return new Vl(this.l,this.j)},ga.prototype.i=(f={},function(){return f}),b(Vl,Wt),(n=Vl.prototype).open=function(f,y){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,_a(this)},n.send=function(f){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ma(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,_a(this)),this.g&&(this.readyState=3,_a(this),this.g)))if("arraybuffer"===this.responseType)f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ul(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?ma(this):_a(this),3==this.readyState&&Ul(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,ma(this))},n.Qa=function(f){this.g&&(this.response=f,ma(this))},n.ga=function(){this.g&&ma(this)},n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var T=y.next();!T.done;)f.push((T=T.value)[0]+": "+T[1]),T=y.next();return f.join("\r\n")},Object.defineProperty(Vl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(f){this.m=f?"include":"same-origin"}}),b(tr,Wt);var Uc=/^https?$/i,Bc=["POST","PUT"];function td(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,jc(f),va(f)}function jc(f){f.A||(f.A=!0,yt(f,"complete"),yt(f,"error"))}function nd(f){if(f.h&&typeof s<"u"&&(!f.v[1]||4!=gs(f)||2!=f.Z()))if(f.u&&4==gs(f))Nt(f.Ea,0,f);else if(yt(f,"readystatechange"),4==gs(f)){f.h=!1;try{const Ke=f.Z();e:switch(Ke){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var $;if($=0===Ke){var ce=String(f.D).match(Ol)[1]||null;!ce&&a.self&&a.self.location&&(ce=a.self.location.protocol.slice(0,-1)),$=!Uc.test(ce?ce.toLowerCase():"")}T=$}if(T)yt(f,"complete"),yt(f,"success");else{f.m=6;try{var we=2<gs(f)?f.g.statusText:""}catch{we=""}f.l=we+" ["+f.Z()+"]",jc(f)}}finally{va(f)}}}function va(f,y){if(f.g){Bh(f);const T=f.g,$=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||yt(f,"ready");try{T.onreadystatechange=$}catch{}}}function Bh(f){f.I&&(a.clearTimeout(f.I),f.I=null)}function gs(f){return f.g?f.g.readyState:0}function ya(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Bl(f,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||y}function jh(f){this.Aa=0,this.i=[],this.j=new er,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bl("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bl("baseRetryDelayMs",5e3,f),this.cb=Bl("retryDelaySeedMs",1e4,f),this.Wa=Bl("forwardChannelMaxRetries",2,f),this.wa=Bl("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new kh(f&&f.concurrentRequestLimit),this.Da=new Wv,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Wa(f){if(_(f),3==f.G){var y=f.U++,T=Bs(f.I);if(zn(T,"SID",f.K),zn(T,"RID",y),zn(T,"TYPE","terminate"),ue(f,T),(y=new Ao(f,f.j,y)).L=2,y.v=Oc(Bs(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!T&&a.Image&&((new Image).src=y.v,T=!0),T||(y.g=jr(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Mc(y)}Yn(f)}function zc(f){f.g&&(ht(f),f.g.cancel(),f.g=null)}function _(f){zc(f),f.u&&(a.clearTimeout(f.u),f.u=null),Ft(f),f.h.cancel(),f.s&&("number"==typeof f.s&&a.clearTimeout(f.s),f.s=null)}function R(f){if(!Oh(f.h)&&!f.s){f.s=!0;var y=f.Ga;Ce||Ge(),ge||(Ce(),ge=!0),Te.add(y,f),f.B=0}}function ne(f,y){var T;T=y?y.l:f.U++;const $=Bs(f.I);zn($,"SID",f.K),zn($,"RID",T),zn($,"AID",f.T),ue(f,$),f.m&&f.o&&Vc($,f.m,f.o),T=new Ao(f,f.j,T,f.B+1),null===f.m&&(T.H=f.o),y&&(f.i=y.D.concat(f.i)),y=Me(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Or(f.h,T),kl(T,$,y)}function ue(f,y){f.H&&se(f.H,function(T,$){zn(y,$,T)}),f.l&&fs({},function(T,$){zn(y,$,T)})}function Me(f,y,T){T=Math.min(f.i.length,T);var $=f.l?m(f.l.Na,f.l,f):null;e:{var ce=f.i;let we=-1;for(;;){const Ke=["count="+T];-1==we?0<T?(we=ce[0].g,Ke.push("ofs="+we)):we=0:Ke.push("ofs="+we);let Mn=!0;for(let zr=0;zr<T;zr++){let Pt=ce[zr].g;const _r=ce[zr].map;if(Pt-=we,0>Pt)we=Math.max(0,ce[zr].g-100),Mn=!1;else try{Kv(_r,Ke,"req"+Pt+"_")}catch{$&&$(_r)}}if(Mn){$=Ke.join("&");break e}}}return f=f.i.splice(0,T),y.D=f,$}function Ve(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;Ce||Ge(),ge||(Ce(),ge=!0),Te.add(y,f),f.v=0}}function st(f){return!(f.g||f.u||3<=f.v||(f.Y++,f.u=$i(m(f.Fa,f),mr(f,f.v)),f.v++,0))}function ht(f){null!=f.A&&(a.clearTimeout(f.A),f.A=null)}function Lt(f){f.g=new Ao(f,f.j,"rpc",f.Y),null===f.m&&(f.g.H=f.o),f.g.O=0;var y=Bs(f.qa);zn(y,"RID","rpc"),zn(y,"SID",f.K),zn(y,"AID",f.T),zn(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&zn(y,"TO",f.ja),zn(y,"TYPE","xmlhttp"),ue(f,y),f.m&&f.o&&Vc(y,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=Oc(Bs(y)),T.m=null,T.P=!0,Pc(T,f)}function Ft(f){null!=f.C&&(a.clearTimeout(f.C),f.C=null)}function xn(f,y){var T=null;if(f.g==y){Ft(f),ht(f),f.g=null;var $=2}else{if(!Lh(f.h,y))return;T=y.D,Fh(f.h,y),$=1}if(0!=f.G)if(y.o)if(1==$){T=y.m?y.m.length:0,y=Date.now()-y.F;var ce=f.B;yt($=Co(),new $o($,T)),R(f)}else Ve(f);else if(3==(ce=y.s)||0==ce&&0<y.X||!(1==$&&function Q(f,y){return!(Rc(f.h)>=f.h.j-(f.s?1:0)||(f.s?(f.i=y.D.concat(f.i),0):1==f.G||2==f.G||f.B>=(f.Va?0:f.Wa)||(f.s=$i(m(f.Ga,f,y),mr(f,f.B)),f.B++,0)))}(f,y)||2==$&&st(f)))switch(T&&0<T.length&&(y=f.h,y.i=y.i.concat(T)),ce){case 1:nr(f,5);break;case 4:nr(f,10);break;case 3:nr(f,6);break;default:nr(f,2)}}function mr(f,y){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*y}function nr(f,y){if(f.j.info("Error code "+y),2==y){var T=m(f.fb,f),$=f.Xa;const ce=!$;$=new Us($||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Ju($,"https"),Oc($),ce?function Hv(f,y){const T=new er;if(a.Image){const $=new Image;$.onload=p(qi,T,"TestLoadImage: loaded",!0,y,$),$.onerror=p(qi,T,"TestLoadImage: error",!1,y,$),$.onabort=p(qi,T,"TestLoadImage: abort",!1,y,$),$.ontimeout=p(qi,T,"TestLoadImage: timeout",!1,y,$),a.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=f}else y(!1)}($.toString(),T):function Ga(f,y){new er;const $=new AbortController,ce=setTimeout(()=>{$.abort(),qi(0,0,!1,y)},1e4);fetch(f,{signal:$.signal}).then(we=>{clearTimeout(ce),qi(0,0,!!we.ok,y)}).catch(()=>{clearTimeout(ce),qi(0,0,!1,y)})}($.toString(),T)}else Cr(2);f.G=0,f.l&&f.l.sa(y),Yn(f),_(f)}function Yn(f){if(f.G=0,f.ka=[],f.l){const y=Vh(f.h);(0!=y.length||0!=f.i.length)&&(E(f.ka,y),E(f.ka,f.i),f.h.i.length=0,w(f.i),f.i.length=0),f.l.ra()}}function Qr(f,y,T){var $=T instanceof Us?Bs(T):new Us(T);if(""!=$.g)y&&($.g=y+"."+$.g),Xu($,$.s);else{var ce=a.location;$=ce.protocol,y=y?y+"."+ce.hostname:ce.hostname,ce=+ce.port;var we=new Us(null);$&&Ju(we,$),y&&(we.g=y),ce&&Xu(we,ce),T&&(we.l=T),$=we}return y=f.ya,(T=f.D)&&y&&zn($,T,y),zn($,"VER",f.la),ue(f,$),$}function jr(f,y,T){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return(y=new tr(f.Ca&&!f.pa?new ga({eb:T}):f.pa)).Ha(f.J),y}function wi(){}function oo(){}function rr(f,y){Wt.call(this),this.g=new jh(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!k(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!k(y)&&(this.g.D=y,null!==(f=this.h)&&y in f&&y in(f=this.h)&&delete f[y]),this.j=new ms(this)}function zh(f){Rt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const T in y){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,y=null!==y&&f in y?y[f]:void 0),this.data=y}else this.data=f}function $c(){vn.call(this),this.status=1}function ms(f){this.g=f}(n=tr.prototype).Ha=function(f){this.J=f},n.ea=function(f,y,T,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Go.g(),this.v=function jn(f){return f.h||(f.h=f.i())}(this.o?this.o:Go),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(we){return void td(this,we)}if(f=T||"",T=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var ce in $)T.set(ce,$[ce]);else{if("function"!=typeof $.keys||"function"!=typeof $.get)throw Error("Unknown input type for opt_headers: "+String($));for(const we of $.keys())T.set(we,$.get(we))}$=Array.from(T.keys()).find(we=>"content-type"==we.toLowerCase()),ce=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Bc,y,void 0))||$||ce||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[we,Ke]of T)this.g.setRequestHeader(we,Ke);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bh(this),this.u=!0,this.g.send(f),this.u=!1}catch(we){td(this,we)}},n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,yt(this,"complete"),yt(this,"abort"),va(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),va(this,!0)),tr.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?nd(this):this.bb())},n.bb=function(){nd(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<gs(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&0==y.indexOf(f)&&(y=y.substring(f.length)),Tt(y)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=jh.prototype).la=8,n.G=1,n.connect=function(f,y,T,$){Cr(0),this.W=f,this.H=y||{},T&&void 0!==$&&(this.H.OSID=T,this.H.OAID=$),this.F=this.X,this.I=Qr(this,null,this.W),R(this)},n.Ga=function(f){if(this.s)if(this.s=null,1==this.G){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ce=new Ao(this,this.j,f);let we=this.o;if(this.S&&(we?(we=x(we),V(we,this.S)):we=this.S),null!==this.m||this.O||(ce.H=we,we=null),this.P)e:{for(var y=0,T=0;T<this.i.length;T++){var $=this.i[T];if(void 0===($="__data__"in $.map&&"string"==typeof($=$.map.__data__)?$.length:void 0))break;if(4096<(y+=$)){y=T;break e}if(4096===y||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=Me(this,ce,y),zn(T=Bs(this.I),"RID",f),zn(T,"CVER",22),this.D&&zn(T,"X-HTTP-Session-Id",this.D),ue(this,T),we&&(this.O?y="headers="+encodeURIComponent(String(Sg(we)))+"&"+y:this.m&&Vc(T,this.m,we)),Or(this.h,ce),this.Ua&&zn(T,"TYPE","init"),this.P?(zn(T,"$req",y),zn(T,"SID","null"),ce.T=!0,kl(ce,T,null)):kl(ce,T,y),this.G=2}}else 3==this.G&&(f?ne(this,f):0==this.i.length||Oh(this.h)||ne(this))},n.Fa=function(){if(this.u=null,Lt(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=$i(m(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Cr(10),zc(this),Lt(this))},n.Za=function(){null!=this.C&&(this.C=null,zc(this),st(this),Cr(19))},n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Cr(2)):(this.j.info("Failed to ping google.com"),Cr(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=wi.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},oo.prototype.g=function(f,y){return new rr(f,y)},b(rr,Wt),rr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rr.prototype.close=function(){Wa(this.g)},rr.prototype.o=function(f){var y=this.g;if("string"==typeof f){var T={};T.__data__=f,f=T}else this.u&&((T={}).__data__=Kt(f),f=T);y.i.push(new class{constructor(f,y){this.g=f,this.map=y}}(y.Ya++,f)),3==y.G&&R(y)},rr.prototype.N=function(){this.g.l=null,delete this.j,Wa(this.g),delete this.g,rr.aa.N.call(this)},b(zh,Rt),b($c,vn),b(ms,wi),ms.prototype.ua=function(){yt(this.g,"a")},ms.prototype.ta=function(f){yt(this.g,new zh(f))},ms.prototype.sa=function(f){yt(this.g,new $c)},ms.prototype.ra=function(){yt(this.g,"b")},oo.prototype.createWebChannel=oo.prototype.g,rr.prototype.send=rr.prototype.o,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,SV=vc.createWebChannelTransport=function(){return new oo},TV=vc.getStatEventTarget=function(){return Co()},AV=vc.Event=ro,ZT=vc.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qo.NO_ERROR=0,qo.TIMEOUT=8,qo.HTTP_ERROR=6,Qy=vc.ErrorCode=qo,hs.COMPLETE="complete",CV=vc.EventType=hs,Er.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",Wt.prototype.listen=Wt.prototype.K,y_=vc.WebChannel=Er,vc.FetchXmlHttpFactory=ga,tr.prototype.listenOnce=tr.prototype.L,tr.prototype.getLastError=tr.prototype.Ka,tr.prototype.getLastErrorCode=tr.prototype.Ba,tr.prototype.getStatus=tr.prototype.Z,tr.prototype.getResponseJson=tr.prototype.Oa,tr.prototype.getResponseText=tr.prototype.oa,tr.prototype.send=tr.prototype.ea,tr.prototype.setWithCredentials=tr.prototype.Ha,EV=vc.XhrIo=tr}).apply(typeof Ky<"u"?Ky:typeof self<"u"?self:typeof window<"u"?window:{});const DV="@firebase/firestore";class Fi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fi.UNAUTHENTICATED=new Fi(null),Fi.GOOGLE_CREDENTIALS=new Fi("google-credentials-uid"),Fi.FIRST_PARTY=new Fi("first-party-uid"),Fi.MOCK_USER=new Fi("mock-user");let up="10.14.0";const mu=new CA("@firebase/firestore");function dp(){return mu.logLevel}function Be(n,...e){if(mu.logLevel<=yn.DEBUG){const t=e.map(JT);mu.debug(`Firestore (${up}): ${n}`,...t)}}function oi(n,...e){if(mu.logLevel<=yn.ERROR){const t=e.map(JT);mu.error(`Firestore (${up}): ${n}`,...t)}}function ca(n,...e){if(mu.logLevel<=yn.WARN){const t=e.map(JT);mu.warn(`Firestore (${up}): ${n}`,...t)}}function JT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ot(n="Unexpected state"){const e=`FIRESTORE (${up}) INTERNAL ASSERTION FAILED: `+n;throw oi(e),new Error(e)}function ut(n,e){n||ot()}function Xe(n,e){return n}const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends uc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class xV{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $de{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fi.UNAUTHENTICATED))}shutdown(){}}class qde{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Gde{constructor(e){this.t=e,this.currentUser=Fi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;ut(void 0===this.o);let i=this.i;const o=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let s=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vi,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable((0,ie.A)(function*(){yield c.promise,yield o(r.currentUser)}))},l=c=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut("string"==typeof r.accessToken),new xV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(null===e||"string"==typeof e),new Fi(e)}}class Hde{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Fi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Wde{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Hde(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Fi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kde{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ut(void 0===this.o);const r=o=>{null!=o.error&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Be("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ut("string"==typeof t.token),this.R=t.token,new PV(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Qde(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class MV{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Qde(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function Gt(n,e){return n<e?-1:n>e?1:0}function hp(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Vr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new je(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new je(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new je(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vr.fromMillis(Date.now())}static fromDate(e){return Vr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Vr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gt(this.nanoseconds,e.nanoseconds):Gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new Vr(0,0))}static max(){return new It(new Vr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class b_{constructor(e,t,r){void 0===t?t=0:t>e.length&&ot(),void 0===r?r=e.length-t:r>e.length-t&&ot(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===b_.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof b_?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class bn extends b_{construct(e,t,r){return new bn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new je(Ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new bn(t)}static emptyPath(){return new bn([])}}const Yde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pr extends b_{construct(e,t,r){return new Pr(e,t,r)}static isValidIdentifier(e){return Yde.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Pr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new je(Ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new je(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new je(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new je(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pr(t)}static emptyPath(){return new Pr([])}}class rt{constructor(e){this.path=e}static fromPath(e){return new rt(bn.fromString(e))}static fromName(e){return new rt(bn.fromString(e).popFirst(5))}static empty(){return new rt(bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===bn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return bn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new bn(e.slice()))}}function kV(n){return new Rs(n.readTime,n.key,-1)}class Rs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Rs(It.min(),rt.empty(),-1)}static max(){return new Rs(It.max(),rt.empty(),-1)}}function eS(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=rt.comparator(n.documentKey,e.documentKey),0!==t?t:Gt(n.largestBatchId,e.largestBatchId))}const OV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function _u(n){return tS.apply(this,arguments)}function tS(){return tS=(0,ie.A)(function*(n){if(n.code!==Ie.FAILED_PRECONDITION||n.message!==OV)throw n;Be("LocalStore","Unexpectedly lost primary lease")}),tS.apply(this,arguments)}class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,r)=>{t(e)})}static reject(e){return new pe((t,r)=>{r(e)})}static waitFor(e){return new pe((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=pe.resolve(!1);for(const r of e)t=t.next(i=>i?pe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new pe((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;t(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,t){return new pe((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}function vu(n){return"IndexedDbTransactionError"===n.name}let ks=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function I_(n){return null==n}function E_(n){return 0===n&&1/n==-1/0}function HV(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function yu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function KV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class gr{constructor(e,t){this.comparator=e,this.root=t||Ji.EMPTY}insert(e,t){return new gr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ji.BLACK,null,null))}remove(e){return new gr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ji.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jy(this.root,e,this.comparator,!0)}}class Jy{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ji{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Ji.RED,this.left=i??Ji.EMPTY,this.right=o??Ji.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Ji(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ji.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ji.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ji.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ji.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}Ji.EMPTY=null,Ji.RED=!0,Ji.BLACK=!1,Ji.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Ji(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xn{constructor(e){this.comparator=e,this.data=new gr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new QV(this.data.getIterator())}getIteratorFrom(e){return new QV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Xn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Xn(this.comparator);return t.data=e,t}}class QV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class as{constructor(e){this.fields=e,e.sort(Pr.comparator)}static empty(){return new as([])}unionWith(e){let t=new Xn(Pr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new as(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return hp(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class YV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Hr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new YV("Invalid base64 string: "+o):o}}(e);return new Hr(t)}static fromUint8Array(e){const t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Hr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hr.EMPTY_BYTE_STRING=new Hr("");const Ihe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yc(n){if(ut(!!n),"string"==typeof n){let e=0;const t=Ihe.exec(n);if(ut(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mr(n.seconds),nanos:Mr(n.nanos)}}function Mr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function bc(n){return"string"==typeof n?Hr.fromBase64String(n):Hr.fromUint8Array(n)}function Xy(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function eb(n){const e=n.mapValue.fields.__previous_value__;return Xy(e)?eb(e):e}function C_(n){const e=yc(n.mapValue.fields.__local_write_time__.timestampValue);return new Vr(e.seconds,e.nanos)}class Ehe{constructor(e,t,r,i,o,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Jd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Jd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Jd&&e.projectId===this.projectId&&e.database===this.database}}const bu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Xy(n)?4:t7(n)?9007199254740991:ib(n)?10:11:ot()}function ml(n,e){if(n===e)return!0;const t=wu(n);if(t!==wu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return C_(n).isEqual(C_(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=yc(i.timestampValue),a=yc(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,bc(n.bytesValue).isEqual(bc(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Mr(i.geoPointValue.latitude)===Mr(o.geoPointValue.latitude)&&Mr(i.geoPointValue.longitude)===Mr(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Mr(i.integerValue)===Mr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Mr(i.doubleValue),a=Mr(o.doubleValue);return s===a?E_(s)===E_(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return hp(n.arrayValue.values||[],e.arrayValue.values||[],ml);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(HV(s)!==HV(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!ml(s[l],a[l])))return!1;return!0}(n,e);default:return ot()}var o}function A_(n,e){return void 0!==(n.values||[]).find(t=>ml(t,e))}function Iu(n,e){if(n===e)return 0;const t=wu(n),r=wu(e);if(t!==r)return Gt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Gt(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Mr(o.integerValue||o.doubleValue),l=Mr(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return ZV(n.timestampValue,e.timestampValue);case 4:return ZV(C_(n),C_(e));case 5:return Gt(n.stringValue,e.stringValue);case 6:return function(o,s){const a=bc(o),l=bc(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Gt(a[c],l[c]);if(0!==u)return u}return Gt(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Gt(Mr(o.latitude),Mr(s.latitude));return 0!==a?a:Gt(Mr(o.longitude),Mr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return JV(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,c,u;const p=null===(a=(o.fields||{}).value)||void 0===a?void 0:a.arrayValue,b=null===(l=(s.fields||{}).value)||void 0===l?void 0:l.arrayValue,w=Gt((null===(c=p?.values)||void 0===c?void 0:c.length)||0,(null===(u=b?.values)||void 0===u?void 0:u.length)||0);return 0!==w?w:JV(p,b)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===bu.mapValue&&s===bu.mapValue)return 0;if(o===bu.mapValue)return 1;if(s===bu.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const m=Gt(l[d],u[d]);if(0!==m)return m;const p=Iu(a[l[d]],c[u[d]]);if(0!==p)return p}return Gt(l.length,u.length)}(n.mapValue,e.mapValue);default:throw ot()}}function ZV(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Gt(n,e);const t=yc(n),r=yc(e),i=Gt(t.seconds,r.seconds);return 0!==i?i:Gt(t.nanos,r.nanos)}function JV(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Iu(t[i],r[i]);if(o)return o}return Gt(t.length,r.length)}function mp(n){return oS(n)}function oS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=yc(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?bc(n.bytesValue).toBase64():"referenceValue"in n?rt.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=oS(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${oS(t.fields[s])}`;return i+"}"}(n.mapValue):ot()}function Xd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function sS(n){return!!n&&"integerValue"in n}function T_(n){return!!n&&"arrayValue"in n}function XV(n){return!!n&&"nullValue"in n}function e7(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rb(n){return!!n&&"mapValue"in n}function ib(n){var e,t;return"__vector__"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function S_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return yu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=S_(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=S_(n.arrayValue.values[t]);return e}return Object.assign({},n)}function t7(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Xi{constructor(e){this.value=e}static empty(){return new Xi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!rb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=S_(t)}setAll(e){let t=Pr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=S_(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());rb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ml(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];rb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){yu(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Xi(S_(this.value))}}function o7(n){const e=[];return yu(n.fields,(t,r)=>{const i=new Pr([t]);if(rb(r)){const o=o7(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new as(e)}class wr{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new wr(e,0,It.min(),It.min(),It.min(),Xi.empty(),0)}static newFoundDocument(e,t,r,i){return new wr(e,1,t,It.min(),r,i,0)}static newNoDocument(e,t){return new wr(e,2,t,It.min(),It.min(),Xi.empty(),0)}static newUnknownDocument(e,t){return new wr(e,3,t,It.min(),It.min(),Xi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(It.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Eu{constructor(e,t){this.position=e,this.inclusive=t}}function s7(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],s=n.position[i];if(r=o.field.isKeyField()?rt.comparator(rt.fromName(s.referenceValue),t.key):Iu(s,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function a7(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ml(n.position[t],e.position[t]))return!1;return!0}class D_{constructor(e,t="asc"){this.field=e,this.dir=t}}function The(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class l7{}class wn extends l7{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new She(e,t,r):"array-contains"===t?new Phe(e,r):"in"===t?new p7(e,r):"not-in"===t?new Mhe(e,r):"array-contains-any"===t?new Nhe(e,r):new wn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Dhe(e,r):new xhe(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Iu(t,this.value)):null!==t&&wu(this.value)===wu(t)&&this.matchesComparison(Iu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends l7{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Wn(e,t)}matches(e){return _p(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function _p(n){return"and"===n.op}function lS(n){return function c7(n){for(const e of n.filters)if(e instanceof Wn)return!1;return!0}(n)&&_p(n)}function cS(n){if(n instanceof wn)return n.field.canonicalString()+n.op.toString()+mp(n.value);if(lS(n))return n.filters.map(e=>cS(e)).join(",");{const e=n.filters.map(t=>cS(t)).join(",");return`${n.op}(${e})`}}function u7(n,e){return n instanceof wn?(r=n,(i=e)instanceof wn&&r.op===i.op&&r.field.isEqual(i.field)&&ml(r.value,i.value)):n instanceof Wn?function(r,i){return i instanceof Wn&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&u7(s,i.filters[a]),!0)}(n,e):void ot();var r,i}function h7(n){return n instanceof wn?`${(t=n).field.canonicalString()} ${t.op} ${mp(t.value)}`:n instanceof Wn?function(t){return t.op.toString()+" {"+t.getFilters().map(h7).join(" ,")+"}"}(n):"Filter";var t}class She extends wn{constructor(e,t,r){super(e,t,r),this.key=rt.fromName(r.referenceValue)}matches(e){const t=rt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Dhe extends wn{constructor(e,t){super(e,"in",t),this.keys=f7(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class xhe extends wn{constructor(e,t){super(e,"not-in",t),this.keys=f7(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function f7(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>rt.fromName(r.referenceValue))}class Phe extends wn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return T_(t)&&A_(t.arrayValue,this.value)}}class p7 extends wn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&A_(this.value.arrayValue,t)}}class Mhe extends wn{constructor(e,t){super(e,"not-in",t)}matches(e){if(A_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!A_(this.value.arrayValue,t)}}class Nhe extends wn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!T_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>A_(this.value.arrayValue,r))}}class Rhe{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function uS(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Rhe(n,e,t,r,i,o,s)}function eh(n){const e=Xe(n);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>cS(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),I_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>mp(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>mp(r)).join(",")),e.ue=t}return e.ue}function x_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!The(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!u7(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!a7(n.startAt,e.startAt)&&a7(n.endAt,e.endAt)}function ob(n){return rt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class wc{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null}}function vp(n){return new wc(n)}function v7(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function dS(n){return null!==n.collectionGroup}function yp(n){const e=Xe(n);if(null===e.ce){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Xn(Pr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new D_(o,r))}),t.has(Pr.keyField().canonicalString())||e.ce.push(new D_(Pr.keyField(),r))}return e.ce}function mo(n){const e=Xe(n);return e.le||(e.le=function b7(n,e){if("F"===n.limitType)return uS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new D_(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new Eu(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Eu(n.startAt.position,n.startAt.inclusive):null;return uS(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,yp(n))),e.le}function hS(n,e){const t=n.filters.concat([e]);return new wc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ab(n,e,t){return new wc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function P_(n,e){return x_(mo(n),mo(e))&&n.limitType===e.limitType}function w7(n){return`${eh(mo(n))}|lt:${n.limitType}`}function bp(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>h7(i)).join(", ")}]`),I_(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>mp(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>mp(i)).join(",")),`Target(${r})`}(mo(n))}; limitType=${n.limitType})`}function M_(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):rt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of yp(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(s,a,l){const c=s7(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,yp(r),i)||r.endAt&&!function(s,a,l){const c=s7(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,yp(r),i)));var r,i}function E7(n){return(e,t)=>{let r=!1;for(const i of yp(n)){const o=khe(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function khe(n,e,t){const r=n.field.isKeyField()?rt.comparator(e.key,t.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return null!==l&&null!==c?Iu(l,c):ot()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}class Ic{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yu(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return KV(this.inner)}size(){return this.innerSize}}const Ohe=new gr(rt.comparator);function ls(){return Ohe}const C7=new gr(rt.comparator);function N_(...n){let e=C7;for(const t of n)e=e.insert(t.key,t);return e}function A7(n){let e=C7;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function _l(){return R_()}function T7(){return R_()}function R_(){return new Ic(n=>n.toString(),(n,e)=>n.isEqual(e))}const Lhe=new gr(rt.comparator),Fhe=new Xn(rt.comparator);function an(...n){let e=Fhe;for(const t of n)e=e.add(t);return e}const Vhe=new Xn(Gt);function pS(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:E_(e)?"-0":e}}function S7(n){return{integerValue:""+n}}function D7(n,e){return function UV(n){return"number"==typeof n&&Number.isInteger(n)&&!E_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?S7(e):pS(n,e)}class lb{constructor(){this._=void 0}}function Uhe(n,e,t){return n instanceof wp?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Xy(o)&&(o=eb(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof th?P7(n,e):n instanceof nh?M7(n,e):function(i,o){const s=x7(i,o),a=N7(s)+N7(i.Pe);return sS(s)&&sS(i.Pe)?S7(a):pS(i.serializer,a)}(n,e)}function Bhe(n,e,t){return n instanceof th?P7(n,e):n instanceof nh?M7(n,e):t}function x7(n,e){return n instanceof Ip?sS(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class wp extends lb{}class th extends lb{constructor(e){super(),this.elements=e}}function P7(n,e){const t=R7(e);for(const r of n.elements)t.some(i=>ml(i,r))||t.push(r);return{arrayValue:{values:t}}}class nh extends lb{constructor(e){super(),this.elements=e}}function M7(n,e){let t=R7(e);for(const r of n.elements)t=t.filter(i=>!ml(i,r));return{arrayValue:{values:t}}}class Ip extends lb{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function N7(n){return Mr(n.integerValue||n.doubleValue)}function R7(n){return T_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class zhe{constructor(e,t){this.version=e,this.transformResults=t}}class Nr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Nr}static exists(e){return new Nr(void 0,e)}static updateTime(e){return new Nr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cb(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ub{}function k7(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Cp(n.key,Nr.none()):new Ep(n.key,n.data,Nr.none());{const t=n.data,r=Xi.empty();let i=new Xn(Pr.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Ec(n.key,r,new as(i.toArray()),Nr.none())}}function $he(n,e,t){n instanceof Ep?function(i,o,s){const a=i.value.clone(),l=F7(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ec?function(i,o,s){if(!cb(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=F7(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(L7(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function O_(n,e,t,r){return n instanceof Ep?function(o,s,a,l){if(!cb(o.precondition,s))return a;const c=o.value.clone(),u=V7(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ec?function(o,s,a,l){if(!cb(o.precondition,s))return a;const c=V7(o.fieldTransforms,l,s),u=s.data;return u.setAll(L7(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(n,e,t,r):(a=t,cb(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function qhe(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=x7(r.transform,i||null);null!=o&&(null===t&&(t=Xi.empty()),t.set(r.field,o))}return t||null}function O7(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&hp(r,i,(o,s)=>function jhe(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof th&&i instanceof th||r instanceof nh&&i instanceof nh?hp(r.elements,i.elements,ml):r instanceof Ip&&i instanceof Ip?ml(r.Pe,i.Pe):r instanceof wp&&i instanceof wp);var r,i}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class Ep extends ub{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ec extends ub{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function L7(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function F7(n,e,t){const r=new Map;ut(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Bhe(s,a,t[i]))}return r}function V7(n,e,t){const r=new Map;for(const i of n){const o=i.transform,s=t.data.field(i.field);r.set(i.field,Uhe(o,s,e))}return r}class Cp extends ub{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gS extends ub{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mS{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&$he(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=O_(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=O_(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=T7();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const l=k7(s,a);null!==l&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(It.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),an())}isEqual(e){return this.batchId===e.batchId&&hp(this.mutations,e.mutations,(t,r)=>O7(t,r))&&hp(this.baseMutations,e.baseMutations,(t,r)=>O7(t,r))}}class _S{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ut(e.mutations.length===r.length);let i=Lhe;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new _S(e,t,r,i)}}class vS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ghe{constructor(e,t){this.count=e,this.unchangedNames=t}}var vi,Sn;function j7(n){if(void 0===n)return oi("GRPC error has no .code"),Ie.UNKNOWN;switch(n){case vi.OK:return Ie.OK;case vi.CANCELLED:return Ie.CANCELLED;case vi.UNKNOWN:return Ie.UNKNOWN;case vi.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case vi.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case vi.INTERNAL:return Ie.INTERNAL;case vi.UNAVAILABLE:return Ie.UNAVAILABLE;case vi.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case vi.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case vi.NOT_FOUND:return Ie.NOT_FOUND;case vi.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case vi.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case vi.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case vi.ABORTED:return Ie.ABORTED;case vi.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case vi.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case vi.DATA_LOSS:return Ie.DATA_LOSS;default:return ot()}}(Sn=vi||(vi={}))[Sn.OK=0]="OK",Sn[Sn.CANCELLED=1]="CANCELLED",Sn[Sn.UNKNOWN=2]="UNKNOWN",Sn[Sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sn[Sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sn[Sn.NOT_FOUND=5]="NOT_FOUND",Sn[Sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sn[Sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sn[Sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sn[Sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sn[Sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sn[Sn.ABORTED=10]="ABORTED",Sn[Sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sn[Sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sn[Sn.INTERNAL=13]="INTERNAL",Sn[Sn.UNAVAILABLE=14]="UNAVAILABLE",Sn[Sn.DATA_LOSS=15]="DATA_LOSS";const Hhe=new Kd([4294967295,4294967295],0);function $7(n){const e=function z7(){return new TextEncoder}().encode(n),t=new IV;return t.update(e),new Uint8Array(t.digest())}function q7(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Kd([t,r],0),new Kd([i,o],0)]}class yS{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new L_(`Invalid padding: ${t}`);if(r<0)throw new L_(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new L_(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new L_(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Kd.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Kd.fromNumber(r)));return 1===i.compare(Hhe)&&(i=new Kd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=$7(e),[r,i]=q7(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new yS(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Ie)return;const t=$7(e),[r,i]=q7(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class L_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class F_{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,V_.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new F_(It.min(),i,new gr(Gt),ls(),an())}}class V_{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new V_(r,t,an(),an(),an())}}class hb{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class G7{constructor(e,t){this.targetId=e,this.me=t}}class H7{constructor(e,t,r=Hr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class W7{constructor(){this.fe=0,this.ge=Q7(),this.pe=Hr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=an(),t=an(),r=an();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ot()}}),new V_(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=Q7()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ut(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Whe{constructor(e){this.Le=e,this.Be=new Map,this.ke=ls(),this.qe=K7(),this.Qe=new gr(Gt)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const o=i.target;if(ob(o))if(0===r){const s=new rt(o.path);this.Ue(t,s,wr.newNoDocument(s,It.min()))}else ut(1===r);else{const s=this.Ye(t);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;0!==l&&(this.je(t),this.Qe=this.Qe.insert(t,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let s,a;try{s=bc(r).toUint8Array()}catch(l){if(l instanceof YV)return ca("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new yS(s,i,o)}catch(l){return ca(l instanceof L_?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Ie?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&ob(a.target)){const l=new rt(a.target.path);null!==this.ke.get(l)||this.it(s,l)||this.Ue(s,l,wr.newNoDocument(l,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=an();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Je(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new F_(e,t,this.Qe,this.ke,r);return this.ke=ls(),this.qe=K7(),this.Qe=new gr(Gt),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new W7,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Xn(Gt),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Be("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new W7),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function K7(){return new gr(rt.comparator)}function Q7(){return new gr(rt.comparator)}const Khe={asc:"ASCENDING",desc:"DESCENDING"},Qhe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yhe={and:"AND",or:"OR"};class Zhe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bS(n,e){return n.useProto3Json||I_(e)?e:{value:e}}function Ap(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Y7(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Jhe(n,e){return Ap(n,e.toTimestamp())}function si(n){return ut(!!n),It.fromTimestamp(function(t){const r=yc(t);return new Vr(r.seconds,r.nanos)}(n))}function wS(n,e){return IS(n,e).canonicalString()}function IS(n,e){const t=(i=n,new bn(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?t:t.child(e)}function Z7(n){const e=bn.fromString(n);return ut(lU(e)),e}function U_(n,e){return wS(n.databaseId,e.path)}function vl(n,e){const t=Z7(e);if(t.get(1)!==n.databaseId.projectId)throw new je(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new je(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new rt(eU(t))}function J7(n,e){return wS(n.databaseId,e)}function ES(n){return new bn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function eU(n){return ut(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function tU(n,e,t){return{name:U_(n,e),fields:t.value.mapValue.fields}}function rU(n,e){return{documents:[J7(n,e.path)]}}function fb(n,e){const t={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=J7(n,i);const o=function(c){if(0!==c.length)return aU(Wn.create(c,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const s=function(c){if(0!==c.length)return c.map(u=>{return{field:Cu((m=u).field),direction:rfe(m.dir)};var m})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const a=bS(n,e.limit);return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:i};var c}function oU(n){let e=function X7(n){const e=Z7(n);return 4===e.length?bn.emptyPath():eU(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ut(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(d){const m=sU(d);return m instanceof Wn&&lS(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(m=>{return new D_(Tp((b=m).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let a=null;t.limit&&(a=function(d){let m;return m="object"==typeof d?d.value:d,I_(m)?null:m}(t.limit));let l=null;var d;t.startAt&&(l=new Eu((d=t.startAt).values||[],!!d.before));let c=null;return t.endAt&&(c=function(d){return new Eu(d.values||[],!d.before)}(t.endAt)),function _7(n,e,t,r,i,o,s,a){return new wc(n,e,t,r,i,o,s,a)}(e,i,s,o,a,"F",l,c)}function sU(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Tp(t.unaryFilter.field);return wn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Tp(t.unaryFilter.field);return wn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Tp(t.unaryFilter.field);return wn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Tp(t.unaryFilter.field);return wn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(n):void 0!==n.fieldFilter?wn.create(Tp((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Wn.create(t.compositeFilter.filters.map(r=>sU(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ot()}}(t.compositeFilter.op))}(n):ot();var t}function rfe(n){return Khe[n]}function ife(n){return Qhe[n]}function ofe(n){return Yhe[n]}function Cu(n){return{fieldPath:n.canonicalString()}}function Tp(n){return Pr.fromServerFormat(n.fieldPath)}function aU(n){return n instanceof wn?function(t){if("=="===t.op){if(e7(t.value))return{unaryFilter:{field:Cu(t.field),op:"IS_NAN"}};if(XV(t.value))return{unaryFilter:{field:Cu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(e7(t.value))return{unaryFilter:{field:Cu(t.field),op:"IS_NOT_NAN"}};if(XV(t.value))return{unaryFilter:{field:Cu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cu(t.field),op:ife(t.op),value:t.value}}}(n):n instanceof Wn?function(t){const r=t.getFilters().map(i=>aU(i));return 1===r.length?r[0]:{compositeFilter:{op:ofe(t.op),filters:r}}}(n):ot()}function sfe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Cc{constructor(e,t,r,i,o=It.min(),s=It.min(),a=Hr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Cc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class cU{constructor(e){this.ct=e}}function AS(n){const e=oU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ab(e,e.limit,"L"):e}class sh{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Mr(e.integerValue));else if("doubleValue"in e){const r=Mr(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),E_(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),"string"==typeof r&&(r=yc(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(bc(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?t7(e)?this.dt(t,Number.MAX_SAFE_INTEGER):ib(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ot()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const r=e.fields||{};this.dt(t,55);for(const i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;const o=e.fields||{};this.dt(t,53);const s="value",a=(null===(i=null===(r=o[s].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.dt(t,15),t.At(Mr(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){const r=e.values||[];this.dt(t,50);for(const i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),rt.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}sh.vt=new sh;class gfe{constructor(){this.un=new MS}addToCollectionParentIndex(e,t){return this.un.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getIndexType(e,t){return pe.resolve(0)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,t){return pe.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,t){return pe.resolve(Rs.min())}updateCollectionGroup(e,t,r){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class MS{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Xn(bn.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xn(bn.comparator)).toArray()}}new Uint8Array(0);class _o{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new _o(e,_o.DEFAULT_COLLECTION_PERCENTILE,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}_o.DEFAULT_COLLECTION_PERCENTILE=10,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_o.DEFAULT=new _o(41943040,_o.DEFAULT_COLLECTION_PERCENTILE,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_o.DISABLED=new _o(-1,0,0);class lh{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new lh(0)}static kn(){return new lh(-1)}}class NU{constructor(){this.changes=new Ic(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?pe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Efe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class FU{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&O_(r.mutation,i,as.empty(),Vr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,an()).next(()=>r))}getLocalViewOfDocuments(e,t,r=an()){const i=_l();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=N_();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=_l();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,an()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=ls();const s=R_(),a=R_();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(void 0===u||u.mutation instanceof Ec)?o=o.insert(c.key,c):void 0!==u?(s.set(c.key,u.mutation.getFieldMask()),O_(u.mutation,c,u.mutation.getFieldMask(),Vr.now())):s.set(c.key,as.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new Efe(u,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=R_();let i=new gr((s,a)=>s-a),o=an();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=r.get(l)||as.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||an()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=T7();u.forEach(m=>{if(!o.has(m)){const p=k7(t.get(m),r.get(m));null!==p&&d.set(m,p),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return pe.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return rt.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):dS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var s}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):pe.resolve(_l());let a=-1,l=o;return s.next(c=>pe.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?pe.resolve():this.remoteDocumentCache.getEntry(e,u).next(m=>{l=l.insert(u,m)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,an())).next(u=>({batchId:a,changes:A7(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rt(t)).next(r=>{let i=N_();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let s=N_();return this.indexManager.getCollectionParents(e,o).next(a=>pe.forEach(a,l=>{const c=(d=t,m=l.child(o),new wc(m,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,m;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,m)=>{s=s.insert(d,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();null===s.get(u)&&(s=s.insert(u,wr.newInvalidDocument(u)))});let a=N_();return s.forEach((l,c)=>{const u=o.get(l);void 0!==u&&O_(u.mutation,c,as.empty(),Vr.now()),M_(t,c)&&(a=a.insert(l,c))}),a})}}class Cfe{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return pe.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,{id:(i=t).id,version:i.version,createTime:si(i.createTime)}),pe.resolve();var i}getNamedQuery(e,t){return pe.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,{name:(i=t).name,query:AS(i.bundledQuery),readTime:si(i.readTime)}),pe.resolve();var i}}class Afe{constructor(){this.overlays=new gr(rt.comparator),this.Ir=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=_l();return pe.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),pe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ir.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),pe.resolve()}getOverlaysForCollection(e,t,r){const i=_l(),o=t.length+1,s=new rt(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return pe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new gr((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=o.get(c.largestBatchId);null===u&&(u=_l(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=_l(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return pe.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new vS(t,r));let o=this.Ir.get(t);void 0===o&&(o=an(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}}class Tfe{constructor(){this.sessionToken=Hr.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,pe.resolve()}}class NS{constructor(){this.Tr=new Xn(Ui.Er),this.dr=new Xn(Ui.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new Ui(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Ui(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){const t=new rt(new bn([])),r=new Ui(t,e),i=new Ui(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new rt(new bn([])),r=new Ui(t,e),i=new Ui(t,e+1);let o=an();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Ui(e,0),r=this.Tr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ui{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return rt.comparator(e.key,t.key)||Gt(e.wr,t.wr)}static Ar(e,t){return Gt(e.wr,t.wr)||rt.comparator(e.key,t.key)}}class Sfe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Xn(Ui.Er)}checkEmpty(e){return pe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.Sr;this.Sr++;const s=new mS(o,t,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Ui(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return pe.resolve(s)}lookupMutationBatch(e,t){return pe.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.vr(t+1),o=i<0?0:i;return pe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ui(t,0),i=new Ui(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),pe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Xn(Gt);return t.forEach(i=>{const o=new Ui(i,0),s=new Ui(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),pe.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;rt.isDocumentKey(o)||(o=o.child(""));const s=new Ui(new rt(o),0);let a=new Xn(Gt);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},s),pe.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(r=>{const i=this.Dr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ut(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.br;return pe.forEach(t.mutations,i=>{const o=new Ui(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){const r=new Ui(t,0),i=this.br.firstAfterOrEqual(r);return pe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return pe.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Dfe{constructor(e){this.Mr=e,this.docs=new gr(rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return pe.resolve(r?r.document.mutableCopy():wr.newInvalidDocument(t))}getEntries(e,t){let r=ls();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():wr.newInvalidDocument(i))}),pe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=ls();const s=t.path,a=new rt(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||eS(kV(u),r)<=0||(i.has(u.key)||M_(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return pe.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ot()}Or(e,t){return pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new xfe(this)}getSize(e){return pe.resolve(this.size)}}class xfe extends NU{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),pe.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Pfe{constructor(e){this.persistence=e,this.Nr=new Ic(t=>eh(t),x_),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Lr=0,this.Br=new NS,this.targetCount=0,this.kr=lh.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),pe.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new lh(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.Kn(t),pe.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),pe.waitFor(o).next(()=>i)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return pe.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),pe.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),pe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return pe.resolve(r)}containsKey(e,t){return pe.resolve(this.Br.containsKey(t))}}class RS{constructor(e,t){this.qr={},this.overlays={},this.Qr=new ks(0),this.Kr=!1,this.Kr=!0,this.$r=new Tfe,this.referenceDelegate=e(this),this.Ur=new Pfe(this),this.indexManager=new gfe,this.remoteDocumentCache=new Dfe(r=>this.referenceDelegate.Wr(r)),this.serializer=new cU(t),this.Gr=new Cfe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Afe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new Sfe(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){Be("MemoryPersistence","Starting transaction:",e);const i=new Mfe(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return pe.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}}class Mfe extends LV{constructor(e){super(),this.currentSequenceNumber=e}}class wb{constructor(e){this.persistence=e,this.Jr=new NS,this.Yr=null}static Zr(e){return new wb(e)}get Xr(){if(this.Yr)return this.Yr;throw ot()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),pe.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),pe.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Xr,r=>{const i=rt.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,It.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return pe.or([()=>pe.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class FS{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=an(),i=an();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new FS(e,t.fromCache,r,i)}}class Rfe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class UU{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function F6(){return!function fae(){var n;const e=null===(n=Sy())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function FV(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}(Yi())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Rfe;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(dp()<=yn.DEBUG&&Be("QueryEngine","SDK will not create cache indexes for query:",bp(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),pe.resolve()):(dp()<=yn.DEBUG&&Be("QueryEngine","Query:",bp(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(dp()<=yn.DEBUG&&Be("QueryEngine","The SDK decides to create cache indexes for query:",bp(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mo(t))):pe.resolve())}Yi(e,t){if(v7(t))return pe.resolve(null);let r=mo(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=ab(t,null,"F"),r=mo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=an(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(t,a);return this.ns(t,c,s,l.readTime)?this.Yi(e,ab(t,null,"F")):this.rs(e,c,t,l)}))})))}Zi(e,t,r,i){return v7(t)||i.isEqual(It.min())?pe.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(t,o);return this.ns(t,s,r,i)?pe.resolve(null):(dp()<=yn.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bp(t)),this.rs(e,s,t,function RV(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=It.fromTimestamp(1e9===r?new Vr(t+1,0):new Vr(t,r));return new Rs(i,rt.empty(),e)}(i,-1)).next(a=>a))})}ts(e,t){let r=new Xn(E7(e));return t.forEach((i,o)=>{M_(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return dp()<=yn.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",bp(t)),this.Ji.getDocumentsMatchingQuery(e,t,Rs.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class kfe{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new gr(Gt),this._s=new Ic(o=>eh(o),x_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FU(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function jU(n,e){return VS.apply(this,arguments)}function VS(){return VS=(0,ie.A)(function*(n,e){const t=Xe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=an();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:a}))})})}),VS.apply(this,arguments)}function zU(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function Ffe(n,e){const t=Xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Np(n,e,t){return US.apply(this,arguments)}function US(){return US=(0,ie.A)(function*(n,e,t){const r=Xe(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!vu(s))throw s;Be("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}),US.apply(this,arguments)}function Cb(n,e,t){const r=Xe(n);let i=It.min(),o=an();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const d=Xe(l),m=d._s.get(u);return void 0!==m?pe.resolve(d.os.get(m)):d.Ur.getTargetData(c,u)}(r,s,mo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:It.min(),t?o:an())).next(a=>(function HU(n,e,t){let r=n.us.get(e)||It.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}(r,function I7(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,Ts:o})))}class qS{constructor(){this.activeTargetIds=function fS(){return Vhe}()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QU{constructor(){this.so=new qS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new qS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Bfe{_o(e){}shutdown(){}}class YU{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Sb=null;function HS(){return null===Sb?Sb=268435456+Math.round(2147483648*Math.random()):Sb++,"0x"+Sb.toString(16)}const jfe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zfe{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const vo="WebChannelConnection";class $fe extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){const a=HS(),l=this.xo(t,r.toUriEncodedString());Be("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,o,s),this.No(t,l,c,i).then(u=>(Be("RestConnection",`Received RPC '${t}' ${a}: `,u),u),u=>{throw ca("RestConnection",`RPC '${t}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+up,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){return`${this.Do}/v1/${r}:${jfe[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){const o=HS();return new Promise((s,a)=>{const l=new EV;l.setWithCredentials(!0),l.listenOnce(CV.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Qy.NO_ERROR:const u=l.getResponseJson();Be(vo,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case Qy.TIMEOUT:Be(vo,`RPC '${e}' ${o} timed out`),a(new je(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case Qy.HTTP_ERROR:const d=l.getStatus();if(Be(vo,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const p=m?.error;if(p&&p.status&&p.message){const b=function(E){const C=E.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(C)>=0?C:Ie.UNKNOWN}(p.status);a(new je(b,p.message))}else a(new je(Ie.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new je(Ie.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Be(vo,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);Be(vo,`RPC '${e}' ${o} sending request:`,i),l.send(t,"POST",c,r,15)})}Bo(e,t,r){const i=HS(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=SV(),a=TV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=o.join("");Be(vo,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=s.createWebChannel(u,l);let m=!1,p=!1;const b=new zfe({Io:E=>{p?Be(vo,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(m||(Be(vo,`Opening RPC '${e}' stream ${i} transport.`),d.open(),m=!0),Be(vo,`RPC '${e}' stream ${i} sending:`,E),d.send(E))},To:()=>d.close()}),w=(E,C,k)=>{E.listen(C,B=>{try{k(B)}catch(F){setTimeout(()=>{throw F},0)}})};return w(d,y_.EventType.OPEN,()=>{p||(Be(vo,`RPC '${e}' stream ${i} transport opened.`),b.yo())}),w(d,y_.EventType.CLOSE,()=>{p||(p=!0,Be(vo,`RPC '${e}' stream ${i} transport closed`),b.So())}),w(d,y_.EventType.ERROR,E=>{p||(p=!0,ca(vo,`RPC '${e}' stream ${i} transport errored:`,E),b.So(new je(Ie.UNAVAILABLE,"The operation could not be completed")))}),w(d,y_.EventType.MESSAGE,E=>{var C;if(!p){const k=E.data[0];ut(!!k);const F=k.error||(null===(C=k[0])||void 0===C?void 0:C.error);if(F){Be(vo,`RPC '${e}' stream ${i} received error:`,F);const X=F.status;let se=function(S){const V=vi[S];if(void 0!==V)return j7(V)}(X),z=F.message;void 0===se&&(se=Ie.INTERNAL,z="Unknown error status: "+X+" with message "+F.message),p=!0,b.So(new je(se,z)),d.close()}else Be(vo,`RPC '${e}' stream ${i} received:`,k),b.bo(k)}}),w(a,AV.STAT_EVENT,E=>{E.stat===ZT.PROXY?Be(vo,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===ZT.NOPROXY&&Be(vo,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function Db(){return typeof document<"u"?document:null}function K_(n){return new Zhe(n,!0)}class WS{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&Be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class JU{constructor(e,t,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new WS(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,ie.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,ie.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){var r=this;return(0,ie.A)(function*(){r.u_(),r.c_(),r.t_.cancel(),r.Yo++,4!==e?r.t_.reset():t&&t.code===Ie.RESOURCE_EXHAUSTED?(oi(t.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),r.t_.Wo()):t&&t.code===Ie.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.l_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.mo(t)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{const i=new je(Ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>1==++this.e_?this.E_(i):this.onNext(i))})}i_(){var e=this;this.state=5,this.t_.Go((0,ie.A)(function*(){e.state=0,e.start()}))}I_(e){return Be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qfe extends JU{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function efe(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:ot(),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(ut(void 0===u||"string"==typeof u),Hr.fromBase64String(u||"")):(ut(void 0===u||u instanceof Buffer||u instanceof Uint8Array),Hr.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=void 0===c.code?Ie.UNKNOWN:j7(c.code);return new je(u,c.message||"")}(s);t=new H7(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=vl(n,r.document.name),o=si(r.document.updateTime),s=r.document.createTime?si(r.document.createTime):It.min(),a=new Xi({mapValue:{fields:r.document.fields}}),l=wr.newFoundDocument(i,o,s,a);t=new hb(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=vl(n,r.document),o=r.readTime?si(r.readTime):It.min(),s=wr.newNoDocument(i,o);t=new hb([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=vl(n,r.document);t=new hb([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ot();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new Ghe(i,o);t=new G7(r.targetId,s)}}var c;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return It.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?It.min():s.readTime?si(s.readTime):It.min()}(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=ES(this.serializer),t.addTarget=function(o,s){let a;const l=s.target;if(a=ob(l)?{documents:rU(o,l)}:{query:fb(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Y7(o,s.resumeToken);const c=bS(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(It.min())>0){a.readTime=Ap(o,s.snapshotVersion.toTimestamp());const c=bS(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function nfe(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=ES(this.serializer),t.removeTarget=e,this.a_(t)}}class Gfe extends JU{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return ut(!!e.streamToken),this.lastStreamToken=e.streamToken,ut(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function tfe(n,e){return n&&n.length>0?(ut(void 0!==e),n.map(t=>function(i,o){let s=si(i.updateTime?i.updateTime:o);return s.isEqual(It.min())&&(s=si(o)),new zhe(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=si(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=ES(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function B_(n,e){let t;if(e instanceof Ep)t={update:tU(n,e.key,e.value)};else if(e instanceof Cp)t={delete:U_(n,e.key)};else if(e instanceof Ec)t={update:tU(n,e.key,e.data),updateMask:sfe(e.fieldMask)};else{if(!(e instanceof gS))return ot();t={verify:U_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof wp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof th)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof nh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ip)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ot()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Jhe(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ot()),t;var o}(this.serializer,r))};this.a_(t)}}class Hfe extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new je(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,IS(t,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new je(Ie.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,IS(t,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new je(Ie.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Wfe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(oi(t),this.D_=!1):Be("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Kfe{constructor(e,t,r,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget((0,ie.A)(function*(){var l;Du(s)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,ie.A)(function*(u){const d=Xe(u);d.L_.add(4),yield Rp(d),d.q_.set("Unknown"),d.L_.delete(4),yield Q_(d)}),function c(u){return l.apply(this,arguments)})(s))}))}),this.q_=new Wfe(r,i)}}function Q_(n){return KS.apply(this,arguments)}function KS(){return KS=(0,ie.A)(function*(n){if(Du(n))for(const e of n.B_)yield e(!0)}),KS.apply(this,arguments)}function Rp(n){return QS.apply(this,arguments)}function QS(){return QS=(0,ie.A)(function*(n){for(const e of n.B_)yield e(!1)}),QS.apply(this,arguments)}function xb(n,e){const t=Xe(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),JS(t)?ZS(t):Lp(t).r_()&&YS(t,e))}function kp(n,e){const t=Xe(n),r=Lp(t);t.N_.delete(e),r.r_()&&XU(t,e),0===t.N_.size&&(r.r_()?r.o_():Du(t)&&t.q_.set("Unknown"))}function YS(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(It.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Lp(n).A_(e)}function XU(n,e){n.Q_.xe(e),Lp(n).R_(e)}function ZS(n){n.Q_=new Whe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Lp(n).start(),n.q_.v_()}function JS(n){return Du(n)&&!Lp(n).n_()&&n.N_.size>0}function Du(n){return 0===Xe(n).L_.size}function e9(n){n.Q_=void 0}function Qfe(n){return XS.apply(this,arguments)}function XS(){return XS=(0,ie.A)(function*(n){n.q_.set("Online")}),XS.apply(this,arguments)}function Yfe(n){return eD.apply(this,arguments)}function eD(){return eD=(0,ie.A)(function*(n){n.N_.forEach((e,t)=>{YS(n,e)})}),eD.apply(this,arguments)}function Zfe(n,e){return tD.apply(this,arguments)}function tD(){return tD=(0,ie.A)(function*(n,e){e9(n),JS(n)?(n.q_.M_(e),ZS(n)):n.q_.set("Unknown")}),tD.apply(this,arguments)}function Jfe(n,e,t){return nD.apply(this,arguments)}function nD(){return nD=(0,ie.A)(function*(n,e,t){if(n.q_.set("Online"),e instanceof H7&&2===e.state&&e.cause)try{yield(r=(0,ie.A)(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.N_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.N_.delete(l),o.Q_.removeTarget(l))}),function i(o,s){return r.apply(this,arguments)})(n,e)}catch(r){Be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Pb(n,r)}else if(e instanceof hb?n.Q_.Ke(e):e instanceof G7?n.Q_.He(e):n.Q_.We(e),!t.isEqual(It.min()))try{const r=yield zU(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.N_.get(c);u&&o.N_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.N_.get(l);if(!u)return;o.N_.set(l,u.withResumeToken(Hr.EMPTY_BYTE_STRING,u.snapshotVersion)),XU(o,l);const d=new Cc(u.target,l,c,u.sequenceNumber);YS(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){Be("RemoteStore","Failed to raise snapshot:",r),yield Pb(n,r)}var r}),nD.apply(this,arguments)}function Pb(n,e,t){return rD.apply(this,arguments)}function rD(){return rD=(0,ie.A)(function*(n,e,t){if(!vu(e))throw e;n.L_.add(1),yield Rp(n),n.q_.set("Offline"),t||(t=()=>zU(n.localStore)),n.asyncQueue.enqueueRetryable((0,ie.A)(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Q_(n)}))}),rD.apply(this,arguments)}function t9(n,e){return e().catch(t=>Pb(n,t,e))}function Op(n){return iD.apply(this,arguments)}function iD(){return iD=(0,ie.A)(function*(n){const e=Xe(n),t=xu(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Xfe(e);)try{const i=yield Ffe(e.localStore,r);if(null===i){0===e.O_.length&&t.o_();break}r=i.batchId,epe(e,i)}catch(i){yield Pb(e,i)}n9(e)&&r9(e)}),iD.apply(this,arguments)}function Xfe(n){return Du(n)&&n.O_.length<10}function epe(n,e){n.O_.push(e);const t=xu(n);t.r_()&&t.V_&&t.m_(e.mutations)}function n9(n){return Du(n)&&!xu(n).n_()&&n.O_.length>0}function r9(n){xu(n).start()}function tpe(n){return oD.apply(this,arguments)}function oD(){return oD=(0,ie.A)(function*(n){xu(n).p_()}),oD.apply(this,arguments)}function npe(n){return sD.apply(this,arguments)}function sD(){return sD=(0,ie.A)(function*(n){const e=xu(n);for(const t of n.O_)e.m_(t.mutations)}),sD.apply(this,arguments)}function rpe(n,e,t){return aD.apply(this,arguments)}function aD(){return aD=(0,ie.A)(function*(n,e,t){const r=n.O_.shift(),i=_S.from(r,e,t);yield t9(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Op(n)}),aD.apply(this,arguments)}function ipe(n,e){return lD.apply(this,arguments)}function lD(){return lD=(0,ie.A)(function*(n,e){var t;e&&xu(n).V_&&(yield(t=(0,ie.A)(function*(i,o){if(function B7(n){switch(n){default:return ot();case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0}}(a=o.code)&&a!==Ie.ABORTED){const s=i.O_.shift();xu(i).s_(),yield t9(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Op(i)}var a}),function r(i,o){return t.apply(this,arguments)})(n,e)),n9(n)&&r9(n)}),lD.apply(this,arguments)}function i9(n,e){return cD.apply(this,arguments)}function cD(){return cD=(0,ie.A)(function*(n,e){const t=Xe(n);t.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const r=Du(t);t.L_.add(3),yield Rp(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Q_(t)}),cD.apply(this,arguments)}function dD(){return dD=(0,ie.A)(function*(n,e){const t=Xe(n);e?(t.L_.delete(2),yield Q_(t)):e||(t.L_.add(2),yield Rp(t),t.q_.set("Unknown"))}),dD.apply(this,arguments)}function Lp(n){return n.K_||(n.K_=function(t,r,i){const o=Xe(t);return o.w_(),new qfe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:Qfe.bind(null,n),Ro:Yfe.bind(null,n),mo:Zfe.bind(null,n),d_:Jfe.bind(null,n)}),n.B_.push(function(){var e=(0,ie.A)(function*(t){t?(n.K_.s_(),JS(n)?ZS(n):n.q_.set("Unknown")):(yield n.K_.stop(),e9(n))});return function(t){return e.apply(this,arguments)}}())),n.K_}function xu(n){return n.U_||(n.U_=function(t,r,i){const o=Xe(t);return o.w_(),new Gfe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:tpe.bind(null,n),mo:ipe.bind(null,n),f_:npe.bind(null,n),g_:rpe.bind(null,n)}),n.B_.push(function(){var e=(0,ie.A)(function*(t){t?(n.U_.s_(),yield Op(n)):(yield n.U_.stop(),n.O_.length>0&&(Be("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))});return function(t){return e.apply(this,arguments)}}())),n.U_}class hD{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new hD(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new je(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fp(n,e){if(oi("AsyncQueue",`${e}: ${n}`),vu(n))return new je(Ie.UNAVAILABLE,`${e}: ${n}`);throw n}class Vp{constructor(e){this.comparator=e?(t,r)=>e(t,r)||rt.comparator(t.key,r.key):(t,r)=>rt.comparator(t.key,r.key),this.keyedMap=N_(),this.sortedSet=new gr(this.comparator)}static emptySet(e){return new Vp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Vp)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Vp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class o9{constructor(){this.W_=new gr(rt.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?0!==e.type&&3===r.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==r.type?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.W_=this.W_.remove(t):1===e.type&&2===r.type?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ot():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Up{constructor(e,t,r,i,o,s,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Up(e,t,Vp.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&P_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class ope{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class spe{constructor(){this.queries=s9(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(t,r){const i=Xe(t),o=i.queries;i.queries=s9(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})}(this,new je(Ie.ABORTED,"Firestore shutting down"))}}function s9(){return new Ic(n=>w7(n),P_)}function pD(){return pD=(0,ie.A)(function*(n,e){const t=Xe(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new ope,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){const a=Fp(s,`Initialization of query '${bp(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&_D(t)}),pD.apply(this,arguments)}function mD(){return mD=(0,ie.A)(function*(n,e){const t=Xe(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),0===o.j_.length?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}),mD.apply(this,arguments)}function ape(n,e){const t=Xe(n);let r=!1;for(const i of e){const s=t.queries.get(i.query);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&_D(t)}function lpe(n,e,t){const r=Xe(n),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(t);r.queries.delete(e)}function _D(n){n.Y_.forEach(e=>{e.next()})}var vD,a9;(a9=vD||(vD={})).ea="default",a9.Cache="cache";class yD{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Up(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=Up.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==vD.Cache}}class u9{constructor(e){this.key=e}}class d9{constructor(e){this.key=e}}class h9{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=an(),this.mutatedKeys=an(),this.Aa=E7(e),this.Ra=new Vp(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new o9,i=t?t.Ra:this.Ra;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const m=i.get(u),p=M_(this.query,d)?d:null,b=!!m&&this.mutatedKeys.has(m.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;m&&p?m.data.isEqual(p.data)?b!==w&&(r.track({type:3,doc:p}),E=!0):this.ga(m,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.Aa(p,l)>0||c&&this.Aa(p,c)<0)&&(a=!0)):!m&&p?(r.track({type:0,doc:p}),E=!0):m&&!p&&(r.track({type:1,doc:m}),E=!0,(l||c)&&(a=!0)),E&&(p?(s=s.add(p),o=w?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((u,d)=>function(p,b){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return w(p)-w(b)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(r),i=null!=i&&i;const a=t&&!i?this.ya():[],l=0===this.da.size&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,0!==s.length||c?{snapshot:new Up(this.query,e.Ra,o,s,e.mutatedKeys,0===l,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new o9,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=an(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const t=[];return e.forEach(r=>{this.da.has(r)||t.push(new d9(r))}),this.da.forEach(r=>{e.has(r)||t.push(new u9(r))}),t}ba(e){this.Ta=e.Ts,this.da=an();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Up.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class dpe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class hpe{constructor(e){this.key=e,this.va=!1}}class fpe{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ic(a=>w7(a),P_),this.Ma=new Map,this.xa=new Set,this.Oa=new gr(rt.comparator),this.Na=new Map,this.La=new NS,this.Ba={},this.ka=new Map,this.qa=lh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function ppe(n,e){return bD.apply(this,arguments)}function bD(){return bD=(0,ie.A)(function*(n,e,t=!0){const r=Mb(n);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield f9(r,e,t,!0),i}),bD.apply(this,arguments)}function gpe(n,e){return wD.apply(this,arguments)}function wD(){return wD=(0,ie.A)(function*(n,e){const t=Mb(n);yield f9(t,e,!0,!1)}),wD.apply(this,arguments)}function f9(n,e,t,r){return ID.apply(this,arguments)}function ID(){return ID=(0,ie.A)(function*(n,e,t,r){const i=yield function Mp(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,pe.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new Cc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.os.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}(n.localStore,mo(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t);let a;return r&&(a=yield function ED(n,e,t,r,i){return CD.apply(this,arguments)}(n,e,o,"current"===s,i.resumeToken)),n.isPrimaryClient&&t&&xb(n.remoteStore,i),a}),ID.apply(this,arguments)}function CD(){return CD=(0,ie.A)(function*(n,e,t,r,i){n.Ka=(d,m,p)=>{return(b=(0,ie.A)(function*(E,C,k,B){let F=C.view.ma(k);F.ns&&(F=yield Cb(E.localStore,C.query,!1).then(({documents:x})=>C.view.ma(x,F)));const X=B&&B.targetChanges.get(C.targetId),se=B&&null!=B.targetMismatches.get(C.targetId),z=C.view.applyChanges(F,E.isPrimaryClient,X,se);return OD(E,C.targetId,z.wa),z.snapshot}),function w(E,C,k,B){return b.apply(this,arguments)})(n,d,m,p);var b};const o=yield Cb(n.localStore,e,!0),s=new h9(e,o.Ts),a=s.ma(o.documents),l=V_.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=s.applyChanges(a,n.isPrimaryClient,l);OD(n,t,c.wa);const u=new dpe(e,t,s);return n.Fa.set(e,u),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),c.snapshot}),CD.apply(this,arguments)}function mpe(n,e,t){return AD.apply(this,arguments)}function AD(){return AD=(0,ie.A)(function*(n,e,t){const r=Xe(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!P_(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Np(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&kp(r.remoteStore,i.targetId),Bp(r,i.targetId)}).catch(_u))):(Bp(r,i.targetId),yield Np(r.localStore,i.targetId,!0))}),AD.apply(this,arguments)}function _pe(n,e){return TD.apply(this,arguments)}function TD(){return TD=(0,ie.A)(function*(n,e){const t=Xe(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&1===i.length&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),kp(t.remoteStore,r.targetId))}),TD.apply(this,arguments)}function SD(){return SD=(0,ie.A)(function*(n,e,t){const r=function HD(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bpe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wpe.bind(null,e),e}(n);try{const i=yield function(s,a){const l=Xe(s),c=Vr.now(),u=a.reduce((p,b)=>p.add(b.key),an());let d,m;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let b=ls(),w=an();return l.cs.getEntries(p,u).next(E=>{b=E,b.forEach((C,k)=>{k.isValidDocument()||(w=w.add(C))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,b)).next(E=>{d=E;const C=[];for(const k of a){const B=qhe(k,d.get(k.key).overlayedDocument);null!=B&&C.push(new Ec(k.key,B,o7(B.value.mapValue),Nr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,C,a)}).next(E=>{m=E;const C=E.applyToLocalDocumentSet(d,w);return l.documentOverlayCache.saveOverlays(p,E.batchId,C)})}).then(()=>({batchId:m.batchId,changes:A7(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Ba[s.currentUser.toKey()];c||(c=new gr(Gt)),c=c.insert(a,l),s.Ba[s.currentUser.toKey()]=c}(r,i.batchId,t),yield Ac(r,i.changes),yield Op(r.remoteStore)}catch(i){const o=Fp(i,"Failed to persist write");t.reject(o)}}),SD.apply(this,arguments)}function p9(n,e){return DD.apply(this,arguments)}function DD(){return DD=(0,ie.A)(function*(n,e){const t=Xe(n);try{const r=yield function Lfe(n,e){const t=Xe(n),r=e.snapshotVersion;let i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;const a=[];e.targetChanges.forEach((u,d)=>{const m=i.get(d);if(!m)return;a.push(t.Ur.removeMatchingKeys(o,u.removedDocuments,d).next(()=>t.Ur.addMatchingKeys(o,u.addedDocuments,d)));let p=m.withSequenceNumber(o.currentSequenceNumber);var w,E,C;null!==e.targetMismatches.get(d)?p=p.withResumeToken(Hr.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),E=p,C=u,(0===(w=m).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0)&&a.push(t.Ur.updateTargetData(o,p))});let l=ls(),c=an();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(function $U(n,e,t){let r=an(),i=an();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=ls();return t.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(It.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Be("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:s,Is:i}})}(o,s,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(It.min())){const u=t.Ur.getLastRemoteSnapshotVersion(o).next(d=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return pe.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(t.os=i,o))}(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.Na.get(o);s&&(ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?ut(s.va):i.removedDocuments.size>0&&(ut(s.va),s.va=!1))}),yield Ac(t,r,e)}catch(r){yield _u(r)}}),DD.apply(this,arguments)}function g9(n,e,t){const r=Xe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Xe(s);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const m of d.j_)m.Z_(a)&&(c=!0)}),c&&_D(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ype(n,e,t){return xD.apply(this,arguments)}function xD(){return xD=(0,ie.A)(function*(n,e,t){const r=Xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new gr(rt.comparator);s=s.insert(o,wr.newNoDocument(o,It.min()));const a=an().add(o),l=new F_(It.min(),new Map,new gr(Gt),s,a);yield p9(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),LD(r)}else yield Np(r.localStore,e,!1).then(()=>Bp(r,e,t)).catch(_u)}),xD.apply(this,arguments)}function bpe(n,e){return PD.apply(this,arguments)}function PD(){return PD=(0,ie.A)(function*(n,e){const t=Xe(n),r=e.batch.batchId;try{const i=yield function Ofe(n,e){const t=Xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,m=d.keys();let p=pe.resolve();return m.forEach(b=>{p=p.next(()=>u.getEntry(l,b)).next(w=>{const E=c.docVersions.get(b);ut(null!==E),w.version.compareTo(E)<0&&(d.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),u.addEntry(w)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=an();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);kD(t,r,null),RD(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ac(t,i)}catch(i){yield _u(i)}}),PD.apply(this,arguments)}function wpe(n,e,t){return MD.apply(this,arguments)}function MD(){return MD=(0,ie.A)(function*(n,e,t){const r=Xe(n);try{const i=yield function(s,a){const l=Xe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(ut(null!==d),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);kD(r,e,t),RD(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ac(r,i)}catch(i){yield _u(i)}}),MD.apply(this,arguments)}function RD(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function kD(n,e,t){const r=Xe(n);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Bp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||m9(n,r)})}function m9(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);null!==t&&(kp(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),LD(n))}function OD(n,e,t){for(const r of t)r instanceof u9?(n.La.addReference(r.key,e),Epe(n,r)):r instanceof d9?(Be("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||m9(n,r.key)):ot()}function Epe(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(Be("SyncEngine","New document in limbo: "+t),n.xa.add(r),LD(n))}function LD(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new rt(bn.fromString(e)),r=n.qa.next();n.Na.set(r,new hpe(t)),n.Oa=n.Oa.insert(t,r),xb(n.remoteStore,new Cc(mo(vp(t.path)),r,"TargetPurposeLimboResolution",ks.oe))}}function Ac(n,e,t){return FD.apply(this,arguments)}function FD(){return FD=(0,ie.A)(function*(n,e,t){const r=Xe(n),i=[],o=[],s=[];var a;r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,t).then(c=>{var u;if((c||t)&&r.isPrimaryClient){const d=c?!c.fromCache:null===(u=t?.targetChanges.get(l.targetId))||void 0===u?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=FS.Wi(l.targetId,c);o.push(d)}}))}),yield Promise.all(s),r.Ca.d_(i),yield(a=(0,ie.A)(function*(c,u){const d=Xe(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>pe.forEach(u,p=>pe.forEach(p.$i,b=>d.persistence.referenceDelegate.addReference(m,p.targetId,b)).next(()=>pe.forEach(p.Ui,b=>d.persistence.referenceDelegate.removeReference(m,p.targetId,b)))))}catch(m){if(!vu(m))throw m;Be("LocalStore","Failed to update sequence numbers: "+m)}for(const m of u){const p=m.targetId;if(!m.fromCache){const b=d.os.get(p),E=b.withLastLimboFreeSnapshotVersion(b.snapshotVersion);d.os=d.os.insert(p,E)}}}),function l(c,u){return a.apply(this,arguments)})(r.localStore,o))}),FD.apply(this,arguments)}function Cpe(n,e){return VD.apply(this,arguments)}function VD(){return VD=(0,ie.A)(function*(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){Be("SyncEngine","User change. New user:",e.toKey());const r=yield jU(t.localStore,e);t.currentUser=e,(o=t).ka.forEach(a=>{a.forEach(l=>{l.reject(new je(Ie.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ka.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ac(t,r.hs)}var o}),VD.apply(this,arguments)}function Ape(n,e){const t=Xe(n),r=t.Na.get(e);if(r&&r.va)return an().add(r.key);{let i=an();const o=t.Ma.get(e);if(!o)return i;for(const s of o){const a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function Mb(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=p9.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ape.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ype.bind(null,e),e.Ca.d_=ape.bind(null,e.eventManager),e.Ca.$a=lpe.bind(null,e.eventManager),e}let jp=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){var r=this;return(0,ie.A)(function*(){r.serializer=K_(t.databaseInfo.databaseId),r.sharedClientState=r.Wa(t),r.persistence=r.Ga(t),yield r.persistence.start(),r.localStore=r.za(t),r.gcScheduler=r.ja(t,r.localStore),r.indexBackfillerScheduler=r.Ha(t,r.localStore)})()}ja(t,r){return null}Ha(t,r){return null}za(t){return function BU(n,e,t,r){return new kfe(n,e,t,r)}(this.persistence,new UU,t.initialUser,this.serializer)}Ga(t){return new RS(wb.Zr,this.serializer)}Wa(t){return new QU}terminate(){var t=this;return(0,ie.A)(function*(){var r,i;null===(r=t.gcScheduler)||void 0===r||r.stop(),null===(i=t.indexBackfillerScheduler)||void 0===i||i.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}return n.provider={build:()=>new n},n})(),zp=(()=>{class n{initialize(t,r){var i=this;return(0,ie.A)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(r),i.remoteStore=i.createRemoteStore(r),i.eventManager=i.createEventManager(r),i.syncEngine=i.createSyncEngine(r,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=o=>g9(i.syncEngine,o,1),i.remoteStore.remoteSyncer.handleCredentialChange=Cpe.bind(null,i.syncEngine),yield function uD(n,e){return dD.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new spe}createDatastore(t){const r=K_(t.databaseInfo.databaseId),i=new $fe(t.databaseInfo);return new Hfe(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return i=this.localStore,o=this.datastore,s=t.asyncQueue,a=r=>g9(this.syncEngine,r,0),l=YU.D()?new YU:new Bfe,new Kfe(i,o,s,a,l);var i,o,s,a,l}createSyncEngine(t,r){return function(o,s,a,l,c,u,d){const m=new fpe(o,s,a,l,c,u);return d&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){var t=this;return(0,ie.A)(function*(){var r,i,o;yield(o=(0,ie.A)(function*(a){const l=Xe(a);Be("RemoteStore","RemoteStore shutting down."),l.L_.add(5),yield Rp(l),l.k_.shutdown(),l.q_.set("Unknown")}),function s(a){return o.apply(this,arguments)})(t.remoteStore),null===(r=t.datastore)||void 0===r||r.terminate(),null===(i=t.eventManager)||void 0===i||i.terminate()})()}}return n.provider={build:()=>new n},n})();class Nb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class Vpe{constructor(e,t,r,i,o){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Fi.UNAUTHENTICATED,this.clientId=MV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,function(){var a=(0,ie.A)(function*(l){Be("FirestoreClient","Received user=",l.uid),yield s.authCredentialListener(l),s.user=l});return function(l){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>(Be("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ie.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Fp(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function KD(n,e){return QD.apply(this,arguments)}function QD(){return QD=(0,ie.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ie.A)(function*(o){r.isEqual(o)||(yield jU(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),QD.apply(this,arguments)}function w9(n,e){return YD.apply(this,arguments)}function YD(){return YD=(0,ie.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function ZD(n){return JD.apply(this,arguments)}(n);Be("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>i9(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>i9(e.remoteStore,i)),n._onlineComponents=e}),YD.apply(this,arguments)}function JD(){return JD=(0,ie.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Be("FirestoreClient","Using user provided OfflineComponentProvider");try{yield KD(n,n._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(i=e).name?i.code===Ie.FAILED_PRECONDITION||i.code===Ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw e;ca("Error using user provided cache. Falling back to memory cache: "+e),yield KD(n,new jp)}}else Be("FirestoreClient","Using default OfflineComponentProvider"),yield KD(n,new jp);var i;return n._offlineComponents}),JD.apply(this,arguments)}function Rb(n){return XD.apply(this,arguments)}function XD(){return XD=(0,ie.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Be("FirestoreClient","Using user provided OnlineComponentProvider"),yield w9(n,n._uninitializedComponentsProvider._online)):(Be("FirestoreClient","Using default OnlineComponentProvider"),yield w9(n,new zp))),n._onlineComponents}),XD.apply(this,arguments)}function qp(n){return tx.apply(this,arguments)}function tx(){return tx=(0,ie.A)(function*(n){const e=yield Rb(n),t=e.eventManager;return t.onListen=ppe.bind(null,e.syncEngine),t.onUnlisten=mpe.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=gpe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_pe.bind(null,e.syncEngine),t}),tx.apply(this,arguments)}function S9(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const D9=new Map;function nx(n,e,t){if(!t)throw new je(Ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function x9(n){if(!rt.isDocumentKey(n))throw new je(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function P9(n){if(rt.isDocumentKey(n))throw new je(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":ot()}function _n(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new je(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kb(n);throw new je(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class N9{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new je(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new je(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Ype(n,e,t,r){if(!0===e&&!0===r)throw new je(Ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=S9(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new je(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new je(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new je(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Y_{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N9({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new je(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new je(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N9(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new $de;switch(r.type){case"firstParty":return new Wde(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new je(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,ie.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=D9.get(t);r&&(Be("ComponentProvider","Removing Datastore"),D9.delete(t),r.terminate())}(this),Promise.resolve()}}class eo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new eo(this.firestore,e,this._query)}}class ai{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ai(this.firestore,e,this._key)}}class yl extends eo{constructor(e,t,r){super(e,t,vp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ai(this.firestore,null,new rt(e))}withConverter(e){return new yl(this.firestore,e,this._path)}}function Jpe(n,e,...t){if(n=Zi(n),nx("collection","path",e),n instanceof Y_){const r=bn.fromString(e,...t);return P9(r),new yl(n,null,r)}{if(!(n instanceof ai||n instanceof yl))throw new je(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bn.fromString(e,...t));return P9(r),new yl(n.firestore,null,r)}}function R9(n,e,...t){if(n=Zi(n),1===arguments.length&&(e=MV.newId()),nx("doc","path",e),n instanceof Y_){const r=bn.fromString(e,...t);return x9(r),new ai(n,null,new rt(r))}{if(!(n instanceof ai||n instanceof yl))throw new je(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bn.fromString(e,...t));return x9(r),new ai(n.firestore,n instanceof yl?n.converter:null,new rt(r))}}class O9{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new WS(this,"async_queue_retry"),this.Vu=()=>{const r=Db();r&&Be("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=Db();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Db();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Vi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,ie.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(t){if(!vu(t))throw t;Be("AsyncQueue","Operation failed with retryable error: "+t)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{throw this.Eu=r,this.du=!1,oi("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=hD.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ot()}verifyOperationInProgress(){}wu(){var e=this;return(0,ie.A)(function*(){let t;do{t=e.mu,yield t}while(t!==e.mu)})()}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function rx(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(n)}class sr extends Y_{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new O9,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,ie.A)(function*(){if(e._firestoreClient){const t=e._firestoreClient.terminate();e._queue=new O9(t),e._firestoreClient=void 0,yield t}})()}}function ege(n,e){const r="string"==typeof n?n:e||"(default)",i=function K6(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}("object"==typeof n?n:Z6(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(n=>{const e=(n=>{var e,t;return null===(t=null===(e=Sy())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]})(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})("firestore");o&&function Zpe(n,e,t,r={}){var i;const o=(n=_n(n,Y_))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=Fi.MOCK_USER;else{a=function dae(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ay(JSON.stringify({alg:"none",type:"JWT"})),Ay(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new je(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Fi(c)}n._authCredentials=new qde(new xV(a,l))}}(i,...o)}return i}function Ur(n){if(n._terminated)throw new je(Ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||function L9(n){var e,t,r;const i=n._freezeSettings(),o=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Ehe(n._databaseId,l,n._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,S9(u.experimentalLongPollingOptions),u.useFetchStreams));var l,u;n._componentsProvider||!(null===(t=i.localCache)||void 0===t)&&t._offlineComponentProvider&&!(null===(r=i.localCache)||void 0===r)&&r._onlineComponentProvider&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Vpe(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}(n),n._firestoreClient}class uh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uh(Hr.fromBase64String(e))}catch(t){throw new je(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new uh(Hr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new je(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gp{constructor(e){this._methodName=e}}class ox{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new je(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new je(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gt(this._lat,e._lat)||Gt(this._long,e._long)}}class Ob{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}const nge=/^__.*__$/;class rge{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ec(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ep(e,this.data,t,this.fieldTransforms)}}class V9{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ec(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function U9(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class Lb{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Lb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ub(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(U9(this.Cu)&&nge.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class ige{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||K_(e)}Qu(e,t,r,i=!1){return new Lb({Cu:e,methodName:t,qu:r,path:Pr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hh(n){const e=n._freezeSettings(),t=K_(n._databaseId);return new ige(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Fb(n,e,t,r,i,o={}){const s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);hx("Data must be an object, but it was:",s,r);const a=z9(r,s);let l,c;if(o.merge)l=new as(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const m=X_(e,d,t);if(!s.contains(m))throw new je(Ie.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);q9(u,m)||u.push(m)}l=new as(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new rge(new Xi(a),l,c)}class J_ extends Gp{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof J_}}function fh(n,e){if($9(n=Zi(n)))return hx("Unsupported field value:",e,n),z9(n,e);if(n instanceof Gp)return function(r,i){if(!U9(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=fh(a,i.Lu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if(null===(r=Zi(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return D7(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=Vr.fromDate(r);return{timestampValue:Ap(i.serializer,o)}}if(r instanceof Vr){const o=new Vr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ap(i.serializer,o)}}if(r instanceof ox)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof uh)return{bytesValue:Y7(i.serializer,r._byteString)};if(r instanceof ai){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:wS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ob)return a=i,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:r.toArray().map(l=>{if("number"!=typeof l)throw a.Bu("VectorValues must only contain numeric values.");return pS(a.serializer,l)})}}}}};var a;throw i.Bu(`Unsupported field value: ${kb(r)}`)}(n,e)}function z9(n,e){const t={};return KV(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yu(n,(r,i)=>{const o=fh(i,e.Mu(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function $9(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Vr||n instanceof ox||n instanceof uh||n instanceof ai||n instanceof Gp||n instanceof Ob)}function hx(n,e,t){if(!$9(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=kb(t);throw e.Bu("an object"===r?n+" a custom object":n+" "+r)}var i}function X_(n,e,t){if((e=Zi(e))instanceof dh)return e._internalPath;if("string"==typeof e)return Vb(n,e);throw Ub("Field path arguments must be of type string or ",n,!1,void 0,t)}const oge=new RegExp("[~\\*/\\[\\]]");function Vb(n,e,t){if(e.search(oge)>=0)throw Ub(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new dh(...e.split("."))._internalPath}catch{throw Ub(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ub(n,e,t,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new je(Ie.INVALID_ARGUMENT,a+n+l)}function q9(n,e){return n.some(t=>t.isEqual(e))}class ev{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ai(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sge(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sge extends ev{data(){return super.data()}}function Bb(n,e){return"string"==typeof e?Vb(n,e):e instanceof dh?e._internalPath:e._delegate._internalPath}class fx{}class tv extends fx{}function age(n,e,...t){let r=[];e instanceof fx&&r.push(e),r=r.concat(t),function(o){const s=o.filter(l=>l instanceof Hp).length,a=o.filter(l=>l instanceof nv).length;if(s>1||s>0&&a>0)throw new je(Ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class nv extends tv{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new nv(e,t,r)}_apply(e){const t=this._parse(e);return Q9(e._query,t),new eo(e.firestore,e.converter,hS(e._query,t))}_parse(e){const t=hh(e.firestore);return function(o,s,a,l,c,u,d){let m;if(c.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new je(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){K9(d,u);const p=[];for(const b of d)p.push(W9(l,o,b));m={arrayValue:{values:p}}}else m=W9(l,o,d)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||K9(d,u),m=function j9(n,e,t,r=!1){return fh(t,n.Qu(r?4:3,e))}(a,"where",d,"in"===u||"not-in"===u);return wn.create(c,u,m)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Hp extends fx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hp(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Wn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)Q9(s,l),s=hS(s,l)}(e._query,t),new eo(e.firestore,e.converter,hS(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class px extends tv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new px(e,t)}_apply(e){const t=function(i,o,s){if(null!==i.startAt)throw new je(Ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new je(Ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new D_(o,s)}(e._query,this._field,this._direction);return new eo(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new wc(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function lge(n,e="asc"){const t=e,r=Bb("orderBy",n);return px._create(r,t)}function W9(n,e,t){if("string"==typeof(t=Zi(t))){if(""===t)throw new je(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dS(e)&&-1!==t.indexOf("/"))throw new je(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(bn.fromString(t));if(!rt.isDocumentKey(r))throw new je(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xd(n,new rt(r))}if(t instanceof ai)return Xd(n,t._key);throw new je(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kb(t)}.`)}function K9(n,e){if(!Array.isArray(n)||0===n.length)throw new je(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Q9(n,e){const t=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new je(Ie.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Z9{convertValue(e,t="none"){switch(wu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ot()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return yu(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=null===(i=null===(r=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.map(s=>Mr(s.doubleValue));return new Ob(o)}convertGeoPoint(e){return new ox(Mr(e.latitude),Mr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=eb(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(C_(e));default:return null}}convertTimestamp(e){const t=yc(e);return new Vr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=bn.fromString(e);ut(lU(r));const i=new Jd(r.get(1),r.get(3)),o=new rt(r.popFirst(5));return i.isEqual(t)||oi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class ph{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wp extends ev{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Bb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Gb extends Wp{data(e={}){return super.data(e)}}class Kp{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ph(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Gb(this._firestore,this._userDataWriter,r.key,r,new ph(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new je(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Gb(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ph(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new Gb(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ph(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:dge(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function dge(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}class Pu extends Z9{constructor(e){super(),this.firestore=e}convertBytes(e){return new uh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ai(this.firestore,null,t)}}function hge(n,e,t,...r){n=_n(n,ai);const i=_n(n.firestore,sr),o=hh(i);let s;return s="string"==typeof(e=Zi(e))||e instanceof dh?function dx(n,e,t,r,i,o){const s=n.Qu(1,e,t),a=[X_(e,r,t)],l=[i];if(o.length%2!=0)throw new je(Ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(X_(e,o[m])),l.push(o[m+1]);const c=[],u=Xi.empty();for(let m=a.length-1;m>=0;--m)if(!q9(c,a[m])){const p=a[m];let b=l[m];b=Zi(b);const w=s.Nu(p);if(b instanceof J_)c.push(p);else{const E=fh(b,w);null!=E&&(c.push(p),u.set(p,E))}}const d=new as(c);return new V9(u,d,s.fieldTransforms)}(o,"updateDoc",n._key,e,t,r):function ux(n,e,t,r){const i=n.Qu(1,e,t);hx("Data must be an object, but it was:",i,r);const o=[],s=Xi.empty();yu(r,(l,c)=>{const u=Vb(e,l,t);c=Zi(c);const d=i.Nu(u);if(c instanceof J_)o.push(u);else{const m=fh(c,d);null!=m&&(o.push(u),s.set(u,m))}});const a=new as(o);return new V9(s,a,i.fieldTransforms)}(o,"updateDoc",n._key,e),rv(i,[s.toMutation(n._key,Nr.exists(!0))])}function fge(n){return rv(_n(n.firestore,sr),[new Cp(n._key,Nr.none())])}function pge(n,e){const t=_n(n.firestore,sr),r=R9(n),i=function qb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return rv(t,[Fb(hh(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Nr.exists(!1))]).then(()=>r)}function rv(n,e){return function(r,i){const o=new Vi;return r.asyncQueue.enqueueAndForget((0,ie.A)(function*(){return function vpe(n,e,t){return SD.apply(this,arguments)}(yield function ex(n){return Rb(n).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(Ur(n),e)}!function(e,t=!0){up=My,rp(new jd("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new sr(new Gde(r.getProvider("auth-internal")),new Kde(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new je(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jd(c.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ns(DV,"4.7.3",e),Ns(DV,"4.7.3","esm2017")}();var Wb=function(){return Wb=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Wb.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Dge={includeMetadataChanges:!1};function vx(n,e){return void 0===e&&(e=Dge),new ir(function(t){var r=function gge(n,...e){var t,r,i;n=Zi(n);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof e[s]||rx(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(rx(e[s])){const d=e[s];e[s]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[s+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[s+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let l,c,u;if(n instanceof ai)c=_n(n.firestore,sr),u=vp(n._key.path),l={next:d=>{e[s]&&e[s](function gx(n,e,t){const r=t.docs.get(e._key),i=new Pu(n);return new Wp(n,i,e._key,r,new ph(t.hasPendingWrites,t.fromCache),e.converter)}(c,n,d))},error:e[s+1],complete:e[s+2]};else{const d=_n(n,eo);c=_n(d.firestore,sr),u=d._query;const m=new Pu(c);l={next:p=>{e[s]&&e[s](new Kp(c,m,d,p))},error:e[s+1],complete:e[s+2]},function G9(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new je(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(m,p,b,w){const E=new Nb(w),C=new yD(p,E,b);return m.asyncQueue.enqueueAndForget((0,ie.A)(function*(){return function fD(n,e){return pD.apply(this,arguments)}(yield qp(m),C)})),()=>{E.Za(),m.asyncQueue.enqueueAndForget((0,ie.A)(function*(){return function gD(n,e){return mD.apply(this,arguments)}(yield qp(m),C)}))}}(Ur(c),u,a,l)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Oge(n,e){return void 0===e&&(e={}),function kge(n){return vx(n,{includeMetadataChanges:!0}).pipe(hn(function(e){return e.docs}))}(n).pipe(hn(function(t){return t.map(function(r){return function tB(n,e){var t;void 0===e&&(e={});var r=n.data(e);return n.exists()&&"object"==typeof r&&null!==r&&e.idField?Wb(Wb({},r),((t={})[e.idField]=n.id,t)):r}(r,e)})}))}class gh{constructor(e){return e}}const oB="firestore",wx=new at("angularfire2.firestore-instances");function Uge(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new gh(r)}}const Bge={provide:class Fge{constructor(){return VA(oB)}},deps:[[new Xs,wx]]},jge={provide:gh,useFactory:function Vge(n,e){const t=function a8(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(oB,n,e);return t&&new gh(t)},deps:[[new Xs,wx],o_]};let zge=(()=>{class n{constructor(){Ns("angularfire",FA.full,"fst")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Jo({type:n});static \u0275inj=xo({providers:[jge,Bge]})}return n})();function $ge(n,...e){return{ngModule:zge,providers:[{provide:wx,useFactory:Uge(n),multi:!0,deps:[Bn,fo,c8,u8,[new Xs,yV],[new Xs,qle],...e]}]}}const iv=hl(Oge,!0),Kb=hl(pge,!0),Nu=hl(Jpe,!0),Ix=hl(fge,!0),Qp=hl(R9,!0),qge=hl(ege,!0),Ex=hl(lge,!0),Cx=hl(age,!0),Ax=hl(hge,!0);function Qb(n,e){const t="object"==typeof e;return new Promise((r,i)=>{const o=new Wh({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new km)}});n.subscribe(o)})}let Yb=(()=>{class n{constructor(t){this.firestore=t,this.collectionName="giocatori"}getGiocatoriObservable(){const t=Nu(this.firestore,this.collectionName),r=Cx(t,Ex("numeroMaglia","asc"));return iv(r,{idField:"id"})}getGiocatori(){var t=this;return(0,ie.A)(function*(){return yield Qb(t.getGiocatoriObservable())})()}addGiocatore(t){var r=this;return(0,ie.A)(function*(){const i=Nu(r.firestore,r.collectionName),o=r.normalizeGiocatore(t);yield Kb(i,o)})()}updateGiocatore(t,r){var i=this;return(0,ie.A)(function*(){const o=Qp(i.firestore,i.collectionName,t),s=i.normalizeGiocatore(r);yield Ax(o,s)})()}deleteGiocatore(t){var r=this;return(0,ie.A)(function*(){const i=Qp(r.firestore,r.collectionName,t);yield Ix(i)})()}addMultipleGiocatori(t){var r=this;return(0,ie.A)(function*(){const i=Nu(r.firestore,r.collectionName);for(const o of t){const s=r.normalizeGiocatore(o);yield Kb(i,s)}})()}migrateFromLocalStorage(){var t=this;return(0,ie.A)(function*(){const r=localStorage.getItem("giocatori");if(r){const i=JSON.parse(r);yield t.addMultipleGiocatori(i),console.log(`Migrati ${i.length} giocatori da localStorage a Firestore`)}})()}normalizeGiocatore(t){return{...t,nome:t.nome?t.nome.toLowerCase():"",cognome:t.cognome?t.cognome.toLowerCase():""}}static{this.\u0275fac=function(r){return new(r||n)(ft(gh))}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ru=(()=>{class n{constructor(t){this.giocatoriService=t,this.STORAGE_KEY="currentUser";const r=localStorage.getItem(this.STORAGE_KEY);this.currentUserSubject=new ws(r?JSON.parse(r):null),this.currentUser=this.currentUserSubject.asObservable()}get currentUserValue(){return this.currentUserSubject.value}login(t){var r=this;return(0,ie.A)(function*(){const o=(yield r.giocatoriService.getGiocatori()).find(s=>s.codiceFiscale&&s.codiceFiscale.toUpperCase()===t.toUpperCase());return!!o&&(localStorage.setItem(r.STORAGE_KEY,JSON.stringify(o)),r.currentUserSubject.next(o),!0)})()}logout(){localStorage.removeItem(this.STORAGE_KEY),this.currentUserSubject.next(null)}isAuthenticated(){return null!==this.currentUserValue}hasEditPermission(){const t=this.currentUserValue;return!!t&&("Amministratore"===t.profilo||"Staff"===t.profilo)}isCurrentUser(t){const r=this.currentUserValue;return!(!r||!t)&&r.nome===t.nome&&r.cognome===t.cognome}static{this.\u0275fac=function(r){return new(r||n)(ft(Yb))}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),sB=(()=>{class n{constructor(t){this.firestore=t,this.collectionName="partite",this.metadataCollectionName="partite-metadata"}getPartiteMetadataObservable(){const t=Nu(this.firestore,this.metadataCollectionName);return iv(t,{idField:"id"}).pipe(hn(r=>{if(r&&r.length>0){const i=r[0];return{lastUpdate:i.lastUpdate?.toDate?i.lastUpdate.toDate():new Date(i.lastUpdate),season:i.season}}return{lastUpdate:null,season:""}}))}getPartiteObservable(){const t=Nu(this.firestore,this.collectionName),r=Cx(t,Ex("numeroGara","asc"));return iv(r,{idField:"id"})}getPartiteWithMetadataObservable(){return sy([this.getPartiteObservable(),this.getPartiteMetadataObservable()]).pipe(hn(([t,r])=>({partite:t,lastUpdate:r.lastUpdate,season:r.season})))}getPartite(){var t=this;return(0,ie.A)(function*(){return yield Qb(t.getPartiteObservable())})()}addPartita(t){var r=this;return(0,ie.A)(function*(){const i=Nu(r.firestore,r.collectionName);yield Kb(i,t)})()}updatePartita(t,r){var i=this;return(0,ie.A)(function*(){const o=Qp(i.firestore,i.collectionName,t);yield Ax(o,r)})()}deletePartita(t){var r=this;return(0,ie.A)(function*(){const i=Qp(r.firestore,r.collectionName,t);yield Ix(i)})()}static{this.\u0275fac=function(r){return new(r||n)(ft(gh))}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),aB=(()=>{class n{constructor(t){this.firestore=t,this.allenamentoCollection=Nu(this.firestore,"allenamenti")}getAllenamenti(){const t=Cx(this.allenamentoCollection,Ex("ordinamento","asc"));return iv(t,{idField:"id"})}addAllenamento(t){return Kb(this.allenamentoCollection,t)}updateAllenamento(t,r){const i=Qp(this.firestore,"allenamenti",t);return Ax(i,r)}deleteAllenamento(t){const r=Qp(this.firestore,"allenamenti",t);return Ix(r)}static{this.\u0275fac=function(r){return new(r||n)(ft(gh))}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Gge(n,e){1&n&&(D(0,"a",27),fe(1,"img",28),D(2,"div",29)(3,"h4",30),G(4,"Punto Volley Thunders 2025/2026"),M(),D(5,"small",31),fe(6,"i",32),G(7," Clicca per vedere la squadra "),M()()())}function Hge(n,e){1&n&&(D(0,"div"),fe(1,"img",33),D(2,"div",29)(3,"h4",30),G(4,"Punto Volley Thunders 2025/2026"),M()()())}function Wge(n,e){if(1&n&&(D(0,"div",36)(1,"div",37)(2,"h6",38),fe(3,"i",39),G(4),M(),D(5,"p",40),fe(6,"i",41),D(7,"strong"),G(8),M()(),D(9,"p",40),fe(10,"i",42),D(11,"strong"),G(12),M()(),D(13,"p",43),G(14),M()()()),2&n){const t=e.$implicit;W(4),kn("",t.giorno," "),W(4),Pa("",t.orarioInizio," - ",t.orarioFine,""),W(4),tt(t.nomePalestra),W(2),kn(" ",t.indirizzo," ")}}function Kge(n,e){if(1&n&&(D(0,"div",34),Qe(1,Wge,15,5,"div",35),M()),2&n){const t=We();W(1),ye("ngForOf",t.allenamenti)}}function Qge(n,e){1&n&&(D(0,"div",44),fe(1,"i",45),G(2," Nessun allenamento configurato "),M())}function Yge(n,e){if(1&n&&(D(0,"div",48)(1,"div",49)(2,"div")(3,"small",50),G(4),M(),D(5,"p",30),G(6),M()(),D(7,"span",51),G(8),M()()()),2&n){const t=e.$implicit,r=We(2);nn("border-success",r.isVittoria(t))("border-danger",!r.isVittoria(t)),W(4),tt(r.formatDataBreve(t.data)),W(2),Pa("",t.ospitante," vs ",t.ospite,""),W(1),nn("bg-success",r.isVittoria(t))("bg-danger",!r.isVittoria(t)),W(1),kn(" ",t.risultato," ")}}function Zge(n,e){if(1&n&&(D(0,"div",46),Qe(1,Yge,9,12,"div",47),M()),2&n){const t=We();W(1),ye("ngForOf",t.ultimiRisultati)}}function Jge(n,e){1&n&&(D(0,"div",52),fe(1,"i",53),G(2," Nessun risultato disponibile "),M())}function Xge(n,e){if(1&n&&(D(0,"div",55)(1,"div",56)(2,"div")(3,"small",50),G(4),M(),D(5,"p",57),G(6),M(),D(7,"small",50),fe(8,"i",58),G(9),fe(10,"i",59),G(11),M()()()()),2&n){const t=e.$implicit,r=e.first,i=We(2);nn("bg-warning",r)("bg-opacity-10",r)("bg-light",!r),W(4),tt(i.formatData(t.data)),W(2),Pa("",t.ospitante," vs ",t.ospite,""),W(3),kn("",t.ora||"TBD"," "),W(2),kn("",t.indirizzo||"Da definire"," ")}}function eme(n,e){if(1&n&&(D(0,"div",46),Qe(1,Xge,12,11,"div",54),M()),2&n){const t=We();W(1),ye("ngForOf",t.prossimiAppuntamenti)}}function tme(n,e){1&n&&(D(0,"div",52),fe(1,"i",53),G(2," Nessuna partita in programma "),M())}let nme=(()=>{class n{constructor(t,r,i){this.authService=t,this.calendarioService=r,this.allenamentiService=i,this.ultimiRisultati=[],this.prossimiAppuntamenti=[],this.allenamenti=[]}ngOnInit(){this.allenamentiService.getAllenamenti().subscribe(t=>{this.allenamenti=t}),this.calendarioService.getPartiteObservable().subscribe(t=>{const r=new Date;r.setHours(0,0,0,0);const i=t.filter(s=>{if(!s.data)return!1;const a=this.parseDataPartita(s.data);return!!a&&(a.setHours(0,0,0,0),s.risultato&&a<r)}).sort((s,a)=>{const l=this.parseDataPartita(s.data),c=this.parseDataPartita(a.data);return l&&c?c.getTime()-l.getTime():0});this.ultimiRisultati=i.slice(0,3);const o=t.filter(s=>{if(!s.data)return!1;const a=this.parseDataPartita(s.data);return!!a&&(a.setHours(0,0,0,0),a>=r&&!s.risultato)}).sort((s,a)=>{const l=this.parseDataPartita(s.data),c=this.parseDataPartita(a.data);return l&&c?l.getTime()-c.getTime():0});this.prossimiAppuntamenti=o.slice(0,3)})}parseDataPartita(t){if(!t)return null;try{if(t.match(/^\d{4}-\d{2}-\d{2}$/))return new Date(t);const r=t.split(" "),i=r.length>1?r[1]:r[0],[o,s]=i.split("/").map(d=>parseInt(d));if(isNaN(o)||isNaN(s))return null;const a=new Date,l=a.getFullYear(),c=a.getMonth()+1;let u=l;return c>=9&&s<=8?u=l+1:c<=8&&s>=9&&(u=l-1),new Date(u,s-1,o)}catch(r){return console.warn("Error parsing date:",t,r),null}}encodeURIComponent(t){return encodeURIComponent(t)}isVittoria(t){if(!t.risultato)return!1;const[r,i]=t.risultato.split("-").map(s=>parseInt(s.trim()));return t.ospitante.toLowerCase().includes("thunders")?r>i:i>r}formatData(t){const r=this.parseDataPartita(t);if(!r)return t;const o=r.getDate().toString().padStart(2,"0"),s=(r.getMonth()+1).toString().padStart(2,"0"),a=r.getFullYear();return`${["Domenica","Luned\xec","Marted\xec","Mercoled\xec","Gioved\xec","Venerd\xec","Sabato"][r.getDay()]} ${o}/${s}/${a}`}formatDataBreve(t){const r=this.parseDataPartita(t);return r?`${r.getDate().toString().padStart(2,"0")}/${(r.getMonth()+1).toString().padStart(2,"0")}/${r.getFullYear()}`:t}static{this.\u0275fac=function(r){return new(r||n)(ke(Ru),ke(sB),ke(aB))}}static{this.\u0275cmp=Es({type:n,selectors:[["app-homepage"]],decls:48,vars:8,consts:[[1,"container-fluid","px-4","homepage-container","mb-5"],[1,"row","d-none","d-md-block","mb-4"],[1,"col-12","text-center"],[1,"title-wrapper"],[1,"homepage-title"],[1,"bi","bi-lightning-fill"],[1,"row","g-4"],[1,"col-12","col-lg-6"],[1,"card","shadow","rounded-4","overflow-hidden","h-100"],[1,"position-relative"],["routerLink","/squadra","class","text-decoration-none d-block",4,"ngIf"],[4,"ngIf"],[1,"card","shadow","h-100"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"bi","bi-calendar3","me-2"],[1,"card-body"],["class","d-flex flex-column gap-3",4,"ngIf"],["class","text-center py-4 text-muted",4,"ngIf"],[1,"bi","bi-graph-up","me-2"],["class","d-flex flex-column gap-2",4,"ngIf"],["class","text-center text-muted py-4",4,"ngIf"],[1,"mt-3","text-center"],["routerLink","/calendario",1,"btn","btn-outline-primary","btn-sm"],[1,"bi","bi-calendar-check","me-1"],[1,"bi","bi-calendar-event","me-2"],[1,"bi","bi-calendar3","me-1"],["routerLink","/squadra",1,"text-decoration-none","d-block"],["src","assets/images/thunders.JPG","alt","Punto Volley CR ASD Thunders",1,"img-fluid","w-100","team-image-enhanced","clickable-image"],[1,"position-absolute","bottom-0","start-0","end-0","bg-dark","bg-opacity-75","text-white","text-center","py-3"],[1,"mb-0","fw-bold"],[1,"opacity-75"],[1,"bi","bi-arrow-right-circle","me-1"],["src","assets/images/thunders.JPG","alt","Punto Volley CR ASD Thunders",1,"img-fluid","w-100","team-image-enhanced"],[1,"d-flex","flex-column","gap-3"],["class","p-3 bg-light rounded",4,"ngFor","ngForOf"],[1,"p-3","bg-light","rounded"],[1,"mb-2"],[1,"text-primary","mb-1"],[1,"bi","bi-calendar-week","me-2"],[1,"mb-1"],[1,"bi","bi-clock-fill","me-2"],[1,"bi","bi-geo-alt-fill","me-2"],[1,"mb-0","text-muted","small"],[1,"text-center","py-4","text-muted"],[1,"bi","bi-info-circle","me-2"],[1,"d-flex","flex-column","gap-2"],["class","p-3 border-start border-4 bg-light rounded",3,"border-success","border-danger",4,"ngFor","ngForOf"],[1,"p-3","border-start","border-4","bg-light","rounded"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-muted"],[1,"badge","fs-6"],[1,"text-center","text-muted","py-4"],[1,"bi","bi-calendar-x","fs-2","d-block","mb-2"],["class","p-3 rounded",3,"bg-warning","bg-opacity-10","bg-light",4,"ngFor","ngForOf"],[1,"p-3","rounded"],[1,"d-flex","justify-content-between","align-items-start"],[1,"mb-1","fw-bold"],[1,"bi","bi-clock","me-1"],[1,"bi","bi-geo-alt","ms-2","me-1"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),G(5," PuntoVolley Thunders "),fe(6,"i",5),M()()()(),D(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9),Qe(11,Gge,8,0,"a",10),Qe(12,Hge,5,0,"div",11),M()()(),D(13,"div",7)(14,"div",12)(15,"div",13)(16,"h5",14),fe(17,"i",15),G(18," Allenamenti "),M()(),D(19,"div",16),Qe(20,Kge,2,1,"div",17),Qe(21,Qge,3,0,"div",18),M()()(),D(22,"div",7)(23,"div",12)(24,"div",13)(25,"h5",14),fe(26,"i",19),G(27," Ultimi Risultati "),M()(),D(28,"div",16),Qe(29,Zge,2,1,"div",20),Qe(30,Jge,3,0,"div",21),D(31,"div",22)(32,"a",23),fe(33,"i",24),G(34," Vedi tutti i risultati "),M()()()()(),D(35,"div",7)(36,"div",12)(37,"div",13)(38,"h5",14),fe(39,"i",25),G(40," Prossime Partite "),M()(),D(41,"div",16),Qe(42,eme,2,1,"div",20),Qe(43,tme,3,0,"div",21),D(44,"div",22)(45,"a",23),fe(46,"i",26),G(47," Vedi calendario completo "),M()()()()()()()),2&r&&(W(11),ye("ngIf",i.authService.hasEditPermission()),W(1),ye("ngIf",!i.authService.hasEditPermission()),W(8),ye("ngIf",i.allenamenti.length>0),W(1),ye("ngIf",0===i.allenamenti.length),W(8),ye("ngIf",i.ultimiRisultati.length>0),W(1),ye("ngIf",0===i.ultimiRisultati.length),W(12),ye("ngIf",i.prossimiAppuntamenti.length>0),W(1),ye("ngIf",0===i.prossimiAppuntamenti.length))},dependencies:[Ld,Ra,Jm],styles:[".homepage-container[_ngcontent-%COMP%]{margin-top:.25rem}.title-wrapper[_ngcontent-%COMP%]{margin:0 auto;max-width:600px;padding:.5rem 2rem}.homepage-title[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d6efd 0%,#0a58ca 50%,#0d6efd 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text;background-size:200% auto;font-weight:700;font-size:2rem;margin:0;letter-spacing:.5px;animation:_ngcontent-%COMP%_shine 3s linear infinite;filter:drop-shadow(0 2px 8px rgba(13,110,253,.4))}@keyframes _ngcontent-%COMP%_shine{to{background-position:200% center}}.homepage-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffc107;-webkit-text-fill-color:#ffc107;filter:drop-shadow(0 0 12px rgba(255,193,7,.8)) drop-shadow(0 0 20px rgba(255,193,7,.4));animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite;display:inline-block}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1) rotate(0)}50%{transform:scale(1.15) rotate(-10deg)}}.team-image-enhanced[_ngcontent-%COMP%]{object-fit:cover;height:400px;max-height:50vh;object-position:center;transition:transform .3s ease,filter .3s ease}.clickable-image[_ngcontent-%COMP%]:hover{transform:scale(1.02);filter:brightness(1.1);cursor:pointer}.maps-link[_ngcontent-%COMP%]{transition:all .3s ease}.maps-link[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026;background-color:var(--bs-primary)!important;background-opacity:.2!important}@media (max-width: 768px){.team-image-enhanced[_ngcontent-%COMP%]{height:300px;max-height:45vh}.maps-link[_ngcontent-%COMP%]:hover{transform:none}}@media (max-width: 480px){.team-image-enhanced[_ngcontent-%COMP%]{height:250px;max-height:40vh}.clickable-image[_ngcontent-%COMP%]:hover{transform:none}}"]})}}return n})(),lB=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(ke(Xl),ke(Ds))}}static{this.\u0275dir=qt({type:n})}}return n})(),mh=(()=>{class n extends lB{static{this.\u0275fac=function(){let t;return function(i){return(t||(t=Qi(n)))(i||n)}}()}static{this.\u0275dir=qt({type:n,features:[Gn]})}}return n})();const bl=new at("NgValueAccessor"),ime={provide:bl,useExisting:ur(()=>Tx),multi:!0};let Tx=(()=>{class n extends mh{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=Qi(n)))(i||n)}}()}static{this.\u0275dir=qt({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&Le("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Dr([ime]),Gn]})}}return n})();const ome={provide:bl,useExisting:ur(()=>Tc),multi:!0},ame=new at("CompositionEventMode");let Tc=(()=>{class n extends lB{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function sme(){const n=cu()?cu().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(ke(Xl),ke(Ds),ke(ame,8))}}static{this.\u0275dir=qt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Le("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Dr([ome]),Gn]})}}return n})();function ku(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function cB(n){return null!=n&&"number"==typeof n.length}const yo=new at("NgValidators"),Ou=new at("NgAsyncValidators"),lme=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wl{static min(e){return function uB(n){return e=>{if(ku(e.value)||ku(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function dB(n){return e=>{if(ku(e.value)||ku(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function hB(n){return ku(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function fB(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function pB(n){return ku(n.value)||lme.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function gB(n){return e=>ku(e.value)||!cB(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return mB(e)}static pattern(e){return function _B(n){if(!n)return Zb;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ku(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return EB(e)}static composeAsync(e){return CB(e)}}function mB(n){return e=>cB(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Zb(n){return null}function vB(n){return null!=n}function yB(n){return vm(n)?ki(n):n}function bB(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function wB(n,e){return e.map(t=>t(n))}function IB(n){return n.map(e=>function cme(n){return!n.validate}(e)?e:t=>e.validate(t))}function EB(n){if(!n)return null;const e=n.filter(vB);return 0==e.length?null:function(t){return bB(wB(t,e))}}function Sx(n){return null!=n?EB(IB(n)):null}function CB(n){if(!n)return null;const e=n.filter(vB);return 0==e.length?null:function(t){return function rme(...n){const e=FM(n),{args:t,keys:r}=CF(n),i=new ir(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let d=!1;co(t[u]).subscribe(Xr(o,m=>{d||(d=!0,c--),a[u]=m},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?AF(r,a):a),o.complete())}))}});return e?i.pipe(WC(e)):i}(wB(t,e).map(yB)).pipe(hn(bB))}}function Dx(n){return null!=n?CB(IB(n)):null}function AB(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function TB(n){return n._rawValidators}function SB(n){return n._rawAsyncValidators}function xx(n){return n?Array.isArray(n)?n:[n]:[]}function Jb(n,e){return Array.isArray(n)?n.includes(e):n===e}function DB(n,e){const t=xx(e);return xx(n).forEach(i=>{Jb(t,i)||t.push(i)}),t}function xB(n,e){return xx(e).filter(t=>!Jb(n,t))}class PB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Sx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Dx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Bo extends PB{get formDirective(){return null}get path(){return null}}class Lu extends PB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class MB{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let _h=(()=>{class n extends MB{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(ke(Lu,2))}}static{this.\u0275dir=qt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&nn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Gn]})}}return n})(),Px=(()=>{class n extends MB{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(ke(Bo,10))}}static{this.\u0275dir=qt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&nn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Gn]})}}return n})();const ov="VALID",e2="INVALID",Yp="PENDING",sv="DISABLED";function Rx(n){return(t2(n)?n.validators:n)||null}function kx(n,e){return(t2(e)?e.asyncValidators:n)||null}function t2(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function RB(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new ze(1e3,"");if(!r[t])throw new ze(1001,"")}function kB(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new ze(1002,"")})}class n2{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ov}get invalid(){return this.status===e2}get pending(){return this.status==Yp}get disabled(){return this.status===sv}get enabled(){return this.status!==sv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(DB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(DB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(xB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(xB(e,this._rawAsyncValidators))}hasValidator(e){return Jb(this._rawValidators,e)}hasAsyncValidator(e){return Jb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Yp,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=sv,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ov,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ov||this.status===Yp)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sv:ov}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Yp,this._hasOwnPendingAsyncValidator=!0;const t=yB(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Sr,this.statusChanges=new Sr}_calculateStatus(){return this._allControlsDisabled()?sv:this.errors?e2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yp)?Yp:this._anyControlsHaveStatus(e2)?e2:ov}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){t2(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function fme(n){return Array.isArray(n)?Sx(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function pme(n){return Array.isArray(n)?Dx(n):n||null}(this._rawAsyncValidators)}}class av extends n2{constructor(e,t,r){super(Rx(t),kx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){kB(this,0,e),Object.keys(e).forEach(r=>{RB(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class OB extends av{}const vh=new at("CallSetDisabledState",{providedIn:"root",factory:()=>lv}),lv="always";function r2(n,e){return[...e.path,n]}function cv(n,e,t=lv){Ox(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function mme(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&LB(n,e)})}(n,e),function vme(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function _me(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&LB(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function gme(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function i2(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),s2(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function o2(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ox(n,e){const t=TB(n);null!==e.validator?n.setValidators(AB(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=SB(n);null!==e.asyncValidator?n.setAsyncValidators(AB(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();o2(e._rawValidators,i),o2(e._rawAsyncValidators,i)}function s2(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=TB(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=SB(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return o2(e._rawValidators,r),o2(e._rawAsyncValidators,r),t}function LB(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Fx(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Vx(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Tc?t=o:function wme(n){return Object.getPrototypeOf(n.constructor)===mh}(o)?r=o:i=o}),i||r||t||null}function UB(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function BB(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const dv=class extends n2{constructor(e=null,t,r){super(Rx(t),kx(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),t2(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=BB(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){UB(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){UB(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){BB(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Tme={provide:Lu,useExisting:ur(()=>Zp)},$B=(()=>Promise.resolve())();let Zp=(()=>{class n extends Lu{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new dv,this._registered=!1,this.name="",this.update=new Sr,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Vx(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Fx(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){cv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){$B.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&Gf(r);$B.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?r2(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(ke(Bo,9),ke(yo,10),ke(Ou,10),ke(bl,10),ke(B0,8),ke(vh,8))}}static{this.\u0275dir=qt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Dr([Tme]),Gn,As]})}}return n})(),Bx=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=qt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();const Sme={provide:bl,useExisting:ur(()=>jx),multi:!0};let jx=(()=>{class n extends mh{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=Qi(n)))(i||n)}}()}static{this.\u0275dir=qt({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&Le("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Dr([Sme]),Gn]})}}return n})(),qB=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Jo({type:n})}static{this.\u0275inj=xo({})}}return n})();const zx=new at("NgModelWithFormControlWarning"),Nme={provide:Bo,useExisting:ur(()=>hv)};let hv=(()=>{class n extends Bo{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Sr,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(s2(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return cv(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){i2(t.control||null,t,!1),function Ime(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function VB(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(i2(r||null,t),(n=>n instanceof dv)(i)&&(cv(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function FB(n,e){Ox(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function yme(n,e){return s2(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ox(this.form,this),this._oldForm&&s2(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(r){return new(r||n)(ke(yo,10),ke(Ou,10),ke(vh,8))}}static{this.\u0275dir=qt({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Le("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Dr([Nme]),Gn,As]})}}return n})();const Ome={provide:Lu,useExisting:ur(()=>a2)};let a2=(()=>{class n extends Lu{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Sr,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Vx(0,o)}ngOnChanges(t){this._added||this._setUpControl(),Fx(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return r2(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(ke(Bo,13),ke(yo,10),ke(Ou,10),ke(bl,10),ke(zx,8))}}static{this.\u0275dir=qt({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Dr([Ome]),Gn,As]})}}return n})();const Lme={provide:bl,useExisting:ur(()=>Jp),multi:!0};function QB(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Jp=(()=>{class n extends mh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=QB(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function Fme(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=Qi(n)))(i||n)}}()}static{this.\u0275dir=qt({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&Le("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Dr([Lme]),Gn]})}}return n})(),l2=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(QB(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(ke(Ds),ke(Xl),ke(Jp,9))}}static{this.\u0275dir=qt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();const Vme={provide:bl,useExisting:ur(()=>Gx),multi:!0};function YB(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Gx=(()=>{class n extends mh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);i.push(c)}}else{const s=r.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Ume(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=Qi(n)))(i||n)}}()}static{this.\u0275dir=qt({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&Le("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Dr([Vme]),Gn]})}}return n})(),c2=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(YB(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(YB(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(ke(Ds),ke(Xl),ke(Gx,9))}}static{this.\u0275dir=qt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();let yh=(()=>{class n{constructor(){this._validator=Zb}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Zb,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=qt({type:n,features:[As]})}}return n})();const Hme={provide:yo,useExisting:ur(()=>fv),multi:!0};let fv=(()=>{class n extends yh{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function ZB(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>mB(t)}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=Qi(n)))(i||n)}}()}static{this.\u0275dir=qt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Ai("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Dr([Hme]),Gn]})}}return n})(),oj=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Jo({type:n})}static{this.\u0275inj=xo({imports:[qB]})}}return n})();class sj extends n2{constructor(e,t,r){super(Rx(t),kx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){kB(this,0,e),e.forEach((r,i)=>{RB(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function aj(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let lj=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let o={};return aj(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new av(i,o)}record(t,r=null){const i=this._reduceControls(t);return new OB(i,r)}control(t,r,i){let o={};return this.useNonNullable?(aj(r)?o=r:(o.validators=r,o.asyncValidators=i),new dv(t,{...o,nonNullable:!0})):new dv(t,r,i)}array(t,r,i){const o=t.map(s=>this._createControl(s));return new sj(o,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof dv||t instanceof n2?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Kme=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:vh,useValue:t.callSetDisabledState??lv}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Jo({type:n})}static{this.\u0275inj=xo({imports:[oj]})}}return n})(),Qme=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:zx,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:vh,useValue:t.callSetDisabledState??lv}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Jo({type:n})}static{this.\u0275inj=xo({imports:[oj]})}}return n})(),La=(()=>{class n{static{this.PROFILI_UTENTE={amministratore:{value:"amministratore",label:"Amministratore"},giocatore:{value:"giocatore",label:"Giocatore"},staff:{value:"staff",label:"Staff"}}}static{this.RUOLI={schiacciatore:{value:"schiacciatore",label:"Schiacciatore"},palleggiatore:{value:"palleggiatore",label:"Palleggiatore"},centrale:{value:"centrale",label:"Centrale"},libero:{value:"libero",label:"Libero"},opposto:{value:"opposto",label:"Opposto"},allenatore:{value:"allenatore",label:"Allenatore"},dirigente:{value:"dirigente",label:"Dirigente"}}}static{this.ADDETTO_DEFIBRILLATORE_THUNDERS={nome:"Emanuele",cognome:"Peroni",codiceFiscale:"PRNMNL97L08D972O",dataDiNascita:"1997-07-08",luogoNascita:"Genzano di Roma",residenza:"Via Napoli 55, Albano Laziale"}}static{this.TITOLO_PDF="SETTORE DI ATTIVIT\xc0 PALLAVOLO UISP LAZIO SUD EST"}static{this.PRIMO_SOTTOTITOLO="LISTA PARTECIPANTI ALLA GARA"}static{this.SECONDO_SOTTOTITOLO="DENOMINAZIONE DELLA SQUADRA"}static{this.NOME_SQUADRA="PUNTO VOLLEY CR ASD THUNDERS"}static{this.TITOLO_DEFIBRILLATORE="DA COMPILARE DA PARTE DELLA SOLA SQUADRA OSPITANTE"}static{this.SOTTOTITOLO_DEFIBRILLATORE="AUTOCERTIFICAZIONE DELL'ADDETTO ALL'UTILIZZO DEL DEFIBRILLATORE (ART. 45 E 46 DPR 28 DICEMBRE 2000 N. 445)"}static{this.TESTO_DICHIARAZIONE_DEFIBRILLATORE="CONSAPEVOLE della responsabilit\xe0 penale e civile derivante da dichiarazioni mendaci, DICHIARA che nella struttura sportiva ove si svolge la gara \xe8 presente un defibrillatore semiautomatico esterno conforme alla vigente normativa e che \xe8 presente una persona adeguatamente formata al suo utilizzo."}}return n})();function Yme(n,e){if(1&n&&(D(0,"option",40),G(1),M()),2&n){const t=e.$implicit;ye("value",t.label),W(1),tt(t.label)}}function Zme(n,e){if(1&n&&(D(0,"option",40),G(1),M()),2&n){const t=e.$implicit;ye("value",t.label),W(1),tt(t.label)}}function Jme(n,e){if(1&n&&(D(0,"div",9)(1,"label",41),G(2,"Profilo *"),M(),D(3,"select",42)(4,"option",22),G(5,"Seleziona un profilo"),M(),Qe(6,Zme,2,2,"option",23),M(),D(7,"div",12),G(8,"Il profilo \xe8 obbligatorio"),M()()),2&n){const t=We();let r;W(3),nn("is-invalid",(null==(r=t.giocatoreForm.get("profilo"))?null:r.invalid)&&(null==(r=t.giocatoreForm.get("profilo"))?null:r.touched)),W(3),ye("ngForOf",t.profili)}}function Xme(n,e){1&n&&(D(0,"div",43),fe(1,"input",44),D(2,"label",45),G(3," Capitano "),M()())}let e_e=(()=>{class n{constructor(t,r){this.fb=t,this.authService=r,this.giocatore=null,this.isEditMode=!1,this.onSave=new Sr,this.onClose=new Sr,this.ruoli=[],this.profili=[]}ngOnInit(){this.ruoli=Object.values(La.RUOLI),this.profili=Object.values(La.PROFILI_UTENTE),this.giocatoreForm=this.fb.group({id:[null],nome:["",wl.required],cognome:["",wl.required],numeroMaglia:[""],dataDiNascita:["",wl.required],ruolo:["",wl.required],tesseraUisp:["",wl.required],capitano:[!1],codiceFiscale:[""],profilo:["",wl.required],email:["",[wl.email]],tagliaDivisa:[""],scadenzaCertificatoMedico:[""]})}ngOnChanges(t){t.giocatore&&this.giocatoreForm&&(this.giocatore?this.giocatoreForm.patchValue(this.giocatore):this.giocatoreForm.reset())}salvaGiocatore(){if(this.giocatoreForm.valid){const t=this.giocatoreForm.value;t.tagliaDivisa&&(t.tagliaDivisa=t.tagliaDivisa.toUpperCase()),this.onSave.emit(t),this.giocatoreForm.reset({nome:"",cognome:"",numeroMaglia:"",dataDiNascita:"",ruolo:"",tesseraUisp:"",capitano:!1,codiceFiscale:"",profilo:"",email:"",tagliaDivisa:"",scadenzaCertificatoMedico:""})}}onCancel(){this.giocatoreForm.reset(),this.onClose.emit()}static{this.\u0275fac=function(r){return new(r||n)(ke(lj),ke(Ru))}}static{this.\u0275cmp=Es({type:n,selectors:[["app-dialog-giocatore"]],inputs:{giocatore:"giocatore",isEditMode:"isEditMode"},outputs:{onSave:"onSave",onClose:"onClose"},features:[As],decls:78,vars:20,consts:[["id","giocatoreModal","tabindex","-1","aria-labelledby","giocatoreModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","giocatoreModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"row","mb-3"],[1,"col-6"],["for","nome",1,"form-label"],["type","text","id","nome","formControlName","nome",1,"form-control"],[1,"invalid-feedback"],["for","cognome",1,"form-label"],["type","text","id","cognome","formControlName","cognome",1,"form-control"],["for","numeroMaglia",1,"form-label"],["type","number","id","numeroMaglia","formControlName","numeroMaglia",1,"form-control"],["for","dataDiNascita",1,"form-label"],["type","date","id","dataDiNascita","formControlName","dataDiNascita",1,"form-control"],[1,"col-12"],["for","ruolo",1,"form-label"],["id","ruolo","formControlName","ruolo",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"ngClass"],["for","tesseraUisp",1,"form-label"],["type","text","id","tesseraUisp","formControlName","tesseraUisp",1,"form-control"],["class","col-6",4,"ngIf"],["for","codiceFiscale",1,"form-label"],["type","text","id","codiceFiscale","formControlName","codiceFiscale","maxlength","16",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","esempio@email.it",1,"form-control"],["for","tagliaDivisa",1,"form-label"],["type","text","id","tagliaDivisa","formControlName","tagliaDivisa","placeholder","Es: M, L, XL",1,"form-control",2,"text-transform","uppercase"],["for","scadenzaCertificatoMedico",1,"form-label"],["type","date","id","scadenzaCertificatoMedico","formControlName","scadenzaCertificatoMedico",1,"form-control"],["class","form-check mb-3",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[3,"value"],["for","profilo",1,"form-label"],["id","profilo","formControlName","profilo",1,"form-select"],[1,"form-check","mb-3"],["type","checkbox","id","capitano","formControlName","capitano",1,"form-check-input"],["for","capitano",1,"form-check-label"]],template:function(r,i){if(1&r&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),G(5),M(),fe(6,"button",5),M(),D(7,"div",6)(8,"form",7)(9,"div",8)(10,"div",9)(11,"label",10),G(12,"Nome *"),M(),fe(13,"input",11),D(14,"div",12),G(15,"Il nome \xe8 obbligatorio"),M()(),D(16,"div",9)(17,"label",13),G(18,"Cognome *"),M(),fe(19,"input",14),D(20,"div",12),G(21,"Il cognome \xe8 obbligatorio"),M()()(),D(22,"div",8)(23,"div",9)(24,"label",15),G(25,"Numero Maglia"),M(),fe(26,"input",16),M(),D(27,"div",9)(28,"label",17),G(29,"Data di Nascita *"),M(),fe(30,"input",18),D(31,"div",12),G(32,"La data di nascita \xe8 obbligatoria"),M()()(),D(33,"div",8)(34,"div",19)(35,"label",20),G(36,"Ruolo *"),M(),D(37,"select",21)(38,"option",22),G(39,"Seleziona un ruolo"),M(),Qe(40,Yme,2,2,"option",23),M(),D(41,"div",12),G(42,"Il ruolo \xe8 obbligatorio"),M()()(),D(43,"div",8)(44,"div",24)(45,"label",25),G(46,"Tessera UISP *"),M(),fe(47,"input",26),D(48,"div",12),G(49,"La tessera UISP \xe8 obbligatoria"),M()(),Qe(50,Jme,9,3,"div",27),M(),D(51,"div",8)(52,"div",19)(53,"label",28),G(54,"Codice Fiscale"),M(),fe(55,"input",29),M()(),D(56,"div",8)(57,"div",19)(58,"label",30),G(59,"Email"),M(),fe(60,"input",31),D(61,"div",12),G(62,"Inserisci un indirizzo email valido"),M()()(),D(63,"div",8)(64,"div",9)(65,"label",32),G(66,"Taglia Divisa"),M(),fe(67,"input",33),M(),D(68,"div",9)(69,"label",34),G(70,"Scadenza Certificato Medico"),M(),fe(71,"input",35),M()(),Qe(72,Xme,4,0,"div",36),M()(),D(73,"div",37)(74,"button",38),Le("click",function(){return i.onCancel()}),G(75,"Annulla"),M(),D(76,"button",39),Le("click",function(){return i.salvaGiocatore()}),G(77),M()()()()()),2&r){let o,s,a,l,c,u;W(5),tt(i.isEditMode?"Modifica Giocatore":"Aggiungi Giocatore"),W(3),ye("formGroup",i.giocatoreForm),W(5),nn("is-invalid",(null==(o=i.giocatoreForm.get("nome"))?null:o.invalid)&&(null==(o=i.giocatoreForm.get("nome"))?null:o.touched)),W(6),nn("is-invalid",(null==(s=i.giocatoreForm.get("cognome"))?null:s.invalid)&&(null==(s=i.giocatoreForm.get("cognome"))?null:s.touched)),W(11),nn("is-invalid",(null==(a=i.giocatoreForm.get("dataDiNascita"))?null:a.invalid)&&(null==(a=i.giocatoreForm.get("dataDiNascita"))?null:a.touched)),W(7),nn("is-invalid",(null==(l=i.giocatoreForm.get("ruolo"))?null:l.invalid)&&(null==(l=i.giocatoreForm.get("ruolo"))?null:l.touched)),W(3),ye("ngForOf",i.ruoli),W(4),ye("ngClass",i.authService.hasEditPermission()?"col-6":"col-12"),W(3),nn("is-invalid",(null==(c=i.giocatoreForm.get("tesseraUisp"))?null:c.invalid)&&(null==(c=i.giocatoreForm.get("tesseraUisp"))?null:c.touched)),W(3),ye("ngIf",i.authService.hasEditPermission()),W(10),nn("is-invalid",(null==(u=i.giocatoreForm.get("email"))?null:u.invalid)&&(null==(u=i.giocatoreForm.get("email"))?null:u.touched)),W(12),ye("ngIf",i.authService.hasEditPermission()),W(4),ye("disabled",i.giocatoreForm.invalid),W(1),kn(" ",i.isEditMode?"Salva Modifiche":"Aggiungi"," ")}},dependencies:[ty,Ld,Ra,Bx,l2,c2,Tc,jx,Tx,Jp,_h,Px,fv,hv,a2]})}}return n})(),Wx=(()=>{class n{transform(t){return t?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():""}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275pipe=Po({name:"capitalize",type:n,pure:!0})}}return n})();function t_e(n,e){if(1&n&&(D(0,"span",51),fe(1,"i",52),G(2),M()),2&n){const t=We();W(2),kn("",t.numeroGiocatori," giocatori ")}}function n_e(n,e){if(1&n&&(D(0,"div",53)(1,"span",54),G(2,"Totale giocatori"),M(),D(3,"span",55),G(4),M()()),2&n){const t=We();W(4),tt(t.numeroGiocatori)}}function r_e(n,e){if(1&n&&(D(0,"div",53)(1,"span",54),G(2,"Et\xe0 media"),M(),D(3,"span",55),G(4),M()()),2&n){const t=We();W(4),kn("",t.etaMedia," anni")}}function i_e(n,e){if(1&n&&(D(0,"div",53)(1,"span",54),G(2,"Capitano"),M(),D(3,"span",55),G(4),M()()),2&n){const t=We();W(4),tt(t.nomeCapitano)}}function o_e(n,e){if(1&n&&(D(0,"span",63),G(1),xr(2,"date"),M()),2&n){const t=We().$implicit;ye("ngClass",We().getCertificatoClass(t.scadenzaCertificatoMedico)),W(1),kn(" ",Ps(2,2,t.scadenzaCertificatoMedico,"dd/MM/yyyy")," ")}}function s_e(n,e){1&n&&(D(0,"span"),G(1,"-"),M())}function a_e(n,e){if(1&n){const t=ni();D(0,"tr")(1,"td")(2,"span",56),G(3),M()(),D(4,"td"),G(5),xr(6,"capitalize"),M(),D(7,"td"),G(8),xr(9,"capitalize"),M(),D(10,"td"),G(11),xr(12,"date"),M(),D(13,"td"),G(14),M(),D(15,"td"),G(16),M(),D(17,"td"),G(18),M(),D(19,"td"),G(20),M(),D(21,"td"),G(22),M(),D(23,"td"),G(24),M(),D(25,"td"),Qe(26,o_e,3,5,"span",57),Qe(27,s_e,2,0,"span",45),M(),D(28,"td",58)(29,"button",59),Le("click",function(){const o=en(t).$implicit;return tn(We().openDialog(o))}),fe(30,"i",60),M(),D(31,"button",61),Le("click",function(){const o=en(t).$implicit;return tn(We().eliminaGiocatore(o))}),fe(32,"i",62),M()()()}if(2&n){const t=e.$implicit;W(3),tt(t.numeroMaglia||"-"),W(2),tt(na(6,12,t.cognome)),W(3),tt(na(9,14,t.nome)),W(3),tt(Ps(12,16,t.dataDiNascita,"dd/MM/yyyy")),W(3),tt(t.ruolo),W(2),tt(t.tesseraUisp),W(2),tt(t.codiceFiscale||"-"),W(2),tt(t.profilo),W(2),tt(t.email||"-"),W(2),tt(t.tagliaDivisa||"-"),W(2),ye("ngIf",t.scadenzaCertificatoMedico),W(1),ye("ngIf",!t.scadenzaCertificatoMedico)}}function l_e(n,e){if(1&n&&(D(0,"tr")(1,"td",64),fe(2,"i",65),G(3),M()()),2&n){const t=We();W(3),kn(" ",0===t.giocatori.length?"Nessun giocatore presente":"Nessun risultato trovato"," ")}}function c_e(n,e){1&n&&(D(0,"div",66),G(1," Nessun giocatore presente "),M())}function u_e(n,e){1&n&&(D(0,"span",56),G(1,"K"),M())}function d_e(n,e){if(1&n&&(D(0,"span",81),G(1),xr(2,"date"),M()),2&n){const t=We().$implicit;ye("ngClass",We().getCertificatoClass(t.scadenzaCertificatoMedico)),W(1),kn(" ",Ps(2,2,t.scadenzaCertificatoMedico,"dd/MM/yyyy")," ")}}function h_e(n,e){1&n&&(D(0,"span",55),G(1,"-"),M())}function f_e(n,e){if(1&n){const t=ni();D(0,"div",67)(1,"h2",68)(2,"button",69)(3,"span",70),G(4),M(),D(5,"span",71),G(6),xr(7,"capitalize"),xr(8,"capitalize"),M(),Qe(9,u_e,2,0,"span",72),M()(),D(10,"div",73)(11,"div",74)(12,"div",75)(13,"div",53)(14,"span",54),G(15,"Data di Nascita"),M(),D(16,"span",55),G(17),xr(18,"date"),M()(),D(19,"div",53)(20,"span",54),G(21,"Ruolo"),M(),D(22,"span",55),G(23),M()(),D(24,"div",53)(25,"span",54),G(26,"Tessera UISP"),M(),D(27,"span",55),G(28),M()(),D(29,"div",53)(30,"span",54),G(31,"Codice Fiscale"),M(),D(32,"span",55),G(33),M()(),D(34,"div",53)(35,"span",54),G(36,"Profilo"),M(),D(37,"span",55),G(38),M()(),D(39,"div",53)(40,"span",54),G(41,"Email"),M(),D(42,"span",55),G(43),M()(),D(44,"div",53)(45,"span",54),G(46,"Taglia Divisa"),M(),D(47,"span",55),G(48),M()(),D(49,"div",53)(50,"span",54),G(51,"Certificato Medico"),M(),Qe(52,d_e,3,5,"span",76),Qe(53,h_e,2,0,"span",77),M()(),D(54,"div",78)(55,"button",79),Le("click",function(){const o=en(t).$implicit;return tn(We().openDialog(o))}),fe(56,"i",60),G(57," Modifica "),M(),D(58,"button",80),Le("click",function(){const o=en(t).$implicit;return tn(We().eliminaGiocatore(o))}),fe(59,"i",62),G(60," Elimina "),M()()()()()}if(2&n){const t=e.$implicit,r=e.index;W(1),Ai("id","headingGiocatore"+r),W(1),Ai("data-bs-target","#collapseGiocatore"+r)("aria-controls","collapseGiocatore"+r),W(2),tt(t.numeroMaglia||"-"),W(2),Pa("",na(7,18,t.cognome)," ",na(8,20,t.nome),""),W(3),ye("ngIf",t.capitano),W(1),Ai("id","collapseGiocatore"+r)("aria-labelledby","headingGiocatore"+r),W(7),tt(Ps(18,22,t.dataDiNascita,"dd/MM/yyyy")),W(6),tt(t.ruolo),W(5),tt(t.tesseraUisp),W(5),tt(t.codiceFiscale||"-"),W(5),tt(t.profilo),W(5),tt(t.email||"-"),W(5),tt(t.tagliaDivisa||"-"),W(4),ye("ngIf",t.scadenzaCertificatoMedico),W(1),ye("ngIf",!t.scadenzaCertificatoMedico)}}const Fa=function(n,e,t){return{"bi-arrow-down":n,"bi-arrow-up":e,"bi-arrow-down-up":t}};let p_e=(()=>{class n{constructor(t){this.giocatoriService=t,this.giocatori=[],this.filteredGiocatori=[],this.selectedGiocatore=null,this.isEditMode=!1,this.filters={numeroMaglia:"",cognome:"",nome:"",dataDiNascita:"",ruolo:"",tesseraUisp:"",codiceFiscale:"",profilo:"",email:"",tagliaDivisa:"",scadenzaCertificatoMedico:""},this.sortColumn="cognome",this.sortDirection="asc"}ngOnInit(){this.giocatoriSubscription=this.giocatoriService.getGiocatoriObservable().subscribe(t=>{this.giocatori=t,this.applyFilters()})}ngOnDestroy(){this.giocatoriSubscription&&this.giocatoriSubscription.unsubscribe()}get giocatoriOrdinati(){return this.filteredGiocatori}applyFilters(){let t=[...this.giocatori];Object.keys(this.filters).forEach(r=>{const i=this.filters[r].toLowerCase().trim();i&&(t=t.filter(o=>{let s=o[r];if("dataDiNascita"===r&&s){const a=new Date(s);s=`${a.getDate().toString().padStart(2,"0")}/${(a.getMonth()+1).toString().padStart(2,"0")}/${a.getFullYear()}`}return s?.toString().toLowerCase().includes(i)}))}),t.sort((r,i)=>{let o=r[this.sortColumn],s=i[this.sortColumn];return"dataDiNascita"===this.sortColumn||"scadenzaCertificatoMedico"===this.sortColumn?(o=o?new Date(o).getTime():0,s=s?new Date(s).getTime():0):"numeroMaglia"===this.sortColumn?(o=parseInt(o)||0,s=parseInt(s)||0):(o=o?.toString().toLowerCase()||"",s=s?.toString().toLowerCase()||""),o<s?"asc"===this.sortDirection?-1:1:o>s?"asc"===this.sortDirection?1:-1:0}),this.filteredGiocatori=t}onFilterChange(){this.applyFilters()}sortBy(t){this.sortColumn===t?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=t,this.sortDirection="asc"),this.applyFilters()}clearFilters(){this.filters={numeroMaglia:"",cognome:"",nome:"",dataDiNascita:"",ruolo:"",tesseraUisp:"",codiceFiscale:"",profilo:"",email:"",tagliaDivisa:"",scadenzaCertificatoMedico:""},this.applyFilters()}get numeroGiocatori(){return this.giocatori.filter(t=>{const r=(t.ruolo||"").toLowerCase();return!r.includes("allenatore")&&!r.includes("dirigente")}).length}get etaMedia(){const t=this.giocatori.filter(i=>{const o=(i.ruolo||"").toLowerCase();return i.dataDiNascita&&!o.includes("allenatore")&&!o.includes("dirigente")});if(0===t.length)return 0;const r=t.reduce((i,o)=>{const s=new Date(o.dataDiNascita),a=new Date;let l=a.getFullYear()-s.getFullYear();const c=a.getMonth()-s.getMonth();return(c<0||0===c&&a.getDate()<s.getDate())&&l--,i+l},0);return Math.round(r/t.length)}get nomeCapitano(){const t=this.giocatori.find(s=>!0===s.capitano);if(!t)return"";const r=s=>s?s.charAt(0).toUpperCase()+s.slice(1).toLowerCase():"";return`${r(t.nome||"")} ${r(t.cognome||"")}`.trim()}getCertificatoClass(t){if(!t)return"";const r=new Date,o=new Date(t).getTime()-r.getTime(),s=Math.ceil(o/864e5);return s>30?"badge bg-success":s>14?"badge bg-warning text-dark":"badge bg-danger"}openDialog(t){void 0!==t?(this.selectedGiocatore={...t},this.isEditMode=!0):(this.selectedGiocatore=null,this.isEditMode=!1)}handleSave(t){var r=this;return(0,ie.A)(function*(){try{if(r.isEditMode&&r.selectedGiocatore){const i=r.selectedGiocatore.id,{id:o,...s}=t;yield r.giocatoriService.updateGiocatore(i,s)}else yield r.giocatoriService.addGiocatore(t);r.closeModal(),r.handleClose()}catch(i){console.error("Errore nel salvataggio del giocatore:",i),alert("Errore nel salvataggio. Riprova.")}})()}handleClose(){this.selectedGiocatore=null,this.isEditMode=!1}eliminaGiocatore(t){var r=this;return(0,ie.A)(function*(){if(confirm("Sei sicuro di voler eliminare questo giocatore?"))try{const i=t.id;yield r.giocatoriService.deleteGiocatore(i)}catch(i){console.error("Errore nell'eliminazione del giocatore:",i),alert("Errore nell'eliminazione. Riprova.")}})()}closeModal(){const t=document.getElementById("giocatoreModal");if(t){const r=bootstrap.Modal.getInstance(t);r&&r.hide()}}handleFileUpload(t){var r=this;const i=t.target.files[0];if(!i)return;if(!i.name.endsWith(".json"))return alert("Seleziona un file JSON valido."),void(t.target.value="");const o=new FileReader;o.onload=function(){var s=(0,ie.A)(function*(a){try{const l=JSON.parse(a.target.result);if(!Array.isArray(l))return alert("Il file JSON deve contenere un array di giocatori."),void(t.target.value="");const c=yield r.giocatoriService.getGiocatori(),u=[];let d=0;if(l.forEach(m=>{const p=(m.nome||"").toLowerCase(),b=(m.cognome||"").toLowerCase();c.some(E=>E.nome.toLowerCase()===p&&E.cognome.toLowerCase()===b)?d++:u.push({...m,nome:p,cognome:b,capitano:m.capitano||!1})}),u.length>0)try{yield r.giocatoriService.addMultipleGiocatori(u);let m=`${u.length} giocatori caricati con successo!`;d>0&&(m+=`\n${d} giocatori gi\xe0 presenti sono stati ignorati.`),alert(m)}catch(m){console.error("Errore nel caricamento dei giocatori:",m),alert("Errore nel caricamento. Riprova.")}else d>0?alert(`Nessun giocatore caricato.\n${d} giocatori erano gi\xe0 presenti.`):alert("Nessun giocatore valido trovato nel file");t.target.value=""}catch(l){console.error("Errore nel parsing del file JSON:",l),alert("Errore nel parsing del file JSON. Assicurati che il formato sia corretto."),t.target.value=""}});return function(a){return s.apply(this,arguments)}}(),o.readAsText(i)}exportToJSON(){if(0===this.giocatori.length)return void alert("Nessun giocatore da esportare.");const t=this.giocatori.map(l=>{const{id:c,...u}=l;return u}),r=JSON.stringify(t,null,2),i=new Blob([r],{type:"application/json"}),o=window.URL.createObjectURL(i),s=document.createElement("a");s.href=o;const a=(new Date).toISOString().split("T")[0];s.download=`giocatori_${a}.json`,s.click(),window.URL.revokeObjectURL(o)}static{this.\u0275fac=function(r){return new(r||n)(ke(Yb))}}static{this.\u0275cmp=Es({type:n,selectors:[["app-giocatori"]],decls:142,vars:76,consts:[[1,"container-fluid","px-3","py-4","custom-spacing"],[1,"desktop-header","d-none","d-md-block","mb-3"],[1,"desktop-header-card"],[1,"desktop-header-content"],[1,"header-left"],[1,"header-icon"],[1,"bi","bi-people-fill"],[1,"header-text"],[1,"header-title"],[1,"header-meta"],["class","meta-item",4,"ngIf"],[1,"header-actions"],["type","file","accept",".json",1,"file-input-hidden",3,"change"],["fileInput",""],["title","Importa giocatori da JSON",1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi-upload","me-1"],["title","Esporta giocatori in JSON",1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi-download","me-1"],["data-bs-toggle","modal","data-bs-target","#giocatoreModal",1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi-plus-circle","me-1"],[1,"mobile-header","d-md-none","mb-3"],[1,"mobile-header-card"],[1,"mobile-header-title"],[1,"bi","bi-people-fill","me-2"],[1,"title-text"],[1,"mobile-header-info"],["class","info-item",4,"ngIf"],[1,"mobile-header-actions"],["title","Importa giocatori da JSON",1,"btn","btn-sm","btn-header-action",3,"click"],["title","Esporta giocatori in JSON",1,"btn","btn-sm","btn-header-action",3,"click"],["data-bs-toggle","modal","data-bs-target","#giocatoreModal",1,"btn","btn-sm","btn-header-action",3,"click"],[1,"table-container","d-none","d-md-block"],[1,"table-wrapper"],[1,"table","table-hover","modern-table"],[1,"table-header","sticky-header"],[1,"sortable",3,"click"],[1,"th-content"],[1,"bi",3,"ngClass"],[1,"actions-column"],["title","Pulisci filtri",1,"btn","btn-sm","btn-link","text-white",3,"click"],[1,"bi","bi-x-circle"],[1,"filter-row"],["type","text","placeholder","Filtra...",1,"form-control","form-control-sm","filter-input",3,"ngModel","ngModelChange","input"],["type","text","placeholder","gg/mm/aaaa",1,"form-control","form-control-sm","filter-input",3,"ngModel","ngModelChange","input"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"d-md-none"],["class","text-center text-muted py-4",4,"ngIf"],["id","giocatoriAccordion",1,"accordion"],["class","accordion-item",4,"ngFor","ngForOf"],[3,"giocatore","isEditMode","onSave","onClose"],[1,"meta-item"],[1,"bi","bi-person-badge","me-1"],[1,"info-item"],[1,"info-label"],[1,"info-value"],[1,"badge","bg-primary"],[3,"ngClass",4,"ngIf"],[1,"actions-cell"],["data-bs-toggle","modal","data-bs-target","#giocatoreModal","title","Modifica",1,"btn","btn-sm","btn-primary","me-1",3,"click"],[1,"bi","bi-pencil"],["title","Elimina",1,"btn","btn-sm","btn-danger",3,"click"],[1,"bi","bi-trash"],[3,"ngClass"],["colspan","12",1,"text-center","text-muted","py-4"],[1,"bi","bi-inbox","fs-1","d-block","mb-2"],[1,"text-center","text-muted","py-4"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"accordion-button","collapsed"],[1,"badge","bg-primary","me-2","numero-maglia-badge"],[1,"flex-grow-1"],["class","badge bg-primary",4,"ngIf"],["data-bs-parent","#giocatoriAccordion",1,"accordion-collapse","collapse"],[1,"accordion-body"],[1,"player-info-grid"],["class","info-value",3,"ngClass",4,"ngIf"],["class","info-value",4,"ngIf"],[1,"mt-3","d-flex","flex-wrap","gap-2","justify-content-end"],["data-bs-toggle","modal","data-bs-target","#giocatoreModal",1,"btn","btn-primary","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"info-value",3,"ngClass"]],template:function(r,i){if(1&r){const o=ni();D(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),fe(6,"i",6),M(),D(7,"div",7)(8,"h3",8),G(9,"Giocatori"),M(),D(10,"div",9),Qe(11,t_e,3,1,"span",10),M()()(),D(12,"div",11)(13,"input",12,13),Le("change",function(a){return i.handleFileUpload(a)}),M(),D(15,"button",14),Le("click",function(){return en(o),tn(DE(14).click())}),fe(16,"i",15),G(17,"Importa "),M(),D(18,"button",16),Le("click",function(){return i.exportToJSON()}),fe(19,"i",17),G(20,"Esporta "),M(),D(21,"button",18),Le("click",function(){return i.openDialog()}),fe(22,"i",19),G(23,"Aggiungi "),M()()()()(),D(24,"div",20)(25,"div",21)(26,"div",22),fe(27,"i",23),D(28,"span",24),G(29,"Giocatori"),M()(),D(30,"div",25),Qe(31,n_e,5,1,"div",26),Qe(32,r_e,5,1,"div",26),Qe(33,i_e,5,1,"div",26),M(),D(34,"div",27)(35,"button",28),Le("click",function(){return en(o),tn(DE(14).click())}),fe(36,"i",15),G(37,"Importa "),M(),D(38,"button",29),Le("click",function(){return i.exportToJSON()}),fe(39,"i",17),G(40,"Esporta "),M(),D(41,"button",30),Le("click",function(){return i.openDialog()}),fe(42,"i",19),G(43,"Aggiungi "),M()()()(),D(44,"div",31)(45,"div",32)(46,"table",33)(47,"thead",34)(48,"tr")(49,"th",35),Le("click",function(){return i.sortBy("numeroMaglia")}),D(50,"div",36)(51,"span"),G(52,"N. Maglia"),M(),fe(53,"i",37),M()(),D(54,"th",35),Le("click",function(){return i.sortBy("cognome")}),D(55,"div",36)(56,"span"),G(57,"Cognome"),M(),fe(58,"i",37),M()(),D(59,"th",35),Le("click",function(){return i.sortBy("nome")}),D(60,"div",36)(61,"span"),G(62,"Nome"),M(),fe(63,"i",37),M()(),D(64,"th",35),Le("click",function(){return i.sortBy("dataDiNascita")}),D(65,"div",36)(66,"span"),G(67,"Data di Nascita"),M(),fe(68,"i",37),M()(),D(69,"th",35),Le("click",function(){return i.sortBy("ruolo")}),D(70,"div",36)(71,"span"),G(72,"Ruolo"),M(),fe(73,"i",37),M()(),D(74,"th",35),Le("click",function(){return i.sortBy("tesseraUisp")}),D(75,"div",36)(76,"span"),G(77,"Tessera UISP"),M(),fe(78,"i",37),M()(),D(79,"th",35),Le("click",function(){return i.sortBy("codiceFiscale")}),D(80,"div",36)(81,"span"),G(82,"Codice Fiscale"),M(),fe(83,"i",37),M()(),D(84,"th",35),Le("click",function(){return i.sortBy("profilo")}),D(85,"div",36)(86,"span"),G(87,"Profilo"),M(),fe(88,"i",37),M()(),D(89,"th",35),Le("click",function(){return i.sortBy("email")}),D(90,"div",36)(91,"span"),G(92,"Email"),M(),fe(93,"i",37),M()(),D(94,"th",35),Le("click",function(){return i.sortBy("tagliaDivisa")}),D(95,"div",36)(96,"span"),G(97,"Taglia Divisa"),M(),fe(98,"i",37),M()(),D(99,"th",35),Le("click",function(){return i.sortBy("scadenzaCertificatoMedico")}),D(100,"div",36)(101,"span"),G(102,"Scadenza Cert. Medico"),M(),fe(103,"i",37),M()(),D(104,"th",38)(105,"div",36)(106,"span"),G(107,"Azioni"),M(),D(108,"button",39),Le("click",function(){return i.clearFilters()}),fe(109,"i",40),M()()()(),D(110,"tr",41)(111,"th")(112,"input",42),Le("ngModelChange",function(a){return i.filters.numeroMaglia=a})("input",function(){return i.onFilterChange()}),M()(),D(113,"th")(114,"input",42),Le("ngModelChange",function(a){return i.filters.cognome=a})("input",function(){return i.onFilterChange()}),M()(),D(115,"th")(116,"input",42),Le("ngModelChange",function(a){return i.filters.nome=a})("input",function(){return i.onFilterChange()}),M()(),D(117,"th")(118,"input",43),Le("ngModelChange",function(a){return i.filters.dataDiNascita=a})("input",function(){return i.onFilterChange()}),M()(),D(119,"th")(120,"input",42),Le("ngModelChange",function(a){return i.filters.ruolo=a})("input",function(){return i.onFilterChange()}),M()(),D(121,"th")(122,"input",42),Le("ngModelChange",function(a){return i.filters.tesseraUisp=a})("input",function(){return i.onFilterChange()}),M()(),D(123,"th")(124,"input",42),Le("ngModelChange",function(a){return i.filters.codiceFiscale=a})("input",function(){return i.onFilterChange()}),M()(),D(125,"th")(126,"input",42),Le("ngModelChange",function(a){return i.filters.profilo=a})("input",function(){return i.onFilterChange()}),M()(),D(127,"th")(128,"input",42),Le("ngModelChange",function(a){return i.filters.email=a})("input",function(){return i.onFilterChange()}),M()(),D(129,"th")(130,"input",42),Le("ngModelChange",function(a){return i.filters.tagliaDivisa=a})("input",function(){return i.onFilterChange()}),M()(),D(131,"th")(132,"input",43),Le("ngModelChange",function(a){return i.filters.scadenzaCertificatoMedico=a})("input",function(){return i.onFilterChange()}),M()(),fe(133,"th"),M()(),D(134,"tbody"),Qe(135,a_e,33,19,"tr",44),Qe(136,l_e,4,1,"tr",45),M()()()(),D(137,"div",46),Qe(138,c_e,2,0,"div",47),D(139,"div",48),Qe(140,f_e,61,25,"div",49),M()()(),D(141,"app-dialog-giocatore",50),Le("onSave",function(a){return i.handleSave(a)})("onClose",function(){return i.handleClose()}),M()}2&r&&(W(11),ye("ngIf",i.giocatori.length),W(20),ye("ngIf",i.giocatori.length),W(1),ye("ngIf",i.giocatori.length&&i.etaMedia>0),W(1),ye("ngIf",i.nomeCapitano),W(20),ye("ngClass",gi(32,Fa,"numeroMaglia"===i.sortColumn&&"asc"===i.sortDirection,"numeroMaglia"===i.sortColumn&&"desc"===i.sortDirection,"numeroMaglia"!==i.sortColumn)),W(5),ye("ngClass",gi(36,Fa,"cognome"===i.sortColumn&&"asc"===i.sortDirection,"cognome"===i.sortColumn&&"desc"===i.sortDirection,"cognome"!==i.sortColumn)),W(5),ye("ngClass",gi(40,Fa,"nome"===i.sortColumn&&"asc"===i.sortDirection,"nome"===i.sortColumn&&"desc"===i.sortDirection,"nome"!==i.sortColumn)),W(5),ye("ngClass",gi(44,Fa,"dataDiNascita"===i.sortColumn&&"asc"===i.sortDirection,"dataDiNascita"===i.sortColumn&&"desc"===i.sortDirection,"dataDiNascita"!==i.sortColumn)),W(5),ye("ngClass",gi(48,Fa,"ruolo"===i.sortColumn&&"asc"===i.sortDirection,"ruolo"===i.sortColumn&&"desc"===i.sortDirection,"ruolo"!==i.sortColumn)),W(5),ye("ngClass",gi(52,Fa,"tesseraUisp"===i.sortColumn&&"asc"===i.sortDirection,"tesseraUisp"===i.sortColumn&&"desc"===i.sortDirection,"tesseraUisp"!==i.sortColumn)),W(5),ye("ngClass",gi(56,Fa,"codiceFiscale"===i.sortColumn&&"asc"===i.sortDirection,"codiceFiscale"===i.sortColumn&&"desc"===i.sortDirection,"codiceFiscale"!==i.sortColumn)),W(5),ye("ngClass",gi(60,Fa,"profilo"===i.sortColumn&&"asc"===i.sortDirection,"profilo"===i.sortColumn&&"desc"===i.sortDirection,"profilo"!==i.sortColumn)),W(5),ye("ngClass",gi(64,Fa,"email"===i.sortColumn&&"asc"===i.sortDirection,"email"===i.sortColumn&&"desc"===i.sortDirection,"email"!==i.sortColumn)),W(5),ye("ngClass",gi(68,Fa,"tagliaDivisa"===i.sortColumn&&"asc"===i.sortDirection,"tagliaDivisa"===i.sortColumn&&"desc"===i.sortDirection,"tagliaDivisa"!==i.sortColumn)),W(5),ye("ngClass",gi(72,Fa,"scadenzaCertificatoMedico"===i.sortColumn&&"asc"===i.sortDirection,"scadenzaCertificatoMedico"===i.sortColumn&&"desc"===i.sortDirection,"scadenzaCertificatoMedico"!==i.sortColumn)),W(9),ye("ngModel",i.filters.numeroMaglia),W(2),ye("ngModel",i.filters.cognome),W(2),ye("ngModel",i.filters.nome),W(2),ye("ngModel",i.filters.dataDiNascita),W(2),ye("ngModel",i.filters.ruolo),W(2),ye("ngModel",i.filters.tesseraUisp),W(2),ye("ngModel",i.filters.codiceFiscale),W(2),ye("ngModel",i.filters.profilo),W(2),ye("ngModel",i.filters.email),W(2),ye("ngModel",i.filters.tagliaDivisa),W(2),ye("ngModel",i.filters.scadenzaCertificatoMedico),W(3),ye("ngForOf",i.giocatoriOrdinati),W(1),ye("ngIf",0===i.filteredGiocatori.length),W(2),ye("ngIf",0===i.giocatori.length),W(2),ye("ngForOf",i.giocatoriOrdinati),W(1),ye("giocatore",i.selectedGiocatore)("isEditMode",i.isEditMode))},dependencies:[ty,Ld,Ra,Tc,_h,Zp,e_e,ny,Wx],styles:[".file-input-hidden[_ngcontent-%COMP%]{display:none}.custom-spacing[_ngcontent-%COMP%]{margin-top:-20px}.numero-maglia-badge[_ngcontent-%COMP%]{min-width:40px;text-align:center}.desktop-header[_ngcontent-%COMP%]{margin-bottom:1rem}.desktop-header-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d6efd 0%,#0a58ca 100%);border-radius:12px;padding:1.5rem 2rem;box-shadow:0 4px 12px #0d6efd33;color:#fff}.desktop-header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1.5rem}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.25rem}.header-icon[_ngcontent-%COMP%]{width:56px;height:56px;background:rgba(255,255,255,.15);border-radius:12px;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.header-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.75rem}.header-text[_ngcontent-%COMP%]{flex:1}.header-title[_ngcontent-%COMP%]{margin:0;font-size:1.75rem;font-weight:700;letter-spacing:-.5px}.header-meta[_ngcontent-%COMP%]{display:flex;gap:1.5rem;margin-top:.5rem;flex-wrap:wrap}.meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.9rem;opacity:.95;font-weight:500}.meta-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.8}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center}.header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-weight:500;border-radius:8px;white-space:nowrap}@media (max-width: 1200px){.desktop-header-card[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.header-icon[_ngcontent-%COMP%]{width:48px;height:48px}.header-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .header-title[_ngcontent-%COMP%]{font-size:1.5rem}.header-meta[_ngcontent-%COMP%]{gap:1rem}.meta-item[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width: 992px){.desktop-header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.header-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}}.mobile-header[_ngcontent-%COMP%]{padding:0}.mobile-header-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d6efd 0%,#0a58ca 100%);border-radius:12px;padding:1rem;box-shadow:0 4px 8px #00000026;color:#fff}.mobile-header-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.5rem;font-weight:700;margin-bottom:.75rem;padding-bottom:.75rem;border-bottom:1px solid rgba(255,255,255,.2)}.mobile-header-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.title-text[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.5px}.mobile-header-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.info-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.4rem .5rem;background:rgba(255,255,255,.1);border-radius:6px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.info-label[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase;letter-spacing:.5px;opacity:.9;font-weight:500}.info-value[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600}.mobile-header-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.75rem;padding-top:.75rem;border-top:1px solid rgba(255,255,255,.2);flex-wrap:wrap}.mobile-header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;min-width:-moz-fit-content;min-width:fit-content;font-weight:500}.btn-header-action[_ngcontent-%COMP%]{background:rgba(255,255,255,.15);border:1px solid rgba(255,255,255,.2);color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .2s}.btn-header-action[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.25);border-color:#ffffff4d;color:#fff;transform:translateY(-1px)}.btn-header-action[_ngcontent-%COMP%]:active{background:rgba(255,255,255,.2);transform:translateY(0)}@media (max-width: 400px){.mobile-header-card[_ngcontent-%COMP%]{padding:.75rem}.mobile-header-title[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:.5rem;padding-bottom:.5rem}.mobile-header-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.info-item[_ngcontent-%COMP%]{padding:.35rem .4rem}.info-label[_ngcontent-%COMP%]{font-size:.7rem}.info-value[_ngcontent-%COMP%]{font-size:.85rem}}.table-container[_ngcontent-%COMP%]{background:white;border-radius:8px;box-shadow:0 1px 3px #00000014;overflow:hidden;margin-bottom:2rem}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;max-height:calc(100vh - 200px)}.modern-table[_ngcontent-%COMP%]{margin-bottom:0;font-size:.9rem}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10}.table-header[_ngcontent-%COMP%]{background-color:#cfe2ff;color:#084298}.table-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#cfe2ff!important}.table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.75rem;font-weight:600;white-space:nowrap;background-color:#cfe2ff!important}.sortable[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:background-color .2s}.sortable[_ngcontent-%COMP%]:hover{background-color:#0842981a}.th-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.5rem}.th-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem;opacity:.7}.filter-row[_ngcontent-%COMP%]{background-color:#cfe2ff}.filter-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem;background-color:#cfe2ff;border-top:none}.filter-input[_ngcontent-%COMP%]{font-size:.85rem;border:1px solid #dee2e6;border-radius:4px;padding:.375rem .5rem}.filter-input[_ngcontent-%COMP%]:focus{border-color:#6ea8fe;box-shadow:0 0 0 .2rem #6ea8fe40}.table-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{color:#084298;opacity:.8}.table-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{color:#052c65;opacity:1}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .15s;border-bottom:1px solid #f8f9fa}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#0d6efd0a}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;vertical-align:middle}.actions-column[_ngcontent-%COMP%]{min-width:120px;text-align:center}.actions-cell[_ngcontent-%COMP%]{white-space:nowrap;text-align:center}.actions-cell[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem}.actions-cell[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0}.modern-table[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.875rem;padding:.35rem .65rem;font-weight:500}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.375rem}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:last-child{margin-right:0}.mobile-toolbar[_ngcontent-%COMP%]{display:flex;gap:.5rem}.mobile-toolbar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-weight:500}@media (max-width: 400px){.modern-table[_ngcontent-%COMP%]{font-size:.85rem}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem}}@media (max-width: 768px){.table-container[_ngcontent-%COMP%]{display:none}}.player-info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:.5rem 1rem}.player-info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.5rem;background-color:#f8f9fa;border-radius:6px}.player-info-grid[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{font-weight:600;color:#6c757d;font-size:.75rem;text-transform:uppercase;margin-bottom:.25rem}.player-info-grid[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{font-weight:500;color:#212529;font-size:.9rem}.accordion-button[_ngcontent-%COMP%]:after{display:none}"]})}}return n})();function Kn(n){return Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kn(n)}var Qn=Uint8Array,jo=Uint16Array,pv=Int32Array,Xp=new Qn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),eg=new Qn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),gv=new Qn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),uj=function(n,e){for(var t=new jo(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];var i=new pv(t[30]);for(r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)i[o]=o-t[r]<<5|r;return{b:t,r:i}},dj=uj(Xp,2),u2=dj.r;dj.b[28]=258,u2[258]=28;for(var Qx=uj(eg,0).r,mv=new jo(32768),Ir=0;Ir<32768;++Ir){var Fu=(43690&Ir)>>1|(21845&Ir)<<1;mv[Ir]=((65280&(Fu=(61680&(Fu=(52428&Fu)>>2|(13107&Fu)<<2))>>4|(3855&Fu)<<4))>>8|(255&Fu)<<8)>>1}var Il=function(n,e,t){for(var r=n.length,i=0,o=new jo(e);i<r;++i)n[i]&&++o[n[i]-1];var a,s=new jo(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;if(t){a=new jo(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],d=s[n[i]-1]++<<u,m=d|(1<<u)-1;d<=m;++d)a[mv[d]>>l]=c}else for(a=new jo(r),i=0;i<r;++i)n[i]&&(a[i]=mv[s[n[i]-1]++]>>15-n[i]);return a},Vu=new Qn(288);for(Ir=0;Ir<144;++Ir)Vu[Ir]=8;for(Ir=144;Ir<256;++Ir)Vu[Ir]=9;for(Ir=256;Ir<280;++Ir)Vu[Ir]=7;for(Ir=280;Ir<288;++Ir)Vu[Ir]=8;var _v=new Qn(32);for(Ir=0;Ir<32;++Ir)_v[Ir]=5;var pj=Il(Vu,9,0),mj=Il(_v,5,0),vv=function(n){return(n+7)/8|0},El=function(n,e,t){var r=e/8|0;n[r]|=t<<=7&e,n[r+1]|=t>>8},tg=function(n,e,t){var r=e/8|0;n[r]|=t<<=7&e,n[r+1]|=t>>8,n[r+2]|=t>>16},p2=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,o=t.slice();if(!i)return{t:Xx,l:0};if(1==i){var s=new Qn(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(X,se){return X.f-se.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,u=1,d=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=t[t[c].f<t[d].f?c++:d++],l=t[c!=u&&t[c].f<t[d].f?c++:d++],t[u++]={s:-1,f:a.f+l.f,l:a,r:l};var m=o[0].s;for(r=1;r<i;++r)o[r].s>m&&(m=o[r].s);var p=new jo(m+1),b=g2(t[u-1],p,0);if(b>e){r=0;var w=0,E=b-e,C=1<<E;for(o.sort(function(se,z){return p[z.s]-p[se.s]||se.f-z.f});r<i;++r){var k=o[r].s;if(!(p[k]>e))break;w+=C-(1<<b-p[k]),p[k]=e}for(w>>=E;w>0;){var B=o[r].s;p[B]<e?w-=1<<e-p[B]++-1:++r}for(;r>=0&&w;--r){var F=o[r].s;p[F]==e&&(--p[F],++w)}b=e}return{t:new Qn(p),l:b}},g2=function(n,e,t){return-1==n.s?Math.max(g2(n.l,e,t+1),g2(n.r,e,t+1)):e[n.s]=t},Yx=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new jo(++e),r=0,i=n[0],o=1,s=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=n[a]}return{c:t.subarray(0,r),n:e}},ng=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},Zx=function(n,e,t){var r=t.length,i=vv(e+2);n[i]=255&r,n[i+1]=r>>8,n[i+2]=255^n[i],n[i+3]=255^n[i+1];for(var o=0;o<r;++o)n[i+o+4]=t[o];return 8*(i+4+r)},Jx=function(n,e,t,r,i,o,s,a,l,c,u){El(e,u++,t),++i[256];for(var d=p2(i,15),m=d.t,p=d.l,b=p2(o,15),w=b.t,E=b.l,C=Yx(m),k=C.c,B=C.n,F=Yx(w),X=F.c,se=F.n,z=new jo(19),x=0;x<k.length;++x)++z[31&k[x]];for(x=0;x<X.length;++x)++z[31&X[x]];for(var S=p2(z,7),V=S.t,A=S.l,P=19;P>4&&!V[gv[P-1]];--P);var Ae,Ce,ge,Te,N=c+5<<3,te=ng(i,Vu)+ng(o,_v)+s,me=ng(i,m)+ng(o,w)+s+14+3*P+ng(z,V)+2*z[16]+3*z[17]+7*z[18];if(l>=0&&N<=te&&N<=me)return Zx(e,u,n.subarray(l,l+c));if(El(e,u,1+(me<te)),u+=2,me<te){Ae=Il(m,p,0),Ce=m,ge=Il(w,E,0),Te=w;var Ge=Il(V,A,0);for(El(e,u,B-257),El(e,u+5,se-1),El(e,u+10,P-4),u+=14,x=0;x<P;++x)El(e,u+3*x,V[gv[x]]);u+=3*P;for(var Oe=[k,X],U=0;U<2;++U){var K=Oe[U];for(x=0;x<K.length;++x)El(e,u,Ge[ee=31&K[x]]),u+=V[ee],ee>15&&(El(e,u,K[x]>>5&127),u+=K[x]>>12)}}else Ae=pj,Ce=Vu,ge=mj,Te=_v;for(x=0;x<a;++x){var re=r[x];if(re>255){var ee;tg(e,u,Ae[257+(ee=re>>18&31)]),u+=Ce[ee+257],ee>7&&(El(e,u,re>>23&31),u+=Xp[ee]);var le=31&re;tg(e,u,ge[le]),u+=Te[le],le>3&&(tg(e,u,re>>5&8191),u+=eg[le])}else tg(e,u,Ae[re]),u+=Ce[re]}return tg(e,u,Ae[256]),u+Ce[256]},yj=new pv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Xx=new Qn(0),bj=function(n,e,t,r,i,o){var s=o.z||n.length,a=new Qn(r+s+5*(1+Math.ceil(s/7e3))+i),l=a.subarray(r,a.length-i),c=o.l,u=7&(o.r||0);if(e){u&&(l[0]=o.r>>3);for(var d=yj[e-1],m=d>>13,p=8191&d,b=(1<<t)-1,w=o.p||new jo(32768),E=o.h||new jo(b+1),C=Math.ceil(t/3),k=2*C,B=function(Se){return(n[Se]^n[Se+1]<<C^n[Se+2]<<k)&b},F=new pv(25e3),X=new jo(288),se=new jo(32),z=0,x=0,S=o.i||0,V=0,A=o.w||0,P=0;S+2<s;++S){var N=B(S),te=32767&S,me=E[N];if(w[te]=me,E[N]=te,A<=S){var Ae=s-S;if((z>7e3||V>24576)&&(Ae>423||!c)){u=Jx(n,l,0,F,X,se,x,V,P,S-P,u),V=z=x=0,P=S;for(var Ce=0;Ce<286;++Ce)X[Ce]=0;for(Ce=0;Ce<30;++Ce)se[Ce]=0}var ge=2,Te=0,Ge=p,Oe=te-me&32767;if(Ae>2&&N==B(S-Oe))for(var U=Math.min(m,Ae)-1,K=Math.min(32767,S),ee=Math.min(258,Ae);Oe<=K&&--Ge&&te!=me;){if(n[S+ge]==n[S+ge-Oe]){for(var re=0;re<ee&&n[S+re]==n[S+re-Oe];++re);if(re>ge){if(ge=re,Te=Oe,re>U)break;var le=Math.min(Oe,re-2),de=0;for(Ce=0;Ce<le;++Ce){var be=S-Oe+Ce&32767,Pe=be-w[be]&32767;Pe>de&&(de=Pe,me=be)}}}Oe+=(te=me)-(me=w[te])&32767}if(Te){F[V++]=268435456|u2[ge]<<18|Qx[Te];var De=31&u2[ge],Ze=31&Qx[Te];x+=Xp[De]+eg[Ze],++X[257+De],++se[Ze],A=S+ge,++z}else F[V++]=n[S],++X[n[S]]}}for(S=Math.max(S,A);S<s;++S)F[V++]=n[S],++X[n[S]];u=Jx(n,l,c,F,X,se,x,V,P,S-P,u),c||(o.r=7&u|l[u/8|0]<<3,u-=7,o.h=E,o.p=w,o.i=S,o.w=A)}else{for(S=o.w||0;S<s+c;S+=65535){var Ye=S+65535;Ye>=s&&(l[u/8|0]=c,Ye=s),u=Zx(l,u+1,n.subarray(S,Ye))}o.i=s}return function(n,e,t){return(null==e||e<0)&&(e=0),(null==t||t>n.length)&&(t=n.length),new Qn(n.subarray(e,t))}(a,0,r+vv(u)+i)},eP=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,o=0|t.length,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=t[s];r=(65535&r)+15*(r>>16),i=(65535&i)+15*(i>>16)}n=r,e=i},d:function(){return(255&(n%=65521))<<24|(65280&n)<<8|(255&(e%=65521))<<8|e>>8}}},_2=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new Qn(o.length+n.length);s.set(o),s.set(n,o.length),n=s,i.w=o.length}return bj(n,null==e.level?6:e.level,null==e.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(n.length)))):20:12+e.mem,t,r,i)},Rr=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},Dj=function(n,e){var t=e.level,r=0==t?0:t<6?1:9==t?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=eP();i.p(e.dictionary),Rr(n,2,i.d())}};function bv(n,e){e||(e={});var t=eP();t.p(n);var r=_2(n,e,e.dictionary?6:2,4);return Dj(r,e),Rr(r,r.length-4,t.d()),r}var lP=typeof TextDecoder<"u"&&new TextDecoder;try{lP.decode(Xx,{stream:!0})}catch{}function Lj(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function Fj(n,e){return function D_e(n){if(Array.isArray(n))return n}(n)||function x_e(n,e){var t=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function P_e(n,e){if(n){if("string"==typeof n)return Lj(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Lj(n,e):void 0}}(n,e)||function M_e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vj(n,e="utf8"){return new TextDecoder(e).decode(n)}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;const N_e=new TextEncoder,O_e=(()=>{const n=new Uint8Array(4);return!((new Uint32Array(n.buffer)[0]=1)&n[0])})(),cP={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Iv{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=8192,t={}){let r=!1;"number"==typeof e?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,o=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof Iv)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),this.lastWrittenByte=r?o:0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=2*(this.offset+e),i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=cP[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+r);if(this.littleEndian===O_e&&"uint8"!==t&&"int8"!==t){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new cP[t](a.buffer);return this.offset+=r,l.reverse(),l}const s=new cP[t](o);return this.offset+=r,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return Vj(this.readBytes(e))}decodeText(e=1,t="utf8"){return Vj(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(function R_e(n){return N_e.encode(n)}(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function ig(n){let e=n.length;for(;--e>=0;)n[e]=0}const pP=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),C2=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),$_e=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Hj=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Sc=new Array(576);ig(Sc);const Av=new Array(60);ig(Av);const Tv=new Array(512);ig(Tv);const Sv=new Array(256);ig(Sv);const gP=new Array(29);ig(gP);const A2=new Array(30);function mP(n,e,t,r,i){this.static_tree=n,this.extra_bits=e,this.extra_base=t,this.elems=r,this.max_length=i,this.has_stree=n&&n.length}let Wj,Kj,Qj;function _P(n,e){this.dyn_tree=n,this.max_code=0,this.stat_desc=e}ig(A2);const Yj=n=>n<256?Tv[n]:Tv[256+(n>>>7)],Dv=(n,e)=>{n.pending_buf[n.pending++]=255&e,n.pending_buf[n.pending++]=e>>>8&255},cs=(n,e,t)=>{n.bi_valid>16-t?(n.bi_buf|=e<<n.bi_valid&65535,Dv(n,n.bi_buf),n.bi_buf=e>>16-n.bi_valid,n.bi_valid+=t-16):(n.bi_buf|=e<<n.bi_valid&65535,n.bi_valid+=t)},Cl=(n,e,t)=>{cs(n,t[2*e],t[2*e+1])},Zj=(n,e)=>{let t=0;do{t|=1&n,n>>>=1,t<<=1}while(--e>0);return t>>>1},Jj=(n,e,t)=>{const r=new Array(16);let o,s,i=0;for(o=1;o<=15;o++)i=i+t[o-1]<<1,r[o]=i;for(s=0;s<=e;s++){let a=n[2*s+1];0!==a&&(n[2*s]=Zj(r[a]++,a))}},Xj=n=>{let e;for(e=0;e<286;e++)n.dyn_ltree[2*e]=0;for(e=0;e<30;e++)n.dyn_dtree[2*e]=0;for(e=0;e<19;e++)n.bl_tree[2*e]=0;n.dyn_ltree[512]=1,n.opt_len=n.static_len=0,n.sym_next=n.matches=0},ez=n=>{n.bi_valid>8?Dv(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},tz=(n,e,t,r)=>{const i=2*e,o=2*t;return n[i]<n[o]||n[i]===n[o]&&r[e]<=r[t]},vP=(n,e,t)=>{const r=n.heap[t];let i=t<<1;for(;i<=n.heap_len&&(i<n.heap_len&&tz(e,n.heap[i+1],n.heap[i],n.depth)&&i++,!tz(e,r,n.heap[i],n.depth));)n.heap[t]=n.heap[i],t=i,i<<=1;n.heap[t]=r},nz=(n,e,t)=>{let r,i,s,a,o=0;if(0!==n.sym_next)do{r=255&n.pending_buf[n.sym_buf+o++],r+=(255&n.pending_buf[n.sym_buf+o++])<<8,i=n.pending_buf[n.sym_buf+o++],0===r?Cl(n,i,e):(s=Sv[i],Cl(n,s+256+1,e),a=pP[s],0!==a&&(i-=gP[s],cs(n,i,a)),r--,s=Yj(r),Cl(n,s,t),a=C2[s],0!==a&&(r-=A2[s],cs(n,r,a)))}while(o<n.sym_next);Cl(n,256,e)},yP=(n,e)=>{const t=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems;let s,a,c,l=-1;for(n.heap_len=0,n.heap_max=573,s=0;s<o;s++)0!==t[2*s]?(n.heap[++n.heap_len]=l=s,n.depth[s]=0):t[2*s+1]=0;for(;n.heap_len<2;)c=n.heap[++n.heap_len]=l<2?++l:0,t[2*c]=1,n.depth[c]=0,n.opt_len--,i&&(n.static_len-=r[2*c+1]);for(e.max_code=l,s=n.heap_len>>1;s>=1;s--)vP(n,t,s);c=o;do{s=n.heap[1],n.heap[1]=n.heap[n.heap_len--],vP(n,t,1),a=n.heap[1],n.heap[--n.heap_max]=s,n.heap[--n.heap_max]=a,t[2*c]=t[2*s]+t[2*a],n.depth[c]=(n.depth[s]>=n.depth[a]?n.depth[s]:n.depth[a])+1,t[2*s+1]=t[2*a+1]=c,n.heap[1]=c++,vP(n,t,1)}while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],((n,e)=>{const t=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,u,d,m,p,b,w=0;for(m=0;m<=15;m++)n.bl_count[m]=0;for(t[2*n.heap[n.heap_max]+1]=0,c=n.heap_max+1;c<573;c++)u=n.heap[c],m=t[2*t[2*u+1]+1]+1,m>l&&(m=l,w++),t[2*u+1]=m,!(u>r)&&(n.bl_count[m]++,p=0,u>=a&&(p=s[u-a]),b=t[2*u],n.opt_len+=b*(m+p),o&&(n.static_len+=b*(i[2*u+1]+p)));if(0!==w){do{for(m=l-1;0===n.bl_count[m];)m--;n.bl_count[m]--,n.bl_count[m+1]+=2,n.bl_count[l]--,w-=2}while(w>0);for(m=l;0!==m;m--)for(u=n.bl_count[m];0!==u;)d=n.heap[--c],!(d>r)&&(t[2*d+1]!==m&&(n.opt_len+=(m-t[2*d+1])*t[2*d],t[2*d+1]=m),u--)}})(n,e),Jj(t,l,n.bl_count)},rz=(n,e,t)=>{let r,o,i=-1,s=e[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),e[2*(t+1)+1]=65535,r=0;r<=t;r++)o=s,s=e[2*(r+1)+1],!(++a<l&&o===s)&&(a<c?n.bl_tree[2*o]+=a:0!==o?(o!==i&&n.bl_tree[2*o]++,n.bl_tree[32]++):a<=10?n.bl_tree[34]++:n.bl_tree[36]++,a=0,i=o,0===s?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4))},iz=(n,e,t)=>{let r,o,i=-1,s=e[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),r=0;r<=t;r++)if(o=s,s=e[2*(r+1)+1],!(++a<l&&o===s)){if(a<c)do{Cl(n,o,n.bl_tree)}while(0!=--a);else 0!==o?(o!==i&&(Cl(n,o,n.bl_tree),a--),Cl(n,16,n.bl_tree),cs(n,a-3,2)):a<=10?(Cl(n,17,n.bl_tree),cs(n,a-3,3)):(Cl(n,18,n.bl_tree),cs(n,a-11,7));a=0,i=o,0===s?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4)}};let oz=!1;const sz=(n,e,t,r)=>{cs(n,0+(r?1:0),3),ez(n),Dv(n,t),Dv(n,~t),t&&n.pending_buf.set(n.window.subarray(e,e+t),n.pending),n.pending+=t};var sve={_tr_init:n=>{oz||((()=>{let n,e,t,r,i;const o=new Array(16);for(t=0,r=0;r<28;r++)for(gP[r]=t,n=0;n<1<<pP[r];n++)Sv[t++]=r;for(Sv[t-1]=r,i=0,r=0;r<16;r++)for(A2[r]=i,n=0;n<1<<C2[r];n++)Tv[i++]=r;for(i>>=7;r<30;r++)for(A2[r]=i<<7,n=0;n<1<<C2[r]-7;n++)Tv[256+i++]=r;for(e=0;e<=15;e++)o[e]=0;for(n=0;n<=143;)Sc[2*n+1]=8,n++,o[8]++;for(;n<=255;)Sc[2*n+1]=9,n++,o[9]++;for(;n<=279;)Sc[2*n+1]=7,n++,o[7]++;for(;n<=287;)Sc[2*n+1]=8,n++,o[8]++;for(Jj(Sc,287,o),n=0;n<30;n++)Av[2*n+1]=5,Av[2*n]=Zj(n,5);Wj=new mP(Sc,pP,257,286,15),Kj=new mP(Av,C2,0,30,15),Qj=new mP(new Array(0),$_e,0,19,7)})(),oz=!0),n.l_desc=new _P(n.dyn_ltree,Wj),n.d_desc=new _P(n.dyn_dtree,Kj),n.bl_desc=new _P(n.bl_tree,Qj),n.bi_buf=0,n.bi_valid=0,Xj(n)},_tr_stored_block:sz,_tr_flush_block:(n,e,t,r)=>{let i,o,s=0;n.level>0?(2===n.strm.data_type&&(n.strm.data_type=(n=>{let t,e=4093624447;for(t=0;t<=31;t++,e>>>=1)if(1&e&&0!==n.dyn_ltree[2*t])return 0;if(0!==n.dyn_ltree[18]||0!==n.dyn_ltree[20]||0!==n.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==n.dyn_ltree[2*t])return 1;return 0})(n)),yP(n,n.l_desc),yP(n,n.d_desc),s=(n=>{let e;for(rz(n,n.dyn_ltree,n.l_desc.max_code),rz(n,n.dyn_dtree,n.d_desc.max_code),yP(n,n.bl_desc),e=18;e>=3&&0===n.bl_tree[2*Hj[e]+1];e--);return n.opt_len+=3*(e+1)+5+5+4,e})(n),i=n.opt_len+3+7>>>3,o=n.static_len+3+7>>>3,o<=i&&(i=o)):i=o=t+5,t+4<=i&&-1!==e?sz(n,e,t,r):4===n.strategy||o===i?(cs(n,2+(r?1:0),3),nz(n,Sc,Av)):(cs(n,4+(r?1:0),3),((n,e,t,r)=>{let i;for(cs(n,e-257,5),cs(n,t-1,5),cs(n,r-4,4),i=0;i<r;i++)cs(n,n.bl_tree[2*Hj[i]+1],3);iz(n,n.dyn_ltree,e-1),iz(n,n.dyn_dtree,t-1)})(n,n.l_desc.max_code+1,n.d_desc.max_code+1,s+1),nz(n,n.dyn_ltree,n.dyn_dtree)),Xj(n),r&&ez(n)},_tr_tally:(n,e,t)=>(n.pending_buf[n.sym_buf+n.sym_next++]=e,n.pending_buf[n.sym_buf+n.sym_next++]=e>>8,n.pending_buf[n.sym_buf+n.sym_next++]=t,0===e?n.dyn_ltree[2*t]++:(n.matches++,e--,n.dyn_ltree[2*(Sv[t]+256+1)]++,n.dyn_dtree[2*Yj(e)]++),n.sym_next===n.sym_end),_tr_align:n=>{cs(n,2,3),Cl(n,256,Sc),(n=>{16===n.bi_valid?(Dv(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=255&n.bi_buf,n.bi_buf>>=8,n.bi_valid-=8)})(n)}},xv=(n,e,t,r)=>{let i=65535&n|0,o=n>>>16&65535|0,s=0;for(;0!==t;){s=t>2e3?2e3:t,t-=s;do{i=i+e[r++]|0,o=o+i|0}while(--s);i%=65521,o%=65521}return i|o<<16|0};const lve=new Uint32Array((()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=1&n?3988292384^n>>>1:n>>>1;e[t]=n}return e})());var Bi=(n,e,t,r)=>{const i=lve,o=r+t;n^=-1;for(let s=r;s<o;s++)n=n>>>8^i[255&(n^e[s])];return-1^n},wh={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ih={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:cve,_tr_stored_block:bP,_tr_flush_block:uve,_tr_tally:ju,_tr_align:dve}=sve,{Z_NO_FLUSH:zu,Z_PARTIAL_FLUSH:hve,Z_FULL_FLUSH:fve,Z_FINISH:da,Z_BLOCK:az,Z_OK:no,Z_STREAM_END:lz,Z_STREAM_ERROR:Al,Z_DATA_ERROR:pve,Z_BUF_ERROR:wP,Z_DEFAULT_COMPRESSION:gve,Z_FILTERED:mve,Z_HUFFMAN_ONLY:T2,Z_RLE:_ve,Z_FIXED:vve,Z_DEFAULT_STRATEGY:yve,Z_UNKNOWN:bve,Z_DEFLATED:S2}=Ih,Tl=262,Ah=(n,e)=>(n.msg=wh[e],e),cz=n=>2*n-(n>4?9:0),qu=n=>{let e=n.length;for(;--e>=0;)n[e]=0},Mve=n=>{let e,t,r,i=n.w_size;e=n.hash_size,r=e;do{t=n.head[--r],n.head[r]=t>=i?t-i:0}while(--e);e=i,r=e;do{t=n.prev[--r],n.prev[r]=t>=i?t-i:0}while(--e)};let Gu=(n,e,t)=>(e<<n.hash_shift^t)&n.hash_mask;const Os=n=>{const e=n.state;let t=e.pending;t>n.avail_out&&(t=n.avail_out),0!==t&&(n.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+t),n.next_out),n.next_out+=t,e.pending_out+=t,n.total_out+=t,n.avail_out-=t,e.pending-=t,0===e.pending&&(e.pending_out=0))},Ls=(n,e)=>{uve(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,e),n.block_start=n.strstart,Os(n.strm)},Fn=(n,e)=>{n.pending_buf[n.pending++]=e},Mv=(n,e)=>{n.pending_buf[n.pending++]=e>>>8&255,n.pending_buf[n.pending++]=255&e},DP=(n,e,t,r)=>{let i=n.avail_in;return i>r&&(i=r),0===i?0:(n.avail_in-=i,e.set(n.input.subarray(n.next_in,n.next_in+i),t),1===n.state.wrap?n.adler=xv(n.adler,e,i,t):2===n.state.wrap&&(n.adler=Bi(n.adler,e,i,t)),n.next_in+=i,n.total_in+=i,i)},uz=(n,e)=>{let i,o,t=n.max_chain_length,r=n.strstart,s=n.prev_length,a=n.nice_match;const l=n.strstart>n.w_size-Tl?n.strstart-(n.w_size-Tl):0,c=n.window,u=n.w_mask,d=n.prev,m=n.strstart+258;let p=c[r+s-1],b=c[r+s];n.prev_length>=n.good_match&&(t>>=2),a>n.lookahead&&(a=n.lookahead);do{if(i=e,c[i+s]===b&&c[i+s-1]===p&&c[i]===c[r]&&c[++i]===c[r+1]){r+=2,i++;do{}while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<m);if(o=258-(m-r),r=m-258,o>s){if(n.match_start=e,s=o,o>=a)break;p=c[r+s-1],b=c[r+s]}}}while((e=d[e&u])>l&&0!=--t);return s<=n.lookahead?s:n.lookahead},cg=n=>{const e=n.w_size;let t,r,i;do{if(r=n.window_size-n.lookahead-n.strstart,n.strstart>=e+(e-Tl)&&(n.window.set(n.window.subarray(e,e+e-r),0),n.match_start-=e,n.strstart-=e,n.block_start-=e,n.insert>n.strstart&&(n.insert=n.strstart),Mve(n),r+=e),0===n.strm.avail_in)break;if(t=DP(n.strm,n.window,n.strstart+n.lookahead,r),n.lookahead+=t,n.lookahead+n.insert>=3)for(i=n.strstart-n.insert,n.ins_h=n.window[i],n.ins_h=Gu(n,n.ins_h,n.window[i+1]);n.insert&&(n.ins_h=Gu(n,n.ins_h,n.window[i+3-1]),n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,n.insert--,!(n.lookahead+n.insert<3)););}while(n.lookahead<Tl&&0!==n.strm.avail_in)},dz=(n,e)=>{let r,i,o,t=n.pending_buf_size-5>n.w_size?n.w_size:n.pending_buf_size-5,s=0,a=n.strm.avail_in;do{if(r=65535,o=n.bi_valid+42>>3,n.strm.avail_out<o||(o=n.strm.avail_out-o,i=n.strstart-n.block_start,r>i+n.strm.avail_in&&(r=i+n.strm.avail_in),r>o&&(r=o),r<t&&(0===r&&e!==da||e===zu||r!==i+n.strm.avail_in)))break;s=e===da&&r===i+n.strm.avail_in?1:0,bP(n,0,0,s),n.pending_buf[n.pending-4]=r,n.pending_buf[n.pending-3]=r>>8,n.pending_buf[n.pending-2]=~r,n.pending_buf[n.pending-1]=~r>>8,Os(n.strm),i&&(i>r&&(i=r),n.strm.output.set(n.window.subarray(n.block_start,n.block_start+i),n.strm.next_out),n.strm.next_out+=i,n.strm.avail_out-=i,n.strm.total_out+=i,n.block_start+=i,r-=i),r&&(DP(n.strm,n.strm.output,n.strm.next_out,r),n.strm.next_out+=r,n.strm.avail_out-=r,n.strm.total_out+=r)}while(0===s);return a-=n.strm.avail_in,a&&(a>=n.w_size?(n.matches=2,n.window.set(n.strm.input.subarray(n.strm.next_in-n.w_size,n.strm.next_in),0),n.strstart=n.w_size,n.insert=n.strstart):(n.window_size-n.strstart<=a&&(n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,n.insert>n.strstart&&(n.insert=n.strstart)),n.window.set(n.strm.input.subarray(n.strm.next_in-a,n.strm.next_in),n.strstart),n.strstart+=a,n.insert+=a>n.w_size-n.insert?n.w_size-n.insert:a),n.block_start=n.strstart),n.high_water<n.strstart&&(n.high_water=n.strstart),s?4:e!==zu&&e!==da&&0===n.strm.avail_in&&n.strstart===n.block_start?2:(o=n.window_size-n.strstart,n.strm.avail_in>o&&n.block_start>=n.w_size&&(n.block_start-=n.w_size,n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,o+=n.w_size,n.insert>n.strstart&&(n.insert=n.strstart)),o>n.strm.avail_in&&(o=n.strm.avail_in),o&&(DP(n.strm,n.window,n.strstart,o),n.strstart+=o,n.insert+=o>n.w_size-n.insert?n.w_size-n.insert:o),n.high_water<n.strstart&&(n.high_water=n.strstart),o=n.bi_valid+42>>3,o=n.pending_buf_size-o>65535?65535:n.pending_buf_size-o,t=o>n.w_size?n.w_size:o,i=n.strstart-n.block_start,(i>=t||(i||e===da)&&e!==zu&&0===n.strm.avail_in&&i<=o)&&(r=i>o?o:i,s=e===da&&0===n.strm.avail_in&&r===i?1:0,bP(n,n.block_start,r,s),n.block_start+=r,Os(n.strm)),s?3:1)},xP=(n,e)=>{let t,r;for(;;){if(n.lookahead<Tl){if(cg(n),n.lookahead<Tl&&e===zu)return 1;if(0===n.lookahead)break}if(t=0,n.lookahead>=3&&(n.ins_h=Gu(n,n.ins_h,n.window[n.strstart+3-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),0!==t&&n.strstart-t<=n.w_size-Tl&&(n.match_length=uz(n,t)),n.match_length>=3)if(r=ju(n,n.strstart-n.match_start,n.match_length-3),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=3){n.match_length--;do{n.strstart++,n.ins_h=Gu(n,n.ins_h,n.window[n.strstart+3-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart}while(0!=--n.match_length);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=Gu(n,n.ins_h,n.window[n.strstart+1]);else r=ju(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(r&&(Ls(n,!1),0===n.strm.avail_out))return 1}return n.insert=n.strstart<2?n.strstart:2,e===da?(Ls(n,!0),0===n.strm.avail_out?3:4):n.sym_next&&(Ls(n,!1),0===n.strm.avail_out)?1:2},ug=(n,e)=>{let t,r,i;for(;;){if(n.lookahead<Tl){if(cg(n),n.lookahead<Tl&&e===zu)return 1;if(0===n.lookahead)break}if(t=0,n.lookahead>=3&&(n.ins_h=Gu(n,n.ins_h,n.window[n.strstart+3-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=2,0!==t&&n.prev_length<n.max_lazy_match&&n.strstart-t<=n.w_size-Tl&&(n.match_length=uz(n,t),n.match_length<=5&&(n.strategy===mve||3===n.match_length&&n.strstart-n.match_start>4096)&&(n.match_length=2)),n.prev_length>=3&&n.match_length<=n.prev_length){i=n.strstart+n.lookahead-3,r=ju(n,n.strstart-1-n.prev_match,n.prev_length-3),n.lookahead-=n.prev_length-1,n.prev_length-=2;do{++n.strstart<=i&&(n.ins_h=Gu(n,n.ins_h,n.window[n.strstart+3-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart)}while(0!=--n.prev_length);if(n.match_available=0,n.match_length=2,n.strstart++,r&&(Ls(n,!1),0===n.strm.avail_out))return 1}else if(n.match_available){if(r=ju(n,0,n.window[n.strstart-1]),r&&Ls(n,!1),n.strstart++,n.lookahead--,0===n.strm.avail_out)return 1}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(r=ju(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<2?n.strstart:2,e===da?(Ls(n,!0),0===n.strm.avail_out?3:4):n.sym_next&&(Ls(n,!1),0===n.strm.avail_out)?1:2};function Sl(n,e,t,r,i){this.good_length=n,this.max_lazy=e,this.nice_length=t,this.max_chain=r,this.func=i}const Nv=[new Sl(0,0,0,0,dz),new Sl(4,4,8,4,xP),new Sl(4,5,16,8,xP),new Sl(4,6,32,32,xP),new Sl(4,4,16,16,ug),new Sl(8,16,32,32,ug),new Sl(8,16,128,128,ug),new Sl(8,32,128,256,ug),new Sl(32,128,258,1024,ug),new Sl(32,258,258,4096,ug)];function Ove(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),qu(this.dyn_ltree),qu(this.dyn_dtree),qu(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),qu(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),qu(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Rv=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||42!==e.status&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&113!==e.status&&666!==e.status?1:0},hz=n=>{if(Rv(n))return Ah(n,Al);n.total_in=n.total_out=0,n.data_type=bve;const e=n.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?42:113,n.adler=2===e.wrap?0:1,e.last_flush=-2,cve(e),no},fz=n=>{const e=hz(n);return e===no&&(n=>{n.window_size=2*n.w_size,qu(n.head),n.max_lazy_match=Nv[n.level].max_lazy,n.good_match=Nv[n.level].good_length,n.nice_match=Nv[n.level].nice_length,n.max_chain_length=Nv[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0})(n.state),e},pz=(n,e,t,r,i,o)=>{if(!n)return Al;let s=1;if(e===gve&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>9||t!==S2||r<8||r>15||e<0||e>9||o<0||o>vve||8===r&&1!==s)return Ah(n,Al);8===r&&(r=9);const a=new Ove;return n.state=a,a.strm=n,a.status=42,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=e,a.strategy=o,a.method=t,fz(n)};var kv={deflateInit:(n,e)=>pz(n,e,S2,15,8,yve),deflateInit2:pz,deflateReset:fz,deflateResetKeep:hz,deflateSetHeader:(n,e)=>Rv(n)||2!==n.state.wrap?Al:(n.state.gzhead=e,no),deflate:(n,e)=>{if(Rv(n)||e>az||e<0)return n?Ah(n,Al):Al;const t=n.state;if(!n.output||0!==n.avail_in&&!n.input||666===t.status&&e!==da)return Ah(n,0===n.avail_out?wP:Al);const r=t.last_flush;if(t.last_flush=e,0!==t.pending){if(Os(n),0===n.avail_out)return t.last_flush=-1,no}else if(0===n.avail_in&&cz(e)<=cz(r)&&e!==da)return Ah(n,wP);if(666===t.status&&0!==n.avail_in)return Ah(n,wP);if(42===t.status&&0===t.wrap&&(t.status=113),42===t.status){let i=S2+(t.w_bits-8<<4)<<8,o=-1;if(o=t.strategy>=T2||t.level<2?0:t.level<6?1:6===t.level?2:3,i|=o<<6,0!==t.strstart&&(i|=32),i+=31-i%31,Mv(t,i),0!==t.strstart&&(Mv(t,n.adler>>>16),Mv(t,65535&n.adler)),n.adler=1,t.status=113,Os(n),0!==t.pending)return t.last_flush=-1,no}if(57===t.status)if(n.adler=0,Fn(t,31),Fn(t,139),Fn(t,8),t.gzhead)Fn(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),Fn(t,255&t.gzhead.time),Fn(t,t.gzhead.time>>8&255),Fn(t,t.gzhead.time>>16&255),Fn(t,t.gzhead.time>>24&255),Fn(t,9===t.level?2:t.strategy>=T2||t.level<2?4:0),Fn(t,255&t.gzhead.os),t.gzhead.extra&&t.gzhead.extra.length&&(Fn(t,255&t.gzhead.extra.length),Fn(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(n.adler=Bi(n.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=69;else if(Fn(t,0),Fn(t,0),Fn(t,0),Fn(t,0),Fn(t,0),Fn(t,9===t.level?2:t.strategy>=T2||t.level<2?4:0),Fn(t,3),t.status=113,Os(n),0!==t.pending)return t.last_flush=-1,no;if(69===t.status){if(t.gzhead.extra){let i=t.pending,o=(65535&t.gzhead.extra.length)-t.gzindex;for(;t.pending+o>t.pending_buf_size;){let a=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>i&&(n.adler=Bi(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex+=a,Os(n),0!==t.pending)return t.last_flush=-1,no;i=0,o-=a}let s=new Uint8Array(t.gzhead.extra);t.pending_buf.set(s.subarray(t.gzindex,t.gzindex+o),t.pending),t.pending+=o,t.gzhead.hcrc&&t.pending>i&&(n.adler=Bi(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=73}if(73===t.status){if(t.gzhead.name){let o,i=t.pending;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(n.adler=Bi(n.adler,t.pending_buf,t.pending-i,i)),Os(n),0!==t.pending)return t.last_flush=-1,no;i=0}o=t.gzindex<t.gzhead.name.length?255&t.gzhead.name.charCodeAt(t.gzindex++):0,Fn(t,o)}while(0!==o);t.gzhead.hcrc&&t.pending>i&&(n.adler=Bi(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=91}if(91===t.status){if(t.gzhead.comment){let o,i=t.pending;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(n.adler=Bi(n.adler,t.pending_buf,t.pending-i,i)),Os(n),0!==t.pending)return t.last_flush=-1,no;i=0}o=t.gzindex<t.gzhead.comment.length?255&t.gzhead.comment.charCodeAt(t.gzindex++):0,Fn(t,o)}while(0!==o);t.gzhead.hcrc&&t.pending>i&&(n.adler=Bi(n.adler,t.pending_buf,t.pending-i,i))}t.status=103}if(103===t.status){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(Os(n),0!==t.pending))return t.last_flush=-1,no;Fn(t,255&n.adler),Fn(t,n.adler>>8&255),n.adler=0}if(t.status=113,Os(n),0!==t.pending)return t.last_flush=-1,no}if(0!==n.avail_in||0!==t.lookahead||e!==zu&&666!==t.status){let i=0===t.level?dz(t,e):t.strategy===T2?((n,e)=>{let t;for(;;){if(0===n.lookahead&&(cg(n),0===n.lookahead)){if(e===zu)return 1;break}if(n.match_length=0,t=ju(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,t&&(Ls(n,!1),0===n.strm.avail_out))return 1}return n.insert=0,e===da?(Ls(n,!0),0===n.strm.avail_out?3:4):n.sym_next&&(Ls(n,!1),0===n.strm.avail_out)?1:2})(t,e):t.strategy===_ve?((n,e)=>{let t,r,i,o;const s=n.window;for(;;){if(n.lookahead<=258){if(cg(n),n.lookahead<=258&&e===zu)return 1;if(0===n.lookahead)break}if(n.match_length=0,n.lookahead>=3&&n.strstart>0&&(i=n.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=n.strstart+258;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);n.match_length=258-(o-i),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=3?(t=ju(n,1,n.match_length-3),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(t=ju(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),t&&(Ls(n,!1),0===n.strm.avail_out))return 1}return n.insert=0,e===da?(Ls(n,!0),0===n.strm.avail_out?3:4):n.sym_next&&(Ls(n,!1),0===n.strm.avail_out)?1:2})(t,e):Nv[t.level].func(t,e);if((3===i||4===i)&&(t.status=666),1===i||3===i)return 0===n.avail_out&&(t.last_flush=-1),no;if(2===i&&(e===hve?dve(t):e!==az&&(bP(t,0,0,!1),e===fve&&(qu(t.head),0===t.lookahead&&(t.strstart=0,t.block_start=0,t.insert=0))),Os(n),0===n.avail_out))return t.last_flush=-1,no}return e!==da?no:t.wrap<=0?lz:(2===t.wrap?(Fn(t,255&n.adler),Fn(t,n.adler>>8&255),Fn(t,n.adler>>16&255),Fn(t,n.adler>>24&255),Fn(t,255&n.total_in),Fn(t,n.total_in>>8&255),Fn(t,n.total_in>>16&255),Fn(t,n.total_in>>24&255)):(Mv(t,n.adler>>>16),Mv(t,65535&n.adler)),Os(n),t.wrap>0&&(t.wrap=-t.wrap),0!==t.pending?no:lz)},deflateEnd:n=>{if(Rv(n))return Al;const e=n.state.status;return n.state=null,113===e?Ah(n,pve):no},deflateSetDictionary:(n,e)=>{let t=e.length;if(Rv(n))return Al;const r=n.state,i=r.wrap;if(2===i||1===i&&42!==r.status||r.lookahead)return Al;if(1===i&&(n.adler=xv(n.adler,e,t,0)),r.wrap=0,t>=r.w_size){0===i&&(qu(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(e.subarray(t-r.w_size,t),0),e=l,t=r.w_size}const o=n.avail_in,s=n.next_in,a=n.input;for(n.avail_in=t,n.next_in=0,n.input=e,cg(r);r.lookahead>=3;){let l=r.strstart,c=r.lookahead-2;do{r.ins_h=Gu(r,r.ins_h,r.window[l+3-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++}while(--c);r.strstart=l,r.lookahead=2,cg(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,n.next_in=s,n.input=a,n.avail_in=o,r.wrap=i,no},deflateInfo:"pako deflate (from Nodeca project)"};const Yve=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var D2={assign:function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if("object"!=typeof t)throw new TypeError(t+"must be non-object");for(const r in t)Yve(t,r)&&(n[r]=t[r])}}return n},flattenChunks:n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,o=n.length;r<o;r++){let s=n[r];t.set(s,i),i+=s.length}return t}};let gz=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{gz=!1}const Ov=new Uint8Array(256);for(let n=0;n<256;n++)Ov[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Ov[254]=Ov[254]=1;var Lv={string2buf:n=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(n);let e,t,r,i,o,s=n.length,a=0;for(i=0;i<s;i++)t=n.charCodeAt(i),55296==(64512&t)&&i+1<s&&(r=n.charCodeAt(i+1),56320==(64512&r)&&(t=65536+(t-55296<<10)+(r-56320),i++)),a+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)t=n.charCodeAt(i),55296==(64512&t)&&i+1<s&&(r=n.charCodeAt(i+1),56320==(64512&r)&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|63&t):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|63&t):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|63&t);return e},buf2string:(n,e)=>{const t=e||n.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(n.subarray(0,e));let r,i;const o=new Array(2*t);for(i=0,r=0;r<t;){let s=n[r++];if(s<128){o[i++]=s;continue}let a=Ov[s];if(a>4)o[i++]=65533,r+=a-1;else{for(s&=2===a?31:3===a?15:7;a>1&&r<t;)s=s<<6|63&n[r++],a--;a>1?o[i++]=65533:s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|1023&s)}}return((n,e)=>{if(e<65534&&n.subarray&&gz)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t})(o,i)},utf8border:(n,e)=>{(e=e||n.length)>n.length&&(e=n.length);let t=e-1;for(;t>=0&&128==(192&n[t]);)t--;return t<0||0===t?e:t+Ov[n[t]]>e?t:e}},mz=function r1e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const _z=Object.prototype.toString,{Z_NO_FLUSH:i1e,Z_SYNC_FLUSH:o1e,Z_FULL_FLUSH:s1e,Z_FINISH:a1e,Z_OK:x2,Z_STREAM_END:l1e,Z_DEFAULT_COMPRESSION:c1e,Z_DEFAULT_STRATEGY:u1e,Z_DEFLATED:d1e}=Ih;function Fv(n){this.options=D2.assign({level:c1e,method:d1e,chunkSize:16384,windowBits:15,memLevel:8,strategy:u1e},n||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new mz,this.strm.avail_out=0;let t=kv.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==x2)throw new Error(wh[t]);if(e.header&&kv.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(r="string"==typeof e.dictionary?Lv.string2buf(e.dictionary):"[object ArrayBuffer]"===_z.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,t=kv.deflateSetDictionary(this.strm,r),t!==x2)throw new Error(wh[t]);this._dict_set=!0}}function PP(n,e){const t=new Fv(e);if(t.push(n,!0),t.err)throw t.msg||wh[t.err];return t.result}Fv.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=e===~~e?e:!0===e?a1e:i1e,t.input="string"==typeof n?Lv.string2buf(n):"[object ArrayBuffer]"===_z.call(n)?new Uint8Array(n):n,t.next_in=0,t.avail_in=t.input.length;;)if(0===t.avail_out&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),(o===o1e||o===s1e)&&t.avail_out<=6)this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;else{if(i=kv.deflate(t,o),i===l1e)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),i=kv.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===x2;if(0!==t.avail_out){if(o>0&&t.next_out>0)this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;else if(0===t.avail_in)break}else this.onData(t.output)}return!0},Fv.prototype.onData=function(n){this.chunks.push(n)},Fv.prototype.onEnd=function(n){n===x2&&(this.result=D2.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};var y1e={Deflate:Fv,deflate:PP,deflateRaw:function h1e(n,e){return(e=e||{}).raw=!0,PP(n,e)},gzip:function f1e(n,e){return(e=e||{}).gzip=!0,PP(n,e)},constants:Ih};const P2=16209;var w1e=function(e,t){let r,i,o,s,a,l,c,u,d,m,p,b,w,E,C,k,B,F,X,se,z,x,S,V;const A=e.state;r=e.next_in,S=e.input,i=r+(e.avail_in-5),o=e.next_out,V=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),l=A.dmax,c=A.wsize,u=A.whave,d=A.wnext,m=A.window,p=A.hold,b=A.bits,w=A.lencode,E=A.distcode,C=(1<<A.lenbits)-1,k=(1<<A.distbits)-1;e:do{b<15&&(p+=S[r++]<<b,b+=8,p+=S[r++]<<b,b+=8),B=w[p&C];t:for(;;){if(F=B>>>24,p>>>=F,b-=F,F=B>>>16&255,0===F)V[o++]=65535&B;else{if(!(16&F)){if(64&F){if(32&F){A.mode=16191;break e}e.msg="invalid literal/length code",A.mode=P2;break e}B=w[(65535&B)+(p&(1<<F)-1)];continue t}for(X=65535&B,F&=15,F&&(b<F&&(p+=S[r++]<<b,b+=8),X+=p&(1<<F)-1,p>>>=F,b-=F),b<15&&(p+=S[r++]<<b,b+=8,p+=S[r++]<<b,b+=8),B=E[p&k];;){if(F=B>>>24,p>>>=F,b-=F,F=B>>>16&255,16&F){if(se=65535&B,F&=15,b<F&&(p+=S[r++]<<b,b+=8,b<F&&(p+=S[r++]<<b,b+=8)),se+=p&(1<<F)-1,se>l){e.msg="invalid distance too far back",A.mode=P2;break e}if(p>>>=F,b-=F,F=o-s,se>F){if(F=se-F,F>u&&A.sane){e.msg="invalid distance too far back",A.mode=P2;break e}if(z=0,x=m,0===d){if(z+=c-F,F<X){X-=F;do{V[o++]=m[z++]}while(--F);z=o-se,x=V}}else if(d<F){if(z+=c+d-F,F-=d,F<X){X-=F;do{V[o++]=m[z++]}while(--F);if(z=0,d<X){F=d,X-=F;do{V[o++]=m[z++]}while(--F);z=o-se,x=V}}}else if(z+=d-F,F<X){X-=F;do{V[o++]=m[z++]}while(--F);z=o-se,x=V}for(;X>2;)V[o++]=x[z++],V[o++]=x[z++],V[o++]=x[z++],X-=3;X&&(V[o++]=x[z++],X>1&&(V[o++]=x[z++]))}else{z=o-se;do{V[o++]=V[z++],V[o++]=V[z++],V[o++]=V[z++],X-=3}while(X>2);X&&(V[o++]=V[z++],X>1&&(V[o++]=V[z++]))}break}if(64&F){e.msg="invalid distance code",A.mode=P2;break e}B=E[(65535&B)+(p&(1<<F)-1)]}}break}}while(r<i&&o<a);X=b>>3,r-=X,b-=X<<3,p&=(1<<b)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<a?a-o+257:257-(o-a),A.hold=p,A.bits=b};const I1e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),E1e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),C1e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),A1e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Vv=(n,e,t,r,i,o,s,a)=>{const l=a.bits;let B,F,X,se,z,S,c=0,u=0,d=0,m=0,p=0,b=0,w=0,E=0,C=0,k=0,x=null;const V=new Uint16Array(16),A=new Uint16Array(16);let N,te,me,P=null;for(c=0;c<=15;c++)V[c]=0;for(u=0;u<r;u++)V[e[t+u]]++;for(p=l,m=15;m>=1&&0===V[m];m--);if(p>m&&(p=m),0===m)return i[o++]=20971520,i[o++]=20971520,a.bits=1,0;for(d=1;d<m&&0===V[d];d++);for(p<d&&(p=d),E=1,c=1;c<=15;c++)if(E<<=1,E-=V[c],E<0)return-1;if(E>0&&(0===n||1!==m))return-1;for(A[1]=0,c=1;c<15;c++)A[c+1]=A[c]+V[c];for(u=0;u<r;u++)0!==e[t+u]&&(s[A[e[t+u]]++]=u);if(0===n?(x=P=s,S=20):1===n?(x=I1e,P=E1e,S=257):(x=C1e,P=A1e,S=0),k=0,u=0,c=d,z=o,b=p,w=0,X=-1,C=1<<p,se=C-1,1===n&&C>852||2===n&&C>592)return 1;for(;;){N=c-w,s[u]+1<S?(te=0,me=s[u]):s[u]>=S?(te=P[s[u]-S],me=x[s[u]-S]):(te=96,me=0),B=1<<c-w,F=1<<b,d=F;do{F-=B,i[z+(k>>w)+F]=N<<24|te<<16|me|0}while(0!==F);for(B=1<<c-1;k&B;)B>>=1;if(0!==B?(k&=B-1,k+=B):k=0,u++,0==--V[c]){if(c===m)break;c=e[t+s[u]]}if(c>p&&(k&se)!==X){for(0===w&&(w=p),z+=d,b=c-w,E=1<<b;b+w<m&&(E-=V[b+w],!(E<=0));)b++,E<<=1;if(C+=1<<b,1===n&&C>852||2===n&&C>592)return 1;X=k&se,i[X]=p<<24|b<<16|z-o|0}}return 0!==k&&(i[z+k]=c-w<<24|64<<16|0),a.bits=p,0};const{Z_FINISH:Cz,Z_BLOCK:S1e,Z_TREES:M2,Z_OK:Th,Z_STREAM_END:D1e,Z_NEED_DICT:x1e,Z_STREAM_ERROR:ha,Z_DATA_ERROR:Az,Z_MEM_ERROR:Tz,Z_BUF_ERROR:P1e,Z_DEFLATED:Sz}=Ih,N2=16180,R2=16190,Dc=16191,k2=16199,O2=16200,kr=16209,Zz=n=>(n>>>24&255)+(n>>>8&65280)+((65280&n)<<8)+((255&n)<<24);function k1e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Sh=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<N2||e.mode>16211?1:0},Jz=n=>{if(Sh(n))return ha;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=1&e.wrap),e.mode=N2,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,Th},Xz=n=>{if(Sh(n))return ha;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,Jz(n)},e$=(n,e)=>{let t;if(Sh(n))return ha;const r=n.state;return e<0?(t=0,e=-e):(t=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?ha:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,Xz(n))},t$=(n,e)=>{if(!n)return ha;const t=new k1e;n.state=t,t.strm=n,t.window=null,t.mode=N2;const r=e$(n,e);return r!==Th&&(n.state=null),r};let OP,LP,n$=!0;const L1e=n=>{if(n$){OP=new Int32Array(512),LP=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Vv(1,n.lens,0,288,OP,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Vv(2,n.lens,0,32,LP,0,n.work,{bits:5}),n$=!1}n.lencode=OP,n.lenbits=9,n.distcode=LP,n.distbits=5},r$=(n,e,t,r)=>{let i;const o=n.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(t-r,t-r+i),o.wnext),(r-=i)?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var xc={inflateReset:Xz,inflateReset2:e$,inflateResetKeep:Jz,inflateInit:n=>t$(n,15),inflateInit2:t$,inflate:(n,e)=>{let t,r,i,o,s,a,l,c,u,d,m,p,b,w,C,k,B,F,X,se,z,x,E=0;const S=new Uint8Array(4);let V,A;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Sh(n)||!n.output||!n.input&&0!==n.avail_in)return ha;t=n.state,t.mode===Dc&&(t.mode=16192),s=n.next_out,i=n.output,l=n.avail_out,o=n.next_in,r=n.input,a=n.avail_in,c=t.hold,u=t.bits,d=a,m=l,x=Th;e:for(;;)switch(t.mode){case N2:if(0===t.wrap){t.mode=16192;break}for(;u<16;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}if(2&t.wrap&&35615===c){0===t.wbits&&(t.wbits=15),t.check=0,S[0]=255&c,S[1]=c>>>8&255,t.check=Bi(t.check,S,2,0),c=0,u=0,t.mode=16181;break}if(t.head&&(t.head.done=!1),!(1&t.wrap)||(((255&c)<<8)+(c>>8))%31){n.msg="incorrect header check",t.mode=kr;break}if((15&c)!==Sz){n.msg="unknown compression method",t.mode=kr;break}if(c>>>=4,u-=4,z=8+(15&c),0===t.wbits&&(t.wbits=z),z>15||z>t.wbits){n.msg="invalid window size",t.mode=kr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=512&c?16189:Dc,c=0,u=0;break;case 16181:for(;u<16;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}if(t.flags=c,(255&t.flags)!==Sz){n.msg="unknown compression method",t.mode=kr;break}if(57344&t.flags){n.msg="unknown header flags set",t.mode=kr;break}t.head&&(t.head.text=c>>8&1),512&t.flags&&4&t.wrap&&(S[0]=255&c,S[1]=c>>>8&255,t.check=Bi(t.check,S,2,0)),c=0,u=0,t.mode=16182;case 16182:for(;u<32;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}t.head&&(t.head.time=c),512&t.flags&&4&t.wrap&&(S[0]=255&c,S[1]=c>>>8&255,S[2]=c>>>16&255,S[3]=c>>>24&255,t.check=Bi(t.check,S,4,0)),c=0,u=0,t.mode=16183;case 16183:for(;u<16;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}t.head&&(t.head.xflags=255&c,t.head.os=c>>8),512&t.flags&&4&t.wrap&&(S[0]=255&c,S[1]=c>>>8&255,t.check=Bi(t.check,S,2,0)),c=0,u=0,t.mode=16184;case 16184:if(1024&t.flags){for(;u<16;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}t.length=c,t.head&&(t.head.extra_len=c),512&t.flags&&4&t.wrap&&(S[0]=255&c,S[1]=c>>>8&255,t.check=Bi(t.check,S,2,0)),c=0,u=0}else t.head&&(t.head.extra=null);t.mode=16185;case 16185:if(1024&t.flags&&(p=t.length,p>a&&(p=a),p&&(t.head&&(z=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+p),z)),512&t.flags&&4&t.wrap&&(t.check=Bi(t.check,r,p,o)),a-=p,o+=p,t.length-=p),t.length))break e;t.length=0,t.mode=16186;case 16186:if(2048&t.flags){if(0===a)break e;p=0;do{z=r[o+p++],t.head&&z&&t.length<65536&&(t.head.name+=String.fromCharCode(z))}while(z&&p<a);if(512&t.flags&&4&t.wrap&&(t.check=Bi(t.check,r,p,o)),a-=p,o+=p,z)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=16187;case 16187:if(4096&t.flags){if(0===a)break e;p=0;do{z=r[o+p++],t.head&&z&&t.length<65536&&(t.head.comment+=String.fromCharCode(z))}while(z&&p<a);if(512&t.flags&&4&t.wrap&&(t.check=Bi(t.check,r,p,o)),a-=p,o+=p,z)break e}else t.head&&(t.head.comment=null);t.mode=16188;case 16188:if(512&t.flags){for(;u<16;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}if(4&t.wrap&&c!==(65535&t.check)){n.msg="header crc mismatch",t.mode=kr;break}c=0,u=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Dc;break;case 16189:for(;u<32;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}n.adler=t.check=Zz(c),c=0,u=0,t.mode=R2;case R2:if(0===t.havedict)return n.next_out=s,n.avail_out=l,n.next_in=o,n.avail_in=a,t.hold=c,t.bits=u,x1e;n.adler=t.check=1,t.mode=Dc;case Dc:if(e===S1e||e===M2)break e;case 16192:if(t.last){c>>>=7&u,u-=7&u,t.mode=16206;break}for(;u<3;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}switch(t.last=1&c,c>>>=1,u-=1,3&c){case 0:t.mode=16193;break;case 1:if(L1e(t),t.mode=k2,e===M2){c>>>=2,u-=2;break e}break;case 2:t.mode=16196;break;case 3:n.msg="invalid block type",t.mode=kr}c>>>=2,u-=2;break;case 16193:for(c>>>=7&u,u-=7&u;u<32;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}if((65535&c)!=(c>>>16^65535)){n.msg="invalid stored block lengths",t.mode=kr;break}if(t.length=65535&c,c=0,u=0,t.mode=16194,e===M2)break e;case 16194:t.mode=16195;case 16195:if(p=t.length,p){if(p>a&&(p=a),p>l&&(p=l),0===p)break e;i.set(r.subarray(o,o+p),s),a-=p,o+=p,l-=p,s+=p,t.length-=p;break}t.mode=Dc;break;case 16196:for(;u<14;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}if(t.nlen=257+(31&c),c>>>=5,u-=5,t.ndist=1+(31&c),c>>>=5,u-=5,t.ncode=4+(15&c),c>>>=4,u-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=kr;break}t.have=0,t.mode=16197;case 16197:for(;t.have<t.ncode;){for(;u<3;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}t.lens[P[t.have++]]=7&c,c>>>=3,u-=3}for(;t.have<19;)t.lens[P[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,V={bits:t.lenbits},x=Vv(0,t.lens,0,19,t.lencode,0,t.work,V),t.lenbits=V.bits,x){n.msg="invalid code lengths set",t.mode=kr;break}t.have=0,t.mode=16198;case 16198:for(;t.have<t.nlen+t.ndist;){for(;E=t.lencode[c&(1<<t.lenbits)-1],C=E>>>24,k=E>>>16&255,B=65535&E,!(C<=u);){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}if(B<16)c>>>=C,u-=C,t.lens[t.have++]=B;else{if(16===B){for(A=C+2;u<A;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}if(c>>>=C,u-=C,0===t.have){n.msg="invalid bit length repeat",t.mode=kr;break}z=t.lens[t.have-1],p=3+(3&c),c>>>=2,u-=2}else if(17===B){for(A=C+3;u<A;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}c>>>=C,u-=C,z=0,p=3+(7&c),c>>>=3,u-=3}else{for(A=C+7;u<A;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}c>>>=C,u-=C,z=0,p=11+(127&c),c>>>=7,u-=7}if(t.have+p>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=kr;break}for(;p--;)t.lens[t.have++]=z}}if(t.mode===kr)break;if(0===t.lens[256]){n.msg="invalid code -- missing end-of-block",t.mode=kr;break}if(t.lenbits=9,V={bits:t.lenbits},x=Vv(1,t.lens,0,t.nlen,t.lencode,0,t.work,V),t.lenbits=V.bits,x){n.msg="invalid literal/lengths set",t.mode=kr;break}if(t.distbits=6,t.distcode=t.distdyn,V={bits:t.distbits},x=Vv(2,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,V),t.distbits=V.bits,x){n.msg="invalid distances set",t.mode=kr;break}if(t.mode=k2,e===M2)break e;case k2:t.mode=O2;case O2:if(a>=6&&l>=258){n.next_out=s,n.avail_out=l,n.next_in=o,n.avail_in=a,t.hold=c,t.bits=u,w1e(n,m),s=n.next_out,i=n.output,l=n.avail_out,o=n.next_in,r=n.input,a=n.avail_in,c=t.hold,u=t.bits,t.mode===Dc&&(t.back=-1);break}for(t.back=0;E=t.lencode[c&(1<<t.lenbits)-1],C=E>>>24,k=E>>>16&255,B=65535&E,!(C<=u);){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}if(k&&!(240&k)){for(F=C,X=k,se=B;E=t.lencode[se+((c&(1<<F+X)-1)>>F)],C=E>>>24,k=E>>>16&255,B=65535&E,!(F+C<=u);){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}c>>>=F,u-=F,t.back+=F}if(c>>>=C,u-=C,t.back+=C,t.length=B,0===k){t.mode=16205;break}if(32&k){t.back=-1,t.mode=Dc;break}if(64&k){n.msg="invalid literal/length code",t.mode=kr;break}t.extra=15&k,t.mode=16201;case 16201:if(t.extra){for(A=t.extra;u<A;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}t.length+=c&(1<<t.extra)-1,c>>>=t.extra,u-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=16202;case 16202:for(;E=t.distcode[c&(1<<t.distbits)-1],C=E>>>24,k=E>>>16&255,B=65535&E,!(C<=u);){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}if(!(240&k)){for(F=C,X=k,se=B;E=t.distcode[se+((c&(1<<F+X)-1)>>F)],C=E>>>24,k=E>>>16&255,B=65535&E,!(F+C<=u);){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}c>>>=F,u-=F,t.back+=F}if(c>>>=C,u-=C,t.back+=C,64&k){n.msg="invalid distance code",t.mode=kr;break}t.offset=B,t.extra=15&k,t.mode=16203;case 16203:if(t.extra){for(A=t.extra;u<A;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}t.offset+=c&(1<<t.extra)-1,c>>>=t.extra,u-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=kr;break}t.mode=16204;case 16204:if(0===l)break e;if(p=m-l,t.offset>p){if(p=t.offset-p,p>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=kr;break}p>t.wnext?(p-=t.wnext,b=t.wsize-p):b=t.wnext-p,p>t.length&&(p=t.length),w=t.window}else w=i,b=s-t.offset,p=t.length;p>l&&(p=l),l-=p,t.length-=p;do{i[s++]=w[b++]}while(--p);0===t.length&&(t.mode=O2);break;case 16205:if(0===l)break e;i[s++]=t.length,l--,t.mode=O2;break;case 16206:if(t.wrap){for(;u<32;){if(0===a)break e;a--,c|=r[o++]<<u,u+=8}if(m-=l,n.total_out+=m,t.total+=m,4&t.wrap&&m&&(n.adler=t.check=t.flags?Bi(t.check,i,m,s-m):xv(t.check,i,m,s-m)),m=l,4&t.wrap&&(t.flags?c:Zz(c))!==t.check){n.msg="incorrect data check",t.mode=kr;break}c=0,u=0}t.mode=16207;case 16207:if(t.wrap&&t.flags){for(;u<32;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}if(4&t.wrap&&c!==(4294967295&t.total)){n.msg="incorrect length check",t.mode=kr;break}c=0,u=0}t.mode=16208;case 16208:x=D1e;break e;case kr:x=Az;break e;case 16210:return Tz;default:return ha}return n.next_out=s,n.avail_out=l,n.next_in=o,n.avail_in=a,t.hold=c,t.bits=u,(t.wsize||m!==n.avail_out&&t.mode<kr&&(t.mode<16206||e!==Cz))&&r$(n,n.output,n.next_out,m-n.avail_out),d-=n.avail_in,m-=n.avail_out,n.total_in+=d,n.total_out+=m,t.total+=m,4&t.wrap&&m&&(n.adler=t.check=t.flags?Bi(t.check,i,m,n.next_out-m):xv(t.check,i,m,n.next_out-m)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Dc?128:0)+(t.mode===k2||16194===t.mode?256:0),(0===d&&0===m||e===Cz)&&x===Th&&(x=P1e),x},inflateEnd:n=>{if(Sh(n))return ha;let e=n.state;return e.window&&(e.window=null),n.state=null,Th},inflateGetHeader:(n,e)=>{if(Sh(n))return ha;const t=n.state;return 2&t.wrap?(t.head=e,e.done=!1,Th):ha},inflateSetDictionary:(n,e)=>{const t=e.length;let r,i,o;return Sh(n)||(r=n.state,0!==r.wrap&&r.mode!==R2)?ha:r.mode===R2&&(i=1,i=xv(i,e,t,0),i!==r.check)?Az:(o=r$(n,e,t,t),o?(r.mode=16210,Tz):(r.havedict=1,Th))},inflateInfo:"pako inflate (from Nodeca project)"},J1e=function Z1e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const i$=Object.prototype.toString,{Z_NO_FLUSH:X1e,Z_FINISH:e0e,Z_OK:Uv,Z_STREAM_END:FP,Z_NEED_DICT:VP,Z_STREAM_ERROR:t0e,Z_DATA_ERROR:o$,Z_MEM_ERROR:n0e}=Ih;function Bv(n){this.options=D2.assign({chunkSize:65536,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new mz,this.strm.avail_out=0;let t=xc.inflateInit2(this.strm,e.windowBits);if(t!==Uv)throw new Error(wh[t]);if(this.header=new J1e,xc.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Lv.string2buf(e.dictionary):"[object ArrayBuffer]"===i$.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=xc.inflateSetDictionary(this.strm,e.dictionary),t!==Uv)))throw new Error(wh[t])}function UP(n,e){const t=new Bv(e);if(t.push(n),t.err)throw t.msg||wh[t.err];return t.result}Bv.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(s=e===~~e?e:!0===e?e0e:X1e,t.input="[object ArrayBuffer]"===i$.call(n)?new Uint8Array(n):n,t.next_in=0,t.avail_in=t.input.length;;){for(0===t.avail_out&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=xc.inflate(t,s),o===VP&&i&&(o=xc.inflateSetDictionary(t,i),o===Uv?o=xc.inflate(t,s):o===o$&&(o=VP));t.avail_in>0&&o===FP&&t.state.wrap>0&&0!==n[t.next_in];)xc.inflateReset(t),o=xc.inflate(t,s);switch(o){case t0e:case o$:case VP:case n0e:return this.onEnd(o),this.ended=!0,!1}if(a=t.avail_out,t.next_out&&(0===t.avail_out||o===FP))if("string"===this.options.to){let l=Lv.utf8border(t.output,t.next_out),c=t.next_out-l,u=Lv.buf2string(t.output,l);t.next_out=c,t.avail_out=r-c,c&&t.output.set(t.output.subarray(l,l+c),0),this.onData(u)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(o!==Uv||0!==a){if(o===FP)return o=xc.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===t.avail_in)break}}return!0},Bv.prototype.onData=function(n){this.chunks.push(n)},Bv.prototype.onEnd=function(n){n===Uv&&(this.result="string"===this.options.to?this.chunks.join(""):D2.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};var c0e={Inflate:Bv,inflate:UP,inflateRaw:function r0e(n,e){return(e=e||{}).raw=!0,UP(n,e)},ungzip:UP,constants:Ih};const{Inflate:p0e,inflate:g0e}=c0e;var BP=p0e,a$=g0e;const l$=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;l$[n]=e}const c$=4294967295;function d$(n,e,t){const r=n.readUint32(),i=function u$(n,e){return(function C0e(n,e,t){let r=n;for(let i=0;i<t;i++)r=l$[255&(r^e[i])]^r>>>8;return r}(c$,n,e)^c$)>>>0}(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`)}function h$(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function f$(n,e,t,r){let i=0;for(;i<r;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-r]&255}function p$(n,e,t,r){let i=0;if(0===t.length)for(;i<r;i++)e[i]=n[i];else for(;i<r;i++)e[i]=n[i]+t[i]&255}function g$(n,e,t,r,i){let o=0;if(0===t.length){for(;o<i;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-i]>>1)&255}else{for(;o<i;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-i]+t[o]>>1)&255}}function m$(n,e,t,r,i){let o=0;if(0===t.length){for(;o<i;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-i]&255}else{for(;o<i;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+A0e(e[o-i],t[o],t[o-i])&255}}function A0e(n,e,t){const r=n+e-t,i=Math.abs(r-n),o=Math.abs(r-e),s=Math.abs(r-t);return i<=o&&i<=s?n:o<=s?e:t}function T0e(n,e,t,r,i,o){switch(n){case 0:h$(e,t,i);break;case 1:f$(e,t,i,o);break;case 2:p$(e,t,r,i);break;case 3:g$(e,t,r,i,o);break;case 4:m$(e,t,r,i,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const S0e=new Uint16Array([255]),D0e=255===new Uint8Array(S0e.buffer)[0];function P0e(n){return(255&n)<<8|n>>8&255}const M0e=new Uint16Array([255]),N0e=255===new Uint8Array(M0e.buffer)[0],R0e=new Uint8Array(0);function _$(n){const{data:e,width:t,height:r,channels:i,depth:o}=n,s=Math.ceil(o/8)*i,a=Math.ceil(o/8*i*t),l=new Uint8Array(r*a);let d,m,c=R0e,u=0;for(let p=0;p<r;p++){switch(d=e.subarray(u+1,u+1+a),m=l.subarray(p*a,(p+1)*a),e[u]){case 0:h$(d,m,a);break;case 1:f$(d,m,a,s);break;case 2:p$(d,m,c,a);break;case 3:g$(d,m,c,a,s);break;case 4:m$(d,m,c,a,s);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=m,u+=a+1}if(16===o){const p=new Uint16Array(l.buffer);if(N0e)for(let b=0;b<p.length;b++)p[b]=k0e(p[b]);return p}return l}function k0e(n){return(255&n)<<8|n>>8&255}const jv=Uint8Array.of(137,80,78,71,13,10,26,10);function v$(n){if(!function L0e(n){if(n.length<jv.length)return!1;for(let e=0;e<jv.length;e++)if(n[e]!==jv[e])return!1;return!0}(n.readBytes(jv.length)))throw new Error("wrong PNG signature")}const b$=0,w$=new TextDecoder("latin1");function I$(n){if(function E$(n){if(!F0e.test(n))throw new Error("invalid latin1 text")}(n),0===n.length||n.length>79)throw new Error("keyword length must be between 1 and 79")}const F0e=/^[\u0000-\u00FF]*$/;function C$(n){for(n.mark();n.readByte()!==b$;);const e=n.offset;n.reset();const t=w$.decode(n.readBytes(e-n.offset-1));return n.skip(1),I$(t),t}class j0e extends Iv{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new BP,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=-1,this._filterMethod=-1,this._interlaceMethod=-1,this._colorType=-1,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(v$(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(v$(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case"tEXt":!function V0e(n,e,t){const r=C$(e);n[r]=function B0e(n,e){return w$.decode(n.readBytes(e))}(e,t-r.length-1)}(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e)}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?d$(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch("fdAT"!==t&&"IDAT"!==t&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?d$(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=function z0e(n){if(1!==n&&2!==n&&4!==n&&8!==n&&16!==n)throw new Error(`invalid bit depth: ${n}`);return n}(this.readUint8());const t=this.readUint8();let r;switch(this._colorType=t,t){case 0:case 3:r=1;break;case 2:r=3;break;case 4:r=2;break;case 6:r=4;break;default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),0!==this._compressionMethod)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!=0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<t;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){if(this._writingDataChunks=!0,this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case 0:case 2:if(e%2!=0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break;case 3:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=C$(this),r=this.readUint8();if(0!==r)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:a$(i)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=_$({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===e||0===r.xOffset&&0===r.yOffset&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case 0:break;case 1:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const s=(i*e.width+o)*this._png.channels;for(let a=0;a<this._png.channels;a++)r.data[s+a]=0}break;case 2:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,i=(o,s)=>({index:((o+t.yOffset)*this._png.width+t.xOffset+s)*this._png.channels,frameIndex:(o*t.width+s)*this._png.channels});switch(t.blendOp){case 0:for(let o=0;o<t.height;o++)for(let s=0;s<t.width;s++){const{index:a,frameIndex:l}=i(o,s);for(let c=0;c<this._png.channels;c++)e.data[a+c]=t.data[l+c]}break;case 1:for(let o=0;o<t.height;o++)for(let s=0;s<t.width;s++){const{index:a,frameIndex:l}=i(o,s);for(let c=0;c<this._png.channels;c++){const u=t.data[l+this._png.channels-1]/r,m=Math.floor(u*(c%(this._png.channels-1)==0?1:t.data[l+c])+(1-u)*e.data[a+c]);e.data[a+c]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(0!==this._filterMethod)throw new Error(`Filter method ${this._filterMethod} not supported`);if(0===this._interlaceMethod)this._png.data=_$({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(1!==this._interlaceMethod)throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._png.data=function x0e(n){const{data:e,width:t,height:r,channels:i,depth:o}=n,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(o/8)*i,l=new Uint8Array(r*t*a);let c=0;for(let u=0;u<7;u++){const d=s[u],m=Math.ceil((t-d.x)/d.xStep),p=Math.ceil((r-d.y)/d.yStep);if(m<=0||p<=0)continue;const b=m*a,w=new Uint8Array(b);for(let E=0;E<p;E++){const C=e[c++],k=e.subarray(c,c+b);c+=b;const B=new Uint8Array(b);T0e(C,k,B,w,b,a),w.set(B);for(let F=0;F<m;F++){const X=d.x+F*d.xStep,se=d.y+E*d.yStep;if(!(X>=t||se>=r))for(let z=0;z<a;z++)l[(se*t+X)*a+z]=B[F*a+z]}}}if(16===o){const u=new Uint16Array(l.buffer);if(D0e)for(let d=0;d<u.length;d++)u[d]=P0e(u[d]);return u}return l}({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:0,blendOp:0,data:e}),this._inflator=new BP,this._writingDataChunks=!1}}var Ht=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function $P(){Ht.console&&"function"==typeof Ht.console.log&&Ht.console.log.apply(Ht.console,arguments)}var ar={log:$P,warn:function(n){Ht.console&&("function"==typeof Ht.console.warn?Ht.console.warn.apply(Ht.console,arguments):$P.call(null,arguments))},error:function(n){Ht.console&&("function"==typeof Ht.console.error?Ht.console.error.apply(Ht.console,arguments):$P(n))}};function qP(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Dh(r.response,e,t)},r.onerror=function(){ar.error("could not download file")},r.send()}function T$(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function V2(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Dh=Ht.saveAs||("object"!==(typeof window>"u"?"undefined":Kn(window))||window!==Ht?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Ht.URL||Ht.webkitURL,i=document.createElement("a");i.download=e=e||n.name||"download",i.rel="noopener","string"==typeof n?(i.href=n,i.origin!==location.origin?T$(i.href)?qP(n,e,t):V2(i,i.target="_blank"):V2(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){V2(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download","string"==typeof n)if(T$(n))qP(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){V2(r)})}else navigator.msSaveOrOpenBlob((i=n,void 0===(o=t)?o={autoBom:!1}:"object"!==Kn(o)&&(ar.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i),e);var i,o}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof n)return qP(n,e,t);var i="application/octet-stream"===n.type,o=/constructor/i.test(Ht.HTMLElement)||Ht.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&"object"===(typeof FileReader>"u"?"undefined":Kn(FileReader))){var a=new FileReader;a.onloadend=function(){var u=a.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(n)}else{var l=Ht.URL||Ht.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function S$(n){var e;n=n||"",this.ok=!1,"#"==n.charAt(0)&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var o=t[r].process,s=t[r].re.exec(n);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return 1==a.length&&(a="0"+a),1==l.length&&(l="0"+l),1==c.length&&(c="0"+c),"#"+a+l+c}}var U2=Ht.atob.bind(Ht),D$=Ht.btoa.bind(Ht);function GP(n,e){var t=n[0],r=n[1],i=n[2],o=n[3];t=bo(t,r,i,o,e[0],7,-680876936),o=bo(o,t,r,i,e[1],12,-389564586),i=bo(i,o,t,r,e[2],17,606105819),r=bo(r,i,o,t,e[3],22,-1044525330),t=bo(t,r,i,o,e[4],7,-176418897),o=bo(o,t,r,i,e[5],12,1200080426),i=bo(i,o,t,r,e[6],17,-1473231341),r=bo(r,i,o,t,e[7],22,-45705983),t=bo(t,r,i,o,e[8],7,1770035416),o=bo(o,t,r,i,e[9],12,-1958414417),i=bo(i,o,t,r,e[10],17,-42063),r=bo(r,i,o,t,e[11],22,-1990404162),t=bo(t,r,i,o,e[12],7,1804603682),o=bo(o,t,r,i,e[13],12,-40341101),i=bo(i,o,t,r,e[14],17,-1502002290),t=wo(t,r=bo(r,i,o,t,e[15],22,1236535329),i,o,e[1],5,-165796510),o=wo(o,t,r,i,e[6],9,-1069501632),i=wo(i,o,t,r,e[11],14,643717713),r=wo(r,i,o,t,e[0],20,-373897302),t=wo(t,r,i,o,e[5],5,-701558691),o=wo(o,t,r,i,e[10],9,38016083),i=wo(i,o,t,r,e[15],14,-660478335),r=wo(r,i,o,t,e[4],20,-405537848),t=wo(t,r,i,o,e[9],5,568446438),o=wo(o,t,r,i,e[14],9,-1019803690),i=wo(i,o,t,r,e[3],14,-187363961),r=wo(r,i,o,t,e[8],20,1163531501),t=wo(t,r,i,o,e[13],5,-1444681467),o=wo(o,t,r,i,e[2],9,-51403784),i=wo(i,o,t,r,e[7],14,1735328473),t=Io(t,r=wo(r,i,o,t,e[12],20,-1926607734),i,o,e[5],4,-378558),o=Io(o,t,r,i,e[8],11,-2022574463),i=Io(i,o,t,r,e[11],16,1839030562),r=Io(r,i,o,t,e[14],23,-35309556),t=Io(t,r,i,o,e[1],4,-1530992060),o=Io(o,t,r,i,e[4],11,1272893353),i=Io(i,o,t,r,e[7],16,-155497632),r=Io(r,i,o,t,e[10],23,-1094730640),t=Io(t,r,i,o,e[13],4,681279174),o=Io(o,t,r,i,e[0],11,-358537222),i=Io(i,o,t,r,e[3],16,-722521979),r=Io(r,i,o,t,e[6],23,76029189),t=Io(t,r,i,o,e[9],4,-640364487),o=Io(o,t,r,i,e[12],11,-421815835),i=Io(i,o,t,r,e[15],16,530742520),t=Eo(t,r=Io(r,i,o,t,e[2],23,-995338651),i,o,e[0],6,-198630844),o=Eo(o,t,r,i,e[7],10,1126891415),i=Eo(i,o,t,r,e[14],15,-1416354905),r=Eo(r,i,o,t,e[5],21,-57434055),t=Eo(t,r,i,o,e[12],6,1700485571),o=Eo(o,t,r,i,e[3],10,-1894986606),i=Eo(i,o,t,r,e[10],15,-1051523),r=Eo(r,i,o,t,e[1],21,-2054922799),t=Eo(t,r,i,o,e[8],6,1873313359),o=Eo(o,t,r,i,e[15],10,-30611744),i=Eo(i,o,t,r,e[6],15,-1560198380),r=Eo(r,i,o,t,e[13],21,1309151649),t=Eo(t,r,i,o,e[4],6,-145523070),o=Eo(o,t,r,i,e[11],10,-1120210379),i=Eo(i,o,t,r,e[2],15,718787259),r=Eo(r,i,o,t,e[9],21,-343485551),n[0]=Wu(t,n[0]),n[1]=Wu(r,n[1]),n[2]=Wu(i,n[2]),n[3]=Wu(o,n[3])}function B2(n,e,t,r,i,o){return e=Wu(Wu(e,n),Wu(r,o)),Wu(e<<i|e>>>32-i,t)}function bo(n,e,t,r,i,o,s){return B2(e&t|~e&r,n,e,i,o,s)}function wo(n,e,t,r,i,o,s){return B2(e&r|t&~r,n,e,i,o,s)}function Io(n,e,t,r,i,o,s){return B2(e^t^r,n,e,i,o,s)}function Eo(n,e,t,r,i,o,s){return B2(t^(e|~r),n,e,i,o,s)}function x$(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)GP(r,Y0e(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(GP(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,GP(r,i),r}function Y0e(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var P$="0123456789abcdef".split("");function Z0e(n){for(var e="",t=0;t<4;t++)e+=P$[n>>8*t+4&15]+P$[n>>8*t&15];return e}function J0e(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function HP(n){return x$(n).map(J0e).join("")}var X0e="5d41402abc4b2a76b9719d911017c592"!=function(n){for(var e=0;e<n.length;e++)n[e]=Z0e(n[e]);return n.join("")}(x$("hello"));function Wu(n,e){if(X0e){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function WP(n,e){var t,r,i;if(n!==t){for(var s=(i=n,new Array(1+(256/n.length|0)+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+s.charCodeAt(l))%256,a[l]=a[c],a[c]=u}t=n,r=a}else a=r;var d=e.length,m=0,p=0,b="";for(l=0;l<d;l++)p=(p+(u=a[m=(m+1)%256]))%256,a[m]=a[p],a[p]=u,s=a[(a[m]+a[p])%256],b+=String.fromCharCode(e.charCodeAt(l)^s);return b}var M$={print:4,modify:8,copy:16,"annot-forms":32};function fg(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(void 0!==M$.perm)throw new Error("Invalid permission: "+a);i+=M$[a]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var o=(e+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=HP(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=WP(this.encryptionKey,this.padding)}function pg(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function N$(n){if("object"!==Kn(n))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,"string"!=typeof t||"function"!=typeof r||"boolean"!=typeof i)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!i],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],0===Object.keys(e[r]).length&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[t]){var s=e[t][o];try{s[0].apply(n,r)}catch(a){Ht.console&&ar.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function j2(n){if(!(this instanceof j2))return new j2(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function R$(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function xh(n,e,t,r,i){if(!(this instanceof xh))return new xh(n,e,t,r,i);this.type="axial"===n?2:3,this.coords=e,this.colors=t,R$.call(this,r,i)}function gg(n,e,t,r,i){if(!(this instanceof gg))return new gg(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,R$.call(this,r,i)}function Ct(n){var e,t="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,l=16,c="S",u=null;"object"===Kn(n=n||{})&&(t=n.orientation,r=n.unit||r,i=n.format||i,o=n.compress||n.compressPdf||o,null!==(u=n.encryption||null)&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a="number"==typeof n.userUnit?Math.abs(n.userUnit):1,void 0!==n.precision&&(e=n.precision),void 0!==n.floatPrecision&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),s=n.filters||(!0===o?["FlateEncode"]:s),r=r||"mm",t=(""+(t||"P")).toLowerCase();var d=n.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=N$;var b="1.3",w=p.__private__.getPdfVersion=function(){return b};p.__private__.setPdfVersion=function(_){b=_};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return E};var C=p.__private__.getPageFormat=function(_){return E[_]};i=i||"a4";var k="compat",B="advanced",F=k;function X(){this.saveGraphicsState(),J(new xt(Nt,0,0,-Nt,0,Wa()*Nt).toString()+" cm"),this.setFontSize(this.getFontSize()/Nt),c="n",F=B}function se(){this.restoreGraphicsState(),c="S",F=k}var z=p.__private__.combineFontStyleAndFontWeight=function(_,R){if("bold"==_&&"normal"==R||"bold"==_&&400==R||"normal"==_&&"italic"==R||"bold"==_&&"italic"==R)throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(_=400==R||"normal"===R?"italic"===_?"italic":"normal":700!=R&&"bold"!==R||"normal"!==_?(700==R?"bold":R)+""+_:"bold"),_};p.advancedAPI=function(_){var R=F===k;return R&&X.call(this),"function"!=typeof _||(_(this),R&&se.call(this)),this},p.compatAPI=function(_){var R=F===B;return R&&se.call(this),"function"!=typeof _||(_(this),R&&X.call(this)),this},p.isAdvancedAPI=function(){return F===B};var x,S=function(_){if(F!==B)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=p.roundToPrecision=p.__private__.roundToPrecision=function(_,R){var Q=e||R;if(isNaN(_)||isNaN(Q))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(Q).replace(/0+$/,"")};x=p.hpf=p.__private__.hpf="number"==typeof l?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return V(_,l)}:"smart"===l?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return V(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return V(_,16)};var A=p.f2=p.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return V(_,2)},P=p.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return V(_,3)},N=p.scale=p.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return F===k?_*Nt:F===B?_:void 0},te=function(_){return N((R=_,F===k?Wa()-R:F===B?R:void 0));var R};p.__private__.setPrecision=p.setPrecision=function(_){"number"==typeof parseInt(_,10)&&(e=parseInt(_,10))};var me,Ae="00000000000000000000000000000000",Ce=p.__private__.getFileId=function(){return Ae},ge=p.__private__.setFileId=function(_){return Ae=void 0!==_&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():Ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==u&&(Br=new fg(u.userPermissions,u.userPassword,u.ownerPassword,Ae)),Ae};p.setFileId=function(_){return ge(_),this},p.getFileId=function(){return Ce()};var Te=p.__private__.convertDateToPDFDate=function(_){var R=_.getTimezoneOffset(),Q=R<0?"+":"-",ne=Math.floor(Math.abs(R/60)),ue=Math.abs(R%60),Me=[Q,ee(ne),"'",ee(ue),"'"].join("");return["D:",_.getFullYear(),ee(_.getMonth()+1),ee(_.getDate()),ee(_.getHours()),ee(_.getMinutes()),ee(_.getSeconds()),Me].join("")},Ge=p.__private__.convertPDFDateToDate=function(_){var R=parseInt(_.substr(2,4),10),Q=parseInt(_.substr(6,2),10)-1,ne=parseInt(_.substr(8,2),10),ue=parseInt(_.substr(10,2),10),Me=parseInt(_.substr(12,2),10),Ve=parseInt(_.substr(14,2),10);return new Date(R,Q,ne,ue,Me,Ve,0)},Oe=p.__private__.setCreationDate=function(_){var R;if(void 0===_&&(_=new Date),_ instanceof Date)R=Te(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=_}return me=R},U=p.__private__.getCreationDate=function(_){var R=me;return"jsDate"===_&&(R=Ge(me)),R};p.setCreationDate=function(_){return Oe(_),this},p.getCreationDate=function(_){return U(_)};var K,ee=p.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},re=p.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},le=0,de=[],be=[],Ee=0,Pe=[],De=[],Ze=!1,Ye=be;p.__private__.setCustomOutputDestination=function(_){Ze=!0,Ye=_};var Se=function(_){Ze||(Ye=_)};p.__private__.resetCustomOutputDestination=function(){Ze=!1,Ye=be};var J=p.__private__.out=function(_){return _=_.toString(),Ee+=_.length+1,Ye.push(_),Ye},ln=p.__private__.write=function(_){return J(1===arguments.length?_.toString():Array.prototype.join.call(arguments," "))},Bt=p.__private__.getArrayBuffer=function(_){for(var R=_.length,Q=new ArrayBuffer(R),ne=new Uint8Array(Q);R--;)ne[R]=_.charCodeAt(R);return Q},Dt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Dt};var $e=n.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(_){return $e=F===B?_/Nt:_,this};var mt,et=p.__private__.getFontSize=p.getFontSize=function(){return F===k?$e:$e*Nt},jt=n.R2L||!1;p.__private__.setR2L=p.setR2L=function(_){return jt=_,this},p.__private__.getR2L=p.getR2L=function(){return jt};var Et,cn=p.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))mt=_;else if(isNaN(_)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');mt=_}else mt=parseInt(_,10)};p.__private__.getZoomMode=function(){return mt};var Mt,Ot=p.__private__.setPageMode=function(_){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');Et=_};p.__private__.getPageMode=function(){return Et};var Wt=p.__private__.setLayoutMode=function(_){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Mt=_};p.__private__.getLayoutMode=function(){return Mt},p.__private__.setDisplayMode=p.setDisplayMode=function(_,R,Q){return cn(_),Wt(R),Ot(Q),this};var yt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(_){if(-1===Object.keys(yt).indexOf(_))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return yt[_]},p.__private__.getDocumentProperties=function(){return yt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(_){for(var R in yt)yt.hasOwnProperty(R)&&_[R]&&(yt[R]=_[R]);return this},p.__private__.setDocumentProperty=function(_,R){if(-1===Object.keys(yt).indexOf(_))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return yt[_]=R};var pt,Nt,bt,Vn,pn,He={},At={},Kt=[],Tt={},rn={},wt={},jn={},Er=null,En=0,Rt=[],vn=new N$(p),ro=n.hotfixes||[],Kr={},Co={},zi=[],xt=function _(R,Q,ne,ue,Me,Ve){if(!(this instanceof _))return new _(R,Q,ne,ue,Me,Ve);isNaN(R)&&(R=1),isNaN(Q)&&(Q=0),isNaN(ne)&&(ne=0),isNaN(ue)&&(ue=1),isNaN(Me)&&(Me=0),isNaN(Ve)&&(Ve=0),this._matrix=[R,Q,ne,ue,Me,Ve]};Object.defineProperty(xt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(xt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(xt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(xt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(xt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(xt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(xt.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(xt.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(xt.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(xt.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(xt.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(xt.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(xt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(xt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(xt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(xt.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),xt.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(x).join(_)},xt.prototype.multiply=function(_){return new xt(_.sx*this.sx+_.shy*this.shx,_.sx*this.shy+_.shy*this.sy,_.shx*this.sx+_.sy*this.shx,_.shx*this.shy+_.sy*this.sy,_.tx*this.sx+_.ty*this.shx+this.tx,_.tx*this.shy+_.ty*this.sy+this.ty)},xt.prototype.decompose=function(){var _=this.sx,R=this.shy,Q=this.shx,ne=this.sy,ue=this.tx,Me=this.ty,Ve=Math.sqrt(_*_+R*R),st=(_/=Ve)*Q+(R/=Ve)*ne;Q-=_*st,ne-=R*st;var ht=Math.sqrt(Q*Q+ne*ne);return st/=ht,_*(ne/=ht)<R*(Q/=ht)&&(_=-_,R=-R,st=-st,Ve=-Ve),{scale:new xt(Ve,0,0,ht,0,0),translate:new xt(1,0,0,1,ue,Me),rotate:new xt(_,R,-R,_,0,0),skew:new xt(1,0,st,1,0,0)}},xt.prototype.toString=function(_){return this.join(" ")},xt.prototype.inversed=function(){var _=this.sx,R=this.shy,Q=this.shx,ne=this.sy,ue=this.tx,Me=this.ty,Ve=1/(_*ne-R*Q),st=ne*Ve,ht=-R*Ve,Lt=-Q*Ve,Ft=_*Ve;return new xt(st,ht,Lt,Ft,-st*ue-Lt*Me,-ht*ue-Ft*Me)},xt.prototype.applyToPoint=function(_){return new Bc(_.x*this.sx+_.y*this.shx+this.tx,_.x*this.shy+_.y*this.sy+this.ty)},xt.prototype.applyToRectangle=function(_){var R=this.applyToPoint(_),Q=this.applyToPoint(new Bc(_.x+_.w,_.y+_.h));return new td(R.x,R.y,Q.x-R.x,Q.y-R.y)},xt.prototype.clone=function(){return new xt(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},p.Matrix=xt;var fa=p.matrixMult=function(_,R){return R.multiply(_)},Cr=new xt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Cr;var $o=function(_,R){if(!rn[_]){var Q=(R instanceof xh?"Sh":"P")+(Object.keys(Tt).length+1).toString(10);R.id=Q,rn[_]=Q,Tt[Q]=R,vn.publish("addPattern",R)}};p.ShadingPattern=xh,p.TilingPattern=gg,p.addShadingPattern=function(_,R){return S("addShadingPattern()"),$o(_,R),this},p.beginTilingPattern=function(_){S("beginTilingPattern()"),nd(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},p.endTilingPattern=function(_,R){S("endTilingPattern()"),R.stream=De[K].join("\n"),$o(_,R),vn.publish("endTilingPattern",R),zi.pop().restore()};var $i,er=p.__private__.newObject=function(){var _=bi();return Di(_,!0),_},bi=p.__private__.newObjectDeferred=function(){return le++,de[le]=function(){return Ee},le},Di=function(_,R){return R="boolean"==typeof R&&R,de[_]=Ee,R&&J(_+" 0 obj"),_},ds=p.__private__.newAdditionalObject=function(){var _={objId:bi(),content:""};return Pe.push(_),_},Ml=bi(),Fs=bi(),qo=p.__private__.decodeColorString=function(_){var R=_.split(" ");if(2!==R.length||"g"!==R[1]&&"G"!==R[1])5!==R.length||"k"!==R[4]&&"K"!==R[4]||(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var Q=parseFloat(R[0]);R=[Q,Q,Q,"r"]}for(var ne="#",ue=0;ue<3;ue++)ne+=("0"+Math.floor(255*parseFloat(R[ue])).toString(16)).slice(-2);return ne},hs=p.__private__.encodeColorString=function(_){var R;"string"==typeof _&&(_={ch1:_});var Q=_.ch1,ne=_.ch2,ue=_.ch3,Me=_.ch4,Ve="draw"===_.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof Q&&"#"!==Q.charAt(0)){var st=new S$(Q);if(st.ok)Q=st.toHex();else if(!/^\d*\.?\d*$/.test(Q))throw new Error('Invalid color "'+Q+'" passed to jsPDF.encodeColorString.')}if("string"==typeof Q&&/^#[0-9A-Fa-f]{3}$/.test(Q)&&(Q="#"+Q[1]+Q[1]+Q[2]+Q[2]+Q[3]+Q[3]),"string"==typeof Q&&/^#[0-9A-Fa-f]{6}$/.test(Q)){var ht=parseInt(Q.substr(1),16);Q=ht>>16&255,ne=ht>>8&255,ue=255&ht}if(void 0===ne||void 0===Me&&Q===ne&&ne===ue)R="string"==typeof Q?Q+" "+Ve[0]:2===_.precision?A(Q/255)+" "+Ve[0]:P(Q/255)+" "+Ve[0];else if(void 0===Me||"object"===Kn(Me)){if(Me&&!isNaN(Me.a)&&0===Me.a)return["1.","1.","1.",Ve[1]].join(" ");R="string"==typeof Q?[Q,ne,ue,Ve[1]].join(" "):2===_.precision?[A(Q/255),A(ne/255),A(ue/255),Ve[1]].join(" "):[P(Q/255),P(ne/255),P(ue/255),Ve[1]].join(" ")}else R="string"==typeof Q?[Q,ne,ue,Me,Ve[2]].join(" "):2===_.precision?[A(Q),A(ne),A(ue),A(Me),Ve[2]].join(" "):[P(Q),P(ne),P(ue),P(Me),Ve[2]].join(" ");return R},Go=p.__private__.getFilters=function(){return s},io=p.__private__.putStream=function(_){var R=(_=_||{}).data||"",Q=_.filters||Go(),ne=_.alreadyAppliedFilters||[],ue=_.addLength1||!1,Me=R.length,Ve=_.objectId,st=function(Qr){return Qr};if(null!==u&&void 0===Ve)throw new Error("ObjectId must be passed to putStream for file encryption");null!==u&&(st=Br.encryptor(Ve,0));var ht={};!0===Q&&(Q=["FlateEncode"]);var Lt=_.additionalKeyValues||[],Ft=(ht=void 0!==Ct.API.processDataByFilters?Ct.API.processDataByFilters(R,Q):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(ne)?ne.join(" "):ne.toString());if(0!==ht.data.length&&(Lt.push({key:"Length",value:ht.data.length}),!0===ue&&Lt.push({key:"Length1",value:Me})),0!=Ft.length)if(Ft.split("/").length-1==1)Lt.push({key:"Filter",value:Ft});else{Lt.push({key:"Filter",value:"["+Ft+"]"});for(var xn=0;xn<Lt.length;xn+=1)if("DecodeParms"===Lt[xn].key){for(var mr=[],nr=0;nr<ht.reverseChain.split("/").length-1;nr+=1)mr.push("null");mr.push(Lt[xn].value),Lt[xn].value="["+mr.join(" ")+"]"}}J("<<");for(var Yn=0;Yn<Lt.length;Yn++)J("/"+Lt[Yn].key+" "+Lt[Yn].value);J(">>"),0!==ht.data.length&&(J("stream"),J(st(ht.data)),J("endstream"))},Ao=p.__private__.putPage=function(_){var R=_.number,Q=_.data,ne=_.objId,ue=_.contentsObjId;Di(ne,!0),J("<</Type /Page"),J("/Parent "+_.rootDictionaryObjId+" 0 R"),J("/Resources "+_.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(x(_.mediaBox.bottomLeftX))+" "+parseFloat(x(_.mediaBox.bottomLeftY))+" "+x(_.mediaBox.topRightX)+" "+x(_.mediaBox.topRightY)+"]"),null!==_.cropBox&&J("/CropBox ["+x(_.cropBox.bottomLeftX)+" "+x(_.cropBox.bottomLeftY)+" "+x(_.cropBox.topRightX)+" "+x(_.cropBox.topRightY)+"]"),null!==_.bleedBox&&J("/BleedBox ["+x(_.bleedBox.bottomLeftX)+" "+x(_.bleedBox.bottomLeftY)+" "+x(_.bleedBox.topRightX)+" "+x(_.bleedBox.topRightY)+"]"),null!==_.trimBox&&J("/TrimBox ["+x(_.trimBox.bottomLeftX)+" "+x(_.trimBox.bottomLeftY)+" "+x(_.trimBox.topRightX)+" "+x(_.trimBox.topRightY)+"]"),null!==_.artBox&&J("/ArtBox ["+x(_.artBox.bottomLeftX)+" "+x(_.artBox.bottomLeftY)+" "+x(_.artBox.topRightX)+" "+x(_.artBox.topRightY)+"]"),"number"==typeof _.userUnit&&1!==_.userUnit&&J("/UserUnit "+_.userUnit),vn.publish("putPage",{objId:ne,pageContext:Rt[R],pageNumber:R,page:Q}),J("/Contents "+ue+" 0 R"),J(">>"),J("endobj");var Me=Q.join("\n");return F===B&&(Me+="\nQ"),Di(ue,!0),io({data:Me,filters:Go(),objectId:ue}),J("endobj"),ne},Vs=p.__private__.putPages=function(){var _,R,Q=[];for(_=1;_<=En;_++)Rt[_].objId=bi(),Rt[_].contentsObjId=bi();for(_=1;_<=En;_++)Q.push(Ao({number:_,data:De[_],objId:Rt[_].objId,contentsObjId:Rt[_].contentsObjId,mediaBox:Rt[_].mediaBox,cropBox:Rt[_].cropBox,bleedBox:Rt[_].bleedBox,trimBox:Rt[_].trimBox,artBox:Rt[_].artBox,userUnit:Rt[_].userUnit,rootDictionaryObjId:Ml,resourceDictionaryObjId:Fs}));Di(Ml,!0),J("<</Type /Pages");var ne="/Kids [";for(R=0;R<En;R++)ne+=Q[R]+" 0 R ";J(ne+"]"),J("/Count "+En),J(">>"),J("endobj"),vn.publish("postPutPages")},Nl=function(_){vn.publish("putFont",{font:_,out:J,newObject:er,putStream:io}),!0!==_.isAlreadyPutted&&(_.objectNumber=er(),J("<<"),J("/Type /Font"),J("/BaseFont /"+pg(_.postScriptName)),J("/Subtype /Type1"),"string"==typeof _.encoding&&J("/Encoding /"+_.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},Rl=function(_){_.objectNumber=er();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[x(_.x),x(_.y),x(_.x+_.width),x(_.y+_.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var Q=_.pages[1].join("\n");io({data:Q,additionalKeyValues:R,objectId:_.objectNumber}),J("endobj")},kl=function(_,R){R||(R=21);var Q=er(),ne=function(Ve,st){var ht,Lt=[],Ft=1/(st-1);for(ht=0;ht<1;ht+=Ft)Lt.push(ht);Lt.push(1),0!=Ve[0].offset&&Ve.unshift({offset:0,color:Ve[0].color}),1!=Ve[Ve.length-1].offset&&Ve.push({offset:1,color:Ve[Ve.length-1].color});for(var nr="",Yn=0,Qr=0;Qr<Lt.length;Qr++){for(ht=Lt[Qr];ht>Ve[Yn+1].offset;)Yn++;var jr=Ve[Yn].offset,wi=(ht-jr)/(Ve[Yn+1].offset-jr),oo=Ve[Yn].color,rr=Ve[Yn+1].color;nr+=re(Math.round((1-wi)*oo[0]+wi*rr[0]).toString(16))+re(Math.round((1-wi)*oo[1]+wi*rr[1]).toString(16))+re(Math.round((1-wi)*oo[2]+wi*rr[2]).toString(16))}return nr.trim()}(_.colors,R),ue=[];ue.push({key:"FunctionType",value:"0"}),ue.push({key:"Domain",value:"[0.0 1.0]"}),ue.push({key:"Size",value:"["+R+"]"}),ue.push({key:"BitsPerSample",value:"8"}),ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),io({data:ne,additionalKeyValues:ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Q}),J("endobj"),_.objectNumber=er(),J("<< /ShadingType "+_.type),J("/ColorSpace /DeviceRGB");var Me="/Coords ["+x(parseFloat(_.coords[0]))+" "+x(parseFloat(_.coords[1]))+" ";Me+=2===_.type?x(parseFloat(_.coords[2]))+" "+x(parseFloat(_.coords[3])):x(parseFloat(_.coords[2]))+" "+x(parseFloat(_.coords[3]))+" "+x(parseFloat(_.coords[4]))+" "+x(parseFloat(_.coords[5])),J(Me+="]"),_.matrix&&J("/Matrix ["+_.matrix.toString()+"]"),J("/Function "+Q+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Pc=function(_,R){var Q=bi(),ne=er();R.push({resourcesOid:Q,objectOid:ne}),_.objectNumber=ne;var ue=[];ue.push({key:"Type",value:"/Pattern"}),ue.push({key:"PatternType",value:"1"}),ue.push({key:"PaintType",value:"1"}),ue.push({key:"TilingType",value:"1"}),ue.push({key:"BBox",value:"["+_.boundingBox.map(x).join(" ")+"]"}),ue.push({key:"XStep",value:x(_.xStep)}),ue.push({key:"YStep",value:x(_.yStep)}),ue.push({key:"Resources",value:Q+" 0 R"}),_.matrix&&ue.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),io({data:_.stream,additionalKeyValues:ue,objectId:_.objectNumber}),J("endobj")},Eg=function(_){for(var R in _.objectNumber=er(),J("<<"),_)switch(R){case"opacity":J("/ca "+A(_[R]));break;case"stroke-opacity":J("/CA "+A(_[R]))}J(">>"),J("endobj")},Nh=function(_){Di(_.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var R in J("/Font <<"),He)He.hasOwnProperty(R)&&(!1===d||!0===d&&m.hasOwnProperty(R))&&J("/"+R+" "+He[R].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(Tt).length>0){for(var R in J("/Shading <<"),Tt)Tt.hasOwnProperty(R)&&Tt[R]instanceof xh&&Tt[R].objectNumber>=0&&J("/"+R+" "+Tt[R].objectNumber+" 0 R");vn.publish("putShadingPatternDict"),J(">>")}}(),function(R){if(Object.keys(Tt).length>0){for(var Q in J("/Pattern <<"),Tt)Tt.hasOwnProperty(Q)&&Tt[Q]instanceof p.TilingPattern&&Tt[Q].objectNumber>=0&&Tt[Q].objectNumber<R&&J("/"+Q+" "+Tt[Q].objectNumber+" 0 R");vn.publish("putTilingPatternDict"),J(">>")}}(_.objectOid),function(){if(Object.keys(wt).length>0){var R;for(R in J("/ExtGState <<"),wt)wt.hasOwnProperty(R)&&wt[R].objectNumber>=0&&J("/"+R+" "+wt[R].objectNumber+" 0 R");vn.publish("putGStateDict"),J(">>")}}(),function(){for(var R in J("/XObject <<"),Kr)Kr.hasOwnProperty(R)&&Kr[R].objectNumber>=0&&J("/"+R+" "+Kr[R].objectNumber+" 0 R");vn.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},Mc=function(_){At[_.fontName]=At[_.fontName]||{},At[_.fontName][_.fontStyle]=_.id},Rh=function(_,R,Q,ne,ue){var Me={id:"F"+(Object.keys(He).length+1).toString(10),postScriptName:_,fontName:R,fontStyle:Q,encoding:ne,isStandardFont:ue||!1,metadata:{}};return vn.publish("addFont",{font:Me,instance:this}),He[Me.id]=Me,Mc(Me),Me.id},To=p.__private__.pdfEscape=p.pdfEscape=function(_,R){return function(Q,ne){var ue,Me,Ve,st,ht,Lt,Ft,xn,mr;if(Ve=(ne=ne||{}).sourceEncoding||"Unicode",ht=ne.outputEncoding,(ne.autoencode||ht)&&He[pt].metadata&&He[pt].metadata[Ve]&&He[pt].metadata[Ve].encoding&&(st=He[pt].metadata[Ve].encoding,!ht&&He[pt].encoding&&(ht=He[pt].encoding),!ht&&st.codePages&&(ht=st.codePages[0]),"string"==typeof ht&&(ht=st[ht]),ht)){for(Ft=!1,Lt=[],ue=0,Me=Q.length;ue<Me;ue++)(xn=ht[Q.charCodeAt(ue)])?Lt.push(String.fromCharCode(xn)):Lt.push(Q[ue]),Lt[ue].charCodeAt(0)>>8&&(Ft=!0);Q=Lt.join("")}for(ue=Q.length;void 0===Ft&&0!==ue;)Q.charCodeAt(ue-1)>>8&&(Ft=!0),ue--;if(!Ft)return Q;for(Lt=ne.noBOM?[]:[254,255],ue=0,Me=Q.length;ue<Me;ue++){if((mr=(xn=Q.charCodeAt(ue))>>8)>>8)throw new Error("Character at position "+ue+" of string '"+Q+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Lt.push(mr),Lt.push(xn-(mr<<8))}return String.fromCharCode.apply(void 0,Lt)}(_,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},za=p.__private__.beginPage=function(_){De[++En]=[],Rt[En]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},Cg(En),Se(De[K])},pa=function(_,R){var Q,ne,ue;switch(t=R||t,"string"==typeof _&&(Q=C(_.toLowerCase()),Array.isArray(Q)&&(ne=Q[0],ue=Q[1])),Array.isArray(_)&&(ne=_[0]*Nt,ue=_[1]*Nt),isNaN(ne)&&(ne=i[0],ue=i[1]),(ne>14400||ue>14400)&&(ar.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ne=Math.min(14400,ne),ue=Math.min(14400,ue)),i=[ne,ue],t.substr(0,1)){case"l":ue>ne&&(i=[ue,ne]);break;case"p":ne>ue&&(i=[ue,ne])}za(i),Tg(ed),J(ga),0!==Vc&&J(Vc+" J"),0!==tr&&J(tr+" j"),vn.publish("addPage",{pageNumber:En})},Nc=function(_){_>0&&_<=En&&(De.splice(_,1),Rt.splice(_,1),En--,K>En&&(K=En),this.setPage(K))},Cg=function(_){_>0&&_<=En&&(K=_)},kh=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return De.length-1},Oh=function(_,R,Q){var ne,ue=void 0;return Q=Q||{},R=void 0!==R?R:He[pt].fontStyle,ne=(_=void 0!==_?_:He[pt].fontName).toLowerCase(),void 0!==At[ne]&&void 0!==At[ne][R]?ue=At[ne][R]:void 0!==At[_]&&void 0!==At[_][R]?ue=At[_][R]:!1===Q.disableWarning&&ar.warn("Unable to look up font label for font '"+_+"', '"+R+"'. Refer to getFontList() for available fonts."),ue||Q.noFallback||null==(ue=At.times[R])&&(ue=At.times.normal),ue},Rc=p.__private__.putInfo=function(){var _=er(),R=function(ne){return ne};for(var Q in null!==u&&(R=Br.encryptor(_,0)),J("<<"),J("/Producer ("+To(R("jsPDF "+Ct.version))+")"),yt)yt.hasOwnProperty(Q)&&yt[Q]&&J("/"+Q.substr(0,1).toUpperCase()+Q.substr(1)+" ("+To(R(yt[Q]))+")");J("/CreationDate ("+To(R(me))+")"),J(">>"),J("endobj")},Lh=p.__private__.putCatalog=function(_){var R=(_=_||{}).rootDictionaryObjId||Ml;switch(er(),J("<<"),J("/Type /Catalog"),J("/Pages "+R+" 0 R"),mt||(mt="fullwidth"),mt){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Q=""+mt;"%"===Q.substr(Q.length-1)&&(mt=parseInt(mt)/100),"number"==typeof mt&&J("/OpenAction [3 0 R /XYZ null null "+A(mt)+"]")}switch(Mt||(Mt="continuous"),Mt){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}Et&&J("/PageMode /"+Et),vn.publish("putCatalog"),J(">>"),J("endobj")},Or=p.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(le+1)),J("/Root "+le+" 0 R"),J("/Info "+(le-1)+" 0 R"),null!==u&&J("/Encrypt "+Br.oid+" 0 R"),J("/ID [ <"+Ae+"> <"+Ae+"> ]"),J(">>")},Fh=p.__private__.putHeader=function(){J("%PDF-"+b),J("%\xba\xdf\xac\xe0")},Vh=p.__private__.putXRef=function(){var _="0000000000";J("xref"),J("0 "+(le+1)),J("0000000000 65535 f ");for(var R=1;R<=le;R++)J("function"==typeof de[R]?(_+de[R]()).slice(-10)+" 00000 n ":void 0!==de[R]?(_+de[R]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},$a=p.__private__.buildDocument=function(){var _;le=0,Ee=0,be=[],de=[],Pe=[],Ml=bi(),Fs=bi(),Se(be),vn.publish("buildDocument"),Fh(),Vs(),function(){vn.publish("putAdditionalObjects");for(var Q=0;Q<Pe.length;Q++){var ne=Pe[Q];Di(ne.objId,!0),J(ne.content),J("endobj")}vn.publish("postPutAdditionalObjects")}(),_=[],function(){for(var Q in He)He.hasOwnProperty(Q)&&(!1===d||!0===d&&m.hasOwnProperty(Q))&&Nl(He[Q])}(),function(){var Q;for(Q in wt)wt.hasOwnProperty(Q)&&Eg(wt[Q])}(),function(){for(var Q in Kr)Kr.hasOwnProperty(Q)&&Rl(Kr[Q])}(),function(Q){var ne;for(ne in Tt)Tt.hasOwnProperty(ne)&&(Tt[ne]instanceof xh?kl(Tt[ne]):Tt[ne]instanceof gg&&Pc(Tt[ne],Q))}(_),vn.publish("putResources"),_.forEach(Nh),Nh({resourcesOid:Fs,objectOid:Number.MAX_SAFE_INTEGER}),vn.publish("postPutResources"),null!==u&&(Br.oid=er(),J("<<"),J("/Filter /Standard"),J("/V "+Br.v),J("/R "+Br.r),J("/U <"+Br.toHexString(Br.U)+">"),J("/O <"+Br.toHexString(Br.O)+">"),J("/P "+Br.P),J(">>"),J("endobj")),Rc(),Lh();var R=Ee;return Vh(),Or(),J("startxref"),J(""+R),J("%%EOF"),Se(De[K]),be.join("\n")},kc=p.__private__.getBlob=function(_){return new Blob([Bt(_)],{type:"application/pdf"})},fs=p.output=p.__private__.output=(($i=function(_,R){switch("string"==typeof(R=R||{})?R={filename:R}:R.filename=R.filename||"generated.pdf",_){case void 0:return $a();case"save":p.save(R.filename);break;case"arraybuffer":return Bt($a());case"blob":return kc($a());case"bloburi":case"bloburl":if(void 0!==Ht.URL&&"function"==typeof Ht.URL.createObjectURL)return Ht.URL&&Ht.URL.createObjectURL(kc($a()))||void 0;ar.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Q="",ne=$a();try{Q=D$(ne)}catch{Q=D$(unescape(encodeURIComponent(ne)))}return"data:application/pdf;filename="+R.filename+";base64,"+Q;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Ht)){var ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Me=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(ue=R.pdfObjectUrl,Me="");var Ve='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ue+'"'+Me+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",st=Ht.open();return null!==st&&st.document.write(Ve),st}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Ht)){var ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',Lt=Ht.open();if(null!==Lt){Lt.document.write(ht);var Ft=this;Lt.document.documentElement.querySelector("#pdfViewer").onload=function(){Lt.document.title=R.filename,Lt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ft.output("bloburl"))}}return Lt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Ht))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var xn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',mr=Ht.open();if(null!==mr&&(mr.document.write(xn),mr.document.title=R.filename),mr||typeof safari>"u")return mr;break;case"datauri":case"dataurl":return Ht.document.location.href=this.output("datauristring",R);default:return null}}).foo=function(){try{return $i.apply(this,arguments)}catch(Q){var _=Q.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var R="Error in function "+_.split("\n")[0].split("<")[0]+": "+Q.message;if(!Ht.console)throw new Error(R);Ht.console.error(R,Q),Ht.alert&&alert(R)}},$i.foo.bar=$i,$i.foo),Ol=function(_){return!0===Array.isArray(ro)&&ro.indexOf(_)>-1};switch(r){case"pt":Nt=1;break;case"mm":Nt=72/25.4;break;case"cm":Nt=72/2.54;break;case"in":Nt=72;break;case"px":Nt=1==Ol("px_scaling")?.75:96/72;break;case"pc":case"em":Nt=12;break;case"ex":Nt=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);Nt=r}var Br=null;Oe(),ge();var Us=p.__private__.getPageInfo=p.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Rt[_].objId,pageNumber:_,pageContext:Rt[_]}},Bs=p.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in Rt)if(Rt[R].objId===_)break;return Us(R)},Ju=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Rt[K].objId,pageNumber:K,pageContext:Rt[K]}};p.addPage=function(){return pa.apply(this,arguments),this},p.setPage=function(){return Cg.apply(this,arguments),Se.call(this,De[K]),this},p.insertPage=function(_){return this.addPage(),this.movePage(K,_),this},p.movePage=function(_,R){var Q,ne;if(_>R){Q=De[_],ne=Rt[_];for(var ue=_;ue>R;ue--)De[ue]=De[ue-1],Rt[ue]=Rt[ue-1];De[R]=Q,Rt[R]=ne,this.setPage(R)}else if(_<R){Q=De[_],ne=Rt[_];for(var Me=_;Me<R;Me++)De[Me]=De[Me+1],Rt[Me]=Rt[Me+1];De[R]=Q,Rt[R]=ne,this.setPage(R)}return this},p.deletePage=function(){return Nc.apply(this,arguments),this},p.__private__.text=p.text=function(_,R,Q,ne,ue){var Me,Ve,st,ht,Lt,Ft,xn,mr,nr,Yn=(ne=ne||{}).scope||this;if("number"==typeof _&&"number"==typeof R&&("string"==typeof Q||Array.isArray(Q))){var Qr=Q;Q=R,R=_,_=Qr}if(arguments[3]instanceof xt==0?(st=arguments[4],ht=arguments[5],"object"===Kn(xn=arguments[3])&&null!==xn||("string"==typeof st&&(ht=st,st=null),"string"==typeof xn&&(ht=xn,xn=null),"number"==typeof xn&&(st=xn,xn=null),ne={flags:xn,angle:st,align:ht})):(S("The transform parameter of text() with a Matrix value"),nr=ue),isNaN(R)||isNaN(Q)||null==_)throw new Error("Invalid arguments passed to jsPDF.text");if(0===_.length)return Yn;var jr,wi="",oo="number"==typeof ne.lineHeightFactor?ne.lineHeightFactor:So,rr=Yn.internal.scaleFactor;function zh($n){return $n=$n.split("\t").join(Array(ne.TabLen||9).join(" ")),To($n,xn)}function $c($n){for(var lr,hi=$n.concat(),xi=[],Hc=hi.length;Hc--;)"string"==typeof(lr=hi.shift())?xi.push(lr):Array.isArray($n)&&(1===lr.length||void 0===lr[1]&&void 0===lr[2])?xi.push(lr[0]):xi.push([lr[0],lr[1],lr[2]]);return xi}function ms($n,lr){var hi;if("string"==typeof $n)hi=lr($n)[0];else if(Array.isArray($n)){for(var xi,Hc,t1=$n.concat(),xg=[],X2=t1.length;X2--;)"string"==typeof(xi=t1.shift())?xg.push(lr(xi)[0]):Array.isArray(xi)&&"string"==typeof xi[0]&&(Hc=lr(xi[0],xi[1],xi[2]),xg.push([Hc[0],Hc[1],Hc[2]]));hi=xg}return hi}var f=!1,y=!0;if("string"==typeof _)f=!0;else if(Array.isArray(_)){var T=_.concat();Ve=[];for(var $,ce=T.length;ce--;)("string"!=typeof($=T.shift())||Array.isArray($)&&"string"!=typeof $[0])&&(y=!1);f=y}if(!1===f)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');"string"==typeof _&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var we=$e/Yn.internal.scaleFactor,Ke=we*(oo-1);switch(ne.baseline){case"bottom":Q-=Ke;break;case"top":Q+=we-Ke;break;case"hanging":Q+=we-2*Ke;break;case"middle":Q+=we/2-Ke}if((Ft=ne.maxWidth||0)>0&&("string"==typeof _?_=Yn.splitTextToSize(_,Ft):"[object Array]"===Object.prototype.toString.call(_)&&(_=_.reduce(function($n,lr){return $n.concat(Yn.splitTextToSize(lr,Ft))},[]))),vn.publish("preProcessText",Me={text:_,x:R,y:Q,options:ne,mutex:{pdfEscape:To,activeFontKey:pt,fonts:He,activeFontSize:$e}}),_=Me.text,st=(ne=Me.options).angle,nr instanceof xt==0&&st&&"number"==typeof st){st*=Math.PI/180,0===ne.rotationDirection&&(st=-st),F===B&&(st=-st);var Mn=Math.cos(st),zr=Math.sin(st);nr=new xt(Mn,zr,-zr,Mn,0,0)}else st&&st instanceof xt&&(nr=st);F!==B||nr||(nr=Cr),void 0!==(Lt=ne.charSpace||_a)&&(wi+=x(N(Lt))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(mr=ne.horizontalScale)&&(wi+=x(100*mr)+" Tz\n");var Pt=-1,_r=void 0!==ne.renderingMode?ne.renderingMode:ne.stroke,$r=Yn.internal.getCurrentPageInfo().pageContext;switch(_r){case 0:case!1:case"fill":Pt=0;break;case 1:case!0:case"stroke":Pt=1;break;case 2:case"fillThenStroke":Pt=2;break;case 3:case"invisible":Pt=3;break;case 4:case"fillAndAddForClipping":Pt=4;break;case 5:case"strokeAndAddPathForClipping":Pt=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Pt=6;break;case 7:case"addToPathForClipping":Pt=7}-1!==Pt?wi+=Pt+" Tr\n":-1!==(void 0!==$r.usedRenderingMode?$r.usedRenderingMode:-1)&&(wi+="0 Tr\n"),-1!==Pt&&($r.usedRenderingMode=Pt),ht=ne.align||"left";var Lr,ba=$e*oo,qc=Yn.internal.pageSize.getWidth(),Qv=He[pt];Lt=ne.charSpace||_a,Ft=ne.maxWidth||0,xn=Object.assign({autoencode:!0,noBOM:!0},ne.flags);var rd=[],$h=function($n){return Yn.getStringUnitWidth($n,{font:Qv,charSpace:Lt,fontSize:$e,doKerning:!1})*$e/rr};if("[object Array]"===Object.prototype.toString.call(_)){var zs;Ve=$c(_),"left"!==ht&&(Lr=Ve.map($h));var $s,id=0;if("right"===ht){R-=Lr[0],_=[],ce=Ve.length;for(var Gc=0;Gc<ce;Gc++)0===Gc?($s=Ga(R),zs=qi(Q)):($s=N(id-Lr[Gc]),zs=-ba),_.push([Ve[Gc],$s,zs]),id=Lr[Gc]}else if("center"===ht){R-=Lr[0]/2,_=[],ce=Ve.length;for(var od=0;od<ce;od++)0===od?($s=Ga(R),zs=qi(Q)):($s=N((id-Lr[od])/2),zs=-ba),_.push([Ve[od],$s,zs]),id=Lr[od]}else if("left"===ht){_=[],ce=Ve.length;for(var Yv=0;Yv<ce;Yv++)_.push(Ve[Yv])}else if("justify"===ht&&"Identity-H"===Qv.encoding){_=[],ce=Ve.length,Ft=0!==Ft?Ft:qc;for(var Dg=0,di=0;di<ce;di++)if(zs=0===di?qi(Q):-ba,$s=0===di?Ga(R):Dg,di<ce-1){var J2=N((Ft-Lr[di])/(Ve[di].split(" ").length-1)),jl=Ve[di].split(" ");_.push([jl[0]+" ",$s,zs]),Dg=0;for(var zl=1;zl<jl.length;zl++){var Zv=($h(jl[zl-1]+" "+jl[zl])-$h(jl[zl]))*rr+J2;_.push(zl==jl.length-1?[jl[zl],Zv,0]:[jl[zl]+" ",Zv,0]),Dg-=Zv}}else _.push([Ve[di],$s,zs]);_.push(["",Dg,0])}else{if("justify"!==ht)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],ce=Ve.length,Ft=0!==Ft?Ft:qc,di=0;di<ce;di++){zs=0===di?qi(Q):-ba,$s=0===di?Ga(R):0;var Jv=Ve[di].split(" ").length-1;rd.push(di<ce-1?x(N(Jv>0?(Ft-Lr[di])/Jv:0)):0),_.push([Ve[di],$s,zs])}}}!0===("boolean"==typeof ne.R2L?ne.R2L:jt)&&(_=ms(_,function($n,lr,hi){return[$n.split("").reverse().join(""),lr,hi]})),vn.publish("postProcessText",Me={text:_,x:R,y:Q,options:ne,mutex:{pdfEscape:To,activeFontKey:pt,fonts:He,activeFontSize:$e}}),_=Me.text,jr=Me.mutex.isHex||!1;var e1=He[pt].encoding;"WinAnsiEncoding"!==e1&&"StandardEncoding"!==e1||(_=ms(_,function($n,lr,hi){return[zh($n),lr,hi]})),Ve=$c(_),_=[];for(var sd,ad,ld,qh=Array.isArray(Ve[0])?1:0,cd="",Gh=function($n,lr,hi){var xi="";return hi instanceof xt?(hi="number"==typeof ne.angle?fa(hi,new xt(1,0,0,1,$n,lr)):fa(new xt(1,0,0,1,$n,lr),hi),F===B&&(hi=fa(new xt(1,0,0,-1,0,0),hi)),xi=hi.join(" ")+" Tm\n"):xi=x($n)+" "+x(lr)+" Td\n",xi},wa=0;wa<Ve.length;wa++){switch(cd="",qh){case 1:ld=(jr?"<":"(")+Ve[wa][0]+(jr?">":")"),sd=parseFloat(Ve[wa][1]),ad=parseFloat(Ve[wa][2]);break;case 0:ld=(jr?"<":"(")+Ve[wa]+(jr?">":")"),sd=Ga(R),ad=qi(Q)}void 0!==rd&&void 0!==rd[wa]&&(cd=rd[wa]+" Tw\n"),0===wa?_.push(cd+Gh(sd,ad,nr)+ld):0===qh?_.push(cd+ld):1===qh&&_.push(cd+Gh(sd,ad,nr)+ld)}_=_.join(0===qh?" Tj\nT* ":" Tj\n"),_+=" Tj\n";var $l="BT\n/";return $l+=pt+" "+$e+" Tf\n",$l+=x($e*oo)+" TL\n",$l+=Ul+"\n",$l+=wi,$l+=_,J($l+="ET"),m[pt]=!0,Yn};var Xu=p.__private__.clip=p.clip=function(_){return J("evenodd"===_?"W*":"W"),this};p.clipEvenOdd=function(){return Xu("evenodd")},p.__private__.discardPath=p.discardPath=function(){return J("n"),this};var js=p.__private__.isValidStyle=function(_){var R=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)&&(R=!0),R};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(_){return js(_)&&(c=_),this};var zn=p.__private__.getStyle=p.getStyle=function(_){var R=c;switch(_){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=_}return R},Oc=p.close=function(){return J("h"),this};p.stroke=function(){return J("S"),this},p.fill=function(_){return ps("f",_),this},p.fillEvenOdd=function(_){return ps("f*",_),this},p.fillStroke=function(_){return ps("B",_),this},p.fillStrokeEvenOdd=function(_){return ps("B*",_),this};var ps=function(_,R){"object"===Kn(R)?Ag(R,_):J(_)},qa=function(_){null===_||F===B&&void 0===_||(_=zn(_),J(_))};function $v(_,R,Q,ne,ue){var Me=new gg(R||this.boundingBox,Q||this.xStep,ne||this.yStep,this.gState,ue||this.matrix);Me.stream=this.stream;var Ve=_+"$$"+this.cloneIndex+++"$$";return $o(Ve,Me),Me}var Ag=function(_,R){var Q=rn[_.key],ne=Tt[Q];if(ne instanceof xh)J("q"),J(qv(R)),ne.gState&&p.setGState(ne.gState),J(_.matrix.toString()+" cm"),J("/"+Q+" sh"),J("Q");else if(ne instanceof gg){var ue=new xt(1,0,0,-1,0,Wa());_.matrix&&(ue=ue.multiply(_.matrix||Cr),Q=$v.call(ne,_.key,_.boundingBox,_.xStep,_.yStep,ue).id),J("q"),J("/Pattern cs"),J("/"+Q+" scn"),ne.gState&&p.setGState(ne.gState),J(R),J("Q")}},qv=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Uh=p.moveTo=function(_,R){return J(x(N(_))+" "+x(te(R))+" m"),this},Lc=p.lineTo=function(_,R){return J(x(N(_))+" "+x(te(R))+" l"),this},Ll=p.curveTo=function(_,R,Q,ne,ue,Me){return J([x(N(_)),x(te(R)),x(N(Q)),x(te(ne)),x(N(ue)),x(te(Me)),"c"].join(" ")),this};p.__private__.line=p.line=function(_,R,Q,ne,ue){if(isNaN(_)||isNaN(R)||isNaN(Q)||isNaN(ne)||!js(ue))throw new Error("Invalid arguments passed to jsPDF.line");return F===k?this.lines([[Q-_,ne-R]],_,R,[1,1],ue||"S"):this.lines([[Q-_,ne-R]],_,R,[1,1]).stroke()},p.__private__.lines=p.lines=function(_,R,Q,ne,ue,Me){var Ve,st,ht,Lt,Ft,Qr,jr,wi;if("number"==typeof _&&(wi=Q,Q=R,R=_,_=wi),ne=ne||[1,1],Me=Me||!1,isNaN(R)||isNaN(Q)||!Array.isArray(_)||!Array.isArray(ne)||!js(ue)||"boolean"!=typeof Me)throw new Error("Invalid arguments passed to jsPDF.lines");for(Uh(R,Q),Ve=ne[0],st=ne[1],Lt=_.length,Qr=R,jr=Q,ht=0;ht<Lt;ht++)2===(Ft=_[ht]).length?Lc(Qr=Ft[0]*Ve+Qr,jr=Ft[1]*st+jr):Ll(Ft[0]*Ve+Qr,Ft[1]*st+jr,Ft[2]*Ve+Qr,Ft[3]*st+jr,Qr=Ft[4]*Ve+Qr,jr=Ft[5]*st+jr);return Me&&Oc(),qa(ue),this},p.path=function(_){for(var R=0;R<_.length;R++){var Q=_[R],ne=Q.c;switch(Q.op){case"m":Uh(ne[0],ne[1]);break;case"l":Lc(ne[0],ne[1]);break;case"c":Ll.apply(this,ne);break;case"h":Oc()}}return this},p.__private__.rect=p.rect=function(_,R,Q,ne,ue){if(isNaN(_)||isNaN(R)||isNaN(Q)||isNaN(ne)||!js(ue))throw new Error("Invalid arguments passed to jsPDF.rect");return F===k&&(ne=-ne),J([x(N(_)),x(te(R)),x(N(Q)),x(N(ne)),"re"].join(" ")),qa(ue),this},p.__private__.triangle=p.triangle=function(_,R,Q,ne,ue,Me,Ve){if(isNaN(_)||isNaN(R)||isNaN(Q)||isNaN(ne)||isNaN(ue)||isNaN(Me)||!js(Ve))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Q-_,ne-R],[ue-Q,Me-ne],[_-ue,R-Me]],_,R,[1,1],Ve,!0),this},p.__private__.roundedRect=p.roundedRect=function(_,R,Q,ne,ue,Me,Ve){if(isNaN(_)||isNaN(R)||isNaN(Q)||isNaN(ne)||isNaN(ue)||isNaN(Me)||!js(Ve))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var st=4/3*(Math.SQRT2-1);return ue=Math.min(ue,.5*Q),Me=Math.min(Me,.5*ne),this.lines([[Q-2*ue,0],[ue*st,0,ue,Me-Me*st,ue,Me],[0,ne-2*Me],[0,Me*st,-ue*st,Me,-ue,Me],[2*ue-Q,0],[-ue*st,0,-ue,-Me*st,-ue,-Me],[0,2*Me-ne],[0,-Me*st,ue*st,-Me,ue,-Me]],_+ue,R,[1,1],Ve,!0),this},p.__private__.ellipse=p.ellipse=function(_,R,Q,ne,ue){if(isNaN(_)||isNaN(R)||isNaN(Q)||isNaN(ne)||!js(ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Me=4/3*(Math.SQRT2-1)*Q,Ve=4/3*(Math.SQRT2-1)*ne;return Uh(_+Q,R),Ll(_+Q,R-Ve,_+Me,R-ne,_,R-ne),Ll(_-Me,R-ne,_-Q,R-Ve,_-Q,R),Ll(_-Q,R+Ve,_-Me,R+ne,_,R+ne),Ll(_+Me,R+ne,_+Q,R+Ve,_+Q,R),qa(ue),this},p.__private__.circle=p.circle=function(_,R,Q,ne){if(isNaN(_)||isNaN(R)||isNaN(Q)||!js(ne))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,R,Q,Q,ne)},p.setFont=function(_,R,Q){return Q&&(R=z(R,Q)),pt=Oh(_,R,{disableWarning:!1}),this};var Fc=p.__private__.getFont=p.getFont=function(){return He[Oh.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var _,R,Q={};for(_ in At)if(At.hasOwnProperty(_))for(R in Q[_]=[],At[_])At[_].hasOwnProperty(R)&&Q[_].push(R);return Q},p.addFont=function(_,R,Q,ne,ue){var Me=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==Me.indexOf(arguments[3])?ue=arguments[3]:arguments[3]&&-1==Me.indexOf(arguments[3])&&(Q=z(Q,ne)),Rh.call(this,_,R,Q,ue=ue||"Identity-H")};var So,ed=n.lineWidth||.200025,zt=p.__private__.getLineWidth=p.getLineWidth=function(){return ed},Tg=p.__private__.setLineWidth=p.setLineWidth=function(_){return ed=_,J(x(N(_))+" w"),this};p.__private__.setLineDash=Ct.API.setLineDash=Ct.API.setLineDashPattern=function(_,R){if(_=_||[],R=R||0,isNaN(R)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(Q){return x(N(Q))}).join(" "),R=x(N(R)),J("["+_+"] "+R+" d"),this};var Fl=p.__private__.getLineHeight=p.getLineHeight=function(){return $e*So};p.__private__.getLineHeight=p.getLineHeight=function(){return $e*So};var Gv=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(_){return"number"==typeof(_=_||1.15)&&(So=_),this},Hv=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return So};Gv(n.lineHeight);var Ga=p.__private__.getHorizontalCoordinate=function(_){return N(_)},qi=p.__private__.getVerticalCoordinate=function(_){return F===B?_:Rt[K].mediaBox.topRightY-Rt[K].mediaBox.bottomLeftY-N(_)},Wv=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(_){return x(Ga(_))},Kv=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(_){return x(qi(_))},ga=n.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return qo(ga)},p.__private__.setStrokeColor=p.setDrawColor=function(_,R,Q,ne){return ga=hs({ch1:_,ch2:R,ch3:Q,ch4:ne,pdfColorType:"draw",precision:2}),J(ga),this};var Vl=n.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return qo(Vl)},p.__private__.setFillColor=p.setFillColor=function(_,R,Q,ne){return Vl=hs({ch1:_,ch2:R,ch3:Q,ch4:ne,pdfColorType:"fill",precision:2}),J(Vl),this};var Ul=n.textColor||"0 g",ma=p.__private__.getTextColor=p.getTextColor=function(){return qo(Ul)};p.__private__.setTextColor=p.setTextColor=function(_,R,Q,ne){return Ul=hs({ch1:_,ch2:R,ch3:Q,ch4:ne,pdfColorType:"text",precision:3}),this};var _a=n.charSpace,Sg=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(_a||0)};p.__private__.setCharSpace=p.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return _a=_,this};var Vc=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(_){var R=p.CapJoinStyles[_];if(void 0===R)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vc=R,J(R+" J"),this};var tr=0;p.__private__.setLineJoin=p.setLineJoin=function(_){var R=p.CapJoinStyles[_];if(void 0===R)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return tr=R,J(R+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(x(N(_))+" M"),this},p.GState=j2,p.setGState=function(_){(_="string"==typeof _?wt[jn[_]]:Uc(null,_)).equals(Er)||(J("/"+_.id+" gs"),Er=_)};var Uc=function(_,R){if(!_||!jn[_]){var Q=!1;for(var ne in wt)if(wt.hasOwnProperty(ne)&&wt[ne].equals(R)){Q=!0;break}if(Q)R=wt[ne];else{var ue="GS"+(Object.keys(wt).length+1).toString(10);wt[ue]=R,R.id=ue}return _&&(jn[_]=R.id),vn.publish("addGState",R),R}};p.addGState=function(_,R){return Uc(_,R),this},p.saveGraphicsState=function(){return J("q"),Kt.push({key:pt,size:$e,color:Ul}),this},p.restoreGraphicsState=function(){J("Q");var _=Kt.pop();return pt=_.key,$e=_.size,Ul=_.color,Er=null,this},p.setCurrentTransformationMatrix=function(_){return J(_.toString()+" cm"),this},p.comment=function(_){return J("#"+_),this};var Bc=function(_,R){var Q=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Q},set:function(Me){isNaN(Me)||(Q=parseFloat(Me))}});var ne=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ne},set:function(Me){isNaN(Me)||(ne=parseFloat(Me))}});var ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ue},set:function(Me){ue=Me.toString()}}),this},td=function(_,R,Q,ne){Bc.call(this,_,R),this.type="rect";var ue=Q||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ue},set:function(Ve){isNaN(Ve)||(ue=parseFloat(Ve))}});var Me=ne||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Me},set:function(Ve){isNaN(Ve)||(Me=parseFloat(Ve))}}),this},jc=function(){this.page=En,this.currentPage=K,this.pages=De.slice(0),this.pagesContext=Rt.slice(0),this.x=bt,this.y=Vn,this.matrix=pn,this.width=Bh(K),this.height=ya(K),this.outputDestination=Ye,this.id="",this.objectNumber=-1};jc.prototype.restore=function(){En=this.page,Rt=this.pagesContext,De=this.pages,bt=this.x,Vn=this.y,pn=this.matrix,gs(K=this.currentPage,this.width),Ha(K,this.height),Ye=this.outputDestination};var nd=function(_,R,Q,ne,ue){zi.push(new jc),En=K=0,De=[],bt=_,Vn=R,pn=ue,za([Q,ne])};for(var va in p.beginFormObject=function(_,R,Q,ne,ue){return nd(_,R,Q,ne,ue),this},p.endFormObject=function(_){return function(R){if(Co[R])zi.pop().restore();else{var Q=new jc,ne="Xo"+(Object.keys(Kr).length+1).toString(10);Q.id=ne,Co[R]=ne,Kr[ne]=Q,vn.publish("addFormObject",Q),zi.pop().restore()}}(_),this},p.doFormObject=function(_,R){var Q=Kr[Co[_]];return J("q"),J(R.toString()+" cm"),J("/"+Q.id+" Do"),J("Q"),this},p.getFormObject=function(_){var R=Kr[Co[_]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},p.save=function(_,R){return _=_||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,!1===R.returnPromise?(Dh(kc($a()),_),"function"==typeof Dh.unload&&Ht.setTimeout&&setTimeout(Dh.unload,911),this):new Promise(function(Q,ne){try{var ue=Dh(kc($a()),_);"function"==typeof Dh.unload&&Ht.setTimeout&&setTimeout(Dh.unload,911),Q(ue)}catch(Me){ne(Me.message)}})},Ct.API)Ct.API.hasOwnProperty(va)&&("events"===va&&Ct.API.events.length?function(_,R){var ne,ue;for(ue=R.length-1;-1!==ue;ue--)_.subscribe.apply(_,[R[ue][0]].concat("function"==typeof(ne=R[ue][1])?[ne]:ne))}(vn,Ct.API.events):p[va]=Ct.API[va]);function Bh(_){return Rt[_].mediaBox.topRightX-Rt[_].mediaBox.bottomLeftX}function gs(_,R){Rt[_].mediaBox.topRightX=R+Rt[_].mediaBox.bottomLeftX}function ya(_){return Rt[_].mediaBox.topRightY-Rt[_].mediaBox.bottomLeftY}function Ha(_,R){Rt[_].mediaBox.topRightY=R+Rt[_].mediaBox.bottomLeftY}var Bl=p.getPageWidth=function(_){return Bh(_=_||K)/Nt},jh=p.setPageWidth=function(_,R){gs(_,R*Nt)},Wa=p.getPageHeight=function(_){return ya(_=_||K)/Nt},zc=p.setPageHeight=function(_,R){Ha(_,R*Nt)};return p.internal={pdfEscape:To,getStyle:zn,getFont:Fc,getFontSize:et,getCharSpace:Sg,getTextColor:ma,getLineHeight:Fl,getLineHeightFactor:Hv,getLineWidth:zt,write:ln,getHorizontalCoordinate:Ga,getVerticalCoordinate:qi,getCoordinateString:Wv,getVerticalCoordinateString:Kv,collections:{},newObject:er,newAdditionalObject:ds,newObjectDeferred:bi,newObjectDeferredBegin:Di,getFilters:Go,putStream:io,events:vn,scaleFactor:Nt,pageSize:{getWidth:function(){return Bl(K)},setWidth:function(_){jh(K,_)},getHeight:function(){return Wa(K)},setHeight:function(_){zc(K,_)}},encryptionOptions:u,encryption:Br,getEncryptor:function(_){return null!==u?Br.encryptor(_,0):function(R){return R}},output:fs,getNumberOfPages:kh,pages:De,out:J,f2:A,f3:P,getPageInfo:Us,getPageInfoByObjId:Bs,getCurrentPageInfo:Ju,getPDFVersion:w,Point:Bc,Rectangle:td,Matrix:xt,hasHotfix:Ol},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Bl(K)},set:function(_){jh(K,_)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Wa(K)},set:function(_){zc(K,_)},enumerable:!0,configurable:!0}),function(_){for(var R=0,Q=Dt.length;R<Q;R++){var ne=Rh.call(this,_[R][0],_[R][1],_[R][2],Dt[R][3],!0);!1===d&&(m[ne]=!0);var ue=_[R][0].split("-");Mc({id:ne,fontName:ue[0],fontStyle:ue[1]||""})}vn.publish("addFonts",{fonts:He,dictionary:At})}.call(p,Dt),pt="F1",pa(i,t),vn.publish("initialized"),p}fg.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},fg.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},fg.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},fg.prototype.processOwnerPassword=function(n,e){return WP(HP(e).substr(0,5),n)},fg.prototype.encryptor=function(n,e){var t=HP(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return WP(t,r)}},j2.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Kn(n)!==Kn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return 0===r},Ct.API={events:[]},Ct.version="3.0.3";var Wr=Ct.API,KP=1,Ph=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},mg=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jt=function(n){return n.toFixed(2)},Ku=function(n){return n.toFixed(5)};Wr.__acroform__={};var us=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},k$=function(n){return n*KP},Dl=function(n){var e=new L$,t=dt.internal.getHeight(n)||0,r=dt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Jt(r)),Number(Jt(t))],e},eye=Wr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},tye=Wr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},nye=Wr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},li=Wr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return nye(n,e-1)},ci=Wr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return eye(n,e-1)},ui=Wr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return tye(n,e-1)},rye=Wr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],o=n[1],s=n[2],a=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(o+a)||0,l.upperRight_X=t(i+s)||0,l.upperRight_Y=r(o)||0,[Number(Jt(l.lowerLeft_X)),Number(Jt(l.lowerLeft_Y)),Number(Jt(l.upperRight_X)),Number(Jt(l.upperRight_Y))]},iye=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],r=QP(n,n._V||n.DV),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Jt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Dl(n);return o.scope=n.scope,o.stream=e.join("\n"),o}},QP=function(n,e){var t=0===n.fontSize?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" ");i=i.map(n.multiline?function(A){return A.split("\n")}:function(A){return[A]});var o=t,s=dt.internal.getHeight(n)||0;s=s<0?-s:s;var A,a=dt.internal.getWidth(n)||0;a=a<0?-a:a,o++;e:for(;o>0;){e="",o--;var c,u,d=z2("3",n,o).height,m=n.multiline?s-o:(s-d)/2,p=m+=2,b=0,w=0,E=0;if(o<=0){e="(...) Tj\n",e+="% Width of Text: "+z2(e,n,o=12).width+", FieldWidth:"+a+"\n";break}for(var C="",k=0,B=0;B<i.length;B++)if(i.hasOwnProperty(B)){var F=!1;if(1!==i[B].length&&E!==i[B].length-1){if((d+2)*(k+2)+2>s)continue e;C+=i[B][E],F=!0,w=B,B--}else{C=" "==(C+=i[B][E]+" ").substr(C.length-1)?C.substr(0,C.length-1):C;var X=parseInt(B),se=(A=X)+1<i.length&&z2(C+" "+i[A+1][0],n,o).width<=a-4,z=B>=i.length-1;if(se&&!z){C+=" ",E=0;continue}if(se||z){if(z)w=X;else if(n.multiline&&(d+2)*(k+2)+2>s)continue e}else{if(!n.multiline||(d+2)*(k+2)+2>s)continue e;w=X}}for(var x="",S=b;S<=w;S++){var V=i[S];if(n.multiline){if(S===w){x+=V[E]+" ",E=(E+1)%V.length;continue}if(S===b){x+=V[V.length-1]+" ";continue}}x+=V[0]+" "}switch(x=" "==x.substr(x.length-1)?x.substr(0,x.length-1):x,u=z2(x,n,o).width,n.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}e+=Jt(c)+" "+Jt(p)+" Td\n",e+="("+Ph(x)+") Tj\n",e+=-Jt(c)+" 0 Td\n",p=-(o+2),u=0,b=F?w:w+1,k++,C=""}break}return r.text=e,r.fontSize=o,r},z2=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},oye={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},sye=function(n,e){var t={type:"reference",object:n};void 0===e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},O$=Wr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(s){return s};if(Array.isArray(n)){for(var i="[",o=0;o<n.length;o++)switch(0!==o&&(i+=" "),Kn(n[o])){case"boolean":case"number":case"object":i+=n[o].toString();break;case"string":"/"!==n[o].substr(0,1)?(void 0!==e&&t&&(r=t.internal.getEncryptor(e)),i+="("+Ph(r(n[o].toString()))+")"):i+=n[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},YP=function(n,e,t){var r=function(i){return i};return void 0!==e&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Ph(r(n))+")"},xl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};xl.prototype.toString=function(){return this.objId+" 0 R"},xl.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},xl.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return"content"!=o&&"appearanceStreamContent"!=o&&"scope"!=o&&"objId"!=o&&"_"!=o.substring(0,1)});for(var t in e)if(!1===Object.getOwnPropertyDescriptor(this,e[t]).configurable){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:O$(i,this.objId,this.scope)}):i instanceof xl?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&n.push({key:r,value:i}))}return n};var L$=function(){xl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};us(L$,xl);var F$=function(){xl.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Ph(t(n))+")"}},set:function(t){n=t}})};us(F$,xl);var Ua=function n(){xl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!li(e,3)},set:function(C){this.F=C?ci(e,3):ui(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');t=C}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(C){r=void 0!==C?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(C){r[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(C){r[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(C){r[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(C){r[3]=C}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof G2)return;o="FieldObject"+n.FieldNum++}var C=function(k){return k};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+Ph(C(o))+")"},set:function(C){o=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(C){o=C}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(C){s=C}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(C){a=C}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(C){l=C}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/KP:c},set:function(C){c=C}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(C){u=C}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof G2||this instanceof Mh))return YP(d,this.objId,this.scope)},set:function(C){C=C.toString(),d=C}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof ji==0?YP(m,this.objId,this.scope):m},set:function(C){C=C.toString(),m=this instanceof ji==0?"("===C.substr(0,1)?mg(C.substr(1,C.length-2)):mg(C):C}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ji==1?mg(m.substr(1,m.length-1)):m},set:function(C){C=C.toString(),m=this instanceof ji==1?"/"+C:C}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ji==0?YP(p,this.objId,this.scope):p},set:function(C){C=C.toString(),p=this instanceof ji==0?"("===C.substr(0,1)?mg(C.substr(1,C.length-2)):mg(C):C}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ji==1?mg(p.substr(1,p.length-1)):p},set:function(C){C=C.toString(),p=this instanceof ji==1?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(C){w=C=!!C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(C){b=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,1)},set:function(C){this.Ff=C?ci(this.Ff,1):ui(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,2)},set:function(C){this.Ff=C?ci(this.Ff,2):ui(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,3)},set:function(C){this.Ff=C?ci(this.Ff,3):ui(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==E)return E},set:function(C){if(-1===[0,1,2].indexOf(C))throw new Error('Invalid value "'+C+'" for attribute Q supplied.');E=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(E){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:E=2;break;case"center":case 1:E=1;break;default:E=0}}})};us(Ua,xl);var _g=function(){Ua.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return O$(e,this.objId,this.scope)},set:function(t){var r,i;i=[],"string"==typeof(r=t)&&(i=function(o,s,a){a||(a=1);for(var l,c=[];l=s.exec(o);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==r););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,18)},set:function(t){this.Ff=t?ci(this.Ff,18):ui(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,19)},set:function(t){!0===this.combo&&(this.Ff=t?ci(this.Ff,19):ui(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,20)},set:function(t){t?(this.Ff=ci(this.Ff,20),e.sort()):this.Ff=ui(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,22)},set:function(t){this.Ff=t?ci(this.Ff,22):ui(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,23)},set:function(t){this.Ff=t?ci(this.Ff,23):ui(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,27)},set:function(t){this.Ff=t?ci(this.Ff,27):ui(this.Ff,27)}}),this.hasAppearanceStream=!1};us(_g,Ua);var vg=function(){_g.call(this),this.fontName="helvetica",this.combo=!1};us(vg,_g);var yg=function(){vg.call(this),this.combo=!0};us(yg,vg);var $2=function(){yg.call(this),this.edit=!0};us($2,yg);var ji=function(){Ua.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,15)},set:function(t){this.Ff=t?ci(this.Ff,15):ui(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,16)},set:function(t){this.Ff=t?ci(this.Ff,16):ui(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,17)},set:function(t){this.Ff=t?ci(this.Ff,17):ui(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,26)},set:function(t){this.Ff=t?ci(this.Ff,26):ui(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(e).length){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Ph(t(e[r]))+")");return i.push(">>"),i.join("\n")}},set:function(t){"object"===Kn(t)&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){"string"==typeof t&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};us(ji,Ua);var q2=function(){ji.call(this),this.pushButton=!0};us(q2,ji);var bg=function(){ji.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=void 0!==e?e:[]}})};us(bg,ji);var G2=function(){var n,e;Ua.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+Ph(i(r[o]))+")");return s.push(">>"),s.join("\n")},set:function(i){"object"===Kn(i)&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){"string"==typeof i&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};us(G2,Ua),bg.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},bg.prototype.createOption=function(n){var e=new G2;return e.Parent=this,e.optionName=n,this.Kids.push(e),lye.call(this.scope,e),e};var H2=function(){ji.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=dt.CheckBox.createAppearanceStream()};us(H2,ji);var Mh=function(){Ua.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,13)},set:function(e){this.Ff=e?ci(this.Ff,13):ui(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,21)},set:function(e){this.Ff=e?ci(this.Ff,21):ui(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,23)},set:function(e){this.Ff=e?ci(this.Ff,23):ui(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,24)},set:function(e){this.Ff=e?ci(this.Ff,24):ui(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,25)},set:function(e){this.Ff=e?ci(this.Ff,25):ui(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,26)},set:function(e){this.Ff=e?ci(this.Ff,26):ui(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};us(Mh,Ua);var W2=function(){Mh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,14)},set:function(n){this.Ff=n?ci(this.Ff,14):ui(this.Ff,14)}}),this.password=!0};us(W2,Mh);var dt={CheckBox:{createAppearanceStream:function(){return{N:{On:dt.CheckBox.YesNormal},D:{On:dt.CheckBox.YesPushDown,Off:dt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Dl(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),o=QP(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Jt(dt.internal.getWidth(n))+" "+Jt(dt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Jt(o.fontSize)+" Tf "+i),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join("\n"),e},YesNormal:function(n){var e=Dl(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],o=dt.internal.getHeight(n),s=dt.internal.getWidth(n),a=QP(n,n.caption);return i.push("1 g"),i.push("0 0 "+Jt(s)+" "+Jt(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Jt(s-1)+" "+Jt(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Jt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(n){var e=Dl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Jt(dt.internal.getWidth(n))+" "+Jt(dt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:dt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=dt.RadioButton.Circle.YesNormal,e.D[n]=dt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Dl(n);e.scope=n.scope;var t=[],r=dt.internal.getWidth(n)<=dt.internal.getHeight(n)?dt.internal.getWidth(n)/4:dt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var o=Number((r*dt.internal.Bezier_C).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Ku(dt.internal.getWidth(n)/2)+" "+Ku(dt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(n){var e=Dl(n);e.scope=n.scope;var t=[],r=dt.internal.getWidth(n)<=dt.internal.getHeight(n)?dt.internal.getWidth(n)/4:dt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*dt.internal.Bezier_C).toFixed(5)),s=Number((r*dt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ku(dt.internal.getWidth(n)/2)+" "+Ku(dt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Ku(dt.internal.getWidth(n)/2)+" "+Ku(dt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},OffPushDown:function(n){var e=Dl(n);e.scope=n.scope;var t=[],r=dt.internal.getWidth(n)<=dt.internal.getHeight(n)?dt.internal.getWidth(n)/4:dt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*dt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ku(dt.internal.getWidth(n)/2)+" "+Ku(dt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:dt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=dt.RadioButton.Cross.YesNormal,e.D[n]=dt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Dl(n);e.scope=n.scope;var t=[],r=dt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Jt(dt.internal.getWidth(n)-2)+" "+Jt(dt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Jt(r.x1.x)+" "+Jt(r.x1.y)+" m"),t.push(Jt(r.x2.x)+" "+Jt(r.x2.y)+" l"),t.push(Jt(r.x4.x)+" "+Jt(r.x4.y)+" m"),t.push(Jt(r.x3.x)+" "+Jt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(n){var e=Dl(n);e.scope=n.scope;var t=dt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Jt(dt.internal.getWidth(n))+" "+Jt(dt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Jt(dt.internal.getWidth(n)-2)+" "+Jt(dt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Jt(t.x1.x)+" "+Jt(t.x1.y)+" m"),r.push(Jt(t.x2.x)+" "+Jt(t.x2.y)+" l"),r.push(Jt(t.x4.x)+" "+Jt(t.x4.y)+" m"),r.push(Jt(t.x3.x)+" "+Jt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(n){var e=Dl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Jt(dt.internal.getWidth(n))+" "+Jt(dt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join("\n"),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};dt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=dt.internal.getWidth(n),t=dt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},dt.internal.getWidth=function(n){var e=0;return"object"===Kn(n)&&(e=k$(n.Rect[2])),e},dt.internal.getHeight=function(n){var e=0;return"object"===Kn(n)&&(e=k$(n.Rect[3])),e};var lye=Wr.addField=function(n){if(function(n,e){if(e.scope=n,void 0!==n.internal&&(void 0===n.internal.acroformPlugin||!1===n.internal.acroformPlugin.isInitialized)){if(Ua.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(oye)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");KP=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new F$,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){var t;(t=n).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),n.internal.events.subscribe("buildDocument",function(){!function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&sye(o,t)}}(n)}),n.internal.events.subscribe("putCatalog",function(){!function(t){if(void 0===t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(n)}),n.internal.events.subscribe("postPutPages",function(t){!function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var a=r[s],l=[],c=a.Rect;if(a.Rect&&(a.Rect=rye(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=dt.createDefaultAppearanceStream(a),"object"===Kn(a)&&"function"==typeof a.getKeyValueListForStream&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=iye(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var d="";for(var m in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(m)){var p=a.appearanceStreamContent[m];if(d+="/"+m+" ",d+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var b=p[s];"function"==typeof b&&(b=b.call(i,a)),d+="/"+s+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else"function"==typeof(b=p)&&(b=b.call(i,a)),d+="/"+s+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);d+=">>"}l.push({key:"AP",value:"<<\n"+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}o&&function(w,E){for(var C in w)if(w.hasOwnProperty(C)){var k=C,B=w[C];E.internal.newObjectDeferredBegin(B.objId,!0),"object"===Kn(B)&&"function"==typeof B.putStream&&B.putStream(),delete w[k]}}(i.internal.acroformPlugin.xForms,i)}(t,n)}),n.internal.acroformPlugin.isInitialized=!0}}(this,n),!(n instanceof Ua))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};function V$(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}Wr.AcroFormChoiceField=_g,Wr.AcroFormListBox=vg,Wr.AcroFormComboBox=yg,Wr.AcroFormEditBox=$2,Wr.AcroFormButton=ji,Wr.AcroFormPushButton=q2,Wr.AcroFormRadioButton=bg,Wr.AcroFormCheckBox=H2,Wr.AcroFormTextField=Mh,Wr.AcroFormPasswordField=W2,Wr.AcroFormAppearance=dt,Wr.AcroForm={ChoiceField:_g,ListBox:vg,ComboBox:yg,EditBox:$2,Button:ji,PushButton:q2,RadioButton:bg,CheckBox:H2,TextField:Mh,PasswordField:W2,Appearance:dt},Ct.AcroForm={ChoiceField:_g,ListBox:vg,ComboBox:yg,EditBox:$2,Button:ji,PushButton:q2,RadioButton:bg,CheckBox:H2,TextField:Mh,PasswordField:W2,Appearance:dt},function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(A,P){var N,te,me,Ae,Ce,ge=t;if("RGBA"===(P=P||t)||void 0!==A.data&&A.data instanceof Uint8ClampedArray&&"height"in A&&"width"in A)return"RGBA";if(se(A))for(Ce in r)for(me=r[Ce],N=0;N<me.length;N+=1){for(Ae=!0,te=0;te<me[N].length;te+=1)if(void 0!==me[N][te]&&me[N][te]!==A[te]){Ae=!1;break}if(!0===Ae){ge=Ce;break}}else for(Ce in r)for(me=r[Ce],N=0;N<me.length;N+=1){for(Ae=!0,te=0;te<me[N].length;te+=1)if(void 0!==me[N][te]&&me[N][te]!==A.charCodeAt(te)){Ae=!1;break}if(!0===Ae){ge=Ce;break}}return ge===t&&P!==t&&(ge=P),ge},o=function A(P){for(var N=this.internal.write,te=this.internal.putStream,me=(0,this.internal.getFilters)();-1!==me.indexOf("FlateEncode");)me.splice(me.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var Ae=[];if(Ae.push({key:"Type",value:"/XObject"}),Ae.push({key:"Subtype",value:"/Image"}),Ae.push({key:"Width",value:P.width}),Ae.push({key:"Height",value:P.height}),P.colorSpace===C.INDEXED?Ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&void 0!==P.sMask?P.objectId+2:P.objectId+1)+" 0 R]"}):(Ae.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===C.DEVICE_CMYK&&Ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ae.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&void 0!==P.decodeParameters&&Ae.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)&&P.transparency.length>0){for(var Ce="",ge=0,Te=P.transparency.length;ge<Te;ge++)Ce+=P.transparency[ge]+" "+P.transparency[ge]+" ";Ae.push({key:"Mask",value:"["+Ce+"]"})}if(void 0!==P.sMask&&Ae.push({key:"SMask",value:P.objectId+1+" 0 R"}),te({data:P.data,additionalKeyValues:Ae,alreadyAppliedFilters:void 0!==P.filter?["/"+P.filter]:void 0,objectId:P.objectId}),N("endobj"),"sMask"in P&&void 0!==P.sMask){var Oe,U=null!==(Oe=P.sMaskBitsPerComponent)&&void 0!==Oe?Oe:P.bitsPerComponent,K={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:U,data:P.sMask};"filter"in P&&(K.decodeParameters="/Predictor ".concat(P.predictor," /Colors 1 /BitsPerComponent ").concat(U," /Columns ").concat(P.width),K.filter=P.filter),A.call(this,K)}if(P.colorSpace===C.INDEXED){var ee=this.internal.newObject();te({data:x(new Uint8Array(P.palette)),objectId:ee}),N("endobj")}},s=function(){var A=this.internal.collections[e+"images"];for(var P in A)o.call(this,A[P])},a=function(){var A,P=this.internal.collections[e+"images"],N=this.internal.write;for(var te in P)N("/I"+(A=P[te]).index,A.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var A=this.internal.collections[e+"images"];return l.call(this),A},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},d=function(A){return"function"==typeof n["process"+A.toUpperCase()]},m=function(A){return"object"===Kn(A)&&1===A.nodeType},p=function(A,P){if("IMG"===A.nodeName&&A.hasAttribute("src")){var N=""+A.getAttribute("src");if(0===N.indexOf("data:image/"))return U2(unescape(N).split("base64,").pop());var te=n.loadFile(N,!0);if(void 0!==te)return te}if("CANVAS"===A.nodeName){if(0===A.width||0===A.height)throw new Error("Given canvas must have data. Canvas width: "+A.width+", height: "+A.height);var me;switch(P){case"PNG":me="image/png";break;case"WEBP":me="image/webp";break;default:me="image/jpeg"}return U2(A.toDataURL(me,1).split("base64,").pop())}},b=function(A){var P=this.internal.collections[e+"images"];if(P)for(var N in P)if(A===P[N].alias)return P[N]},w=function(A,P,N){return A||P||(A=-96,P=-96),A<0&&(A=-1*N.width*72/A/this.internal.scaleFactor),P<0&&(P=-1*N.height*72/P/this.internal.scaleFactor),0===A&&(A=P*N.width/N.height),0===P&&(P=A*N.height/N.width),[A,P]},E=function(A,P,N,te,me,Ae){var Ce=w.call(this,N,te,me),ge=this.internal.getCoordinateString,Te=this.internal.getVerticalCoordinateString,Ge=c.call(this);if(N=Ce[0],te=Ce[1],Ge[me.index]=me,Ae){Ae*=Math.PI/180;var Oe=Math.cos(Ae),U=Math.sin(Ae),K=function(re){return re.toFixed(4)},ee=[K(Oe),K(U),K(-1*U),K(Oe),0,0,"cm"]}this.internal.write("q"),Ae?(this.internal.write([1,"0","0",1,ge(A),Te(P+te),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([ge(N),"0","0",ge(te),"0","0","cm"].join(" "))):this.internal.write([ge(N),"0","0",ge(te),ge(A),Te(P+te),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+me.index+" Do"),this.internal.write("Q")},C=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var k=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},B=n.__addimage__.sHashCode=function(A){var P,N,te=0;if("string"==typeof A)for(N=A.length,P=0;P<N;P++)te=(te<<5)-te+A.charCodeAt(P),te|=0;else if(se(A))for(N=A.byteLength/2,P=0;P<N;P++)te=(te<<5)-te+A[P],te|=0;return te},F=n.__addimage__.validateStringAsBase64=function(A){(A=A||"").toString().trim();var P=!0;return 0===A.length&&(P=!1),A.length%4!=0&&(P=!1),!1===/^[A-Za-z0-9+/]+$/.test(A.substr(0,A.length-2))&&(P=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(A.substr(-2))&&(P=!1),P},X=n.__addimage__.extractImageFromDataUrl=function(A){if(null==A||!(A=A.trim()).startsWith("data:"))return null;var P=A.indexOf(",");return P<0?null:A.substring(0,P).trim().endsWith("base64")?A.substring(P+1):null};n.__addimage__.isArrayBuffer=function(A){return A instanceof ArrayBuffer};var se=n.__addimage__.isArrayBufferView=function(A){return A instanceof Int8Array||A instanceof Uint8Array||A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array},z=n.__addimage__.binaryStringToUint8Array=function(A){for(var P=A.length,N=new Uint8Array(P),te=0;te<P;te++)N[te]=A.charCodeAt(te);return N},x=n.__addimage__.arrayBufferToBinaryString=function(A){for(var P="",N=se(A)?A:new Uint8Array(A),te=0;te<N.length;te+=8192)P+=String.fromCharCode.apply(null,N.subarray(te,te+8192));return P};n.addImage=function(){var A,P,N,te,me,Ae,Ce,ge,Te;if("number"==typeof arguments[1]?(P=t,N=arguments[1],te=arguments[2],me=arguments[3],Ae=arguments[4],Ce=arguments[5],ge=arguments[6],Te=arguments[7]):(P=arguments[1],N=arguments[2],te=arguments[3],me=arguments[4],Ae=arguments[5],Ce=arguments[6],ge=arguments[7],Te=arguments[8]),"object"===Kn(A=arguments[0])&&!m(A)&&"imageData"in A){var Ge=A;A=Ge.imageData,P=Ge.format||P||t,N=Ge.x||N||0,te=Ge.y||te||0,me=Ge.w||Ge.width||me,Ae=Ge.h||Ge.height||Ae,Ce=Ge.alias||Ce,ge=Ge.compression||ge,Te=Ge.rotation||Ge.angle||Te}var Oe=this.internal.getFilters();if(void 0===ge&&-1!==Oe.indexOf("FlateEncode")&&(ge="SLOW"),isNaN(N)||isNaN(te))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var U=S.call(this,A,P,Ce,ge);return E.call(this,N,te,me,Ae,U,Te),this};var S=function(A,P,N,te){var me,Ae,Ce,Te;if("string"==typeof A&&i(A)===t){A=unescape(A);var ge=V(A,!1);(""!==ge||void 0!==(ge=n.loadFile(A,!0)))&&(A=ge)}if(m(A)&&(A=p(A,P)),P=i(A,P),!d(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if((null==(Ce=N)||0===Ce.length)&&(N="string"==typeof(Te=A)||se(Te)?B(Te):se(Te.data)?B(Te.data):null),(me=b.call(this,N))||(A instanceof Uint8Array||"RGBA"===P||(Ae=A,A=z(A)),me=this["process"+P.toUpperCase()](A,u.call(this),N,function(Te){return Te&&"string"==typeof Te&&(Te=Te.toUpperCase()),Te in n.image_compression?Te:k.NONE}(te),Ae)),!me)throw new Error("An unknown error occurred whilst processing the image.");return me},V=n.__addimage__.convertBase64ToBinaryString=function(A,P){P="boolean"!=typeof P||P;var N,te="";if("string"==typeof A){var me;N=null!==(me=X(A))&&void 0!==me?me:A;try{te=U2(N)}catch(Ae){if(P)throw F(N)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return te};n.getImageProperties=function(A){var P,N,te="";if(m(A)&&(A=p(A)),"string"==typeof A&&i(A)===t&&(""===(te=V(A,!1))&&(te=n.loadFile(A)||""),A=te),N=i(A),!d(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(A instanceof Uint8Array||(A=z(A)),!(P=this["process"+N.toUpperCase()](A)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=N,P}}(Ct.API),
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(t){if(void 0!==t&&""!=t)return!0};Ct.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((r=c[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(0!=u){this.internal.write("/Annots [");for(var m=0;m<c.length;m++){r=c[m];var p=this.internal.pdfEscape,b=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(w.objId),k=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(C(r.contents))+")",o+=" /Popup "+E.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+p(C(k))+") >>",w.content=o;var B=w.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+B,r.open&&(o+=" /Open true"),E.content=o+=" >>",this.internal.write(w.objId,"0 R",E.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var F=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(b(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",o+=" /Border [0 0 0]",this.internal.write(o+=" >>");break;case"link":if(r.options.name){var X=this.annotations._nameMap[r.options.name];r.options.pageNumber=X.page,r.options.top=X.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var se=a(r.options.top);r.options.left=r.options.left||0,void 0===r.options.zoom&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+se+" "+r.options.zoom+"]"}""!=o&&this.internal.write(o+=" >>")}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(r),w:l(t+i),h:c(r+o)},options:s,type:"link"})},n.textWithLink=function(t,r,i,o){var s,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==o.maxWidth){var u=this.splitTextToSize(t,a=o.maxWidth).length;s=Math.ceil(c*u)}else a=l,s=c;return this.text(t,r,i,o),"center"===o.align&&(r-=l/2),"right"===o.align&&(r-=l),this.link(r,(i+=.2*c)-c,a,s,o),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(Ct.API),
/**
         * @license
         * Copyright (c) 2017 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(w){return void 0!==e[w.charCodeAt(0)]},s=n.__arabicParser__.isArabicLetter=function(w){return"string"==typeof w&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},a=n.__arabicParser__.isArabicEndLetter=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(w){return s(w)&&i.indexOf(w.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length>=3};var u=n.__arabicParser__.arabicLetterHasMedialForm=function(w){return s(w)&&o(w)&&4==e[w.charCodeAt(0)].length},d=n.__arabicParser__.resolveLigatures=function(w){var E=0,C=t,k="",B=0;for(E=0;E<w.length;E+=1)void 0!==C[w.charCodeAt(E)]?(B++,"number"==typeof(C=C[w.charCodeAt(E)])&&(k+=String.fromCharCode(C),C=t,B=0),E===w.length-1&&(C=t,k+=w.charAt(E-(B-1)),E-=B-1,B=0)):(C=t,k+=w.charAt(E-B),E-=B,B=0);return k};n.__arabicParser__.isArabicDiacritic=function(w){return void 0!==w&&void 0!==r[w.charCodeAt(0)]};var m=n.__arabicParser__.getCorrectForm=function(w,E,C){return s(w)?!1===o(w)?-1:!c(w)||!s(E)&&!s(C)||!s(C)&&a(E)||a(w)&&!s(E)||a(w)&&l(E)||a(w)&&a(E)?0:u(w)&&s(E)&&!a(E)&&s(C)&&c(C)?3:a(w)||!s(C)?1:2:-1},p=function(w){var E=0,C=0,k=0,B="",F="",X="",se=(w=w||"").split("\\s+"),z=[];for(E=0;E<se.length;E+=1){for(z.push(""),C=0;C<se[E].length;C+=1)F=se[E][C-1],X=se[E][C+1],s(B=se[E][C])?(k=m(B,F,X),z[E]+=-1!==k?String.fromCharCode(e[B.charCodeAt(0)][k]):B):z[E]+=B;z[E]=d(z[E])}return z.join(" ")},b=n.__arabicParser__.processArabic=n.processArabic=function(){var w,E="string"==typeof arguments[0]?arguments[0]:arguments[0].text,C=[];if(Array.isArray(E)){var k=0;for(C=[],k=0;k<E.length;k+=1)Array.isArray(E[k])?C.push([p(E[k][0]),E[k][1],E[k][2]]):C.push([p(E[k])]);w=C}else w=p(E);return"string"==typeof arguments[0]?w:(arguments[0].text=w,arguments[0])};n.events.push(["preProcessText",b])}(Ct.API),Ct.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform","javascript"===n.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||!1===Number.isInteger(a)||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||!1===Number.isInteger(a)||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if("2d"!==(t=t||"2d"))return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ct.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(w){l=w}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(w){m=w}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(w){b=w}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof l?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),m=c.scaleFactor||this.internal.scaleFactor,p=0,b=0,w=0,E=this;if(!Array.isArray(l)&&"string"!=typeof l){if("number"!=typeof l)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var C=c.maxWidth;C>0?"string"==typeof l?l=this.splitTextToSize(l,C):"[object Array]"===Object.prototype.toString.call(l)&&(l=l.reduce(function(B,F){return B.concat(E.splitTextToSize(F,C))},[])):l=Array.isArray(l)?l:[l];for(var k=0;k<l.length;k++)p<(w=this.getStringUnitWidth(l[k],{font:d})*u)&&(p=w);return 0!==p&&(b=l.length),{w:p/=m,h:Math.max((b*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/m,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=n.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return void 0!==c.lineNumber&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,p&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=c.y+c.height||l.y),void 0!==l.text[0]&&(this.rect(l.x,l.y,l.width,l.height,!0===t?"FD":void 0),"right"===l.align?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):"center"===l.align?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,u,d,m){if(r.call(this),!u)throw new Error("No data for PDF table.");var p,b,w,E,C=[],k=[],B=[],F={},X={},se=[],z=[],x=(m=m||{}).autoSize||!1,S=!1!==m.printHeaders,V=m.css&&void 0!==m.css["font-size"]?16*m.css["font-size"]:m.fontSize||12,A=m.margins||Object.assign({width:this.getPageWidth()},e),P="number"==typeof m.padding?m.padding:3,N=m.headerBackgroundColor||"#c8c8c8",te=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=V,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=N,this.internal.__cell__.headerTextColor=te,this.setFontSize(V),null==d)k=C=Object.keys(u[0]),B=C.map(function(){return"left"});else if(Array.isArray(d)&&"object"===Kn(d[0]))for(C=d.map(function(Ge){return Ge.name}),k=d.map(function(Ge){return Ge.prompt||Ge.name||""}),B=d.map(function(Ge){return Ge.align||"left"}),p=0;p<d.length;p+=1)X[d[p].name]=.7499990551181103*d[p].width;else Array.isArray(d)&&"string"==typeof d[0]&&(k=C=d,B=C.map(function(){return"left"}));if(x||Array.isArray(d)&&"string"==typeof d[0])for(p=0;p<C.length;p+=1){for(F[E=C[p]]=u.map(function(Ge){return Ge[E]}),this.setFont(void 0,"bold"),se.push(this.getTextDimensions(k[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=F[E],this.setFont(void 0,"normal"),w=0;w<b.length;w+=1)se.push(this.getTextDimensions(b[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);X[E]=Math.max.apply(null,se)+P+P,se=[]}if(S){var me={};for(p=0;p<C.length;p+=1)me[C[p]]={},me[C[p]].text=k[p],me[C[p]].align=B[p];var Ae=a.call(this,me,X);z=C.map(function(Ge){return new o(l,c,X[Ge],Ae,me[Ge].text,void 0,me[Ge].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var Ce=d.reduce(function(Ge,Oe){return Ge[Oe.name]=Oe.align,Ge},{});for(p=0;p<u.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:u[p]},this);var ge=a.call(this,u[p],X);for(w=0;w<C.length;w+=1){var Te=u[p][C[w]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:w,data:Te},this),s.call(this,new o(l,c,X[C[w]],ge,Te,p+2,Ce[C[w]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(p){var b=l[p];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,c[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*d/m+u+u},this).reduce(function(p,b){return Math.max(p,b)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,"function"==typeof this.internal.__cell__.headerFunction){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,m.push(u)),u.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(b)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),t=!1}}(Ct.API);var U$={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},B$=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ZP=V$(B$),j$=[100,200,300,400,500,600,700,800,900],cye=V$(j$);function JP(n){var o,e=n.family.replace(/"|'/g,"").toLowerCase(),t=U$[o=(o=n.style)||"normal"]?o:"normal",r=function(o){return o?"number"==typeof o?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):"bold"===o?700:400:400}(n.weight),i=function(o){return"number"==typeof ZP[o=o||"normal"]?o:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function z$(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var uye={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},$$={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function q$(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function G$(n){return n.trimLeft()}function dye(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function hye(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===e?null:[e[0],n.substring(e[0].length)]}var K2,H$,W$,wg,Q2,K$,Q$,Y$,XP=["times"];function Z$(n,e,t,r,i){var o=4,s=X$;switch(i){case Ct.API.image_compression.FAST:o=1,s=J$;break;case Ct.API.image_compression.MEDIUM:o=6,s=eq;break;case Ct.API.image_compression.SLOW:o=9,s=tq}var a=bv(n=function(l,c,u,d){for(var m,p=l.length/c,b=new Uint8Array(l.length+p),w=[fye,J$,X$,eq,tq],E=0;E<p;E+=1){var C=E*c,k=l.subarray(C,C+c);if(d)b.set(d(k,u,m),C+E);else{for(var B=w.length,F=[],X=0;X<B;X+=1)F[X]=w[X](k,u,m);var se=gye(F.concat());b.set(F[se],C+E)}m=k}return b}(n,e,Math.ceil(t*r/8),s),{level:o});return Ct.API.__addimage__.arrayBufferToBinaryString(a)}function fye(n){var e=Array.apply([],n);return e.unshift(0),e}function J$(n,e){var t=n.length,r=[];r[0]=1;for(var i=0;i<t;i+=1)r[i+1]=n[i]-(n[i-e]||0)+256&255;return r}function X$(n,e,t){var r=n.length,i=[];i[0]=2;for(var o=0;o<r;o+=1)i[o+1]=n[o]-(t&&t[o]||0)+256&255;return i}function eq(n,e,t){var r=n.length,i=[];i[0]=3;for(var o=0;o<r;o+=1)i[o+1]=n[o]+256-((n[o-e]||0)+(t&&t[o]||0)>>>1)&255;return i}function tq(n,e,t){var r=n.length,i=[];i[0]=4;for(var o=0;o<r;o+=1){var s=pye(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);i[o+1]=n[o]-s+256&255}return i}function pye(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),i=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=i&&r<=o?n:i<=o?e:t}function gye(n){var e=n.map(function(t){return t.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function eM(n,e,t){var r=e*t,i=Math.floor(r/8),o=16-(r-8*i+t),s=(1<<t)-1;return rq(n,i)>>o&s}function nq(n,e,t,r){var c,u,d,i=t*r,o=Math.floor(i/8),s=16-(i-8*o+r),a=(1<<r)-1,l=(e&a)<<s;c=n,u=o,d=rq(n,o)&~(a<<s)&65535|l,u+1<c.byteLength?c.setUint16(u,d,!1):c.setUint8(u,d>>8&255)}function rq(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function mye(n){var e=0;if(71!==n[e++]||73!==n[e++]||70!==n[e++]||56!==n[e++]||56!=(n[e++]+1&253)||97!==n[e++])throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=1<<1+(7&i);e++,e++;var a=null,l=null;i>>7&&(a=e,l=s,e+=3*s);var c=!0,u=[],d=0,m=null,p=0,b=null;for(this.width=t,this.height=r;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(11!==n[e]||78==n[e+1]&&69==n[e+2]&&84==n[e+3]&&83==n[e+4]&&67==n[e+5]&&65==n[e+6]&&80==n[e+7]&&69==n[e+8]&&50==n[e+9]&&46==n[e+10]&&48==n[e+11]&&3==n[e+12]&&1==n[e+13]&&0==n[e+16])e+=14,b=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((A=n[e++])>=0))throw Error("Invalid block size");if(0===A)break;e+=A}break;case 249:if(4!==n[e++]||0!==n[e+4])throw new Error("Invalid graphics extension block.");var w=n[e++];d=n[e++]|n[e++]<<8,m=n[e++],1&w||(m=null),p=w>>2&7,e++;break;case 254:for(;;){if(!((A=n[e++])>=0))throw Error("Invalid block size");if(0===A)break;e+=A}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var E=n[e++]|n[e++]<<8,C=n[e++]|n[e++]<<8,k=n[e++]|n[e++]<<8,B=n[e++]|n[e++]<<8,F=n[e++],X=F>>6&1,se=1<<1+(7&F),z=a,x=l,S=!1;F>>7&&(S=!0,z=e,x=se,e+=3*se);var V=e;for(e++;;){var A;if(!((A=n[e++])>=0))throw Error("Invalid block size");if(0===A)break;e+=A}u.push({x:E,y:C,width:k,height:B,has_local_palette:S,palette_offset:z,palette_size:x,data_offset:V,data_length:e-V,transparent_index:m,interlaced:!!X,delay:d,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return b},this.frameInfo=function(P){if(P<0||P>=u.length)throw new Error("Frame index out of range.");return u[P]},this.decodeAndBlitFrameBGRA=function(P,N){var te=this.frameInfo(P),me=te.width*te.height,Ae=new Uint8Array(me);iq(n,te.data_offset,Ae,me);var Ce=te.palette_offset,ge=te.transparent_index;null===ge&&(ge=256);var Te=te.width,Ge=t-Te,Oe=Te,U=4*(te.y*t+te.x),K=4*((te.y+te.height)*t+te.x),ee=U,re=4*Ge;!0===te.interlaced&&(re+=4*t*7);for(var le=8,de=0,be=Ae.length;de<be;++de){var Ee=Ae[de];if(0===Oe&&(Oe=Te,(ee+=re)>=K&&(re=4*Ge+4*t*(le-1),ee=U+(Te+Ge)*(le<<1),le>>=1)),Ee===ge)ee+=4;else{var Pe=n[Ce+3*Ee],De=n[Ce+3*Ee+1];N[ee++]=n[Ce+3*Ee+2],N[ee++]=De,N[ee++]=Pe,N[ee++]=255}--Oe}},this.decodeAndBlitFrameRGBA=function(P,N){var te=this.frameInfo(P),me=te.width*te.height,Ae=new Uint8Array(me);iq(n,te.data_offset,Ae,me);var Ce=te.palette_offset,ge=te.transparent_index;null===ge&&(ge=256);var Te=te.width,Ge=t-Te,Oe=Te,U=4*(te.y*t+te.x),K=4*((te.y+te.height)*t+te.x),ee=U,re=4*Ge;!0===te.interlaced&&(re+=4*t*7);for(var le=8,de=0,be=Ae.length;de<be;++de){var Ee=Ae[de];if(0===Oe&&(Oe=Te,(ee+=re)>=K&&(re=4*Ge+4*t*(le-1),ee=U+(Te+Ge)*(le<<1),le>>=1)),Ee===ge)ee+=4;else{var De=n[Ce+3*Ee+1],Ze=n[Ce+3*Ee+2];N[ee++]=n[Ce+3*Ee],N[ee++]=De,N[ee++]=Ze,N[ee++]=255}--Oe}}}function iq(n,e,t,r){for(var i=n[e++],o=1<<i,s=o+1,a=s+1,l=i+1,c=(1<<l)-1,u=0,d=0,m=0,p=n[e++],b=new Int32Array(4096),w=null;;){for(;u<16&&0!==p;)d|=n[e++]<<u,u+=8,1===p?p=n[e++]:--p;if(u<l)break;var E=d&c;if(d>>=l,u-=l,E!==o){if(E===s)break;for(var C=E<a?E:w,k=0,B=C;B>o;)B=b[B]>>8,++k;var F=B;if(m+k+(C!==E?1:0)>r)return void ar.log("Warning, gif stream longer than expected.");t[m++]=F;var X=m+=k;for(C!==E&&(t[m++]=F),B=C;k--;)t[--X]=255&(B=b[B]),B>>=8;null!==w&&a<4096&&(b[a++]=w<<8|F,a>=c+1&&l<12&&(++l,c=c<<1|1)),w=E}else a=s+1,c=(1<<(l=i+1))-1,w=null}return m!==r&&ar.log("Warning, gif stream shorter than expected."),t}function tM(n){var e,t,r,i,o,s=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),m=new Array(65535),p=new Array(64),b=new Array(64),w=[],E=0,C=7,k=new Array(64),B=new Array(64),F=new Array(64),X=new Array(256),se=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],x=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],me=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ae(U,K){for(var ee=0,re=0,le=new Array,de=1;de<=16;de++){for(var be=1;be<=U[de];be++)le[K[re]]=[],le[K[re]][0]=ee,le[K[re]][1]=de,re++,ee++;ee*=2}return le}function Ce(U){for(var K=U[0],ee=U[1]-1;ee>=0;)K&1<<ee&&(E|=1<<C),ee--,--C<0&&(255==E?(ge(255),ge(0)):ge(E),C=7,E=0)}function ge(U){w.push(U)}function Te(U){ge(U>>8&255),ge(255&U)}function Ge(U,K,ee,re,le){for(var de,be=le[0],Ee=le[240],Pe=function($e,mt){var et,jt,Et,cn,Mt,Ot,Wt,yt,pt,Nt,bt=0;for(pt=0;pt<8;++pt){var Vn=(et=$e[bt])+(yt=$e[bt+7]),pn=et-yt,He=(jt=$e[bt+1])+(Wt=$e[bt+6]),At=jt-Wt,Kt=(Et=$e[bt+2])+(Ot=$e[bt+5]),Tt=Et-Ot,rn=(cn=$e[bt+3])+(Mt=$e[bt+4]),wt=cn-Mt,jn=Vn+rn,Er=Vn-rn,En=He+Kt,Rt=He-Kt;$e[bt]=jn+En,$e[bt+4]=jn-En;var vn=.707106781*(Rt+Er);$e[bt+2]=Er+vn,$e[bt+6]=Er-vn;var ro=.382683433*((jn=wt+Tt)-(Rt=At+pn)),Kr=.5411961*jn+ro,Co=1.306562965*Rt+ro,zi=.707106781*(En=Tt+At),xt=pn+zi,fa=pn-zi;$e[bt+5]=fa+Kr,$e[bt+3]=fa-Kr,$e[bt+1]=xt+Co,$e[bt+7]=xt-Co,bt+=8}for(bt=0,pt=0;pt<8;++pt){var Cr=(et=$e[bt])+(yt=$e[bt+56]),$o=et-yt,$i=(jt=$e[bt+8])+(Wt=$e[bt+48]),er=jt-Wt,bi=(Et=$e[bt+16])+(Ot=$e[bt+40]),Di=Et-Ot,ds=(cn=$e[bt+24])+(Mt=$e[bt+32]),Ml=cn-Mt,Fs=Cr+ds,qo=Cr-ds,hs=$i+bi,Go=$i-bi;$e[bt]=Fs+hs,$e[bt+32]=Fs-hs;var io=.707106781*(Go+qo);$e[bt+16]=qo+io,$e[bt+48]=qo-io;var Ao=.382683433*((Fs=Ml+Di)-(Go=er+$o)),Vs=.5411961*Fs+Ao,Nl=1.306562965*Go+Ao,Rl=.707106781*(hs=Di+er),kl=$o+Rl,Pc=$o-Rl;$e[bt+40]=Pc+Vs,$e[bt+24]=Pc-Vs,$e[bt+8]=kl+Nl,$e[bt+56]=kl-Nl,bt++}for(pt=0;pt<64;++pt)p[pt]=(Nt=$e[pt]*mt[pt])>0?Nt+.5|0:Nt-.5|0;return p}(U,K),De=0;De<64;++De)b[z[De]]=Pe[De];var Ze=b[0]-ee;ee=b[0],0==Ze?Ce(re[0]):(Ce(re[m[de=32767+Ze]]),Ce(d[de]));for(var Ye=63;Ye>0&&0==b[Ye];)Ye--;if(0==Ye)return Ce(be),ee;for(var Se,J=1;J<=Ye;){for(var ln=J;0==b[J]&&J<=Ye;)++J;var Bt=J-ln;if(Bt>=16){Se=Bt>>4;for(var Dt=1;Dt<=Se;++Dt)Ce(Ee);Bt&=15}Ce(le[(Bt<<4)+m[de=32767+b[J]]]),Ce(d[de]),J++}return 63!=Ye&&Ce(be),ee}function Oe(U){U=Math.min(Math.max(U,1),100),o!=U&&(function(K){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var le=s((ee[re]*K+50)/100);le=Math.min(Math.max(le,1),255),a[z[re]]=le}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var Ee=s((de[be]*K+50)/100);Ee=Math.min(Math.max(Ee,1),255),l[z[be]]=Ee}for(var Pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],De=0,Ze=0;Ze<8;Ze++)for(var Ye=0;Ye<8;Ye++)c[De]=1/(a[z[De]]*Pe[Ze]*Pe[Ye]*8),u[De]=1/(l[z[De]]*Pe[Ze]*Pe[Ye]*8),De++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),o=U)}this.encode=function(U,K){var jt,Et;K&&Oe(K),w=new Array,E=0,C=7,Te(65496),Te(65504),Te(16),ge(74),ge(70),ge(73),ge(70),ge(0),ge(1),ge(1),ge(0),Te(1),Te(1),ge(0),ge(0),function(){Te(65499),Te(132),ge(0);for(var jt=0;jt<64;jt++)ge(a[jt]);ge(1);for(var Et=0;Et<64;Et++)ge(l[Et])}(),jt=U.width,Et=U.height,Te(65472),Te(17),ge(8),Te(Et),Te(jt),ge(3),ge(1),ge(17),ge(0),ge(2),ge(17),ge(1),ge(3),ge(17),ge(1),function(){Te(65476),Te(418),ge(0);for(var jt=0;jt<16;jt++)ge(x[jt+1]);for(var Et=0;Et<=11;Et++)ge(S[Et]);ge(16);for(var cn=0;cn<16;cn++)ge(V[cn+1]);for(var Mt=0;Mt<=161;Mt++)ge(A[Mt]);ge(1);for(var Ot=0;Ot<16;Ot++)ge(P[Ot+1]);for(var Wt=0;Wt<=11;Wt++)ge(N[Wt]);ge(17);for(var yt=0;yt<16;yt++)ge(te[yt+1]);for(var pt=0;pt<=161;pt++)ge(me[pt])}(),Te(65498),Te(12),ge(3),ge(1),ge(0),ge(2),ge(17),ge(3),ge(17),ge(0),ge(63),ge(0);var ee=0,re=0,le=0;E=0,C=7,this.encode.displayName="_encode_";for(var de,be,Ee,Pe,De,Ze,Ye,Se,J,ln=U.data,Dt=U.height,$e=4*U.width,mt=0;mt<Dt;){for(de=0;de<$e;){for(De=$e*mt+de,Ye=-1,Se=0,J=0;J<64;J++)Ze=De+(Se=J>>3)*$e+(Ye=4*(7&J)),mt+Se>=Dt&&(Ze-=$e*(mt+1+Se-Dt)),de+Ye>=$e&&(Ze-=de+Ye-$e+4),be=ln[Ze++],Ee=ln[Ze++],Pe=ln[Ze++],k[J]=(se[be]+se[Ee+256|0]+se[Pe+512|0]>>16)-128,B[J]=(se[be+768|0]+se[Ee+1024|0]+se[Pe+1280|0]>>16)-128,F[J]=(se[be+1280|0]+se[Ee+1536|0]+se[Pe+1792|0]>>16)-128;ee=Ge(k,c,ee,e,r),re=Ge(B,u,re,t,i),le=Ge(F,u,le,t,i),de+=32}mt+=8}if(C>=0){var et=[];et[1]=C+1,et[0]=(1<<C+1)-1,Ce(et)}return Te(65497),new Uint8Array(w)},n=n||50,function(){for(var U=String.fromCharCode,K=0;K<256;K++)X[K]=U(K)}(),e=Ae(x,S),t=Ae(P,N),r=Ae(V,A),i=Ae(te,me),function(){for(var U=1,K=2,ee=1;ee<=15;ee++){for(var re=U;re<K;re++)m[32767+re]=ee,d[32767+re]=[],d[32767+re][1]=ee,d[32767+re][0]=re;for(var le=-(K-1);le<=-U;le++)m[32767+le]=ee,d[32767+le]=[],d[32767+le][1]=ee,d[32767+le][0]=K-1+le;U<<=1,K<<=1}}(),function(){for(var U=0;U<256;U++)se[U]=19595*U,se[U+256|0]=38470*U,se[U+512|0]=7471*U+32768,se[U+768|0]=-11059*U,se[U+1024|0]=-21709*U,se[U+1280|0]=32768*U+8421375,se[U+1536|0]=-27439*U,se[U+1792|0]=-5329*U}(),Oe(n)}function Ba(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function oq(n){function e(S){if(!S)throw Error("assert :P")}function t(S,V,A){for(var P=0;4>P;P++)if(S[V+P]!=A.charCodeAt(P))return!0;return!1}function r(S,V,A,P,N){for(var te=0;te<N;te++)S[V+te]=A[P+te]}function i(S,V,A,P){for(var N=0;N<P;N++)S[V+N]=A}function o(S){return new Int32Array(S)}function s(S,V){for(var A=[],P=0;P<S;P++)A.push(new V);return A}function a(S,V){var A=[];return function P(N,te,me){for(var Ae=me[te],Ce=0;Ce<Ae&&(N.push(me.length>te+1?[]:new V),!(me.length<te+1));Ce++)P(N[Ce],te+1,me)}(A,0,S),A}var l=function(){var S=this;function V(h,g){for(var v=1<<g-1>>>0;h&v;)v>>>=1;return v?(h&v-1)+v:h}function A(h,g,v,I,O){e(!(I%v));do{h[g+(I-=v)]=O}while(0<I)}function P(h,g,v,I,O){if(e(2328>=O),512>=O)var L=o(512);else if(null==(L=o(O)))return 0;return function(j,q,H,Y,oe,ve){var Z,ae,he=q,xe=1<<H,_e=o(16),Ne=o(16);for(e(0!=oe),e(null!=Y),e(null!=j),e(0<H),ae=0;ae<oe;++ae){if(15<Y[ae])return 0;++_e[Y[ae]]}if(_e[0]==oe)return 0;for(Ne[1]=0,Z=1;15>Z;++Z){if(_e[Z]>1<<Z)return 0;Ne[Z+1]=Ne[Z]+_e[Z]}for(ae=0;ae<oe;++ae)Z=Y[ae],0<Y[ae]&&(ve[Ne[Z]++]=ae);if(1==Ne[15])return(Y=new N).g=0,Y.value=ve[0],A(j,he,1,xe,Y),xe;var Re,qe=-1,Ue=xe-1,St=0,ct=1,un=1,_t=1<<H;for(ae=0,Z=1,oe=2;Z<=H;++Z,oe<<=1){if(ct+=un<<=1,0>(un-=_e[Z]))return 0;for(;0<_e[Z];--_e[Z])(Y=new N).g=Z,Y.value=ve[ae++],A(j,he+St,oe,_t,Y),St=V(St,Z)}for(Z=H+1,oe=2;15>=Z;++Z,oe<<=1){if(ct+=un<<=1,0>(un-=_e[Z]))return 0;for(;0<_e[Z];--_e[Z]){if(Y=new N,(St&Ue)!=qe){for(he+=_t,Re=1<<(qe=Z)-H;15>qe&&!(0>=(Re-=_e[qe]));)++qe,Re<<=1;xe+=_t=1<<(Re=qe-H),j[q+(qe=St&Ue)].g=Re+H,j[q+qe].value=he-q-qe}Y.g=Z-H,Y.value=ve[ae++],A(j,he+(St>>H),oe,_t,Y),St=V(St,Z)}}return ct!=2*Ne[15]-1?0:xe}(h,g,v,I,O,L)}function N(){this.value=this.g=0}function te(){this.value=this.g=0}function me(){this.G=s(5,N),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s($h,te)}function Ae(h,g,v,I){e(null!=h),e(null!=g),e(2147483648>I),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=g,h.pa=v,h.Jd=g,h.Yc=v+I,h.Zc=4<=I?v+I-4+1:v,be(h)}function Ce(h,g){for(var v=0;0<g--;)v|=Pe(h,128)<<g;return v}function ge(h,g){var v=Ce(h,g);return Ee(h)?-v:v}function Te(h,g,v,I){var O,L=0;for(e(null!=h),e(null!=g),e(4294967288>I),h.Sb=I,h.Ra=0,h.u=0,h.h=0,4<I&&(I=4),O=0;O<I;++O)L+=g[v+O]<<8*O;h.Ra=L,h.bb=I,h.oa=g,h.pa=v}function Ge(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<id-8>>>0,++h.bb,h.u-=8;re(h)&&(h.h=1,h.u=0)}function Oe(h,g){if(e(0<=g),!h.h&&g<=$s){var v=ee(h)&zs[g];return h.u+=g,Ge(h),v}return h.h=1,h.u=0}function U(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(h){return h.Ra>>>(h.u&id-1)>>>0}function re(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>id}function le(h,g){h.u=g,h.h=re(h)}function de(h){h.u>=Gc&&(e(h.u>=Gc),Ge(h))}function be(h){e(null!=h&&null!=h.oa),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(null!=h&&null!=h.oa),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function Ee(h){return Ce(h,1)}function Pe(h,g){var v=h.Ca;0>h.b&&be(h);var I=h.b,O=v*g>>>8,L=(h.I>>>I>O)+0;for(L?(v-=O,h.I-=O+1<<I>>>0):v=O+1,I=v,O=0;256<=I;)O+=8,I>>=8;return h.b-=I=7^O+od[I],h.Ca=(v<<I)-1,L}function De(h,g,v){h[g+0]=v>>24&255,h[g+1]=v>>16&255,h[g+2]=v>>8&255,h[g+3]=255&v}function Ze(h,g){return h[g+0]|h[g+1]<<8}function Ye(h,g){return Ze(h,g)|h[g+2]<<16}function Se(h,g){return Ze(h,g)|Ze(h,g+2)<<16}function J(h,g){var v=1<<g;return e(null!=h),e(0<g),h.X=o(v),null==h.X?0:(h.Mb=32-g,h.Xa=g,1)}function ln(h,g){e(null!=h),e(null!=g),e(h.Xa==g.Xa),r(g.X,0,h.X,0,1<<g.Xa)}function Bt(){this.X=[],this.Xa=this.Mb=0}function Dt(h,g,v,I){e(null!=v),e(null!=I);var O=v[0],L=I[0];return 0==O&&(O=(h*L+g/2)/g),0==L&&(L=(g*O+h/2)/h),0>=O||0>=L?0:(v[0]=O,I[0]=L,1)}function $e(h,g){return h+(1<<g)-1>>>g}function mt(h,g){return((4278255360&h)+(4278255360&g)>>>0&4278255360)+((16711935&h)+(16711935&g)>>>0&16711935)>>>0}function et(h,g){S[g]=function(v,I,O,L,j,q,H){var Y;for(Y=0;Y<j;++Y){var oe=S[h](q[H+Y-1],O,L+Y);q[H+Y]=mt(v[I+Y],oe)}}}function jt(){this.ud=this.hd=this.jd=0}function Et(h,g){return((4278124286&(h^g))>>>1)+(h&g)>>>0}function cn(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function Mt(h,g){return cn(h+(h-g+.5>>1))}function Ot(h,g,v){return Math.abs(g-v)-Math.abs(h-v)}function Wt(h,g,v,I,O,L,j){for(I=L[j-1],v=0;v<O;++v)L[j+v]=I=mt(h[g+v],I)}function yt(h,g,v,I,O){var L;for(L=0;L<v;++L){var j=h[g+L],q=j>>8&255,H=16711935&(H=(H=16711935&j)+((q<<16)+q));I[O+L]=(4278255360&j)+H>>>0}}function pt(h,g){g.jd=255&h,g.hd=h>>8&255,g.ud=h>>16&255}function Nt(h,g,v,I,O,L){var j;for(j=0;j<I;++j){var q=g[v+j],H=q>>>8,Y=q,oe=255&(oe=(oe=q>>>16)+((h.jd<<24>>24)*(H<<24>>24)>>>5));Y=255&(Y=(Y+=(h.hd<<24>>24)*(H<<24>>24)>>>5)+((h.ud<<24>>24)*(oe<<24>>24)>>>5)),O[L+j]=(4278255360&q)+(oe<<16)+Y}}function bt(h,g,v,I,O){S[g]=function(L,j,q,H,Y,oe,ve,Z,ae){for(H=ve;H<Z;++H)for(ve=0;ve<ae;++ve)Y[oe++]=O(q[I(L[j++])])},S[h]=function(L,j,q,H,Y,oe,ve){var Z=8>>L.b,ae=L.Ea,he=L.K[0],xe=L.w;if(8>Z)for(L=(1<<L.b)-1,xe=(1<<Z)-1;j<q;++j){var _e,Ne=0;for(_e=0;_e<ae;++_e)_e&L||(Ne=I(H[Y++])),oe[ve++]=O(he[Ne&xe]),Ne>>=Z}else S["VP8LMapColor"+v](H,Y,he,xe,oe,ve,j,q,ae)}}function Vn(h,g,v,I,O){for(v=g+v;g<v;){var L=h[g++];I[O++]=L>>16&255,I[O++]=L>>8&255,I[O++]=255&L}}function pn(h,g,v,I,O){for(v=g+v;g<v;){var L=h[g++];I[O++]=L>>16&255,I[O++]=L>>8&255,I[O++]=255&L,I[O++]=L>>24&255}}function He(h,g,v,I,O){for(v=g+v;g<v;){var L=(j=h[g++])>>16&240|j>>12&15,j=240&j|j>>28&15;I[O++]=L,I[O++]=j}}function At(h,g,v,I,O){for(v=g+v;g<v;){var L=(j=h[g++])>>16&248|j>>13&7,j=j>>5&224|j>>3&31;I[O++]=L,I[O++]=j}}function Kt(h,g,v,I,O){for(v=g+v;g<v;){var L=h[g++];I[O++]=255&L,I[O++]=L>>8&255,I[O++]=L>>16&255}}function Tt(h,g,v,I,O,L){if(0==L)for(v=g+v;g<v;)De(I,((L=h[g++])[0]>>24|L[1]>>8&65280|L[2]<<8&16711680|L[3]<<24)>>>0),O+=32;else r(I,O,h,g,v)}function rn(h,g){S[g][0]=S[h+"0"],S[g][1]=S[h+"1"],S[g][2]=S[h+"2"],S[g][3]=S[h+"3"],S[g][4]=S[h+"4"],S[g][5]=S[h+"5"],S[g][6]=S[h+"6"],S[g][7]=S[h+"7"],S[g][8]=S[h+"8"],S[g][9]=S[h+"9"],S[g][10]=S[h+"10"],S[g][11]=S[h+"11"],S[g][12]=S[h+"12"],S[g][13]=S[h+"13"],S[g][14]=S[h+"0"],S[g][15]=S[h+"0"]}function wt(h){return h==oM||h==sM||h==ow||h==aM}function jn(){this.eb=[],this.size=this.A=this.fb=0}function Er(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function En(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new jn,this.f.kb=new Er,this.sd=null}function Rt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function vn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ro(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Kr(h,g){var v=h.T,I=g.ba.f.RGBA,O=I.eb,L=I.fb+h.ka*I.A,j=Ea[g.ba.S],q=h.y,H=h.O,Y=h.f,oe=h.N,ve=h.ea,Z=h.W,ae=g.cc,he=g.dc,xe=g.Mc,_e=g.Nc,Ne=h.ka,Re=h.ka+h.T,qe=h.U,Ue=qe+1>>1;for(0==Ne?j(q,H,null,null,Y,oe,ve,Z,Y,oe,ve,Z,O,L,null,null,qe):(j(g.ec,g.fc,q,H,ae,he,xe,_e,Y,oe,ve,Z,O,L-I.A,O,L,qe),++v);Ne+2<Re;Ne+=2)j(q,(H+=2*h.fa)-h.fa,q,H,ae=Y,he=oe,xe=ve,_e=Z,Y,oe+=h.Rc,ve,Z+=h.Rc,O,(L+=2*I.A)-I.A,O,L,qe);return H+=h.fa,h.j+Re<h.o?(r(g.ec,g.fc,q,H,qe),r(g.cc,g.dc,Y,oe,Ue),r(g.Mc,g.Nc,ve,Z,Ue),v--):1&Re||j(q,H,null,null,Y,oe,ve,Z,Y,oe,ve,Z,O,L+I.A,null,null,qe),v}function Co(h,g,v){var I=h.F,O=[h.J];if(null!=I){var L=h.U,j=g.ba.S,q=j==iw||j==ow;g=g.ba.f.RGBA;var H=[0],Y=h.ka;H[0]=h.T,h.Kb&&(0==Y?--H[0]:(--Y,O[0]-=h.width),h.j+h.ka+h.T==h.o&&(H[0]=h.o-h.j-Y));var oe=g.eb;h=Cq(I,O[0],h.width,L,H,oe,(Y=g.fb+Y*g.A)+(q?0:3),g.A),e(v==H),h&&wt(j)&&n1(oe,Y,q,L,H,g.A)}return 0}function zi(h){var g=h.ma,v=g.ba.S,I=11>v,O=v==nw||v==rw||v==iw||v==iM||12==v||wt(v);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!qc(g.Oa,h,O?11:12))return 0;if(O&&wt(v)&&zh(),h.da)alert("todo:use_scaling");else{if(I){if(g.Ib=ro,h.Kb){if(g.memory=o(h.U+2*(v=h.U+1>>1)),null==g.memory)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+h.U,g.Mc=g.cc,g.Nc=g.dc+v,g.Ib=Kr,zh()}}else alert("todo:EmitYUV");O&&(g.Jb=Co,I&&oo())}if(I&&!jq){for(h=0;256>h;++h)R2e[h]=89858*(h-128)+aw>>sw,L2e[h]=-22014*(h-128)+aw,O2e[h]=-45773*(h-128),k2e[h]=113618*(h-128)+aw>>sw;for(h=i1;h<uM;++h)F2e[h-i1]=Pt(g=76283*(h-16)+aw>>sw,255),V2e[h-i1]=Pt(g+8>>4,15);jq=1}return 1}function xt(h){var g=h.ma,v=h.U,I=h.T;return e(!(1&h.ka)),0>=v||0>=I?0:(v=g.Ib(h,g),null!=g.Jb&&g.Jb(h,g,v),g.Dc+=v,1)}function fa(h){h.ma.memory=null}function Cr(h,g,v,I){return 47!=Oe(h,8)?0:(g[0]=Oe(h,14)+1,v[0]=Oe(h,14)+1,I[0]=Oe(h,1),0!=Oe(h,3)?0:!h.h)}function $o(h,g){if(4>h)return h+1;var v=h-2>>1;return(2+(1&h)<<v)+Oe(g,v)+1}function $i(h,g){return 120<g?g-120:1<=(v=((v=y2e[g-1])>>4)*h+(8-(15&v)))?v:1;var v}function er(h,g,v){var I=ee(v),O=h[g+=255&I].g-8;return 0<O&&(le(v,v.u+8),I=ee(v),g+=h[g].value,g+=I&(1<<O)-1),le(v,v.u+h[g].g),h[g].value}function bi(h,g,v){return v.g+=h.g,v.value+=h.value<<g>>>0,e(8>=v.g),h.g}function Di(h,g,v){var I=h.xc;return e((g=0==I?0:h.vc[h.md*(v>>I)+(g>>I)])<h.Wb),h.Ya[g]}function ds(h,g,v,I){var O=h.ab,L=h.c*g,j=h.C;g=j+g;var q=v,H=I;for(I=h.Ta,v=h.Ua;0<O--;){var Y=h.gc[O],oe=j,ve=g,Z=q,ae=H,he=(H=I,q=v,Y.Ea);switch(e(oe<ve),e(ve<=Y.nc),Y.hc){case 2:di(Z,ae,(ve-oe)*he,H,q);break;case 0:var xe=oe,_e=ve,Ne=H,Re=q,qe=(_t=Y).Ea;0==xe&&(Yv(Z,ae,null,null,1,Ne,Re),Wt(Z,ae+1,0,0,qe-1,Ne,Re+1),ae+=qe,Re+=qe,++xe);for(var Ue=1<<_t.b,St=Ue-1,ct=$e(qe,_t.b),un=_t.K,_t=_t.w+(xe>>_t.b)*ct;xe<_e;){var Cn=un,Pi=_t,dn=1;for(Dg(Z,ae,Ne,Re-qe,1,Ne,Re);dn<qe;){var vt=(dn&~St)+Ue;vt>qe&&(vt=qe),(0,Jv[Cn[Pi++]>>8&15])(Z,ae+ +dn,Ne,Re+dn-qe,vt-dn,Ne,Re+dn),dn=vt}ae+=qe,Re+=qe,++xe&St||(_t+=ct)}ve!=Y.nc&&r(H,q-he,H,q+(ve-oe-1)*he,he);break;case 1:for(he=Z,_e=ae,qe=(Z=Y.Ea)-(Re=Z&~(Ne=(ae=1<<Y.b)-1)),xe=$e(Z,Y.b),Ue=Y.K,Y=Y.w+(oe>>Y.b)*xe;oe<ve;){for(St=Ue,ct=Y,un=new jt,_t=_e+Re,Cn=_e+Z;_e<_t;)pt(St[ct++],un),Xv(un,he,_e,ae,H,q),_e+=ae,q+=ae;_e<Cn&&(pt(St[ct++],un),Xv(un,he,_e,qe,H,q),_e+=qe,q+=qe),++oe&Ne||(Y+=xe)}break;case 3:if(Z==H&&ae==q&&0<Y.b){for(_e=H,Z=he=q+(ve-oe)*he-(Re=(ve-oe)*$e(Y.Ea,Y.b)),ae=H,Ne=q,xe=[],Re=(qe=Re)-1;0<=Re;--Re)xe[Re]=ae[Ne+Re];for(Re=qe-1;0<=Re;--Re)_e[Z+Re]=xe[Re];J2(Y,oe,ve,H,he,H,q)}else J2(Y,oe,ve,Z,ae,H,q)}q=I,H=v}H!=v&&r(I,v,q,H,L)}function Ml(h,g){var v=h.V,I=h.Ba+h.c*h.C,O=g-h.C;if(e(g<=h.l.o),e(16>=O),0<O){var L=h.l,j=h.Ta,q=h.Ua,H=L.width;if(ds(h,O,v,I),O=q=[q],e((v=h.C)<(I=g)),e(L.v<L.va),I>L.o&&(I=L.o),v<L.j){var Y=L.j-v;v=L.j,O[0]+=Y*H}if(v>=I?v=0:(O[0]+=4*L.v,L.ka=v-L.j,L.U=L.va-L.v,L.T=I-v,v=1),v){if(q=q[0],11>(v=h.ca).S){var oe=v.f.RGBA,ve=(I=v.S,O=L.U,L=L.T,Y=oe.eb,oe.A),Z=L;for(oe=oe.fb+h.Ma*oe.A;0<Z--;){var ae=j,he=q,xe=O,_e=Y,Ne=oe;switch(I){case tw:e1(ae,he,xe,_e,Ne);break;case nw:sd(ae,he,xe,_e,Ne);break;case oM:sd(ae,he,xe,_e,Ne),n1(_e,Ne,0,xe,1,0);break;case Mq:qh(ae,he,xe,_e,Ne);break;case rw:Tt(ae,he,xe,_e,Ne,1);break;case sM:Tt(ae,he,xe,_e,Ne,1),n1(_e,Ne,0,xe,1,0);break;case iw:Tt(ae,he,xe,_e,Ne,0);break;case ow:Tt(ae,he,xe,_e,Ne,0),n1(_e,Ne,1,xe,1,0);break;case iM:ad(ae,he,xe,_e,Ne);break;case aM:ad(ae,he,xe,_e,Ne),Eq(_e,Ne,xe,1,0);break;case Nq:ld(ae,he,xe,_e,Ne);break;default:e(0)}q+=H,oe+=ve}h.Ma+=L}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=v.height)}}h.C=g,e(h.C<=h.i)}function Fs(h){var g;if(0<h.ua)return 0;for(g=0;g<h.Wb;++g){var v=h.Ya[g].G,I=h.Ya[g].H;if(0<v[1][I[1]+0].g||0<v[2][I[2]+0].g||0<v[3][I[3]+0].g)return 0}return 1}function qo(h,g,v,I,O,L){if(0!=h.Z){var j=h.qd,q=h.rd;for(e(null!=dd[h.Z]);g<v;++g)dd[h.Z](j,q,I,O,I,O,L),j=I,q=O,O+=L;h.qd=j,h.rd=q}}function hs(h,g){var v=h.l.ma,I=0==v.Z||1==v.Z?h.l.j:h.C;if(I=h.C<I?I:h.C,e(g<=h.l.o),g>I){var O=h.l.width,L=v.ca,j=v.tb+O*I,q=h.V,H=h.Ba+h.c*I,Y=h.gc;e(1==h.ab),e(3==Y[0].hc),zl(Y[0],I,g,q,H,L,j),qo(v,I,g,L,j,O)}h.C=h.Ma=g}function Go(h,g,v,I,O,L,j){var q=h.$/I,H=h.$%I,Y=h.m,oe=h.s,ve=v+h.$,Z=ve;O=v+I*O;var ae=v+I*L,he=280+oe.ua,xe=h.Pb?q:16777216,_e=0<oe.ua?oe.Wa:null,Ne=oe.wc,Re=ve<ae?Di(oe,H,q):null;e(h.C<L),e(ae<=O);var qe=!1;e:for(;;){for(;qe||ve<ae;){var Ue=0;if(q>=xe){var St=ve-v;e((xe=h).Pb),xe.wd=xe.m,xe.xd=St,0<xe.s.ua&&ln(xe.s.Wa,xe.s.vb),xe=q+w2e}if(H&Ne||(Re=Di(oe,H,q)),e(null!=Re),Re.Qb&&(g[ve]=Re.qb,qe=!0),!qe)if(de(Y),Re.jc){St=g;var ct=ve,un=Re.pd[ee(Ue=Y)&$h-1];e(Re.jc),256>un.g?(le(Ue,Ue.u+un.g),St[ct]=un.value,Ue=0):(le(Ue,Ue.u+un.g-256),e(256<=un.value),Ue=un.value),0==Ue&&(qe=!0)}else Ue=er(Re.G[0],Re.H[0],Y);if(Y.h)break;if(qe||256>Ue){if(!qe)if(Re.nd)g[ve]=(Re.qb|Ue<<8)>>>0;else{if(de(Y),qe=er(Re.G[1],Re.H[1],Y),de(Y),St=er(Re.G[2],Re.H[2],Y),ct=er(Re.G[3],Re.H[3],Y),Y.h)break;g[ve]=(ct<<24|qe<<16|Ue<<8|St)>>>0}if(qe=!1,++ve,++H>=I&&(H=0,++q,null!=j&&q<=L&&!(q%16)&&j(h,q),null!=_e))for(;Z<ve;)Ue=g[Z++],_e.X[(506832829*Ue&4294967295)>>>_e.Mb]=Ue}else if(280>Ue){if(Ue=$o(Ue-256,Y),St=er(Re.G[4],Re.H[4],Y),de(Y),St=$i(I,St=$o(St,Y)),Y.h)break;if(ve-v<St||O-ve<Ue)break e;for(ct=0;ct<Ue;++ct)g[ve+ct]=g[ve+ct-St];for(ve+=Ue,H+=Ue;H>=I;)H-=I,++q,null!=j&&q<=L&&!(q%16)&&j(h,q);if(e(ve<=O),H&Ne&&(Re=Di(oe,H,q)),null!=_e)for(;Z<ve;)Ue=g[Z++],_e.X[(506832829*Ue&4294967295)>>>_e.Mb]=Ue}else{if(!(Ue<he))break e;for(qe=Ue-280,e(null!=_e);Z<ve;)Ue=g[Z++],_e.X[(506832829*Ue&4294967295)>>>_e.Mb]=Ue;Ue=ve,e(!(qe>>>(St=_e).Xa)),g[Ue]=St.X[qe],qe=!0}qe||e(Y.h==re(Y))}if(h.Pb&&Y.h&&ve<O)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&ln(h.s.vb,h.s.Wa);else{if(Y.h)break e;j?.(h,q>L?L:q),h.a=0,h.$=ve-v}return 1}return h.a=3,0}function io(h){e(null!=h),h.vc=null,h.yc=null,h.Ya=null;var g=h.Wa;null!=g&&(g.X=null),h.vb=null,e(null!=h)}function Ao(){var h=new ht;return null==h?null:(h.a=0,h.xb=Oq,rn("Predictor","VP8LPredictors"),rn("Predictor","VP8LPredictors_C"),rn("PredictorAdd","VP8LPredictorsAdd"),rn("PredictorAdd","VP8LPredictorsAdd_C"),di=yt,Xv=Nt,e1=Vn,sd=pn,ad=He,ld=At,qh=Kt,S.VP8LMapColor32b=jl,S.VP8LMapColor8b=Zv,h)}function Vs(h,g,v,I,O){var L=1,j=[h],q=[g],H=I.m,Y=I.s,oe=null,ve=0;e:for(;;){if(v)for(;L&&Oe(H,1);){var Z=j,ae=q,he=I,xe=1,_e=he.m,Ne=he.gc[he.ab],Re=Oe(_e,2);if(he.Oc&1<<Re)L=0;else{switch(he.Oc|=1<<Re,Ne.hc=Re,Ne.Ea=Z[0],Ne.nc=ae[0],Ne.K=[null],++he.ab,e(4>=he.ab),Re){case 0:case 1:Ne.b=Oe(_e,3)+2,xe=Vs($e(Ne.Ea,Ne.b),$e(Ne.nc,Ne.b),0,he,Ne.K),Ne.K=Ne.K[0];break;case 3:var qe,Ue=Oe(_e,8)+1,St=16<Ue?0:4<Ue?1:2<Ue?2:3;if(Z[0]=$e(Ne.Ea,St),Ne.b=St,qe=xe=Vs(Ue,1,0,he,Ne.K)){var ct,un=Ue,_t=Ne,Cn=1<<(8>>_t.b),Pi=o(Cn);if(null==Pi)qe=0;else{var dn=_t.K[0],vt=_t.w;for(Pi[0]=_t.K[0][0],ct=1;ct<1*un;++ct)Pi[ct]=mt(dn[vt+ct],Pi[ct-1]);for(;ct<4*Cn;++ct)Pi[ct]=0;_t.K[0]=null,_t.K[0]=Pi,qe=1}}xe=qe;break;case 2:break;default:e(0)}L=xe}}if(j=j[0],q=q[0],L&&Oe(H,1)&&!(L=1<=(ve=Oe(H,4))&&11>=ve)){I.a=3;break e}var nt;if(nt=L)t:{var fi,on,Pn,Ar=I,so=j,Ho=q,Yr=ve,Do=v,Wo=Ar.m,Mi=Ar.s,Nn=[null],Zn=1,Zr=0,Jn=b2e[Yr];n:for(;;){if(Do&&Oe(Wo,1)){var ao=Oe(Wo,3)+2,Ya=$e(so,ao),pi=$e(Ho,ao),_s=Ya*pi;if(!Vs(Ya,pi,0,Ar,Nn))break n;for(Nn=Nn[0],Mi.xc=ao,fi=0;fi<_s;++fi){var cr=Nn[fi]>>8&65535;Nn[fi]=cr,cr>=Zn&&(Zn=cr+1)}}if(Wo.h)break n;for(on=0;5>on;++on){var Ni=Rq[on];!on&&0<Yr&&(Ni+=1<<Yr),Zr<Ni&&(Zr=Ni)}var Gs=s(Zn*Jn,N),Ko=Zn,Hs=s(Ko,me);if(null==Hs)var Ws=null;else e(65536>=Ko),Ws=Hs;var vs=o(Zr);if(null==Ws||null==vs||null==Gs){Ar.a=1;break n}var Ks=Gs;for(fi=Pn=0;fi<Zn;++fi){var vr=Ws[fi],Qs=vr.G,Za=vr.H,Hh=0,Kc=1,lo=0;for(on=0;5>on;++on){Ni=Rq[on],Qs[on]=Ks,Za[on]=Pn,!on&&0<Yr&&(Ni+=1<<Yr);i:{var cw,dM=Ni,uw=Ar,o1=vs,j2e=Ks,z2e=Pn,hM=0,hd=uw.m,$2e=Oe(hd,1);if(i(o1,0,0,dM),$2e){var q2e=Oe(hd,1)+1,G2e=Oe(hd,1),qq=Oe(hd,0==G2e?1:8);o1[qq]=1,2==q2e&&(o1[qq=Oe(hd,8)]=1);var dw=1}else{var Gq=o(19),Hq=Oe(hd,4)+4;if(19<Hq){uw.a=3;var hw=0;break i}for(cw=0;cw<Hq;++cw)Gq[v2e[cw]]=Oe(hd,3);var fM=void 0,s1=void 0,Wq=uw,H2e=Gq,fw=dM,Kq=o1,pM=0,fd=Wq.m,Qq=8,Yq=s(128,N);r:for(;P(Yq,0,7,H2e,19);){if(Oe(fd,1)){var W2e=2+2*Oe(fd,3);if((fM=2+Oe(fd,W2e))>fw)break r}else fM=fw;for(s1=0;s1<fw&&fM--;){de(fd);var Zq=Yq[0+(127&ee(fd))];le(fd,fd.u+Zq.g);var Pg=Zq.value;if(16>Pg)Kq[s1++]=Pg,0!=Pg&&(Qq=Pg);else{var K2e=16==Pg,Jq=Pg-16,Q2e=m2e[Jq],Xq=Oe(fd,g2e[Jq])+Q2e;if(s1+Xq>fw)break r;for(var Y2e=K2e?Qq:0;0<Xq--;)Kq[s1++]=Y2e}}pM=1;break r}pM||(Wq.a=3),dw=pM}(dw=dw&&!hd.h)&&(hM=P(j2e,z2e,8,o1,dM)),dw&&0!=hM?hw=hM:(uw.a=3,hw=0)}if(0==hw)break n;if(Kc&&1==_2e[on]&&(Kc=0==Ks[Pn].g),Hh+=Ks[Pn].g,Pn+=hw,3>=on){var a1,gM=vs[0];for(a1=1;a1<Ni;++a1)vs[a1]>gM&&(gM=vs[a1]);lo+=gM}}if(vr.nd=Kc,vr.Qb=0,Kc&&(vr.qb=(Qs[3][Za[3]+0].value<<24|Qs[1][Za[1]+0].value<<16|Qs[2][Za[2]+0].value)>>>0,0==Hh&&256>Qs[0][Za[0]+0].value&&(vr.Qb=1,vr.qb+=Qs[0][Za[0]+0].value<<8)),vr.jc=!vr.Qb&&6>lo,vr.jc){var pw,Qc=vr;for(pw=0;pw<$h;++pw){var pd=pw,gd=Qc.pd[pd],gw=Qc.G[0][Qc.H[0]+pd];256<=gw.value?(gd.g=gw.g+256,gd.value=gw.value):(gd.g=0,gd.value=0,pd>>=bi(gw,8,gd),pd>>=bi(Qc.G[1][Qc.H[1]+pd],16,gd),pd>>=bi(Qc.G[2][Qc.H[2]+pd],0,gd),bi(Qc.G[3][Qc.H[3]+pd],24,gd))}}}Mi.vc=Nn,Mi.Wb=Zn,Mi.Ya=Ws,Mi.yc=Gs,nt=1;break t}nt=0}if(!(L=nt)){I.a=3;break e}if(0<ve){if(Y.ua=1<<ve,!J(Y.Wa,ve)){I.a=1,L=0;break e}}else Y.ua=0;var mM=I,eG=j,Z2e=q,_M=mM.s,vM=_M.xc;if(mM.c=eG,mM.i=Z2e,_M.md=$e(eG,vM),_M.wc=0==vM?-1:(1<<vM)-1,v){I.xb=D2e;break e}if(null==(oe=o(j*q))){I.a=1,L=0;break e}L=(L=Go(I,oe,0,j,q,q,null))&&!H.h;break e}return L?(null!=O?O[0]=oe:(e(null==oe),e(v)),I.$=0,v||io(Y)):io(Y),L}function Nl(h,g){var v=h.c*h.i,I=v+g+16*g;return e(h.c<=g),h.V=o(I),null==h.V?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+v+g,1)}function Rl(h,g){var v=h.C,I=g-v,O=h.V,L=h.Ba+h.c*v;for(e(g<=h.l.o);0<I;){var j=16<I?16:I,q=h.l.ma,H=h.l.width,Y=H*j,oe=q.ca,ve=q.tb+H*v,Z=h.Ta,ae=h.Ua;ds(h,j,O,L),Aq(Z,ae,oe,ve,Y),qo(q,v,v+j,oe,ve,H),I-=j,O+=j*h.c,v+=j}e(v==g),h.C=h.Ma=g}function kl(){this.ub=this.yd=this.td=this.Rb=0}function Pc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Eg(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Nh(){var h;this.Yb=(function g(v,I,O){for(var L=O[I],j=0;j<L&&(v.push(O.length>I+1?[]:0),!(O.length<I+1));j++)g(v[j],I+1,O)}(h=[],0,[3,11]),h)}function Mc(){this.jb=o(3),this.Wc=a([4,8],Nh),this.Xc=a([4,17],Nh)}function Rh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function To(){this.ld=this.La=this.dd=this.tc=0}function za(){this.Na=this.la=0}function pa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Nc(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Cg(){this.uc=this.M=this.Nb=0,this.wa=Array(new To),this.Y=0,this.ya=Array(new Nc),this.aa=0,this.l=new Rc}function kh(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Oh(){this.cb=this.a=0,this.sc="",this.m=new U,this.Od=new kl,this.Kc=new Pc,this.ed=new Rh,this.Qa=new Eg,this.Ic=this.$c=this.Aa=0,this.D=new Cg,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,U),this.ia=0,this.pb=s(4,pa),this.Pa=new Mc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new kh),this.Hd=0,this.rb=Array(new za),this.sb=0,this.wa=Array(new To),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Nc),this.L=this.aa=0,this.gd=a([4,2],To),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Rc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Lh(){var h=new Oh;return null!=h&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,r1||(r1=$a)),h}function Or(h,g,v){return 0==h.a&&(h.a=g,h.sc=v,h.cb=0),0}function Fh(h,g,v){return 3<=v&&157==h[g+0]&&1==h[g+1]&&42==h[g+2]}function Vh(h,g){if(null==h)return 0;if(h.a=0,h.sc="OK",null==g)return Or(h,2,"null VP8Io passed to VP8GetHeaders()");var v=g.data,I=g.w,O=g.ha;if(4>O)return Or(h,7,"Truncated header.");var L=v[I+0]|v[I+1]<<8|v[I+2]<<16,j=h.Od;if(j.Rb=!(1&L),j.td=L>>1&7,j.yd=L>>4&1,j.ub=L>>5,3<j.td)return Or(h,3,"Incorrect keyframe parameters.");if(!j.yd)return Or(h,4,"Frame not displayable.");I+=3,O-=3;var q=h.Kc;if(j.Rb){if(7>O)return Or(h,7,"cannot parse picture header");if(!Fh(v,I,O))return Or(h,3,"Bad code word");q.c=16383&(v[I+4]<<8|v[I+3]),q.Td=v[I+4]>>6,q.i=16383&(v[I+6]<<8|v[I+5]),q.Ud=v[I+6]>>6,I+=7,O-=7,h.za=q.c+15>>4,h.Ub=q.i+15>>4,g.width=q.c,g.height=q.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,i((L=h.Pa).jb,0,255,L.jb.length),e(null!=(L=h.Qa)),L.Cb=0,L.Bb=0,L.Fb=1,i(L.Zb,0,0,L.Zb.length),i(L.Lb,0,0,L.Lb)}if(j.ub>O)return Or(h,7,"bad partition length");Ae(L=h.m,v,I,j.ub),I+=j.ub,O-=j.ub,j.Rb&&(q.Ld=Ee(L),q.Kd=Ee(L)),q=h.Qa;var H,Y=h.Pa;if(e(null!=L),e(null!=q),q.Cb=Ee(L),q.Cb){if(q.Bb=Ee(L),Ee(L)){for(q.Fb=Ee(L),H=0;4>H;++H)q.Zb[H]=Ee(L)?ge(L,7):0;for(H=0;4>H;++H)q.Lb[H]=Ee(L)?ge(L,6):0}if(q.Bb)for(H=0;3>H;++H)Y.jb[H]=Ee(L)?Ce(L,8):255}else q.Bb=0;if(L.Ka)return Or(h,3,"cannot parse segment header");if((q=h.ed).zd=Ee(L),q.Tb=Ce(L,6),q.wb=Ce(L,3),q.Pc=Ee(L),q.Pc&&Ee(L)){for(Y=0;4>Y;++Y)Ee(L)&&(q.vd[Y]=ge(L,6));for(Y=0;4>Y;++Y)Ee(L)&&(q.od[Y]=ge(L,6))}if(h.L=0==q.Tb?0:q.zd?1:2,L.Ka)return Or(h,3,"cannot parse filter header");var oe=O;if(O=H=I,I=H+oe,q=oe,h.Xb=(1<<Ce(h.m,2))-1,oe<3*(Y=h.Xb))v=7;else{for(H+=3*Y,q-=3*Y,oe=0;oe<Y;++oe){var ve=v[O+0]|v[O+1]<<8|v[O+2]<<16;ve>q&&(ve=q),Ae(h.Jc[+oe],v,H,ve),H+=ve,q-=ve,O+=3}Ae(h.Jc[+Y],v,H,q),v=H<I?0:5}if(0!=v)return Or(h,v,"cannot parse partitions");for(v=Ce(H=h.m,7),O=Ee(H)?ge(H,4):0,I=Ee(H)?ge(H,4):0,q=Ee(H)?ge(H,4):0,Y=Ee(H)?ge(H,4):0,H=Ee(H)?ge(H,4):0,oe=h.Qa,ve=0;4>ve;++ve){if(oe.Cb){var Z=oe.Zb[ve];oe.Fb||(Z+=v)}else{if(0<ve){h.pb[ve]=h.pb[0];continue}Z=v}var ae=h.pb[ve];ae.Sc[0]=lM[Pt(Z+O,127)],ae.Sc[1]=cM[Pt(Z+0,127)],ae.Eb[0]=2*lM[Pt(Z+I,127)],ae.Eb[1]=101581*cM[Pt(Z+q,127)]>>16,8>ae.Eb[1]&&(ae.Eb[1]=8),ae.Qc[0]=lM[Pt(Z+Y,117)],ae.Qc[1]=cM[Pt(Z+H,127)],ae.lc=Z+H}if(!j.Rb)return Or(h,4,"Not a key frame.");for(Ee(L),j=h.Pa,v=0;4>v;++v){for(O=0;8>O;++O)for(I=0;3>I;++I)for(q=0;11>q;++q)Y=Pe(L,T2e[v][O][I][q])?Ce(L,8):C2e[v][O][I][q],j.Wc[v][O].Yb[I][q]=Y;for(O=0;17>O;++O)j.Xc[v][O]=j.Wc[v][S2e[O]]}return h.kc=Ee(L),h.kc&&(h.Bd=Ce(L,8)),h.cb=1}function $a(h,g,v,I,O,L,j){var q=g[O].Yb[v];for(v=0;16>O;++O){if(!Pe(h,q[v+0]))return O;for(;!Pe(h,q[v+1]);)if(q=g[++O].Yb[0],v=0,16==O)return 16;var H=g[O+1].Yb;if(Pe(h,q[v+2])){var Y=h,oe=0;if(Pe(Y,(Z=q)[(ve=v)+3]))if(Pe(Y,Z[ve+6])){for(q=0,ve=2*(oe=Pe(Y,Z[ve+8]))+(Z=Pe(Y,Z[ve+9+oe])),oe=0,Z=I2e[ve];Z[q];++q)oe+=oe+Pe(Y,Z[q]);oe+=3+(8<<ve)}else Pe(Y,Z[ve+7])?(oe=7+2*Pe(Y,165),oe+=Pe(Y,145)):oe=5+Pe(Y,159);else oe=Pe(Y,Z[ve+4])?3+Pe(Y,Z[ve+5]):2;q=H[2]}else oe=1,q=H[1];H=j+E2e[O],0>(Y=h).b&&be(Y);var ve,Z=Y.b,ae=(ve=Y.Ca>>1)-(Y.I>>Z)>>31;--Y.b,Y.Ca+=ae,Y.Ca|=1,Y.I-=(ve+1&ae)<<Z,L[H]=((oe^ae)-ae)*I[(0<O)+0]}return 16}function kc(h){var g=h.rb[h.sb-1];g.la=0,g.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function fs(h,g,v,I,O){h[g+v+32*I]=-256&(O=h[g+v+32*I]+(O>>3))?0>O?0:255:O}function Ol(h,g,v,I,O,L){fs(h,g,0,v,I+O),fs(h,g,1,v,I+L),fs(h,g,2,v,I-L),fs(h,g,3,v,I-O)}function Br(h){return(20091*h>>16)+h}function Us(h,g,v,I){var O,L=0,j=o(16);for(O=0;4>O;++O){var q=h[g+0]+h[g+8],H=h[g+0]-h[g+8],Y=(35468*h[g+4]>>16)-Br(h[g+12]),oe=Br(h[g+4])+(35468*h[g+12]>>16);j[L+0]=q+oe,j[L+1]=H+Y,j[L+2]=H-Y,j[L+3]=q-oe,L+=4,g++}for(O=L=0;4>O;++O)q=(h=j[L+0]+4)+j[L+8],H=h-j[L+8],Y=(35468*j[L+4]>>16)-Br(j[L+12]),fs(v,I,0,0,q+(oe=Br(j[L+4])+(35468*j[L+12]>>16))),fs(v,I,1,0,H+Y),fs(v,I,2,0,H-Y),fs(v,I,3,0,q-oe),L++,I+=32}function Bs(h,g,v,I){var O=h[g+0]+4,L=35468*h[g+4]>>16,j=Br(h[g+4]),q=35468*h[g+1]>>16;Ol(v,I,0,O+j,h=Br(h[g+1]),q),Ol(v,I,1,O+L,h,q),Ol(v,I,2,O-L,h,q),Ol(v,I,3,O-j,h,q)}function Ju(h,g,v,I,O){Us(h,g,v,I),O&&Us(h,g+16,v,I+4)}function Xu(h,g,v,I){Gh(h,g+0,v,I,1),Gh(h,g+32,v,I+128,1)}function js(h,g,v,I){var O;for(h=h[g+0]+4,O=0;4>O;++O)for(g=0;4>g;++g)fs(v,I,g,O,h)}function zn(h,g,v,I){h[g+0]&&$n(h,g+0,v,I),h[g+16]&&$n(h,g+16,v,I+4),h[g+32]&&$n(h,g+32,v,I+128),h[g+48]&&$n(h,g+48,v,I+128+4)}function Oc(h,g,v,I){var O,L=o(16);for(O=0;4>O;++O){var j=h[g+0+O]+h[g+12+O],q=h[g+4+O]+h[g+8+O],H=h[g+4+O]-h[g+8+O],Y=h[g+0+O]-h[g+12+O];L[0+O]=j+q,L[8+O]=j-q,L[4+O]=Y+H,L[12+O]=Y-H}for(O=0;4>O;++O)j=(h=L[0+4*O]+3)+L[3+4*O],H=L[1+4*O]-L[2+4*O],Y=h-L[3+4*O],v[I+0]=j+(q=L[1+4*O]+L[2+4*O])>>3,v[I+16]=Y+H>>3,v[I+32]=j-q>>3,v[I+48]=Y-H>>3,I+=64}function ps(h,g,v){var I,O=g-32,L=qs,j=255-h[O-1];for(I=0;I<v;++I){var q,H=L,Y=j+h[g-1];for(q=0;q<v;++q)h[g+q]=H[Y+h[O+q]];g+=32}}function qa(h,g){ps(h,g,4)}function $v(h,g){ps(h,g,8)}function Ag(h,g){ps(h,g,16)}function qv(h,g){var v;for(v=0;16>v;++v)r(h,g+32*v,h,g-32,16)}function Uh(h,g){var v;for(v=16;0<v;--v)i(h,g,h[g-1],16),g+=32}function Lc(h,g,v){var I;for(I=0;16>I;++I)i(g,v+32*I,h,16)}function Ll(h,g){var v,I=16;for(v=0;16>v;++v)I+=h[g-1+32*v]+h[g+v-32];Lc(I>>5,h,g)}function Fc(h,g){var v,I=8;for(v=0;16>v;++v)I+=h[g-1+32*v];Lc(I>>4,h,g)}function So(h,g){var v,I=8;for(v=0;16>v;++v)I+=h[g+v-32];Lc(I>>4,h,g)}function ed(h,g){Lc(128,h,g)}function zt(h,g,v){return h+2*g+v+2>>2}function Tg(h,g){var v,I=g-32;for(I=new Uint8Array([zt(h[I-1],h[I+0],h[I+1]),zt(h[I+0],h[I+1],h[I+2]),zt(h[I+1],h[I+2],h[I+3]),zt(h[I+2],h[I+3],h[I+4])]),v=0;4>v;++v)r(h,g+32*v,I,0,I.length)}function Fl(h,g){var v=h[g-1],I=h[g-1+32],O=h[g-1+64],L=h[g-1+96];De(h,g+0,16843009*zt(h[g-1-32],v,I)),De(h,g+32,16843009*zt(v,I,O)),De(h,g+64,16843009*zt(I,O,L)),De(h,g+96,16843009*zt(O,L,L))}function Gv(h,g){var v,I=4;for(v=0;4>v;++v)I+=h[g+v-32]+h[g-1+32*v];for(I>>=3,v=0;4>v;++v)i(h,g+32*v,I,4)}function Hv(h,g){var v=h[g-1+0],I=h[g-1+32],O=h[g-1+64],L=h[g-1-32],j=h[g+0-32],q=h[g+1-32],H=h[g+2-32],Y=h[g+3-32];h[g+0+96]=zt(I,O,h[g-1+96]),h[g+1+96]=h[g+0+64]=zt(v,I,O),h[g+2+96]=h[g+1+64]=h[g+0+32]=zt(L,v,I),h[g+3+96]=h[g+2+64]=h[g+1+32]=h[g+0+0]=zt(j,L,v),h[g+3+64]=h[g+2+32]=h[g+1+0]=zt(q,j,L),h[g+3+32]=h[g+2+0]=zt(H,q,j),h[g+3+0]=zt(Y,H,q)}function Ga(h,g){var v=h[g+1-32],I=h[g+2-32],O=h[g+3-32],L=h[g+4-32],j=h[g+5-32],q=h[g+6-32],H=h[g+7-32];h[g+0+0]=zt(h[g+0-32],v,I),h[g+1+0]=h[g+0+32]=zt(v,I,O),h[g+2+0]=h[g+1+32]=h[g+0+64]=zt(I,O,L),h[g+3+0]=h[g+2+32]=h[g+1+64]=h[g+0+96]=zt(O,L,j),h[g+3+32]=h[g+2+64]=h[g+1+96]=zt(L,j,q),h[g+3+64]=h[g+2+96]=zt(j,q,H),h[g+3+96]=zt(q,H,H)}function qi(h,g){var v=h[g-1+0],I=h[g-1+32],O=h[g-1+64],L=h[g-1-32],j=h[g+0-32],q=h[g+1-32],H=h[g+2-32],Y=h[g+3-32];h[g+0+0]=h[g+1+64]=L+j+1>>1,h[g+1+0]=h[g+2+64]=j+q+1>>1,h[g+2+0]=h[g+3+64]=q+H+1>>1,h[g+3+0]=H+Y+1>>1,h[g+0+96]=zt(O,I,v),h[g+0+64]=zt(I,v,L),h[g+0+32]=h[g+1+96]=zt(v,L,j),h[g+1+32]=h[g+2+96]=zt(L,j,q),h[g+2+32]=h[g+3+96]=zt(j,q,H),h[g+3+32]=zt(q,H,Y)}function Wv(h,g){var v=h[g+0-32],I=h[g+1-32],O=h[g+2-32],L=h[g+3-32],j=h[g+4-32],q=h[g+5-32],H=h[g+6-32],Y=h[g+7-32];h[g+0+0]=v+I+1>>1,h[g+1+0]=h[g+0+64]=I+O+1>>1,h[g+2+0]=h[g+1+64]=O+L+1>>1,h[g+3+0]=h[g+2+64]=L+j+1>>1,h[g+0+32]=zt(v,I,O),h[g+1+32]=h[g+0+96]=zt(I,O,L),h[g+2+32]=h[g+1+96]=zt(O,L,j),h[g+3+32]=h[g+2+96]=zt(L,j,q),h[g+3+64]=zt(j,q,H),h[g+3+96]=zt(q,H,Y)}function Kv(h,g){var v=h[g-1+0],I=h[g-1+32],O=h[g-1+64],L=h[g-1+96];h[g+0+0]=v+I+1>>1,h[g+2+0]=h[g+0+32]=I+O+1>>1,h[g+2+32]=h[g+0+64]=O+L+1>>1,h[g+1+0]=zt(v,I,O),h[g+3+0]=h[g+1+32]=zt(I,O,L),h[g+3+32]=h[g+1+64]=zt(O,L,L),h[g+3+64]=h[g+2+64]=h[g+0+96]=h[g+1+96]=h[g+2+96]=h[g+3+96]=L}function ga(h,g){var v=h[g-1+0],I=h[g-1+32],O=h[g-1+64],L=h[g-1+96],j=h[g-1-32],q=h[g+0-32],H=h[g+1-32],Y=h[g+2-32];h[g+0+0]=h[g+2+32]=v+j+1>>1,h[g+0+32]=h[g+2+64]=I+v+1>>1,h[g+0+64]=h[g+2+96]=O+I+1>>1,h[g+0+96]=L+O+1>>1,h[g+3+0]=zt(q,H,Y),h[g+2+0]=zt(j,q,H),h[g+1+0]=h[g+3+32]=zt(v,j,q),h[g+1+32]=h[g+3+64]=zt(I,v,j),h[g+1+64]=h[g+3+96]=zt(O,I,v),h[g+1+96]=zt(L,O,I)}function Vl(h,g){var v;for(v=0;8>v;++v)r(h,g+32*v,h,g-32,8)}function Ul(h,g){var v;for(v=0;8>v;++v)i(h,g,h[g-1],8),g+=32}function ma(h,g,v){var I;for(I=0;8>I;++I)i(g,v+32*I,h,8)}function _a(h,g){var v,I=8;for(v=0;8>v;++v)I+=h[g+v-32]+h[g-1+32*v];ma(I>>4,h,g)}function Sg(h,g){var v,I=4;for(v=0;8>v;++v)I+=h[g+v-32];ma(I>>3,h,g)}function Vc(h,g){var v,I=4;for(v=0;8>v;++v)I+=h[g-1+32*v];ma(I>>3,h,g)}function tr(h,g){ma(128,h,g)}function Uc(h,g,v){var I=h[g-v],O=h[g+0],L=3*(O-I)+rM[1020+h[g-2*v]-h[g+v]],j=ew[112+(L+4>>3)];h[g-v]=qs[255+I+ew[112+(L+3>>3)]],h[g+0]=qs[255+O-j]}function Bc(h,g,v,I){return Ia[255+h[g-2*v]-h[g-v]]>I||Ia[255+h[g+v]-h[g+0]]>I}function td(h,g,v,I){return 4*Ia[255+h[g-v]-h[g+0]]+Ia[255+h[g-2*v]-h[g+v]]<=I}function jc(h,g,v,I,O){var L=h[g-3*v],j=h[g-2*v],q=h[g-v],H=h[g+0],Y=h[g+v],oe=h[g+2*v];return 4*Ia[255+q-H]+Ia[255+j-Y]>I?0:Ia[255+h[g-4*v]-L]<=O&&Ia[255+L-j]<=O&&Ia[255+j-q]<=O&&Ia[255+h[g+3*v]-oe]<=O&&Ia[255+oe-Y]<=O&&Ia[255+Y-H]<=O}function nd(h,g,v,I){var O=2*I+1;for(I=0;16>I;++I)td(h,g+I,v,O)&&Uc(h,g+I,v)}function va(h,g,v,I){var O=2*I+1;for(I=0;16>I;++I)td(h,g+I*v,1,O)&&Uc(h,g+I*v,1)}function Bh(h,g,v,I){var O;for(O=3;0<O;--O)nd(h,g+=4*v,v,I)}function gs(h,g,v,I){var O;for(O=3;0<O;--O)va(h,g+=4,v,I)}function ya(h,g,v,I,O,L,j,q){for(L=2*L+1;0<O--;){if(jc(h,g,v,L,j))if(Bc(h,g,v,q))Uc(h,g,v);else{var H=h,Y=g,oe=v,ve=H[Y-2*oe],Z=H[Y-oe],ae=H[Y+0],he=H[Y+oe],xe=H[Y+2*oe],_e=27*(Re=rM[1020+3*(ae-Z)+rM[1020+ve-he]])+63>>7,Ne=18*Re+63>>7,Re=9*Re+63>>7;H[Y-3*oe]=qs[255+H[Y-3*oe]+Re],H[Y-2*oe]=qs[255+ve+Ne],H[Y-oe]=qs[255+Z+_e],H[Y+0]=qs[255+ae-_e],H[Y+oe]=qs[255+he-Ne],H[Y+2*oe]=qs[255+xe-Re]}g+=I}}function Ha(h,g,v,I,O,L,j,q){for(L=2*L+1;0<O--;){if(jc(h,g,v,L,j))if(Bc(h,g,v,q))Uc(h,g,v);else{var H=h,Y=g,oe=v,ve=H[Y-oe],Z=H[Y+0],ae=H[Y+oe],he=ew[112+(4+(xe=3*(Z-ve))>>3)],xe=ew[112+(xe+3>>3)],_e=he+1>>1;H[Y-2*oe]=qs[255+H[Y-2*oe]+_e],H[Y-oe]=qs[255+ve+xe],H[Y+0]=qs[255+Z-he],H[Y+oe]=qs[255+ae-_e]}g+=I}}function Bl(h,g,v,I,O,L){ya(h,g,v,1,16,I,O,L)}function jh(h,g,v,I,O,L){ya(h,g,1,v,16,I,O,L)}function Wa(h,g,v,I,O,L){var j;for(j=3;0<j;--j)Ha(h,g+=4*v,v,1,16,I,O,L)}function zc(h,g,v,I,O,L){var j;for(j=3;0<j;--j)Ha(h,g+=4,1,v,16,I,O,L)}function _(h,g,v,I,O,L,j,q){ya(h,g,O,1,8,L,j,q),ya(v,I,O,1,8,L,j,q)}function R(h,g,v,I,O,L,j,q){ya(h,g,1,O,8,L,j,q),ya(v,I,1,O,8,L,j,q)}function Q(h,g,v,I,O,L,j,q){Ha(h,g+4*O,O,1,8,L,j,q),Ha(v,I+4*O,O,1,8,L,j,q)}function ne(h,g,v,I,O,L,j,q){Ha(h,g+4,1,O,8,L,j,q),Ha(v,I+4,1,O,8,L,j,q)}function ue(){this.ba=new En,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new vn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Me(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ve(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function st(){this.ua=0,this.Wa=new Bt,this.vb=new Bt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new me,this.yc=new N}function ht(){this.xb=this.a=0,this.l=new Rc,this.ca=new En,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new st,this.ab=0,this.gc=s(4,Ve),this.Oc=0}function Lt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Rc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ft(h,g,v,I,O,L,j){for(h=null==h?0:h[g+0],g=0;g<j;++g)O[L+g]=h+v[I+g]&255,h=O[L+g]}function xn(h,g,v,I,O,L,j){var q;if(null==h)Ft(null,null,v,I,O,L,j);else for(q=0;q<j;++q)O[L+q]=h[g+q]+v[I+q]&255}function mr(h,g,v,I,O,L,j){if(null==h)Ft(null,null,v,I,O,L,j);else{var q,H=h[g+0],Y=H,oe=H;for(q=0;q<j;++q)Y=oe+(H=h[g+q])-Y,oe=v[I+q]+(-256&Y?0>Y?0:255:Y)&255,Y=H,O[L+q]=oe}}function nr(h,g,v,I){var O=g.width,L=g.o;if(e(null!=h&&null!=g),0>v||0>=I||v+I>L)return null;if(!h.Cc){if(null==h.ga){var j;if(h.ga=new Lt,(j=null==h.ga)||(j=g.width*g.o,e(0==h.Gb.length),h.Gb=o(j),h.Uc=0,null==h.Gb?j=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,j=1),j=!j),!j){var q=h.Fa,H=h.P,Y=h.qc,oe=h.mb,ve=h.nb,Z=H+1,ae=Y-1,he=(j=h.ga).l;if(e(null!=q&&null!=oe&&null!=g),dd[0]=null,dd[1]=Ft,dd[2]=xn,dd[3]=mr,j.ca=oe,j.tb=ve,j.c=g.width,j.i=g.height,e(0<j.c&&0<j.i),1>=Y)g=0;else if(j.$a=3&q[H+0],j.Z=q[H+0]>>2&3,j.Lc=q[H+0]>>4&3,H=q[H+0]>>6&3,0>j.$a||1<j.$a||4<=j.Z||1<j.Lc||H)g=0;else if(he.put=xt,he.ac=zi,he.bc=fa,he.ma=j,he.width=g.width,he.height=g.height,he.Da=g.Da,he.v=g.v,he.va=g.va,he.j=g.j,he.o=g.o,j.$a)e:{e(1==j.$a),g=Ao();t:for(;;){if(null==g){g=0;break e}if(e(null!=j),j.mc=g,g.c=j.c,g.i=j.i,g.l=j.l,g.l.ma=j,g.l.width=j.c,g.l.height=j.i,g.a=0,Te(g.m,q,Z,ae),!Vs(j.c,j.i,1,g,null)||(1==g.ab&&3==g.gc[0].hc&&Fs(g.s)?(j.ic=1,q=g.c*g.i,g.Ta=null,g.Ua=0,g.V=o(q),g.Ba=0,null==g.V?(g.a=1,g=0):g=1):(j.ic=0,g=Nl(g,j.c)),!g))break t;g=1;break e}j.mc=null,g=0}else g=ae>=j.c*j.i;j=!g}if(j)return null;1!=h.ga.Lc?h.Ga=0:I=L-v}e(null!=h.ga),e(v+I<=L);e:{if(g=(q=h.ga).c,L=q.l.o,0==q.$a){if(Z=h.rc,ae=h.Vc,he=h.Fa,Y=h.mb,oe=h.nb+v*g,e((H=h.P+1+v*g)<=h.P+h.qc),0!=q.Z)for(e(null!=dd[q.Z]),j=0;j<I;++j)dd[q.Z](Z,ae,he,H,Y,oe,g),Z=Y,ae=oe,oe+=g,H+=g;else for(j=0;j<I;++j)r(Y,oe,he,H,g),Z=Y,ae=oe,oe+=g,H+=g;h.rc=Z,h.Vc=ae}else{if(e(null!=q.mc),g=v+I,e(null!=(j=q.mc)),e(g<=j.i),j.C>=g)g=1;else if(q.ic||oo(),q.ic){q=j.V,Z=j.Ba;var xe=j.i,_e=(he=1,H=j.$/(ae=j.c),Y=j.$%ae,oe=j.m,ve=j.s,j.$),Ne=ae*xe,Re=ae*g,qe=ve.wc,Ue=_e<Re?Di(ve,Y,H):null;e(_e<=Ne),e(g<=xe),e(Fs(ve));t:for(;;){for(;!oe.h&&_e<Re;){if(Y&qe||(Ue=Di(ve,Y,H)),e(null!=Ue),de(oe),256>(xe=er(Ue.G[0],Ue.H[0],oe)))q[Z+_e]=xe,++_e,++Y>=ae&&(Y=0,++H<=g&&!(H%16)&&hs(j,H));else{if(!(280>xe)){he=0;break t}xe=$o(xe-256,oe);var St,ct=er(Ue.G[4],Ue.H[4],oe);if(de(oe),!(_e>=(ct=$i(ae,ct=$o(ct,oe)))&&Ne-_e>=xe)){he=0;break t}for(St=0;St<xe;++St)q[Z+_e+St]=q[Z+_e+St-ct];for(_e+=xe,Y+=xe;Y>=ae;)Y-=ae,++H<=g&&!(H%16)&&hs(j,H);_e<Re&&Y&qe&&(Ue=Di(ve,Y,H))}e(oe.h==re(oe))}hs(j,H>g?g:H);break t}!he||oe.h&&_e<Ne?(he=0,j.a=oe.h?5:3):j.$=_e,g=he}else g=Go(j,j.V,j.Ba,j.c,j.i,g,Rl);if(!g){I=0;break e}}v+I>=L&&(h.Cc=1),I=1}if(!I)return null;if(h.Cc&&(null!=(I=h.ga)&&(I.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+v*O}function Yn(h,g,v,I,O,L){for(;0<O--;){var j,q=h,H=g+(v?1:0),Y=h,oe=g+(v?0:3);for(j=0;j<I;++j){var ve=Y[oe+4*j];255!=ve&&(q[H+4*j+0]=q[H+4*j+0]*(ve*=32897)>>23,q[H+4*j+1]=q[H+4*j+1]*ve>>23,q[H+4*j+2]=q[H+4*j+2]*ve>>23)}g+=L}}function Qr(h,g,v,I,O){for(;0<I--;){var L;for(L=0;L<v;++L){var j=h[g+2*L+0],q=15&(Y=h[g+2*L+1]),H=4369*q,Y=(240&Y|Y>>4)*H>>16;h[g+2*L+0]=(240&j|j>>4)*H>>16&240|(15&j|j<<4)*H>>16>>4&15,h[g+2*L+1]=240&Y|q}g+=O}}function jr(h,g,v,I,O,L,j,q){var H,Y,oe=255;for(Y=0;Y<O;++Y){for(H=0;H<I;++H){var ve=h[g+H];L[j+4*H]=ve,oe&=ve}g+=v,j+=q}return 255!=oe}function wi(h,g,v,I,O){var L;for(L=0;L<O;++L)v[I+L]=h[g+L]>>8}function oo(){n1=Yn,Eq=Qr,Cq=jr,Aq=wi}function rr(h,g,v){S[h]=function(I,O,L,j,q,H,Y,oe,ve,Z,ae,he,xe,_e,Ne,Re,qe){var Ue,St=qe-1>>1,ct=q[H+0]|Y[oe+0]<<16,un=ve[Z+0]|ae[he+0]<<16;e(null!=I);var _t=3*ct+un+131074>>2;for(g(I[O+0],255&_t,_t>>16,xe,_e),null!=L&&g(L[j+0],255&(_t=3*un+ct+131074>>2),_t>>16,Ne,Re),Ue=1;Ue<=St;++Ue){var Cn=q[H+Ue]|Y[oe+Ue]<<16,Pi=ve[Z+Ue]|ae[he+Ue]<<16,dn=ct+Cn+un+Pi+524296,vt=dn+2*(Cn+un)>>3;_t=vt+ct>>1,ct=(dn=dn+2*(ct+Pi)>>3)+Cn>>1,g(I[O+2*Ue-1],255&_t,_t>>16,xe,_e+(2*Ue-1)*v),g(I[O+2*Ue-0],255&ct,ct>>16,xe,_e+(2*Ue-0)*v),null!=L&&(ct=vt+Pi>>1,g(L[j+2*Ue-1],255&(_t=dn+un>>1),_t>>16,Ne,Re+(2*Ue-1)*v),g(L[j+2*Ue+0],255&ct,ct>>16,Ne,Re+(2*Ue+0)*v)),ct=Cn,un=Pi}1&qe||(g(I[O+qe-1],255&(_t=3*ct+un+131074>>2),_t>>16,xe,_e+(qe-1)*v),null!=L&&g(L[j+qe-1],255&(_t=3*un+ct+131074>>2),_t>>16,Ne,Re+(qe-1)*v))}}function zh(){Ea[tw]=x2e,Ea[nw]=Lq,Ea[Mq]=P2e,Ea[rw]=Fq,Ea[iw]=Vq,Ea[iM]=Uq,Ea[Nq]=M2e,Ea[oM]=Lq,Ea[sM]=Fq,Ea[ow]=Vq,Ea[aM]=Uq}function $c(h){return h&~N2e?0>h?0:255:h>>Bq}function ms(h,g){return $c((19077*h>>8)+(26149*g>>8)-14234)}function f(h,g,v){return $c((19077*h>>8)-(6419*g>>8)-(13320*v>>8)+8708)}function y(h,g){return $c((19077*h>>8)+(33050*g>>8)-17685)}function T(h,g,v,I,O){I[O+0]=ms(h,v),I[O+1]=f(h,g,v),I[O+2]=y(h,g)}function $(h,g,v,I,O){I[O+0]=y(h,g),I[O+1]=f(h,g,v),I[O+2]=ms(h,v)}function ce(h,g,v,I,O){var L=f(h,g,v);g=L<<3&224|y(h,g)>>3,I[O+0]=248&ms(h,v)|L>>5,I[O+1]=g}function we(h,g,v,I,O){var L=240&y(h,g)|15;I[O+0]=240&ms(h,v)|f(h,g,v)>>4,I[O+1]=L}function Ke(h,g,v,I,O){I[O+0]=255,T(h,g,v,I,O+1)}function Mn(h,g,v,I,O){$(h,g,v,I,O),I[O+3]=255}function zr(h,g,v,I,O){T(h,g,v,I,O),I[O+3]=255}function Pt(h,g){return 0>h?0:h>g?g:h}function _r(h,g,v){S[h]=function(I,O,L,j,q,H,Y,oe,ve){for(var Z=oe+(-2&ve)*v;oe!=Z;)g(I[O+0],L[j+0],q[H+0],Y,oe),g(I[O+1],L[j+0],q[H+0],Y,oe+v),O+=2,++j,++H,oe+=2*v;1&ve&&g(I[O+0],L[j+0],q[H+0],Y,oe)}}function $r(h,g,v){return 0==v?0==h?0==g?6:5:0==g?4:0:v}function Ka(h,g,v,I,O){switch(h>>>30){case 3:Gh(g,v,I,O,0);break;case 2:wa(g,v,I,O);break;case 1:$n(g,v,I,O)}}function Lr(h,g){var v,I,O=g.M,L=g.Nb,j=h.oc,q=h.pc+40,H=h.oc,Y=h.pc+584,oe=h.oc,ve=h.pc+600;for(v=0;16>v;++v)j[q+32*v-1]=129;for(v=0;8>v;++v)H[Y+32*v-1]=129,oe[ve+32*v-1]=129;for(0<O?j[q-1-32]=H[Y-1-32]=oe[ve-1-32]=129:(i(j,q-32-1,127,21),i(H,Y-32-1,127,9),i(oe,ve-32-1,127,9)),I=0;I<h.za;++I){var Z=g.ya[g.aa+I];if(0<I){for(v=-1;16>v;++v)r(j,q+32*v-4,j,q+32*v+12,4);for(v=-1;8>v;++v)r(H,Y+32*v-4,H,Y+32*v+4,4),r(oe,ve+32*v-4,oe,ve+32*v+4,4)}var ae=h.Gd,he=h.Hd+I,xe=Z.ad,_e=Z.Hc;if(0<O&&(r(j,q-32,ae[he].y,0,16),r(H,Y-32,ae[he].f,0,8),r(oe,ve-32,ae[he].ea,0,8)),Z.Za){var Ne=j,Re=q-32+16;for(0<O&&(I>=h.za-1?i(Ne,Re,ae[he].y[15],4):r(Ne,Re,ae[he+1].y,0,4)),v=0;4>v;v++)Ne[Re+128+v]=Ne[Re+256+v]=Ne[Re+384+v]=Ne[Re+0+v];for(v=0;16>v;++v,_e<<=2)Qa[Z.Ob[v]](Ne=j,Re=q+zq[v]),Ka(_e,xe,16*+v,Ne,Re)}else if(Ne=$r(I,O,Z.Ob[0]),ud[Ne](j,q),0!=_e)for(v=0;16>v;++v,_e<<=2)Ka(_e,xe,16*+v,j,q+zq[v]);for(v=Z.Gc,Ne=$r(I,O,Z.Dd),Wc[Ne](H,Y),Wc[Ne](oe,ve),_e=xe,Ne=H,Re=Y,255&(Z=0|v)&&(170&Z?$l(_e,256,Ne,Re):lr(_e,256,Ne,Re)),Z=oe,_e=ve,255&(v>>=8)&&(170&v?$l(xe,320,Z,_e):lr(xe,320,Z,_e)),O<h.Ub-1&&(r(ae[he].y,0,j,q+480,16),r(ae[he].f,0,H,Y+224,8),r(ae[he].ea,0,oe,ve+224,8)),ae=h.sa,he=h.ta+16*I+16*L*h.R,xe=h.qa,Z=h.ra+8*I+(v=8*L*h.B),_e=h.Ha,Ne=h.Ia+8*I+v,v=0;16>v;++v)r(ae,he+v*h.R,j,q+32*v,16);for(v=0;8>v;++v)r(xe,Z+v*h.B,H,Y+32*v,8),r(_e,Ne+v*h.B,oe,ve+32*v,8)}}function ba(h,g,v,I,O,L,j,q,H){var Y=[0],oe=[0],ve=0,Z=null!=H?H.kd:0,ae=H??new Me;if(null==h||12>v)return 7;ae.data=h,ae.w=g,ae.ha=v,g=[g],v=[v],ae.gb=[ae.gb];e:{var he=g,xe=v,_e=ae.gb;if(e(null!=h),e(null!=xe),e(null!=_e),_e[0]=0,12<=xe[0]&&!t(h,he[0],"RIFF")){if(t(h,he[0]+8,"WEBP")){_e=3;break e}var Ne=Se(h,he[0]+4);if(12>Ne||4294967286<Ne){_e=3;break e}if(Z&&Ne>xe[0]-8){_e=7;break e}_e[0]=Ne,he[0]+=12,xe[0]-=12}_e=0}if(0!=_e)return _e;for(Ne=0<ae.gb[0],v=v[0];;){e:{var Re=h;xe=g,_e=v;var qe=Y,Ue=oe,St=he=[0];if((_t=ve=[ve])[0]=0,8>_e[0])_e=7;else{if(!t(Re,xe[0],"VP8X")){if(10!=Se(Re,xe[0]+4)){_e=3;break e}if(18>_e[0]){_e=7;break e}var ct=Se(Re,xe[0]+8),un=1+Ye(Re,xe[0]+12);if(2147483648<=un*(Re=1+Ye(Re,xe[0]+15))){_e=3;break e}null!=St&&(St[0]=ct),null!=qe&&(qe[0]=un),null!=Ue&&(Ue[0]=Re),xe[0]+=18,_e[0]-=18,_t[0]=1}_e=0}}if(ve=ve[0],0!=_e)return _e;if(xe=!!(2&(he=he[0])),!Ne&&ve)return 3;if(null!=L&&(L[0]=!!(16&he)),null!=j&&(j[0]=xe),null!=q&&(q[0]=0),j=Y[0],he=oe[0],ve&&xe&&null==H){_e=0;break}if(4>v){_e=7;break}if(Ne&&ve||!Ne&&!ve&&!t(h,g[0],"ALPH")){v=[v],ae.na=[ae.na],ae.P=[ae.P],ae.Sa=[ae.Sa];e:{_e=g,Ne=v;var _t=ae.gb;qe=ae.na,Ue=ae.P,St=ae.Sa,un=22,e(null!=(ct=h)),e(null!=Ne),Re=_e[0];var Cn=Ne[0];for(e(null!=qe),e(null!=St),qe[0]=null,Ue[0]=null,St[0]=0;;){if(_e[0]=Re,Ne[0]=Cn,8>Cn){_e=7;break e}var Pi=Se(ct,Re+4);if(4294967286<Pi){_e=3;break e}var dn=8+Pi+1&-2;if(un+=dn,0<_t&&un>_t){_e=3;break e}if(!t(ct,Re,"VP8 ")||!t(ct,Re,"VP8L")){_e=0;break e}if(Cn[0]<dn){_e=7;break e}t(ct,Re,"ALPH")||(qe[0]=ct,Ue[0]=Re+8,St[0]=Pi),Re+=dn,Cn-=dn}}if(v=v[0],ae.na=ae.na[0],ae.P=ae.P[0],ae.Sa=ae.Sa[0],0!=_e)break}v=[v],ae.Ja=[ae.Ja],ae.xa=[ae.xa];e:if(_t=h,_e=g,Ne=v,qe=ae.gb[0],Ue=ae.Ja,St=ae.xa,ct=_e[0],Re=!t(_t,ct,"VP8 "),un=!t(_t,ct,"VP8L"),e(null!=_t),e(null!=Ne),e(null!=Ue),e(null!=St),8>Ne[0])_e=7;else{if(Re||un){if(_t=Se(_t,ct+4),12<=qe&&_t>qe-12){_e=3;break e}if(Z&&_t>Ne[0]-8){_e=7;break e}Ue[0]=_t,_e[0]+=8,Ne[0]-=8,St[0]=un}else St[0]=5<=Ne[0]&&47==_t[ct+0]&&!(_t[ct+4]>>5),Ue[0]=Ne[0];_e=0}if(v=v[0],ae.Ja=ae.Ja[0],ae.xa=ae.xa[0],g=g[0],0!=_e)break;if(4294967286<ae.Ja)return 3;if(null==q||xe||(q[0]=ae.xa?2:1),j=[j],he=[he],ae.xa){if(5>v){_e=7;break}q=j,Z=he,xe=L,null==h||5>v?h=0:5<=v&&47==h[g+0]&&!(h[g+4]>>5)?(Ne=[0],_t=[0],qe=[0],Te(Ue=new K,h,g,v),Cr(Ue,Ne,_t,qe)?(null!=q&&(q[0]=Ne[0]),null!=Z&&(Z[0]=_t[0]),null!=xe&&(xe[0]=qe[0]),h=1):h=0):h=0}else{if(10>v){_e=7;break}q=he,null==h||10>v||!Fh(h,g+3,v-3)?h=0:(Z=h[g+0]|h[g+1]<<8|h[g+2]<<16,xe=16383&(h[g+7]<<8|h[g+6]),h=16383&(h[g+9]<<8|h[g+8]),1&Z||3<(Z>>1&7)||!(Z>>4&1)||Z>>5>=ae.Ja||!xe||!h?h=0:(j&&(j[0]=xe),q&&(q[0]=h),h=1))}if(!h||(j=j[0],he=he[0],ve&&(Y[0]!=j||oe[0]!=he)))return 3;null!=H&&(H[0]=ae,H.offset=g-H.w,e(4294967286>g-H.w),e(H.offset==H.ha-v));break}return 0==_e||7==_e&&ve&&null==H?(null!=L&&(L[0]|=null!=ae.na&&0<ae.na.length),null!=I&&(I[0]=j),null!=O&&(O[0]=he),0):_e}function qc(h,g,v){var I=g.width,O=g.height,L=0,j=0,q=I,H=O;if(g.Da=null!=h&&0<h.Da,g.Da&&(q=h.cd,H=h.bd,L=h.v,j=h.j,11>v||(L&=-2,j&=-2),0>L||0>j||0>=q||0>=H||L+q>I||j+H>O))return 0;if(g.v=L,g.j=j,g.va=L+q,g.o=j+H,g.U=q,g.T=H,g.da=null!=h&&0<h.da,g.da){if(!Dt(q,H,v=[h.ib],L=[h.hb]))return 0;g.ib=v[0],g.hb=L[0]}return g.ob=null!=h&&h.ob,g.Kb=null==h||!h.Sd,g.da&&(g.ob=g.ib<3*I/4&&g.hb<3*O/4,g.Kb=0),1}function Qv(h){if(null==h)return 2;if(11>h.S){var g=h.f.RGBA;g.fb+=(h.height-1)*g.A,g.A=-g.A}else(g=h.f.kb).O+=((h=h.height)-1)*g.fa,g.fa=-g.fa,g.N+=(h-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(h-1>>1)*g.Db,g.Db=-g.Db,null!=g.F&&(g.J+=(h-1)*g.lb,g.lb=-g.lb);return 0}function rd(h,g,v,I){if(null==I||0>=h||0>=g)return 2;if(null!=v){if(v.Da){var O=v.cd,L=v.bd,j=-2&v.v,q=-2&v.j;if(0>j||0>q||0>=O||0>=L||j+O>h||q+L>g)return 2;h=O,g=L}if(v.da){if(!Dt(h,g,O=[v.ib],L=[v.hb]))return 2;h=O[0],g=L[0]}}I.width=h,I.height=g;e:{var H=I.width,Y=I.height;if(h=I.S,0>=H||0>=Y||!(h>=tw&&13>h))h=2;else{if(0>=I.Rd&&null==I.sd){j=L=O=g=0;var oe=(q=H*$q[h])*Y;if(11>h||(L=(Y+1)/2*(g=(H+1)/2),12==h&&(j=(O=H)*Y)),null==(Y=o(oe+2*L+j))){h=1;break e}I.sd=Y,11>h?((H=I.f.RGBA).eb=Y,H.fb=0,H.A=q,H.size=oe):((H=I.f.kb).y=Y,H.O=0,H.fa=q,H.Fd=oe,H.f=Y,H.N=0+oe,H.Ab=g,H.Cd=L,H.ea=Y,H.W=0+oe+L,H.Db=g,H.Ed=L,12==h&&(H.F=Y,H.J=0+oe+2*L),H.Tc=j,H.lb=O)}if(g=1,L=I.width,j=I.height,(O=I.S)>=tw&&13>O)if(11>O)h=I.f.RGBA,g&=(q=Math.abs(h.A))*(j-1)+L<=h.size,g&=q>=L*$q[O],g&=null!=h.eb;else{h=I.f.kb,q=(L+1)/2,oe=(j+1)/2,H=Math.abs(h.fa),Y=Math.abs(h.Ab);var ve=Math.abs(h.Db),Z=Math.abs(h.lb);g&=H*(j-1)+L<=h.Fd,g&=Y*(oe-1)+q<=h.Cd,g=(g&=ve*(oe-1)+q<=h.Ed)&H>=L&Y>=q&ve>=q,g&=null!=h.y,g&=null!=h.f,g&=null!=h.ea,12==O&&(g&=Z>=L,g&=Z*(j-1)+L<=h.Tc,g&=null!=h.F)}else g=0;h=g?0:2}}return 0!=h||null!=v&&v.fd&&(h=Qv(I)),h}var $h=64,zs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],$s=24,id=32,Gc=8,od=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];et("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(h){return h},S.Predictor2=function(h,g,v){return g[v+0]},S.Predictor3=function(h,g,v){return g[v+1]},S.Predictor4=function(h,g,v){return g[v-1]},S.Predictor5=function(h,g,v){return Et(Et(h,g[v+1]),g[v+0])},S.Predictor6=function(h,g,v){return Et(h,g[v-1])},S.Predictor7=function(h,g,v){return Et(h,g[v+0])},S.Predictor8=function(h,g,v){return Et(g[v-1],g[v+0])},S.Predictor9=function(h,g,v){return Et(g[v+0],g[v+1])},S.Predictor10=function(h,g,v){return Et(Et(h,g[v-1]),Et(g[v+0],g[v+1]))},S.Predictor11=function(h,g,v){var I=g[v+0];return 0>=Ot(I>>24&255,h>>24&255,(g=g[v-1])>>24&255)+Ot(I>>16&255,h>>16&255,g>>16&255)+Ot(I>>8&255,h>>8&255,g>>8&255)+Ot(255&I,255&h,255&g)?I:h},S.Predictor12=function(h,g,v){var I=g[v+0];return(cn((h>>24&255)+(I>>24&255)-((g=g[v-1])>>24&255))<<24|cn((h>>16&255)+(I>>16&255)-(g>>16&255))<<16|cn((h>>8&255)+(I>>8&255)-(g>>8&255))<<8|cn((255&h)+(255&I)-(255&g)))>>>0},S.Predictor13=function(h,g,v){var I=g[v-1];return(Mt((h=Et(h,g[v+0]))>>24&255,I>>24&255)<<24|Mt(h>>16&255,I>>16&255)<<16|Mt(h>>8&255,I>>8&255)<<8|Mt(255&h,255&I))>>>0};var Yv=S.PredictorAdd0;S.PredictorAdd1=Wt,et("Predictor2","PredictorAdd2"),et("Predictor3","PredictorAdd3"),et("Predictor4","PredictorAdd4"),et("Predictor5","PredictorAdd5"),et("Predictor6","PredictorAdd6"),et("Predictor7","PredictorAdd7"),et("Predictor8","PredictorAdd8"),et("Predictor9","PredictorAdd9"),et("Predictor10","PredictorAdd10"),et("Predictor11","PredictorAdd11"),et("Predictor12","PredictorAdd12"),et("Predictor13","PredictorAdd13");var Dg=S.PredictorAdd2;bt("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),bt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var di,J2=S.ColorIndexInverseTransform,jl=S.MapARGB,zl=S.VP8LColorIndexInverseTransformAlpha,Zv=S.MapAlpha,Jv=S.VP8LPredictorsAdd=[];Jv.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var Xv,e1,sd,ad,ld,qh,cd,Gh,wa,$l,$n,lr,hi,xi,Hc,t1,xg,X2,_q,vq,yq,bq,wq,Iq,n1,Eq,Cq,Aq,Tq=o(511),Sq=o(2041),Dq=o(225),xq=o(767),Pq=0,rM=Sq,ew=Dq,qs=xq,Ia=Tq,tw=0,nw=1,Mq=2,rw=3,iw=4,iM=5,Nq=6,oM=7,sM=8,ow=9,aM=10,g2e=[2,3,7],m2e=[3,3,11],Rq=[280,256,256,256,40],_2e=[0,1,1,1,0],v2e=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],y2e=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],b2e=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],w2e=8,lM=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],cM=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],r1=null,I2e=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],E2e=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],kq=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],C2e=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],A2e=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],T2e=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],S2e=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ud=[],Qa=[],Wc=[],D2e=1,Oq=2,dd=[],Ea=[];rr("UpsampleRgbLinePair",T,3),rr("UpsampleBgrLinePair",$,3),rr("UpsampleRgbaLinePair",zr,4),rr("UpsampleBgraLinePair",Mn,4),rr("UpsampleArgbLinePair",Ke,4),rr("UpsampleRgba4444LinePair",we,2),rr("UpsampleRgb565LinePair",ce,2);var x2e=S.UpsampleRgbLinePair,P2e=S.UpsampleBgrLinePair,Lq=S.UpsampleRgbaLinePair,Fq=S.UpsampleBgraLinePair,Vq=S.UpsampleArgbLinePair,Uq=S.UpsampleRgba4444LinePair,M2e=S.UpsampleRgb565LinePair,sw=16,aw=1<<sw-1,i1=-227,uM=482,Bq=6,N2e=(256<<Bq)-1,jq=0,R2e=o(256),k2e=o(256),O2e=o(256),L2e=o(256),F2e=o(uM-i1),V2e=o(uM-i1);_r("YuvToRgbRow",T,3),_r("YuvToBgrRow",$,3),_r("YuvToRgbaRow",zr,4),_r("YuvToBgraRow",Mn,4),_r("YuvToArgbRow",Ke,4),_r("YuvToRgba4444Row",we,2),_r("YuvToRgb565Row",ce,2);var zq=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],lw=[0,2,8],U2e=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(h,g,v,I,O){var L=nw,j=new ue,q=new En;j.ba=q,q.S=L,q.width=[q.width],q.height=[q.height];var H=q.width,Y=q.height,oe=new Rt;if(null==oe||null==h)var ve=2;else e(null!=oe),ve=ba(h,g,v,oe.width,oe.height,oe.Pd,oe.Qd,oe.format,null);if(0!=ve?H=0:(null!=H&&(H[0]=oe.width[0]),null!=Y&&(Y[0]=oe.height[0]),H=1),H){q.width=q.width[0],q.height=q.height[0],null!=I&&(I[0]=q.width),null!=O&&(O[0]=q.height);e:{if(I=new Rc,(O=new Me).data=h,O.w=g,O.ha=v,O.kd=1,g=[0],e(null!=O),(0==(h=ba(O.data,O.w,O.ha,null,null,null,g,null,O))||7==h)&&g[0]&&(h=4),0==(g=h)){if(e(null!=j),I.data=O.data,I.w=O.w+O.offset,I.ha=O.ha-O.offset,I.put=xt,I.ac=zi,I.bc=fa,I.ma=j,O.xa){if(null==(h=Ao())){j=1;break e}if(function(Z,ae){var he=[0],xe=[0],_e=[0];t:for(;;){if(null==Z)return 0;if(null==ae)return Z.a=2,0;if(Z.l=ae,Z.a=0,Te(Z.m,ae.data,ae.w,ae.ha),!Cr(Z.m,he,xe,_e)){Z.a=3;break t}if(Z.xb=Oq,ae.width=he[0],ae.height=xe[0],!Vs(he[0],xe[0],1,Z,null))break t;return 1}return e(0!=Z.a),0}(h,I)){if(I=0==(g=rd(I.width,I.height,j.Oa,j.ba))){t:{I=h;n:for(;;){if(null==I){I=0;break t}if(e(null!=I.s.yc),e(null!=I.s.Ya),e(0<I.s.Wb),e(null!=(v=I.l)),e(null!=(O=v.ma)),0!=I.xb){if(I.ca=O.ba,I.tb=O.tb,e(null!=I.ca),!qc(O.Oa,v,rw)){I.a=2;break n}if(!Nl(I,v.width)||v.da)break n;if((v.da||wt(I.ca.S))&&oo(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=I.ca.f.kb.F&&oo()),I.Pb&&0<I.s.ua&&null==I.s.vb.X&&!J(I.s.vb,I.s.Wa.Xa)){I.a=1;break n}I.xb=0}if(!Go(I,I.V,I.Ba,I.c,I.i,v.o,Ml))break n;O.Dc=I.Ma,I=1;break t}e(0!=I.a),I=0}I=!I}I&&(g=h.a)}else g=h.a}else{if(null==(h=new Lh)){j=1;break e}if(h.Fa=O.na,h.P=O.P,h.qc=O.Sa,Vh(h,I)){if(0==(g=rd(I.width,I.height,j.Oa,j.ba))){if(h.Aa=0,v=j.Oa,e(null!=(O=h)),null!=v){if(0<(H=0>(H=v.Md)?0:100<H?255:255*H/100)){for(Y=oe=0;4>Y;++Y)12>(ve=O.pb[Y]).lc&&(ve.ia=H*U2e[0>ve.lc?0:ve.lc]>>3),oe|=ve.ia;oe&&(alert("todo:VP8InitRandom"),O.ia=1)}O.Ga=v.Id,100<O.Ga?O.Ga=100:0>O.Ga&&(O.Ga=0)}(function(Z,ae){if(null==Z)return 0;if(null==ae)return Or(Z,2,"NULL VP8Io parameter in VP8Decode().");if(!Z.cb&&!Vh(Z,ae))return 0;if(e(Z.cb),null==ae.ac||ae.ac(ae)){ae.ob&&(Z.L=0);var he=lw[Z.L];if(2==Z.L?(Z.yb=0,Z.zb=0):(Z.yb=ae.v-he>>4,Z.zb=ae.j-he>>4,0>Z.yb&&(Z.yb=0),0>Z.zb&&(Z.zb=0)),Z.Va=ae.o+15+he>>4,Z.Hb=ae.va+15+he>>4,Z.Hb>Z.za&&(Z.Hb=Z.za),Z.Va>Z.Ub&&(Z.Va=Z.Ub),0<Z.L){var xe=Z.ed;for(he=0;4>he;++he){var _e;if(Z.Qa.Cb){var Ne=Z.Qa.Lb[he];Z.Qa.Fb||(Ne+=xe.Tb)}else Ne=xe.Tb;for(_e=0;1>=_e;++_e){var Re=Z.gd[he][_e],qe=Ne;if(xe.Pc&&(qe+=xe.vd[0],_e&&(qe+=xe.od[0])),0<(qe=0>qe?0:63<qe?63:qe)){var Ue=qe;0<xe.wb&&(Ue=4<xe.wb?Ue>>2:Ue>>1)>9-xe.wb&&(Ue=9-xe.wb),1>Ue&&(Ue=1),Re.dd=Ue,Re.tc=2*qe+Ue,Re.ld=40<=qe?2:15<=qe?1:0}else Re.tc=0;Re.La=_e}}}he=0}else Or(Z,6,"Frame setup failed"),he=Z.a;if(he=0==he){if(he){Z.$c=0,0<Z.Aa||(Z.Ic=1);t:{xe=4*(Ue=Z.za);var St=32*Ue,ct=Ue+1,un=0<Z.L?Ue*(0<Z.Aa?2:1):0,_t=(2==Z.Aa?2:1)*Ue;if((Re=xe+832+(_e=3*(16*(he=Z.Ic)+lw[Z.L])/2*St)+(Ne=null!=Z.Fa&&0<Z.Fa.length?Z.Kc.c*Z.Kc.i:0))!=Re)he=0;else{if(Re>Z.Vb){if(Z.Vb=0,Z.Ec=o(Re),Z.Fc=0,null==Z.Ec){he=Or(Z,1,"no memory during frame initialization.");break t}Z.Vb=Re}qe=Z.Fc,Z.Ac=Re=Z.Ec,Z.Bc=qe,qe+=xe,Z.Gd=s(St,kh),Z.Hd=0,Z.rb=s(ct+1,za),Z.sb=1,Z.wa=un?s(un,To):null,Z.Y=0,Z.D.Nb=0,Z.D.wa=Z.wa,Z.D.Y=Z.Y,0<Z.Aa&&(Z.D.Y+=Ue),e(!0),Z.oc=Re,Z.pc=qe,qe+=832,Z.ya=s(_t,Nc),Z.aa=0,Z.D.ya=Z.ya,Z.D.aa=Z.aa,2==Z.Aa&&(Z.D.aa+=Ue),Z.R=16*Ue,Z.B=8*Ue,Ue=(St=lw[Z.L])*Z.R,St=St/2*Z.B,Z.sa=Re,Z.ta=qe+Ue,Z.qa=Z.sa,Z.ra=Z.ta+16*he*Z.R+St,Z.Ha=Z.qa,Z.Ia=Z.ra+8*he*Z.B+St,Z.$c=0,qe+=_e,Z.mb=Ne?Re:null,Z.nb=Ne?qe:null,e(qe+Ne<=Z.Fc+Z.Vb),kc(Z),i(Z.Ac,Z.Bc,0,xe),he=1}}if(he){if(ae.ka=0,ae.y=Z.sa,ae.O=Z.ta,ae.f=Z.qa,ae.N=Z.ra,ae.ea=Z.Ha,ae.Vd=Z.Ia,ae.fa=Z.R,ae.Rc=Z.B,ae.F=null,ae.J=0,!Pq){for(he=-255;255>=he;++he)Tq[255+he]=0>he?-he:he;for(he=-1020;1020>=he;++he)Sq[1020+he]=-128>he?-128:127<he?127:he;for(he=-112;112>=he;++he)Dq[112+he]=-16>he?-16:15<he?15:he;for(he=-255;510>=he;++he)xq[255+he]=0>he?0:255<he?255:he;Pq=1}cd=Oc,Gh=Ju,$l=Xu,$n=js,lr=zn,wa=Bs,hi=Bl,xi=jh,Hc=_,t1=R,xg=Wa,X2=zc,_q=Q,vq=ne,yq=nd,bq=va,wq=Bh,Iq=gs,Qa[0]=Gv,Qa[1]=qa,Qa[2]=Tg,Qa[3]=Fl,Qa[4]=Hv,Qa[5]=qi,Qa[6]=Ga,Qa[7]=Wv,Qa[8]=ga,Qa[9]=Kv,ud[0]=Ll,ud[1]=Ag,ud[2]=qv,ud[3]=Uh,ud[4]=Fc,ud[5]=So,ud[6]=ed,Wc[0]=_a,Wc[1]=$v,Wc[2]=Vl,Wc[3]=Ul,Wc[4]=Vc,Wc[5]=Sg,Wc[6]=tr,he=1}else he=0}he&&(he=function(Cn,Pi){for(Cn.M=0;Cn.M<Cn.Va;++Cn.M){var dn,vt=Cn.Jc[Cn.M&Cn.Xb],nt=Cn.m,fi=Cn;for(dn=0;dn<fi.za;++dn){var on=nt,Pn=fi,Ar=Pn.Ac,so=Pn.Bc+4*dn,Ho=Pn.zc,Yr=Pn.ya[Pn.aa+dn];if(Yr.$b=Pn.Qa.Bb?Pe(on,Pn.Pa.jb[0])?2+Pe(on,Pn.Pa.jb[2]):Pe(on,Pn.Pa.jb[1]):0,Pn.kc&&(Yr.Ad=Pe(on,Pn.Bd)),Yr.Za=!Pe(on,145)+0,Yr.Za){var Do=Yr.Ob,Wo=0;for(Pn=0;4>Pn;++Pn){var Mi,Nn=Ho[0+Pn];for(Mi=0;4>Mi;++Mi){for(var Zn=kq[Pe(on,(Nn=A2e[Ar[so+Mi]][Nn])[0])];0<Zn;)Zn=kq[2*Zn+Pe(on,Nn[Zn])];Ar[so+Mi]=Nn=-Zn}r(Do,Wo,Ar,so,4),Wo+=4,Ho[0+Pn]=Nn}}else Nn=Pe(on,156)?Pe(on,128)?1:3:Pe(on,163)?2:0,Yr.Ob[0]=Nn,i(Ar,so,Nn,4),i(Ho,0,Nn,4);Yr.Dd=Pe(on,142)?Pe(on,114)?Pe(on,183)?1:3:2:0}if(fi.m.Ka)return Or(Cn,7,"Premature end-of-partition0 encountered.");for(;Cn.ja<Cn.za;++Cn.ja){if(fi=vt,on=(nt=Cn).rb[nt.sb-1],Ar=nt.rb[nt.sb+nt.ja],dn=nt.ya[nt.aa+nt.ja],so=nt.kc?dn.Ad:0)on.la=Ar.la=0,dn.Za||(on.Na=Ar.Na=0),dn.Hc=0,dn.Gc=0,dn.ia=0;else{var Zr,Jn;if(on=Ar,Ar=fi,so=nt.Pa.Xc,Yr=nt.pb[(Ho=nt.ya[nt.aa+nt.ja]).$b],Wo=nt.rb[nt.sb-1],Nn=Mi=0,i(Pn=Ho.ad,Do=0,0,384),Ho.Za)var ao=0,Ya=so[3];else{Zn=o(16);var pi=on.Na+Wo.Na;if(pi=r1(Ar,so[1],pi,Yr.Eb,0,Zn,0),on.Na=Wo.Na=(0<pi)+0,1<pi)cd(Zn,0,Pn,Do);else{var _s=Zn[0]+3>>3;for(Zn=0;256>Zn;Zn+=16)Pn[Do+Zn]=_s}ao=1,Ya=so[0]}var cr=15&on.la,Ni=15&Wo.la;for(Zn=0;4>Zn;++Zn){var Gs=1&Ni;for(_s=Jn=0;4>_s;++_s)cr=cr>>1|(Gs=(pi=r1(Ar,Ya,pi=Gs+(1&cr),Yr.Sc,ao,Pn,Do))>ao)<<7,Jn=Jn<<2|(3<pi?3:1<pi?2:0!=Pn[Do+0]),Do+=16;cr>>=4,Ni=Ni>>1|Gs<<7,Mi=(Mi<<8|Jn)>>>0}for(Ya=cr,ao=Ni>>4,Zr=0;4>Zr;Zr+=2){for(Jn=0,cr=on.la>>4+Zr,Ni=Wo.la>>4+Zr,Zn=0;2>Zn;++Zn){for(Gs=1&Ni,_s=0;2>_s;++_s)cr=cr>>1|(Gs=0<(pi=r1(Ar,so[2],pi=Gs+(1&cr),Yr.Qc,0,Pn,Do)))<<3,Jn=Jn<<2|(3<pi?3:1<pi?2:0!=Pn[Do+0]),Do+=16;cr>>=2,Ni=Ni>>1|Gs<<5}Nn|=Jn<<4*Zr,Ya|=cr<<4<<Zr,ao|=(240&Ni)<<Zr}on.la=Ya,Wo.la=ao,Ho.Hc=Mi,Ho.Gc=Nn,Ho.ia=43690&Nn?0:Yr.ia,so=!(Mi|Nn)}if(0<nt.L&&(nt.wa[nt.Y+nt.ja]=nt.gd[dn.$b][dn.Za],nt.wa[nt.Y+nt.ja].La|=!so),fi.Ka)return Or(Cn,7,"Premature end-of-file encountered.")}if(kc(Cn),nt=Pi,fi=1,dn=(vt=Cn).D,on=0<vt.L&&vt.M>=vt.zb&&vt.M<=vt.Va,0==vt.Aa)t:{if(dn.M=vt.M,dn.uc=on,Lr(vt,dn),fi=1,dn=(Jn=vt.D).Nb,on=(Nn=lw[vt.L])*vt.R,so=vt.sa,Ho=vt.ta-on+(Zn=16*dn*vt.R),Yr=vt.qa,Pn=vt.ra-(Ar=Nn/2*vt.B)+(_s=8*dn*vt.B),Do=vt.Ha,Wo=vt.Ia-Ar+_s,Ni=0==(cr=Jn.M),Mi=cr>=vt.Va-1,2==vt.Aa&&Lr(vt,Jn),Jn.uc)for(Gs=(pi=vt).D.M,e(pi.D.uc),Jn=pi.yb;Jn<pi.Hb;++Jn){Ya=Gs;var Ko=(Hs=(lo=pi).D).Nb,Hs=Hs.wa[Hs.Y+(ao=Jn)],Ws=lo.sa,vs=lo.ta+16*Ko*(Zr=lo.R)+16*ao,Ks=Hs.dd,vr=Hs.tc;if(0!=vr)if(e(3<=vr),1==lo.L)0<ao&&bq(Ws,vs,Zr,vr+4),Hs.La&&Iq(Ws,vs,Zr,vr),0<Ya&&yq(Ws,vs,Zr,vr+4),Hs.La&&wq(Ws,vs,Zr,vr);else{var Qs=lo.B,Za=lo.qa,Hh=lo.ra+8*Ko*Qs+8*ao,Kc=lo.Ha,lo=lo.Ia+8*Ko*Qs+8*ao;Ko=Hs.ld,0<ao&&(xi(Ws,vs,Zr,vr+4,Ks,Ko),t1(Za,Hh,Kc,lo,Qs,vr+4,Ks,Ko)),Hs.La&&(X2(Ws,vs,Zr,vr,Ks,Ko),vq(Za,Hh,Kc,lo,Qs,vr,Ks,Ko)),0<Ya&&(hi(Ws,vs,Zr,vr+4,Ks,Ko),Hc(Za,Hh,Kc,lo,Qs,vr+4,Ks,Ko)),Hs.La&&(xg(Ws,vs,Zr,vr,Ks,Ko),_q(Za,Hh,Kc,lo,Qs,vr,Ks,Ko))}}if(vt.ia&&alert("todo:DitherRow"),null!=nt.put){if(Jn=16*cr,cr=16*(cr+1),Ni?(nt.y=vt.sa,nt.O=vt.ta+Zn,nt.f=vt.qa,nt.N=vt.ra+_s,nt.ea=vt.Ha,nt.W=vt.Ia+_s):(Jn-=Nn,nt.y=so,nt.O=Ho,nt.f=Yr,nt.N=Pn,nt.ea=Do,nt.W=Wo),Mi||(cr-=Nn),cr>nt.o&&(cr=nt.o),nt.F=null,nt.J=null,null!=vt.Fa&&0<vt.Fa.length&&Jn<cr&&(nt.J=nr(vt,nt,Jn,cr-Jn),nt.F=vt.mb,null==nt.F&&0==nt.F.length)){fi=Or(vt,3,"Could not decode alpha data.");break t}Jn<nt.j&&(Nn=nt.j-Jn,Jn=nt.j,e(!(1&Nn)),nt.O+=vt.R*Nn,nt.N+=vt.B*(Nn>>1),nt.W+=vt.B*(Nn>>1),null!=nt.F&&(nt.J+=nt.width*Nn)),Jn<cr&&(nt.O+=nt.v,nt.N+=nt.v>>1,nt.W+=nt.v>>1,null!=nt.F&&(nt.J+=nt.v),nt.ka=Jn-nt.j,nt.U=nt.va-nt.v,nt.T=cr-Jn,fi=nt.put(nt))}dn+1!=vt.Ic||Mi||(r(vt.sa,vt.ta-on,so,Ho+16*vt.R,on),r(vt.qa,vt.ra-Ar,Yr,Pn+8*vt.B,Ar),r(vt.Ha,vt.Ia-Ar,Do,Wo+8*vt.B,Ar))}if(!fi)return Or(Cn,6,"Output aborted.")}return 1}(Z,ae)),null!=ae.bc&&ae.bc(ae),he&=1}return he?(Z.cb=0,he):0})(h,I)||(g=h.a)}}else g=h.a}0==g&&null!=j.Oa&&j.Oa.fd&&(g=Qv(j.ba))}j=g}L=0!=j?null:11>L?q.f.RGBA.eb:q.f.kb.y}else L=null;return L};var $q=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(S,V){for(var A="",P=0;P<4;P++)A+=String.fromCharCode(S[V++]);return A}function u(S,V){return S[V+0]|S[V+1]<<8}function d(S,V){return(S[V+0]|S[V+1]<<8|S[V+2]<<16)>>>0}function m(S,V){return(S[V+0]|S[V+1]<<8|S[V+2]<<16|S[V+3]<<24)>>>0}new l;var p=[0],b=[0],w=[],E=new l,C=n,k=function(S,V){var A={},P=0,N=!1,te=0,me=0;if(A.frames=[],!
/** @license
               * Copyright (c) 2017 Dominik Homberger
              Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
              The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
              THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
              https://webpjs.appspot.com
              WebPRiffParser dominikhlbg@gmail.com
              */
function(U,K){for(var ee=0;ee<4;ee++)if(U[K+ee]!="RIFF".charCodeAt(ee))return!0;return!1}(S,V)){for(m(S,V+=4),V+=8;V<S.length;){var Ae=c(S,V),Ce=m(S,V+=4);V+=4;var ge=Ce+(1&Ce);switch(Ae){case"VP8 ":case"VP8L":void 0===A.frames[P]&&(A.frames[P]={}),(Oe=A.frames[P]).src_off=N?me:V-8,Oe.src_size=te+Ce+8,P++,N&&(N=!1,te=0,me=0);break;case"VP8X":(Oe=A.header={}).feature_flags=S[V];var Te=V+4;Oe.canvas_width=1+d(S,Te),Oe.canvas_height=1+d(S,Te+=3),Te+=3;break;case"ALPH":N=!0,te=ge+8,me=V-8;break;case"ANIM":(Oe=A.header).bgcolor=m(S,V),Oe.loop_count=u(S,Te=V+4),Te+=2;break;case"ANMF":var Ge,Oe;(Oe=A.frames[P]={}).offset_x=2*d(S,V),Oe.offset_y=2*d(S,V+=3),Oe.width=1+d(S,V+=3),Oe.height=1+d(S,V+=3),Oe.duration=d(S,V+=3),V+=3,Ge=S[V++],Oe.dispose=1&Ge,Oe.blend=Ge>>1&1}"ANMF"!=Ae&&(V+=ge)}return A}}(C,0);k.response=C,k.rgbaoutput=!0,k.dataurl=!1;var B=k.header?k.header:null,F=k.frames?k.frames:null;if(B){B.loop_counter=B.loop_count,p=[B.canvas_height],b=[B.canvas_width];for(var X=0;X<F.length&&0!=F[X].blend;X++);}var se=F[0],z=E.WebPDecodeRGBA(C,se.src_off,se.src_size,b,p);se.rgba=z,se.imgwidth=b[0],se.imgheight=p[0];for(var x=0;x<b[0]*p[0]*4;x++)w[x]=z[x];return this.width=b,this.height=p,this.data=w,this}(function(n){var e,t,r,i,o,s,a,l,c,u=function(U){return this.isStrokeTransparent=(U=U||{}).isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=void 0!==U.transform?U.transform.clone():new l,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new s,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new s,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof U.ignoreClearRect||U.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=U;Object.defineProperty(this,"pdf",{get:function(){return K}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(Se){ee=!!Se}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(Se){re=!!Se}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(Se){isNaN(Se)||(le=Se)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(Se){isNaN(Se)||(de=Se)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Se){var J;"number"==typeof Se?J=[Se,Se,Se,Se]:((J=new Array(4))[0]=Se[0],J[1]=Se.length>=2?Se[1]:J[0],J[2]=Se.length>=3?Se[2]:J[0],J[3]=Se.length>=4?Se[3]:J[1]),c.margin=J}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(Se){be=Se}});var Ee=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ee},set:function(Se){Ee=Se}});var Pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Pe},set:function(Se){Pe=Se}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Se){Se instanceof u&&(c=Se)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Se){c.path=Se}});var De=[];Object.defineProperty(this,"ctxStack",{get:function(){return De},set:function(Se){De=Se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Se){var J;J=m(Se),this.ctx.fillStyle=J.style,this.ctx.isFillTransparent=0===J.a,this.ctx.fillOpacity=J.a,this.pdf.setFillColor(J.r,J.g,J.b,{a:J.a}),this.pdf.setTextColor(J.r,J.g,J.b,{a:J.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Se){var J=m(Se);this.ctx.strokeStyle=J.style,this.ctx.isStrokeTransparent=0===J.a,this.ctx.strokeOpacity=J.a,0===J.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(J.r,J.g,J.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Se){-1!==["butt","round","square"].indexOf(Se)&&(this.ctx.lineCap=Se,this.pdf.setLineCap(Se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Se){isNaN(Se)||(this.ctx.lineWidth=Se,this.pdf.setLineWidth(Se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Se){-1!==["bevel","round","miter"].indexOf(Se)&&(this.ctx.lineJoin=Se,this.pdf.setLineJoin(Se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Se){isNaN(Se)||(this.ctx.miterLimit=Se,this.pdf.setMiterLimit(Se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Se){this.ctx.textBaseline=Se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Se){-1!==["right","end","center","left","start"].indexOf(Se)&&(this.ctx.textAlign=Se)}});var Ze=null,Ye=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ye},set:function(Se){Ze=null,Ye=Se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Se){var J;if(this.ctx.font=Se,null!==(J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Se))){var ln=J[1],Bt=J[3],Dt=J[4],$e=J[6],mt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Dt)[2];Dt=Math.floor("px"===mt?parseFloat(Dt)*this.pdf.internal.scaleFactor:"em"===mt?parseFloat(Dt)*this.pdf.getFontSize():parseFloat(Dt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Dt);var et=function(Nt){var bt,Vn,pn=[],He=Nt.trim();if(""===He)return XP;if(He in $$)return[$$[He]];for(;""!==He;){switch(Vn=null,bt=(He=G$(He)).charAt(0)){case'"':case"'":Vn=dye(He.substring(1),bt);break;default:Vn=hye(He)}if(null===Vn||(pn.push(Vn[0]),""!==(He=G$(Vn[1]))&&","!==He.charAt(0)))return XP;He=He.replace(/^,/,"")}return pn}($e);if(this.fontFaces){var cn=function(Nt,bt,Vn){for(var pn=(Vn=Vn||{}).defaultFontFamily||"times",He=Object.assign({},uye,Vn.genericFontFamilies||{}),At=null,Kt=null,Tt=0;Tt<bt.length;++Tt)if(He[(At=JP(bt[Tt])).family]&&(At.family=He[At.family]),Nt.hasOwnProperty(At.family)){Kt=Nt[At.family];break}if(!(Kt=Kt||Nt[pn]))throw new Error("Could not find a font-family for the rule '"+q$(At)+"' and default family '"+pn+"'.");if(Kt=function(rn,wt){if(wt[rn])return wt[rn];var jn=ZP[rn],En=z$(wt,B$,jn,jn<=ZP.normal?-1:1);if(!En)throw new Error("Could not find a matching font-stretch value for "+rn);return En}(At.stretch,Kt),Kt=function(rn,wt){if(wt[rn])return wt[rn];for(var jn=U$[rn],Er=0;Er<jn.length;++Er)if(wt[jn[Er]])return wt[jn[Er]];throw new Error("Could not find a matching font-style for "+rn)}(At.style,Kt),!(Kt=function(rn,wt){if(wt[rn])return wt[rn];if(400===rn&&wt[500])return wt[500];if(500===rn&&wt[400])return wt[400];var Er=z$(wt,j$,cye[rn],rn<400?-1:1);if(!Er)throw new Error("Could not find a matching font-weight for value "+rn);return Er}(At.weight,Kt)))throw new Error("Failed to resolve a font for the rule '"+q$(At)+"'.");return Kt}(function(Nt,bt){if(null===Ze){var Vn=(pn=Nt.getFontList(),He=[],Object.keys(pn).forEach(function(At){pn[At].forEach(function(Kt){var Tt=null;switch(Kt){case"bold":Tt={family:At,weight:"bold"};break;case"italic":Tt={family:At,style:"italic"};break;case"bolditalic":Tt={family:At,weight:"bold",style:"italic"};break;case"":case"normal":Tt={family:At}}null!==Tt&&(Tt.ref={name:At,style:Kt},He.push(Tt))})}),He);Ze=function(pn){for(var He={},At=0;At<pn.length;++At){var Kt=JP(pn[At]),Tt=Kt.family,rn=Kt.stretch,wt=Kt.style,jn=Kt.weight;He[Tt]=He[Tt]||{},He[Tt][rn]=He[Tt][rn]||{},He[Tt][rn][wt]=He[Tt][rn][wt]||{},He[Tt][rn][wt][jn]=Kt}return He}(Vn.concat(bt))}var pn,He;return Ze}(this.pdf,this.fontFaces),et.map(function(Nt){return{family:Nt,stretch:"normal",weight:Bt,style:ln}}));this.pdf.setFont(cn.ref.name,cn.ref.style)}else{var Mt="";("bold"===Bt||parseInt(Bt,10)>=700||"bold"===ln)&&(Mt="bold"),"italic"===ln&&(Mt+="italic"),0===Mt.length&&(Mt="normal");for(var Ot="",Wt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},yt=0;yt<et.length;yt++){if(void 0!==this.pdf.internal.getFont(et[yt],Mt,{noFallback:!0,disableWarning:!0})){Ot=et[yt];break}if("bolditalic"===Mt&&void 0!==this.pdf.internal.getFont(et[yt],"bold",{noFallback:!0,disableWarning:!0}))Ot=et[yt],Mt="bold";else if(void 0!==this.pdf.internal.getFont(et[yt],"normal",{noFallback:!0,disableWarning:!0})){Ot=et[yt],Mt="normal";break}}if(""===Ot)for(var pt=0;pt<et.length;pt++)if(Wt[et[pt]]){Ot=Wt[et[pt]];break}this.pdf.setFont(Ot=""===Ot?"Times":Ot,Mt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Se){this.ctx.globalCompositeOperation=Se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Se){this.ctx.globalAlpha=Se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Se){this.ctx.lineDashOffset=Se,Oe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Se){this.ctx.lineDash=Se,Oe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Se){this.ctx.ignoreClearRect=!!Se}})};d.prototype.setLineDash=function(U){this.lineDash=U},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){F.call(this,"fill",!1)},d.prototype.stroke=function(){F.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(U,K){if(isNaN(U)||isNaN(K))throw ar.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new s(U,K));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new s(U,K)},d.prototype.closePath=function(){var U=new s(0,0),K=0;for(K=this.path.length-1;-1!==K;K--)if("begin"===this.path[K].type&&"object"===Kn(this.path[K+1])&&"number"==typeof this.path[K+1].x){U=new s(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(U.x,U.y)},d.prototype.lineTo=function(U,K){if(isNaN(U)||isNaN(K))throw ar.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new s(U,K));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new s(ee.x,ee.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},d.prototype.quadraticCurveTo=function(U,K,ee,re){if(isNaN(ee)||isNaN(re)||isNaN(U)||isNaN(K))throw ar.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new s(ee,re)),de=this.ctx.transform.applyToPoint(new s(U,K));this.path.push({type:"qct",x1:de.x,y1:de.y,x:le.x,y:le.y}),this.ctx.lastPoint=new s(le.x,le.y)},d.prototype.bezierCurveTo=function(U,K,ee,re,le,de){if(isNaN(le)||isNaN(de)||isNaN(U)||isNaN(K)||isNaN(ee)||isNaN(re))throw ar.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new s(le,de)),Ee=this.ctx.transform.applyToPoint(new s(U,K)),Pe=this.ctx.transform.applyToPoint(new s(ee,re));this.path.push({type:"bct",x1:Ee.x,y1:Ee.y,x2:Pe.x,y2:Pe.y,x:be.x,y:be.y}),this.ctx.lastPoint=new s(be.x,be.y)},d.prototype.arc=function(U,K,ee,re,le,de){if(isNaN(U)||isNaN(K)||isNaN(ee)||isNaN(re)||isNaN(le))throw ar.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new s(U,K));U=be.x,K=be.y;var Ee=this.ctx.transform.applyToPoint(new s(0,ee)),Pe=this.ctx.transform.applyToPoint(new s(0,0));ee=Math.sqrt(Math.pow(Ee.x-Pe.x,2)+Math.pow(Ee.y-Pe.y,2))}Math.abs(le-re)>=2*Math.PI&&(re=0,le=2*Math.PI),this.path.push({type:"arc",x:U,y:K,radius:ee,startAngle:re,endAngle:le,counterclockwise:de})},d.prototype.arcTo=function(U,K,ee,re,le){throw new Error("arcTo not implemented.")},d.prototype.rect=function(U,K,ee,re){if(isNaN(U)||isNaN(K)||isNaN(ee)||isNaN(re))throw ar.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,K),this.lineTo(U+ee,K),this.lineTo(U+ee,K+re),this.lineTo(U,K+re),this.lineTo(U,K),this.lineTo(U+ee,K),this.lineTo(U,K)},d.prototype.fillRect=function(U,K,ee,re){if(isNaN(U)||isNaN(K)||isNaN(ee)||isNaN(re))throw ar.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var le={};"butt"!==this.lineCap&&(le.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,K,ee,re),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},d.prototype.strokeRect=function(U,K,ee,re){if(isNaN(U)||isNaN(K)||isNaN(ee)||isNaN(re))throw ar.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(U,K,ee,re),this.stroke())},d.prototype.clearRect=function(U,K,ee,re){if(isNaN(U)||isNaN(K)||isNaN(ee)||isNaN(re))throw ar.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,K,ee,re))},d.prototype.save=function(U){U="boolean"!=typeof U||U;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},d.prototype.restore=function(U){U="boolean"!=typeof U||U;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(K),U&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(U){var K,ee,re,le;if(!0===U.isCanvasGradient&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))K=0,ee=0,re=0,le=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(null!==de)K=parseInt(de[1]),ee=parseInt(de[2]),re=parseInt(de[3]),le=1;else if(null!==(de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U)))K=parseInt(de[1]),ee=parseInt(de[2]),re=parseInt(de[3]),le=parseFloat(de[4]);else{if(le=1,"string"==typeof U&&"#"!==U.charAt(0)){var be=new S$(U);U=be.ok?be.toHex():"#000000"}4===U.length?(K=U.substring(1,2),K+=K,ee=U.substring(2,3),ee+=ee,re=U.substring(3,4),re+=re):(K=U.substring(1,3),ee=U.substring(3,5),re=U.substring(5,7)),K=parseInt(K,16),ee=parseInt(ee,16),re=parseInt(re,16)}}return{r:K,g:ee,b:re,a:le,style:U}},p=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},b=function(){return!(!this.ctx.isStrokeTransparent&&0!=this.globalAlpha)};d.prototype.fillText=function(U,K,ee,re){if(isNaN(K)||isNaN(ee)||"string"!=typeof U)throw ar.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!p.call(this)){var le=ge(this.ctx.transform.rotation);P.call(this,{text:U,x:K,y:ee,scale:this.ctx.transform.scaleX,angle:le,align:this.textAlign,maxWidth:re})}},d.prototype.strokeText=function(U,K,ee,re){if(isNaN(K)||isNaN(ee)||"string"!=typeof U)throw ar.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){re=isNaN(re)?void 0:re;var le=ge(this.ctx.transform.rotation);P.call(this,{text:U,x:K,y:ee,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:re})}},d.prototype.measureText=function(U){if("string"!=typeof U)throw ar.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,ee=this.pdf.internal.scaleFactor,re=K.internal.getFontSize(),le=K.getStringUnitWidth(U)*re/K.internal.scaleFactor;return new function(de){var be=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return be}}),this}({width:le*=Math.round(96*ee/72*1e4)/1e4})},d.prototype.scale=function(U,K){if(isNaN(U)||isNaN(K))throw ar.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new l(U,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},d.prototype.rotate=function(U){if(isNaN(U))throw ar.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new l(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},d.prototype.translate=function(U,K){if(isNaN(U)||isNaN(K))throw ar.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new l(1,0,0,1,U,K);this.ctx.transform=this.ctx.transform.multiply(ee)},d.prototype.transform=function(U,K,ee,re,le,de){if(isNaN(U)||isNaN(K)||isNaN(ee)||isNaN(re)||isNaN(le)||isNaN(de))throw ar.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new l(U,K,ee,re,le,de);this.ctx.transform=this.ctx.transform.multiply(be)},d.prototype.setTransform=function(U,K,ee,re,le,de){U=isNaN(U)?1:U,K=isNaN(K)?0:K,ee=isNaN(ee)?0:ee,re=isNaN(re)?1:re,le=isNaN(le)?0:le,de=isNaN(de)?0:de,this.ctx.transform=new l(U,K,ee,re,le,de)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(U,K,ee,re,le,de,be,Ee,Pe){var De=this.pdf.getImageProperties(U),Ze=1,Ye=1,Se=1,J=1;void 0!==re&&void 0!==Ee&&(Se=Ee/re,J=Pe/le,Ze=De.width/re*Ee/re,Ye=De.height/le*Pe/le),void 0===de&&(de=K,be=ee,K=0,ee=0),void 0!==re&&void 0===Ee&&(Ee=re,Pe=le),void 0===re&&void 0===Ee&&(Ee=De.width,Pe=De.height);for(var ln,Bt=this.ctx.transform.decompose(),Dt=ge(Bt.rotate.shx),$e=new l,mt=($e=($e=($e=$e.multiply(Bt.translate)).multiply(Bt.skew)).multiply(Bt.scale)).applyToRectangle(new a(de-K*Se,be-ee*J,re*Ze,le*Ye)),et=E.call(this,mt),jt=[],Et=0;Et<et.length;Et+=1)-1===jt.indexOf(et[Et])&&jt.push(et[Et]);if(B(jt),this.autoPaging)for(var cn=jt[0],Mt=jt[jt.length-1],Ot=cn;Ot<Mt+1;Ot++){this.pdf.setPage(Ot);var Wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],yt=1===Ot?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=1===Ot?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Ot-2)*Nt;if(0!==this.ctx.clip_path.length){var Vn=this.path;ln=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(ln,this.posX+this.margin[3],-bt+yt+this.ctx.prevPageLastElemOffset),X.call(this,"fill",!0),this.path=Vn}var pn=JSON.parse(JSON.stringify(mt));pn=k([pn],this.posX+this.margin[3],-bt+yt+this.ctx.prevPageLastElemOffset)[0];var He=(Ot>cn||Ot<Mt)&&w.call(this);He&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Wt,Nt,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",pn.x,pn.y,pn.w,pn.h,null,null,Dt),He&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",mt.x,mt.y,mt.w,mt.h,null,null,Dt)};var E=function(U,K,ee){var re=[];K=K||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":re.push(Math.floor((U.y+le)/ee)+1);break;case"arc":re.push(Math.floor((U.y+le-U.radius)/ee)+1),re.push(Math.floor((U.y+le+U.radius)/ee)+1);break;case"qct":var de=Te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);re.push(Math.floor((de.y+le)/ee)+1),re.push(Math.floor((de.y+de.h+le)/ee)+1);break;case"bct":var be=Ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);re.push(Math.floor((be.y+le)/ee)+1),re.push(Math.floor((be.y+be.h+le)/ee)+1);break;case"rect":re.push(Math.floor((U.y+le)/ee)+1),re.push(Math.floor((U.y+U.h+le)/ee)+1)}for(var Ee=0;Ee<re.length;Ee+=1)for(;this.pdf.internal.getNumberOfPages()<re[Ee];)C.call(this);return re},C=function(){var U=this.fillStyle,K=this.strokeStyle,ee=this.font,re=this.lineCap,le=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=K,this.font=ee,this.lineCap=re,this.lineWidth=le,this.lineJoin=de},k=function(U,K,ee){for(var re=0;re<U.length;re++)switch(U[re].type){case"bct":U[re].x2+=K,U[re].y2+=ee;case"qct":U[re].x1+=K,U[re].y1+=ee;default:U[re].x+=K,U[re].y+=ee}return U},B=function(U){return U.sort(function(K,ee){return K-ee})},F=function(U,K){for(var ee,re,le=this.fillStyle,de=this.strokeStyle,be=this.lineCap,Ee=this.lineWidth,Pe=Math.abs(Ee*this.ctx.transform.scaleX),De=this.lineJoin,Ze=JSON.parse(JSON.stringify(this.path)),Ye=JSON.parse(JSON.stringify(this.path)),Se=[],J=0;J<Ye.length;J++)if(void 0!==Ye[J].x)for(var ln=E.call(this,Ye[J]),Bt=0;Bt<ln.length;Bt+=1)-1===Se.indexOf(ln[Bt])&&Se.push(ln[Bt]);for(var Dt=0;Dt<Se.length;Dt++)for(;this.pdf.internal.getNumberOfPages()<Se[Dt];)C.call(this);if(B(Se),this.autoPaging)for(var $e=Se[0],mt=Se[Se.length-1],et=$e;et<mt+1;et++){this.pdf.setPage(et),this.fillStyle=le,this.strokeStyle=de,this.lineCap=be,this.lineWidth=Pe,this.lineJoin=De;var jt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Et=1===et?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ot=1===et?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(et-2)*Mt;if(0!==this.ctx.clip_path.length){var Wt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(ee,this.posX+this.margin[3],-Ot+Et+this.ctx.prevPageLastElemOffset),X.call(this,U,!0),this.path=Wt}if(re=JSON.parse(JSON.stringify(Ze)),this.path=k(re,this.posX+this.margin[3],-Ot+Et+this.ctx.prevPageLastElemOffset),!1===K||0===et){var yt=(et>$e||et<mt)&&w.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jt,Mt,null).clip().discardPath()),X.call(this,U,K),yt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ee}else this.lineWidth=Pe,X.call(this,U,K),this.lineWidth=Ee;this.path=Ze},X=function(U,K){if(("stroke"!==U||K||!b.call(this))&&("stroke"===U||K||!p.call(this))){for(var ee,re,le=[],de=this.path,be=0;be<de.length;be++){var Ee=de[be];switch(Ee.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:Ee,deltas:[],abs:[]});break;case"lt":var Pe=le.length;if(de[be-1]&&!isNaN(de[be-1].x)&&(ee=[Ee.x-de[be-1].x,Ee.y-de[be-1].y],Pe>0))for(;Pe>=0;Pe--)if(!0!==le[Pe-1].close&&!0!==le[Pe-1].begin){le[Pe-1].deltas.push(ee),le[Pe-1].abs.push(Ee);break}break;case"bct":le[le.length-1].deltas.push(ee=[Ee.x1-de[be-1].x,Ee.y1-de[be-1].y,Ee.x2-de[be-1].x,Ee.y2-de[be-1].y,Ee.x-de[be-1].x,Ee.y-de[be-1].y]);break;case"qct":le[le.length-1].deltas.push(ee=[de[be-1].x+2/3*(Ee.x1-de[be-1].x)-de[be-1].x,de[be-1].y+2/3*(Ee.y1-de[be-1].y)-de[be-1].y,Ee.x+2/3*(Ee.x1-Ee.x)-de[be-1].x,Ee.y+2/3*(Ee.y1-Ee.y)-de[be-1].y,Ee.x-de[be-1].x,Ee.y-de[be-1].y]);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(Ee)}}re=K?null:"stroke"===U?"stroke":"fill";for(var Bt=!1,Dt=0;Dt<le.length;Dt++)if(le[Dt].arc)for(var $e=le[Dt].abs,mt=0;mt<$e.length;mt++){var et=$e[mt];"arc"===et.type?x.call(this,et.x,et.y,et.radius,et.startAngle,et.endAngle,et.counterclockwise,void 0,K,!Bt):N.call(this,et.x,et.y),Bt=!0}else!0===le[Dt].close?(this.pdf.internal.out("h"),Bt=!1):!0!==le[Dt].begin&&(te.call(this,le[Dt].deltas,le[Dt].start.x,le[Dt].start.y),Bt=!0);re&&S.call(this,re),K&&V.call(this)}},se=function(U){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-ee;case"top":return U+K-ee;case"hanging":return U+K-2*ee;case"middle":return U+K/2-ee;default:return U}},z=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(K,ee){this.colorStops.push([K,ee])},U.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var x=function(U,K,ee,re,le,de,be,Ee,Pe){for(var De=Ae.call(this,ee,re,le,de),Ze=0;Ze<De.length;Ze++){var Ye=De[Ze];0===Ze&&(Pe?A.call(this,Ye.x1+U,Ye.y1+K):N.call(this,Ye.x1+U,Ye.y1+K)),me.call(this,U,K,Ye.x2,Ye.y2,Ye.x3,Ye.y3,Ye.x4,Ye.y4)}Ee?V.call(this):S.call(this,be)},S=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},V=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(U,K){this.pdf.internal.out(t(U)+" "+r(K)+" m")},P=function(U){var K;switch(U.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var ee=this.pdf.getTextDimensions(U.text),re=se.call(this,U.y),le=z.call(this,re)-ee.h,de=this.ctx.transform.applyToPoint(new s(U.x,re)),be=this.ctx.transform.decompose(),Ee=new l;Ee=(Ee=(Ee=Ee.multiply(be.translate)).multiply(be.skew)).multiply(be.scale);for(var Pe,De,Ze,Ye=this.ctx.transform.applyToRectangle(new a(U.x,re,ee.w,ee.h)),Se=Ee.applyToRectangle(new a(U.x,le,ee.w,ee.h)),J=E.call(this,Se),ln=[],Bt=0;Bt<J.length;Bt+=1)-1===ln.indexOf(J[Bt])&&ln.push(J[Bt]);if(B(ln),this.autoPaging)for(var Dt=ln[0],$e=ln[ln.length-1],mt=Dt;mt<$e+1;mt++){this.pdf.setPage(mt);var et=1===mt?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.margin[2],cn=Et-this.margin[0],Mt=this.pdf.internal.pageSize.width-this.margin[1],Ot=Mt-this.margin[3],Wt=1===mt?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(mt-2)*cn;if(0!==this.ctx.clip_path.length){var yt=this.path;Pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(Pe,this.posX+this.margin[3],-1*Wt+et),X.call(this,"fill",!0),this.path=yt}var pt=k([JSON.parse(JSON.stringify(Se))],this.posX+this.margin[3],-Wt+et+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*U.scale),this.lineWidth=(Ze=this.lineWidth)*U.scale);var Nt="text"!==this.autoPaging;if(Nt||pt.y+pt.h<=Et){if(Nt||pt.y>=et&&pt.x<=Mt){var bt=Nt?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||Mt-pt.x)[0],Vn=k([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-Wt+et+this.ctx.prevPageLastElemOffset)[0],pn=Nt&&(mt>Dt||mt<$e)&&w.call(this);pn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ot,cn,null).clip().discardPath()),this.pdf.text(bt,Vn.x,Vn.y,{angle:U.angle,align:K,renderingMode:U.renderingMode}),pn&&this.pdf.restoreGraphicsState()}}else pt.y<Et&&(this.ctx.prevPageLastElemOffset+=Et-pt.y);U.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=Ze)}else U.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*U.scale),this.lineWidth=(Ze=this.lineWidth)*U.scale),this.pdf.text(U.text,de.x+this.posX,de.y+this.posY,{angle:U.angle,align:K,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=Ze)},N=function(U,K,ee,re){re=re||0,this.pdf.internal.out(t(U+(ee=ee||0))+" "+r(K+re)+" l")},te=function(U,K,ee){return this.pdf.lines(U,K,ee,null,null)},me=function(U,K,ee,re,le,de,be,Ee){this.pdf.internal.out([e(i(ee+U)),e(o(re+K)),e(i(le+U)),e(o(de+K)),e(i(be+U)),e(o(Ee+K)),"c"].join(" "))},Ae=function(U,K,ee,re){for(var le=2*Math.PI,de=Math.PI/2;K>ee;)K-=le;var be=Math.abs(ee-K);be<le&&re&&(be=le-be);for(var Ee=[],Pe=re?-1:1,De=K;be>1e-5;){var Ze=De+Pe*Math.min(be,de);Ee.push(Ce.call(this,U,De,Ze)),be-=Math.abs(Ze-De),De=Ze}return Ee},Ce=function(U,K,ee){var re=(ee-K)/2,le=U*Math.cos(re),de=U*Math.sin(re),be=le,Ee=-de,Pe=be*be+Ee*Ee,De=Pe+be*le+Ee*de,Ze=4/3*(Math.sqrt(2*Pe*De)-De)/(be*de-Ee*le),Ye=be-Ze*Ee,Se=Ee+Ze*be,J=Ye,ln=-Se,Bt=re+K,Dt=Math.cos(Bt),$e=Math.sin(Bt);return{x1:U*Math.cos(K),y1:U*Math.sin(K),x2:Ye*Dt-Se*$e,y2:Ye*$e+Se*Dt,x3:J*Dt-ln*$e,y3:J*$e+ln*Dt,x4:U*Math.cos(ee),y4:U*Math.sin(ee)}},ge=function(U){return 180*U/Math.PI},Te=function(U,K,ee,re,le,de){var be=U+.5*(ee-U),Ee=K+.5*(re-K),Pe=le+.5*(ee-le),De=de+.5*(re-de),Ze=Math.min(U,le,be,Pe),Ye=Math.max(U,le,be,Pe),Se=Math.min(K,de,Ee,De),J=Math.max(K,de,Ee,De);return new a(Ze,Se,Ye-Ze,J-Se)},Ge=function(U,K,ee,re,le,de,be,Ee){var Pe,De,Ze,Ye,Se,J,ln,Bt,Dt,$e,mt,et,jt,Et,cn=ee-U,Mt=re-K,Ot=le-ee,Wt=de-re,yt=be-le,pt=Ee-de;for(De=0;De<41;De++)Dt=(ln=(Ze=U+(Pe=De/40)*cn)+Pe*((Se=ee+Pe*Ot)-Ze))+Pe*(Se+Pe*(le+Pe*yt-Se)-ln),$e=(Bt=(Ye=K+Pe*Mt)+Pe*((J=re+Pe*Wt)-Ye))+Pe*(J+Pe*(de+Pe*pt-J)-Bt),0==De?(mt=Dt,et=$e,jt=Dt,Et=$e):(mt=Math.min(mt,Dt),et=Math.min(et,$e),jt=Math.max(jt,Dt),Et=Math.max(Et,$e));return new a(Math.round(mt),Math.round(et),Math.round(jt-mt),Math.round(Et-et))},Oe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var ee=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(Ct.API),
/**
         * @license
         * jsPDF filters PlugIn
         * Copyright (c) 2014 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(s){var a,l,c,u,d,m,p,b,w,E;for(/[^\x00-\xFF]/.test(s),l=[],c=0,u=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)0!==(d=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))?(m=(d=((d=((d=((d=(d-(E=d%85))/85)-(w=d%85))/85)-(b=d%85))/85)-(p=d%85))/85)%85,l.push(m+33,p+33,b+33,w+33,E+33)):l.push(122);return function(C,k){for(var B=k;B>0;B--)C.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},t=function(s){var a,l,c,u,d,m=String,p="length",b=255,w="charCodeAt",E="slice",C="replace";for(s[E](-2),s=s[E](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),c=[],u=0,d=(s+=a="uuuuu"[E](s[p]%5||5))[p];d>u;u+=5)l=52200625*(s[w](u)-33)+614125*(s[w](u+1)-33)+7225*(s[w](u+2)-33)+85*(s[w](u+3)-33)+(s[w](u+4)-33),c.push(b&l>>24,b&l>>16,b&l>>8,b&l);return function(k,B){for(var F=B;F>0;F--)k.pop()}(c,a[p]),m.fromCharCode.apply(m,c)},r=function(s){return s.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(s=s.replace(/\s/g,"")).indexOf(">")&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),!1===a.test(s))return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},o=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return(a=bv(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};n.processDataByFilters=function(s,a){var l=0,c=s||"",u=[];for("string"==typeof(a=a||[])&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=o(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Ct.API),
/**
         * @license
         * jsPDF fileloading PlugIn
         * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.loadFile=function(e,t,r){return function(i,o,s){o=!1!==o,s="function"==typeof s?s:function(){};var a=void 0;try{a=function(l,c,u){var d=new XMLHttpRequest,m=0,p=function(b){var w=b.length,E=[],C=String.fromCharCode;for(m=0;m<w;m+=1)E.push(C(255&b.charCodeAt(m)));return E.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),!1===c&&(d.onload=function(){u(200===d.status?p(this.responseText):void 0)}),d.send(null),c&&200===d.status)return p(d.responseText)}(i,o,s)}catch{}return a}(e,t,r)},n.loadImageFile=n.loadFile}(Ct.API),function(n){function e(){return(Ht.html2canvas?Promise.resolve(Ht.html2canvas):ys.e(239).then(ys.t.bind(ys,7239,23))).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(Ht.DOMPurify?Promise.resolve(Ht.DOMPurify):ys.e(627).then(ys.bind(ys,627))).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=Kn(a);return"undefined"===l?"undefined":"string"===l||a instanceof String?"string":"number"===l||a instanceof Number?"number":"function"===l||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&1===a.nodeType?"element":"object"===l?"object":"unknown"},i=function(a,l){var c=document.createElement(a);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},o=function a(l,c){for(var u=3===l.nodeType?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)!0!==c&&1===d.nodeType&&"SCRIPT"===d.nodeName||u.appendChild(a(d,c));return 1===l.nodeType&&("CANVAS"===l.nodeName?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):"TEXTAREA"!==l.nodeName&&"SELECT"!==l.nodeName||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},s=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return(u=u.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return"canvas"===c.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(t).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===l.tagName&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,c.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var b=u[p],w=b.src.find(function(E){return"truetype"===E.format});w&&c.addFont(w.url,b.ref.name,b.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=0==m.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,c.context2d.save(!0),l(this.prop.container,m)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,c){return"img"===(c=c||"pdf").toLowerCase()||"image"===c.toLowerCase()?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if("object"!==r(a))return this;var l=Object.keys(a||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var c=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(2===a.length&&(a=[a[0],a[1],a[0],a[1]]),4===a.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||Ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,c,u){return null!=a&&(this.progress.val=a),null!=l&&(this.progress.state=l),null!=c&&(this.progress.n=c),null!=u&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,c,u){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(m){return c.updateProgress(null,u),m}).then(u,d).then(function(m){return c.updateProgress(1),m})})},s.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var u=this;a&&(a=a.bind(u)),l&&(l=l.bind(u));var d=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?u:s.convert(Object.assign({},u),Promise.prototype),m=c.call(d,a,l);return s.convert(m,u.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ct.getPageSize=function(a,l,c){if("object"===Kn(a)){var u=a;a=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var d,m=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var b,w=0,E=0;if(p.hasOwnProperty(m))w=p[m][1]/d,E=p[m][0]/d;else try{w=c[1],E=c[0]}catch{throw new Error("Invalid format: "+c)}if("p"===a||"portrait"===a)a="p",E>w&&(b=E,E=w,w=b);else{if("l"!==a&&"landscape"!==a)throw"Invalid orientation: "+a;a="l",w>E&&(b=E,E=w,w=b)}return{width:E,height:w,unit:l,k:d,orientation:a}},n.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(JP):null;var c=new s(l);return l.worker?c:c.from(a).doCallback()}}(Ct.API),Ct.API.addJS=function(n){return W$=n,this.internal.events.subscribe("postPutResources",function(){K2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(K2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),H$=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+W$+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==K2&&void 0!==H$&&this.internal.out("/Names <</JavaScript "+K2+" 0 R>>")}),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=r.exec(s);null!=a&&t.internal.newObjectDeferredBegin(a[1],!1),t.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(o=0;o<c;o++){var d=t.internal.newObject();u.push(d);var m=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<u.length;o++)t.internal.write("(page_"+(o+1)+")"+u[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+p+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return null==r&&(r=this.root),r.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+"\r\n"},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+="\r\n"+r.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])}(Ct.API),
/**
         * @license
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,o,s,a){var l,c=this.decode.DCT_DECODE,u=null;if("string"==typeof t||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=this.__addimage__.isArrayBuffer(t=s||t)?new Uint8Array(t):t,(l=function(d){for(var m,p=256*d.charCodeAt(4)+d.charCodeAt(5),b=d.length,w={width:0,height:0,numcomponents:1},E=4;E<b;E+=2){if(-1!==e.indexOf(d.charCodeAt((E+=p)+1))){m=256*d.charCodeAt(E+5)+d.charCodeAt(E+6),w={width:256*d.charCodeAt(E+7)+d.charCodeAt(E+8),height:m,numcomponents:d.charCodeAt(E+9)};break}p=256*d.charCodeAt(E+2)+d.charCodeAt(E+3)}return w}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(Ct.API),Ct.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,d,m,p,o=function Q0e(n,e){return new j0e(n,e).decode()}(n,{checkCrc:!0}),s=o.width,a=o.height,l=o.channels,u=o.depth,w=(i=o.palette&&1===l?function(x){for(var S=x.width,V=x.height,A=x.data,P=x.palette,N=x.depth,te=!1,me=[],Ae=[],Ce=void 0,ge=!1,Te=0,Ge=0;Ge<P.length;Ge++){var Oe=Fj(P[Ge],4),re=Oe[3];me.push(Oe[0],Oe[1],Oe[2]),null!=re&&(0===re?(Te++,Ae.length<1&&Ae.push(Ge)):re<255&&(ge=!0))}if(ge||Te>1){te=!0,Ae=void 0;var le=S*V;Ce=new Uint8Array(le);for(var de=new DataView(A.buffer),be=0;be<le;be++){var Pe=Fj(P[eM(de,be,N)],4)[3];Ce[be]=Pe}}else 0===Te&&(Ae=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:te?8:void 0,colorBytes:A,alphaBytes:Ce,needSMask:te,palette:me,mask:Ae}}(o):2===l||4===l?function(x){for(var S=x.data,P=x.channels,N=x.depth,te=2===P?"DeviceGray":"DeviceRGB",me=P-1,Ae=x.width*x.height,Ce=me,Te=1*Ae,Ge=Math.ceil(Ae*Ce*N/8),Oe=Math.ceil(Te*N/8),U=new Uint8Array(Ge),K=new Uint8Array(Oe),ee=new DataView(S.buffer),re=new DataView(U.buffer),le=new DataView(K.buffer),de=!1,be=0;be<Ae;be++){for(var Ee=be*P,Pe=0;Pe<Ce;Pe++)nq(re,eM(ee,Ee+Pe,N),be*Ce+Pe,N);var De=eM(ee,Ee+Ce,N);De<(1<<N)-1&&(de=!0),nq(le,De,1*be,N)}return{colorSpace:te,colorsPerPixel:me,sMaskBitsPerComponent:de?N:void 0,colorBytes:U,alphaBytes:K,needSMask:de}}(o):{colorSpace:V=1===(x=o).channels?"DeviceGray":"DeviceRGB",colorsPerPixel:"DeviceGray"===V?1:3,colorBytes:(S=x.data)instanceof Uint16Array?function(A){for(var P=A.length,N=new Uint8Array(2*P),te=new DataView(N.buffer,N.byteOffset,N.byteLength),me=0;me<P;me++)te.setUint16(2*me,A[me],!1);return N}(S):S,needSMask:!1}).colorSpace,E=i.colorsPerPixel,C=i.sMaskBitsPerComponent,k=i.colorBytes,B=i.alphaBytes,F=i.needSMask,X=i.palette,se=i.mask,z=null;return r!==Ct.API.image_compression.NONE?(z=function(x){var S;switch(x){case Ct.API.image_compression.FAST:S=11;break;case Ct.API.image_compression.MEDIUM:S=13;break;case Ct.API.image_compression.SLOW:S=14;break;default:S=12}return S}(r),d=this.decode.FLATE_DECODE,m="/Predictor ".concat(z," /Colors ").concat(E," /BitsPerComponent ").concat(u," /Columns ").concat(s),n=Z$(k,Math.ceil(s*E*u/8),E,u,r),F&&(p=Z$(B,Math.ceil(s*C/8),1,C,r))):(d=void 0,m=void 0,n=k,F&&(p=B)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:t,data:n,index:e,filter:d,decodeParameters:m,transparency:se,palette:X,sMask:p,predictor:z,width:s,height:a,bitsPerComponent:u,sMaskBitsPerComponent:C,colorSpace:w}}var x,S,V},function(n){n.processGIF89A=function(e,t,r,i){var o=new mye(e),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:a},u=new tM(100).encode(c,100);return n.processJPEG.call(this,u,t,r,i)},n.processGIF87A=n.processGIF89A}(Ct.API),Ba.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ba.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[n]()}catch(t){ar.log("bit decode error:"+t)}},Ba.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}0!==t&&(this.pos+=4-t)}},Ba.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,l=15&o,c=this.palette[o>>4];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;this.data[s+4]=(c=this.palette[l]).blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}0!==e&&(this.pos+=4-e)}},Ba.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!==n&&(this.pos+=4-n)}},Ba.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,c=o>>15?255:0,u=r*this.width*4+4*i;this.data[u]=(o>>10&e)/e*255|0,this.data[u+1]=a,this.data[u+2]=s,this.data[u+3]=c}this.pos+=n}},Ba.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&t)/t*255|0,u=i*this.width*4+4*o;this.data[u]=(s>>11)/e*255|0,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=n}},Ba.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*t;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Ba.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},Ba.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2018 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.processBMP=function(e,t,r,i){var o=new Ba(e,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new tM(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(Ct.API),oq.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2019 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.processWEBP=function(e,t,r,i){var o=new oq(e),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new tM(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(Ct.API),Ct.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var d=r[c+1],m=r[c+2],p=r[c+3];o[a++]=r[c],o[a++]=d,o[a++]=m,s[l++]=p}var b=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:b,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Ct.API.setLanguage=function(n){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]&&(this.internal.languageSettings.languageCode=n,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Q2=(wg=Ct.API).getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=!1!==e.doKerning,m=0,p=n.length,b=0,w=a[0]||l,E=[];for(t=0;t<p;t++)r=n.charCodeAt(t),"function"==typeof i.metadata.widthOfString?E.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(m=d&&"object"===Kn(c[r])&&!isNaN(parseInt(c[r][b],10))?c[r][b]/u:0,E.push((a[r]||w)/l+m)),b=r;return E},K$=wg.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return wg.processArabic&&(n=wg.processArabic(n)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(n,t,i)/t:Q2.apply(this,arguments).reduce(function(o,s){return o+s},0)},Q$=function(n,e,t,r){for(var i=[],o=0,s=n.length,a=0;o!==s&&a+e[o]<t;)a+=e[o],o++;i.push(n.slice(0,o));var l=o;for(a=0;o!==s;)a+e[o]>r&&(i.push(n.slice(l,o)),a=0,l=o),a+=e[o],o++;return l!==o&&i.push(n.slice(l,o)),i},Y$=function(n,e,t){t||(t={});var r,i,o,s,a,l,u=[],d=[u],m=t.textIndent||0,p=0,b=0,w=n.split(" "),E=Q2.apply(this,[" ",t])[0];if(l=-1===t.lineIndent?w[0].length+2:t.lineIndent||0){var C=Array(l).join(" "),k=[];w.map(function(F){(F=F.split(/\s*\n/)).length>1?k=k.concat(F.map(function(X,se){return(se&&X.length?"\n":"")+X})):k.push(F[0])}),w=k,l=K$.apply(this,[C,t])}for(o=0,s=w.length;o<s;o++){var B=0;if(r=w[o],l&&"\n"==r[0]&&(r=r.substr(1),B=1),m+p+(b=(i=Q2.apply(this,[r,t])).reduce(function(F,X){return F+X},0))>e||B){if(b>e){for(a=Q$.apply(this,[r,i,e-(m+p),e]),u.push(a.shift()),u=[a.pop()];a.length;)d.push([a.shift()]);b=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(F,X){return F+X},0)}else u=[r];d.push(u),m=b+l,p=E}else u.push(r),m+=p+b,p=E}return d.map(l?function(F,X){return(X?C:"")+F.join(" ")}:function(F){return F.join(" ")})},wg.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),o=function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle),m="Unicode";return d.metadata[m]?{widths:d.metadata[m].widths||{0:1},kerning:d.metadata[m].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(Y$.apply(this,[r[a],s,o]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},i={},o=0;o<16;o++)r[t[o]]=e[o],i[e[o]]=t[o];var s=function(m){return"0x"+parseInt(m,10).toString(16)},a=n.__fontmetrics__.compress=function(m){var p,b,w,E,C=["{"];for(var k in m){if(p=m[k],isNaN(parseInt(k,10))?b="'"+k+"'":(k=parseInt(k,10),b=(b=s(k).slice(2)).slice(0,-1)+i[b.slice(-1)]),"number"==typeof p)p<0?(w=s(p).slice(3),E="-"):(w=s(p).slice(2),E=""),w=E+w.slice(0,-1)+i[w.slice(-1)];else{if("object"!==Kn(p))throw new Error("Don't know what to do with value type "+Kn(p)+".");w=a(p)}C.push(b+w)}return C.push("}"),C.join("")},l=n.__fontmetrics__.uncompress=function(m){if("string"!=typeof m)throw new Error("Invalid argument passed to uncompress.");for(var p,b,w,E,C={},k=1,B=C,F=[],X="",se="",z=m.length-1,x=1;x<z;x+=1)"'"==(E=m[x])?p?(w=p.join(""),p=void 0):p=[]:p?p.push(E):"{"==E?(F.push([B,w]),B={},w=void 0):"}"==E?((b=F.pop())[0][b[1]]=B,w=void 0,B=b[0]):"-"==E?k=-1:void 0===w?r.hasOwnProperty(E)?(X+=r[E],w=parseInt(X,16)*k,k=1,X=""):X+=E:r.hasOwnProperty(E)?(se+=r[E],B[w]=parseInt(se,16)*k,k=1,w=void 0,se=""):se+=E;return C},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(m){var p=m.font,b=d.Unicode[p.postScriptName];b&&(p.metadata.Unicode={},p.metadata.Unicode.widths=b.widths,p.metadata.Unicode.kerning=b.kerning);var w=u.Unicode[p.postScriptName];w&&(p.metadata.Unicode.encoding=w,p.encoding=w.codePages[0])}])}(Ct.API),
/**
         * @license
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=t.charCodeAt(o);return i};n.API.events.push(["addFont",function(t){var s,a,r=void 0,i=t.font,o=t.instance;if(!i.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===o.existsFileInVFS(i.postScriptName)?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");s=i,a=/^\x00\x01\x00\x00/.test(a=r)?e(a):e(U2(a)),s.metadata=n.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]}}])}(Ct),Ct.API.addSvgAsImage=function(n,e,t,r,i,o,s,a){if(isNaN(e)||isNaN(t))throw ar.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw ar.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(Ht.canvg?Promise.resolve(Ht.canvg):ys.e(842).then(ys.bind(ys,3842))).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(c,n,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(u)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),e,t,r,i,s,a)})},Ct.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},Ct.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],c=0,u=0,d=0;function m(b,w){var E,C=!1;for(E=0;E<b.length;E+=1)b[E]===w&&(C=!0);return C}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,"reset"===n||!0===e){var p=a.length;for(d=0;d<p;d+=1)t[a[d]].value=t[a[d]].defaultValue,t[a[d]].explicitSet=!1}if("object"===Kn(n))for(i in n)if(o=n[i],m(a,i)&&void 0!==o){if("boolean"===t[i].type&&"boolean"==typeof o)t[i].value=o;else if("name"===t[i].type&&m(t[i].valueSet,o))t[i].value=o;else if("integer"===t[i].type&&Number.isInteger(o))t[i].value=o;else if("array"===t[i].type){for(c=0;c<o.length;c+=1)if(r=!0,1===o[c].length&&"number"==typeof o[c][0])l.push(String(o[c]-1));else if(o[c].length>1){for(u=0;u<o[c].length;u+=1)"number"!=typeof o[c][u]&&(r=!1);!0===r&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var b,w=[];for(b in t)!0===t[b].explicitSet&&w.push("name"===t[b].type?"/"+b+" /"+t[b].value:"/"+b+" "+t[b].value);0!==w.length&&this.internal.write("/ViewerPreferences\n<<\n"+w.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},
/** ====================================================================
         * @license
         * jsPDF XMP metadata plugin
         * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
         *
         * Permission is hereby granted, free of charge, to any person obtaining
         * a copy of this software and associated documentation files (the
         * "Software"), to deal in the Software without restriction, including
         * without limitation the rights to use, copy, modify, merge, publish,
         * distribute, sublicense, and/or sell copies of the Software, and to
         * permit persons to whom the Software is furnished to do so, subject to
         * the following conditions:
         *
         * The above copyright notice and this permission notice shall be
         * included in all copies or substantial portions of the Software.
         *
         * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
         * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
         * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
         * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
         * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
         * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
         * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
         * ====================================================================
         */
function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+s.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Ct.API),function(n){var e=n.API,t=e.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,m=o.length;d<m;++d){if(a=s.metadata.characterToGlyph(o.charCodeAt(d)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(d),-1==l.indexOf(a)&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),"0"==a)return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(o){var s,a,l,c,u,d,m;for(u="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",l=[],d=0,m=(a=Object.keys(o).sort(function(p,b){return p-b})).length;d<m;d++)s=a[d],l.length>=100&&(u+="\n"+l.length+" beginbfchar\n"+l.join("\n")+"\nendbfchar",l=[]),null!=o[s]&&"function"==typeof o[s].toString&&(c=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+="\n"+l.length+" beginbfchar\n"+l.join("\n")+"\nendbfchar\n"),u+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(o){!function(s){var a=s.font,l=s.out,c=s.newObject,u=s.putStream;if(a.metadata instanceof n.API.TTFFont&&"Identity-H"===a.encoding){for(var d=a.metadata.Unicode.widths,m=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",b=0;b<m.length;b++)p+=String.fromCharCode(m[b]);var w=c();u({data:p,addLength1:!0,objectId:w}),l("endobj");var E=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:E}),l("endobj");var C=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+pg(a.fontName)),l("/FontFile2 "+w+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var k=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+pg(a.fontName)),l("/FontDescriptor "+C+" 0 R"),l("/W "+n.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+E+" 0 R"),l("/BaseFont /"+pg(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+k+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}}(o)}]),e.events.push(["putFont",function(o){!function(s){var a=s.font,l=s.out,c=s.newObject,u=s.putStream;if(a.metadata instanceof n.API.TTFFont&&"WinAnsiEncoding"===a.encoding){for(var d=a.metadata.rawData,m="",p=0;p<d.length;p++)m+=String.fromCharCode(d[p]);var b=c();u({data:m,addLength1:!0,objectId:b}),l("endobj");var w=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var E=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+pg(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var C=0;C<a.metadata.hmtx.widths.length;C++)a.metadata.hmtx.widths[C]=parseInt(a.metadata.hmtx.widths[C]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+pg(a.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}}(o)}]);var i=function(o){var s,a=o.text||"",l=o.x,c=o.y,u=o.options||{},d=o.mutex||{},m=d.pdfEscape,p=d.activeFontKey,b=d.fonts,w=p,E="",C=0,k="",B=b[w].encoding;if("Identity-H"!==b[w].encoding)return{text:a,x:l,y:c,options:u,mutex:d};for(k=a,w=p,Array.isArray(a)&&(k=a[0]),C=0;C<k.length;C+=1)b[w].metadata.hasOwnProperty("cmap")&&(s=b[w].metadata.cmap.unicode.codeMap[k[C].charCodeAt(0)]),s||k[C].charCodeAt(0)<256&&b[w].metadata.hasOwnProperty("Unicode")?E+=k[C]:E+="";var F="";return parseInt(w.slice(1))<14||"WinAnsiEncoding"===B?F=m(E,w).split("").map(function(X){return X.charCodeAt(0).toString(16)}).join(""):"Identity-H"===B&&(F=t(E,b[w])),d.isHex=!0,{text:F,x:l,y:c,options:u,mutex:d}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&3===s[c].length?a.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):a.push(i(Object.assign({},l,{text:s[c]})).text);o.text=a}else o.text=i(Object.assign({},l,{text:s})).text}])}(Ct),
/**
         * @license
         * jsPDF virtual FileSystem functionality
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null}}(Ct.API),
/**
         * @license
         * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
         * MIT License
         */
function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,o,s,a,l,c,u,d=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,B=0;this.__bidiEngine__={};var F=function(A){var P=A.charCodeAt(),N=P>>8,te=w[N];return void 0!==te?d[256*te+(255&P)]:252===N||253===N?"AL":C.test(N)?"L":8===N?"R":"N"},X=function(A){for(var P,N=0;N<A.length;N++){if("L"===(P=F(A.charAt(N))))return!1;if("R"===P)return!0}return!1},se=function(A,P,N,te){var me,Ae,Ce,ge,Te=P[te];switch(Te){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"N":case"AN":break;case"EN":k&&(Te="AN");break;case"AL":k=!0,Te="R";break;case"WS":case"BN":Te="N";break;case"CS":te<1||te+1>=P.length||"EN"!==(me=N[te-1])&&"AN"!==me||"EN"!==(Ae=P[te+1])&&"AN"!==Ae?Te="N":k&&(Ae="AN"),Te=Ae===me?Ae:"N";break;case"ES":Te="EN"===(me=te>0?N[te-1]:"B")&&te+1<P.length&&"EN"===P[te+1]?"EN":"N";break;case"ET":if(te>0&&"EN"===N[te-1]){Te="EN";break}if(k){Te="N";break}for(Ce=te+1,ge=P.length;Ce<ge&&"ET"===P[Ce];)Ce++;Te=Ce<ge&&"EN"===P[Ce]?"EN":"N";break;case"NSM":if(s&&!a){for(ge=P.length,Ce=te+1;Ce<ge&&"NSM"===P[Ce];)Ce++;if(Ce<ge){var Ge=A[te];if(me=P[Ce],(Ge>=1425&&Ge<=2303||64286===Ge)&&("R"===me||"AL"===me)){Te="R";break}}}Te=te<1||"B"===(me=P[te-1])?"N":N[te-1];break;case"B":k=!1,i=!0,Te=B;break;case"S":o=!0,Te="N"}return Te},z=function(A,P,N){var te=A.split("");return N&&x(te,N,{hiLevel:B}),te.reverse(),P&&P.reverse(),te.join("")},x=function(A,P,N){var te,me,Ae,Ce,ge,Te=-1,Ge=A.length,Oe=0,U=[],K=B?p:m,ee=[];for(k=!1,i=!1,o=!1,me=0;me<Ge;me++)ee[me]=F(A[me]);for(Ae=0;Ae<Ge;Ae++){if(ge=Oe,U[Ae]=se(A,ee,U,Ae),te=240&(Oe=K[ge][b[U[Ae]]]),P[Ae]=Ce=K[Oe&=15][5],te>0)if(16===te){for(me=Te;me<Ae;me++)P[me]=1;Te=-1}else Te=-1;if(K[Oe][6])-1===Te&&(Te=Ae);else if(Te>-1){for(me=Te;me<Ae;me++)P[me]=Ce;Te=-1}"B"===ee[Ae]&&(P[Ae]=0),N.hiLevel|=Ce}o&&function(re,le,de){for(var be=0;be<de;be++)if("S"===re[be]){le[be]=B;for(var Ee=be-1;Ee>=0&&"WS"===re[Ee];Ee--)le[Ee]=B}}(ee,P,Ge)},S=function(A,P,N,te,me){if(!(me.hiLevel<A)){if(1===A&&1===B&&!i)return P.reverse(),void(N&&N.reverse());for(var Ae,Ce,ge,Te,Ge=P.length,Oe=0;Oe<Ge;){if(te[Oe]>=A){for(ge=Oe+1;ge<Ge&&te[ge]>=A;)ge++;for(Te=Oe,Ce=ge-1;Te<Ce;Te++,Ce--)Ae=P[Te],P[Te]=P[Ce],P[Ce]=Ae,N&&(Ae=N[Te],N[Te]=N[Ce],N[Ce]=Ae);Oe=ge}Oe++}}},V=function(A,P,N){var te=A.split(""),me={hiLevel:B};return N||(N=[]),x(te,N,me),function(Ae,Ce,ge){if(0!==ge.hiLevel&&u)for(var Te,Ge=0;Ge<Ae.length;Ge++)1===Ce[Ge]&&(Te=E.indexOf(Ae[Ge]))>=0&&(Ae[Ge]=E[Te+1])}(te,N,me),S(2,te,P,N,me),S(1,te,P,N,me),te.join("")};return this.__bidiEngine__.doBidiReorder=function(A,P,N){if(function(me,Ae){if(Ae)for(var Ce=0;Ce<me.length;Ce++)Ae[Ce]=Ce;void 0===a&&(a=X(me)),void 0===c&&(c=X(me))}(A,P),s||!l||c)if(s&&l&&a^c)B=a?1:0,A=z(A,P,N);else if(!s&&l&&c)B=a?1:0,A=V(A,P,N),A=z(A,P);else if(!s||a||l||c){if(s&&!l&&a^c)A=z(A,P),a?(B=0,A=V(A,P,N)):(B=1,A=V(A,P,N),A=z(A,P));else if(s&&a&&!l&&c)B=1,A=V(A,P,N),A=z(A,P);else if(!s&&!l&&a^c){var te=u;a?(B=1,A=V(A,P,N),B=0,u=!1,A=V(A,P,N),u=te):(B=0,A=V(A,P,N),A=z(A,P),B=1,u=!1,A=V(A,P,N),u=te,A=z(A,P))}}else B=0,A=V(A,P,N);else B=a?1:0,A=V(A,P,N);return A},this.__bidiEngine__.setOptions=function(A){A&&(s=A.isInputVisual,l=A.isOutputVisual,a=A.isInputRtl,c=A.isOutputRtl,u=A.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text,o=r.options||{},s=[];if(o.isInputVisual="boolean"!=typeof o.isInputVisual||o.isInputVisual,t.setOptions(o),"[object Array]"===Object.prototype.toString.call(i)){var a=0;for(s=[],a=0;a<i.length;a+=1)"[object Array]"===Object.prototype.toString.call(i[a])?s.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([t.doBidiReorder(i[a])]);r.text=s}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(Ct),Ct.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Qu(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Mye(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new _ye(this.contents),this.head=new yye(this),this.name=new Cye(this),this.cmap=new aq(this),this.toUnicode={},this.hhea=new bye(this),this.maxp=new Aye(this),this.hmtx=new Tye(this),this.post=new Iye(this),this.os2=new wye(this),this.loca=new Pye(this),this.glyf=new Sye(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var s,a,l,c;for(c=[],s=0,a=(l=this.bbox).length;s<a;s++)c.push(Math.round(l[s]*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(o=this.familyClass)||2===o||3===o||4===o||5===o||7===o,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return s*(t/1e3)},n.prototype.lineHeight=function(e,t){return null==t&&(t=!1),(this.ascender+(t?this.lineGap:0)-this.decender)/1e3*e},n}();var ja,Qu=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,o,s,a,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*o+65536*s+256*a+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var r,i,o;for(o=[],r=0,i=e.length;r<i;r++)o.push(this.writeByte(e[r]));return o},n}(),_ye=function(){var n;function e(t){var r,i,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,a,l,c,u,d,m,p,b,w;for(w in p=Object.keys(t).length,l=Math.log(2),d=16*Math.floor(Math.log(p)/l),s=Math.floor(d/l),u=16*p-d,(i=new Qu).writeInt(this.scalarType),i.writeShort(p),i.writeShort(d),i.writeShort(s),i.writeShort(u),c=i.pos+16*p,a=null,b=[],t)for(m=t[w],i.writeString(w),i.writeInt(n(m)),i.writeInt(c),i.writeInt(m.length),b=b.concat(m),"head"===w&&(a=c),c+=m.length;c%4;)b.push(0),c++;return i.write(b),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,o,s;for(t=lq.call(t);t.length%4;)t.push(0);for(o=new Qu(t),i=0,r=0,s=t.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},e}(),vye={}.hasOwnProperty,Pl=function(n,e){for(var t in e)vye.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};ja=function(){function n(e){var t;this.file=e,this.exists=!!(t=this.file.directory.tables[this.tag]),t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var yye=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Pl(n,ja),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Qu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n}(),sq=function(){function n(e,t){var r,i,o,s,a,l,c,u,d,m,p,b,w,E,C,k,B;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),m=p/2,e.pos+=6,o=function(){var F,X;for(X=[],l=F=0;0<=m?F<m:F>m;l=0<=m?++F:--F)X.push(e.readUInt16());return X}(),e.pos+=2,w=function(){var F,X;for(X=[],l=F=0;0<=m?F<m:F>m;l=0<=m?++F:--F)X.push(e.readUInt16());return X}(),c=function(){var F,X;for(X=[],l=F=0;0<=m?F<m:F>m;l=0<=m?++F:--F)X.push(e.readUInt16());return X}(),u=function(){var F,X;for(X=[],l=F=0;0<=m?F<m:F>m;l=0<=m?++F:--F)X.push(e.readUInt16());return X}(),i=(this.length-e.pos+this.offset)/2,a=function(){var F,X;for(X=[],l=F=0;0<=i?F<i:F>i;l=0<=i?++F:--F)X.push(e.readUInt16());return X}(),l=C=0,B=o.length;C<B;l=++C)for(E=o[l],r=k=b=w[l];b<=E?k<=E:k>=E;r=b<=E?++k:--k)0===u[l]?s=r+c[l]:0!==(s=a[u[l]/2+(r-b)-(m-l)]||0)&&(s+=c[l]),this.codeMap[r]=65535&s}e.pos=d}return n.encode=function(e,t){var r,i,o,s,a,l,c,u,d,m,p,b,w,E,C,k,B,X,se,z,x,S,V,A,P,N,te,me,Ae,Ce,ge,Te,Ge,Oe,U,K,ee,re,le,de,be,Ee,Pe,De,Ze;switch(te=new Qu,s=Object.keys(e).sort(function(Ye,Se){return Ye-Se}),t){case"macroman":for(w=0,E=function(){var Ye=[];for(b=0;b<256;++b)Ye.push(0);return Ye}(),k={0:0},o={},me=0,Te=s.length;me<Te;me++)null==k[Ee=e[i=s[me]]]&&(k[Ee]=++w),o[i]={old:e[i],new:k[e[i]]},E[i]=k[e[i]];return te.writeUInt16(1),te.writeUInt16(0),te.writeUInt32(12),te.writeUInt16(0),te.writeUInt16(262),te.writeUInt16(0),te.write(E),{charMap:o,subtable:te.data,maxGlyphID:w+1};case"unicode":for(P=[],d=[],B=0,k={},r={},C=c=null,Ae=0,Ge=s.length;Ae<Ge;Ae++)null==k[X=e[i=s[Ae]]]&&(k[X]=++B),r[i]={old:X,new:k[X]},a=k[X]-i,null!=C&&a===c||(C&&d.push(C),P.push(i),c=a),C=i;for(C&&d.push(C),d.push(65535),P.push(65535),V=2*(S=P.length),x=2*Math.pow(Math.log(S)/Math.LN2,2),m=Math.log(x/2)/Math.LN2,z=2*S-x,l=[],se=[],p=[],b=Ce=0,Oe=P.length;Ce<Oe;b=++Ce){if(u=d[b],65535===(A=P[b])){l.push(0),se.push(0);break}if(A-(N=r[A].new)>=32768)for(l.push(0),se.push(2*(p.length+S-b)),i=ge=A;A<=u?ge<=u:ge>=u;i=A<=u?++ge:--ge)p.push(r[i].new);else l.push(N-A),se.push(0)}for(te.writeUInt16(3),te.writeUInt16(1),te.writeUInt32(12),te.writeUInt16(4),te.writeUInt16(16+8*S+2*p.length),te.writeUInt16(0),te.writeUInt16(V),te.writeUInt16(x),te.writeUInt16(m),te.writeUInt16(z),de=0,U=d.length;de<U;de++)te.writeUInt16(i=d[de]);for(te.writeUInt16(0),be=0,K=P.length;be<K;be++)te.writeUInt16(i=P[be]);for(Pe=0,ee=l.length;Pe<ee;Pe++)te.writeUInt16(a=l[Pe]);for(De=0,re=se.length;De<re;De++)te.writeUInt16(se[De]);for(Ze=0,le=p.length;Ze<le;Ze++)te.writeUInt16(w=p[Ze]);return{charMap:r,subtable:te.data,maxGlyphID:B+1}}},n}(),aq=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Pl(n,ja),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new sq(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},n.encode=function(e,t){var r,i;return null==t&&(t="macroman"),r=sq.encode(e,t),(i=new Qu).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n}(),bye=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Pl(n,ja),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n}(),wye=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Pl(n,ja),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r}(),this.charRange=function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n}(),Iye=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Pl(n,ja),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var s,a,l;for(l=[],o=s=0,a=this.file.maxp.numGlyphs;0<=a?s<a:s>a;o=0<=a?++s:--s)l.push(e.readUInt32());return l}.call(this)}},n}(),Eye=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Cye=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Pl(n,ja),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,i,o,s,a,l,c,u,d,m;for(e.pos=this.offset,e.readShort(),t=e.readShort(),a=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},o=u=0,d=r.length;u<d;o=++u)e.pos=(i=r[o]).offset,c=e.readString(i.length),s=new Eye(c,i),null==l[m=i.nameID]&&(l[m]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},n}(),Aye=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Pl(n,ja),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n}(),Tye=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Pl(n,ja),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,i,s,a,l;for(e.pos=this.offset,this.metrics=[],t=0,a=this.file.hhea.numberOfMetrics;0<=a?t<a:t>a;t=0<=a?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],t=c=0;0<=i?c<i:c>i;t=0<=i?++c:--c)u.push(e.readInt16());return u}(),this.widths=function(){var c,u,d,m;for(m=[],c=0,u=(d=this.metrics).length;c<u;c++)m.push(d[c].advance);return m}.call(this),r=this.widths[this.widths.length-1],l=[],t=s=0;0<=i?s<i:s>i;t=0<=i?++s:--s)l.push(this.widths.push(r));return l},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n}(),lq=[].slice,Sye=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Pl(n,ja),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,i,o,s,a,l,c,u,d;return e in this.cache?this.cache[e]:(t=this.file.contents,r=(o=this.file.loca).indexOf(e),0===(i=o.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+r,s=(a=new Qu(t.read(i))).readShort(),c=a.readShort(),d=a.readShort(),l=a.readShort(),u=a.readShort(),this.cache[e]=-1===s?new xye(a,c,d,l,u):new Dye(a,s,c,d,l,u),this.cache[e]))},n.prototype.encode=function(e,t,r){var i,o,s,a,l;for(s=[],o=[],a=0,l=t.length;a<l;a++)i=e[t[a]],o.push(s.length),i&&(s=s.concat(i.encode(r)));return o.push(s.length),{table:s,offsets:o}},n}(),Dye=function(){function n(e,t,r,i,o,s){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),xye=function(){function n(e,t,r,i,o){var s,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Qu(lq.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),Pye=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Pl(n,ja),n.prototype.tag="loca",n.prototype.parse=function(e){var r;return e.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=2)o.push(2*e.readUInt16());return o}.call(this):function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=4)o.push(e.readUInt32());return o}.call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,o=0,s=0;s<r.length;++s)if(r[s]=i,o<t.length&&t[o]==s){++o,r[s]=i;var l=this.offsets[s+1]-this.offsets[s];l>0&&(i+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},n}(),Mye=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,i,o;for(t in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)e[t]=i[o[t]];return e},n.prototype.glyphsFor=function(e){var t,r,i,o,s,a,l;for(i={},s=0,a=e.length;s<a;s++)i[o=e[s]]=this.font.glyf.glyphFor(o);for(o in t=[],i)null!=(r=i[o])&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in l=this.glyphsFor(t))i[o]=r=l[o];return i},n.prototype.encode=function(e,t){var r,i,o,s,l,c,u,d,m,p,b,w,E,C;for(i in r=aq.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),p={0:0},C=r.charMap)p[(l=C[i]).old]=l.new;for(b in m=r.maxGlyphID,s)b in p||(p[b]=m++);return u=function(k){var B,F;for(B in F={},k)F[k[B]]=B;return F}(p),d=Object.keys(u).sort(function(k,B){return k-B}),w=function(){var k,B,F;for(F=[],k=0,B=d.length;k<B;k++)F.push(u[d[k]]);return F}(),o=this.font.glyf.encode(s,w,p),c=this.font.loca.encode(o.offsets,w),E={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},n}();Ct.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var i,o;if(Array.isArray(t))return"["+function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)c.push(e.convert(t[a]));return c}().join(" ")+"]";if("string"==typeof t)return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(t)){for(i in o=["<<"],t)o.push("/"+i+" "+e.convert(t[i]));return o.push(">>"),o.join("\n")}return""+t},e}();class Nye{static ordinaGiocatoriPerCognome(e){return[...e].sort((t,r)=>{const i=(t.cognome||"").toLowerCase(),o=(r.cognome||"").toLowerCase();if(i<o)return-1;if(i>o)return 1;const s=(t.nome||"").toLowerCase(),a=(r.nome||"").toLowerCase();return s<a?-1:s>a?1:0})}}let Rye=(()=>{class n{constructor(t){this.giocatoriService=t}generaListaGara(t){var r=this;return(0,ie.A)(function*(){const i=new Ct,o=i.internal.pageSize.width,s=[0,128,0],l=[0,0,0];let c=15;try{const He=yield r.loadImageAsBase64("assets/images/uisp1.png"),At=yield r.loadImageAsBase64("assets/images/uisp2.png"),Kt=yield r.loadImageAsBase64("assets/images/uisp3.jpg");i.addImage(He,"PNG",20,5,20,20),i.addImage(At,"PNG",o/2-10,5,20,20),i.addImage(Kt,"JPG",o-40,5,20,20)}catch(He){console.error("Errore nel caricamento delle immagini:",He),i.setFontSize(8),i.setTextColor(...l),i.text("UISP",25,c),i.text("COMITATO TERRITORIALE",o/2-30,c),i.text("LOGO PALLAVOLO",o-60,c)}c+=22,i.setFontSize(12),i.setFont("helvetica","normal"),i.setTextColor(...s);const u=La.TITOLO_PDF,d=i.getTextWidth(u);i.text(u,(o-d)/2,c),c+=10,i.setFontSize(9),i.setFont("helvetica","bold");const m=La.PRIMO_SOTTOTITOLO,p=i.getTextWidth(m);i.rect(20,c-6,o-40,8),i.text(m,(o-p)/2,c),c+=12,i.setFontSize(9),i.setTextColor(...s),i.rect(20,c-6,o-40,8),i.text(La.SECONDO_SOTTOTITOLO,22,c);const w=22+i.getTextWidth(La.SECONDO_SOTTOTITOLO)+4;i.setTextColor(...l),i.setFont("helvetica","bold"),i.text(La.NOME_SQUADRA,w,c),c+=12;const E=20,C=o-40;i.setFontSize(9),i.setFont("helvetica","bold");const k=c,F=[.2*C,.4*C,.4*C];let X=E;F.forEach(He=>{i.rect(X,k-4,He,6),X+=He}),X=E,i.setFontSize(8),i.setFont("helvetica","bold"),i.setTextColor(...s);const se="N\xb0 GARA";i.text(se,X+2,k);const z=i.getTextWidth(se);i.setTextColor(...l),i.text(`    ${t.numeroGara}`,X+2+z,k),X+=F[0],i.setTextColor(...s);const x="OSPITANTE";i.text(x,X+2,k);const S=i.getTextWidth(x);i.setTextColor(...l),i.text(`    ${t.ospitante}`,X+2+S,k),X+=F[1],i.setTextColor(...s);const V="OSPITE";i.text(V,X+2,k);const A=i.getTextWidth(V);i.setTextColor(...l),i.text(`    ${t.ospite}`,X+2+A,k),c+=6;const P=c,N=[.7*C,.3*C];X=E,N.forEach(He=>{i.rect(X,P-4,He,6),X+=He}),X=E;const te=t.indirizzo.length>50?t.indirizzo.substring(0,32)+"...":t.indirizzo;i.setTextColor(...s);const me="INDIRIZZO";i.text(me,X+2,P);const Ae=i.getTextWidth(me);i.setTextColor(...l),i.text(`     ${te}`,X+2+Ae,P),X+=N[0],i.setTextColor(...s);const Ce="DATA E ORA";i.text(Ce,X+2,P);const ge=i.getTextWidth(Ce);i.setTextColor(...l);const Te=r.formatDate(t.data);i.text(`    ${Te} ${t.ora}`,X+2+ge,P),c+=6;const Ge=c;i.rect(E,Ge-4,C,6),i.setTextColor(...s);const Oe="CAMPIONATO";i.text(Oe,22,Ge);const U=i.getTextWidth(Oe);i.setTextColor(...l),i.text(`    ${t.campionato}`,22+U,Ge),c+=12;const K=yield r.giocatoriService.getGiocatori(),ee=r.filtraEOrdinaGiocatori(K),re=K.filter(He=>"allenatore"===(He.ruolo||"").toLowerCase()),le=K.filter(He=>"dirigente"===(He.ruolo||"").toLowerCase()),be=[.0625*C,.3125*C,3/12.8*C,3/12.8*C,2/12.8*C],Ee=c;i.setFontSize(9),i.setFont("helvetica","bold"),i.setTextColor(...s);let De=E;["N\xb0","COGNOME E NOME","DATA DI NASCITA","TESSERA UISP","DOCUMENTO"].forEach((He,At)=>{i.rect(De,Ee-4,be[At],6);const Kt=i.getTextWidth(He);i.text(He,De+(be[At]-Kt)/2,Ee),De+=be[At]}),c+=6,i.setFontSize(9),i.setFont("helvetica","bold"),i.setTextColor(...l),ee.forEach((He,At)=>{De=E,be.forEach(zi=>{i.rect(De,c-4,zi,6),De+=zi}),De=E;const Tt=`${He.numeroMaglia||At+1}`,rn=i.getTextWidth(Tt);i.text(Tt,De+(be[0]-rn)/2,c),De+=be[0];let wt=`${He.cognome?.toUpperCase()||""} ${He.nome?.toUpperCase()||""}`.trim();const jn=He.capitano?"K":"libero"===He.ruolo?.toLowerCase()?"L":"",Er=jn?i.getTextWidth(jn):0,Rt=be[1]-2-(jn?Er+4:0);if(i.getTextWidth(wt)>Rt){for(;i.getTextWidth(wt+"...")>Rt&&wt.length>0;)wt=wt.slice(0,-1);wt+="..."}i.text(wt,De+2,c),jn&&i.text(jn,De+be[1]-2-Er,c),De+=be[1];const vn=r.formatDate(He.dataDiNascita||""),ro=i.getTextWidth(vn);i.text(vn,De+(be[2]-ro)/2,c),De+=be[2];const Kr=He.tesseraUisp||"",Co=i.getTextWidth(Kr);i.text(Kr,De+(be[3]-Co)/2,c),De+=be[3],c+=6}),c+=4;const Ye=[3/12.8*C,4.8/12.8*C,3/12.8*C,2/12.8*C];i.setFontSize(8),i.setFont("helvetica","bold"),["1\xb0 ALLENATORE","2\xb0 ALLENATORE","DIRIGENTE"].forEach(He=>{De=E,Ye.forEach(wt=>{i.rect(De,c-4,wt,6),De+=wt}),De=E,i.setTextColor(...s);const At=i.getTextWidth(He);i.text(He,De+(Ye[0]-At)/2,c),De+=Ye[0],i.setTextColor(...l);let Kt=null;He.startsWith("1\xb0")&&re.length>0?Kt=re[0]:He.startsWith("2\xb0")&&re.length>1?Kt=re[1]:"DIRIGENTE"===He&&le.length>0&&(Kt=le[0]);const Tt=Kt?`${(Kt.cognome||"").toUpperCase()} ${(Kt.nome||"").toUpperCase()}`.trim():"",rn=Kt&&Kt.tesseraUisp||"";if(Tt&&i.text(Tt,De+2,c),De+=Ye[1],rn){const wt=i.getTextWidth(rn);i.text(rn,De+(Ye[2]-wt)/2,c)}De+=Ye[2],c+=6}),c+=4,i.rect(20,c-4,o-40,6),i.setFontSize(10),i.setFont("helvetica","bold"),i.setTextColor(139,0,0);const Bt=La.TITOLO_DEFIBRILLATORE,Dt=i.getTextWidth(Bt);i.text(Bt,(o-Dt)/2,c),c+=6,i.setFontSize(9);const et=i.splitTextToSize(La.SOTTOTITOLO_DEFIBRILLATORE,o-48),Et=4*et.length+2;i.rect(20,c-4,o-40,Et),et.forEach((He,At)=>{const Kt=i.getTextWidth(He);i.text(He,(o-Kt)/2,c+4*At)}),c+=Et+4;const cn=(t.ospitante||"").toUpperCase().includes("THUNDERS"),Mt=La.ADDETTO_DEFIBRILLATORE_THUNDERS;i.setFontSize(9),i.setFont("helvetica","bold"),i.setTextColor(...l);const Ot=cn?`${Mt.cognome.toUpperCase()} ${Mt.nome.toUpperCase()}`:"",Wt=cn?Mt.codiceFiscale:"";i.text(`IL/LA SOTTOSCRITTO/A: ${Ot||"_______________________"}`,20,c),i.text(`CODICE FISCALE: ${Wt||"_______________"}`,125,c),c+=6;const yt=cn?r.formatDate(Mt.dataDiNascita):"",pt=cn?Mt.luogoNascita:"__________",Nt=cn?Mt.residenza:"_______________";i.text(`NATO/A IL: ${yt||"__________"}`,20,c),i.text(`A: ${pt}`,75,c),i.text(`RESIDENTE IN: ${Nt}`,125,c),c+=7,i.setFontSize(8);const Vn=i.splitTextToSize(La.TESTO_DICHIARAZIONE_DEFIBRILLATORE,o-40);i.text(Vn,20,c),c+=2.5*Vn.length+8,i.setFontSize(9),i.text("DATA_______________",20,c),i.text("FIRMA_______________________",80,c),i.setFont("helvetica","bold"),i.text("IL CAPITANO_____________________",140,c);const pn=`Lista_Gara_${t.numeroGara}_${t.data.replace(/-/g,"")}.pdf`;i.save(pn)})()}formatDate(t){if(!t)return"";const r=new Date(t);return isNaN(r.getTime())?t:`${r.getDate().toString().padStart(2,"0")}/${(r.getMonth()+1).toString().padStart(2,"0")}/${r.getFullYear()}`}loadImageAsBase64(t){return(0,ie.A)(function*(){const i=yield(yield fetch(t)).blob();return new Promise((o,s)=>{const a=new FileReader;a.onloadend=()=>o(a.result),a.onerror=s,a.readAsDataURL(i)})})()}filtraEOrdinaGiocatori(t){const r=t.filter(i=>{const o=(i.ruolo||"").toLowerCase();return"allenatore"!==o&&"dirigente"!==o});return Nye.ordinaGiocatoriPerCognome(r)}static{this.\u0275fac=function(r){return new(r||n)(ft(Yb))}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function kye(n,e){if(1&n&&(D(0,"span",37),fe(1,"i",38),G(2),M()),2&n){const t=We();W(2),kn("",t.season," ")}}function Oye(n,e){if(1&n&&(D(0,"span",37),fe(1,"i",39),G(2),M()),2&n){const t=We();W(2),kn("",t.partiteRimanenti," partite rimanenti ")}}function Lye(n,e){if(1&n&&(D(0,"span",37),fe(1,"i",40),G(2),xr(3,"date"),M()),2&n){const t=We();W(2),kn("Agg. ",Ps(3,1,t.lastUpdate,"dd/MM/yy HH:mm")," ")}}function Fye(n,e){if(1&n&&(D(0,"div",41)(1,"span",42),G(2,"Stagione"),M(),D(3,"span",43),G(4),M()()),2&n){const t=We();W(4),tt(t.season)}}function Vye(n,e){if(1&n&&(D(0,"div",41)(1,"span",42),G(2,"Campionato"),M(),D(3,"span",43),G(4),M()()),2&n){const t=We();W(4),tt(t.campionato)}}function Uye(n,e){if(1&n&&(D(0,"div",41)(1,"span",42),G(2,"Partite rimanenti"),M(),D(3,"span",43),G(4),M()()),2&n){const t=We();W(4),tt(t.partiteRimanenti)}}function Bye(n,e){if(1&n&&(D(0,"div",41)(1,"span",42),fe(2,"i",40),G(3,"Aggiornamento"),M(),D(4,"span",43),G(5),xr(6,"date"),M()()),2&n){const t=We();W(5),tt(Ps(6,1,t.lastUpdate,"dd/MM/yy HH:mm"))}}function jye(n,e){1&n&&(D(0,"span",51),G(1,"-"),M())}function zye(n,e){1&n&&(D(0,"span",53),fe(1,"i",54),M())}function $ye(n,e){1&n&&(D(0,"span",53),fe(1,"i",55),M())}function qye(n,e){if(1&n&&(D(0,"span"),G(1),Qe(2,zye,2,0,"span",52),Qe(3,$ye,2,0,"span",52),M()),2&n){const t=We().$implicit,r=We();W(1),kn(" ",t.risultato," "),W(1),ye("ngIf",!0===r.isVittoria(t)),W(1),ye("ngIf",!1===r.isVittoria(t))}}function Gye(n,e){if(1&n){const t=ni();D(0,"button",56),Le("click",function(){en(t);const i=We().index;return tn(We().aggiungiAlCalendario(i))}),fe(1,"i",57),M()}}function Hye(n,e){if(1&n){const t=ni();D(0,"button",58),Le("click",function(){en(t);const i=We().index;return tn(We().creaListaGara(i))}),fe(1,"i",59),M()}}function Wye(n,e){if(1&n){const t=ni();D(0,"tr")(1,"td")(2,"span",44),G(3),M()(),D(4,"td"),G(5),M(),D(6,"td"),G(7),M(),D(8,"td"),G(9),M(),D(10,"td")(11,"a",45),Le("click",function(){const o=en(t).$implicit;return tn(We().openMaps(o.indirizzo))}),fe(12,"i",46),G(13),M()(),D(14,"td"),G(15),M(),D(16,"td"),G(17),M(),D(18,"td"),Qe(19,jye,2,0,"span",47),Qe(20,qye,4,3,"span",32),M(),D(21,"td",48),Qe(22,Gye,2,0,"button",49),Qe(23,Hye,2,0,"button",50),M()()}if(2&n){const t=e.$implicit,r=We();W(3),tt(t.numeroGara),W(2),tt(r.formatDataCompleta(t.data)),W(2),tt(t.ora),W(2),tt(t.campionato),W(4),kn(" ",t.indirizzo," "),W(2),tt(t.ospitante),W(2),tt(t.ospite),W(2),ye("ngIf",!t.risultato),W(1),ye("ngIf",t.risultato),W(2),ye("ngIf",!t.risultato),W(1),ye("ngIf",r.authService.hasEditPermission()&&!t.risultato)}}function Kye(n,e){if(1&n&&(D(0,"tr")(1,"td",60),fe(2,"i",61),G(3),M()()),2&n){const t=We();W(3),kn(" ",0===t.partite.length?"Nessuna partita in calendario":"Nessun risultato trovato"," ")}}function Qye(n,e){1&n&&(D(0,"div",62),G(1," Nessuna partita in calendario "),M())}function Yye(n,e){1&n&&fe(0,"i",87)}function Zye(n,e){1&n&&fe(0,"i",88)}function Jye(n,e){if(1&n&&(D(0,"div",83)(1,"span",84),G(2),M(),Qe(3,Yye,1,0,"i",85),Qe(4,Zye,1,0,"i",86),M()),2&n){const t=We().$implicit,r=We();W(1),nn("text-success",r.isVittoria(t))("text-danger",!1===r.isVittoria(t)),W(1),kn(" ",t.risultato," "),W(1),ye("ngIf",!0===r.isVittoria(t)),W(1),ye("ngIf",!1===r.isVittoria(t))}}function Xye(n,e){if(1&n&&(D(0,"div",89),fe(1,"i",40),G(2),M()),2&n){const t=We().$implicit;W(2),kn("",t.ora," ")}}function ebe(n,e){if(1&n){const t=ni();D(0,"button",90),Le("click",function(){en(t);const i=We().index;return tn(We().aggiungiAlCalendario(i))}),fe(1,"i",91),G(2,"Aggiungi "),M()}}function tbe(n,e){if(1&n){const t=ni();D(0,"button",92),Le("click",function(){en(t);const i=We().index;return tn(We().creaListaGara(i))}),fe(1,"i",39),G(2,"Lista Gara "),M()}}function nbe(n,e){if(1&n){const t=ni();D(0,"div",63)(1,"h2",64)(2,"button",65)(3,"div",66),G(4),M(),D(5,"div",67)(6,"div",68),G(7),M(),D(8,"div",69),G(9),M()(),Qe(10,Jye,5,7,"div",70),Qe(11,Xye,3,1,"div",71),M()(),D(12,"div",72)(13,"div",73)(14,"div",74)(15,"div",75)(16,"span",76),G(17,"Ospitante"),M(),D(18,"span",77),G(19),M()()(),D(20,"div",74)(21,"div",75)(22,"span",76),G(23,"Ospite"),M(),D(24,"span",77),G(25),M()()(),D(26,"div",74)(27,"div",78)(28,"span",76),fe(29,"i",46),G(30,"Indirizzo "),M(),D(31,"a",79),Le("click",function(){const o=en(t).$implicit;return tn(We().openMaps(o.indirizzo))}),G(32),M()()(),D(33,"div",80),Qe(34,ebe,3,0,"button",81),Qe(35,tbe,3,0,"button",82),M()()()()}if(2&n){const t=e.$implicit,r=e.index,i=We();nn("partita-giocata",t.risultato)("partita-futura",!t.risultato),W(1),Ai("id","heading"+r),W(1),Ai("data-bs-target","#collapse"+r)("aria-controls","collapse"+r),W(2),tt(t.numeroGara),W(3),tt(i.formatDataCompleta(t.data)),W(2),Pa("",t.ospitante," vs ",t.ospite,""),W(1),ye("ngIf",t.risultato),W(1),ye("ngIf",!t.risultato),W(1),Ai("id","collapse"+r)("aria-labelledby","heading"+r),W(7),tt(t.ospitante),W(6),tt(t.ospite),W(7),kn(" ",t.indirizzo," "),W(2),ye("ngIf",!t.risultato),W(1),ye("ngIf",i.authService.hasEditPermission()&&!t.risultato)}}const Yu=function(n,e,t){return{"bi-arrow-down":n,"bi-arrow-up":e,"bi-arrow-down-up":t}};let rbe=(()=>{class n{constructor(t,r,i){this.calendarioService=t,this.pdfService=r,this.authService=i,this.partite=[],this.filteredPartite=[],this.lastUpdate=null,this.season="",this.filters={numeroGara:"",data:"",ora:"",campionato:"",indirizzo:"",ospitante:"",ospite:"",risultato:""},this.sortColumn="numeroGara",this.sortDirection="asc"}ngOnInit(){this.partiteSubscription=this.calendarioService.getPartiteWithMetadataObservable().subscribe(t=>{this.partite=t.partite||[],this.lastUpdate=t.lastUpdate,this.season=t.season,this.applyFilters()})}ngOnDestroy(){this.partiteSubscription&&this.partiteSubscription.unsubscribe()}get partiteRimanenti(){return this.partite.filter(t=>!t.risultato||""===t.risultato.trim()).length}get campionato(){return this.partite.length>0?this.partite[0].campionato:""}get partiteOrdinateEFiltrate(){return this.filteredPartite}applyFilters(){let t=[...this.partite];Object.keys(this.filters).forEach(r=>{const i=this.filters[r].toLowerCase().trim();i&&(t=t.filter(o=>{let s=o[r];if("data"===r&&s){const a=new Date(s);s=`${a.getDate().toString().padStart(2,"0")}/${(a.getMonth()+1).toString().padStart(2,"0")}/${a.getFullYear()}`}return s?.toString().toLowerCase().includes(i)}))}),t.sort((r,i)=>{let o=r[this.sortColumn],s=i[this.sortColumn];return"data"===this.sortColumn?(o=o?new Date(o).getTime():0,s=s?new Date(s).getTime():0):"numeroGara"===this.sortColumn?(o=parseInt(o)||0,s=parseInt(s)||0):(o=o?.toString().toLowerCase()||"",s=s?.toString().toLowerCase()||""),o<s?"asc"===this.sortDirection?-1:1:o>s?"asc"===this.sortDirection?1:-1:0}),this.filteredPartite=t}onFilterChange(){this.applyFilters()}sortBy(t){this.sortColumn===t?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=t,this.sortDirection="asc"),this.applyFilters()}clearFilters(){this.filters={numeroGara:"",data:"",ora:"",campionato:"",indirizzo:"",ospitante:"",ospite:"",risultato:""},this.applyFilters()}isVittoria(t){if(!t.risultato)return null;const r=t.risultato.split("-");if(2!==r.length)return null;const i=parseInt(r[0].trim()),o=parseInt(r[1].trim());if(isNaN(i)||isNaN(o))return null;const s=t.ospitante.toLowerCase().includes("thunders"),a=t.ospite.toLowerCase().includes("thunders");return s||a?s?i>o:o>i:null}openMaps(t){const r=encodeURIComponent(t);/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?window.location.href=`https://maps.google.com/?q=${r}`:window.open(`https://www.google.com/maps?q=${r}`,"_blank")}creaListaGara(t){var r=this;return(0,ie.A)(function*(){try{const i=r.filteredPartite[t];yield r.pdfService.generaListaGara(i)}catch(i){console.error("Errore nella generazione del PDF:",i),alert("Errore nella generazione del PDF. Riprova pi\xf9 tardi.")}})()}aggiungiAlCalendario(t){const r=this.filteredPartite[t],i=new Date(r.data),[o,s]=r.ora.split(":");i.setHours(parseInt(o),parseInt(s),0,0);const a=new Date(i);a.setHours(i.getHours()+2);const l=b=>`${b.getFullYear()}${String(b.getMonth()+1).padStart(2,"0")}${String(b.getDate()).padStart(2,"0")}T${String(b.getHours()).padStart(2,"0")}${String(b.getMinutes()).padStart(2,"0")}${String(b.getSeconds()).padStart(2,"0")}`,c=l(i),u=l(a),d=l(new Date),m=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//PuntoVolley Thunders//Calendario//IT","CALSCALE:GREGORIAN","METHOD:PUBLISH","BEGIN:VEVENT",`DTSTART:${c}`,`DTEND:${u}`,`DTSTAMP:${d}`,`UID:partita-${r.numeroGara}-${d}@thunders.it`,`SUMMARY:${r.ospitante} vs ${r.ospite}`,`DESCRIPTION:Partita ${r.campionato}\\nGara n. ${r.numeroGara}`,`LOCATION:${r.indirizzo}`,"STATUS:CONFIRMED","SEQUENCE:0","BEGIN:VALARM","TRIGGER:-PT1H","ACTION:DISPLAY","DESCRIPTION:Partita tra 1 ora","END:VALARM","END:VEVENT","END:VCALENDAR"].join("\r\n");if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){const b=new Blob([m],{type:"text/calendar;charset=utf-8"}),w=URL.createObjectURL(b);window.location.href=w,setTimeout(()=>URL.revokeObjectURL(w),1e3)}else{const b=new Blob([m],{type:"text/calendar;charset=utf-8"}),w=window.URL.createObjectURL(b),E=document.createElement("a");E.href=w,E.download=`partita-${r.numeroGara}.ics`,E.click(),window.URL.revokeObjectURL(w)}}formatDataCompleta(t){if(!t)return"";try{const r=new Date(t),o=["Dom","Lun","Mar","Mer","Gio","Ven","Sab"][r.getDay()],s=String(r.getDate()).padStart(2,"0");return`${o} ${s}/${String(r.getMonth()+1).padStart(2,"0")}/${r.getFullYear()}`}catch{return t}}static{this.\u0275fac=function(r){return new(r||n)(ke(sB),ke(Rye),ke(Ru))}}static{this.\u0275cmp=Es({type:n,selectors:[["app-calendario"]],decls:101,vars:59,consts:[[1,"container-fluid","px-3","py-4","custom-spacing"],[1,"desktop-header","d-none","d-md-block","mb-3"],[1,"desktop-header-card"],[1,"desktop-header-content"],[1,"header-left"],[1,"header-icon"],[1,"bi","bi-calendar-event-fill"],[1,"header-text"],[1,"header-title"],[1,"header-meta"],["class","meta-item",4,"ngIf"],[1,"mobile-header","d-md-none","mb-3"],[1,"mobile-header-card"],[1,"mobile-header-title"],[1,"bi","bi-calendar-event-fill","me-2"],[1,"title-text"],[1,"mobile-header-info"],["class","info-item",4,"ngIf"],[1,"table-container","d-none","d-md-block"],[1,"table-wrapper"],[1,"table","table-hover","modern-table"],[1,"table-header","sticky-header"],[1,"sortable",3,"click"],[1,"th-content"],[1,"bi",3,"ngClass"],[1,"actions-column"],["title","Pulisci filtri",1,"btn","btn-sm","btn-link","text-white",3,"click"],[1,"bi","bi-x-circle"],[1,"filter-row"],["type","text","placeholder","Filtra...",1,"form-control","form-control-sm","filter-input",3,"ngModel","ngModelChange","input"],["type","text","placeholder","gg/mm/aaaa",1,"form-control","form-control-sm","filter-input",3,"ngModel","ngModelChange","input"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"d-md-none"],["class","text-center text-muted py-4",4,"ngIf"],["id","calendarioAccordion",1,"accordion","mobile-calendario"],["class","accordion-item mobile-partita-card",3,"partita-giocata","partita-futura",4,"ngFor","ngForOf"],[1,"meta-item"],[1,"bi","bi-calendar3","me-1"],[1,"bi","bi-list-check","me-1"],[1,"bi","bi-clock","me-1"],[1,"info-item"],[1,"info-label"],[1,"info-value"],[1,"badge","bg-primary"],["href","javascript:void(0)","title","Apri in Google Maps",1,"text-decoration-none","text-primary","d-inline-flex","align-items-center","maps-link",3,"click"],[1,"bi","bi-geo-alt-fill","me-1"],["class","text-muted",4,"ngIf"],[1,"actions-cell"],["class","btn btn-info btn-sm me-1","title","Aggiungi al calendario",3,"click",4,"ngIf"],["class","btn btn-secondary btn-sm","title","Crea lista gara",3,"click",4,"ngIf"],[1,"text-muted"],["class","ms-2",4,"ngIf"],[1,"ms-2"],[1,"bi","bi-check-circle-fill","text-success"],[1,"bi","bi-x-circle-fill","text-danger"],["title","Aggiungi al calendario",1,"btn","btn-info","btn-sm","me-1",3,"click"],[1,"bi","bi-calendar-plus"],["title","Crea lista gara",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"bi","bi-list-check"],["colspan","9",1,"text-center","text-muted","py-4"],[1,"bi","bi-inbox","fs-1","d-block","mb-2"],[1,"text-center","text-muted","py-4"],[1,"accordion-item","mobile-partita-card"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"accordion-button","collapsed","mobile-partita-header"],[1,"gara-badge"],[1,"partita-info"],[1,"partita-data"],[1,"partita-match"],["class","risultato-badge",4,"ngIf"],["class","ora-badge",4,"ngIf"],["data-bs-parent","#calendarioAccordion",1,"accordion-collapse","collapse"],[1,"accordion-body","mobile-partita-details"],[1,"detail-row"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],[1,"detail-item","full-width"],["href","javascript:void(0)",1,"detail-value","detail-link",3,"click"],[1,"action-buttons","mt-3"],["class","btn btn-info btn-sm flex-fill",3,"click",4,"ngIf"],["class","btn btn-secondary btn-sm flex-fill",3,"click",4,"ngIf"],[1,"risultato-badge"],[1,"risultato-value"],["class","bi bi-check-circle-fill text-success ms-1",4,"ngIf"],["class","bi bi-x-circle-fill text-danger ms-1",4,"ngIf"],[1,"bi","bi-check-circle-fill","text-success","ms-1"],[1,"bi","bi-x-circle-fill","text-danger","ms-1"],[1,"ora-badge"],[1,"btn","btn-info","btn-sm","flex-fill",3,"click"],[1,"bi","bi-calendar-plus","me-1"],[1,"btn","btn-secondary","btn-sm","flex-fill",3,"click"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),fe(6,"i",6),M(),D(7,"div",7)(8,"h3",8),G(9,"Calendario"),M(),D(10,"div",9),Qe(11,kye,3,1,"span",10),Qe(12,Oye,3,1,"span",10),Qe(13,Lye,4,4,"span",10),M()()()()()(),D(14,"div",11)(15,"div",12)(16,"div",13),fe(17,"i",14),D(18,"span",15),G(19,"Calendario"),M()(),D(20,"div",16),Qe(21,Fye,5,1,"div",17),Qe(22,Vye,5,1,"div",17),Qe(23,Uye,5,1,"div",17),Qe(24,Bye,7,4,"div",17),M()()(),D(25,"div",18)(26,"div",19)(27,"table",20)(28,"thead",21)(29,"tr")(30,"th",22),Le("click",function(){return i.sortBy("numeroGara")}),D(31,"div",23)(32,"span"),G(33,"N. Gara"),M(),fe(34,"i",24),M()(),D(35,"th",22),Le("click",function(){return i.sortBy("data")}),D(36,"div",23)(37,"span"),G(38,"Data"),M(),fe(39,"i",24),M()(),D(40,"th",22),Le("click",function(){return i.sortBy("ora")}),D(41,"div",23)(42,"span"),G(43,"Ora"),M(),fe(44,"i",24),M()(),D(45,"th",22),Le("click",function(){return i.sortBy("campionato")}),D(46,"div",23)(47,"span"),G(48,"Campionato"),M(),fe(49,"i",24),M()(),D(50,"th",22),Le("click",function(){return i.sortBy("indirizzo")}),D(51,"div",23)(52,"span"),G(53,"Indirizzo"),M(),fe(54,"i",24),M()(),D(55,"th",22),Le("click",function(){return i.sortBy("ospitante")}),D(56,"div",23)(57,"span"),G(58,"Ospitante"),M(),fe(59,"i",24),M()(),D(60,"th",22),Le("click",function(){return i.sortBy("ospite")}),D(61,"div",23)(62,"span"),G(63,"Ospite"),M(),fe(64,"i",24),M()(),D(65,"th",22),Le("click",function(){return i.sortBy("risultato")}),D(66,"div",23)(67,"span"),G(68,"Risultato"),M(),fe(69,"i",24),M()(),D(70,"th",25)(71,"div",23)(72,"span"),G(73,"Azioni"),M(),D(74,"button",26),Le("click",function(){return i.clearFilters()}),fe(75,"i",27),M()()()(),D(76,"tr",28)(77,"th")(78,"input",29),Le("ngModelChange",function(s){return i.filters.numeroGara=s})("input",function(){return i.onFilterChange()}),M()(),D(79,"th")(80,"input",30),Le("ngModelChange",function(s){return i.filters.data=s})("input",function(){return i.onFilterChange()}),M()(),D(81,"th")(82,"input",29),Le("ngModelChange",function(s){return i.filters.ora=s})("input",function(){return i.onFilterChange()}),M()(),D(83,"th")(84,"input",29),Le("ngModelChange",function(s){return i.filters.campionato=s})("input",function(){return i.onFilterChange()}),M()(),D(85,"th")(86,"input",29),Le("ngModelChange",function(s){return i.filters.indirizzo=s})("input",function(){return i.onFilterChange()}),M()(),D(87,"th")(88,"input",29),Le("ngModelChange",function(s){return i.filters.ospitante=s})("input",function(){return i.onFilterChange()}),M()(),D(89,"th")(90,"input",29),Le("ngModelChange",function(s){return i.filters.ospite=s})("input",function(){return i.onFilterChange()}),M()(),D(91,"th")(92,"input",29),Le("ngModelChange",function(s){return i.filters.risultato=s})("input",function(){return i.onFilterChange()}),M()(),fe(93,"th"),M()(),D(94,"tbody"),Qe(95,Wye,24,11,"tr",31),Qe(96,Kye,4,1,"tr",32),M()()()(),D(97,"div",33),Qe(98,Qye,2,0,"div",34),D(99,"div",35),Qe(100,nbe,36,20,"div",36),M()()()),2&r&&(W(11),ye("ngIf",i.season),W(1),ye("ngIf",i.partite.length),W(1),ye("ngIf",i.lastUpdate),W(8),ye("ngIf",i.season),W(1),ye("ngIf",i.campionato),W(1),ye("ngIf",i.partite.length),W(1),ye("ngIf",i.lastUpdate),W(10),ye("ngClass",gi(27,Yu,"numeroGara"===i.sortColumn&&"asc"===i.sortDirection,"numeroGara"===i.sortColumn&&"desc"===i.sortDirection,"numeroGara"!==i.sortColumn)),W(5),ye("ngClass",gi(31,Yu,"data"===i.sortColumn&&"asc"===i.sortDirection,"data"===i.sortColumn&&"desc"===i.sortDirection,"data"!==i.sortColumn)),W(5),ye("ngClass",gi(35,Yu,"ora"===i.sortColumn&&"asc"===i.sortDirection,"ora"===i.sortColumn&&"desc"===i.sortDirection,"ora"!==i.sortColumn)),W(5),ye("ngClass",gi(39,Yu,"campionato"===i.sortColumn&&"asc"===i.sortDirection,"campionato"===i.sortColumn&&"desc"===i.sortDirection,"campionato"!==i.sortColumn)),W(5),ye("ngClass",gi(43,Yu,"indirizzo"===i.sortColumn&&"asc"===i.sortDirection,"indirizzo"===i.sortColumn&&"desc"===i.sortDirection,"indirizzo"!==i.sortColumn)),W(5),ye("ngClass",gi(47,Yu,"ospitante"===i.sortColumn&&"asc"===i.sortDirection,"ospitante"===i.sortColumn&&"desc"===i.sortDirection,"ospitante"!==i.sortColumn)),W(5),ye("ngClass",gi(51,Yu,"ospite"===i.sortColumn&&"asc"===i.sortDirection,"ospite"===i.sortColumn&&"desc"===i.sortDirection,"ospite"!==i.sortColumn)),W(5),ye("ngClass",gi(55,Yu,"risultato"===i.sortColumn&&"asc"===i.sortDirection,"risultato"===i.sortColumn&&"desc"===i.sortDirection,"risultato"!==i.sortColumn)),W(9),ye("ngModel",i.filters.numeroGara),W(2),ye("ngModel",i.filters.data),W(2),ye("ngModel",i.filters.ora),W(2),ye("ngModel",i.filters.campionato),W(2),ye("ngModel",i.filters.indirizzo),W(2),ye("ngModel",i.filters.ospitante),W(2),ye("ngModel",i.filters.ospite),W(2),ye("ngModel",i.filters.risultato),W(3),ye("ngForOf",i.partiteOrdinateEFiltrate),W(1),ye("ngIf",0===i.filteredPartite.length),W(2),ye("ngIf",0===i.partite.length),W(2),ye("ngForOf",i.partiteOrdinateEFiltrate))},dependencies:[ty,Ld,Ra,Tc,_h,Zp,ny],styles:[".file-input-hidden[_ngcontent-%COMP%]{display:none}.custom-spacing[_ngcontent-%COMP%]{margin-top:-20px}.table-container[_ngcontent-%COMP%]{background:white;border-radius:8px;box-shadow:0 1px 3px #00000014;overflow:hidden;margin-bottom:2rem}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;max-height:calc(100vh - 200px)}.modern-table[_ngcontent-%COMP%]{margin-bottom:0;font-size:.9rem}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10}.table-header[_ngcontent-%COMP%]{background-color:#cfe2ff;color:#084298}.table-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#cfe2ff!important}.table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.75rem;font-weight:600;white-space:nowrap;background-color:#cfe2ff!important}.sortable[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:background-color .2s}.sortable[_ngcontent-%COMP%]:hover{background-color:#0842981a}.th-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.5rem}.th-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem;opacity:.7}.filter-row[_ngcontent-%COMP%]{background-color:#cfe2ff}.filter-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem;background-color:#cfe2ff;border-top:none}.filter-input[_ngcontent-%COMP%]{font-size:.85rem;border:1px solid #dee2e6;border-radius:4px;padding:.375rem .5rem}.filter-input[_ngcontent-%COMP%]:focus{border-color:#6ea8fe;box-shadow:0 0 0 .2rem #6ea8fe40}.table-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{color:#084298;opacity:.8}.table-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{color:#052c65;opacity:1}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .15s;border-bottom:1px solid #f8f9fa}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#0d6efd0a}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;vertical-align:middle}.actions-column[_ngcontent-%COMP%]{min-width:180px;text-align:center}.actions-cell[_ngcontent-%COMP%]{white-space:nowrap;text-align:center}.actions-cell[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem}.actions-cell[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0}.modern-table[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.875rem;padding:.35rem .65rem;font-weight:500}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.375rem}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:last-child{margin-right:0}.maps-link[_ngcontent-%COMP%]{transition:all .2s ease}.maps-link[_ngcontent-%COMP%]:hover{background-color:rgba(var(--bs-primary-rgb),.1);border-radius:4px;padding:2px 4px;transform:translate(2px)}.accordion-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;width:100%}.gara-numero[_ngcontent-%COMP%]{font-weight:600;min-width:65px;color:#0d6efd}.gara-data[_ngcontent-%COMP%]{font-weight:500;min-width:85px}.gara-ora[_ngcontent-%COMP%]{font-weight:400;color:#6c757d;min-width:50px}@media (max-width: 1400px){.modern-table[_ngcontent-%COMP%]{font-size:.85rem}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem}}@media (max-width: 768px){.table-container[_ngcontent-%COMP%]{display:none}.maps-link[_ngcontent-%COMP%]:hover{transform:none}}.desktop-header[_ngcontent-%COMP%]{margin-bottom:1rem}.desktop-header-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d6efd 0%,#0a58ca 100%);border-radius:12px;padding:1.5rem 2rem;box-shadow:0 4px 12px #0d6efd33;color:#fff}.desktop-header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1.5rem}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.25rem}.header-icon[_ngcontent-%COMP%]{width:56px;height:56px;background:rgba(255,255,255,.15);border-radius:12px;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.header-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.75rem}.header-text[_ngcontent-%COMP%]{flex:1}.header-title[_ngcontent-%COMP%]{margin:0;font-size:1.75rem;font-weight:700;letter-spacing:-.5px}.header-meta[_ngcontent-%COMP%]{display:flex;gap:1.5rem;margin-top:.5rem;flex-wrap:wrap}.meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.9rem;opacity:.95;font-weight:500}.meta-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.8}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center}.header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-weight:500;border-radius:8px;white-space:nowrap}@media (max-width: 1200px){.desktop-header-card[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.header-icon[_ngcontent-%COMP%]{width:48px;height:48px}.header-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .header-title[_ngcontent-%COMP%]{font-size:1.5rem}.header-meta[_ngcontent-%COMP%]{gap:1rem}.meta-item[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width: 992px){.desktop-header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.header-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}}.mobile-header[_ngcontent-%COMP%]{padding:0}.mobile-header-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d6efd 0%,#0a58ca 100%);border-radius:12px;padding:1rem;box-shadow:0 4px 8px #00000026;color:#fff}.mobile-header-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.5rem;font-weight:700;margin-bottom:.75rem;padding-bottom:.75rem;border-bottom:1px solid rgba(255,255,255,.2)}.mobile-header-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.title-text[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.5px}.mobile-header-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.info-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.4rem .5rem;background:rgba(255,255,255,.1);border-radius:6px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.info-label[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase;letter-spacing:.5px;opacity:.9;font-weight:500}.info-value[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600}@media (max-width: 400px){.mobile-header-card[_ngcontent-%COMP%]{padding:.75rem}.mobile-header-title[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:.5rem;padding-bottom:.5rem}.mobile-header-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.info-item[_ngcontent-%COMP%]{padding:.35rem .4rem}.info-label[_ngcontent-%COMP%]{font-size:.7rem}.info-value[_ngcontent-%COMP%]{font-size:.85rem}}.mobile-calendario[_ngcontent-%COMP%]{padding:.5rem}.mobile-partita-card[_ngcontent-%COMP%]{border-radius:8px!important;margin-bottom:.75rem;border:1px solid #dee2e6!important;box-shadow:0 2px 4px #0000001a;overflow:hidden}.partita-giocata[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(25,135,84,.05) 0%,rgba(255,255,255,1) 100%)}.partita-futura[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(13,110,253,.05) 0%,rgba(255,255,255,1) 100%)}.mobile-partita-header[_ngcontent-%COMP%]{padding:.75rem!important;display:flex!important;align-items:center!important;gap:.75rem!important;background:transparent!important;border:none!important;box-shadow:none!important}.mobile-partita-header[_ngcontent-%COMP%]:not(.collapsed){background:transparent!important;border-bottom:1px solid #dee2e6!important}.mobile-partita-header[_ngcontent-%COMP%]:after{margin-left:auto!important;flex-shrink:0}.gara-badge[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:#0d6efd;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.9rem;flex-shrink:0}.partita-info[_ngcontent-%COMP%]{flex:1;min-width:0}.partita-data[_ngcontent-%COMP%]{font-size:.75rem;color:#6c757d;font-weight:500;text-transform:uppercase}.partita-match[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#212529;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.risultato-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;background:#f8f9fa;font-weight:600;font-size:.85rem;display:flex;align-items:center;gap:.25rem;flex-shrink:0}.risultato-value[_ngcontent-%COMP%]{font-weight:700}.ora-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;background:#e7f1ff;color:#0d6efd;font-weight:600;font-size:.85rem;display:flex;align-items:center;flex-shrink:0}.mobile-partita-details[_ngcontent-%COMP%]{padding:.75rem!important}.detail-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:.75rem}.detail-row[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}.detail-item[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem}.detail-item.full-width[_ngcontent-%COMP%]{flex:1 0 100%}.detail-label[_ngcontent-%COMP%]{font-size:.7rem;text-transform:uppercase;color:#6c757d;font-weight:600;letter-spacing:.5px}.detail-value[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#212529}.detail-link[_ngcontent-%COMP%]{color:#0d6efd!important;text-decoration:none;cursor:pointer;display:flex;align-items:center;word-break:break-word}.detail-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{white-space:nowrap}@media (max-width: 400px){.mobile-calendario[_ngcontent-%COMP%]{padding:.25rem}.mobile-partita-card[_ngcontent-%COMP%]{margin-bottom:.5rem}.mobile-partita-header[_ngcontent-%COMP%]{padding:.5rem!important;gap:.5rem!important}.gara-badge[_ngcontent-%COMP%]{width:32px;height:32px;font-size:.8rem}.partita-data[_ngcontent-%COMP%]{font-size:.7rem}.partita-match[_ngcontent-%COMP%]{font-size:.85rem}.risultato-badge[_ngcontent-%COMP%], .ora-badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.2rem .4rem}.detail-label[_ngcontent-%COMP%]{font-size:.65rem}.detail-value[_ngcontent-%COMP%]{font-size:.9rem}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.8rem;padding:.35rem .5rem}}"]})}}return n})(),ibe=(()=>{class n{constructor(t){this.firestore=t,this.collectionName="classifica"}getStandingsDataObservable(){const t=Nu(this.firestore,this.collectionName);return iv(t,{idField:"id"}).pipe(hn(r=>{if(r&&r.length>0){const i=r[0];return{lastUpdate:i.lastUpdate?.toDate?i.lastUpdate.toDate():new Date(i.lastUpdate),season:i.season,standings:i.standings||[]}}return null}))}getStandingsData(){var t=this;return(0,ie.A)(function*(){return yield Qb(t.getStandingsDataObservable())})()}getClassificaObservable(){return this.getStandingsDataObservable().pipe(hn(t=>t&&t.standings?[...t.standings].sort((r,i)=>(i.punti||0)-(r.punti||0)):[]))}getClassifica(){var t=this;return(0,ie.A)(function*(){return yield Qb(t.getClassificaObservable())})()}static{this.\u0275fac=function(r){return new(r||n)(ft(gh))}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function obe(n,e){if(1&n&&(D(0,"span",32),fe(1,"i",33),G(2),M()),2&n){const t=We();W(2),kn("",t.season," ")}}function sbe(n,e){if(1&n&&(D(0,"span",32),fe(1,"i",34),G(2),xr(3,"date"),M()),2&n){const t=We();W(2),kn("Agg. ",Ps(3,1,t.lastUpdate,"dd/MM/yyyy HH:mm")," ")}}function abe(n,e){if(1&n&&(D(0,"tr")(1,"td",35),G(2),M(),D(3,"td"),G(4),M(),D(5,"td",36),G(6),M(),D(7,"td",18),G(8),M(),D(9,"td",18),G(10),M(),D(11,"td",18),G(12),M(),D(13,"td",18),G(14),M(),D(15,"td",18),G(16),M(),D(17,"td",18),G(18),xr(19,"percent"),M(),D(20,"td",18),G(21),M(),D(22,"td",18),G(23),M(),D(24,"td",18),G(25),xr(26,"percent"),M()()),2&n){const t=e.$implicit,r=e.index,i=We();nn("table-primary",i.isThunders(t)),W(2),tt(r+1),W(1),nn("fw-bold",i.isThunders(t))("fw-semibold",!i.isThunders(t)),W(1),tt(t.squadra),W(2),tt(t.punti),W(1),nn("fw-bold",i.isThunders(t)),W(1),tt(t.partiteVinte+t.partitePerse),W(1),nn("fw-bold",i.isThunders(t)),W(1),tt(t.partiteVinte),W(1),nn("fw-bold",i.isThunders(t)),W(1),tt(t.partitePerse),W(1),nn("fw-bold",i.isThunders(t)),W(1),tt(t.setVinti),W(1),nn("fw-bold",i.isThunders(t)),W(1),tt(t.setPersi),W(1),nn("fw-bold",i.isThunders(t)),W(1),tt(Ps(19,36,t.quozienteSet/100,"1.0-0")),W(2),nn("fw-bold",i.isThunders(t)),W(1),tt(t.puntiFatti),W(1),nn("fw-bold",i.isThunders(t)),W(1),tt(t.puntiSubiti),W(1),nn("fw-bold",i.isThunders(t)),W(1),tt(Ps(26,39,t.quozientePunti/100,"1.2-2"))}}function lbe(n,e){1&n&&(D(0,"tr")(1,"td",37),fe(2,"i",38),G(3,"Nessun dato disponibile "),M()())}function cbe(n,e){if(1&n&&(D(0,"div",39)(1,"span",40),G(2,"Stagione"),M(),D(3,"span",41),G(4),M()()),2&n){const t=We();W(4),tt(t.season)}}function ube(n,e){if(1&n&&(D(0,"div",39)(1,"span",40),fe(2,"i",34),G(3,"Aggiornamento"),M(),D(4,"span",41),G(5),xr(6,"date"),M()()),2&n){const t=We();W(5),tt(Ps(6,1,t.lastUpdate,"dd/MM/yy HH:mm"))}}function dbe(n,e){1&n&&(D(0,"div",42),fe(1,"i",38),G(2,"Nessun dato disponibile "),M())}function hbe(n,e){if(1&n&&(D(0,"div",43)(1,"h2",44)(2,"button",45)(3,"div",46),G(4),M(),D(5,"div",47),G(6),M(),D(7,"div",48)(8,"span",49),G(9),M()()()(),D(10,"div",50)(11,"div",51)(12,"div",52)(13,"div",53)(14,"span",54),G(15,"GIOCATE"),M(),D(16,"span",55),G(17),M()(),D(18,"div",53)(19,"span",54),G(20,"Vittorie"),M(),D(21,"span",55),G(22),M()(),D(23,"div",53)(24,"span",54),G(25,"Sconfitte"),M(),D(26,"span",55),G(27),M()()(),D(28,"div",52)(29,"div",53)(30,"span",54),G(31,"Set Vinti"),M(),D(32,"span",55),G(33),M()(),D(34,"div",53)(35,"span",54),G(36,"Set Persi"),M(),D(37,"span",55),G(38),M()(),D(39,"div",53)(40,"span",54),G(41,"Q. Set"),M(),D(42,"span",55),G(43),xr(44,"percent"),M()()(),D(45,"div",52)(46,"div",53)(47,"span",54),G(48,"Pt. Fatti"),M(),D(49,"span",55),G(50),M()(),D(51,"div",53)(52,"span",54),G(53,"Pt. Subiti"),M(),D(54,"span",55),G(55),M()(),D(56,"div",53)(57,"span",54),G(58,"Q. Punti"),M(),D(59,"span",55),G(60),xr(61,"percent"),M()()()()()()),2&n){const t=e.$implicit,r=e.index,i=We();nn("thunders-highlight",i.isThunders(t)),W(1),Ai("id","heading"+r),W(1),Ai("data-bs-target","#collapse"+r)("aria-controls","collapse"+r),W(2),tt(r+1),W(1),nn("fw-bold",i.isThunders(t)),W(1),kn(" ",t.squadra," "),W(3),tt(t.punti),W(1),Ai("id","collapse"+r)("aria-labelledby","heading"+r),W(6),nn("fw-bold",i.isThunders(t)),W(1),tt(t.partiteVinte+t.partitePerse),W(4),nn("fw-bold",i.isThunders(t)),W(1),tt(t.partiteVinte),W(4),nn("fw-bold",i.isThunders(t)),W(1),tt(t.partitePerse),W(5),nn("fw-bold",i.isThunders(t)),W(1),tt(t.setVinti),W(4),nn("fw-bold",i.isThunders(t)),W(1),tt(t.setPersi),W(4),nn("fw-bold",i.isThunders(t)),W(1),tt(Ps(44,39,t.quozienteSet/100,"1.0-0")),W(6),nn("fw-bold",i.isThunders(t)),W(1),tt(t.puntiFatti),W(4),nn("fw-bold",i.isThunders(t)),W(1),tt(t.puntiSubiti),W(4),nn("fw-bold",i.isThunders(t)),W(1),tt(Ps(61,42,t.quozientePunti/100,"1.2-2"))}}let fbe=(()=>{class n{constructor(t){this.classificaService=t,this.classifica=[],this.standingsData=null,this.lastUpdate=null,this.season=""}ngOnInit(){this.standingsSubscription=this.classificaService.getStandingsDataObservable().subscribe(t=>{t?(this.standingsData=t,this.classifica=t.standings||[],this.lastUpdate=t.lastUpdate,this.season=t.season,this.classifica.sort((r,i)=>(i.punti||0)-(r.punti||0))):(this.classifica=[],this.lastUpdate=null,this.season="")})}ngOnDestroy(){this.standingsSubscription&&this.standingsSubscription.unsubscribe()}isThunders(t){return t.squadra?.toLowerCase().includes("thunders")||!1}static{this.\u0275fac=function(r){return new(r||n)(ke(ibe))}}static{this.\u0275cmp=Es({type:n,selectors:[["app-classifica"]],decls:61,vars:8,consts:[[1,"container-fluid","py-4","custom-spacing"],[1,"row"],[1,"col-12"],[1,"desktop-header","d-none","d-md-block","mb-3"],[1,"desktop-header-card"],[1,"desktop-header-content"],[1,"header-left"],[1,"header-icon"],[1,"bi","bi-trophy-fill"],[1,"header-text"],[1,"header-title"],[1,"header-meta"],["class","meta-item",4,"ngIf"],[1,"card","shadow-sm","d-none","d-md-block"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","table-hover","table-striped","mb-0"],[1,"table-light"],[1,"text-center"],[3,"table-primary",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"mobile-header","d-md-none","mb-3"],[1,"mobile-header-card"],[1,"mobile-header-title"],[1,"bi","bi-trophy-fill","me-2"],[1,"title-text"],[1,"mobile-header-info"],["class","info-item",4,"ngIf"],[1,"d-md-none"],["class","text-center text-muted py-4",4,"ngIf"],["id","classificaAccordion",1,"accordion","mobile-classifica"],["class","accordion-item mobile-squadra-card",3,"thunders-highlight",4,"ngFor","ngForOf"],[1,"meta-item"],[1,"bi","bi-calendar3","me-1"],[1,"bi","bi-clock","me-1"],[1,"text-center","fw-bold"],[1,"text-center","fw-bold","text-primary"],["colspan","12",1,"text-center","text-muted","py-4"],[1,"bi","bi-info-circle","me-2"],[1,"info-item"],[1,"info-label"],[1,"info-value"],[1,"text-center","text-muted","py-4"],[1,"accordion-item","mobile-squadra-card"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"accordion-button","collapsed","mobile-squadra-header"],[1,"position-badge"],[1,"squadra-nome"],[1,"punti-badge"],[1,"punti-value"],["data-bs-parent","#classificaAccordion",1,"accordion-collapse","collapse"],[1,"accordion-body","mobile-squadra-stats"],[1,"stat-row"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),fe(8,"i",8),M(),D(9,"div",9)(10,"h3",10),G(11,"Classifica"),M(),D(12,"div",11),Qe(13,obe,3,1,"span",12),Qe(14,sbe,4,4,"span",12),M()()()()()(),D(15,"div",13)(16,"div",14)(17,"div",15)(18,"table",16)(19,"thead",17)(20,"tr")(21,"th",18),G(22,"Pos"),M(),D(23,"th"),G(24,"Squadra"),M(),D(25,"th",18),G(26,"Punti"),M(),D(27,"th",18),G(28,"GIOCATE"),M(),D(29,"th",18),G(30,"V"),M(),D(31,"th",18),G(32,"P"),M(),D(33,"th",18),G(34,"Set V"),M(),D(35,"th",18),G(36,"Set P"),M(),D(37,"th",18),G(38,"Q. Set"),M(),D(39,"th",18),G(40,"Pt. F"),M(),D(41,"th",18),G(42,"Pt. S"),M(),D(43,"th",18),G(44,"Q. Pt."),M()()(),D(45,"tbody"),Qe(46,abe,27,42,"tr",19),Qe(47,lbe,4,0,"tr",20),M()()()()(),D(48,"div",21)(49,"div",22)(50,"div",23),fe(51,"i",24),D(52,"span",25),G(53,"Classifica"),M()(),D(54,"div",26),Qe(55,cbe,5,1,"div",27),Qe(56,ube,7,4,"div",27),M()()(),D(57,"div",28),Qe(58,dbe,3,0,"div",29),D(59,"div",30),Qe(60,hbe,62,45,"div",31),M()()()()()),2&r&&(W(13),ye("ngIf",i.season),W(1),ye("ngIf",i.lastUpdate),W(32),ye("ngForOf",i.classifica),W(1),ye("ngIf",0===i.classifica.length),W(8),ye("ngIf",i.season),W(1),ye("ngIf",i.lastUpdate),W(2),ye("ngIf",0===i.classifica.length),W(2),ye("ngForOf",i.classifica))},dependencies:[Ld,Ra,XL,ny],styles:['.card[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden}.card-header[_ngcontent-%COMP%]{padding:1rem 1.5rem}.custom-spacing[_ngcontent-%COMP%]{margin-top:-20px}.table[_ngcontent-%COMP%]{margin-bottom:0}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;border-bottom:2px solid #dee2e6;padding:.75rem;font-size:.9rem}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;vertical-align:middle;font-size:.95rem}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#007bff0d}.mobile-classifica[_ngcontent-%COMP%]{padding:.5rem}.mobile-squadra-card[_ngcontent-%COMP%]{background:white;border:1px solid #dee2e6;border-radius:8px;margin-bottom:.75rem;overflow:hidden}.mobile-squadra-card.thunders-highlight[_ngcontent-%COMP%]{border:2px solid #0d6efd;background:linear-gradient(to bottom,rgba(13,110,253,.05) 0%,white 100%)}.mobile-squadra-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;background:linear-gradient(135deg,#f8f9fa 0%,#e9ecef 100%);border:none;width:100%;text-align:left;cursor:pointer}.accordion-button[_ngcontent-%COMP%]:after{display:none}.mobile-squadra-header[_ngcontent-%COMP%]:focus{box-shadow:none;outline:none}.mobile-squadra-header[_ngcontent-%COMP%]:after{content:"\\f282";font-family:bootstrap-icons;margin-left:auto;font-size:1rem;transition:transform .2s ease;flex-shrink:0}.mobile-squadra-header[_ngcontent-%COMP%]:not(.collapsed):after{transform:rotate(180deg)}.thunders-highlight[_ngcontent-%COMP%]   .mobile-squadra-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d6efd 0%,#0b5ed7 100%);color:#fff}.position-badge[_ngcontent-%COMP%]{background:#0d6efd;color:#fff;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.9rem;flex-shrink:0}.thunders-highlight[_ngcontent-%COMP%]   .position-badge[_ngcontent-%COMP%]{background:white;color:#0d6efd}.squadra-nome[_ngcontent-%COMP%]{flex:1;font-size:.95rem;font-weight:600;line-height:1.3}.thunders-highlight[_ngcontent-%COMP%]   .squadra-nome[_ngcontent-%COMP%]{color:#fff}.punti-badge[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background:white;padding:.25rem .75rem;border-radius:6px;border:1px solid #dee2e6;flex-shrink:0;margin-right:.5rem}.thunders-highlight[_ngcontent-%COMP%]   .punti-badge[_ngcontent-%COMP%]{background:rgba(255,255,255,.95);border-color:#fff}.punti-label[_ngcontent-%COMP%]{font-size:.7rem;color:#6c757d;text-transform:uppercase;font-weight:600}.punti-value[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#0d6efd;line-height:1}.mobile-squadra-stats[_ngcontent-%COMP%]{padding:.75rem 1rem;background:white}.stat-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:.5rem}.stat-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.stat-item[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;padding:.5rem;background:#f8f9fa;border-radius:6px;min-width:0}.thunders-highlight[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{background:rgba(13,110,253,.05)}.stat-label[_ngcontent-%COMP%]{font-size:.7rem;color:#6c757d;text-transform:uppercase;font-weight:600;margin-bottom:.25rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;text-align:center}.stat-value[_ngcontent-%COMP%]{font-size:1rem;color:#212529;font-weight:500}@media (max-width: 768px){.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem .25rem;font-size:.85rem}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 400px){.squadra-nome[_ngcontent-%COMP%]{font-size:.85rem}.stat-label[_ngcontent-%COMP%]{font-size:.65rem}.stat-value[_ngcontent-%COMP%]{font-size:.9rem}}.desktop-header[_ngcontent-%COMP%]{margin-bottom:1rem}.desktop-header-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d6efd 0%,#0a58ca 100%);border-radius:12px;padding:1.5rem 2rem;box-shadow:0 4px 12px #0d6efd33;color:#fff}.desktop-header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1.5rem}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.25rem}.header-icon[_ngcontent-%COMP%]{width:56px;height:56px;background:rgba(255,255,255,.15);border-radius:12px;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.header-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.75rem}.header-text[_ngcontent-%COMP%]{flex:1}.header-title[_ngcontent-%COMP%]{margin:0;font-size:1.75rem;font-weight:700;letter-spacing:-.5px}.header-meta[_ngcontent-%COMP%]{display:flex;gap:1.5rem;margin-top:.5rem;flex-wrap:wrap}.meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.9rem;opacity:.95;font-weight:500}.meta-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.8}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center}.header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-weight:500;border-radius:8px;white-space:nowrap}@media (max-width: 1200px){.desktop-header-card[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.header-icon[_ngcontent-%COMP%]{width:48px;height:48px}.header-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .header-title[_ngcontent-%COMP%]{font-size:1.5rem}.header-meta[_ngcontent-%COMP%]{gap:1rem}.meta-item[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width: 992px){.desktop-header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.header-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}}.mobile-header[_ngcontent-%COMP%]{padding:0}.mobile-header-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d6efd 0%,#0a58ca 100%);border-radius:12px;padding:1rem;box-shadow:0 4px 8px #00000026;color:#fff}.mobile-header-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.5rem;font-weight:700;margin-bottom:.75rem;padding-bottom:.75rem;border-bottom:1px solid rgba(255,255,255,.2)}.mobile-header-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.title-text[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.5px}.mobile-header-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.info-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.4rem .5rem;background:rgba(255,255,255,.1);border-radius:6px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.info-label[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase;letter-spacing:.5px;opacity:.9;font-weight:500}.info-value[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600}@media (max-width: 400px){.mobile-header-card[_ngcontent-%COMP%]{padding:.75rem}.mobile-header-title[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:.5rem;padding-bottom:.5rem}.mobile-header-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.info-item[_ngcontent-%COMP%]{padding:.35rem .4rem}.info-label[_ngcontent-%COMP%]{font-size:.7rem}.info-value[_ngcontent-%COMP%]{font-size:.85rem}}']})}}return n})();function pbe(n,e){if(1&n&&(D(0,"div",13),fe(1,"i",14),G(2),M()),2&n){const t=We();W(2),kn(" ",t.errorMessage," ")}}function gbe(n,e){1&n&&(D(0,"span"),fe(1,"i",15),G(2," Accedi "),M())}function mbe(n,e){1&n&&(D(0,"span"),fe(1,"span",16),G(2," Accesso in corso... "),M())}let _be=(()=>{class n{constructor(t,r,i){this.fb=t,this.authService=r,this.router=i,this.errorMessage="",this.loading=!1}ngOnInit(){this.authService.isAuthenticated()&&this.router.navigate(["/home"]),this.loginForm=this.fb.group({codiceFiscale:["",[wl.required,wl.minLength(16),wl.maxLength(16)]]})}onLogin(){var t=this;return(0,ie.A)(function*(){if(t.loginForm.invalid)return;t.loading=!0,t.errorMessage="";const r=t.loginForm.get("codiceFiscale")?.value;try{(yield t.authService.login(r))?t.router.navigate(["/home"]):t.errorMessage="Codice fiscale non riconosciuto. Accesso negato."}catch{t.errorMessage="Errore durante il login. Riprova."}finally{t.loading=!1}})()}onCodiceFiscaleInput(t){const i=t.target.value.toUpperCase();this.loginForm.get("codiceFiscale")?.setValue(i,{emitEvent:!1})}static{this.\u0275fac=function(r){return new(r||n)(ke(lj),ke(Ru),ke(Uo))}}static{this.\u0275cmp=Es({type:n,selectors:[["app-login"]],decls:18,vars:7,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"bi","bi-lightning-fill","text-primary"],["autocomplete","on",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","codiceFiscale",1,"form-label"],["type","text","id","codiceFiscale","name","username","formControlName","codiceFiscale","maxlength","16","autocomplete","username",1,"form-control","form-control-lg",3,"input"],[1,"invalid-feedback"],["type","password","name","password","autocomplete","current-password","value","dummy",2,"display","none"],["class","alert alert-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-lg","w-100",3,"disabled"],[4,"ngIf"],[1,"alert","alert-danger"],[1,"bi","bi-exclamation-triangle-fill","me-2"],[1,"bi","bi-box-arrow-in-right","me-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"]],template:function(r,i){if(1&r&&(D(0,"div",0)(1,"div",1)(2,"div",2),fe(3,"i",3),D(4,"h2"),G(5,"PuntoVolley Thunders"),M()(),D(6,"form",4),Le("ngSubmit",function(){return i.onLogin()}),D(7,"div",5)(8,"label",6),G(9,"Codice Fiscale"),M(),D(10,"input",7),Le("input",function(s){return i.onCodiceFiscaleInput(s)}),M(),D(11,"div",8),G(12," Il codice fiscale deve essere di 16 caratteri "),M()(),fe(13,"input",9),Qe(14,pbe,3,1,"div",10),D(15,"button",11),Qe(16,gbe,3,0,"span",12),Qe(17,mbe,3,0,"span",12),M()()()()),2&r){let o;W(6),ye("formGroup",i.loginForm),W(4),nn("is-invalid",(null==(o=i.loginForm.get("codiceFiscale"))?null:o.invalid)&&(null==(o=i.loginForm.get("codiceFiscale"))?null:o.touched)),W(4),ye("ngIf",i.errorMessage),W(1),ye("disabled",i.loginForm.invalid||i.loading),W(1),ye("ngIf",!i.loading),W(1),ye("ngIf",i.loading)}},dependencies:[Ra,Bx,Tc,_h,Px,fv,hv,a2],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);padding:1rem}.login-card[_ngcontent-%COMP%]{background:white;border-radius:1rem;padding:2rem;box-shadow:0 10px 40px #0003;max-width:450px;width:100%}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.login-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;margin-bottom:.5rem;font-weight:700}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:.9rem}.form-control-lg[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:1rem}#codiceFiscale[_ngcontent-%COMP%]{text-transform:uppercase}.btn-lg[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:1rem}@media (max-width: 576px){.login-card[_ngcontent-%COMP%]{padding:1.5rem}.login-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}"]})}}return n})();function vbe(n,e){1&n&&(D(0,"div",15)(1,"div",29)(2,"div",17)(3,"div",18),fe(4,"i",30),D(5,"span"),G(6,"Capitano"),M()(),D(7,"div",20)(8,"span",31),G(9,"S\xec"),M()()()()())}function ybe(n,e){if(1&n&&(D(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"div",18),fe(5,"i",19),D(6,"span"),G(7,"Numero Maglia"),M()(),D(8,"div",20),G(9),M()()(),D(10,"div",16)(11,"div",17)(12,"div",18),fe(13,"i",21),D(14,"span"),G(15,"Data di Nascita"),M()(),D(16,"div",20),G(17),M()()()(),D(18,"div",15)(19,"div",16)(20,"div",17)(21,"div",18),fe(22,"i",22),D(23,"span"),G(24,"Ruolo"),M()(),D(25,"div",20),G(26),xr(27,"capitalize"),M()()(),D(28,"div",16)(29,"div",17)(30,"div",18),fe(31,"i",23),D(32,"span"),G(33,"Tessera UISP"),M()(),D(34,"div",20),G(35),M()()()(),D(36,"div",15)(37,"div",16)(38,"div",17)(39,"div",18),fe(40,"i",24),D(41,"span"),G(42,"Email"),M()(),D(43,"div",20),G(44),M()()(),D(45,"div",16)(46,"div",17)(47,"div",18),fe(48,"i",25),D(49,"span"),G(50,"Codice Fiscale"),M()(),D(51,"div",20),G(52),M()()()(),D(53,"div",15)(54,"div",16)(55,"div",17)(56,"div",18),fe(57,"i",26),D(58,"span"),G(59,"Taglia Divisa"),M()(),D(60,"div",20),G(61),M()()(),D(62,"div",16)(63,"div",17)(64,"div",18),fe(65,"i",27),D(66,"span"),G(67,"Scadenza Certificato Medico"),M()(),D(68,"div",20),G(69),M()()()(),Qe(70,vbe,10,0,"div",28),M()),2&n){const t=We(2);W(9),tt(t.currentUser.numeroMaglia),W(8),tt(t.formatDate(t.currentUser.dataDiNascita)),W(9),tt(na(27,9,t.currentUser.ruolo)),W(9),tt(t.currentUser.tesseraUisp),W(9),tt(t.currentUser.email||"Non specificata"),W(8),tt(t.currentUser.codiceFiscale||"Non specificato"),W(9),tt(t.currentUser.tagliaDivisa||"Non specificata"),W(8),tt(t.formatDate(t.currentUser.scadenzaCertificatoMedico)||"Non specificata"),W(1),ye("ngIf",t.currentUser.capitano)}}function bbe(n,e){if(1&n){const t=ni();D(0,"div",32)(1,"div",15)(2,"div",33)(3,"label",34),fe(4,"i",35),G(5,"Email "),M(),D(6,"input",36),Le("ngModelChange",function(i){return en(t),tn(We(2).editedUser.email=i)}),M()(),D(7,"div",33)(8,"label",34),fe(9,"i",37),G(10,"Codice Fiscale "),M(),D(11,"input",38),Le("ngModelChange",function(i){return en(t),tn(We(2).editedUser.codiceFiscale=i)}),M()()(),D(12,"div",15)(13,"div",33)(14,"label",34),fe(15,"i",39),G(16,"Data di Nascita "),M(),D(17,"input",40),Le("ngModelChange",function(i){return en(t),tn(We(2).editedUser.dataDiNascita=i)}),M()(),D(18,"div",33)(19,"label",34),fe(20,"i",41),G(21,"Numero Maglia "),M(),D(22,"input",42),Le("ngModelChange",function(i){return en(t),tn(We(2).editedUser.numeroMaglia=i)}),M()()(),D(23,"div",15)(24,"div",33)(25,"label",34),fe(26,"i",43),G(27,"Taglia Divisa "),M(),D(28,"select",44),Le("ngModelChange",function(i){return en(t),tn(We(2).editedUser.tagliaDivisa=i)}),D(29,"option",45),G(30,"Seleziona..."),M(),D(31,"option",46),G(32,"XS"),M(),D(33,"option",47),G(34,"S"),M(),D(35,"option",48),G(36,"M"),M(),D(37,"option",49),G(38,"L"),M(),D(39,"option",50),G(40,"XL"),M(),D(41,"option",51),G(42,"XXL"),M()()(),D(43,"div",33)(44,"label",34),fe(45,"i",52),G(46,"Scadenza Certificato Medico "),M(),D(47,"input",40),Le("ngModelChange",function(i){return en(t),tn(We(2).editedUser.scadenzaCertificatoMedico=i)}),M()()()()}if(2&n){const t=We(2);W(6),ye("ngModel",t.editedUser.email),W(5),ye("ngModel",t.editedUser.codiceFiscale),W(6),ye("ngModel",t.editedUser.dataDiNascita),W(5),ye("ngModel",t.editedUser.numeroMaglia),W(6),ye("ngModel",t.editedUser.tagliaDivisa),W(19),ye("ngModel",t.editedUser.scadenzaCertificatoMedico)}}function wbe(n,e){if(1&n){const t=ni();D(0,"button",53),Le("click",function(){return en(t),tn(We(2).toggleEditMode())}),fe(1,"i",54),G(2,"Modifica Dati "),M()}}function Ibe(n,e){if(1&n){const t=ni();D(0,"div",55)(1,"button",56),Le("click",function(){return en(t),tn(We(2).saveChanges())}),fe(2,"i",57),G(3,"Salva "),M(),D(4,"button",58),Le("click",function(){return en(t),tn(We(2).cancelEdit())}),fe(5,"i",59),G(6,"Annulla "),M()()}}function Ebe(n,e){if(1&n&&(D(0,"div",2)(1,"div",3)(2,"div",4),fe(3,"i",5),M(),D(4,"h2",6),G(5),xr(6,"capitalize"),xr(7,"capitalize"),M(),D(8,"p",7),G(9),M()(),D(10,"div",8),Qe(11,ybe,71,11,"div",9),Qe(12,bbe,48,6,"div",10),M(),D(13,"div",11),Qe(14,wbe,3,0,"button",12),Qe(15,Ibe,7,0,"div",13),M()()),2&n){const t=We();W(5),Pa("",na(6,7,t.currentUser.nome)," ",na(7,9,t.currentUser.cognome),""),W(4),tt(t.currentUser.profilo),W(2),ye("ngIf",!t.isEditMode),W(1),ye("ngIf",t.isEditMode&&t.editedUser),W(2),ye("ngIf",!t.isEditMode),W(1),ye("ngIf",t.isEditMode)}}let Cbe=(()=>{class n{constructor(t,r){this.authService=t,this.giocatoriService=r,this.currentUser=null,this.isEditMode=!1,this.editedUser=null}ngOnInit(){this.authService.currentUser.subscribe(t=>{this.currentUser=t,t&&(this.editedUser={...t})})}toggleEditMode(){this.isEditMode&&this.currentUser&&(this.editedUser={...this.currentUser}),this.isEditMode=!this.isEditMode}saveChanges(){var t=this;return(0,ie.A)(function*(){if(t.editedUser&&t.currentUser)try{const r=t.editedUser.id;if(!r)return void alert("Impossibile salvare: ID giocatore non trovato");yield t.giocatoriService.updateGiocatore(r,t.editedUser),localStorage.setItem("currentUser",JSON.stringify(t.editedUser)),t.currentUser=t.editedUser,t.isEditMode=!1,alert("Dati aggiornati con successo!")}catch(r){console.error("Errore durante il salvataggio:",r),alert("Errore durante il salvataggio dei dati")}})()}cancelEdit(){this.currentUser&&(this.editedUser={...this.currentUser}),this.isEditMode=!1}formatDate(t){if(!t)return"Non specificata";if(t.includes("-")){const r=t.split("-");if(3===r.length)return`${r[2]}/${r[1]}/${r[0]}`}return t}static{this.\u0275fac=function(r){return new(r||n)(ke(Ru),ke(Yb))}}static{this.\u0275cmp=Es({type:n,selectors:[["app-profilo"]],decls:2,vars:1,consts:[[1,"profilo-container"],["class","profilo-card",4,"ngIf"],[1,"profilo-card"],[1,"profilo-header"],[1,"user-avatar-large"],[1,"bi","bi-person-circle"],[1,"mt-3"],[1,"text-muted"],[1,"profilo-body"],["class","info-section",4,"ngIf"],["class","edit-section",4,"ngIf"],[1,"profilo-footer"],["class","btn btn-primary w-100",3,"click",4,"ngIf"],["class","d-flex gap-2",4,"ngIf"],[1,"info-section"],[1,"row"],[1,"col-md-6"],[1,"info-row"],[1,"info-label"],[1,"bi","bi-person-badge"],[1,"info-value"],[1,"bi","bi-calendar3"],[1,"bi","bi-trophy"],[1,"bi","bi-card-text"],[1,"bi","bi-envelope"],[1,"bi","bi-credit-card"],[1,"bi","bi-rulers"],[1,"bi","bi-file-medical"],["class","row",4,"ngIf"],[1,"col-12"],[1,"bi","bi-star-fill","text-warning"],[1,"badge","bg-warning"],[1,"edit-section"],[1,"col-md-6","mb-3"],[1,"form-label"],[1,"bi","bi-envelope","me-2"],["type","email","placeholder","esempio@email.com",1,"form-control",3,"ngModel","ngModelChange"],[1,"bi","bi-credit-card","me-2"],["type","text","maxlength","16","placeholder","RSSMRA80A01H501U",1,"form-control","text-uppercase",3,"ngModel","ngModelChange"],[1,"bi","bi-calendar3","me-2"],["type","date",1,"form-control",3,"ngModel","ngModelChange"],[1,"bi","bi-person-badge","me-2"],["type","text","placeholder","10",1,"form-control",3,"ngModel","ngModelChange"],[1,"bi","bi-rulers","me-2"],[1,"form-select",3,"ngModel","ngModelChange"],["value",""],["value","XS"],["value","S"],["value","M"],["value","L"],["value","XL"],["value","XXL"],[1,"bi","bi-file-medical","me-2"],[1,"btn","btn-primary","w-100",3,"click"],[1,"bi","bi-pencil","me-2"],[1,"d-flex","gap-2"],[1,"btn","btn-success","flex-fill",3,"click"],[1,"bi","bi-check-lg","me-2"],[1,"btn","btn-secondary","flex-fill",3,"click"],[1,"bi","bi-x-lg","me-2"]],template:function(r,i){1&r&&(D(0,"div",0),Qe(1,Ebe,16,11,"div",1),M()),2&r&&(W(1),ye("ngIf",i.currentUser))},dependencies:[Ra,l2,c2,Tc,Jp,_h,fv,Zp,Wx],styles:[".profilo-container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.profilo-card[_ngcontent-%COMP%]{background:white;border-radius:12px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.profilo-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--bs-primary) 0%,var(--bs-primary-dark, #0056b3) 100%);color:#fff;padding:40px 20px;text-align:center}.user-avatar-large[_ngcontent-%COMP%]{font-size:80px;color:#fff;margin-bottom:10px}.profilo-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:700}.profilo-body[_ngcontent-%COMP%]{padding:20px}.info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 0;border-bottom:1px solid #e9ecef}@media (min-width: 768px){.info-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{border-bottom:1px solid #e9ecef}.info-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:last-child{border-bottom:none}.info-section[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{border-bottom:none}.info-section[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]:first-child{border-right:1px solid #e9ecef;padding-right:20px}.info-section[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]:last-child{padding-left:20px}}.info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.info-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-weight:500;color:#495057}.info-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--bs-primary)}.info-value[_ngcontent-%COMP%]{font-weight:600;color:#212529}.profilo-footer[_ngcontent-%COMP%]{padding:20px;border-top:1px solid #e9ecef}.edit-section[_ngcontent-%COMP%]{padding-top:10px}@media (max-width: 768px){.profilo-container[_ngcontent-%COMP%]{padding:10px}.profilo-header[_ngcontent-%COMP%]{padding:30px 15px}.user-avatar-large[_ngcontent-%COMP%]{font-size:60px}.profilo-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.info-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.info-value[_ngcontent-%COMP%]{margin-left:32px}}"]})}}return n})();function Abe(n,e){if(1&n){const t=ni();D(0,"button",16),Le("click",function(){return en(t),tn(We().startAdding())}),fe(1,"i",17),G(2," Aggiungi Allenamento "),M()}}function Tbe(n,e){if(1&n&&(D(0,"option",34),G(1),M()),2&n){const t=e.$implicit;ye("value",t.nome),W(1),kn(" ",t.nome," ")}}function Sbe(n,e){if(1&n){const t=ni();D(0,"div",18)(1,"h6",19),G(2,"Nuovo Allenamento"),M(),D(3,"div",20)(4,"div",21)(5,"label",22),G(6,"Giorno della settimana"),M(),D(7,"select",23),Le("ngModelChange",function(i){return en(t),tn(We().nuovoAllenamento.giorno=i)}),D(8,"option",24),G(9,"Seleziona un giorno"),M(),Qe(10,Tbe,2,2,"option",25),M()(),D(11,"div",26)(12,"label",22),G(13,"Orario Inizio"),M(),D(14,"input",27),Le("ngModelChange",function(i){return en(t),tn(We().nuovoAllenamento.orarioInizio=i)}),M()(),D(15,"div",26)(16,"label",22),G(17,"Orario Fine"),M(),D(18,"input",27),Le("ngModelChange",function(i){return en(t),tn(We().nuovoAllenamento.orarioFine=i)}),M()(),D(19,"div",21)(20,"label",22),G(21,"Nome Palestra"),M(),D(22,"input",28),Le("ngModelChange",function(i){return en(t),tn(We().nuovoAllenamento.nomePalestra=i)}),M()(),D(23,"div",21)(24,"label",22),G(25,"Indirizzo"),M(),D(26,"input",29),Le("ngModelChange",function(i){return en(t),tn(We().nuovoAllenamento.indirizzo=i)}),M()(),D(27,"div",2)(28,"button",30),Le("click",function(){return en(t),tn(We().saveAllenamento())}),fe(29,"i",31),G(30," Salva "),M(),D(31,"button",32),Le("click",function(){return en(t),tn(We().cancelAdding())}),fe(32,"i",33),G(33," Annulla "),M()()()()}if(2&n){const t=We();W(7),ye("ngModel",t.nuovoAllenamento.giorno),W(3),ye("ngForOf",t.giorniSettimana),W(4),ye("ngModel",t.nuovoAllenamento.orarioInizio),W(4),ye("ngModel",t.nuovoAllenamento.orarioFine),W(4),ye("ngModel",t.nuovoAllenamento.nomePalestra),W(4),ye("ngModel",t.nuovoAllenamento.indirizzo),W(2),ye("disabled",!t.isFormValid(t.nuovoAllenamento))}}function Dbe(n,e){1&n&&(D(0,"div",2)(1,"p",35),fe(2,"i",36),G(3,' Nessun allenamento configurato. Clicca su "Aggiungi Allenamento" per iniziare. '),M()())}function xbe(n,e){if(1&n){const t=ni();D(0,"div")(1,"h5",40),fe(2,"i",41),G(3),M(),D(4,"p",42),fe(5,"i",43),D(6,"strong"),G(7),M()(),D(8,"p",42),fe(9,"i",44),D(10,"strong"),G(11),M()(),D(12,"p",45),G(13),M(),D(14,"div",46)(15,"button",47),Le("click",function(){en(t);const i=We().$implicit;return tn(We().startEditing(i))}),fe(16,"i",48),G(17," Modifica "),M(),D(18,"button",49),Le("click",function(){en(t);const i=We().$implicit;return tn(We().deleteAllenamento(i.id))}),fe(19,"i",50),G(20," Elimina "),M()()()}if(2&n){const t=We().$implicit;W(3),kn(" ",t.giorno," "),W(4),Pa("",t.orarioInizio," - ",t.orarioFine,""),W(4),tt(t.nomePalestra),W(2),kn(" ",t.indirizzo," ")}}function Pbe(n,e){if(1&n&&(D(0,"option",34),G(1),M()),2&n){const t=e.$implicit;ye("value",t.nome),W(1),kn(" ",t.nome," ")}}function Mbe(n,e){if(1&n){const t=ni();D(0,"div")(1,"h6",19),G(2,"Modifica Allenamento"),M(),D(3,"div",42)(4,"label",51),G(5,"Giorno"),M(),D(6,"select",52),Le("ngModelChange",function(i){return en(t),tn(We(2).editingAllenamento.giorno=i)}),Qe(7,Pbe,2,2,"option",25),M()(),D(8,"div",42)(9,"label",51),G(10,"Orario Inizio"),M(),D(11,"input",53),Le("ngModelChange",function(i){return en(t),tn(We(2).editingAllenamento.orarioInizio=i)}),M()(),D(12,"div",42)(13,"label",51),G(14,"Orario Fine"),M(),D(15,"input",53),Le("ngModelChange",function(i){return en(t),tn(We(2).editingAllenamento.orarioFine=i)}),M()(),D(16,"div",42)(17,"label",51),G(18,"Nome Palestra"),M(),D(19,"input",54),Le("ngModelChange",function(i){return en(t),tn(We(2).editingAllenamento.nomePalestra=i)}),M()(),D(20,"div",55)(21,"label",51),G(22,"Indirizzo"),M(),D(23,"input",54),Le("ngModelChange",function(i){return en(t),tn(We(2).editingAllenamento.indirizzo=i)}),M()(),D(24,"div",46)(25,"button",56),Le("click",function(){return en(t),tn(We(2).updateAllenamento())}),fe(26,"i",57),G(27," Salva "),M(),D(28,"button",58),Le("click",function(){return en(t),tn(We(2).cancelEditing())}),fe(29,"i",59),G(30," Annulla "),M()()()}if(2&n){const t=We(2);W(6),ye("ngModel",t.editingAllenamento.giorno),W(1),ye("ngForOf",t.giorniSettimana),W(4),ye("ngModel",t.editingAllenamento.orarioInizio),W(4),ye("ngModel",t.editingAllenamento.orarioFine),W(4),ye("ngModel",t.editingAllenamento.nomePalestra),W(4),ye("ngModel",t.editingAllenamento.indirizzo),W(2),ye("disabled",!t.isFormValid(t.editingAllenamento))}}function Nbe(n,e){if(1&n&&(D(0,"div",37)(1,"div",38)(2,"div",11),Qe(3,xbe,21,5,"div",39),Qe(4,Mbe,31,7,"div",39),M()()()),2&n){const t=e.$implicit,r=We();W(1),nn("border-primary",(null==r.editingAllenamento?null:r.editingAllenamento.id)===t.id),W(2),ye("ngIf",(null==r.editingAllenamento?null:r.editingAllenamento.id)!==t.id),W(1),ye("ngIf",(null==r.editingAllenamento?null:r.editingAllenamento.id)===t.id)}}let Rbe=(()=>{class n{constructor(t){this.allenamentiService=t,this.allenamenti=[],this.editingAllenamento=null,this.isAdding=!1,this.nuovoAllenamento={giorno:"",orarioInizio:"",orarioFine:"",indirizzo:"",nomePalestra:"",ordinamento:0},this.giorniSettimana=[{nome:"Luned\xec",valore:1},{nome:"Marted\xec",valore:2},{nome:"Mercoled\xec",valore:3},{nome:"Gioved\xec",valore:4},{nome:"Venerd\xec",valore:5},{nome:"Sabato",valore:6},{nome:"Domenica",valore:7}]}ngOnInit(){this.loadAllenamenti()}loadAllenamenti(){this.allenamentiService.getAllenamenti().subscribe(t=>{this.allenamenti=t})}startAdding(){this.isAdding=!0,this.nuovoAllenamento={giorno:"",orarioInizio:"",orarioFine:"",indirizzo:"",nomePalestra:"",ordinamento:0}}cancelAdding(){this.isAdding=!1}saveAllenamento(){if(this.isFormValid(this.nuovoAllenamento)){const t=this.giorniSettimana.find(r=>r.nome===this.nuovoAllenamento.giorno);this.nuovoAllenamento.ordinamento=t?t.valore:0,this.allenamentiService.addAllenamento(this.nuovoAllenamento).then(()=>{this.isAdding=!1,this.loadAllenamenti()})}}startEditing(t){this.editingAllenamento={...t}}cancelEditing(){this.editingAllenamento=null}updateAllenamento(){if(this.editingAllenamento&&this.editingAllenamento.id&&this.isFormValid(this.editingAllenamento)){const t=this.giorniSettimana.find(o=>o.nome===this.editingAllenamento.giorno);this.editingAllenamento.ordinamento=t?t.valore:0;const{id:r,...i}=this.editingAllenamento;this.allenamentiService.updateAllenamento(r,i).then(()=>{this.editingAllenamento=null,this.loadAllenamenti()})}}deleteAllenamento(t){t&&confirm("Sei sicuro di voler eliminare questo allenamento?")&&this.allenamentiService.deleteAllenamento(t).then(()=>{this.loadAllenamenti()})}isFormValid(t){return!!(t.giorno&&t.orarioInizio&&t.orarioFine&&t.indirizzo&&t.nomePalestra)}static{this.\u0275fac=function(r){return new(r||n)(ke(aB))}}static{this.\u0275cmp=Es({type:n,selectors:[["app-impostazioni"]],decls:19,vars:4,consts:[[1,"container-fluid","px-4","mt-3"],[1,"row","mb-4"],[1,"col-12"],[1,"fw-bold","text-primary"],[1,"bi","bi-gear-fill","me-2"],[1,"row"],[1,"card","shadow"],[1,"card-header","bg-primary","text-white","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-calendar3","me-2"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],[1,"card-body"],["class","alert alert-info",4,"ngIf"],[1,"row","g-3","mt-2"],["class","col-12",4,"ngIf"],["class","col-md-6 col-lg-4",4,"ngFor","ngForOf"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"bi","bi-plus-circle","me-1"],[1,"alert","alert-info"],[1,"fw-bold","mb-3"],[1,"row","g-3"],[1,"col-md-6"],[1,"form-label"],[1,"form-select",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-3"],["type","time",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","es. Palestra Paolo VI",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","es. Via Ercolano 11, Castel Gandolfo",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","me-2",3,"disabled","click"],[1,"bi","bi-check-circle","me-1"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-x-circle","me-1"],[3,"value"],[1,"text-muted","text-center","py-4"],[1,"bi","bi-info-circle","me-2"],[1,"col-md-6","col-lg-4"],[1,"card","h-100"],[4,"ngIf"],[1,"card-title","text-primary"],[1,"bi","bi-calendar-week","me-2"],[1,"mb-2"],[1,"bi","bi-clock","me-2"],[1,"bi","bi-geo-alt","me-2"],[1,"mb-3","text-muted","small"],[1,"d-flex","gap-2"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"bi","bi-trash"],[1,"form-label","small"],[1,"form-select","form-select-sm",3,"ngModel","ngModelChange"],["type","time",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["type","text",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"mb-3"],[1,"btn","btn-sm","btn-primary",3,"disabled","click"],[1,"bi","bi-check-circle"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"bi","bi-x-circle"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),fe(4,"i",4),G(5," Impostazioni "),M()()(),D(6,"div",5)(7,"div",2)(8,"div",6)(9,"div",7)(10,"h5",8),fe(11,"i",9),G(12," Gestione Allenamenti "),M(),Qe(13,Abe,3,0,"button",10),M(),D(14,"div",11),Qe(15,Sbe,34,7,"div",12),D(16,"div",13),Qe(17,Dbe,4,0,"div",14),Qe(18,Nbe,5,4,"div",15),M()()()()()()),2&r&&(W(13),ye("ngIf",!i.isAdding),W(2),ye("ngIf",i.isAdding),W(2),ye("ngIf",0===i.allenamenti.length&&!i.isAdding),W(1),ye("ngForOf",i.allenamenti))},dependencies:[Ld,Ra,l2,c2,Tc,Jp,_h,Zp],styles:[".card-header[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:rgba(255,255,255,.15);border:1px solid rgba(255,255,255,.2);color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .2s;font-weight:500}.card-header[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.25);border-color:#ffffff4d;color:#fff;transform:translateY(-1px)}.card-header[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:active{background:rgba(255,255,255,.2);transform:translateY(0)}"]})}}return n})(),Ig=(()=>{class n{constructor(t,r){this.router=t,this.authService=r}canActivate(t,r){return!!this.authService.isAuthenticated()||(this.router.navigate(["/login"]),!1)}static{this.\u0275fac=function(r){return new(r||n)(ft(Uo),ft(Ru))}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const kbe=[{path:"login",component:_be},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"home",component:nme,canActivate:[Ig]},{path:"profilo",component:Cbe,canActivate:[Ig]},{path:"squadra",component:p_e,canActivate:[Ig]},{path:"calendario",component:rbe,canActivate:[Ig]},{path:"classifica",component:fbe,canActivate:[Ig]},{path:"impostazioni",component:Rbe,canActivate:[Ig]}];let Obe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Jo({type:n})}static{this.\u0275inj=xo({imports:[P6.forRoot(kbe),P6]})}}return n})();function Lbe(n,e){if(1&n&&(D(0,"a",48)(1,"div",49),fe(2,"i",50),M(),D(3,"div",51)(4,"p",52),G(5),xr(6,"capitalize"),xr(7,"capitalize"),M(),D(8,"small",53),G(9),M()(),fe(10,"i",54),M()),2&n){const t=We();W(5),Pa("",na(6,3,t.currentUser.nome)," ",na(7,5,t.currentUser.cognome),""),W(4),tt(t.currentUser.profilo)}}function Fbe(n,e){1&n&&(D(0,"li",17)(1,"a",55),fe(2,"i",56),D(3,"span"),G(4,"Squadra"),M(),fe(5,"i",20),M()())}function Vbe(n,e){1&n&&(D(0,"div",30)(1,"a",57),fe(2,"i",58),D(3,"span"),G(4,"Impostazioni"),M(),fe(5,"i",20),M()())}function Ube(n,e){if(1&n){const t=ni();D(0,"a",59),Le("click",function(){return en(t),tn(We().toggleMenu())}),D(1,"div",49),fe(2,"i",50),M(),D(3,"div",51)(4,"p",52),G(5),xr(6,"capitalize"),xr(7,"capitalize"),M(),D(8,"small",53),G(9),M()(),fe(10,"i",54),M()}if(2&n){const t=We();W(5),Pa("",na(6,3,t.currentUser.nome)," ",na(7,5,t.currentUser.cognome),""),W(4),tt(t.currentUser.profilo)}}function Bbe(n,e){if(1&n){const t=ni();D(0,"li",17)(1,"a",60),Le("click",function(){return en(t),tn(We().toggleMenu())}),fe(2,"i",56),D(3,"span"),G(4,"Squadra"),M(),fe(5,"i",20),M()()}}function jbe(n,e){if(1&n){const t=ni();D(0,"li",17)(1,"a",61),Le("click",function(){return en(t),tn(We().toggleMenu())}),fe(2,"i",58),D(3,"span"),G(4,"Impostazioni"),M(),fe(5,"i",20),M()()}}function zbe(n,e){if(1&n){const t=ni();D(0,"div",62),Le("click",function(){return en(t),tn(We().toggleMenu())}),M()}2&n&&nn("show",We().menuOpen)}let $be=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.menuOpen=!1,this.currentUser=null}ngOnInit(){this.authService.currentUser.subscribe(t=>{this.currentUser=t})}toggleMenu(){this.menuOpen=!this.menuOpen}isAdmin(){return this.authService.hasEditPermission()}logout(){this.authService.logout(),this.menuOpen=!1,this.router.navigate(["/login"])}static{this.\u0275fac=function(r){return new(r||n)(ke(Ru),ke(Uo))}}static{this.\u0275cmp=Es({type:n,selectors:[["app-header"]],decls:91,vars:9,consts:[[1,"navbar","navbar-dark","bg-primary","d-md-none"],[1,"container-fluid"],["type","button",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"navbar-brand","mx-auto"],[1,"bi","bi-lightning-fill"],["href","assets/files/elenco_tesserati_2526.pdf","download","",1,"btn","btn-light","download-btn","ms-auto"],[1,"bi","bi-download"],[1,"desktop-label"],[1,"sidebar","d-none","d-md-flex","flex-column"],[1,"sidebar-header","bg-primary","text-white","p-3"],[1,"mb-0","fw-bold"],[1,"bi","bi-list-ul","me-2"],[1,"sidebar-body","flex-grow-1","d-flex","flex-column"],[1,"user-info-section","p-3","bg-light","border-bottom"],["class","d-flex align-items-center text-decoration-none text-dark user-info-link","routerLink","/profilo","routerLinkActive","active",4,"ngIf"],[1,"nav","flex-column","menu-items"],[1,"nav-item"],["routerLink","/home","routerLinkActive","active",1,"nav-link","menu-link"],[1,"bi","bi-house-door-fill","me-3"],[1,"bi","bi-chevron-right","ms-auto"],["class","nav-item",4,"ngIf"],["routerLink","/calendario","routerLinkActive","active",1,"nav-link","menu-link"],[1,"bi","bi-calendar-event-fill","me-3"],["routerLink","/classifica","routerLinkActive","active",1,"nav-link","menu-link"],[1,"bi","bi-trophy-fill","me-3"],[1,"mt-auto","p-3"],["href","assets/files/elenco_tesserati_2526.pdf","download","",1,"btn","btn-primary","w-100","mb-3"],[1,"bi","bi-download","me-2"],["class","p-3 border-top",4,"ngIf"],[1,"p-3","border-top"],["href","https://www.instagram.com/thunders.team_/","target","_blank","rel","noopener noreferrer",1,"nav-link","menu-link","instagram-sidebar-link"],[1,"bi","bi-instagram","me-3"],[1,"bi","bi-box-arrow-up-right","ms-auto"],[1,"logout-section","p-3","bg-light","border-top"],[1,"nav-link","menu-link","logout-link",3,"click"],[1,"bi","bi-box-arrow-right","me-3"],["tabindex","-1",1,"offcanvas","offcanvas-start","d-md-none"],[1,"offcanvas-header","bg-primary","text-white"],[1,"offcanvas-title","fw-bold"],["type","button",1,"btn-close","btn-close-white",3,"click"],[1,"offcanvas-body","p-0"],["class","d-flex align-items-center text-decoration-none text-dark user-info-link","routerLink","/profilo","routerLinkActive","active",3,"click",4,"ngIf"],["routerLink","/home","routerLinkActive","active",1,"nav-link","menu-link",3,"click"],["routerLink","/calendario","routerLinkActive","active",1,"nav-link","menu-link",3,"click"],["routerLink","/classifica","routerLinkActive","active",1,"nav-link","menu-link",3,"click"],[1,"logout-section","mt-auto","p-3","border-top"],["class","offcanvas-backdrop fade d-md-none",3,"show","click",4,"ngIf"],["routerLink","/profilo","routerLinkActive","active",1,"d-flex","align-items-center","text-decoration-none","text-dark","user-info-link"],[1,"user-avatar","me-3"],[1,"bi","bi-person-circle"],[1,"flex-grow-1"],[1,"mb-0","fw-semibold"],[1,"text-muted"],[1,"bi","bi-chevron-right"],["routerLink","/squadra","routerLinkActive","active",1,"nav-link","menu-link"],[1,"bi","bi-people-fill","me-3"],["routerLink","/impostazioni","routerLinkActive","active",1,"nav-link","menu-link"],[1,"bi","bi-gear-fill","me-3"],["routerLink","/profilo","routerLinkActive","active",1,"d-flex","align-items-center","text-decoration-none","text-dark","user-info-link",3,"click"],["routerLink","/squadra","routerLinkActive","active",1,"nav-link","menu-link",3,"click"],["routerLink","/impostazioni","routerLinkActive","active",1,"nav-link","menu-link",3,"click"],[1,"offcanvas-backdrop","fade","d-md-none",3,"click"]],template:function(r,i){1&r&&(D(0,"nav",0)(1,"div",1)(2,"button",2),Le("click",function(){return i.toggleMenu()}),fe(3,"span",3),M(),D(4,"span",4),G(5," PuntoVolley Thunders "),fe(6,"i",5),M(),D(7,"a",6),fe(8,"i",7),D(9,"span",8),G(10,"Elenco tesserati"),M()()()(),D(11,"div",9)(12,"div",10)(13,"h5",11),fe(14,"i",12),G(15,"Menu "),M()(),D(16,"div",13)(17,"div",14),Qe(18,Lbe,11,7,"a",15),M(),D(19,"ul",16)(20,"li",17)(21,"a",18),fe(22,"i",19),D(23,"span"),G(24,"Home"),M(),fe(25,"i",20),M()(),Qe(26,Fbe,6,0,"li",21),D(27,"li",17)(28,"a",22),fe(29,"i",23),D(30,"span"),G(31,"Calendario"),M(),fe(32,"i",20),M()(),D(33,"li",17)(34,"a",24),fe(35,"i",25),D(36,"span"),G(37,"Classifica"),M(),fe(38,"i",20),M()()(),D(39,"div",26)(40,"a",27),fe(41,"i",28),G(42," Elenco tesserati "),M()(),Qe(43,Vbe,6,0,"div",29),D(44,"div",30)(45,"a",31),fe(46,"i",32),D(47,"span"),G(48,"Seguici su Instagram!"),M(),fe(49,"i",33),M()(),D(50,"div",34)(51,"a",35),Le("click",function(){return i.logout()}),fe(52,"i",36),D(53,"span"),G(54,"Logout"),M()()()()(),D(55,"div",37)(56,"div",38)(57,"h5",39),fe(58,"i",12),G(59,"Menu "),M(),D(60,"button",40),Le("click",function(){return i.toggleMenu()}),M()(),D(61,"div",41)(62,"div",14),Qe(63,Ube,11,7,"a",42),M(),D(64,"ul",16)(65,"li",17)(66,"a",43),Le("click",function(){return i.toggleMenu()}),fe(67,"i",19),D(68,"span"),G(69,"Home"),M(),fe(70,"i",20),M()(),Qe(71,Bbe,6,0,"li",21),D(72,"li",17)(73,"a",44),Le("click",function(){return i.toggleMenu()}),fe(74,"i",23),D(75,"span"),G(76,"Calendario"),M(),fe(77,"i",20),M()(),D(78,"li",17)(79,"a",45),Le("click",function(){return i.toggleMenu()}),fe(80,"i",25),D(81,"span"),G(82,"Classifica"),M(),fe(83,"i",20),M()(),Qe(84,jbe,6,0,"li",21),M(),D(85,"div",46)(86,"a",35),Le("click",function(){return i.logout()}),fe(87,"i",36),D(88,"span"),G(89,"Logout"),M()()()()(),Qe(90,zbe,1,2,"div",47)),2&r&&(W(18),ye("ngIf",i.currentUser),W(8),ye("ngIf",i.isAdmin()),W(17),ye("ngIf",i.isAdmin()),W(12),nn("show",i.menuOpen),W(8),ye("ngIf",i.currentUser),W(8),ye("ngIf",i.isAdmin()),W(13),ye("ngIf",i.isAdmin()),W(6),ye("ngIf",i.menuOpen))},dependencies:[Ra,Jm,I6,Wx],styles:['.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:280px;height:100vh;background-color:#fff;box-shadow:2px 0 5px #0000001a;z-index:1010;display:flex;flex-direction:column}.sidebar-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.sidebar-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;display:flex;flex-direction:column;min-height:0}.navbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1030}.navbar-brand[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);font-weight:700}.download-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.375rem .75rem;font-size:.875rem;background-color:transparent;border:1px solid rgba(255,255,255,.1);color:#fff;text-decoration:none;border-radius:.25rem;transition:all .15s ease-in-out}.download-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;border-color:#ffffff26;color:#fff}.download-btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .25rem #ffffff40}.download-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}@media (max-width: 767px){.desktop-label[_ngcontent-%COMP%]{display:none}.download-btn[_ngcontent-%COMP%]{padding:.375rem;min-width:auto}}.offcanvas[_ngcontent-%COMP%]{visibility:hidden;transform:translate(-100%);transition:transform .3s ease-in-out;width:280px;max-width:80vw}.offcanvas.show[_ngcontent-%COMP%]{visibility:visible;transform:translate(0)}.offcanvas-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#000;opacity:0;visibility:hidden;transition:opacity .3s ease-in-out}.offcanvas-backdrop.show[_ngcontent-%COMP%]{opacity:.5;visibility:visible}.offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.user-info-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa 0%,#e9ecef 100%)}.user-info-link[_ngcontent-%COMP%]{transition:background-color .2s ease;border-radius:8px;padding:4px;margin:-4px}.user-info-link[_ngcontent-%COMP%]:hover{background-color:#0000000d}.user-info-link.active[_ngcontent-%COMP%]{background-color:rgba(var(--bs-primary-rgb),.1)}.user-avatar[_ngcontent-%COMP%]{font-size:2.5rem;color:var(--bs-primary);line-height:1}.menu-items[_ngcontent-%COMP%]{flex-grow:1;padding:.5rem 0}.menu-link[_ngcontent-%COMP%]{color:#212529;padding:1rem 1.5rem;display:flex;align-items:center;transition:all .2s ease;border-left:3px solid transparent;font-weight:500;position:relative;overflow:hidden}.menu-link[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;height:100%;width:0;background:linear-gradient(90deg,rgba(13,110,253,.1) 0%,transparent 100%);transition:width .3s ease}.menu-link[_ngcontent-%COMP%]:hover:before{width:100%}.menu-link[_ngcontent-%COMP%]:hover{background-color:#0d6efd0d;border-left-color:var(--bs-primary);color:var(--bs-primary);transform:translate(5px)}.menu-link.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(13,110,253,.15) 0%,rgba(13,110,253,.05) 100%);border-left-color:var(--bs-primary);color:var(--bs-primary);font-weight:600}.menu-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:first-child{font-size:1.25rem;width:24px;text-align:center}.menu-link[_ngcontent-%COMP%]   i.bi-chevron-right[_ngcontent-%COMP%]{font-size:.875rem;opacity:.5;transition:transform .2s ease,opacity .2s ease}.menu-link[_ngcontent-%COMP%]:hover   i.bi-chevron-right[_ngcontent-%COMP%], .menu-link.active[_ngcontent-%COMP%]   i.bi-chevron-right[_ngcontent-%COMP%]{opacity:1;transform:translate(3px)}.logout-section[_ngcontent-%COMP%]{background-color:#f8f9fa}.logout-link[_ngcontent-%COMP%]{color:#dc3545;padding:.75rem 1rem;display:flex;align-items:center;transition:all .2s ease;border-radius:.375rem;font-weight:500}.logout-link[_ngcontent-%COMP%]:hover{background-color:#dc35451a;color:#bb2d3b;transform:translate(5px)}.logout-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}']})}}return n})(),qbe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Es({type:n,selectors:[["app-footer"]],decls:6,vars:0,consts:[[1,"navbar","navbar-dark","bg-primary","fixed-bottom"],[1,"container-fluid","d-flex","justify-content-center","align-items-center","gap-2"],[1,"navbar-brand","mb-0"],["href","https://www.instagram.com/thunders.team_/","target","_blank","rel","noopener noreferrer",1,"instagram-link"],[1,"bi","bi-instagram"]],template:function(r,i){1&r&&(D(0,"nav",0)(1,"div",1)(2,"span",2),G(3,"Seguici su Instagram!"),M(),D(4,"a",3),fe(5,"i",4),M()()())},styles:[".navbar[_ngcontent-%COMP%]{min-height:56px;padding-bottom:calc(.5rem + env(safe-area-inset-bottom));z-index:1000}@media (min-width: 768px){.navbar[_ngcontent-%COMP%]{display:none}}.navbar-brand[_ngcontent-%COMP%]{font-weight:700;font-size:1rem}.instagram-link[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-decoration:none;transition:all .15s ease-in-out;margin-right:.75rem;padding-right:env(safe-area-inset-right,0)}.instagram-link[_ngcontent-%COMP%]:hover{color:#fffc;transform:scale(1.1)}"]})}}return n})();function Gbe(n,e){1&n&&fe(0,"app-header")}function Hbe(n,e){1&n&&fe(0,"app-footer")}let Wbe=(()=>{class n{constructor(t){this.authService=t,this.title="thunders-pwa"}static{this.\u0275fac=function(r){return new(r||n)(ke(Ru))}}static{this.\u0275cmp=Es({type:n,selectors:[["app-root"]],decls:4,vars:4,consts:[[4,"ngIf"]],template:function(r,i){1&r&&(Qe(0,Gbe,1,0,"app-header",0),D(1,"div"),fe(2,"router-outlet"),M(),Qe(3,Hbe,1,0,"app-footer",0)),2&r&&(ye("ngIf",i.authService.isAuthenticated()),W(1),nn("with-nav",i.authService.isAuthenticated()),W(2),ye("ngIf",i.authService.isAuthenticated()))},dependencies:[Ra,uA,$be,qbe],styles:[".with-nav[_ngcontent-%COMP%]{padding-top:105px;padding-bottom:80px;min-height:calc(100vh - 141px)}@media (min-width: 768px){.with-nav[_ngcontent-%COMP%]{padding-top:10px;padding-left:280px;padding-bottom:0;min-height:100vh}}"]})}}return n})();const Kbe=["addListener","removeListener"],Qbe=["addEventListener","removeEventListener"],Ybe=["on","off"];function Y2(n,e,t,r){if(fn(t)&&(r=t,t=void 0),r)return Y2(n,e,t).pipe(WC(r));const[i,o]=function Xbe(n){return fn(n.addEventListener)&&fn(n.removeEventListener)}(n)?Qbe.map(s=>a=>n[s](e,a,t)):function Zbe(n){return fn(n.addListener)&&fn(n.removeListener)}(n)?Kbe.map(cq(n,e)):function Jbe(n){return fn(n.on)&&fn(n.off)}(n)?Ybe.map(cq(n,e)):[];if(!i&&Tw(n))return Ii(s=>Y2(s,e,t))(co(n));if(!i)throw new TypeError("Invalid event target");return new ir(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function cq(n,e){return t=>r=>n[t](e,r)}const Zu=new ir(bd),t2e={connector:()=>new Qo};function uq(n,e=t2e){const{connector:t}=e;return Jr((r,i)=>{const o=t();co(n(function e2e(n){return new ir(e=>n.subscribe(e))}(o))).subscribe(i),i.add(r.subscribe(o))})}function dq(n,e){return e?t=>Om(e.pipe(is(1),function i2e(){return Jr((n,e)=>{n.subscribe(Xr(e,bd))})}()),t.pipe(dq(n))):Ii((t,r)=>co(n(t,r)).pipe(is(1),DF(t)))}const zv="Service workers are disabled or not supported by this browser";class Z2{constructor(e){if(this.serviceWorker=e,e){const r=Y2(e,"controllerchange").pipe(hn(()=>e.controller)),o=Om(ay(()=>kt(e.controller)),r);this.worker=o.pipe(os(u=>!!u)),this.registration=this.worker.pipe(Yo(()=>e.getRegistration()));const c=Y2(e,"message").pipe(hn(u=>u.data)).pipe(os(u=>u&&u.type)).pipe(function r2e(n){return n?e=>uq(n)(e):e=>function n2e(n,e){const t=fn(n)?n:()=>n;return fn(e)?uq(e,{connector:t}):r=>new QC(r,t)}(new Qo)(e)}());c.connect(),this.events=c}else this.worker=this.events=this.registration=function l2e(n){return ay(()=>Wf(new Error(n)))}(zv)}postMessage(e,t){return this.worker.pipe(is(1),Oi(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(os(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(is(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(os(t=>t.nonce===e),is(1),hn(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let hq=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new Qo,!t.isEnabled)return this.messages=Zu,this.notificationClicks=Zu,void(this.subscription=Zu);this.messages=this.sw.eventsOfType("PUSH").pipe(hn(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(hn(i=>i.data)),this.pushManager=this.sw.registration.pipe(hn(i=>i.pushManager));const r=this.pushManager.pipe(Yo(i=>i.getSubscription()));this.subscription=Dw(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(zv));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,this.pushManager.pipe(Yo(s=>s.subscribe(r)),is(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(is(1),Yo(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(zv))}decodeBase64(t){return atob(t)}static{this.\u0275fac=function(r){return new(r||n)(ft(Z2))}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac})}}return n})(),fq=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Zu,this.available=Zu,this.activated=Zu,void(this.unrecoverable=Zu);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(os(r=>"VERSION_READY"===r.type),hn(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(zv));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(zv));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static{this.\u0275fac=function(r){return new(r||n)(ft(Z2))}}static{this.\u0275prov=gt({token:n,factory:n.\u0275fac})}}return n})();const pq=new at("NGSW_REGISTER_SCRIPT");function c2e(n,e,t,r){return()=>{if(!tF(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)i=t.registrationStrategy();else{const[s,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=kt(null);break;case"registerWithDelay":i=gq(+a[0]||0);break;case"registerWhenStable":i=a[0]?Dw(mq(n),gq(+a[0])):mq(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(Bn).runOutsideAngular(()=>i.pipe(is(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function gq(n){return kt(null).pipe(function a2e(n,e=LA){const t=function s2e(n=0,e,t=$le){let r=-1;return null!=e&&(LM(e)?t=e:r=e),new ir(i=>{let o=function o2e(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(n,e);return dq(()=>t)}(n))}function mq(n){return n.get(Rd).isStable.pipe(os(t=>t))}function u2e(n,e){return new Z2(tF(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class nM{}function d2e(n,e={}){return function jI(n){return{\u0275providers:n}}([hq,fq,{provide:pq,useValue:n},{provide:nM,useValue:e},{provide:Z2,useFactory:u2e,deps:[nM,Jl]},{provide:L0,useFactory:c2e,deps:[fo,pq,nM,Jl],multi:!0}])}let h2e=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[d2e(t,r)]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Jo({type:n})}static{this.\u0275inj=xo({providers:[hq,fq]})}}return n})();const f2e_firebase={apiKey:"AIzaSyAUbG_IDk6TFGtGbpkMVY4j2ZLvtvYee3A",authDomain:"thunders-pwa.firebaseapp.com",projectId:"thunders-pwa",storageBucket:"thunders-pwa.firebasestorage.app",messagingSenderId:"521968874196",appId:"1:521968874196:web:d279af17ffb90278814141"};let p2e=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Jo({type:n,bootstrap:[Wbe]})}static{this.\u0275inj=xo({imports:[gie,Obe,h2e.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"}),Qme,Kme,nce(()=>rce(f2e_firebase)),$ge(()=>qge())]})}}return n})();fie().bootstrapModule(p2e).catch(n=>console.error(n))},467:(l1,c1,ys)=>{function fn(md,Yc,Ri,_d,vd,yd,bs){try{var Ja=md[yd](bs),ql=Ja.value}catch(bd){return void Ri(bd)}Ja.done?Yc(ql):Promise.resolve(ql).then(_d,vd)}function Mg(md){return function(){var Yc=this,Ri=arguments;return new Promise(function(_d,vd){var yd=md.apply(Yc,Ri);function bs(ql){fn(yd,_d,vd,bs,Ja,"next",ql)}function Ja(ql){fn(yd,_d,vd,bs,Ja,"throw",ql)}bs(void 0)})}}ys.d(c1,{A:()=>Mg})}},l1=>{l1(l1.s=9500)}]);