"use strict";(self.webpackChunkthunders_pwa=self.webpackChunkthunders_pwa||[]).push([[792],{9799:(Rv,kv,Ps)=>{function fn(n){return"function"==typeof n}function Qg(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Nd=Qg(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function uu(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Fi{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(fn(r))try{r()}catch(o){e=o instanceof Nd?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Od(o)}catch(s){e=e??[],s instanceof Nd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Nd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Od(e);else{if(e instanceof Fi){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&uu(t,e)}remove(e){const{_finalizers:t}=this;t&&uu(t,e),e instanceof Fi&&e._removeParent(this)}}Fi.EMPTY=(()=>{const n=new Fi;return n.closed=!0,n})();const Rd=Fi.EMPTY;function kd(n){return n instanceof Fi||n&&"closed"in n&&fn(n.remove)&&fn(n.add)&&fn(n.unsubscribe)}function Od(n){fn(n)?n():n.unsubscribe()}const Ms={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},al={setTimeout(n,e,...t){const{delegate:r}=al;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=al;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function rc(n){al.setTimeout(()=>{const{onUnhandledError:e}=Ms;if(!e)throw n;e(n)})}function Ld(){}const EH=Kw("C",void 0,void 0);function Kw(n,e,t){return{kind:n,value:e,error:t}}let Fd=null;function Ov(n){if(Ms.useDeprecatedSynchronousErrorHandling){const e=!Fd;if(e&&(Fd={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Fd;if(Fd=null,t)throw r}}else n()}class Qw extends Fi{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,kd(e)&&e.add(this)):this.destination=MH}static create(e,t,r){return new hf(e,t,r)}next(e){this.isStopped?Zw(function TH(n){return Kw("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Zw(function AH(n){return Kw("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Zw(EH,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const DH=Function.prototype.bind;function Yw(n,e){return DH.call(n,e)}class xH{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Lv(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Lv(r)}else Lv(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Lv(t)}}}class hf extends Qw{constructor(e,t,r){let i;if(super(),fn(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Ms.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Yw(e.next,o),error:e.error&&Yw(e.error,o),complete:e.complete&&Yw(e.complete,o)}):i=e}this.destination=new xH(i)}}function Lv(n){Ms.useDeprecatedSynchronousErrorHandling?function SH(n){Ms.useDeprecatedSynchronousErrorHandling&&Fd&&(Fd.errorThrown=!0,Fd.error=n)}(n):rc(n)}function Zw(n,e){const{onStoppedNotification:t}=Ms;t&&al.setTimeout(()=>t(n,e))}const MH={closed:!0,next:Ld,error:function PH(n){throw n},complete:Ld},Jw="function"==typeof Symbol&&Symbol.observable||"@@observable";function du(n){return n}function hN(n){return 0===n.length?du:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let or=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function kH(n){return n&&n instanceof Qw||function RH(n){return n&&fn(n.next)&&fn(n.error)&&fn(n.complete)}(n)&&kd(n)}(t)?t:new hf(t,r,i);return Ov(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=fN(r))((i,o)=>{const s=new hf({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Jw](){return this}pipe(...t){return hN(t)(this)}toPromise(t){return new(t=fN(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function fN(n){var e;return null!==(e=n??Ms.Promise)&&void 0!==e?e:Promise}const OH=Qg(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let is=(()=>{class n extends or{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new pN(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new OH}next(t){Ov(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Ov(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ov(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Rd:(this.currentObservers=null,o.push(t),new Fi(()=>{this.currentObservers=null,uu(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new or;return t.source=this,t}}return n.create=(e,t)=>new pN(e,t),n})();class pN extends is{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Rd}}function gN(n){return fn(n?.lift)}function ii(n){return e=>{if(gN(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function oi(n,e,t,r,i){return new LH(n,e,t,r,i)}class LH extends Qw{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function cn(n,e){return ii((t,r)=>{let i=0;t.subscribe(oi(r,o=>{r.next(n.call(e,o,i++))}))})}function Fv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function hu(n){return this instanceof hu?(this.v=n,this):new hu(n)}function yN(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function nI(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const iI=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function bN(n){return fn(n?.then)}function wN(n){return fn(n[Jw])}function IN(n){return Symbol.asyncIterator&&fn(n?.[Symbol.asyncIterator])}function CN(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const EN=function lW(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function AN(n){return fn(n?.[EN])}function TN(n){return function vN(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(p){return function(y){return Promise.resolve(y).then(p,d)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(p,y){r[p]&&(i[p]=function(w){return new Promise(function(I,A){o.push([p,w,I,A])>1||l(p,w)})},y&&(i[p]=y(i[p])))}function l(p,y){try{!function c(p){p.value instanceof hu?Promise.resolve(p.value.v).then(u,d):g(o[0][2],p)}(r[p](y))}catch(w){g(o[0][3],w)}}function u(p){l("next",p)}function d(p){l("throw",p)}function g(p,y){p(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield hu(t.read());if(i)return yield hu(void 0);yield yield hu(r)}}finally{t.releaseLock()}})}function SN(n){return fn(n?.getReader)}function po(n){if(n instanceof or)return n;if(null!=n){if(wN(n))return function cW(n){return new or(e=>{const t=n[Jw]();if(fn(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(iI(n))return function uW(n){return new or(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(bN(n))return function dW(n){return new or(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,rc)})}(n);if(IN(n))return DN(n);if(AN(n))return function hW(n){return new or(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(SN(n))return function fW(n){return DN(TN(n))}(n)}throw CN(n)}function DN(n){return new or(e=>{(function pW(n,e){var t,r,i,o;return function mN(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=yN(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ic(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ti(n,e,t=1/0){return fn(e)?Ti((r,i)=>cn((o,s)=>e(r,o,i,s))(po(n(r,i))),t):("number"==typeof e&&(t=e),ii((r,i)=>function gW(n,e,t,r,i,o,s,a){const l=[];let c=0,u=0,d=!1;const g=()=>{d&&!l.length&&!c&&e.complete()},p=w=>c<r?y(w):l.push(w),y=w=>{o&&e.next(w),c++;let I=!1;po(t(w,u++)).subscribe(oi(e,A=>{i?.(A),o?p(A):e.next(A)},()=>{I=!0},void 0,()=>{if(I)try{for(c--;l.length&&c<r;){const A=l.shift();s?ic(e,s,()=>y(A)):y(A)}g()}catch(A){e.error(A)}}))};return n.subscribe(oi(e,p,()=>{d=!0,g()})),()=>{a?.()}}(r,i,n,t)))}function ff(n=1/0){return Ti(du,n)}const ll=new or(n=>n.complete());function xN(n){return n&&fn(n.schedule)}function oI(n){return n[n.length-1]}function PN(n){return fn(oI(n))?n.pop():void 0}function Yg(n){return xN(oI(n))?n.pop():void 0}function Vv(n,e=0){return ii((t,r)=>{t.subscribe(oi(r,i=>ic(r,n,()=>r.next(i),e),()=>ic(r,n,()=>r.complete(),e),i=>ic(r,n,()=>r.error(i),e)))})}function Uv(n,e=0){return ii((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function MN(n,e){if(!n)throw new Error("Iterable cannot be null");return new or(t=>{ic(t,e,()=>{const r=n[Symbol.asyncIterator]();ic(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Si(n,e){return e?function CW(n,e){if(null!=n){if(wN(n))return function vW(n,e){return po(n).pipe(Uv(e),Vv(e))}(n,e);if(iI(n))return function bW(n,e){return new or(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(bN(n))return function yW(n,e){return po(n).pipe(Uv(e),Vv(e))}(n,e);if(IN(n))return MN(n,e);if(AN(n))return function wW(n,e){return new or(t=>{let r;return ic(t,e,()=>{r=n[EN](),ic(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>fn(r?.return)&&r.return()})}(n,e);if(SN(n))return function IW(n,e){return MN(TN(n),e)}(n,e)}throw CN(n)}(n,e):po(n)}function sI(...n){const e=Yg(n),t=function _W(n,e){return"number"==typeof oI(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?po(r[0]):ff(t)(Si(r,e)):ll}class Ns extends is{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Lt(...n){return Si(n,Yg(n))}function NN(n={}){const{connector:e=(()=>new is),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,l,c=0,u=!1,d=!1;const g=()=>{a?.unsubscribe(),a=void 0},p=()=>{g(),s=l=void 0,u=d=!1},y=()=>{const w=s;p(),w?.unsubscribe()};return ii((w,I)=>{c++,!d&&!u&&g();const A=l=l??e();I.add(()=>{c--,0===c&&!d&&!u&&(a=aI(y,i))}),A.subscribe(I),!s&&c>0&&(s=new hf({next:R=>A.next(R),error:R=>{d=!0,g(),a=aI(p,t,R),A.error(R)},complete:()=>{u=!0,g(),a=aI(p,r),A.complete()}}),po(w).subscribe(s))})(o)}}function aI(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new hf({next:()=>{r.unsubscribe(),n()}});return po(e(...t)).subscribe(r)}function os(n,e){return ii((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(oi(r,l=>{i?.unsubscribe();let c=0;const u=o++;po(n(l,u)).subscribe(i=oi(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function AW(n,e){return n===e}function Gn(n){for(let e in n)if(n[e]===Gn)return e;throw Error("Could not find renamed property on target object.")}function Bv(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Di(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Di).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function lI(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const TW=Gn({__forward_ref__:Gn});function dr(n){return n.__forward_ref__=dr,n.toString=function(){return Di(this())},n}function Ht(n){return cI(n)?n():n}function cI(n){return"function"==typeof n&&n.hasOwnProperty(TW)&&n.__forward_ref__===dr}function uI(n){return n&&!!n.\u0275providers}const RN="https://g.co/ng/security#xss";class qe extends Error{constructor(e,t){super(function jv(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Jt(n){return"string"==typeof n?n:null==n?"":String(n)}function dI(n,e){throw new qe(-201,!1)}function ia(n,e){null==n&&function Bt(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function mt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function go(n){return{providers:n.providers||[],imports:n.imports||[]}}function zv(n){return kN(n,qv)||kN(n,ON)}function kN(n,e){return n.hasOwnProperty(e)?n[e]:null}function $v(n){return n&&(n.hasOwnProperty(hI)||n.hasOwnProperty(kW))?n[hI]:null}const qv=Gn({\u0275prov:Gn}),hI=Gn({\u0275inj:Gn}),ON=Gn({ngInjectableDef:Gn}),kW=Gn({ngInjectorDef:Gn});var gn=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(gn||{});let fI;function ss(n){const e=fI;return fI=n,e}function FN(n,e,t){const r=zv(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&gn.Optional?null:void 0!==e?e:void dI(Di(n))}const hr=globalThis;class st{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=mt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Zg={},vI="__NG_DI_FLAG__",Gv="ngTempTokenPath",FW=/\n/gm,UN="__source";let pf;function fu(n){const e=pf;return pf=n,e}function BW(n,e=gn.Default){if(void 0===pf)throw new qe(-203,!1);return null===pf?FN(n,void 0,e):pf.get(n,e&gn.Optional?null:void 0,e)}function ht(n,e=gn.Default){return(function LN(){return fI}()||BW)(Ht(n),e)}function ut(n,e=gn.Default){return ht(n,Hv(e))}function Hv(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function yI(n){const e=[];for(let t=0;t<n.length;t++){const r=Ht(n[t]);if(Array.isArray(r)){if(0===r.length)throw new qe(900,!1);let i,o=gn.Default;for(let s=0;s<r.length;s++){const a=r[s],l=jW(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(ht(i,o))}else e.push(ht(r))}return e}function Jg(n,e){return n[vI]=e,n.prototype[vI]=e,n}function jW(n){return n[vI]}function oc(n){return{toString:n}.toString()}var Wv=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Wv||{}),Ra=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Ra||{});const cl={},kn=[],Kv=Gn({\u0275cmp:Gn}),bI=Gn({\u0275dir:Gn}),wI=Gn({\u0275pipe:Gn}),jN=Gn({\u0275mod:Gn}),sc=Gn({\u0275fac:Gn}),Xg=Gn({__NG_ELEMENT_ID__:Gn}),zN=Gn({__NG_ENV_ID__:Gn});function $N(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function II(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];GN(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function qN(n){return 3===n||4===n||6===n}function GN(n){return 64===n.charCodeAt(0)}function em(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||HN(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function HN(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}const WN="ng-template";function qW(n,e,t){let r=0,i=!0;for(;r<n.length;){let o=n[r++];if("string"==typeof o&&i){const s=n[r++];if(t&&"class"===o&&-1!==$N(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function KN(n){return 4===n.type&&n.value!==WN}function GW(n,e,t){return e===(4!==n.type||t?n.value:WN)}function HW(n,e,t){let r=4;const i=n.attrs||[],o=function QW(n){for(let e=0;e<n.length;e++)if(qN(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!GW(n,l,t)||""===l&&1===e.length){if(ka(r))return!1;s=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!qW(n.attrs,c,t)){if(ka(r))return!1;s=!0}continue}const d=WW(8&r?"class":l,i,KN(n),t);if(-1===d){if(ka(r))return!1;s=!0;continue}if(""!==c){let g;g=d>o?"":i[d+1].toLowerCase();const p=8&r?g:null;if(p&&-1!==$N(p,c,0)||2&r&&c!==g){if(ka(r))return!1;s=!0}}}}else{if(!s&&!ka(r)&&!ka(l))return!1;if(s&&ka(l))continue;s=!1,r=l|1&r}}return ka(r)||s}function ka(n){return 0==(1&n)}function WW(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function YW(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function QN(n,e,t=!1){for(let r=0;r<e.length;r++)if(HW(n,e[r],t))return!0;return!1}function YN(n,e){return n?":not("+e.trim()+")":e}function JW(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!ka(s)&&(e+=YN(o,i),i=""),r=s,o=o||!ka(r);t++}return""!==i&&(e+=YN(o,i)),e}function as(n){return oc(()=>{const e=JN(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Wv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ra.Emulated,styles:n.styles||kn,_:null,schemas:n.schemas||null,tView:null,id:""};XN(t);const r=n.dependencies;return t.directiveDefs=Qv(r,!1),t.pipeDefs=Qv(r,!0),t.id=function sK(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function nK(n){return Tn(n)||Qi(n)}function rK(n){return null!==n}function Fo(n){return oc(()=>({type:n.type,bootstrap:n.bootstrap||kn,declarations:n.declarations||kn,imports:n.imports||kn,exports:n.exports||kn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ZN(n,e){if(null==n)return cl;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}function Wt(n){return oc(()=>{const e=JN(n);return XN(e),e})}function Vo(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Tn(n){return n[Kv]||null}function Qi(n){return n[bI]||null}function Uo(n){return n[wI]||null}function ks(n,e){const t=n[jN]||null;if(!t&&!0===e)throw new Error(`Type ${Di(n)} does not have '\u0275mod' property.`);return t}function JN(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||cl,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||kn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ZN(n.inputs,e),outputs:ZN(n.outputs)}}function XN(n){n.features?.forEach(e=>e(n))}function Qv(n,e){if(!n)return null;const t=e?Uo:nK;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(rK)}const Kr=0,it=1,nn=2,xr=3,Oa=4,tm=5,mo=6,mf=7,si=8,pu=9,_f=10,Xt=11,nm=12,eR=13,vf=14,ai=15,rm=16,yf=17,ul=18,im=19,tR=20,gu=21,ac=22,om=23,sm=24,mn=25,CI=1,nR=2,dl=7,bf=9,Yi=11;function ls(n){return Array.isArray(n)&&"object"==typeof n[CI]}function Bo(n){return Array.isArray(n)&&!0===n[CI]}function EI(n){return 0!=(4&n.flags)}function Ud(n){return n.componentOffset>-1}function Zv(n){return 1==(1&n.flags)}function La(n){return!!n.template}function AI(n){return 0!=(512&n[nn])}function Bd(n,e){return n.hasOwnProperty(sc)?n[sc]:null}let Zi=null,Jv=!1;function oa(n){const e=Zi;return Zi=n,e}const oR={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function aR(n){if(!lm(n)||n.dirty){if(!n.producerMustRecompute(n)&&!uR(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function cR(n){n.dirty=!0,function lR(n){if(void 0===n.liveConsumerNode)return;const e=Jv;Jv=!0;try{for(const t of n.liveConsumerNode)t.dirty||cR(t)}finally{Jv=e}}(n),n.consumerMarkedDirty?.(n)}function SI(n){return n&&(n.nextProducerIndex=0),oa(n)}function DI(n,e){if(oa(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(lm(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Xv(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function uR(n){wf(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(aR(t),r!==t.version))return!0}return!1}function dR(n){if(wf(n),lm(n))for(let e=0;e<n.producerNode.length;e++)Xv(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Xv(n,e){if(function fR(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),wf(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Xv(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];wf(i),i.producerIndexOfThis[r]=e}}function lm(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function wf(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let pR=null;const vR=()=>{},yK=(()=>({...oR,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:vR}))();class bK{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Os(){return yR}function yR(n){return n.type.prototype.ngOnChanges&&(n.setInput=IK),wK}function wK(){const n=wR(this),e=n?.current;if(e){const t=n.previous;if(t===cl)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function IK(n,e,t,r){const i=this.declaredInputs[t],o=wR(n)||function CK(n,e){return n[bR]=e}(n,{previous:cl,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new bK(l&&l.currentValue,e,a===cl),n[r]=e}Os.ngInherit=!0;const bR="__ngSimpleChanges__";function wR(n){return n[bR]||null}const hl=function(n,e,t){};function fr(n){for(;Array.isArray(n);)n=n[Kr];return n}function e0(n,e){return fr(e[n])}function cs(n,e){return fr(e[n.index])}function ER(n,e){return n.data[e]}function If(n,e){return n[e]}function Ls(n,e){const t=e[n];return ls(t)?t:t[Kr]}function _u(n,e){return null==e?null:n[e]}function AR(n){n[yf]=0}function xK(n){1024&n[nn]||(n[nn]|=1024,SR(n,1))}function TR(n){1024&n[nn]&&(n[nn]&=-1025,SR(n,-1))}function SR(n,e){let t=n[xr];if(null===t)return;t[tm]+=e;let r=t;for(t=t[xr];null!==t&&(1===e&&1===r[tm]||-1===e&&0===r[tm]);)t[tm]+=e,r=t,t=t[xr]}const jt={lFrame:VR(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function PR(){return jt.bindingsEnabled}function Ve(){return jt.lFrame.lView}function Sn(){return jt.lFrame.tView}function lt(n){return jt.lFrame.contextLView=n,n[si]}function ct(n){return jt.lFrame.contextLView=null,n}function Ji(){let n=MR();for(;null!==n&&64===n.type;)n=n.parent;return n}function MR(){return jt.lFrame.currentTNode}function fl(n,e){const t=jt.lFrame;t.currentTNode=n,t.isParent=e}function RI(){return jt.lFrame.isParent}function jo(){const n=jt.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Ef(){return jt.lFrame.bindingIndex++}function cc(n){const e=jt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function jK(n,e){const t=jt.lFrame;t.bindingIndex=t.bindingRootIndex=n,OI(e)}function OI(n){jt.lFrame.currentDirectiveIndex=n}function OR(){return jt.lFrame.currentQueryIndex}function FI(n){jt.lFrame.currentQueryIndex=n}function $K(n){const e=n[it];return 2===e.type?e.declTNode:1===e.type?n[mo]:null}function LR(n,e,t){if(t&gn.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&gn.Host||(i=$K(o),null===i||(o=o[vf],10&i.type))););if(null===i)return!1;e=i,n=o}const r=jt.lFrame=FR();return r.currentTNode=e,r.lView=n,!0}function VI(n){const e=FR(),t=n[it];jt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function FR(){const n=jt.lFrame,e=null===n?null:n.child;return null===e?VR(n):e}function VR(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function UR(){const n=jt.lFrame;return jt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const BR=UR;function UI(){const n=UR();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function zo(){return jt.lFrame.selectedIndex}function jd(n){jt.lFrame.selectedIndex=n}function jr(){const n=jt.lFrame;return ER(n.tView,n.selectedIndex)}let zR=!0;function t0(){return zR}function vu(n){zR=n}function n0(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function r0(n,e,t){$R(n,e,3,t)}function o0(n,e,t,r){(3&n[nn])===t&&$R(n,e,t,r)}function BI(n,e){let t=n[nn];(3&t)===e&&(t&=8191,t+=1,n[nn]=t)}function $R(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&n[yf]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[yf]+=65536),(a<o||-1==o)&&(ZK(n,t,e,l),n[yf]=(4294901760&n[yf])+l+2),l++}function qR(n,e){hl(4,n,e);const t=oa(null);try{e.call(n)}finally{oa(t),hl(5,n,e)}}function ZK(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];i?n[nn]>>13<n[yf]>>16&&(3&n[nn])===e&&(n[nn]+=8192,qR(a,o)):qR(a,o)}const Af=-1;class um{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function zI(n){return n!==Af}function dm(n){return 32767&n}function hm(n,e){let t=function tQ(n){return n>>16}(n),r=e;for(;t>0;)r=r[vf],t--;return r}let $I=!0;function s0(n){const e=$I;return $I=n,e}const GR=255,HR=5;let nQ=0;const pl={};function a0(n,e){const t=WR(n,e);if(-1!==t)return t;const r=e[it];r.firstCreatePass&&(n.injectorIndex=e.length,qI(r.data,n),qI(e,null),qI(r.blueprint,null));const i=l0(n,e),o=n.injectorIndex;if(zI(i)){const s=dm(i),a=hm(i,e),l=a[it].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function qI(n,e){n.push(0,0,0,0,0,0,0,0,e)}function WR(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function l0(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=ek(i),null===r)return Af;if(t++,i=i[vf],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Af}function GI(n,e,t){!function rQ(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Xg)&&(r=t[Xg]),null==r&&(r=t[Xg]=nQ++);const i=r&GR;e.data[n+(i>>HR)]|=1<<i}(n,e,t)}function KR(n,e,t){if(t&gn.Optional||void 0!==n)return n;dI()}function QR(n,e,t,r){if(t&gn.Optional&&void 0===r&&(r=null),!(t&(gn.Self|gn.Host))){const i=n[pu],o=ss(void 0);try{return i?i.get(e,r,t&gn.Optional):FN(e,r,t&gn.Optional)}finally{ss(o)}}return KR(r,0,t)}function YR(n,e,t,r=gn.Default,i){if(null!==n){if(2048&e[nn]&&!(r&gn.Self)){const s=function cQ(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[nn]&&!(512&s[nn]);){const a=ZR(o,s,t,r|gn.Self,pl);if(a!==pl)return a;let l=o.parent;if(!l){const c=s[tR];if(c){const u=c.get(t,pl,r);if(u!==pl)return u}l=ek(s),s=s[vf]}o=l}return i}(n,e,t,r,pl);if(s!==pl)return s}const o=ZR(n,e,t,r,pl);if(o!==pl)return o}return QR(e,t,r,i)}function ZR(n,e,t,r,i){const o=function sQ(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Xg)?n[Xg]:void 0;return"number"==typeof e?e>=0?e&GR:lQ:e}(t);if("function"==typeof o){if(!LR(e,n,r))return r&gn.Host?KR(i,0,r):QR(e,t,r,i);try{let s;if(s=o(r),null!=s||r&gn.Optional)return s;dI()}finally{BR()}}else if("number"==typeof o){let s=null,a=WR(n,e),l=Af,c=r&gn.Host?e[ai][mo]:null;for((-1===a||r&gn.SkipSelf)&&(l=-1===a?l0(n,e):e[a+8],l!==Af&&XR(r,!1)?(s=e[it],a=dm(l),e=hm(l,e)):a=-1);-1!==a;){const u=e[it];if(JR(o,a,u.data)){const d=oQ(a,e,t,s,r,c);if(d!==pl)return d}l=e[a+8],l!==Af&&XR(r,e[it].data[a+8]===c)&&JR(o,a,e)?(s=u,a=dm(l),e=hm(l,e)):a=-1}}return i}function oQ(n,e,t,r,i,o){const s=e[it],a=s.data[n+8],u=c0(a,s,t,null==r?Ud(a)&&$I:r!=s&&0!=(3&a.type),i&gn.Host&&o===a);return null!==u?zd(e,s,u,a):pl}function c0(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,u=o>>20,g=i?a+u:n.directiveEnd;for(let p=r?a:a+u;p<g;p++){const y=s[p];if(p<l&&t===y||p>=l&&y.type===t)return p}if(i){const p=s[l];if(p&&La(p)&&p.type===t)return l}return null}function zd(n,e,t,r){let i=n[t];const o=e.data;if(function JK(n){return n instanceof um}(i)){const s=i;s.resolving&&function SW(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new qe(-200,`Circular dependency in DI detected for ${n}${t}`)}(function jn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Jt(n)}(o[t]));const a=s0(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?ss(s.injectImpl):null;LR(n,r,gn.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function YK(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=yR(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==c&&ss(c),s0(a),s.resolving=!1,BR()}}return i}function JR(n,e,t){return!!(t[e+(n>>HR)]&1<<n)}function XR(n,e){return!(n&gn.Self||n&gn.Host&&e)}class $o{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return YR(this._tNode,this._lView,e,Hv(r),t)}}function lQ(){return new $o(Ji(),Ve())}function Xi(n){return oc(()=>{const e=n.prototype.constructor,t=e[sc]||HI(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[sc]||HI(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function HI(n){return cI(n)?()=>{const e=HI(Ht(n));return e&&e()}:Bd(n)}function ek(n){const e=n[it],t=e.type;return 2===t?e.declTNode:1===t?n[mo]:null}const Sf="__parameters__";function xf(n,e,t){return oc(()=>{const r=function WI(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(Sf)?l[Sf]:Object.defineProperty(l,Sf,{value:[]})[Sf];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Mf(n,e){n.forEach(t=>Array.isArray(t)?Mf(t,e):e(t))}function nk(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function d0(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Fs(n,e,t){let r=Nf(n,e);return r>=0?n[1|r]=t:(r=~r,function mQ(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function KI(n,e){const t=Nf(n,e);if(t>=0)return n[1|t]}function Nf(n,e){return function rk(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const _o=Jg(xf("Optional"),8),f0=Jg(xf("SkipSelf"),4);function v0(n){return 128==(128&n.flags)}var yu=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(yu||{});const XI=new Map;let BQ=0;const tC="__ngContext__";function vo(n,e){ls(e)?(n[tC]=e[im],function zQ(n){XI.set(n[im],n)}(e)):n[tC]=e}let nC;function rC(n,e){return nC(n,e)}function vm(n){const e=n[xr];return Bo(e)?e[xr]:e}function Ck(n){return Ak(n[nm])}function Ek(n){return Ak(n[Oa])}function Ak(n){for(;null!==n&&!Bo(n);)n=n[Oa];return n}function Of(n,e,t,r,i){if(null!=r){let o,s=!1;Bo(r)?o=r:ls(r)&&(s=!0,r=r[Kr]);const a=fr(r);0===n&&null!==t?null==i?xk(e,t,a):$d(e,t,a,i||null,!0):1===n&&null!==t?$d(e,t,a,i||null,!0):2===n?function A0(n,e,t){const r=C0(n,e);r&&function aY(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function uY(n,e,t,r,i){const o=t[dl];o!==fr(t)&&Of(e,n,r,o,i);for(let a=Yi;a<t.length;a++){const l=t[a];bm(l[it],l,n,e,r,o)}}(e,n,o,t,i)}}function w0(n,e,t){return n.createElement(e,t)}function Sk(n,e){const t=n[bf],r=t.indexOf(e);TR(e),t.splice(r,1)}function I0(n,e){if(n.length<=Yi)return;const t=Yi+e,r=n[t];if(r){const i=r[rm];null!==i&&i!==n&&Sk(i,r),e>0&&(n[t-1][Oa]=r[Oa]);const o=d0(n,Yi+e);!function XQ(n,e){bm(n,e,e[Xt],2,null,null),e[Kr]=null,e[mo]=null}(r[it],r);const s=o[ul];null!==s&&s.detachView(o[it]),r[xr]=null,r[Oa]=null,r[nn]&=-129}return r}function oC(n,e){if(!(256&e[nn])){const t=e[Xt];e[om]&&dR(e[om]),e[sm]&&dR(e[sm]),t.destroyNode&&bm(n,e,t,3,null,null),function nY(n){let e=n[nm];if(!e)return sC(n[it],n);for(;e;){let t=null;if(ls(e))t=e[nm];else{const r=e[Yi];r&&(t=r)}if(!t){for(;e&&!e[Oa]&&e!==n;)ls(e)&&sC(e[it],e),e=e[xr];null===e&&(e=n),ls(e)&&sC(e[it],e),t=e&&e[Oa]}e=t}}(e)}}function sC(n,e){if(!(256&e[nn])){e[nn]&=-129,e[nn]|=256,function sY(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof um)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];hl(4,a,l);try{l.call(a)}finally{hl(5,a,l)}}else{hl(4,i,o);try{o.call(i)}finally{hl(5,i,o)}}}}}(n,e),function oY(n,e){const t=n.cleanup,r=e[mf];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(e[mf]=null);const i=e[gu];if(null!==i){e[gu]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(n,e),1===e[it].type&&e[Xt].destroy();const t=e[rm];if(null!==t&&Bo(e[xr])){t!==e[xr]&&Sk(t,e);const r=e[ul];null!==r&&r.detachView(n)}!function $Q(n){XI.delete(n[im])}(e)}}function aC(n,e,t){return function Dk(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Kr];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===Ra.None||o===Ra.Emulated)return null}return cs(r,t)}}(n,e.parent,t)}function $d(n,e,t,r,i){n.insertBefore(e,t,r,i)}function xk(n,e,t){n.appendChild(e,t)}function Pk(n,e,t,r,i){null!==r?$d(n,e,t,r,i):xk(n,e,t)}function C0(n,e){return n.parentNode(e)}let lC,hC,S0,Rk=function Nk(n,e,t){return 40&n.type?cs(n,t):null};function E0(n,e,t,r){const i=aC(n,r,e),o=e[Xt],a=function Mk(n,e,t){return Rk(n,e,t)}(r.parent||e[mo],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)Pk(o,i,t[l],a,!1);else Pk(o,i,t,a,!1);void 0!==lC&&lC(o,r,e,t,i)}function ym(n,e){if(null!==e){const t=e.type;if(3&t)return cs(e,n);if(4&t)return cC(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return ym(n,r);{const i=n[e.index];return Bo(i)?cC(-1,i):fr(i)}}if(32&t)return rC(e,n)()||fr(n[e.index]);{const r=Ok(n,e);return null!==r?Array.isArray(r)?r[0]:ym(vm(n[ai]),r):ym(n,e.next)}}return null}function Ok(n,e){return null!==e?n[ai][mo].projection[e.projection]:null}function cC(n,e){const t=Yi+n+1;if(t<e.length){const r=e[t],i=r[it].firstChild;if(null!==i)return ym(r,i)}return e[dl]}function uC(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],l=t.type;if(s&&0===e&&(a&&vo(fr(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)uC(n,e,t.child,r,i,o,!1),Of(e,n,i,a,o);else if(32&l){const c=rC(t,r);let u;for(;u=c();)Of(e,n,i,u,o);Of(e,n,i,a,o)}else 16&l?Fk(n,e,r,t,i,o):Of(e,n,i,a,o);t=s?t.projectionNext:t.next}}function bm(n,e,t,r,i,o){uC(t,r,n.firstChild,e,i,o,!1)}function Fk(n,e,t,r,i,o){const s=t[ai],l=s[mo].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Of(e,n,i,l[c],o);else{let c=l;const u=s[xr];v0(r)&&(c.flags|=128),uC(n,e,c,u,i,o,!0)}}function Vk(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Uk(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&II(n,e,r),null!==i&&Vk(n,e,i),null!==o&&function hY(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function zk(n){return function fC(){if(void 0===S0&&(S0=null,hr.trustedTypes))try{S0=hr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return S0}()?.createScriptURL(n)||n}class $k{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${RN})`}}function bu(n){return n instanceof $k?n.changingThisBreaksApplicationSecurity:n}function wm(n,e){const t=function IY(n){return n instanceof $k&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${RN})`)}return t===e}const TY=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Vf=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Vf||{});function Yk(n){const e=Cm();return e?e.sanitize(Vf.URL,n)||"":wm(n,"URL")?bu(n):function pC(n){return(n=String(n)).match(TY)?n:"unsafe:"+n}(Jt(n))}function Zk(n){const e=Cm();if(e)return zk(e.sanitize(Vf.RESOURCE_URL,n)||"");if(wm(n,"ResourceURL"))return zk(bu(n));throw new qe(904,!1)}function Cm(){const n=Ve();return n&&n[_f].sanitizer}const Em=new st("ENVIRONMENT_INITIALIZER"),Xk=new st("INJECTOR",-1),eO=new st("INJECTOR_DEF_TYPES");class vC{get(e,t=Zg){if(t===Zg){const r=new Error(`NullInjectorError: No provider for ${Di(e)}!`);throw r.name="NullInjectorError",r}return t}}function UY(...n){return{\u0275providers:tO(0,n),\u0275fromNgModule:!0}}function tO(n,...e){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return Mf(e,s=>{const a=s;x0(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&nO(i,o),t}function nO(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];bC(i,o=>{e(o,r)})}}function x0(n,e,t,r){if(!(n=Ht(n)))return!1;let i=null,o=$v(n);const s=!o&&Tn(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const l=n.ngModule;if(o=$v(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)x0(c,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Mf(o.imports,u=>{x0(u,e,t,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&nO(c,e)}if(!a){const c=Bd(i)||(()=>new i);e({provide:i,useFactory:c,deps:kn},i),e({provide:eO,useValue:i,multi:!0},i),e({provide:Em,useValue:()=>ht(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const c=n;bC(l,u=>{e(u,c)})}}}return i!==n&&void 0!==n.providers}function bC(n,e){for(let t of n)uI(t)&&(t=t.\u0275providers),Array.isArray(t)?bC(t,e):e(t)}const BY=Gn({provide:String,useValue:Gn});function wC(n){return null!==n&&"object"==typeof n&&BY in n}function qd(n){return"function"==typeof n}const IC=new st("Set Injector scope."),P0={},zY={};let CC;function M0(){return void 0===CC&&(CC=new vC),CC}class aa{}class Uf extends aa{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,AC(e,s=>this.processProvider(s)),this.records.set(Xk,Bf(void 0,this)),i.has("environment")&&this.records.set(aa,Bf(void 0,this));const o=this.records.get(IC);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(eO.multi,kn,gn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=fu(this),r=ss(void 0);try{return e()}finally{fu(t),ss(r)}}get(e,t=Zg,r=gn.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(zN))return e[zN](this);r=Hv(r);const o=fu(this),s=ss(void 0);try{if(!(r&gn.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function WY(n){return"function"==typeof n||"object"==typeof n&&n instanceof st}(e)&&zv(e);l=c&&this.injectableDefInScope(c)?Bf(EC(e),P0):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&gn.Self?M0():this.parent).get(e,t=r&gn.Optional&&t===Zg?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Gv]=a[Gv]||[]).unshift(Di(e)),o)throw a;return function zW(n,e,t,r){const i=n[Gv];throw e[UN]&&i.unshift(e[UN]),n.message=function $W(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Di(e);if(Array.isArray(e))i=e.map(Di).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Di(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(FW,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Gv]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{ss(s),fu(o)}}resolveInjectorInitializers(){const e=fu(this),t=ss(void 0);try{const i=this.get(Em.multi,kn,gn.Self);for(const o of i)o()}finally{fu(e),ss(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Di(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new qe(205,!1)}processProvider(e){let t=qd(e=Ht(e))?e:Ht(e&&e.provide);const r=function qY(n){return wC(n)?Bf(void 0,n.useValue):Bf(oO(n),P0)}(e);if(qd(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Bf(void 0,P0,!0),i.factory=()=>yI(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===P0&&(t.value=zY,t.value=t.factory()),"object"==typeof t.value&&t.value&&function HY(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Ht(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function EC(n){const e=zv(n),t=null!==e?e.factory:Bd(n);if(null!==t)return t;if(n instanceof st)throw new qe(204,!1);if(n instanceof Function)return function $Y(n){const e=n.length;if(e>0)throw function gm(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new qe(204,!1);const t=function RW(n){return n&&(n[qv]||n[ON])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new qe(204,!1)}function oO(n,e,t){let r;if(qd(n)){const i=Ht(n);return Bd(i)||EC(i)}if(wC(n))r=()=>Ht(n.useValue);else if(function iO(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...yI(n.deps||[]));else if(function rO(n){return!(!n||!n.useExisting)}(n))r=()=>ht(Ht(n.useExisting));else{const i=Ht(n&&(n.useClass||n.provide));if(!function GY(n){return!!n.deps}(n))return Bd(i)||EC(i);r=()=>new i(...yI(n.deps))}return r}function Bf(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function AC(n,e){for(const t of n)Array.isArray(t)?AC(t,e):t&&uI(t)?AC(t.\u0275providers,e):e(t)}const N0=new st("AppId",{providedIn:"root",factory:()=>KY}),KY="ng",sO=new st("Platform Initializer"),dc=new st("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),aO=new st("CSP nonce",{providedIn:"root",factory:()=>function Ff(){if(void 0!==hC)return hC;if(typeof document<"u")return document;throw new qe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let lO=(n,e,t)=>null;function RC(n,e,t=!1){return lO(n,e,t)}class iZ{}class dO{}class sZ{resolveComponentFactory(e){throw function oZ(n){const e=Error(`No component factory found for ${Di(n)}.`);return e.ngComponent=n,e}(e)}}let V0=(()=>{class n{static{this.NULL=new sZ}}return n})();function aZ(){return $f(Ji(),Ve())}function $f(n,e){return new Vs(cs(n,e))}let Vs=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=aZ}}return n})();function lZ(n){return n instanceof Vs?n.nativeElement:n}class fO{}let hc=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function cZ(){const n=Ve(),t=Ls(Ji().index,n);return(ls(t)?t:n)[Xt]}()}}return n})(),uZ=(()=>{class n{static{this.\u0275prov=mt({token:n,providedIn:"root",factory:()=>null})}}return n})();class qf{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const pO=new qf("16.2.12"),LC={};function vO(n,e=null,t=null,r){const i=yO(n,e,t,r);return i.resolveInjectorInitializers(),i}function yO(n,e=null,t=null,r,i=new Set){const o=[t||kn,UY(n)];return r=r||("object"==typeof n?void 0:Di(n)),new Uf(o,e||M0(),r||null,i)}let eo=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Zg}static{this.NULL=new vC}static create(t,r){if(Array.isArray(t))return vO({name:""},r,t,"");{const i=t.name??"";return vO({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=mt({token:n,providedIn:"any",factory:()=>ht(Xk)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function VC(n){return n.ngOriginalError}class fc{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&VC(e);for(;t&&VC(t);)t=VC(t);return t||null}}function UC(n){return e=>{setTimeout(n,void 0,e)}}const Pr=class vZ extends is{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=UC(o),i&&(i=UC(i)),s&&(s=UC(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Fi&&e.add(a),a}};function wO(...n){}class On{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pr(!1),this.onMicrotaskEmpty=new Pr(!1),this.onStable=new Pr(!1),this.onError=new Pr(!1),typeof Zone>"u")throw new qe(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function yZ(){const n="function"==typeof hr.requestAnimationFrame;let e=hr[n?"requestAnimationFrame":"setTimeout"],t=hr[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function IZ(n){const e=()=>{!function wZ(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(hr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,jC(n),n.isCheckStableRunning=!0,BC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),jC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(function EZ(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,o,s,a);try{return IO(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),CO(n)}},onInvoke:(t,r,i,o,s,a,l)=>{try{return IO(n),t.invoke(i,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),CO(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,jC(n),BC(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!On.isInAngularZone())throw new qe(909,!1)}static assertNotInAngularZone(){if(On.isInAngularZone())throw new qe(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,bZ,wO,wO);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const bZ={};function BC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function jC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function IO(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function CO(n){n._nesting--,BC(n)}class CZ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pr,this.onMicrotaskEmpty=new Pr,this.onStable=new Pr,this.onError=new Pr}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const EO=new st("",{providedIn:"root",factory:AO});function AO(){const n=ut(On);let e=!0;return sI(new or(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new or(i=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{On.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=n.onUnstable.subscribe(()=>{On.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(NN()))}function pc(n){return n instanceof Function?n():n}let zC=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=mt({token:n,providedIn:"root",factory:()=>new n})}}return n})();function Sm(n){for(;n;){n[nn]|=64;const e=vm(n);if(AI(n)&&!e)return n;n=e}return null}const PO=new st("",{providedIn:"root",factory:()=>!1});let j0=null;function kO(n,e){return n[e]??FO()}function OO(n,e){const t=FO();t.producerNode?.length&&(n[e]=j0,t.lView=n,j0=LO())}const kZ={...oR,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Sm(n.lView)},lView:null};function LO(){return Object.create(kZ)}function FO(){return j0??=LO(),j0}const en={};function U(n){VO(Sn(),Ve(),zo()+n,!1)}function VO(n,e,t,r){if(!r)if(3==(3&e[nn])){const o=n.preOrderCheckHooks;null!==o&&r0(e,o,t)}else{const o=n.preOrderHooks;null!==o&&o0(e,o,0,t)}jd(t)}function Le(n,e=gn.Default){const t=Ve();return null===t?ht(n,e):YR(Ji(),t,Ht(n),e)}function z0(n,e,t,r,i,o,s,a,l,c,u){const d=e.blueprint.slice();return d[Kr]=i,d[nn]=140|r,(null!==c||n&&2048&n[nn])&&(d[nn]|=2048),AR(d),d[xr]=d[vf]=n,d[si]=t,d[_f]=s||n&&n[_f],d[Xt]=a||n&&n[Xt],d[pu]=l||n&&n[pu]||null,d[mo]=o,d[im]=function jQ(){return BQ++}(),d[ac]=u,d[tR]=c,d[ai]=2==e.type?n[ai]:d,d}function Wf(n,e,t,r,i){let o=n.data[e];if(null===o)o=function $C(n,e,t,r,i){const o=MR(),s=RI(),l=n.data[e]=function zZ(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function Cf(){return null!==jt.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(n,e,t,r,i),function BK(){return jt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function cm(){const n=jt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return fl(o,!0),o}function Dm(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function BO(n,e,t,r,i){const o=kO(e,om),s=zo(),a=2&r;try{jd(-1),a&&e.length>mn&&VO(n,e,mn,!1),hl(a?2:0,i);const c=a?o:null,u=SI(c);try{null!==c&&(c.dirty=!1),t(r,i)}finally{DI(c,u)}}finally{a&&null===e[om]&&OO(e,om),jd(s),hl(a?3:1,i)}}function qC(n,e,t){if(EI(e)){const r=oa(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{oa(r)}}}function GC(n,e,t){PR()&&(function QZ(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;Ud(t)&&function nJ(n,e,t){const r=cs(e,n),i=jO(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=$0(n,z0(n,i,null,s,r,e,null,n[_f].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||a0(t,e),vo(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const l=n.data[a],c=zd(e,n,a,t);vo(c,e),null!==s&&rJ(0,a-i,c,l,0,s),La(l)&&(Ls(t.index,e)[si]=zd(e,n,a,t))}}(n,e,t,cs(t,e)),64==(64&t.flags)&&HO(n,e,t))}function HC(n,e,t=cs){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function jO(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=WC(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function WC(n,e,t,r,i,o,s,a,l,c,u){const d=mn+r,g=d+i,p=function LZ(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:en);return t}(d,g),y="function"==typeof c?c():c;return p[it]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:y,incompleteFirstPass:!1,ssrId:u}}let zO=n=>null;function $O(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const o=n[i];null===r?qO(t,e,i,o):r.hasOwnProperty(i)&&qO(t,e,r[i],o)}return t}function qO(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function KC(n,e,t,r){if(PR()){const i=null===r?null:{"":-1},o=function ZZ(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(QN(e,s.selectors,!1))if(r||(r=[]),La(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),QC(n,e,a.length)}else r.unshift(s),QC(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&GO(n,e,t,s,i,a),i&&function JZ(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new qe(-301,!1);r.push(e[i],o)}}}(t,r,i)}t.mergedAttrs=em(t.mergedAttrs,t.attrs)}function GO(n,e,t,r,i,o){for(let c=0;c<r.length;c++)GI(a0(t,e),n,r[c].type);!function eJ(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=Dm(n,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];t.mergedAttrs=em(t.mergedAttrs,u.hostAttrs),tJ(n,t,e,l,u),XZ(l,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function $Z(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const d=o[u],g=t?t.get(d):null,y=g?g.outputs:null;l=$O(d.inputs,u,l,g?g.inputs:null),c=$O(d.outputs,u,c,y);const w=null===l||null===s||KN(e)?null:iJ(l,u,s);a.push(w)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,o)}function HO(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function zK(){return jt.lFrame.currentDirectiveIndex}();try{jd(o);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];OI(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&YZ(l,c)}}finally{jd(-1),OI(s)}}function YZ(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function QC(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function XZ(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;La(e)&&(t[""]=n)}}function tJ(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=Bd(i.type)),s=new um(o,La(i),Le);n.blueprint[r]=s,t[r]=s,function WZ(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function KZ(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,Dm(n,t,i.hostVars,en),i)}function gl(n,e,t,r,i,o){const s=cs(n,e);!function YC(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?Jt(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[Xt],s,o,n.value,t,r,i)}function rJ(n,e,t,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)WO(r,t,s[a++],s[a++],s[a++])}function WO(n,e,t,r,i){const o=oa(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{oa(o)}}function iJ(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function KO(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function QO(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=n.data[o];FI(t[r]),s.contentQueries(2,e[o],o)}}}function $0(n,e){return n[nm]?n[eR][Oa]=e:n[nm]=e,n[eR]=e,e}function ZC(n,e,t){FI(0);const r=oa(null);try{e(n,t)}finally{oa(r)}}function YO(n){return n[mf]||(n[mf]=[])}function ZO(n){return n.cleanup||(n.cleanup=[])}function XO(n,e){const t=n[pu],r=t?t.get(fc,null):null;r&&r.handleError(e)}function JC(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];WO(n.data[s],e[s],r,a,i)}}function gc(n,e,t){const r=e0(e,n);!function Tk(n,e,t){n.setValue(e,t)}(n[Xt],r,t)}function oJ(n,e){const t=Ls(e,n),r=t[it];!function sJ(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[Kr];null!==i&&null===t[ac]&&(t[ac]=RC(i,t[pu])),XC(r,t,t[si])}function XC(n,e,t){VI(e);try{const r=n.viewQuery;null!==r&&ZC(1,r,t);const i=n.template;null!==i&&BO(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&QO(n,e),n.staticViewQueries&&ZC(2,n.viewQuery,t);const o=n.components;null!==o&&function aJ(n,e){for(let t=0;t<e.length;t++)oJ(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[nn]&=-5,UI()}}let e3=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function vK(n,e,t){const r=Object.create(yK);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>cR(r),run:()=>{if(r.dirty=!1,r.hasRun&&!uR(r))return;r.hasRun=!0;const s=SI(r);try{r.cleanupFn(),r.cleanupFn=vR,r.fn(i)}finally{DI(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(t,c=>{this.all.has(c)&&this.queue.set(c,o)},i);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=mt({token:n,providedIn:"root",factory:()=>new n})}}return n})();function q0(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=lI(i,a):2==o&&(r=lI(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function xm(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];null!==o&&r.push(fr(o)),Bo(o)&&t3(o,r);const s=t.type;if(8&s)xm(n,e,t.child,r);else if(32&s){const a=rC(t,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=Ok(e,t);if(Array.isArray(a))r.push(...a);else{const l=vm(e[ai]);xm(l[it],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function t3(n,e){for(let t=Yi;t<n.length;t++){const r=n[t],i=r[it].firstChild;null!==i&&xm(r[it],r,i,e)}n[dl]!==n[Kr]&&e.push(n[dl])}function G0(n,e,t,r=!0){const i=e[_f],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{n3(n,e,n.template,t)}catch(l){throw r&&XO(e,l),l}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function n3(n,e,t,r){const i=e[nn];if(256!=(256&i)){e[_f].effectManager?.flush(),VI(e);try{AR(e),function RR(n){return jt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&BO(n,e,t,2,r);const s=3==(3&i);if(s){const c=n.preOrderCheckHooks;null!==c&&r0(e,c,null)}else{const c=n.preOrderHooks;null!==c&&o0(e,c,0,null),BI(e,0)}if(function uJ(n){for(let e=Ck(n);null!==e;e=Ek(e)){if(!e[nR])continue;const t=e[bf];for(let r=0;r<t.length;r++){xK(t[r])}}}(e),r3(e,2),null!==n.contentQueries&&QO(n,e),s){const c=n.contentCheckHooks;null!==c&&r0(e,c)}else{const c=n.contentHooks;null!==c&&o0(e,c,1),BI(e,1)}!function OZ(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=kO(e,sm);try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)jd(~o);else{const s=o,a=t[++i],l=t[++i];jK(a,s),r.dirty=!1;const c=SI(r);try{l(2,e[s])}finally{DI(r,c)}}}}finally{null===e[sm]&&OO(e,sm),jd(-1)}}(n,e);const a=n.components;null!==a&&o3(e,a,0);const l=n.viewQuery;if(null!==l&&ZC(2,l,r),s){const c=n.viewCheckHooks;null!==c&&r0(e,c)}else{const c=n.viewHooks;null!==c&&o0(e,c,2),BI(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[nn]&=-73,TR(e)}finally{UI()}}}function r3(n,e){for(let t=Ck(n);null!==t;t=Ek(t))for(let r=Yi;r<t.length;r++)i3(t[r],e)}function dJ(n,e,t){i3(Ls(e,n),t)}function i3(n,e){if(!function SK(n){return 128==(128&n[nn])}(n))return;const t=n[it],r=n[nn];if(80&r&&0===e||1024&r||2===e)n3(t,n,t.template,n[si]);else if(n[tm]>0){r3(n,1);const i=t.components;null!==i&&o3(n,i,1)}}function o3(n,e,t){for(let r=0;r<e.length;r++)dJ(n,e[r],t)}class Pm{get rootNodes(){const e=this._lView,t=e[it];return xm(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[si]}set context(e){this._lView[si]=e}get destroyed(){return 256==(256&this._lView[nn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[xr];if(Bo(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(I0(e,r),d0(t,r))}this._attachedToViewContainer=!1}oC(this._lView[it],this._lView)}onDestroy(e){!function DR(n,e){if(256==(256&n[nn]))throw new qe(911,!1);null===n[gu]&&(n[gu]=[]),n[gu].push(e)}(this._lView,e)}markForCheck(){Sm(this._cdRefInjectingView||this._lView)}detach(){this._lView[nn]&=-129}reattach(){this._lView[nn]|=128}detectChanges(){G0(this._lView[it],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new qe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function tY(n,e){bm(n,e,e[Xt],2,null,null)}(this._lView[it],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new qe(902,!1);this._appRef=e}}class hJ extends Pm{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;G0(e[it],e,e[si],!1)}checkNoChanges(){}get context(){return null}}class s3 extends V0{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Tn(e);return new Mm(t,this.ngModule)}}function a3(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class pJ{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Hv(r);const i=this.injector.get(e,LC,r);return i!==LC||t===LC?i:this.parentInjector.get(e,t,r)}}class Mm extends dO{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=a3(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return a3(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function XW(n){return n.map(JW).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof aa?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new pJ(e,o):e,a=s.get(fO,null);if(null===a)throw new qe(407,!1);const d={rendererFactory:a,sanitizer:s.get(uZ,null),effectManager:s.get(e3,null),afterRenderEventManager:s.get(zC,null)},g=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",y=r?function FZ(n,e,t,r){const o=r.get(PO,!1)||t===Ra.ShadowDom,s=n.selectRootElement(e,o);return function VZ(n){zO(n)}(s),s}(g,r,this.componentDef.encapsulation,s):w0(g,p,function fJ(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(p)),A=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let R=null;null!==y&&(R=RC(y,s,!0));const F=WC(0,null,null,1,0,null,null,null,null,null,null),L=z0(null,F,null,A,null,null,d,g,s,null,R);let J,ae;VI(L);try{const q=this.componentDef;let P,x=null;q.findHostDirectiveDefs?(P=[],x=new Map,q.findHostDirectiveDefs(q,P,x),P.push(q)):P=[q];const B=function mJ(n,e){const t=n[it],r=mn;return n[r]=e,Wf(t,r,2,"#host",null)}(L,y),T=function _J(n,e,t,r,i,o,s){const a=i[it];!function vJ(n,e,t,r){for(const i of n)e.mergedAttrs=em(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(q0(e,e.mergedAttrs,!0),null!==t&&Uk(r,t,e))}(r,n,e,s);let l=null;null!==e&&(l=RC(e,i[pu]));const c=o.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=z0(i,jO(t),null,u,i[n.index],n,o,c,null,null,l);return a.firstCreatePass&&QC(a,n,r.length-1),$0(i,d),i[n.index]=d}(B,y,q,P,L,d,g);ae=ER(F,mn),y&&function bJ(n,e,t,r){if(r)II(n,t,["ng-version",pO.full]);else{const{attrs:i,classes:o}=function eK(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!ka(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&II(n,t,i),o&&o.length>0&&Vk(n,t,o.join(" "))}}(g,q,y,r),void 0!==t&&function wJ(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(ae,this.ngContentSelectors,t),J=function yJ(n,e,t,r,i,o){const s=Ji(),a=i[it],l=cs(s,i);GO(a,i,s,t,null,r);for(let u=0;u<t.length;u++)vo(zd(i,a,s.directiveStart+u,s),i);HO(a,i,s),l&&vo(l,i);const c=zd(i,a,s.directiveStart+s.componentOffset,s);if(n[si]=i[si]=c,null!==o)for(const u of o)u(c,e);return qC(a,s,n),c}(T,q,P,x,L,[IJ]),XC(F,L,null)}finally{UI()}return new gJ(this.componentType,J,$f(ae,L),L,ae)}}class gJ extends iZ{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new hJ(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;JC(o[it],o,i,e,t),this.previousInputValues.set(e,t),Sm(Ls(this._tNode.index,o))}}get injector(){return new $o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function IJ(){const n=Ji();n0(Ve()[it],n)}function Hn(n){let e=function l3(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(La(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new qe(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=H0(n.inputs),s.inputTransforms=H0(n.inputTransforms),s.declaredInputs=H0(n.declaredInputs),s.outputs=H0(n.outputs);const a=i.hostBindings;a&&TJ(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&EJ(n,l),c&&AJ(n,c),Bv(n.inputs,i.inputs),Bv(n.declaredInputs,i.declaredInputs),Bv(n.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Bv(s.inputTransforms,i.inputTransforms)),La(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Hn&&(t=!1)}}e=Object.getPrototypeOf(e)}!function CJ(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=em(i.hostAttrs,t=em(t,i.hostAttrs))}}(r)}function H0(n){return n===cl?{}:n===kn?[]:n}function EJ(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function AJ(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function TJ(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function h3(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function W0(n){return!!eE(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function eE(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ml(n,e,t){return n[e]=t}function yo(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Gd(n,e,t,r){const i=yo(n,e,t);return yo(n,e+1,r)||i}function Qr(n,e,t,r){const i=Ve();return yo(i,Ef(),e)&&(Sn(),gl(jr(),i,n,e,t,r)),Qr}function Yf(n,e,t,r,i,o){const a=Gd(n,function lc(){return jt.lFrame.bindingIndex}(),t,i);return cc(2),a?e+Jt(t)+r+Jt(i)+o:en}function $e(n,e,t,r,i,o,s,a){const l=Ve(),c=Sn(),u=n+mn,d=c.firstCreatePass?function ZJ(n,e,t,r,i,o,s,a,l){const c=e.consts,u=Wf(e,n,4,s||null,_u(c,a));KC(e,t,u,_u(c,l)),n0(e,u);const d=u.tView=WC(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,o,s):c.data[u];fl(d,!1);const g=A3(c,l,d,n);t0()&&E0(c,l,g,d),vo(g,l),$0(l,l[u]=KO(g,l,g,d)),Zv(d)&&GC(c,l,d),null!=s&&HC(l,d,a)}let A3=function T3(n,e,t,r){return vu(!0),e[Xt].createComment("")};function sE(n){return If(function UK(){return jt.lFrame.contextLView}(),mn+n)}function le(n,e,t){const r=Ve();return yo(r,Ef(),e)&&function Us(n,e,t,r,i,o,s,a){const l=cs(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(JC(n,t,u,r,i),Ud(e)&&function GZ(n,e){const t=Ls(e,n);16&t[nn]||(t[nn]|=64)}(t,e.index)):3&e.type&&(r=function qZ(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(l,r,i))}(Sn(),jr(),r,n,e,r[Xt],t,!1),le}function aE(n,e,t,r,i){const s=i?"class":"style";JC(n,t,e.inputs[s],s,r)}function E(n,e,t,r){const i=Ve(),o=Sn(),s=mn+n,a=i[Xt],l=o.firstCreatePass?function tX(n,e,t,r,i,o){const s=e.consts,l=Wf(e,n,2,r,_u(s,i));return KC(e,t,l,_u(s,o)),null!==l.attrs&&q0(l,l.attrs,!1),null!==l.mergedAttrs&&q0(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,e,t,r):o.data[s],c=S3(o,i,l,a,e,n);i[s]=c;const u=Zv(l);return fl(l,!0),Uk(a,c,l),32!=(32&l.flags)&&t0()&&E0(o,i,c,l),0===function MK(){return jt.lFrame.elementDepthCount}()&&vo(c,i),function NK(){jt.lFrame.elementDepthCount++}(),u&&(GC(o,i,l),qC(o,l,i)),null!==r&&HC(i,l),E}function S(){let n=Ji();RI()?function kI(){jt.lFrame.isParent=!1}():(n=n.parent,fl(n,!1));const e=n;(function kK(n){return jt.skipHydrationRootTNode===n})(e)&&function VK(){jt.skipHydrationRootTNode=null}(),function RK(){jt.lFrame.elementDepthCount--}();const t=Sn();return t.firstCreatePass&&(n0(t,n),EI(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function XK(n){return 0!=(8&n.flags)}(e)&&aE(t,e,Ve(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function eQ(n){return 0!=(16&n.flags)}(e)&&aE(t,e,Ve(),e.stylesWithoutHost,!1),S}function se(n,e,t,r){return E(n,e,t,r),S(),se}let S3=(n,e,t,r,i,o)=>(vu(!0),w0(r,i,function jR(){return jt.lFrame.currentNamespace}()));function Ln(){return Ve()}function Lm(n){return!!n&&"function"==typeof n.then}function P3(n){return!!n&&"function"==typeof n.subscribe}function De(n,e,t,r){const i=Ve(),o=Sn(),s=Ji();return function N3(n,e,t,r,i,o,s){const a=Zv(r),c=n.firstCreatePass&&ZO(n),u=e[si],d=YO(e);let g=!0;if(3&r.type||s){const w=cs(r,e),I=s?s(w):w,A=d.length,R=s?L=>s(fr(L[r.index])):r.index;let F=null;if(!s&&a&&(F=function aX(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[mf],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==F)(F.__ngLastListenerFn__||F).__ngNextListenerFn__=o,F.__ngLastListenerFn__=o,g=!1;else{o=k3(r,e,u,o,!1);const L=t.listen(I,i,o);d.push(o,L),c&&c.push(i,R,A,A+1)}}else o=k3(r,e,u,o,!1);const p=r.outputs;let y;if(g&&null!==p&&(y=p[i])){const w=y.length;if(w)for(let I=0;I<w;I+=2){const J=e[y[I]][y[I+1]].subscribe(o),ae=d.length;d.push(o,J),c&&c.push(i,r.index,ae,-(ae+1))}}}(o,i,i[Xt],s,n,e,r),De}function R3(n,e,t,r){try{return hl(6,e,t),!1!==t(r)}catch(i){return XO(n,i),!1}finally{hl(7,e,t)}}function k3(n,e,t,r,i){return function o(s){if(s===Function)return r;Sm(n.componentOffset>-1?Ls(n.index,e):e);let l=R3(e,t,r,s),c=o.__ngNextListenerFn__;for(;c;)l=R3(e,t,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function xe(n=1){return function qK(n){return(jt.lFrame.contextLView=function GK(n,e){for(;n>0;)e=e[vf],n--;return e}(n,jt.lFrame.contextLView))[si]}(n)}function J0(n,e){return n<<17|e<<2}function wu(n){return n>>17&32767}function dE(n){return 2|n}function Hd(n){return(131068&n)>>2}function hE(n,e){return-131069&n|e<<2}function fE(n){return 1|n}function q3(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?wu(o):Hd(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];mX(n[a],e)&&(l=!0,n[a+1]=r?fE(u):dE(u)),a=r?wu(u):Hd(u)}l&&(n[t+1]=r?dE(o):fE(o))}function mX(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Nf(n,e)>=0}function zt(n,e){return function Fa(n,e,t,r){const i=Ve(),o=Sn(),s=cc(2);o.firstUpdatePass&&function X3(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[zo()],s=function J3(n,e){return e>=n.expandoStartIndex}(n,t);(function r4(n,e){return 0!=(n.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function AX(n,e,t,r){const i=function LI(n){const e=jt.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Fm(t=pE(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=pE(i,n,e,t,r),null===o){let l=function TX(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Hd(r))return n[wu(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=pE(null,n,e,l[1],r),l=Fm(l,e.attrs,r),function SX(n,e,t,r){n[wu(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else o=function DX(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Fm(r,n[o].hostAttrs,t);return Fm(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function pX(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=wu(s),l=Hd(s);n[r]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||Nf(t,u)>0)&&(c=!0)):u=t,i)if(0!==l){const g=wu(n[a+1]);n[r+1]=J0(g,a),0!==g&&(n[g+1]=hE(n[g+1],r)),n[a+1]=function hX(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=J0(a,0),0!==a&&(n[a+1]=hE(n[a+1],r)),a=r;else n[r+1]=J0(l,0),0===a?a=r:n[l+1]=hE(n[l+1],r),l=r;c&&(n[r+1]=dE(n[r+1])),q3(n,u,r,!0),q3(n,u,r,!1),function gX(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Nf(o,e)>=0&&(t[r+1]=fE(t[r+1]))}(e,u,n,r,o),s=J0(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}(o,n,s,r),e!==en&&yo(i,s,e)&&function t4(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function fX(n){return 1==(1&n)}(c)?n4(l,e,t,i,Hd(c),s):void 0;X0(u)||(X0(o)||function dX(n){return 2==(2&n)}(c)&&(o=n4(l,null,t,i,a,s)),function dY(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:yu.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=yu.Important),n.setStyle(t,r,i,o))}}(r,s,e0(zo(),t),i,o))}(o,o.data[zo()],i,i[Xt],n,i[s+1]=function NX(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Di(bu(n)))),n}(e,t),r,s)}(n,e,null,!0),zt}function pE(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=Fm(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Fm(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Fs(n,s,!!t||e[++o]))}return void 0===n?null:n}function n4(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let g=t[i+1];g===en&&(g=d?kn:void 0);let p=d?KI(g,r):u===r?g:void 0;if(c&&!X0(p)&&(p=KI(l,r)),X0(p)&&(a=p,s))return a;const y=n[i+1];i=s?wu(y):Hd(y)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=KI(l,r))}return a}function X0(n){return void 0!==n}function $(n,e=""){const t=Ve(),r=Sn(),i=n+mn,o=r.firstCreatePass?Wf(r,i,1,e,null):r.data[i],s=i4(r,t,o,e,n);t[i]=s,t0()&&E0(r,t,s,o),fl(o,!1)}let i4=(n,e,t,r,i)=>(vu(!0),function b0(n,e){return n.createText(e)}(e[Xt],r));function Qe(n){return In("",n,""),Qe}function In(n,e,t){const r=Ve(),i=function Qf(n,e,t,r){return yo(n,Ef(),t)?e+Jt(t)+r:en}(r,n,e,t);return i!==en&&gc(r,zo(),i),In}function Ua(n,e,t,r,i){const o=Ve(),s=Yf(o,n,e,t,r,i);return s!==en&&gc(o,zo(),s),Ua}const Wd=void 0;var eee=["en",[["a","p"],["AM","PM"],Wd],[["AM","PM"],Wd,Wd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wd,"{1} 'at' {0}",Wd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function XX(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let ip={};function qo(n){const e=function tee(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=E4(e);if(t)return t;const r=e.split("-")[0];if(t=E4(r),t)return t;if("en"===r)return eee;throw new qe(701,!1)}function E4(n){return n in ip||(ip[n]=hr.ng&&hr.ng.common&&hr.ng.common.locales&&hr.ng.common.locales[n]),ip[n]}var pr=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(pr||{});const op="en-US";let A4=op;function _E(n,e,t,r,i){if(n=Ht(n),Array.isArray(n))for(let o=0;o<n.length;o++)_E(n[o],e,t,r,i);else{const o=Sn(),s=Ve(),a=Ji();let l=qd(n)?n:Ht(n.provide);const c=oO(n),u=1048575&a.providerIndexes,d=a.directiveStart,g=a.providerIndexes>>20;if(qd(n)||!n.multi){const p=new um(c,i,Le),y=yE(l,e,i?u:u+g,d);-1===y?(GI(a0(a,s),o,l),vE(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(p),s.push(p)):(t[y]=p,s[y]=p)}else{const p=yE(l,e,u+g,d),y=yE(l,e,u,u+g),I=y>=0&&t[y];if(i&&!I||!i&&!(p>=0&&t[p])){GI(a0(a,s),o,l);const A=function Xee(n,e,t,r,i){const o=new um(n,t,Le);return o.multi=[],o.index=e,o.componentProviders=0,Y4(o,i,r&&!t),o}(i?Jee:Zee,t.length,i,r,c);!i&&I&&(t[y].providerFactory=A),vE(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(A),s.push(A)}else vE(o,n,p>-1?p:y,Y4(t[i?y:p],c,!i&&r));!i&&r&&I&&t[y].componentProviders++}}}function vE(n,e,t,r){const i=qd(e),o=function jY(n){return!!n.useClass}(e);if(i||o){const l=(o?Ht(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function Y4(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function yE(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Zee(n,e,t,r){return bE(this.multi,[])}function Jee(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=zd(t,t[it],this.providerFactory.index,r);o=a.slice(0,s),bE(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],bE(i,o);return o}function bE(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Mr(n,e=[]){return t=>{t.providersResolver=(r,i)=>function Yee(n,e,t){const r=Sn();if(r.firstCreatePass){const i=La(n);_E(t,r.data,r.blueprint,i,!0),_E(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Kd{}class Z4{}class wE extends Kd{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new s3(this);const i=ks(e);this._bootstrapComponents=pc(i.bootstrap),this._r3Injector=yO(e,t,[{provide:Kd,useValue:this},{provide:V0,useValue:this.componentFactoryResolver},...r],Di(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class IE extends Z4{constructor(e){super(),this.moduleType=e}create(e){return new wE(this.moduleType,e,[])}}class J4 extends Kd{constructor(e){super(),this.componentFactoryResolver=new s3(this),this.instance=null;const t=new Uf([...e.providers,{provide:Kd,useValue:this},{provide:V0,useValue:this.componentFactoryResolver}],e.parent||M0(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function CE(n,e,t=null){return new J4({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let nte=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=tO(0,t.type),i=r.length>0?CE([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=mt({token:n,providedIn:"environment",factory:()=>new n(ht(aa))})}}return n})();function X4(n){n.getStandaloneInjector=e=>e.get(nte).getOrCreateStandaloneInjector(n)}function br(n,e,t,r,i,o){return function lL(n,e,t,r,i,o,s,a){const l=e+t;return function K0(n,e,t,r,i){const o=Gd(n,e,t,r);return yo(n,e+2,i)||o}(n,l,i,o,s)?ml(n,l+3,a?r.call(a,i,o,s):r(i,o,s)):$m(n,l+3)}(Ve(),jo(),n,e,t,r,i,o)}function $m(n,e){const t=n[e];return t===en?void 0:t}function wr(n,e){const t=Sn();let r;const i=n+mn;t.firstCreatePass?(r=function bte(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=Bd(r.type)),a=ss(Le);try{const l=s0(!1),c=o();return s0(l),function eX(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,Ve(),i,c),c}finally{ss(a)}}function ca(n,e,t){const r=n+mn,i=Ve(),o=If(i,r);return qm(i,r)?function sL(n,e,t,r,i,o){const s=e+t;return yo(n,s,i)?ml(n,s+1,o?r.call(o,i):r(i)):$m(n,s+1)}(i,jo(),e,o.transform,t,o):o.transform(t)}function hs(n,e,t,r){const i=n+mn,o=Ve(),s=If(o,i);return qm(o,i)?function aL(n,e,t,r,i,o,s){const a=e+t;return Gd(n,a,i,o)?ml(n,a+2,s?r.call(s,i,o):r(i,o)):$m(n,a+2)}(o,jo(),e,s.transform,t,r,s):s.transform(t,r)}function qm(n,e){return n[it].data[e].pure}function Ete(){return this._results[Symbol.iterator]()}class AE{get changes(){return this._changes||(this._changes=new Pr)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=AE.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Ete)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function sa(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function pQ(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Tte(n,e,t,r=!0){const i=e[it];if(function rY(n,e,t,r){const i=Yi+r,o=t.length;r>0&&(t[i-1][Oa]=e),r<o-Yi?(e[Oa]=t[i],nk(t,Yi+r,e)):(t.push(e),e[Oa]=null),e[xr]=t;const s=e[rm];null!==s&&t!==s&&function iY(n,e){const t=n[bf];e[ai]!==e[xr][xr][ai]&&(n[nR]=!0),null===t?n[bf]=[e]:t.push(e)}(s,e);const a=e[ul];null!==a&&a.insertView(n),e[nn]|=128}(i,e,n,t),r){const o=cC(t,n),s=e[Xt],a=C0(s,n[dl]);null!==a&&function eY(n,e,t,r,i,o){r[Kr]=i,r[mo]=e,bm(n,r,t,1,i,o)}(i,n[mo],s,e,a,o)}}let mc=(()=>{class n{static{this.__NG_ELEMENT_ID__=xte}}return n})();const Ste=mc,Dte=class extends Ste{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function Ate(n,e,t,r){const i=e.tView,a=z0(n,i,t,4096&n[nn]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[rm]=n[e.index];const c=n[ul];return null!==c&&(a[ul]=c.createEmbeddedView(i)),XC(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new Pm(i)}};function xte(){return iy(Ji(),Ve())}function iy(n,e){return 4&n.type?new Dte(e,n,$f(n,e)):null}let Ba=(()=>{class n{static{this.__NG_ELEMENT_ID__=Ote}}return n})();function Ote(){return _L(Ji(),Ve())}const Lte=Ba,gL=class extends Lte{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return $f(this._hostTNode,this._hostLView)}get injector(){return new $o(this._hostTNode,this._hostLView)}get parentInjector(){const e=l0(this._hostTNode,this._hostLView);if(zI(e)){const t=hm(e,this._hostLView),r=dm(e);return new $o(t[it].data[r+8],t)}return new $o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=mL(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Yi}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,o){const s=e&&!function pm(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const w=t||{};a=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}const l=s?e:new Mm(Tn(e)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const I=(s?c:this.parentInjector).get(aa,null);I&&(o=I)}Tn(l.componentType??{});const p=l.create(c,i,null,o);return this.insertImpl(p.hostView,a,false),p}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function DK(n){return Bo(n[xr])}(i)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=i[xr],u=new gL(c,c[mo],c[xr]);u.detach(u.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return Tte(a,i,s,!r),e.attachToViewContainerRef(),nk(TE(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=mL(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=I0(this._lContainer,t);r&&(d0(TE(this._lContainer),t),oC(r[it],r))}detach(e){const t=this._adjustIndex(e,-1),r=I0(this._lContainer,t);return r&&null!=d0(TE(this._lContainer),t)?new Pm(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function mL(n){return n[8]}function TE(n){return n[8]||(n[8]=[])}function _L(n,e){let t;const r=e[n.index];return Bo(r)?t=r:(t=KO(r,e,null,n),e[n.index]=t,$0(e,t)),vL(t,e,n,r),new gL(t,n,e)}let vL=function yL(n,e,t,r){if(n[dl])return;let i;i=8&t.type?fr(r):function Fte(n,e){const t=n[Xt],r=t.createComment(""),i=cs(e,n);return $d(t,C0(t,i),r,function lY(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[dl]=i};class SE{constructor(e){this.queryList=e,this.matches=null}clone(){return new SE(this.queryList)}setDirty(){this.queryList.setDirty()}}class DE{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new DE(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==SL(e,t).matches&&this.queries[t].setDirty()}}class bL{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class xE{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new xE(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class PE{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new PE(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,Bte(t,o)),this.matchTNodeWithReadOption(e,t,c0(t,e,o,!1,!1))}else r===mc?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,c0(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Vs||i===Ba||i===mc&&4&t.type)this.addMatch(t.index,-2);else{const o=c0(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Bte(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function zte(n,e,t,r){return-1===t?function jte(n,e){return 11&n.type?$f(n,e):4&n.type?iy(n,e):null}(e,n):-2===t?function $te(n,e,t){return t===Vs?$f(e,n):t===mc?iy(e,n):t===Ba?_L(e,n):void 0}(n,e,r):zd(n,n[it],t,e)}function wL(n,e,t,r){const i=e[ul].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:zte(e,o[c],s[l+1],t.metadata.read))}i.matches=a}return i.matches}function ME(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=wL(n,e,i,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const c=o[a+1],u=e[-l];for(let d=Yi;d<u.length;d++){const g=u[d];g[rm]===g[xr]&&ME(g[it],g,c,r)}if(null!==u[bf]){const d=u[bf];for(let g=0;g<d.length;g++){const p=d[g];ME(p[it],p,c,r)}}}}}return r}function IL(n){const e=Ve(),t=Sn(),r=OR();FI(r+1);const i=SL(t,r);if(n.dirty&&function TK(n){return 4==(4&n[nn])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?ME(t,e,r,[]):wL(t,e,i,r);n.reset(o,lZ),n.notifyOnChanges()}return!0}return!1}function CL(n,e,t,r){const i=Sn();if(i.firstCreatePass){const o=Ji();(function TL(n,e,t){null===n.queries&&(n.queries=new xE),n.queries.track(new PE(e,t))})(i,new bL(e,t,r),o.index),function Hte(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}!function AL(n,e,t){const r=new AE(4==(4&t));(function jZ(n,e,t,r){const i=YO(e);i.push(t),n.firstCreatePass&&ZO(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[ul]&&(e[ul]=new DE),e[ul].queries.push(new SE(r))}(i,Ve(),t)}function SL(n,e){return n.queries.getByIndex(e)}const ay=new st("Application Initializer");let FE=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=ut(ay,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(Lm(o))t.push(o);else if(P3(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),qL=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const _c=new st("LocaleId",{providedIn:"root",factory:()=>ut(_c,gn.Optional|gn.SkipSelf)||function pne(){return typeof $localize<"u"&&$localize.locale||op}()});let GL=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ns(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class _ne{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let HL=(()=>{class n{compileModuleSync(t){return new IE(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=pc(ks(t).declarations).reduce((s,a)=>{const l=Tn(a);return l&&s.push(new Mm(l)),s},[]);return new _ne(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const YL=new st(""),cy=new st("");let zE,BE=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,zE||(function Une(n){zE=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{On.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(ht(On),ht(jE),ht(cy))}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac})}}return n})(),jE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return zE?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Iu=null;const ZL=new st("AllowMultipleToken"),$E=new st("PlatformDestroyListeners"),qE=new st("appBootstrapListener");class XL{constructor(e,t){this.name=e,this.token=t}}function t6(n,e,t=[]){const r=`Platform: ${e}`,i=new st(r);return(o=[])=>{let s=GE();if(!s||s.injector.get(ZL,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function zne(n){if(Iu&&!Iu.get(ZL,!1))throw new qe(400,!1);(function JL(){!function fK(n){pR=n}(()=>{throw new qe(600,!1)})})(),Iu=n;const e=n.get(r6);(function e6(n){n.get(sO,null)?.forEach(t=>t())})(n)}(function n6(n=[],e){return eo.create({name:e,providers:[{provide:IC,useValue:"platform"},{provide:$E,useValue:new Set([()=>Iu=null])},...n]})}(a,r))}return function qne(n){const e=GE();if(!e)throw new qe(401,!1);return e}()}}function GE(){return Iu?.get(r6)??null}let r6=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function Gne(n="zone.js",e){return"noop"===n?new CZ:"zone.js"===n?new On(e):n}(r?.ngZone,function i6(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function tte(n,e,t){return new wE(n,e,t)}(t.moduleType,this.injector,function c6(n){return[{provide:On,useFactory:n},{provide:Em,multi:!0,useFactory:()=>{const e=ut(Wne,{optional:!0});return()=>e.initialize()}},{provide:l6,useFactory:Hne},{provide:EO,useFactory:AO}]}(()=>i)),s=o.injector.get(fc,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{uy(this._modules,o),a.unsubscribe()})}),function o6(n,e,t){try{const r=t();return Lm(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(FE);return a.runInitializers(),a.donePromise.then(()=>(function T4(n){ia(n,"Expected localeId to be defined"),"string"==typeof n&&(A4=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(_c,op)||op),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=s6({},r);return function Bne(n,e,t){const r=new IE(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(Qd);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new qe(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new qe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get($E,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(ht(eo))}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function s6(n,e){return Array.isArray(e)?e.reduce(s6,n):{...n,...e}}let Qd=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ut(l6),this.zoneIsStable=ut(EO),this.componentTypes=[],this.components=[],this.isStable=ut(GL).hasPendingTasks.pipe(os(t=>t?Lt(!1):this.zoneIsStable),function EW(n,e=du){return n=n??AW,ii((t,r)=>{let i,o=!0;t.subscribe(oi(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}(),NN()),this._injector=ut(aa)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof dO;if(!this._injector.get(FE).done)throw!i&&function gf(n){const e=Tn(n)||Qi(n)||Uo(n);return null!==e&&e.standalone}(t),new qe(405,!1);let s;s=i?t:this._injector.get(V0).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function jne(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Kd),c=s.create(eo.NULL,[],r||s.selector,a),u=c.location.nativeElement,d=c.injector.get(YL,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),uy(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new qe(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;uy(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(qE,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>uy(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new qe(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function uy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const l6=new st("",{providedIn:"root",factory:()=>ut(fc).handleError.bind(void 0)});function Hne(){const n=ut(On),e=ut(fc);return t=>n.runOutsideAngular(()=>e.handleError(t))}let Wne=(()=>{class n{constructor(){this.zone=ut(On),this.applicationRef=ut(Qd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();let dy=(()=>{class n{static{this.__NG_ELEMENT_ID__=Yne}}return n})();function Yne(n){return function Zne(n,e,t){if(Ud(n)&&!t){const r=Ls(n.index,e);return new Pm(r,r)}return 47&n.type?new Pm(e[ai],e):null}(Ji(),Ve(),16==(16&n))}class p6{constructor(){}supports(e){return W0(e)}create(e){return new nre(e)}}const tre=(n,e)=>e;class nre{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||tre}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<m6(r,i,o)?t:r,a=m6(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,u=l-i;if(c!=u){for(let g=0;g<c;g++){const p=g<o.length?o[g]:o[g]=0,y=p+g;u<=y&&y<c&&(o[g]=p+1)}o[s.previousIndex]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!W0(e))throw new qe(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function RJ(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new rre(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new g6),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new g6),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class rre{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ire{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class g6{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new ire,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function m6(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class _6{constructor(){}supports(e){return e instanceof Map||eE(e)}create(){return new ore}}class ore{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||eE(e)))throw new qe(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new sre(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class sre{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function v6(){return new py([new p6])}let py=(()=>{class n{static{this.\u0275prov=mt({token:n,providedIn:"root",factory:v6})}constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||v6()),deps:[[n,new f0,new _o]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new qe(901,!1)}}return n})();function y6(){return new Wm([new _6])}let Wm=(()=>{class n{static{this.\u0275prov=mt({token:n,providedIn:"root",factory:y6})}constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||y6()),deps:[[n,new f0,new _o]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new qe(901,!1)}}return n})();const cre=t6(null,"core",[]);let ure=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(ht(Qd))}}static{this.\u0275mod=Fo({type:n})}static{this.\u0275inj=go({})}}return n})();function lp(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let ZE=null;function Cu(){return ZE}class Ere{}const ua=new st("DocumentToken");let JE=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=mt({token:n,factory:function(){return ut(Tre)},providedIn:"platform"})}}return n})();const Are=new st("Location Initialized");let Tre=(()=>{class n extends JE{constructor(){super(),this._doc=ut(ua),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Cu().getBaseHref(this._doc)}onPopState(t){const r=Cu().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Cu().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=mt({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function XE(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function D6(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function vc(n){return n&&"?"!==n[0]?"?"+n:n}let Zd=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=mt({token:n,factory:function(){return ut(P6)},providedIn:"root"})}}return n})();const x6=new st("appBaseHref");let P6=(()=>{class n extends Zd{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ut(ua).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return XE(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+vc(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+vc(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+vc(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(ht(JE),ht(x6,8))}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Sre=(()=>{class n extends Zd{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=XE(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+vc(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+vc(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(ht(JE),ht(x6,8))}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac})}}return n})(),eA=(()=>{class n{constructor(t){this._subject=new Pr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Pre(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(D6(M6(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+vc(r))}normalize(t){return n.stripTrailingSlash(function xre(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,M6(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vc(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vc(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=vc}static{this.joinWithSlash=XE}static{this.stripTrailingSlash=D6}static{this.\u0275fac=function(r){return new(r||n)(ht(Zd))}}static{this.\u0275prov=mt({token:n,factory:function(){return function Dre(){return new eA(ht(Zd))}()},providedIn:"root"})}}return n})();function M6(n){return n.replace(/\/index.html$/,"")}var my=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(my||{}),Ho=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Ho||{}),sr=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(sr||{}),Bs=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Bs||{}),li=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(li||{});function _y(n,e){return ha(qo(n)[pr.DateFormat],e)}function vy(n,e){return ha(qo(n)[pr.TimeFormat],e)}function yy(n,e){return ha(qo(n)[pr.DateTimeFormat],e)}function da(n,e){const t=qo(n),r=t[pr.NumberSymbols][e];if(typeof r>"u"){if(e===li.CurrencyDecimal)return t[pr.NumberSymbols][li.Decimal];if(e===li.CurrencyGroup)return t[pr.NumberSymbols][li.Group]}return r}function R6(n){if(!n[pr.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[pr.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ha(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function nA(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const qre=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Km={},Gre=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var yc=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(yc||{}),Fn=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Fn||{}),Vn=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Vn||{});function Hre(n,e,t,r){let i=function tie(n){if(L6(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,o=1,s=1]=n.split("-").map(a=>+a);return by(i,o-1,s)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(qre))return function nie(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,s,a,l,c),e}(r)}const e=new Date(n);if(!L6(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=bc(t,e)||e;let a,s=[];for(;e;){if(a=Gre.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const u=s.pop();if(!u)break;e=u}}let l=i.getTimezoneOffset();r&&(l=O6(r,l),i=function eie(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function Xre(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(O6(e,i)-i))}(i,r,!0));let c="";return s.forEach(u=>{const d=function Jre(n){if(iA[n])return iA[n];let e;switch(n){case"G":case"GG":case"GGG":e=gr(Vn.Eras,sr.Abbreviated);break;case"GGGG":e=gr(Vn.Eras,sr.Wide);break;case"GGGGG":e=gr(Vn.Eras,sr.Narrow);break;case"y":e=bi(Fn.FullYear,1,0,!1,!0);break;case"yy":e=bi(Fn.FullYear,2,0,!0,!0);break;case"yyy":e=bi(Fn.FullYear,3,0,!1,!0);break;case"yyyy":e=bi(Fn.FullYear,4,0,!1,!0);break;case"Y":e=Ey(1);break;case"YY":e=Ey(2,!0);break;case"YYY":e=Ey(3);break;case"YYYY":e=Ey(4);break;case"M":case"L":e=bi(Fn.Month,1,1);break;case"MM":case"LL":e=bi(Fn.Month,2,1);break;case"MMM":e=gr(Vn.Months,sr.Abbreviated);break;case"MMMM":e=gr(Vn.Months,sr.Wide);break;case"MMMMM":e=gr(Vn.Months,sr.Narrow);break;case"LLL":e=gr(Vn.Months,sr.Abbreviated,Ho.Standalone);break;case"LLLL":e=gr(Vn.Months,sr.Wide,Ho.Standalone);break;case"LLLLL":e=gr(Vn.Months,sr.Narrow,Ho.Standalone);break;case"w":e=rA(1);break;case"ww":e=rA(2);break;case"W":e=rA(1,!0);break;case"d":e=bi(Fn.Date,1);break;case"dd":e=bi(Fn.Date,2);break;case"c":case"cc":e=bi(Fn.Day,1);break;case"ccc":e=gr(Vn.Days,sr.Abbreviated,Ho.Standalone);break;case"cccc":e=gr(Vn.Days,sr.Wide,Ho.Standalone);break;case"ccccc":e=gr(Vn.Days,sr.Narrow,Ho.Standalone);break;case"cccccc":e=gr(Vn.Days,sr.Short,Ho.Standalone);break;case"E":case"EE":case"EEE":e=gr(Vn.Days,sr.Abbreviated);break;case"EEEE":e=gr(Vn.Days,sr.Wide);break;case"EEEEE":e=gr(Vn.Days,sr.Narrow);break;case"EEEEEE":e=gr(Vn.Days,sr.Short);break;case"a":case"aa":case"aaa":e=gr(Vn.DayPeriods,sr.Abbreviated);break;case"aaaa":e=gr(Vn.DayPeriods,sr.Wide);break;case"aaaaa":e=gr(Vn.DayPeriods,sr.Narrow);break;case"b":case"bb":case"bbb":e=gr(Vn.DayPeriods,sr.Abbreviated,Ho.Standalone,!0);break;case"bbbb":e=gr(Vn.DayPeriods,sr.Wide,Ho.Standalone,!0);break;case"bbbbb":e=gr(Vn.DayPeriods,sr.Narrow,Ho.Standalone,!0);break;case"B":case"BB":case"BBB":e=gr(Vn.DayPeriods,sr.Abbreviated,Ho.Format,!0);break;case"BBBB":e=gr(Vn.DayPeriods,sr.Wide,Ho.Format,!0);break;case"BBBBB":e=gr(Vn.DayPeriods,sr.Narrow,Ho.Format,!0);break;case"h":e=bi(Fn.Hours,1,-12);break;case"hh":e=bi(Fn.Hours,2,-12);break;case"H":e=bi(Fn.Hours,1);break;case"HH":e=bi(Fn.Hours,2);break;case"m":e=bi(Fn.Minutes,1);break;case"mm":e=bi(Fn.Minutes,2);break;case"s":e=bi(Fn.Seconds,1);break;case"ss":e=bi(Fn.Seconds,2);break;case"S":e=bi(Fn.FractionalSeconds,1);break;case"SS":e=bi(Fn.FractionalSeconds,2);break;case"SSS":e=bi(Fn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Iy(yc.Short);break;case"ZZZZZ":e=Iy(yc.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Iy(yc.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Iy(yc.Long);break;default:return null}return iA[n]=e,e}(u);c+=d?d(i,t,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function by(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function bc(n,e){const t=function Nre(n){return qo(n)[pr.LocaleId]}(n);if(Km[t]=Km[t]||{},Km[t][e])return Km[t][e];let r="";switch(e){case"shortDate":r=_y(n,Bs.Short);break;case"mediumDate":r=_y(n,Bs.Medium);break;case"longDate":r=_y(n,Bs.Long);break;case"fullDate":r=_y(n,Bs.Full);break;case"shortTime":r=vy(n,Bs.Short);break;case"mediumTime":r=vy(n,Bs.Medium);break;case"longTime":r=vy(n,Bs.Long);break;case"fullTime":r=vy(n,Bs.Full);break;case"short":const i=bc(n,"shortTime"),o=bc(n,"shortDate");r=wy(yy(n,Bs.Short),[i,o]);break;case"medium":const s=bc(n,"mediumTime"),a=bc(n,"mediumDate");r=wy(yy(n,Bs.Medium),[s,a]);break;case"long":const l=bc(n,"longTime"),c=bc(n,"longDate");r=wy(yy(n,Bs.Long),[l,c]);break;case"full":const u=bc(n,"fullTime"),d=bc(n,"fullDate");r=wy(yy(n,Bs.Full),[u,d])}return r&&(Km[t][e]=r),r}function wy(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function ja(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function bi(n,e,t=0,r=!1,i=!1){return function(o,s){let a=function Kre(n,e){switch(n){case Fn.FullYear:return e.getFullYear();case Fn.Month:return e.getMonth();case Fn.Date:return e.getDate();case Fn.Hours:return e.getHours();case Fn.Minutes:return e.getMinutes();case Fn.Seconds:return e.getSeconds();case Fn.FractionalSeconds:return e.getMilliseconds();case Fn.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||a>-t)&&(a+=t),n===Fn.Hours)0===a&&-12===t&&(a=12);else if(n===Fn.FractionalSeconds)return function Wre(n,e){return ja(n,3).substring(0,e)}(a,e);const l=da(s,li.MinusSign);return ja(a,e,l,r,i)}}function gr(n,e,t=Ho.Format,r=!1){return function(i,o){return function Qre(n,e,t,r,i,o){switch(t){case Vn.Months:return function Ore(n,e,t){const r=qo(n),o=ha([r[pr.MonthsFormat],r[pr.MonthsStandalone]],e);return ha(o,t)}(e,i,r)[n.getMonth()];case Vn.Days:return function kre(n,e,t){const r=qo(n),o=ha([r[pr.DaysFormat],r[pr.DaysStandalone]],e);return ha(o,t)}(e,i,r)[n.getDay()];case Vn.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const c=function Ure(n){const e=qo(n);return R6(e),(e[pr.ExtraData][2]||[]).map(r=>"string"==typeof r?nA(r):[nA(r[0]),nA(r[1])])}(e),u=function Bre(n,e,t){const r=qo(n);R6(r);const o=ha([r[pr.ExtraData][0],r[pr.ExtraData][1]],e)||[];return ha(o,t)||[]}(e,i,r),d=c.findIndex(g=>{if(Array.isArray(g)){const[p,y]=g,w=s>=p.hours&&a>=p.minutes,I=s<y.hours||s===y.hours&&a<y.minutes;if(p.hours<y.hours){if(w&&I)return!0}else if(w||I)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(-1!==d)return u[d]}return function Rre(n,e,t){const r=qo(n),o=ha([r[pr.DayPeriodsFormat],r[pr.DayPeriodsStandalone]],e);return ha(o,t)}(e,i,r)[s<12?0:1];case Vn.Eras:return function Lre(n,e){return ha(qo(n)[pr.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,o,n,e,t,r)}}function Iy(n){return function(e,t,r){const i=-1*r,o=da(t,li.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case yc.Short:return(i>=0?"+":"")+ja(s,2,o)+ja(Math.abs(i%60),2,o);case yc.ShortGMT:return"GMT"+(i>=0?"+":"")+ja(s,1,o);case yc.Long:return"GMT"+(i>=0?"+":"")+ja(s,2,o)+":"+ja(Math.abs(i%60),2,o);case yc.Extended:return 0===r?"Z":(i>=0?"+":"")+ja(s,2,o)+":"+ja(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const Yre=0,Cy=4;function k6(n){return by(n.getFullYear(),n.getMonth(),n.getDate()+(Cy-n.getDay()))}function rA(n,e=!1){return function(t,r){let i;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{const o=k6(t),s=function Zre(n){const e=by(n,Yre,1).getDay();return by(n,0,1+(e<=Cy?Cy:Cy+7)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return ja(i,n,da(r,li.MinusSign))}}function Ey(n,e=!1){return function(t,r){return ja(k6(t).getFullYear(),n,da(r,li.MinusSign),e)}}const iA={};function O6(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function L6(n){return n instanceof Date&&!isNaN(n.valueOf())}const rie=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function lA(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}const uA=/\s+/,B6=[];let Ym=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=B6,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(uA):B6}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(uA):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(uA).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(Le(py),Le(Wm),Le(Vs),Le(hc))}}static{this.\u0275dir=Wt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();class mie{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Eu=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new mie(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),z6(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{z6(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Le(Ba),Le(mc),Le(py))}}static{this.\u0275dir=Wt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function z6(n,e){n.context.$implicit=e.item}let fa=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new _ie,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){$6("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){$6("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Le(Ba),Le(mc))}}static{this.\u0275dir=Wt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class _ie{constructor(){this.$implicit=null,this.ngIf=null}}function $6(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Di(e)}'.`)}function za(n,e){return new qe(2100,!1)}const Pie=new st("DATE_PIPE_DEFAULT_TIMEZONE"),Mie=new st("DATE_PIPE_DEFAULT_OPTIONS");let Zm=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(null==t||""===t||t!=t)return null;try{return Hre(t,r??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw za()}}static{this.\u0275fac=function(r){return new(r||n)(Le(_c,16),Le(Pie,24),Le(Mie,24))}}static{this.\u0275pipe=Vo({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),H6=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function fA(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function lie(n,e,t){return function sA(n,e,t,r,i,o,s=!1){let a="",l=!1;if(isFinite(n)){let c=function die(n){let r,i,o,s,a,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;"0"===e.charAt(o);o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);s&&(c=function uie(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(c));let u=e.minInt,d=e.minFrac,g=e.maxFrac;if(o){const R=o.match(rie);if(null===R)throw new Error(`${o} is not a valid digit info`);const F=R[1],L=R[3],J=R[5];null!=F&&(u=lA(F)),null!=L&&(d=lA(L)),null!=J?g=lA(J):null!=L&&d>g&&(g=d)}!function hie(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const o=Math.min(Math.max(e,i),t);let s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=0!==o;const c=e+n.integerLen,u=r.reduceRight(function(d,g,p,y){return y[p]=(g+=d)<10?g:g-10,l&&(0===y[p]&&p>=c?y.pop():l=!1),g>=10?1:0},0);u&&(r.unshift(u),n.integerLen++)}(c,d,g);let p=c.digits,y=c.integerLen;const w=c.exponent;let I=[];for(l=p.every(R=>!R);y<u;y++)p.unshift(0);for(;y<0;y++)p.unshift(0);y>0?I=p.splice(y,p.length):(I=p,p=[0]);const A=[];for(p.length>=e.lgSize&&A.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)A.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&A.unshift(p.join("")),a=A.join(da(t,r)),I.length&&(a+=da(t,i)+I.join("")),w&&(a+=da(t,li.Exponential)+"+"+w)}else a=da(t,li.Infinity);return a=n<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(n,function aA(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";t.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const d=l.charAt(u);"0"===d?t.minFrac=t.maxFrac=u+1:"#"===d?t.maxFrac=u+1:t.posSuf+=d}const c=a.split(",");if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const u=i.length-t.posPre.length-t.posSuf.length,d=o.indexOf("#");t.negPre=o.substring(0,d).replace(/'/g,""),t.negSuf=o.slice(d+u).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function tA(n,e){return qo(n)[pr.NumberFormats][e]}(e,my.Percent),da(e,li.MinusSign)),e,li.Group,li.Decimal,t,!0).replace(new RegExp("%","g"),da(e,li.PercentSign))}(function pA(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(o){throw za()}}static{this.\u0275fac=function(r){return new(r||n)(Le(_c,16))}}static{this.\u0275pipe=Vo({name:"percent",type:n,pure:!0,standalone:!0})}}return n})();let Bie=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fo({type:n})}static{this.\u0275inj=go({})}}return n})();const W6="browser";function K6(n){return n===W6}function Q6(n){return"server"===n}let qie=(()=>{class n{static{this.\u0275prov=mt({token:n,providedIn:"root",factory:()=>new Gie(ht(ua),window)})}}return n})();class Gie{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Hie(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class moe extends Ere{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class _A extends moe{static makeCurrent(){!function Cre(n){ZE||(ZE=n)}(new _A)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function _oe(){return Xm=Xm||document.querySelector("base"),Xm?Xm.getAttribute("href"):null}();return null==t?null:function voe(n){Dy=Dy||document.createElement("a"),Dy.setAttribute("href",n);const e=Dy.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Xm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function pie(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Dy,Xm=null,boe=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac})}}return n})();const vA=new st("EventManagerPlugins");let eF=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new qe(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(ht(vA),ht(On))}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac})}}return n})();class tF{constructor(e){this._doc=e}}const yA="ng-app-id";let nF=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Q6(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${yA}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(yA),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(yA,this.appId),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(ht(ua),ht(N0),ht(aO,8),ht(dc))}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac})}}return n})();const bA={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wA=/%COMP%/g,Eoe=new st("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function iF(n,e){return e.map(t=>t.replace(wA,n))}let oF=(()=>{class n{constructor(t,r,i,o,s,a,l,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Q6(a),this.defaultRenderer=new IA(t,s,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ra.ShadowDom&&(r={...r,encapsulation:Ra.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof aF?i.applyToHost(t):i instanceof CA&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Ra.Emulated:o=new aF(l,c,r,this.appId,u,s,a,d);break;case Ra.ShadowDom:return new Doe(l,c,t,r,s,a,this.nonce,d);default:o=new CA(l,c,r,u,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(ht(eF),ht(nF),ht(N0),ht(Eoe),ht(ua),ht(dc),ht(On),ht(aO))}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac})}}return n})();class IA{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(bA[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(sF(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(sF(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new qe(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=bA[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=bA[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(yu.DashCase|yu.Important)?e.style.setProperty(t,r,i&yu.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&yu.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=Cu().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function sF(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Doe extends IA{constructor(e,t,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=iF(i.id,i.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class CA extends IA{constructor(e,t,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?iF(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class aF extends CA{constructor(e,t,r,i,o,s,a,l){const c=i+"-"+r.id;super(e,t,r,o,s,a,l,c),this.contentAttr=function Aoe(n){return"_ngcontent-%COMP%".replace(wA,n)}(c),this.hostAttr=function Toe(n){return"_nghost-%COMP%".replace(wA,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let xoe=(()=>{class n extends tF{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(ht(ua))}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac})}}return n})();const lF=["alt","control","meta","shift"],Poe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Moe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Noe=(()=>{class n extends tF{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cu().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),lF.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=Poe[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),lF.forEach(s=>{s!==i&&(0,Moe[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(ht(ua))}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac})}}return n})();const uF=[{provide:dc,useValue:W6},{provide:sO,useValue:function Roe(){_A.makeCurrent()},multi:!0},{provide:ua,useFactory:function Ooe(){return function mY(n){hC=n}(document),document},deps:[]}],Loe=t6(cre,"browser",uF),Foe=new st(""),dF=[{provide:cy,useClass:class yoe{addToWindow(e){hr.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new qe(5103,!1);return o},hr.getAllAngularTestabilities=()=>e.getAllTestabilities(),hr.getAllAngularRootElements=()=>e.getAllRootElements(),hr.frameworkStabilizers||(hr.frameworkStabilizers=[]),hr.frameworkStabilizers.push(r=>{const i=hr.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Cu().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:YL,useClass:BE,deps:[On,jE,cy]},{provide:BE,useClass:BE,deps:[On,jE,cy]}],hF=[{provide:IC,useValue:"root"},{provide:fc,useFactory:function koe(){return new fc},deps:[]},{provide:vA,useClass:xoe,multi:!0,deps:[ua,On,dc]},{provide:vA,useClass:Noe,multi:!0,deps:[ua]},oF,nF,eF,{provide:fO,useExisting:oF},{provide:class Wie{},useClass:boe,deps:[]},[]];let Voe=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:N0,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(ht(Foe,12))}}static{this.\u0275mod=Fo({type:n})}static{this.\u0275inj=go({providers:[...hF,...dF],imports:[Bie,ure]})}}return n})(),fF=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(ht(ua))}}static{this.\u0275prov=mt({token:n,factory:function(r){let i=null;return i=r?new r:function Boe(){return new fF(ht(ua))}(),i},providedIn:"root"})}}return n})();typeof window<"u"&&window;const{isArray:Hoe}=Array,{getPrototypeOf:Woe,prototype:Koe,keys:Qoe}=Object;function _F(n){if(1===n.length){const e=n[0];if(Hoe(e))return{args:e,keys:null};if(function Yoe(n){return n&&"object"==typeof n&&Woe(n)===Koe}(e)){const t=Qoe(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Zoe}=Array;function AA(n){return cn(e=>function Joe(n,e){return Zoe(e)?n(...e):n(e)}(n,e))}function vF(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function xy(...n){const e=Yg(n),t=PN(n),{args:r,keys:i}=_F(n);if(0===r.length)return Si([],e);const o=new or(function Xoe(n,e,t=du){return r=>{yF(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)yF(e,()=>{const c=Si(n[l],e);let u=!1;c.subscribe(oi(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>vF(i,s):du));return t?o.pipe(AA(t)):o}function yF(n,e,t){n?ic(t,n,e):e()}const e_=Qg(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function t_(...n){return function ese(){return ff(1)}()(Si(n,Yg(n)))}function Py(n){return new or(e=>{po(n()).subscribe(e)})}function up(n,e){const t=fn(n)?n:()=>n,r=i=>i.error(t());return new or(e?i=>e.schedule(r,0,i):r)}function TA(){return ii((n,e)=>{let t=null;n._refCount++;const r=oi(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class SA extends or{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,gN(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fi;const t=this.getSubject();e.add(this.source.subscribe(oi(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fi.EMPTY)}return e}refCount(){return TA()(this)}}function ps(n){return n<=0?()=>ll:ii((e,t)=>{let r=0;e.subscribe(oi(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function gs(n,e){return ii((t,r)=>{let i=0;t.subscribe(oi(r,o=>n.call(e,o,i++)&&r.next(o)))})}function My(n){return ii((e,t)=>{let r=!1;e.subscribe(oi(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function bF(n=nse){return ii((e,t)=>{let r=!1;e.subscribe(oi(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function nse(){return new e_}function Jd(n,e){const t=arguments.length>=2;return r=>r.pipe(n?gs((i,o)=>n(i,o,r)):du,ps(1),t?My(e):bF(()=>new e_))}function n_(n,e){return fn(e)?Ti(n,e,1):Ti(n,1)}function Vi(n,e,t){const r=fn(n)||e||t?{next:n,error:e,complete:t}:n;return r?ii((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(oi(o,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),o.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):du}function Xd(n){return ii((e,t)=>{let o,r=null,i=!1;r=e.subscribe(oi(t,void 0,void 0,s=>{o=po(n(s,Xd(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function DA(n){return n<=0?()=>ll:ii((e,t)=>{let r=[];e.subscribe(oi(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function wF(n){return cn(()=>n)}function xA(n){return ii((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const sn="primary",r_=Symbol("RouteTitle");class ase{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function dp(n){return new ase(n)}function lse(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function yl(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!IF(n[i],e[i]))return!1;return!0}function IF(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function CF(n){return n.length>0?n[n.length-1]:null}function Tu(n){return function Goe(n){return!!n&&(n instanceof or||fn(n.lift)&&fn(n.subscribe))}(n)?n:Lm(n)?Si(Promise.resolve(n)):Lt(n)}const use={exact:function TF(n,e,t){if(!eh(n.segments,e.segments)||!Ny(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!TF(n.children[r],e.children[r],t))return!1;return!0},subset:SF},EF={exact:function dse(n,e){return yl(n,e)},subset:function hse(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>IF(n[t],e[t]))},ignored:()=>!0};function AF(n,e,t){return use[t.paths](n.root,e.root,t.matrixParams)&&EF[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function SF(n,e,t){return DF(n,e,e.segments,t)}function DF(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!eh(i,t)||e.hasChildren()||!Ny(i,t,r))}if(n.segments.length===t.length){if(!eh(n.segments,t)||!Ny(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!SF(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(eh(n.segments,i)&&Ny(n.segments,i,r)&&n.children[sn])&&DF(n.children[sn],e,o,r)}}function Ny(n,e,t){return e.every((r,i)=>EF[t](n[i].parameters,r.parameters))}class hp{constructor(e=new Wn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dp(this.queryParams)),this._queryParamMap}toString(){return gse.serialize(this)}}class Wn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ry(this)}}class i_{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=dp(this.parameters)),this._parameterMap}toString(){return MF(this)}}function eh(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let o_=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=mt({token:n,factory:function(){return new PA},providedIn:"root"})}}return n})();class PA{parse(e){const t=new Tse(e);return new hp(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${s_(e.root,!0)}`,r=function vse(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${ky(t)}=${ky(i)}`).join("&"):`${ky(t)}=${ky(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function mse(n){return encodeURI(n)}(e.fragment)}`:""}`}}const gse=new PA;function Ry(n){return n.segments.map(e=>MF(e)).join("/")}function s_(n,e){if(!n.hasChildren())return Ry(n);if(e){const t=n.children[sn]?s_(n.children[sn],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==sn&&r.push(`${i}:${s_(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function pse(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===sn&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==sn&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===sn?[s_(n.children[sn],!1)]:[`${i}:${s_(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[sn]?`${Ry(n)}/${t[0]}`:`${Ry(n)}/(${t.join("//")})`}}function xF(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ky(n){return xF(n).replace(/%3B/gi,";")}function MA(n){return xF(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Oy(n){return decodeURIComponent(n)}function PF(n){return Oy(n.replace(/\+/g,"%20"))}function MF(n){return`${MA(n.path)}${function _se(n){return Object.keys(n).map(e=>`;${MA(e)}=${MA(n[e])}`).join("")}(n.parameters)}`}const yse=/^[^\/()?;#]+/;function NA(n){const e=n.match(yse);return e?e[0]:""}const bse=/^[^\/()?;=#]+/,Ise=/^[^=?&#]+/,Ese=/^[^&#]+/;class Tse{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wn([],{}):new Wn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[sn]=new Wn(e,t)),r}parseSegment(){const e=NA(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new qe(4009,!1);return this.capture(e),new i_(Oy(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function wse(n){const e=n.match(bse);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=NA(this.remaining);i&&(r=i,this.capture(r))}e[Oy(t)]=Oy(r)}parseQueryParam(e){const t=function Cse(n){const e=n.match(Ise);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function Ase(n){const e=n.match(Ese);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=PF(t),o=PF(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=NA(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new qe(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=sn);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[sn]:new Wn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new qe(4011,!1)}}function NF(n){return n.segments.length>0?new Wn([],{[sn]:n}):n}function RF(n){const e={};for(const r of Object.keys(n.children)){const o=RF(n.children[r]);if(r===sn&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function Sse(n){if(1===n.numberOfChildren&&n.children[sn]){const e=n.children[sn];return new Wn(n.segments.concat(e.segments),e.children)}return n}(new Wn(n.segments,e))}function th(n){return n instanceof hp}function kF(n){let e;const i=NF(function t(o){const s={};for(const l of o.children){const c=t(l);s[l.outlet]=c}const a=new Wn(o.url,s);return o===n&&(e=a),a}(n.root));return e??i}function OF(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return RA(i,i,i,t,r);const o=function xse(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new FF(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new FF(t,e,r)}(e);if(o.toRoot())return RA(i,i,new Wn([],{}),t,r);const s=function Pse(n,e,t){if(n.isAbsolute)return new Fy(e,!0,0);if(!t)return new Fy(e,!1,NaN);if(null===t.parent)return new Fy(t,!0,0);const r=Ly(n.commands[0])?0:1;return function Mse(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new qe(4005,!1);i=r.segments.length}return new Fy(r,!1,i-o)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(o,i,n),a=s.processChildren?l_(s.segmentGroup,s.index,o.commands):VF(s.segmentGroup,s.index,o.commands);return RA(i,s.segmentGroup,a,t,r)}function Ly(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function a_(n){return"object"==typeof n&&null!=n&&n.outlets}function RA(n,e,t,r,i){let s,o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),s=n===e?t:LF(n,e,t);const a=NF(RF(s));return new hp(a,o,i)}function LF(n,e,t){const r={};return Object.entries(n.children).forEach(([i,o])=>{r[i]=o===e?t:LF(o,e,t)}),new Wn(n.segments,r)}class FF{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ly(r[0]))throw new qe(4003,!1);const i=r.find(a_);if(i&&i!==CF(r))throw new qe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fy{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function VF(n,e,t){if(n||(n=new Wn([],{})),0===n.segments.length&&n.hasChildren())return l_(n,e,t);const r=function Rse(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(a_(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!BF(l,c,s))return o;r+=2}else{if(!BF(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new Wn(n.segments.slice(0,r.pathIndex),{});return o.children[sn]=new Wn(n.segments.slice(r.pathIndex),n.children),l_(o,0,i)}return r.match&&0===i.length?new Wn(n.segments,{}):r.match&&!n.hasChildren()?kA(n,e,t):r.match?l_(n,0,i):kA(n,e,t)}function l_(n,e,t){if(0===t.length)return new Wn(n.segments,{});{const r=function Nse(n){return a_(n[0])?n[0].outlets:{[sn]:n}}(t),i={};if(Object.keys(r).some(o=>o!==sn)&&n.children[sn]&&1===n.numberOfChildren&&0===n.children[sn].segments.length){const o=l_(n.children[sn],e,t);return new Wn(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=VF(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Wn(n.segments,i)}}function kA(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(a_(o)){const l=kse(o.outlets);return new Wn(r,l)}if(0===i&&Ly(t[0])){r.push(new i_(n.segments[e].path,UF(t[0]))),i++;continue}const s=a_(o)?o.outlets[sn]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Ly(a)?(r.push(new i_(s,UF(a))),i+=2):(r.push(new i_(s,{})),i++)}return new Wn(r,{})}function kse(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=kA(new Wn([],{}),0,r))}),e}function UF(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function BF(n,e,t){return n==t.path&&yl(e,t.parameters)}const c_="imperative";class bl{constructor(e,t){this.id=e,this.url=t}}class Vy extends bl{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Su extends bl{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class u_ extends bl{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fp extends bl{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Uy extends bl{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jF extends bl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ose extends bl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lse extends bl{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fse extends bl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vse extends bl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Use{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bse{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jse{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zse{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $se{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qse{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zF{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class OA{}class LA{constructor(e){this.url=e}}class Gse{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new d_,this.attachRef=null}}let d_=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Gse,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class $F{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=FA(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=FA(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=VA(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return VA(e,this._root).map(t=>t.value)}}function FA(n,e){if(n===e.value)return e;for(const t of e.children){const r=FA(n,t);if(r)return r}return null}function VA(n,e){if(n===e.value)return[e];for(const t of e.children){const r=VA(n,t);if(r.length)return r.unshift(e),r}return[]}class wc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function pp(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class qF extends $F{constructor(e,t){super(e),this.snapshot=t,UA(this,e)}toString(){return this.snapshot.toString()}}function GF(n,e){const t=function Hse(n,e){const s=new By([],{},{},"",{},sn,e,null,{});return new WF("",new wc(s,[]))}(0,e),r=new Ns([new i_("",{})]),i=new Ns({}),o=new Ns({}),s=new Ns({}),a=new Ns(""),l=new gp(r,i,s,a,o,sn,e,t.root);return l.snapshot=t.root,new qF(new wc(l,[]),t)}class gp{constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(cn(c=>c[r_]))??Lt(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(cn(e=>dp(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(cn(e=>dp(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function HF(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Wse(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class By{get title(){return this.data?.[r_]}constructor(e,t,r,i,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=dp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class WF extends $F{constructor(e,t){super(t),this.url=e,UA(this,t)}toString(){return KF(this._root)}}function UA(n,e){e.value._routerState=n,e.children.forEach(t=>UA(n,t))}function KF(n){const e=n.children.length>0?` { ${n.children.map(KF).join(", ")} } `:"";return`${n.value}${e}`}function BA(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,yl(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),yl(e.params,t.params)||n.paramsSubject.next(t.params),function cse(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!yl(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),yl(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function jA(n,e){const t=yl(n.params,e.params)&&function fse(n,e){return eh(n,e)&&n.every((t,r)=>yl(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||jA(n.parent,e.parent))}let zA=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=sn,this.activateEvents=new Pr,this.deactivateEvents=new Pr,this.attachEvents=new Pr,this.detachEvents=new Pr,this.parentContexts=ut(d_),this.location=ut(Ba),this.changeDetector=ut(dy),this.environmentInjector=ut(aa),this.inputBinder=ut(jy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new qe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new qe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new qe(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new qe(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Kse(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Wt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Os]})}}return n})();class Kse{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===gp?this.route:e===d_?this.childContexts:this.parent.get(e,t)}}const jy=new st("");let QF=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=xy([r.queryParams,r.params,r.data]).pipe(os(([o,s,a],l)=>(a={...o,...s,...a},0===l?Lt(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function Ire(n){const e=Tn(n);if(!e)return null;const t=new Mm(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac})}}return n})();function h_(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Yse(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return h_(n,r,i);return h_(n,r)})}(n,e,t);return new wc(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>h_(n,a)),s}}const r=function Zse(n){return new gp(new Ns(n.url),new Ns(n.params),new Ns(n.queryParams),new Ns(n.fragment),new Ns(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>h_(n,o));return new wc(r,i)}}const $A="ngNavigationCancelingError";function YF(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=th(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ZF(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function ZF(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[$A]=!0,r.cancellationCode=e,t&&(r.url=t),r}function JF(n){return n&&n[$A]}let XF=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=as({type:n,selectors:[["ng-component"]],standalone:!0,features:[X4],decls:1,vars:0,template:function(r,i){1&r&&se(0,"router-outlet")},dependencies:[zA],encapsulation:2})}}return n})();function qA(n){const e=n.children&&n.children.map(qA),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==sn&&(t.component=XF),t}function $a(n){return n.outlet||sn}function f_(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class oae{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),BA(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=pp(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=pp(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=pp(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=pp(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new qse(o.value.snapshot))}),e.children.length&&this.forwardEvent(new zse(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(BA(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),BA(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=f_(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class e8{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class zy{constructor(e,t){this.component=e,this.route=t}}function sae(n,e,t){const r=n._root;return p_(r,e?e._root:null,t,[r.value])}function mp(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function NW(n){return null!==zv(n)}(n)?e.get(n):n:r}function p_(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=pp(e);return n.children.forEach(s=>{(function lae(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function cae(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!eh(n.url,e.url);case"pathParamsOrQueryParamsChange":return!eh(n.url,e.url)||!yl(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jA(n,e)||!yl(n.queryParams,e.queryParams);default:return!jA(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new e8(r)):(o.data=s.data,o._resolvedData=s._resolvedData),p_(n,e,o.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new zy(a.outlet.component,s))}else s&&g_(e,a,i),i.canActivateChecks.push(new e8(r)),p_(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>g_(a,t.getContext(s),i)),i}function g_(n,e,t){const r=pp(n),i=n.value;Object.entries(r).forEach(([o,s])=>{g_(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new zy(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function m_(n){return"function"==typeof n}function t8(n){return n instanceof e_||"EmptyError"===n?.name}const $y=Symbol("INITIAL_VALUE");function _p(){return os(n=>xy(n.map(e=>e.pipe(ps(1),function tse(...n){const e=Yg(n);return ii((t,r)=>{(e?t_(n,t,e):t_(n,t)).subscribe(r)})}($y)))).pipe(cn(e=>{for(const t of e)if(!0!==t){if(t===$y)return $y;if(!1===t||t instanceof hp)return t}return!0}),gs(e=>e!==$y),ps(1)))}function n8(n){return function NH(...n){return hN(n)}(Vi(e=>{if(th(e))throw YF(0,e)}),cn(e=>!0===e))}class qy{constructor(e){this.segmentGroup=e||null}}class r8{constructor(e){this.urlTree=e}}function vp(n){return up(new qy(n))}function i8(n){return up(new r8(n))}class xae{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new qe(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Lt(r);if(i.numberOfChildren>1||!i.children[sn])return up(new qe(4e3,!1));i=i.children[sn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new hp(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Wn(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new qe(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const GA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Pae(n,e,t,r,i){const o=HA(n,e,t);return o.matched?(r=function Xse(n,e){return n.providers&&!n._injector&&(n._injector=CE(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function Tae(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Lt(i.map(s=>{const a=mp(s,n);return Tu(function gae(n){return n&&m_(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(_p(),n8()):Lt(!0)}(r,e,t).pipe(cn(s=>!0===s?o:{...GA}))):Lt(o)}function HA(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...GA}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||lse)(t,n,e);if(!i)return{...GA};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function o8(n,e,t,r){return t.length>0&&function Rae(n,e,t){return t.some(r=>Gy(n,e,r)&&$a(r)!==sn)}(n,t,r)?{segmentGroup:new Wn(e,Nae(r,new Wn(t,n.children))),slicedSegments:[]}:0===t.length&&function kae(n,e,t){return t.some(r=>Gy(n,e,r))}(n,t,r)?{segmentGroup:new Wn(n.segments,Mae(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Wn(n.segments,n.children),slicedSegments:t}}function Mae(n,e,t,r,i){const o={};for(const s of r)if(Gy(n,t,s)&&!i[$a(s)]){const a=new Wn([],{});o[$a(s)]=a}return{...i,...o}}function Nae(n,e){const t={};t[sn]=e;for(const r of n)if(""===r.path&&$a(r)!==sn){const i=new Wn([],{});t[$a(r)]=i}return t}function Gy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class Vae{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new xae(this.urlSerializer,this.urlTree)}noMatchError(e){return new qe(4002,!1)}recognize(){const e=o8(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,sn).pipe(Xd(t=>{if(t instanceof r8)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof qy?this.noMatchError(t):t}),cn(t=>{const r=new By([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},sn,this.rootComponentType,null,{}),i=new wc(r,t),o=new WF("",i),s=function Dse(n,e,t=null,r=null){return OF(kF(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,sn).pipe(Xd(r=>{throw r instanceof qy?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=HF(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Si(i).pipe(n_(o=>{const s=r.children[o],a=function rae(n,e){const t=n.filter(r=>$a(r)===e);return t.push(...n.filter(r=>$a(r)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),function ise(n,e){return ii(function rse(n,e,t,r,i){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(oi(s,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(n,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),My(null),function ose(n,e){const t=arguments.length>=2;return r=>r.pipe(n?gs((i,o)=>n(i,o,r)):du,DA(1),t?My(e):bF(()=>new e_))}(),Ti(o=>{if(null===o)return vp(r);const s=s8(o);return function Uae(n){n.sort((e,t)=>e.value.outlet===sn?-1:t.value.outlet===sn?1:e.value.outlet.localeCompare(t.value.outlet))}(s),Lt(s)}))}processSegment(e,t,r,i,o,s){return Si(t).pipe(n_(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,o,s).pipe(Xd(l=>{if(l instanceof qy)return Lt(null);throw l}))),Jd(a=>!!a),Xd(a=>{if(t8(a))return function Lae(n,e,t){return 0===e.length&&!n.children[t]}(r,i,o)?Lt([]):vp(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,o,s,a){return function Oae(n,e,t,r){return!!($a(n)===r||r!==sn&&Gy(e,t,n))&&("**"===n.path||HA(e,n,t).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s):vp(i):vp(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?i8(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Ti(s=>{const a=new Wn(s,{});return this.processSegment(e,t,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=HA(t,i,o);if(!a)return vp(t);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?i8(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Ti(g=>this.processSegment(e,r,t,g.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a;if("**"===r.path){const l=i.length>0?CF(i).parameters:{};a=Lt({snapshot:new By(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,a8(r),$a(r),r.component??r._loadedComponent??null,r,l8(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=Pae(t,r,i,e).pipe(cn(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new By(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,a8(r),$a(r),r.component??r._loadedComponent??null,r,l8(r)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(os(l=>null===l?vp(t):this.getChildConfig(e=r._injector??e,r,i).pipe(os(({routes:c})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:g,remainingSegments:p}=l,{segmentGroup:y,slicedSegments:w}=o8(t,g,p,c);if(0===w.length&&y.hasChildren())return this.processChildren(u,c,y).pipe(cn(A=>null===A?null:[new wc(d,A)]));if(0===c.length&&0===w.length)return Lt([new wc(d,[])]);const I=$a(r)===o;return this.processSegment(u,c,y,w,I?sn:o,!0).pipe(cn(A=>[new wc(d,A)]))}))))}getChildConfig(e,t,r){return t.children?Lt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Lt({routes:t._loadedRoutes,injector:t._loadedInjector}):function Aae(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Lt(!0):Lt(i.map(s=>{const a=mp(s,n);return Tu(function dae(n){return n&&m_(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(_p(),n8())}(e,t,r).pipe(Ti(i=>i?this.configLoader.loadChildren(e,t).pipe(Vi(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function Dae(n){return up(ZF(!1,3))}())):Lt({routes:[],injector:e})}}function Bae(n){const e=n.value.routeConfig;return e&&""===e.path}function s8(n){const e=[],t=new Set;for(const r of n){if(!Bae(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=s8(r.children);e.push(new wc(r.value,i))}return e.filter(r=>!t.has(r))}function a8(n){return n.data||{}}function l8(n){return n.resolve||{}}function c8(n){return"string"==typeof n.title||null===n.title}function WA(n){return os(e=>{const t=n(e);return t?Si(t).pipe(cn(()=>e)):Lt(e)})}const yp=new st("ROUTES");let KA=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ut(HL)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Lt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Tu(t.loadComponent()).pipe(cn(u8),Vi(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),xA(()=>{this.componentLoaders.delete(t)})),i=new SA(r,()=>new is).pipe(TA());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Lt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function Wae(n,e,t,r){return Tu(n.loadChildren()).pipe(cn(u8),Ti(i=>i instanceof Z4||Array.isArray(i)?Lt(i):Si(e.compileModuleAsync(i))),cn(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(yp,[],{optional:!0,self:!0}).flat()),{routes:s.map(qA),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(xA(()=>{this.childrenLoaders.delete(r)})),s=new SA(o,()=>new is).pipe(TA());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function u8(n){return function Kae(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Hy=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new is,this.transitionAbortSubject=new is,this.configLoader=ut(KA),this.environmentInjector=ut(aa),this.urlSerializer=ut(o_),this.rootContexts=ut(d_),this.inputBindingEnabled=null!==ut(jy,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Lt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Bse(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Use(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new Ns({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:c_,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(gs(o=>0!==o.id),cn(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),os(o=>{this.currentTransition=o;let s=!1,a=!1;return Lt(o).pipe(Vi(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),os(l=>{const c=l.currentBrowserUrl.toString(),u=!t.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const g="";return this.events.next(new fp(l.id,this.urlSerializer.serialize(l.rawUrl),g,0)),l.resolve(null),ll}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Lt(l).pipe(os(g=>{const p=this.transitions?.getValue();return this.events.next(new Vy(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),p!==this.transitions?.getValue()?ll:Promise.resolve(g)}),function jae(n,e,t,r,i,o){return Ti(s=>function Fae(n,e,t,r,i,o,s="emptyOnly"){return new Vae(n,e,t,r,i,s,o).recognize()}(n,e,t,r,s.extractedUrl,i,o).pipe(cn(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Vi(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const p=new jF(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(p)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:g,extractedUrl:p,source:y,restoredState:w,extras:I}=l,A=new Vy(g,this.urlSerializer.serialize(p),y,w);this.events.next(A);const R=GF(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:R,urlAfterRedirects:p,extras:{...I,skipLocationChange:!1,replaceUrl:!1}},Lt(o)}{const g="";return this.events.next(new fp(l.id,this.urlSerializer.serialize(l.extractedUrl),g,1)),l.resolve(null),ll}}),Vi(l=>{const c=new Ose(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),cn(l=>(this.currentTransition=o={...l,guards:sae(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function _ae(n,e){return Ti(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?Lt({...t,guardsResult:!0}):function vae(n,e,t,r){return Si(n).pipe(Ti(i=>function Eae(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Lt(o.map(a=>{const l=f_(e)??i,c=mp(a,l);return Tu(function pae(n){return n&&m_(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):l.runInContext(()=>c(n,e,t,r))).pipe(Jd())})).pipe(_p()):Lt(!0)}(i.component,i.route,t,e,r)),Jd(i=>!0!==i,!0))}(s,r,i,n).pipe(Ti(a=>a&&function uae(n){return"boolean"==typeof n}(a)?function yae(n,e,t,r){return Si(e).pipe(n_(i=>t_(function wae(n,e){return null!==n&&e&&e(new jse(n)),Lt(!0)}(i.route.parent,r),function bae(n,e){return null!==n&&e&&e(new $se(n)),Lt(!0)}(i.route,r),function Cae(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function aae(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>Py(()=>Lt(s.guards.map(l=>{const c=f_(s.node)??t,u=mp(l,c);return Tu(function fae(n){return n&&m_(n.canActivateChild)}(u)?u.canActivateChild(r,n):c.runInContext(()=>u(r,n))).pipe(Jd())})).pipe(_p())));return Lt(o).pipe(_p())}(n,i.path,t),function Iae(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Lt(!0);const i=r.map(o=>Py(()=>{const s=f_(e)??t,a=mp(o,s);return Tu(function hae(n){return n&&m_(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Jd())}));return Lt(i).pipe(_p())}(n,i.route,t))),Jd(i=>!0!==i,!0))}(r,o,n,e):Lt(a)),cn(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Vi(l=>{if(o.guardsResult=l.guardsResult,th(l.guardsResult))throw YF(0,l.guardsResult);const c=new Lse(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),gs(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),WA(l=>{if(l.guards.canActivateChecks.length)return Lt(l).pipe(Vi(c=>{const u=new Fse(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),os(c=>{let u=!1;return Lt(c).pipe(function zae(n,e){return Ti(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Lt(t);let o=0;return Si(i).pipe(n_(s=>function $ae(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!c8(i)&&(o[r_]=i.title),function qae(n,e,t,r){const i=function Gae(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Lt({});const o={};return Si(i).pipe(Ti(s=>function Hae(n,e,t,r){const i=f_(e)??r,o=mp(n,i);return Tu(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[s],e,t,r).pipe(Jd(),Vi(a=>{o[s]=a}))),DA(1),wF(o),Xd(s=>t8(s)?ll:up(s)))}(o,n,e,r).pipe(cn(s=>(n._resolvedData=s,n.data=HF(n,t).resolve,i&&c8(i)&&(n.data[r_]=i.title),null)))}(s.route,r,n,e)),Vi(()=>o++),DA(1),Ti(s=>o===i.length?Lt(t):ll))})}(t.paramsInheritanceStrategy,this.environmentInjector),Vi({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),Vi(c=>{const u=new Vse(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),WA(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Vi(g=>{u.component=g}),cn(()=>{})));for(const g of u.children)d.push(...c(g));return d};return xy(c(l.targetSnapshot.root)).pipe(My(),ps(1))}),WA(()=>this.afterPreactivation()),cn(l=>{const c=function Qse(n,e,t){const r=h_(n,e._root,t?t._root:void 0);return new qF(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:c},o}),Vi(()=>{this.events.next(new OA)}),((n,e,t,r)=>cn(i=>(new oae(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ps(1),Vi({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Su(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),function sse(n){return ii((e,t)=>{po(n).subscribe(oi(t,()=>t.complete(),Ld)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(Vi(l=>{throw l}))),xA(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Xd(l=>{if(a=!0,JF(l))this.events.next(new u_(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function Jse(n){return JF(n)&&th(n.url)}(l)?this.events.next(new LA(l.url)):o.resolve(!1);else{this.events.next(new Uy(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(l))}catch(c){o.reject(c)}}return ll}))}))}cancelNavigationTransition(t,r,i){const o=new u_(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function d8(n){return n!==c_}let h8=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===sn);return r}getResolvedTitleForRoute(t){return t.data[r_]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=mt({token:n,factory:function(){return ut(Qae)},providedIn:"root"})}}return n})(),Qae=(()=>{class n extends h8{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(ht(fF))}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Yae=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=mt({token:n,factory:function(){return ut(Jae)},providedIn:"root"})}}return n})();class Zae{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Jae=(()=>{class n extends Zae{static{this.\u0275fac=function(){let t;return function(i){return(t||(t=Xi(n)))(i||n)}}()}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Wy=new st("",{providedIn:"root",factory:()=>({})});let Xae=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=mt({token:n,factory:function(){return ut(ele)},providedIn:"root"})}}return n})(),ele=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var __=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(__||{});function f8(n,e){n.events.pipe(gs(t=>t instanceof Su||t instanceof u_||t instanceof Uy||t instanceof fp),cn(t=>t instanceof Su||t instanceof fp?__.COMPLETE:t instanceof u_&&(0===t.code||1===t.code)?__.REDIRECTING:__.FAILED),gs(t=>t!==__.REDIRECTING),ps(1)).subscribe(()=>{e()})}function tle(n){throw n}function nle(n,e,t){return e.parse("/")}const rle={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ile={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ut(qL),this.isNgZoneEnabled=!1,this._events=new is,this.options=ut(Wy,{optional:!0})||{},this.pendingTasks=ut(GL),this.errorHandler=this.options.errorHandler||tle,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||nle,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ut(Xae),this.routeReuseStrategy=ut(Yae),this.titleStrategy=ut(h8),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ut(yp,{optional:!0})?.flat()??[],this.navigationTransitions=ut(Hy),this.urlSerializer=ut(o_),this.location=ut(eA),this.componentInputBindingEnabled=!!ut(jy,{optional:!0}),this.eventsSubscription=new Fi,this.isNgZoneEnabled=ut(On)instanceof On&&On.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new hp,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=GF(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(p8(r)&&this._events.next(r));if(r instanceof Vy)d8(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof fp)this.rawUrlTree=i.rawUrl;else if(r instanceof jF){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof OA)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof u_)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof LA){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||d8(i.source)};this.scheduleNavigation(o,c_,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Uy&&this.restoreHistory(i,!0),r instanceof Su&&(this.navigated=!0),p8(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),c_,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(qA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=kF(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return OF(d,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=th(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,c_,null,r)}navigate(t,r={skipLocationChange:!1}){return function ole(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new qe(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...rle}:!1===r?{...ile}:r,th(t))return AF(this.currentUrlTree,t,i);const o=this.parseUrl(t);return AF(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,g)=>{a=d,l=g});const u=this.pendingTasks.add();return f8(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function p8(n){return!(n instanceof OA||n instanceof LA)}let bp=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new is,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof Su&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function Jk(n,e,t){return function VY(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?Zk:Yk}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(Le(bo),Le(gp),function u0(n){return function iQ(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(qN(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(Ji(),n)}("tabindex"),Le(hc),Le(Vs),Le(Zd))}}static{this.\u0275dir=Wt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&De("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Qr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",lp],skipLocationChange:["skipLocationChange","skipLocationChange",lp],replaceUrl:["replaceUrl","replaceUrl",lp],routerLink:"routerLink"},standalone:!0,features:[h3,Os]})}}return n})(),QA=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Pr,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Su&&this.update()})}ngAfterContentInit(){Lt(this.links.changes,Lt(null)).pipe(ff()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Si(t).pipe(ff()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function sle(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(Le(bo),Le(Vs),Le(hc),Le(dy),Le(bp,8))}}static{this.\u0275dir=Wt({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(1&r&&CL(o,bp,5),2&r){let s;IL(s=function EL(){return function Gte(n,e){return n[ul].queries[e].queryList}(Ve(),OR())}())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Os]})}}return n})();class g8{}let ale=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(gs(t=>t instanceof Su),n_(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=CE(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Si(i).pipe(ff())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Lt(null);const o=i.pipe(Ti(s=>null===s?Lt(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?Si([o,this.loader.loadComponent(r)]).pipe(ff()):o})}static{this.\u0275fac=function(r){return new(r||n)(ht(bo),ht(HL),ht(aa),ht(g8),ht(KA))}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const YA=new st("");let m8=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Vy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Su?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof fp&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof zF&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new zF(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function UO(){throw new Error("invalid")}()}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac})}}return n})();function Ic(n,e){return{\u0275kind:n,\u0275providers:e}}function v8(){const n=ut(eo);return e=>{const t=n.get(Qd);if(e!==t.components[0])return;const r=n.get(bo),i=n.get(y8);1===n.get(ZA)&&r.initialNavigation(),n.get(b8,null,gn.Optional)?.setUpPreloading(),n.get(YA,null,gn.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const y8=new st("",{factory:()=>new is}),ZA=new st("",{providedIn:"root",factory:()=>1}),b8=new st("");function dle(n){return Ic(0,[{provide:b8,useExisting:ale},{provide:g8,useExisting:n}])}const w8=new st("ROUTER_FORROOT_GUARD"),fle=[eA,{provide:o_,useClass:PA},bo,d_,{provide:gp,useFactory:function _8(n){return n.routerState.root},deps:[bo]},KA,[]];function ple(){return new XL("Router",bo)}let I8=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[fle,[],{provide:yp,multi:!0,useValue:t},{provide:w8,useFactory:vle,deps:[[bo,new _o,new f0]]},{provide:Wy,useValue:r||{}},r?.useHash?{provide:Zd,useClass:Sre}:{provide:Zd,useClass:P6},{provide:YA,useFactory:()=>{const n=ut(qie),e=ut(On),t=ut(Wy),r=ut(Hy),i=ut(o_);return t.scrollOffset&&n.setOffset(t.scrollOffset),new m8(i,r,n,e,t)}},r?.preloadingStrategy?dle(r.preloadingStrategy).\u0275providers:[],{provide:XL,multi:!0,useFactory:ple},r?.initialNavigation?yle(r):[],r?.bindToComponentInputs?Ic(8,[QF,{provide:jy,useExisting:QF}]).\u0275providers:[],[{provide:C8,useFactory:v8},{provide:qE,multi:!0,useExisting:C8}]]}}static forChild(t){return{ngModule:n,providers:[{provide:yp,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(ht(w8,8))}}static{this.\u0275mod=Fo({type:n})}static{this.\u0275inj=go({})}}return n})();function vle(n){return"guarded"}function yle(n){return["disabled"===n.initialNavigation?Ic(3,[{provide:ay,multi:!0,useFactory:()=>{const e=ut(bo);return()=>{e.setUpLocationChangeListener()}}},{provide:ZA,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ic(2,[{provide:ZA,useValue:0},{provide:ay,multi:!0,deps:[eo],useFactory:e=>{const t=e.get(Are,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(bo),o=e.get(y8);f8(i,()=>{r(!0)}),e.get(Hy).afterPreactivation=()=>(r(!0),o.closed?Lt(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const C8=new st("");class Ui{static ordinaGiocatoriPerCognome(e){return[...e].sort((t,r)=>{const i=(t.cognome||"").toLowerCase(),o=(r.cognome||"").toLowerCase();if(i<o)return-1;if(i>o)return 1;const s=(t.nome||"").toLowerCase(),a=(r.nome||"").toLowerCase();return s<a?-1:s>a?1:0})}static openMaps(e){if(!e)return;const r=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(e)}`;window.open(r,"_blank")}static formatDate(e){if(!e)return"Non specificata";let t;if("string"==typeof e&&e.match(/^\d{2}\/\d{2}\/\d{4}$/))return e;if("string"==typeof e&&e.includes("-")){const s=e.split("-");if(3===s.length)return`${s[2]}/${s[1]}/${s[0]}`;t=new Date(e)}else t=new Date(e);return isNaN(t.getTime())?"string"==typeof e?e:"":`${t.getDate().toString().padStart(2,"0")}/${(t.getMonth()+1).toString().padStart(2,"0")}/${t.getFullYear()}`}static formatDateTime(e){if(!e)return"";const t=new Date(e);return isNaN(t.getTime())?"":`${String(t.getDate()).padStart(2,"0")}/${String(t.getMonth()+1).padStart(2,"0")}/${t.getFullYear()} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}static formatDateWithDay(e){if(!e)return"";try{const t=new Date(e);if(isNaN(t.getTime()))return"string"==typeof e?e:"";const i=["Dom","Lun","Mar","Mer","Gio","Ven","Sab"][t.getDay()],o=String(t.getDate()).padStart(2,"0");return`${i} ${o}/${String(t.getMonth()+1).padStart(2,"0")}/${t.getFullYear()}`}catch{return"string"==typeof e?e:""}}static formatDateWithFullDay(e){if(!e)return"";try{const t=new Date(e);if(isNaN(t.getTime()))return"string"==typeof e?e:"";const i=["Domenica","Luned\xec","Marted\xec","Mercoled\xec","Gioved\xec","Venerd\xec","Sabato"][t.getDay()],o=String(t.getDate()).padStart(2,"0");return`${i} ${o}/${String(t.getMonth()+1).padStart(2,"0")}/${t.getFullYear()}`}catch{return"string"==typeof e?e:""}}static parseDataPartita(e){if(!e)return null;try{if(e.match(/^\d{4}-\d{2}-\d{2}$/))return new Date(e);const t=e.split(" "),r=t.length>1?t[1]:t[0],[i,o]=r.split("/").map(u=>parseInt(u));if(isNaN(i)||isNaN(o))return null;const s=new Date,a=s.getFullYear(),l=s.getMonth()+1;let c=a;return l>=9&&o<=8?c=a+1:l<=8&&o>=9&&(c=a-1),new Date(c,o-1,i)}catch(t){return console.warn("Error parsing date:",e,t),null}}static getIcsConstants(e,t,r,i){return["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//PuntoVolley Thunders//Calendario//IT","CALSCALE:GREGORIAN","METHOD:PUBLISH","BEGIN:VEVENT",`DTSTART:${e}`,`DTEND:${t}`,`DTSTAMP:${r}`,`UID:partita-${i.numeroGara}-${r}@thunders.it`,`SUMMARY:${i.ospitante} vs ${i.ospite}`,`DESCRIPTION:Partita ${i.campionato}\\nGara n. ${i.numeroGara}`,`LOCATION:${i.indirizzo}`,"STATUS:CONFIRMED","SEQUENCE:0","BEGIN:VALARM","TRIGGER:-PT1H","ACTION:DISPLAY","DESCRIPTION:Partita tra 1 ora","END:VALARM","END:VEVENT","END:VCALENDAR"].join("\r\n")}}var ne=Ps(467);const E8=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},A8={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let g=(15&a)<<2|c>>6,p=63&c;l||(p=64,s||(g=64)),r.push(t[o>>2],t[(3&o)<<4|a>>4],t[g],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(E8(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==d)throw new Ele;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Ele extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ky=function(n){return function(n){const e=E8(n);return A8.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Qy=function(n){try{return A8.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Yy=()=>{try{return function Sle(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Qy(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},S8=n=>{const e=(n=>{var e,t;return null===(t=null===(e=Yy())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]})(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},D8=()=>{var n;return null===(n=Yy())||void 0===n?void 0:n.config};class x8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function P8(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ky(JSON.stringify({alg:"none",type:"JWT"})),Ky(JSON.stringify(s)),""].join(".")}function to(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class wl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,wl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,v_.prototype.create)}}class v_{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function jle(n,e){return n.replace(zle,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new wl(i,`${this.serviceName}: ${s} (${i}).`,r)}}const zle=/\{\$([^}]+)}/g;function y_(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(k8(o)&&k8(s)){if(!y_(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function k8(n){return null!==n&&"object"==typeof n}function XA(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class qle{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function Gle(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=e5),void 0===i.error&&(i.error=e5),void 0===i.complete&&(i.complete=e5);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function e5(){}function Zr(n){return n&&n._delegate?n._delegate:n}class Du{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const nh="[DEFAULT]";class Zle{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new x8;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Xle(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:nh})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=nh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,ne.A)(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=nh){return this.instances.has(e)}getOptions(e=nh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===nh?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=nh){return this.component?this.component.multipleInstances?e:nh:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ece{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Zle(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const n5=[];var yn=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(yn||{});const O8={debug:yn.DEBUG,verbose:yn.VERBOSE,info:yn.INFO,warn:yn.WARN,error:yn.ERROR,silent:yn.SILENT},tce=yn.INFO,nce={[yn.DEBUG]:"log",[yn.VERBOSE]:"log",[yn.INFO]:"info",[yn.WARN]:"warn",[yn.ERROR]:"error"},rce=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=nce[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class r5{constructor(e){this.name=e,this._logLevel=tce,this._logHandler=rce,this._userLogHandler=null,n5.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?O8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yn.DEBUG,...e),this._logHandler(this,yn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yn.VERBOSE,...e),this._logHandler(this,yn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yn.INFO,...e),this._logHandler(this,yn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yn.WARN,...e),this._logHandler(this,yn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yn.ERROR,...e),this._logHandler(this,yn.ERROR,...e)}}const ice=(n,e)=>e.some(t=>n instanceof t);let L8,F8;const V8=new WeakMap,i5=new WeakMap,U8=new WeakMap,o5=new WeakMap,s5=new WeakMap;let a5={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return i5.get(n);if("objectStoreNames"===e)return n.objectStoreNames||U8.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xu(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function dce(n){return"function"==typeof n?function uce(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function sce(){return F8||(F8=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(l5(this),e),xu(V8.get(this))}:function(...e){return xu(n.apply(l5(this),e))}:function(e,...t){const r=n.call(l5(this),e,...t);return U8.set(r,e.sort?e.sort():[e]),xu(r)}}(n):(n instanceof IDBTransaction&&function lce(n){if(i5.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});i5.set(n,e)}(n),ice(n,function oce(){return L8||(L8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,a5):n)}function xu(n){if(n instanceof IDBRequest)return function ace(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(xu(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&V8.set(t,n)}).catch(()=>{}),s5.set(e,n),e}(n);if(o5.has(n))return o5.get(n);const e=dce(n);return e!==n&&(o5.set(n,e),s5.set(e,n)),e}const l5=n=>s5.get(n),fce=["get","getKey","getAll","getAllKeys","count"],pce=["put","add","delete","clear"],c5=new Map;function B8(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(c5.get(e))return c5.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=pce.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!fce.includes(t))return;const o=function(){var s=(0,ne.A)(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return c5.set(e,o),o}!function cce(n){a5=n(a5)}(n=>({...n,get:(e,t,r)=>B8(e,t)||n.get(e,t,r),has:(e,t)=>!!B8(e,t)||n.has(e,t)}));class gce{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function mce(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Jy="@firebase/app",u5="0.10.13",Cc=new r5("@firebase/app"),Xy="[DEFAULT]",qce={[Jy]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},rh=new Map,b_=new Map,w_=new Map;function j8(n,e){try{n.container.addComponent(e)}catch(t){Cc.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ih(n){const e=n.name;if(w_.has(e))return Cc.debug(`There were multiple attempts to register component ${e}.`),!1;w_.set(e,n);for(const t of rh.values())j8(t,n);for(const t of b_.values())j8(t,n);return!0}function d5(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function oh(n){return void 0!==n.settings}const pa=new v_("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class z8{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Du("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pa.create("app-deleted",{appName:this._name})}}const I_="10.14.1";function $8(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Xy,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw pa.create("bad-app-name",{appName:String(i)});if(t||(t=D8()),!t)throw pa.create("no-options");const o=rh.get(i);if(o){if(y_(t,o.options)&&y_(r,o.config))return o;throw pa.create("duplicate-app",{appName:i})}const s=new ece(i);for(const l of w_.values())s.addComponent(l);const a=new z8(t,r,s);return rh.set(i,a),a}function h5(n=Xy){const e=rh.get(n);if(!e&&n===Xy&&D8())return $8();if(!e)throw pa.create("no-app",{appName:n});return e}function q8(){return Array.from(rh.values())}function wo(n,e,t){var r;let i=null!==(r=qce[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Cc.warn(a.join(" "))}ih(new Du(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Qce="firebase-heartbeat-database",Yce=1,C_="firebase-heartbeat-store";let p5=null;function G8(){return p5||(p5=function hce(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=xu(s);return r&&s.addEventListener("upgradeneeded",l=>{r(xu(s.result),l.oldVersion,l.newVersion,xu(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(Qce,Yce,{upgrade:(n,e)=>{if(0===e)try{n.createObjectStore(C_)}catch(t){console.warn(t)}}}).catch(n=>{throw pa.create("idb-open",{originalErrorMessage:n.message})})),p5}function g5(){return(g5=(0,ne.A)(function*(n){try{const t=(yield G8()).transaction(C_),r=yield t.objectStore(C_).get(W8(n));return yield t.done,r}catch(e){if(e instanceof wl)Cc.warn(e.message);else{const t=pa.create("idb-get",{originalErrorMessage:e?.message});Cc.warn(t.message)}}})).apply(this,arguments)}function H8(n,e){return m5.apply(this,arguments)}function m5(){return(m5=(0,ne.A)(function*(n,e){try{const r=(yield G8()).transaction(C_,"readwrite");yield r.objectStore(C_).put(e,W8(n)),yield r.done}catch(t){if(t instanceof wl)Cc.warn(t.message);else{const r=pa.create("idb-set",{originalErrorMessage:t?.message});Cc.warn(r.message)}}})).apply(this,arguments)}function W8(n){return`${n.name}!${n.options.appId}`}class eue{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new nue(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return(0,ne.A)(function*(){var t,r;try{const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=K8();return null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===s||e._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=2592e6}),e._storage.overwrite(e._heartbeatsCache))}catch(i){Cc.warn(i)}})()}getHeartbeatsHeader(){var e=this;return(0,ne.A)(function*(){var t;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=K8(),{heartbeatsToSend:i,unsentEntries:o}=function tue(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Q8(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Q8(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Ky(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s}catch(r){return Cc.warn(r),""}})()}}function K8(){return(new Date).toISOString().substring(0,10)}class nue{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,ne.A)(function*(){return!!function N8(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function Ule(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,ne.A)(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function Zce(n){return g5.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return(0,ne.A)(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return H8(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return(0,ne.A)(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return H8(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function Q8(n){return Ky(JSON.stringify({version:2,heartbeats:n})).length}!function rue(n){ih(new Du("platform-logger",e=>new gce(e),"PRIVATE")),ih(new Du("heartbeat",e=>new eue(e),"PRIVATE")),wo(Jy,u5,n),wo(Jy,u5,"esm2017"),wo("fire-js","")}(""),wo("firebase","10.14.1","app");class sue extends Fi{constructor(e,t){super()}schedule(e,t=0){return this}}const eb={setInterval(n,e,...t){const{delegate:r}=eb;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=eb;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class Y8 extends sue{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return eb.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&eb.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,uu(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Z8={now:()=>(Z8.delegate||Date).now(),delegate:void 0};class E_{constructor(e,t=E_.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}E_.now=Z8.now;class J8 extends E_{constructor(e,t=E_.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const cue=new class lue extends J8{}(class aue extends Y8{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),_5=new J8(Y8),uue=_5,tb=new qf("ANGULARFIRE2_VERSION");function v5(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}const nb=(n,e)=>{const t=e?[e]:q8(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class X8{constructor(){return nb(due)}}const due="app-check";function wp(){}class eV{zone;delegate;constructor(e,t=cue){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},t,r)}}class hue{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wp,{},wp,wp)),t.pipe(Vi({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let y5=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new eV(Zone.current)),this.insideAngular=t.run(()=>new eV(Zone.current,_5)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(ht(On))};static \u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ip(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function sh(n){return Ip().ngZone.run(()=>n())}function pue(n){return function gue(n){return function(t){return(t=t.lift(new hue(n.ngZone))).pipe(Uv(n.outsideAngular),Vv(n.insideAngular))}}(Ip())(n)}const mue=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),sh(()=>n.apply(void 0,r))},Io=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||=sh(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wp,{},wp,wp))),r[o]=mue(r[o],t));const i=function fue(n){return Ip().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof or){const o=Ip();return i.pipe(Uv(o.outsideAngular),Vv(o.insideAngular))}return sh(()=>i)}return i instanceof or?i.pipe(pue):i instanceof Promise?sh(()=>new Promise((o,s)=>i.then(a=>sh(()=>o(a)),a=>sh(()=>s(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:sh(()=>i)};class Cp{constructor(e){return e}}class b5{constructor(){return q8()}}const w5=new st("angularfire2._apps"),vue={provide:Cp,useFactory:function _ue(n){return n&&1===n.length?n[0]:new Cp(h5())},deps:[[new _o,w5]]},yue={provide:b5,deps:[[new _o,w5]]};function bue(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Cp(r)}}let wue=(()=>{class n{constructor(t){wo("angularfire",tb.full,"core"),wo("angularfire",tb.full,"app"),wo("angular",pO.full,t.toString())}static \u0275fac=function(r){return new(r||n)(ht(dc))};static \u0275mod=Fo({type:n});static \u0275inj=go({providers:[vue,yue]})}return n})();function Iue(n,...e){return{ngModule:wue,providers:[{provide:w5,useFactory:bue(n),multi:!0,deps:[On,eo,y5,...e]}]}}const Cue=Io($8,!0);const Eue=function tV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nV=new v_("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),rb=new r5("@firebase/auth");function ib(n,...e){rb.logLevel<=yn.ERROR&&rb.error(`Auth (${I_}): ${n}`,...e)}function ms(n,...e){throw C5(n,...e)}function ga(n,...e){return C5(n,...e)}function I5(n,e,t){const r=Object.assign(Object.assign({},Eue()),{[e]:t});return new v_("auth","Firebase",r).create(e,{appName:n.name})}function Bi(n){return I5(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function C5(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return nV.create(n,...e)}function Xe(n,e,...t){if(!n)throw C5(e,...t)}function Il(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ib(e),new Error(e)}function Pu(n,e){n||Il(e)}function rV(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function Tue(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function E5(){return"http:"===rV()||"https:"===rV()}()||function Fle(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class T_{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pu(t>e,"Short delay should be less than long delay!"),this.isMobile=function Rle(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(to())}()||function Vle(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return Tue()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class iV{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Il("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Il("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Il("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Due={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xue=new T_(3e4,6e4);function Ir(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Cr(n,e,t,r){return T5.apply(this,arguments)}function T5(){return(T5=(0,ne.A)(function*(n,e,t,r,i={}){return oV(n,i,(0,ne.A)(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=XA(Object.assign({key:n.config.apiKey},s)).slice(1),l=yield n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:e,headers:l},o);return function Lle(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(c.referrerPolicy="no-referrer"),iV.fetch()(sV(n,n.config.apiHost,t,a),c)}))})).apply(this,arguments)}function oV(n,e,t){return S5.apply(this,arguments)}function S5(){return(S5=(0,ne.A)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Due),e);try{const i=new Mue(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw S_(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw S_(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===l)throw S_(n,"email-already-in-use",s);if("USER_DISABLED"===l)throw S_(n,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw I5(n,u,c);ms(n,u)}}catch(i){if(i instanceof wl)throw i;ms(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function sV(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function A5(n,e){Pu(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class Mue{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ga(this.auth,"network-request-failed")),xue.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function S_(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ga(n,e,r);return i.customData._tokenResponse=t,i}function M5(){return(M5=(0,ne.A)(function*(n,e){return Cr(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function dV(n,e){return R5.apply(this,arguments)}function R5(){return(R5=(0,ne.A)(function*(n,e){return Cr(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function D_(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function k5(){return(k5=(0,ne.A)(function*(n,e=!1){const t=Zr(n),r=yield t.getIdToken(e),i=ob(r);Xe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:D_(O5(i.auth_time)),issuedAtTime:D_(O5(i.iat)),expirationTime:D_(O5(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function O5(n){return 1e3*Number(n)}function ob(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return ib("JWT malformed, contained fewer than 3 sections"),null;try{const i=Qy(t);return i?JSON.parse(i):(ib("Failed to decode base64 JWT payload"),null)}catch(i){return ib("Caught error parsing JWT payload as JSON",i?.toString()),null}}function hV(n){const e=ob(n);return Xe(e,"internal-error"),Xe(typeof e.exp<"u","internal-error"),Xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ac(n,e){return L5.apply(this,arguments)}function L5(){return(L5=(0,ne.A)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof wl&&function Lue({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class Fue{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,ne.A)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,ne.A)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class F5{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=D_(this.lastLoginAt),this.creationTime=D_(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function x_(n){return V5.apply(this,arguments)}function V5(){return(V5=(0,ne.A)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Ac(n,dV(t,{idToken:r}));Xe(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?fV(o.providerUserInfo):[],a=function Uue(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,s),u=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new F5(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,d)})).apply(this,arguments)}function U5(){return(U5=(0,ne.A)(function*(n){const e=Zr(n);yield x_(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function fV(n){return n.map(e=>{var{providerId:t}=e,r=Fv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function B5(){return(B5=(0,ne.A)(function*(n,e){const t=yield oV(n,{},(0,ne.A)(function*(){const r=XA({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=sV(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",iV.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function j5(){return(j5=(0,ne.A)(function*(n,e){return Cr(n,"POST","/v2/accounts:revokeToken",Ir(n,e))})).apply(this,arguments)}class Ap{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Xe(e.idToken,"internal-error"),Xe(typeof e.idToken<"u","internal-error"),Xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Xe(0!==e.length,"internal-error");const t=hV(e);this.updateTokensAndExpiration(e,null,t)}getToken(e){var t=this;return(0,ne.A)(function*(r,i=!1){return i||!t.accessToken||t.isExpired?(Xe(t.refreshToken,r,"user-token-expired"),t.refreshToken?(yield t.refresh(r,t.refreshToken),t.accessToken):null):t.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,ne.A)(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function Bue(n,e){return B5.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new Ap;return r&&(Xe("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(Xe("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(Xe("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ap,this.toJSON())}_performRefresh(){return Il("not implemented")}}function Mu(n,e){Xe("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Tc{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Fv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fue(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new F5(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,ne.A)(function*(){const r=yield Ac(t,t.stsTokenManager.getToken(t.auth,e));return Xe(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Oue(n){return k5.apply(this,arguments)}(this,e)}reload(){return function Vue(n){return U5.apply(this,arguments)}(this)}_assign(e){this!==e&&(Xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Tc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e){var t=this;return(0,ne.A)(function*(r,i=!1){let o=!1;r.idToken&&r.idToken!==t.stsTokenManager.accessToken&&(t.stsTokenManager.updateFromServerResponse(r),o=!0),i&&(yield x_(t)),yield t.auth._persistUserIfCurrent(t),o&&t.auth._notifyListenersIfCurrent(t)}).apply(this,arguments)}delete(){var e=this;return(0,ne.A)(function*(){if(oh(e.auth.app))return Promise.reject(Bi(e.auth));const t=yield e.getIdToken();return yield Ac(e,function Rue(n,e){return M5.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,l,c,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,g=null!==(i=t.email)&&void 0!==i?i:void 0,p=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,y=null!==(s=t.photoURL)&&void 0!==s?s:void 0,w=null!==(a=t.tenantId)&&void 0!==a?a:void 0,I=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,A=null!==(c=t.createdAt)&&void 0!==c?c:void 0,R=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:F,emailVerified:L,isAnonymous:J,providerData:ae,stsTokenManager:q}=t;Xe(F&&q,e,"internal-error");const P=Ap.fromJSON(this.name,q);Xe("string"==typeof F,e,"internal-error"),Mu(d,e.name),Mu(g,e.name),Xe("boolean"==typeof L,e,"internal-error"),Xe("boolean"==typeof J,e,"internal-error"),Mu(p,e.name),Mu(y,e.name),Mu(w,e.name),Mu(I,e.name),Mu(A,e.name),Mu(R,e.name);const x=new Tc({uid:F,auth:e,email:g,emailVerified:L,displayName:d,isAnonymous:J,photoURL:y,phoneNumber:p,tenantId:w,stsTokenManager:P,createdAt:A,lastLoginAt:R});return ae&&Array.isArray(ae)&&(x.providerData=ae.map(B=>Object.assign({},B))),I&&(x._redirectEventId=I),x}static _fromIdTokenResponse(e,t){return(0,ne.A)(function*(r,i,o=!1){const s=new Ap;s.updateFromServerResponse(i);const a=new Tc({uid:i.localId,auth:r,stsTokenManager:s,isAnonymous:o});return yield x_(a),a}).apply(this,arguments)}static _fromGetAccountInfoResponse(e,t,r){return(0,ne.A)(function*(){const i=t.users[0];Xe(void 0!==i.localId,"internal-error");const o=void 0!==i.providerUserInfo?fV(i.providerUserInfo):[],s=!(i.email&&i.passwordHash||o?.length),a=new Ap;a.updateFromIdToken(r);const l=new Tc({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new F5(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||o?.length)};return Object.assign(l,c),l})()}}const pV=new Map;function Sc(n){Pu(n instanceof Function,"Expected a class definition");let e=pV.get(n);return e?(Pu(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,pV.set(n,e),e)}const gV=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ne.A)(function*(){return!0})()}_set(t,r){var i=this;return(0,ne.A)(function*(){i.storage[t]=r})()}_get(t){var r=this;return(0,ne.A)(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return(0,ne.A)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function sb(n,e,t){return`firebase:${n}:${e}:${t}`}class Tp{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=sb(this.userKey,i.apiKey,o),this.fullPersistenceKey=sb("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,ne.A)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Tc._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,ne.A)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t){return(0,ne.A)(function*(r,i,o="authUser"){if(!i.length)return new Tp(Sc(gV),r,o);const s=(yield Promise.all(i.map(function(){var d=(0,ne.A)(function*(g){if(yield g._isAvailable())return g});return function(g){return d.apply(this,arguments)}}()))).filter(d=>d);let a=s[0]||Sc(gV);const l=sb(o,r.config.apiKey,r.name);let c=null;for(const d of i)try{const g=yield d._get(l);if(g){const p=Tc._fromJSON(r,g);d!==a&&(c=p),a=d;break}}catch{}const u=s.filter(d=>d._shouldAllowMigration);return a._shouldAllowMigration&&u.length?(a=u[0],c&&(yield a._set(l,c.toJSON())),yield Promise.all(i.map(function(){var d=(0,ne.A)(function*(g){if(g!==a)try{yield g._remove(l)}catch{}});return function(g){return d.apply(this,arguments)}}())),new Tp(a,r,o)):new Tp(a,r,o)}).apply(this,arguments)}}function mV(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function bV(n=to()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function _V(n=to()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function IV(n=to()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function CV(n=to()){return/webos/i.test(n)}(e))return"Webos";if(function vV(n=to()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function yV(n=to()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function wV(n=to()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function EV(n,e=[]){let t;switch(n){case"Browser":t=mV(to());break;case"Worker":t=`${mV(to())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${I_}/${r}`}class que{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,ne.A)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function $5(){return($5=(0,ne.A)(function*(n,e={}){return Cr(n,"GET","/v2/passwordPolicy",Ir(n,e))})).apply(this,arguments)}class Wue{constructor(e){var t,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=null===(t=l.meetsMinPasswordLength)||void 0===t||t),l.isValid&&(l.isValid=null===(r=l.meetsMaxPasswordLength)||void 0===r||r),l.isValid&&(l.isValid=null===(i=l.containsLowercaseLetter)||void 0===i||i),l.isValid&&(l.isValid=null===(o=l.containsUppercaseLetter)||void 0===o||o),l.isValid&&(l.isValid=null===(s=l.containsNumericCharacter)||void 0===s||s),l.isValid&&(l.isValid=null===(a=l.containsNonAlphanumericCharacter)||void 0===a||a),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class Kue{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AV(this),this.idTokenSubscription=new AV(this),this.beforeStateQueue=new que(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Sc(t)),this._initializationPromise=this.queue((0,ne.A)(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Tp.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,ne.A)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return(0,ne.A)(function*(){try{const r=yield dV(t,{idToken:e}),i=yield Tc._fromGetAccountInfoResponse(t,r,e);yield t.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return(0,ne.A)(function*(){var r;if(oh(t.app)){const a=t.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(a).then(l,l))}):t.directlySetCurrentUser(null)}const i=yield t.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=o?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(o=c.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return Xe(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return(0,ne.A)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,ne.A)(function*(){try{yield x_(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Sue(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,ne.A)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,ne.A)(function*(){if(oh(t.app))return Promise.reject(Bi(t));const r=e?Zr(e):null;return r&&Xe(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e){var t=this;return(0,ne.A)(function*(r,i=!1){if(!t._deleted)return r&&Xe(t.tenantId===r.tenantId,t,"tenant-id-mismatch"),i||(yield t.beforeStateQueue.runMiddleware(r)),t.queue((0,ne.A)(function*(){yield t.directlySetCurrentUser(r),t.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var e=this;return(0,ne.A)(function*(){return oh(e.app)?Promise.reject(Bi(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return oh(this.app)?Promise.reject(Bi(this)):this.queue((0,ne.A)(function*(){yield t.assertedPersistence.setPersistence(Sc(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return(0,ne.A)(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,ne.A)(function*(){const t=yield function Gue(n){return $5.apply(this,arguments)}(e),r=new Wue(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new v_("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return(0,ne.A)(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function jue(n,e){return j5.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,ne.A)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,ne.A)(function*(){if(!t.redirectPersistenceManager){const r=e&&Sc(e)||t._popupRedirectResolver;Xe(r,t,"argument-error"),t.redirectPersistenceManager=yield Tp.create(t,[Sc(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,ne.A)(function*(){var r,i;return t._isInitialized&&(yield t.queue((0,ne.A)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,ne.A)(function*(){if(e===t.currentUser)return t.queue((0,ne.A)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Xe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof t){const l=e.addObserver(t,r,i);return()=>{s=!0,l()}}{const l=e.addObserver(t);return()=>{s=!0,l()}}}directlySetCurrentUser(e){var t=this;return(0,ne.A)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,ne.A)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return(0,ne.A)(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function Aue(n,...e){rb.logLevel<=yn.WARN&&rb.warn(`Auth (${I_}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class AV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function $le(n,e){const t=new qle(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return Xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let P_={loadJS:()=>(0,ne.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};(function TV(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new T_(3e4,6e4),new T_(2e3,1e4),new T_(3e4,6e4),new T_(5e3,15e3),encodeURIComponent("fac");var o7="@firebase/auth";class Jhe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,ne.A)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Yy(),function Que(n){P_=n}({loadJS:n=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=ga("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",function ife(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function efe(n){ih(new Du("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Xe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EV(n)},c=new Kue(r,i,o,l);return function rde(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Sc);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ih(new Du("auth-internal",e=>{const t=function ci(n){return Zr(n)}(e.getProvider("auth").getImmediate());return new Jhe(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),wo(o7,"1.7.9",function Xhe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),wo(o7,"1.7.9","esm2017")}("Browser");class NS{constructor(){return nb("auth")}}var ch,d7,c7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},u7={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(q,P,x){x||(x=0);var B=Array(16);if("string"==typeof P)for(var T=0;16>T;++T)B[T]=P.charCodeAt(x++)|P.charCodeAt(x++)<<8|P.charCodeAt(x++)<<16|P.charCodeAt(x++)<<24;else for(T=0;16>T;++T)B[T]=P[x++]|P[x++]<<8|P[x++]<<16|P[x++]<<24;var M=q.g[3],N=(P=q.g[0])+(M^(x=q.g[1])&((T=q.g[2])^M))+B[0]+3614090360&4294967295;N=(x=(T=(M=(P=(x=(T=(M=(P=(x=(T=(M=(P=(x=(T=(M=(P=(x=(T=(M=(P=(x=(T=(M=(P=(x=(T=(M=(P=(x=(T=(M=(P=(x=(T=(M=(P=(x=(T=(M=(P=(x=(T=(M=(P=(x=(T=(M=(P=(x=(T=(M=(P=(x=(T=(M=(P=(x=(T=(M=(P=x+(N<<7&4294967295|N>>>25))+((N=M+(T^P&(x^T))+B[1]+3905402710&4294967295)<<12&4294967295|N>>>20))+((N=T+(x^M&(P^x))+B[2]+606105819&4294967295)<<17&4294967295|N>>>15))+((N=x+(P^T&(M^P))+B[3]+3250441966&4294967295)<<22&4294967295|N>>>10))+((N=P+(M^x&(T^M))+B[4]+4118548399&4294967295)<<7&4294967295|N>>>25))+((N=M+(T^P&(x^T))+B[5]+1200080426&4294967295)<<12&4294967295|N>>>20))+((N=T+(x^M&(P^x))+B[6]+2821735955&4294967295)<<17&4294967295|N>>>15))+((N=x+(P^T&(M^P))+B[7]+4249261313&4294967295)<<22&4294967295|N>>>10))+((N=P+(M^x&(T^M))+B[8]+1770035416&4294967295)<<7&4294967295|N>>>25))+((N=M+(T^P&(x^T))+B[9]+2336552879&4294967295)<<12&4294967295|N>>>20))+((N=T+(x^M&(P^x))+B[10]+4294925233&4294967295)<<17&4294967295|N>>>15))+((N=x+(P^T&(M^P))+B[11]+2304563134&4294967295)<<22&4294967295|N>>>10))+((N=P+(M^x&(T^M))+B[12]+1804603682&4294967295)<<7&4294967295|N>>>25))+((N=M+(T^P&(x^T))+B[13]+4254626195&4294967295)<<12&4294967295|N>>>20))+((N=T+(x^M&(P^x))+B[14]+2792965006&4294967295)<<17&4294967295|N>>>15))+((N=x+(P^T&(M^P))+B[15]+1236535329&4294967295)<<22&4294967295|N>>>10))+((N=P+(T^M&(x^T))+B[1]+4129170786&4294967295)<<5&4294967295|N>>>27))+((N=M+(x^T&(P^x))+B[6]+3225465664&4294967295)<<9&4294967295|N>>>23))+((N=T+(P^x&(M^P))+B[11]+643717713&4294967295)<<14&4294967295|N>>>18))+((N=x+(M^P&(T^M))+B[0]+3921069994&4294967295)<<20&4294967295|N>>>12))+((N=P+(T^M&(x^T))+B[5]+3593408605&4294967295)<<5&4294967295|N>>>27))+((N=M+(x^T&(P^x))+B[10]+38016083&4294967295)<<9&4294967295|N>>>23))+((N=T+(P^x&(M^P))+B[15]+3634488961&4294967295)<<14&4294967295|N>>>18))+((N=x+(M^P&(T^M))+B[4]+3889429448&4294967295)<<20&4294967295|N>>>12))+((N=P+(T^M&(x^T))+B[9]+568446438&4294967295)<<5&4294967295|N>>>27))+((N=M+(x^T&(P^x))+B[14]+3275163606&4294967295)<<9&4294967295|N>>>23))+((N=T+(P^x&(M^P))+B[3]+4107603335&4294967295)<<14&4294967295|N>>>18))+((N=x+(M^P&(T^M))+B[8]+1163531501&4294967295)<<20&4294967295|N>>>12))+((N=P+(T^M&(x^T))+B[13]+2850285829&4294967295)<<5&4294967295|N>>>27))+((N=M+(x^T&(P^x))+B[2]+4243563512&4294967295)<<9&4294967295|N>>>23))+((N=T+(P^x&(M^P))+B[7]+1735328473&4294967295)<<14&4294967295|N>>>18))+((N=x+(M^P&(T^M))+B[12]+2368359562&4294967295)<<20&4294967295|N>>>12))+((N=P+(x^T^M)+B[5]+4294588738&4294967295)<<4&4294967295|N>>>28))+((N=M+(P^x^T)+B[8]+2272392833&4294967295)<<11&4294967295|N>>>21))+((N=T+(M^P^x)+B[11]+1839030562&4294967295)<<16&4294967295|N>>>16))+((N=x+(T^M^P)+B[14]+4259657740&4294967295)<<23&4294967295|N>>>9))+((N=P+(x^T^M)+B[1]+2763975236&4294967295)<<4&4294967295|N>>>28))+((N=M+(P^x^T)+B[4]+1272893353&4294967295)<<11&4294967295|N>>>21))+((N=T+(M^P^x)+B[7]+4139469664&4294967295)<<16&4294967295|N>>>16))+((N=x+(T^M^P)+B[10]+3200236656&4294967295)<<23&4294967295|N>>>9))+((N=P+(x^T^M)+B[13]+681279174&4294967295)<<4&4294967295|N>>>28))+((N=M+(P^x^T)+B[0]+3936430074&4294967295)<<11&4294967295|N>>>21))+((N=T+(M^P^x)+B[3]+3572445317&4294967295)<<16&4294967295|N>>>16))+((N=x+(T^M^P)+B[6]+76029189&4294967295)<<23&4294967295|N>>>9))+((N=P+(x^T^M)+B[9]+3654602809&4294967295)<<4&4294967295|N>>>28))+((N=M+(P^x^T)+B[12]+3873151461&4294967295)<<11&4294967295|N>>>21))+((N=T+(M^P^x)+B[15]+530742520&4294967295)<<16&4294967295|N>>>16))+((N=x+(T^M^P)+B[2]+3299628645&4294967295)<<23&4294967295|N>>>9))+((N=P+(T^(x|~M))+B[0]+4096336452&4294967295)<<6&4294967295|N>>>26))+((N=M+(x^(P|~T))+B[7]+1126891415&4294967295)<<10&4294967295|N>>>22))+((N=T+(P^(M|~x))+B[14]+2878612391&4294967295)<<15&4294967295|N>>>17))+((N=x+(M^(T|~P))+B[5]+4237533241&4294967295)<<21&4294967295|N>>>11))+((N=P+(T^(x|~M))+B[12]+1700485571&4294967295)<<6&4294967295|N>>>26))+((N=M+(x^(P|~T))+B[3]+2399980690&4294967295)<<10&4294967295|N>>>22))+((N=T+(P^(M|~x))+B[10]+4293915773&4294967295)<<15&4294967295|N>>>17))+((N=x+(M^(T|~P))+B[1]+2240044497&4294967295)<<21&4294967295|N>>>11))+((N=P+(T^(x|~M))+B[8]+1873313359&4294967295)<<6&4294967295|N>>>26))+((N=M+(x^(P|~T))+B[15]+4264355552&4294967295)<<10&4294967295|N>>>22))+((N=T+(P^(M|~x))+B[6]+2734768916&4294967295)<<15&4294967295|N>>>17))+((N=x+(M^(T|~P))+B[13]+1309151649&4294967295)<<21&4294967295|N>>>11))+((M=(P=x+((N=P+(T^(x|~M))+B[4]+4149444226&4294967295)<<6&4294967295|N>>>26))+((N=M+(x^(P|~T))+B[11]+3174756917&4294967295)<<10&4294967295|N>>>22))^((T=M+((N=T+(P^(M|~x))+B[2]+718787259&4294967295)<<15&4294967295|N>>>17))|~P))+B[9]+3951481745&4294967295,q.g[0]=q.g[0]+P&4294967295,q.g[1]=q.g[1]+(T+(N<<21&4294967295|N>>>11))&4294967295,q.g[2]=q.g[2]+T&4294967295,q.g[3]=q.g[3]+M&4294967295}function s(q,P){this.h=P;for(var x=[],B=!0,T=q.length-1;0<=T;T--){var M=0|q[T];B&&M==P||(x[T]=M,B=!1)}this.g=x}(function e(q,P){function x(){}x.prototype=P.prototype,q.D=P.prototype,q.prototype=new x,q.prototype.constructor=q,q.C=function(B,T,M){for(var N=Array(arguments.length-2),te=2;te<arguments.length;te++)N[te-2]=arguments[te];return P.prototype[T].apply(B,N)}})(r,function t(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(q,P){void 0===P&&(P=q.length);for(var x=P-this.blockSize,B=this.B,T=this.h,M=0;M<P;){if(0==T)for(;M<=x;)i(this,q,M),M+=this.blockSize;if("string"==typeof q){for(;M<P;)if(B[T++]=q.charCodeAt(M++),T==this.blockSize){i(this,B),T=0;break}}else for(;M<P;)if(B[T++]=q[M++],T==this.blockSize){i(this,B),T=0;break}}this.h=T,this.o+=P},r.prototype.v=function(){var q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);q[0]=128;for(var P=1;P<q.length-8;++P)q[P]=0;var x=8*this.o;for(P=q.length-8;P<q.length;++P)q[P]=255&x,x/=256;for(this.u(q),q=Array(16),P=x=0;4>P;++P)for(var B=0;32>B;B+=8)q[x++]=this.g[P]>>>B&255;return q};var a={};function l(q){return-128<=q&&128>q?function o(q,P){var x=a;return Object.prototype.hasOwnProperty.call(x,q)?x[q]:x[q]=P(q)}(q,function(P){return new s([0|P],0>P?-1:0)}):new s([0|q],0>q?-1:0)}function c(q){if(isNaN(q)||!isFinite(q))return d;if(0>q)return I(c(-q));for(var P=[],x=1,B=0;q>=x;B++)P[B]=q/x|0,x*=4294967296;return new s(P,0)}var d=l(0),g=l(1),p=l(16777216);function y(q){if(0!=q.h)return!1;for(var P=0;P<q.g.length;P++)if(0!=q.g[P])return!1;return!0}function w(q){return-1==q.h}function I(q){for(var P=q.g.length,x=[],B=0;B<P;B++)x[B]=~q.g[B];return new s(x,~q.h).add(g)}function A(q,P){return q.add(I(P))}function R(q,P){for(;(65535&q[P])!=q[P];)q[P+1]+=q[P]>>>16,q[P]&=65535,P++}function F(q,P){this.g=q,this.h=P}function L(q,P){if(y(P))throw Error("division by zero");if(y(q))return new F(d,d);if(w(q))return P=L(I(q),P),new F(I(P.g),I(P.h));if(w(P))return P=L(q,I(P)),new F(I(P.g),P.h);if(30<q.g.length){if(w(q)||w(P))throw Error("slowDivide_ only works with positive integers.");for(var x=g,B=P;0>=B.l(q);)x=J(x),B=J(B);var T=ae(x,1),M=ae(B,1);for(B=ae(B,2),x=ae(x,2);!y(B);){var N=M.add(B);0>=N.l(q)&&(T=T.add(x),M=N),B=ae(B,1),x=ae(x,1)}return P=A(q,T.j(P)),new F(T,P)}for(T=d;0<=q.l(P);){for(x=Math.max(1,Math.floor(q.m()/P.m())),B=48>=(B=Math.ceil(Math.log(x)/Math.LN2))?1:Math.pow(2,B-48),N=(M=c(x)).j(P);w(N)||0<N.l(q);)N=(M=c(x-=B)).j(P);y(M)&&(M=g),T=T.add(M),q=A(q,N)}return new F(T,q)}function J(q){for(var P=q.g.length+1,x=[],B=0;B<P;B++)x[B]=q.i(B)<<1|q.i(B-1)>>>31;return new s(x,q.h)}function ae(q,P){var x=P>>5;P%=32;for(var B=q.g.length-x,T=[],M=0;M<B;M++)T[M]=0<P?q.i(M+x)>>>P|q.i(M+x+1)<<32-P:q.i(M+x);return new s(T,q.h)}(n=s.prototype).m=function(){if(w(this))return-I(this).m();for(var q=0,P=1,x=0;x<this.g.length;x++){var B=this.i(x);q+=(0<=B?B:4294967296+B)*P,P*=4294967296}return q},n.toString=function(q){if(2>(q=q||10)||36<q)throw Error("radix out of range: "+q);if(y(this))return"0";if(w(this))return"-"+I(this).toString(q);for(var P=c(Math.pow(q,6)),x=this,B="";;){var T=L(x,P).g,M=((0<(x=A(x,T.j(P))).g.length?x.g[0]:x.h)>>>0).toString(q);if(y(x=T))return M+B;for(;6>M.length;)M="0"+M;B=M+B}},n.i=function(q){return 0>q?0:q<this.g.length?this.g[q]:this.h},n.l=function(q){return w(q=A(this,q))?-1:y(q)?0:1},n.abs=function(){return w(this)?I(this):this},n.add=function(q){for(var P=Math.max(this.g.length,q.g.length),x=[],B=0,T=0;T<=P;T++){var M=B+(65535&this.i(T))+(65535&q.i(T)),N=(M>>>16)+(this.i(T)>>>16)+(q.i(T)>>>16);B=N>>>16,x[T]=(N&=65535)<<16|(M&=65535)}return new s(x,-2147483648&x[x.length-1]?-1:0)},n.j=function(q){if(y(this)||y(q))return d;if(w(this))return w(q)?I(this).j(I(q)):I(I(this).j(q));if(w(q))return I(this.j(I(q)));if(0>this.l(p)&&0>q.l(p))return c(this.m()*q.m());for(var P=this.g.length+q.g.length,x=[],B=0;B<2*P;B++)x[B]=0;for(B=0;B<this.g.length;B++)for(var T=0;T<q.g.length;T++){var M=this.i(B)>>>16,N=65535&this.i(B),te=q.i(T)>>>16,_e=65535&q.i(T);x[2*B+2*T]+=N*_e,R(x,2*B+2*T),x[2*B+2*T+1]+=M*_e,R(x,2*B+2*T+1),x[2*B+2*T+1]+=N*te,R(x,2*B+2*T+1),x[2*B+2*T+2]+=M*te,R(x,2*B+2*T+2)}for(B=0;B<P;B++)x[B]=x[2*B+1]<<16|x[2*B];for(B=P;B<2*P;B++)x[B]=0;return new s(x,0)},n.A=function(q){return L(this,q).h},n.and=function(q){for(var P=Math.max(this.g.length,q.g.length),x=[],B=0;B<P;B++)x[B]=this.i(B)&q.i(B);return new s(x,this.h&q.h)},n.or=function(q){for(var P=Math.max(this.g.length,q.g.length),x=[],B=0;B<P;B++)x[B]=this.i(B)|q.i(B);return new s(x,this.h|q.h)},n.xor=function(q){for(var P=Math.max(this.g.length,q.g.length),x=[],B=0;B<P;B++)x[B]=this.i(B)^q.i(B);return new s(x,this.h^q.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,d7=u7.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=function u(q,P){if(0==q.length)throw Error("number format error: empty string");if(2>(P=P||10)||36<P)throw Error("radix out of range: "+P);if("-"==q.charAt(0))return I(u(q.substring(1),P));if(0<=q.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=c(Math.pow(P,8)),B=d,T=0;T<q.length;T+=8){var M=Math.min(8,q.length-T),N=parseInt(q.substring(T,T+M),P);8>M?(M=c(Math.pow(P,M)),B=B.j(M).add(c(N))):B=(B=B.j(x)).add(c(N))}return B},ch=u7.Integer=s}).apply(typeof c7<"u"?c7:typeof self<"u"?self:typeof window<"u"?window:{});var h7,V_,f7,yb,kS,p7,g7,m7,vb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pc={};(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(f,b,D){return f==Array.prototype||f==Object.prototype||(f[b]=D.value),f},r=function t(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof vb&&vb];for(var b=0;b<f.length;++b){var D=f[b];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}(this);!function i(f,b){if(b)e:{var D=r;f=f.split(".");for(var G=0;G<f.length-1;G++){var de=f[G];if(!(de in D))break e;D=D[de]}(b=b(G=D[f=f[f.length-1]]))!=G&&null!=b&&e(D,f,{configurable:!0,writable:!0,value:b})}}("Array.prototype.values",function(f){return f||function(){return function o(f,b){f instanceof String&&(f+="");var D=0,G=!1,de={next:function(){if(!G&&D<f.length){var we=D++;return{value:b(we,f[we]),done:!1}}return G=!0,{done:!0,value:void 0}}};return de[Symbol.iterator]=function(){return de},de}(this,function(b,D){return D})}});var s=s||{},a=this||self;function l(f){var b=typeof f;return"array"==(b="object"!=b?b:f?Array.isArray(f)?"array":b:"null")||"object"==b&&"number"==typeof f.length}function c(f){var b=typeof f;return"object"==b&&null!=f||"function"==b}function u(f,b,D){return f.call.apply(f.bind,arguments)}function d(f,b,D){if(!f)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var de=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(de,G),f.apply(b,de)}}return function(){return f.apply(b,arguments)}}function g(f,b,D){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?u:d).apply(null,arguments)}function p(f,b){var D=Array.prototype.slice.call(arguments,1);return function(){var G=D.slice();return G.push.apply(G,arguments),f.apply(this,G)}}function y(f,b){function D(){}D.prototype=b.prototype,f.aa=b.prototype,f.prototype=new D,f.prototype.constructor=f,f.Qb=function(G,de,we){for(var Ye=Array(arguments.length-2),Nn=2;Nn<arguments.length;Nn++)Ye[Nn-2]=arguments[Nn];return b.prototype[de].apply(G,Ye)}}function w(f){const b=f.length;if(0<b){const D=Array(b);for(let G=0;G<b;G++)D[G]=f[G];return D}return[]}function I(f,b){for(let D=1;D<arguments.length;D++){const G=arguments[D];if(l(G)){const de=f.length||0,we=G.length||0;f.length=de+we;for(let Ye=0;Ye<we;Ye++)f[de+Ye]=G[Ye]}else f.push(G)}}function R(f){return/^[\s\xa0]*$/.test(f)}function F(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function L(f){return L[" "](f),f}L[" "]=function(){};var J=!(-1==F().indexOf("Gecko")||-1!=F().toLowerCase().indexOf("webkit")&&-1==F().indexOf("Edge")||-1!=F().indexOf("Trident")||-1!=F().indexOf("MSIE")||-1!=F().indexOf("Edge"));function ae(f,b,D){for(const G in f)b.call(D,f[G],G,f)}function P(f){const b={};for(const D in f)b[D]=f[D];return b}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(f,b){let D,G;for(let de=1;de<arguments.length;de++){for(D in G=arguments[de],G)f[D]=G[D];for(let we=0;we<x.length;we++)D=x[we],Object.prototype.hasOwnProperty.call(G,D)&&(f[D]=G[D])}}function T(f){var b=1;f=f.split(":");const D=[];for(;0<b&&f.length;)D.push(f.shift()),b--;return f.length&&D.push(f.join(":")),D}function M(f){a.setTimeout(()=>{throw f},0)}function N(){var f=Te;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}var _e=new class A{constructor(b,D){this.i=b,this.j=D,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}(()=>new Ae,f=>f.reset());class Ae{constructor(){this.next=this.g=this.h=null}set(b,D){this.h=b,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,me=!1,Te=new class te{constructor(){this.h=this.g=null}add(b,D){const G=_e.get();G.set(b,D),this.h?this.h.next=G:this.g=G,this.h=G}},We=()=>{const f=a.Promise.resolve(void 0);Ee=()=>{f.then(Fe)}};var Fe=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(D){M(D)}var b=_e;b.j(f),100>b.h&&(b.h++,f.next=b.g,b.g=f)}me=!1};function j(){this.s=this.s,this.C=this.C}function K(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},K.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const D=()=>{};a.addEventListener("test",D,b),a.removeEventListener("test",D,b)}catch{}return f}();function ie(f,b){if(K.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var D=this.type=f.type,G=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget){if(J){e:{try{L(b.nodeName);var de=!0;break e}catch{}de=!1}de||(b=null)}}else"mouseover"==D?b=f.fromElement:"mouseout"==D&&(b=f.toElement);this.relatedTarget=b,G?(this.clientX=void 0!==G.clientX?G.clientX:G.pageX,this.clientY=void 0!==G.clientY?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType="string"==typeof f.pointerType?f.pointerType:ue[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ie.aa.h.call(this)}}y(ie,K);var ue={2:"touch",3:"pen",4:"mouse"};ie.prototype.h=function(){ie.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),be=0;function Ce(f,b,D,G,de){this.listener=f,this.proxy=null,this.src=b,this.type=D,this.capture=!!G,this.ha=de,this.key=++be,this.da=this.fa=!1}function Ne(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Pe(f){this.src=f,this.g={},this.h=0}function Je(f,b){var D=b.type;if(D in f.g){var we,G=f.g[D],de=Array.prototype.indexOf.call(G,b,void 0);(we=0<=de)&&Array.prototype.splice.call(G,de,1),we&&(Ne(b),0==f.g[D].length&&(delete f.g[D],f.h--))}}function Ze(f,b,D,G){for(var de=0;de<f.length;++de){var we=f[de];if(!we.da&&we.listener==b&&we.capture==!!D&&we.ha==G)return de}return-1}Pe.prototype.add=function(f,b,D,G,de){var we=f.toString();(f=this.g[we])||(f=this.g[we]=[],this.h++);var Ye=Ze(f,b,G,de);return-1<Ye?(b=f[Ye],D||(b.fa=!1)):((b=new Ce(b,this.src,we,!!G,de)).fa=D,f.push(b)),b};var Se="closure_lm_"+(1e6*Math.random()|0),X={};function ln(f,b,D,G,de){if(G&&G.once)return Ge(f,b,D,G,de);if(Array.isArray(b)){for(var we=0;we<b.length;we++)ln(f,b[we],D,G,de);return null}return D=Ft(D),f&&f[fe]?f.K(b,D,c(G)?!!G.capture:!!G,de):$t(f,b,D,!1,G,de)}function $t(f,b,D,G,de,we){if(!b)throw Error("Invalid event type");var Ye=c(de)?!!de.capture:!!de,Nn=un(f);if(Nn||(f[Se]=Nn=new Pe(f)),(D=Nn.add(b,D,G,Ye,we)).proxy)return D;if(G=function Pt(){const b=At;return function f(D){return b.call(f.src,f.listener,D)}}(),D.proxy=G,G.src=f,G.listener=D,f.addEventListener)ee||(de=Ye),void 0===de&&(de=!1),f.addEventListener(b.toString(),G,de);else if(f.attachEvent)f.attachEvent(qt(b.toString()),G);else{if(!f.addListener||!f.removeListener)throw Error("addEventListener and attachEvent are unavailable.");f.addListener(G)}return D}function Ge(f,b,D,G,de){if(Array.isArray(b)){for(var we=0;we<b.length;we++)Ge(f,b[we],D,G,de);return null}return D=Ft(D),f&&f[fe]?f.L(b,D,c(G)?!!G.capture:!!G,de):$t(f,b,D,!0,G,de)}function vt(f,b,D,G,de){if(Array.isArray(b))for(var we=0;we<b.length;we++)vt(f,b[we],D,G,de);else G=c(G)?!!G.capture:!!G,D=Ft(D),f&&f[fe]?(f=f.i,(b=String(b).toString())in f.g&&-1<(D=Ze(we=f.g[b],D,G,de))&&(Ne(we[D]),Array.prototype.splice.call(we,D,1),0==we.length&&(delete f.g[b],f.h--))):f&&(f=un(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Ze(b,D,G,de)),(D=-1<f?b[f]:null)&&tt(D))}function tt(f){if("number"!=typeof f&&f&&!f.da){var b=f.src;if(b&&b[fe])Je(b.i,f);else{var D=f.type,G=f.proxy;b.removeEventListener?b.removeEventListener(D,G,f.capture):b.detachEvent?b.detachEvent(qt(D),G):b.addListener&&b.removeListener&&b.removeListener(G),(D=un(b))?(Je(D,f),0==D.h&&(D.src=null,b[Se]=null)):Ne(f)}}}function qt(f){return f in X?X[f]:X[f]="on"+f}function At(f,b){if(f.da)f=!0;else{b=new ie(b,this);var D=f.listener,G=f.ha||f.src;f.fa&&tt(f),f=D.call(G,b)}return f}function un(f){return(f=f[Se])instanceof Pe?f:null}var Rt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ft(f){return"function"==typeof f?f:(f[Rt]||(f[Rt]=function(b){return f.handleEvent(b)}),f[Rt])}function Yt(){j.call(this),this.i=new Pe(this),this.M=this,this.F=null}function wt(f,b){var D,G=f.F;if(G)for(D=[];G;G=G.F)D.push(G);if(f=f.M,G=b.type||b,"string"==typeof b)b=new K(b,f);else if(b instanceof K)b.target=b.target||f;else{var de=b;B(b=new K(G,f),de)}if(de=!0,D)for(var we=D.length-1;0<=we;we--){var Ye=b.g=D[we];de=_t(Ye,G,!0,b)&&de}if(de=_t(Ye=b.g=f,G,!0,b)&&de,de=_t(Ye,G,!1,b)&&de,D)for(we=0;we<D.length;we++)de=_t(Ye=b.g=D[we],G,!1,b)&&de}function _t(f,b,D,G){if(!(b=f.i.g[String(b)]))return!0;b=b.concat();for(var de=!0,we=0;we<b.length;++we){var Ye=b[we];if(Ye&&!Ye.da&&Ye.capture==D){var Nn=Ye.listener,Hr=Ye.ha||Ye.src;Ye.fa&&Je(f.i,Ye),de=!1!==Nn.call(Hr,G)&&de}}return de&&!G.defaultPrevented}function kt(f,b,D){if("function"==typeof f)D&&(f=g(f,D));else{if(!f||"function"!=typeof f.handleEvent)throw Error("Invalid listener argument");f=g(f.handleEvent,f)}return 2147483647<Number(b)?-1:a.setTimeout(f,b||0)}function It(f){f.g=kt(()=>{f.g=null,f.i&&(f.i=!1,It(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}y(Yt,j),Yt.prototype[fe]=!0,Yt.prototype.removeEventListener=function(f,b,D,G){vt(this,f,b,D,G)},Yt.prototype.N=function(){if(Yt.aa.N.call(this),this.i){var b,f=this.i;for(b in f.g){for(var D=f.g[b],G=0;G<D.length;G++)Ne(D[G]);delete f.g[b],f.h--}}this.F=null},Yt.prototype.K=function(f,b,D,G){return this.i.add(String(f),b,!1,D,G)},Yt.prototype.L=function(f,b,D,G){return this.i.add(String(f),b,!0,D,G)};class Bn extends j{constructor(b,D){super(),this.m=b,this.l=D,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:It(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pn(f){j.call(this),this.h=f,this.g={}}y(pn,j);var Ke=[];function St(f){ae(f.g,function(b,D){this.g.hasOwnProperty(D)&&tt(b)},f),f.g={}}pn.prototype.N=function(){pn.aa.N.call(this),St(this)},pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zt=a.JSON.stringify,Dt=a.JSON.parse,rn=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function Ct(){}function Tr(){}Ct.prototype.h=null;var En={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ot(){K.call(this,"d")}function vn(){K.call(this,"c")}y(Ot,K),y(vn,K);var ao={},ei=null;function No(){return ei=ei||new Yt}function Hi(f){K.call(this,ao.La,f)}function Mt(f){const b=No();wt(b,new Hi(b))}function Ia(f,b){K.call(this,ao.STAT_EVENT,f),this.stat=b}function Sr(f){const b=No();wt(b,new Ia(b,f))}function Jo(f,b){K.call(this,ao.Ma,f),this.size=b}function Wi(f,b){if("function"!=typeof f)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},b)}function tr(){this.g=!0}function Is(f,b,D,G){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+function Gs(f,b){if(!f.g)return b;if(!b)return null;try{var D=JSON.parse(b);if(D)for(f=0;f<D.length;f++)if(Array.isArray(D[f])){var G=D[f];if(!(2>G.length)){var de=G[1];if(Array.isArray(de)&&!(1>de.length)){var we=de[0];if("noop"!=we&&"stop"!=we&&"close"!=we)for(var Ye=1;Ye<de.length;Ye++)de[Ye]=""}}}return Zt(D)}catch{return b}}(f,D)+(G?" "+G:"")})}ao.La="serverreachability",y(Hi,K),ao.STAT_EVENT="statevent",y(Ia,K),ao.Ma="timingevent",y(Jo,K),tr.prototype.xa=function(){this.g=!1},tr.prototype.info=function(){};var es,Xo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function lo(){}function Ro(f,b,D,G){this.j=f,this.i=b,this.l=D,this.R=G||1,this.U=new pn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hs}function Hs(){this.i=null,this.g="",this.h=!1}y(lo,Ct),lo.prototype.g=function(){return new XMLHttpRequest},lo.prototype.i=function(){return{}},es=new lo;var Gl={},Hl={};function Wl(f,b,D){f.L=1,f.v=Qc(Ks(b)),f.m=D,f.P=!0,qc(f,null)}function qc(f,b){f.F=Date.now(),Gc(f),f.A=Ks(f.v);var D=f.A,G=f.R;Array.isArray(G)||(G=[String(G)]),qg(D.i,"t",G),f.C=0,D=f.j.J,f.h=new Hs,f.g=Gr(f.j,D?b:null,!f.m),0<f.O&&(f.M=new Bn(g(f.Y,f,f.g),f.O)),b=f.U,D=f.g,G=f.ca;var de="readystatechange";Array.isArray(de)||(de&&(Ke[0]=de.toString()),de=Ke);for(var we=0;we<de.length;we++){var Ye=ln(D,de[we],G||b.handleEvent,!1,b.h||b);if(!Ye)break;b.g[Ye.key]=Ye}b=f.H?P(f.H):{},f.m?(f.u||(f.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,b)):(f.u="GET",f.g.ea(f.A,f.u,null,b)),Mt(),function Ei(f,b,D,G,de,we){f.info(function(){if(f.g)if(we)for(var Ye="",Nn=we.split("&"),Hr=0;Hr<Nn.length;Hr++){var Nt=Nn[Hr].split("=");if(1<Nt.length){var vr=Nt[0];Nt=Nt[1];var Wr=vr.split("_");Ye=2<=Wr.length&&"type"==Wr[1]?Ye+(vr+"=")+Nt+"&":Ye+(vr+"=redacted&")}}else Ye=null;else Ye=we;return"XMLHTTP REQ ("+G+") [attempt "+de+"]: "+b+"\n"+D+"\n"+Ye})}(f.i,f.u,f.A,f.l,f.R,f.m)}function jg(f){return!!f.g&&"GET"==f.u&&2!=f.L&&f.j.Ca}function Qh(f,b){var D=f.C,G=b.indexOf("\n",D);return-1==G?Hl:(D=Number(b.substring(D,G)),isNaN(D)?Gl:(G+=1)+D>b.length?Hl:(b=b.slice(G,G+D),f.C=G+D,b))}function Gc(f){f.S=Date.now()+f.I,Yh(f,f.I)}function Yh(f,b){if(null!=f.B)throw Error("WatchDog timer not null");f.B=Wi(g(f.ba,f),b)}function ko(f){f.B&&(a.clearTimeout(f.B),f.B=null)}function Za(f){0==f.j.G||f.J||Pn(f.j,f)}function Ca(f){ko(f);var b=f.M;b&&"function"==typeof b.ma&&b.ma(),f.M=null,St(f.U),f.g&&(b=f.g,f.g=null,b.abort(),b.ma())}function Hc(f,b){try{var D=f.j;if(0!=D.G&&(D.g==f||Xh(D.h,f)))if(!f.K&&Xh(D.h,f)&&3==D.G){try{var G=D.Da.g.parse(b)}catch{G=null}if(Array.isArray(G)&&3==G.length){var de=G;if(0==de[0]){e:if(!D.u){if(D.g){if(!(D.g.F+3e3<f.F))break e;Ut(D),nu(D)}at(D),Sr(18)}}else D.za=de[1],0<D.za-D.T&&37500>de[2]&&D.F&&0==D.v&&!D.C&&(D.C=Wi(g(D.Za,D),6e3));if(1>=Wc(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else rr(D,11)}else if((f.K||D.g==f)&&Ut(D),!R(b))for(de=D.Da.g.parse(b),b=0;b<de.length;b++){let Nt=de[b];if(D.T=Nt[0],Nt=Nt[1],2==D.G)if("c"==Nt[0]){D.K=Nt[1],D.ia=Nt[2];const vr=Nt[3];null!=vr&&(D.la=vr,D.j.info("VER="+D.la));const Wr=Nt[4];null!=Wr&&(D.Aa=Wr,D.j.info("SVER="+D.Aa));const rl=Nt[5];null!=rl&&"number"==typeof rl&&0<rl&&(D.L=G=1.5*rl,D.j.info("backChannelRequestTimeoutMs_="+G)),G=D;const Br=f.g;if(Br){const xa=Br.g?Br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xa){var we=G.h;we.g||-1==xa.indexOf("spdy")&&-1==xa.indexOf("quic")&&-1==xa.indexOf("h2")||(we.j=we.l,we.g=new Set,we.h&&(Ur(we,we.h),we.h=null))}if(G.D){const iu=Br.g?Br.g.getResponseHeader("X-HTTP-Session-Id"):null;iu&&(G.ya=iu,$n(G.I,G.D,iu))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-f.F,D.j.info("Handshake RTT: "+D.R+"ms"));var Ye=f;if((G=D).qa=ti(G,G.J?G.ia:null,G.W),Ye.K){ef(G.h,Ye);var Nn=Ye,Hr=G.L;Hr&&(Nn.I=Hr),Nn.B&&(ko(Nn),Gc(Nn)),G.g=Ye}else Ue(G);0<D.i.length&&k(D)}else"stop"!=Nt[0]&&"close"!=Nt[0]||rr(D,7);else 3==D.G&&("stop"==Nt[0]||"close"==Nt[0]?"stop"==Nt[0]?rr(D,7):nl(D):"noop"!=Nt[0]&&D.l&&D.l.ta(Nt),D.v=0)}Mt()}catch{}}function Zh(f){this.l=f||10,f=a.PerformanceNavigationTiming?0<(f=a.performance.getEntriesByType("navigation")).length&&("hq"==f[0].nextHopProtocol||"h2"==f[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jh(f){return!!f.h||!!f.g&&f.g.size>=f.j}function Wc(f){return f.h?1:f.g?f.g.size:0}function Xh(f,b){return f.h?f.h==b:!!f.g&&f.g.has(b)}function Ur(f,b){f.g?f.g.add(b):f.h=b}function ef(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}function tf(f){if(null!=f.h)return f.i.concat(f.h.D);if(null!=f.g&&0!==f.g.size){let b=f.i;for(const D of f.g.values())b=b.concat(D.D);return b}return w(f.i)}function Es(f,b){if(f.forEach&&"function"==typeof f.forEach)f.forEach(b,void 0);else if(l(f)||"string"==typeof f)Array.prototype.forEach.call(f,b,void 0);else for(var D=function Kc(f){if(f.na&&"function"==typeof f.na)return f.na();if(!f.V||"function"!=typeof f.V){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||"string"==typeof f){var b=[];f=f.length;for(var D=0;D<f;D++)b.push(D);return b}b=[],D=0;for(const G in f)b[D++]=G;return b}}}(f),G=function Ja(f){if(f.V&&"function"==typeof f.V)return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if("string"==typeof f)return f.split("");if(l(f)){for(var b=[],D=f.length,G=0;G<D;G++)b.push(f[G]);return b}for(G in b=[],D=0,f)b[D++]=f[G];return b}(f),de=G.length,we=0;we<de;we++)b.call(void 0,G[we],D&&D[we],f)}Ro.prototype.ca=function(f){f=f.target;const b=this.M;b&&3==Ts(f)?b.j():this.Y(f)},Ro.prototype.Y=function(f){try{if(f==this.g)e:{const Wr=Ts(this.g);var b=this.g.Ba();if(this.g.Z(),!(3>Wr)&&(3!=Wr||this.g&&(this.h.h||this.g.oa()||Da(this.g)))){this.J||4!=Wr||7==b||Mt(),ko(this);var D=this.g.Z();this.X=D;t:if(jg(this)){var G=Da(this.g);f="";var de=G.length,we=4==Ts(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ca(this),Za(this);var Ye="";break t}this.h.i=new a.TextDecoder}for(b=0;b<de;b++)this.h.h=!0,f+=this.h.i.decode(G[b],{stream:!(we&&b==de-1)});G.length=0,this.h.g+=f,this.C=0,Ye=this.h.g}else Ye=this.g.oa();if(this.o=200==D,function Ni(f,b,D,G,de,we,Ye){f.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+de+"]: "+b+"\n"+D+"\n"+we+" "+Ye})}(this.i,this.u,this.A,this.l,this.R,Wr,D),this.o){if(this.T&&!this.K){t:{if(this.g){var Nn,Hr=this.g;if((Nn=Hr.g?Hr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(Nn)){var Nt=Nn;break t}}Nt=null}if(!(D=Nt)){this.o=!1,this.s=3,Sr(12),Ca(this),Za(this);break e}Is(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hc(this,D)}if(this.P){let Br;for(D=!0;!this.J&&this.C<Ye.length;){if(Br=Qh(this,Ye),Br==Hl){4==Wr&&(this.s=4,Sr(14),D=!1),Is(this.i,this.l,null,"[Incomplete Response]");break}if(Br==Gl){this.s=4,Sr(15),Is(this.i,this.l,Ye,"[Invalid Chunk]"),D=!1;break}Is(this.i,this.l,Br,null),Hc(this,Br)}if(jg(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Wr||0!=Ye.length||this.h.h||(this.s=1,Sr(16),D=!1),this.o=this.o&&D,D){if(0<Ye.length&&!this.W){this.W=!0;var vr=this.j;vr.g==this&&vr.ba&&!vr.M&&(vr.j.info("Great, no buffering proxy detected. Bytes received: "+Ye.length),gt(vr),vr.M=!0,Sr(11))}}else Is(this.i,this.l,Ye,"[Invalid Chunked Response]"),Ca(this),Za(this)}else Is(this.i,this.l,Ye,null),Hc(this,Ye);4==Wr&&Ca(this),this.o&&!this.J&&(4==Wr?Pn(this.j,this):(this.o=!1,Gc(this)))}else(function tl(f){const b={};f=(f.g&&2<=Ts(f)&&f.g.getAllResponseHeaders()||"").split("\r\n");for(let G=0;G<f.length;G++){if(R(f[G]))continue;var D=T(f[G]);const de=D[0];if("string"!=typeof(D=D[1]))continue;D=D.trim();const we=b[de]||[];b[de]=we,we.push(D)}!function q(f,b){for(const D in f)b.call(void 0,f[D],D,f)}(b,function(G){return G.join(", ")})})(this.g),400==D&&0<Ye.indexOf("Unknown SID")?(this.s=3,Sr(12)):(this.s=0,Sr(13)),Ca(this),Za(this)}}}catch{}},Ro.prototype.cancel=function(){this.J=!0,Ca(this)},Ro.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(function ql(f,b){f.info(function(){return"TIMEOUT: "+b})}(this.i,this.A),2!=this.L&&(Mt(),Sr(17)),Ca(this),this.s=2,Za(this)):Yh(this,this.S-f)},Zh.prototype.cancel=function(){if(this.i=tf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const f of this.g.values())f.cancel();this.g.clear()}};var Kl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ws(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ws){this.h=f.h,pd(this,f.j),this.o=f.o,this.g=f.g,gd(this,f.s),this.l=f.l;var b=f.i,D=new Zc;D.i=b.i,b.g&&(D.g=new Map(b.g),D.h=b.h),Qs(this,D),this.m=f.m}else f&&(b=String(f).match(Kl))?(this.h=!1,pd(this,b[1]||"",!0),this.o=As(b[2]||""),this.g=As(b[3]||"",!0),gd(this,b[4]),this.l=As(b[5]||"",!0),Qs(this,b[6]||"",!0),this.m=As(b[7]||"")):(this.h=!1,this.i=new Zc(null,this.h))}function Ks(f){return new Ws(f)}function pd(f,b,D){f.j=D?As(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function gd(f,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);f.s=b}else f.s=null}function Qs(f,b,D){b instanceof Zc?(f.i=b,function mv(f,b){b&&!f.j&&(Oo(f),f.i=null,f.g.forEach(function(D,G){var de=G.toLowerCase();G!=de&&(md(this,G),qg(this,de,D))},f)),f.j=b}(f.i,f.h)):(D||(b=Xa(b,Yc)),f.i=new Zc(b,f.h))}function $n(f,b,D){f.i.set(b,D)}function Qc(f){return $n(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function As(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Xa(f,b,D){return"string"==typeof f?(f=encodeURI(f).replace(b,pv),D&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function pv(f){return"%"+((f=f.charCodeAt(0))>>4&15).toString(16)+(15&f).toString(16)}Ws.prototype.toString=function(){var f=[],b=this.j;b&&f.push(Xa(b,$g,!0),":");var D=this.g;return(D||"file"==b)&&(f.push("//"),(b=this.o)&&f.push(Xa(b,$g,!0),"@"),f.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(D=this.s)&&f.push(":",String(D))),(D=this.l)&&(this.g&&"/"!=D.charAt(0)&&f.push("/"),f.push(Xa(D,"/"==D.charAt(0)?nf:gv,!0))),(D=this.i.toString())&&f.push("?",D),(D=this.m)&&f.push("#",Xa(D,Ql)),f.join("")};var f,$g=/[#\/\?@]/g,gv=/[#\?:]/g,nf=/[#\?]/g,Yc=/[#\?@]/g,Ql=/#/g;function Zc(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function Oo(f){f.g||(f.g=new Map,f.h=0,f.i&&function qr(f,b){if(f){f=f.split("&");for(var D=0;D<f.length;D++){var G=f[D].indexOf("="),de=null;if(0<=G){var we=f[D].substring(0,G);de=f[D].substring(G+1)}else we=f[D];b(we,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}(f.i,function(b,D){f.add(decodeURIComponent(b.replace(/\+/g," ")),D)}))}function md(f,b){Oo(f),b=Yl(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Gt(f,b){return Oo(f),b=Yl(f,b),f.g.has(b)}function qg(f,b,D){md(f,b),0<D.length&&(f.i=null,f.g.set(Yl(f,b),w(D)),f.h+=D.length)}function Yl(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Ki(f,b,D,G,de){try{de&&(de.onload=null,de.onerror=null,de.onabort=null,de.ontimeout=null),G(D)}catch{}}function vv(){this.g=new rn}function yv(f,b,D){const G=D||"";try{Es(f,function(de,we){let Ye=de;c(de)&&(Ye=Zt(de)),b.push(G+we+"="+encodeURIComponent(Ye))})}catch(de){throw b.push(G+"type="+encodeURIComponent("_badmap")),de}}function Ea(f){this.l=f.Ub||null,this.j=f.eb||!1}function Zl(f,b){Yt.call(this),this.D=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Jl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}function Aa(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ta(f)}function Ta(f){f.onreadystatechange&&f.onreadystatechange.call(f)}function Gg(f){let b="";return ae(f,function(D,G){b+=G,b+=":",b+=D,b+="\r\n"}),b}function Jc(f,b,D){e:{for(G in D){var G=!1;break e}G=!0}G||(D=Gg(D),"string"==typeof f?null!=D&&encodeURIComponent(String(D)):$n(f,b,D))}function nr(f){Yt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=Zc.prototype).add=function(f,b){Oo(this),this.i=null,f=Yl(this,f);var D=this.g.get(f);return D||this.g.set(f,D=[]),D.push(b),this.h+=1,this},n.forEach=function(f,b){Oo(this),this.g.forEach(function(D,G){D.forEach(function(de){f.call(b,de,G,this)},this)},this)},n.na=function(){Oo(this);const f=Array.from(this.g.values()),b=Array.from(this.g.keys()),D=[];for(let G=0;G<b.length;G++){const de=f[G];for(let we=0;we<de.length;we++)D.push(b[G])}return D},n.V=function(f){Oo(this);let b=[];if("string"==typeof f)Gt(this,f)&&(b=b.concat(this.g.get(Yl(this,f))));else{f=Array.from(this.g.values());for(let D=0;D<f.length;D++)b=b.concat(f[D])}return b},n.set=function(f,b){return Oo(this),this.i=null,Gt(this,f=Yl(this,f))&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},n.get=function(f,b){return f&&0<(f=this.V(f)).length?String(f[0]):b},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(var D=0;D<b.length;D++){var G=b[D];const we=encodeURIComponent(String(G)),Ye=this.V(G);for(G=0;G<Ye.length;G++){var de=we;""!==Ye[G]&&(de+="="+encodeURIComponent(String(Ye[G]))),f.push(de)}}return this.i=f.join("&")},y(Ea,Ct),Ea.prototype.g=function(){return new Zl(this.l,this.j)},Ea.prototype.i=(f={},function(){return f}),y(Zl,Yt),(n=Zl.prototype).open=function(f,b){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=b,this.readyState=1,Ta(this)},n.send=function(f){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(b.body=f),(this.D||a).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Aa(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ta(this)),this.g&&(this.readyState=3,Ta(this),this.g)))if("arraybuffer"===this.responseType)f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?Aa(this):Ta(this),3==this.readyState&&Jl(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Aa(this))},n.Qa=function(f){this.g&&(this.response=f,Aa(this))},n.ga=function(){this.g&&Aa(this)},n.setRequestHeader=function(f,b){this.u.append(f,b)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var D=b.next();!D.done;)f.push((D=D.value)[0]+": "+D[1]),D=b.next();return f.join("\r\n")},Object.defineProperty(Zl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(f){this.m=f?"include":"same-origin"}}),y(nr,Yt);var Xc=/^https?$/i,eu=["POST","PUT"];function _d(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.m=5,tu(f),Sa(f)}function tu(f){f.A||(f.A=!0,wt(f,"complete"),wt(f,"error"))}function vd(f){if(f.h&&typeof s<"u"&&(!f.v[1]||4!=Ts(f)||2!=f.Z()))if(f.u&&4==Ts(f))kt(f.Ea,0,f);else if(wt(f,"readystatechange"),4==Ts(f)){f.h=!1;try{const Ye=f.Z();e:switch(Ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var D;if(!(D=b)){var G;if(G=0===Ye){var de=String(f.D).match(Kl)[1]||null;!de&&a.self&&a.self.location&&(de=a.self.location.protocol.slice(0,-1)),G=!Xc.test(de?de.toLowerCase():"")}D=G}if(D)wt(f,"complete"),wt(f,"success");else{f.m=6;try{var we=2<Ts(f)?f.g.statusText:""}catch{we=""}f.l=we+" ["+f.Z()+"]",tu(f)}}finally{Sa(f)}}}function Sa(f,b){if(f.g){rf(f);const D=f.g,G=f.v[0]?()=>{}:null;f.g=null,f.v=null,b||wt(f,"ready");try{D.onreadystatechange=G}catch{}}}function rf(f){f.I&&(a.clearTimeout(f.I),f.I=null)}function Ts(f){return f.g?f.g.readyState:0}function Da(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Xl(f,b,D){return D&&D.internalChannelParams&&D.internalChannelParams[f]||b}function sf(f){this.Aa=0,this.i=[],this.j=new tr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xl("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xl("baseRetryDelayMs",5e3,f),this.cb=Xl("retryDelaySeedMs",1e4,f),this.Wa=Xl("forwardChannelMaxRetries",2,f),this.wa=Xl("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Zh(f&&f.concurrentRequestLimit),this.Da=new vv,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function nl(f){if(_(f),3==f.G){var b=f.U++,D=Ks(f.I);if($n(D,"SID",f.K),$n(D,"RID",b),$n(D,"TYPE","terminate"),he(f,D),(b=new Ro(f,f.j,b)).L=2,b.v=Qc(Ks(D)),D=!1,a.navigator&&a.navigator.sendBeacon)try{D=a.navigator.sendBeacon(b.v.toString(),"")}catch{}!D&&a.Image&&((new Image).src=b.v,D=!0),D||(b.g=Gr(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Gc(b)}Zn(f)}function nu(f){f.g&&(gt(f),f.g.cancel(),f.g=null)}function _(f){nu(f),f.u&&(a.clearTimeout(f.u),f.u=null),Ut(f),f.h.cancel(),f.s&&("number"==typeof f.s&&a.clearTimeout(f.s),f.s=null)}function k(f){if(!Jh(f.h)&&!f.s){f.s=!0;var b=f.Ga;Ee||We(),me||(Ee(),me=!0),Te.add(b,f),f.B=0}}function re(f,b){var D;D=b?b.l:f.U++;const G=Ks(f.I);$n(G,"SID",f.K),$n(G,"RID",D),$n(G,"AID",f.T),he(f,G),f.m&&f.o&&Jc(G,f.m,f.o),D=new Ro(f,f.j,D,f.B+1),null===f.m&&(D.H=f.o),b&&(f.i=b.D.concat(f.i)),b=Re(f,D,1e3),D.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Ur(f.h,D),Wl(D,G,b)}function he(f,b){f.H&&ae(f.H,function(D,G){$n(b,G,D)}),f.l&&Es({},function(D,G){$n(b,G,D)})}function Re(f,b,D){D=Math.min(f.i.length,D);var G=f.l?g(f.l.Na,f.l,f):null;e:{var de=f.i;let we=-1;for(;;){const Ye=["count="+D];-1==we?0<D?(we=de[0].g,Ye.push("ofs="+we)):we=0:Ye.push("ofs="+we);let Nn=!0;for(let Hr=0;Hr<D;Hr++){let Nt=de[Hr].g;const vr=de[Hr].map;if(Nt-=we,0>Nt)we=Math.max(0,de[Hr].g-100),Nn=!1;else try{yv(vr,Ye,"req"+Nt+"_")}catch{G&&G(vr)}}if(Nn){G=Ye.join("&");break e}}}return f=f.i.splice(0,D),b.D=f,G}function Ue(f){if(!f.g&&!f.u){f.Y=1;var b=f.Fa;Ee||We(),me||(Ee(),me=!0),Te.add(b,f),f.v=0}}function at(f){return!(f.g||f.u||3<=f.v||(f.Y++,f.u=Wi(g(f.Fa,f),_r(f,f.v)),f.v++,0))}function gt(f){null!=f.A&&(a.clearTimeout(f.A),f.A=null)}function Vt(f){f.g=new Ro(f,f.j,"rpc",f.Y),null===f.m&&(f.g.H=f.o),f.g.O=0;var b=Ks(f.qa);$n(b,"RID","rpc"),$n(b,"SID",f.K),$n(b,"AID",f.T),$n(b,"CI",f.F?"0":"1"),!f.F&&f.ja&&$n(b,"TO",f.ja),$n(b,"TYPE","xmlhttp"),he(f,b),f.m&&f.o&&Jc(b,f.m,f.o),f.L&&(f.g.I=f.L);var D=f.g;f=f.ia,D.L=1,D.v=Qc(Ks(b)),D.m=null,D.P=!0,qc(D,f)}function Ut(f){null!=f.C&&(a.clearTimeout(f.C),f.C=null)}function Pn(f,b){var D=null;if(f.g==b){Ut(f),gt(f),f.g=null;var G=2}else{if(!Xh(f.h,b))return;D=b.D,ef(f.h,b),G=1}if(0!=f.G)if(b.o)if(1==G){D=b.m?b.m.length:0,b=Date.now()-b.F;var de=f.B;wt(G=No(),new Jo(G,D)),k(f)}else Ue(f);else if(3==(de=b.s)||0==de&&0<b.X||!(1==G&&function Q(f,b){return!(Wc(f.h)>=f.h.j-(f.s?1:0)||(f.s?(f.i=b.D.concat(f.i),0):1==f.G||2==f.G||f.B>=(f.Va?0:f.Wa)||(f.s=Wi(g(f.Ga,f,b),_r(f,f.B)),f.B++,0)))}(f,b)||2==G&&at(f)))switch(D&&0<D.length&&(b=f.h,b.i=b.i.concat(D)),de){case 1:rr(f,5);break;case 4:rr(f,10);break;case 3:rr(f,6);break;default:rr(f,2)}}function _r(f,b){let D=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(D*=2),D*b}function rr(f,b){if(f.j.info("Error code "+b),2==b){var D=g(f.fb,f),G=f.Xa;const de=!G;G=new Ws(G||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||pd(G,"https"),Qc(G),de?function _v(f,b){const D=new tr;if(a.Image){const G=new Image;G.onload=p(Ki,D,"TestLoadImage: loaded",!0,b,G),G.onerror=p(Ki,D,"TestLoadImage: error",!1,b,G),G.onabort=p(Ki,D,"TestLoadImage: abort",!1,b,G),G.ontimeout=p(Ki,D,"TestLoadImage: timeout",!1,b,G),a.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=f}else b(!1)}(G.toString(),D):function el(f,b){new tr;const G=new AbortController,de=setTimeout(()=>{G.abort(),Ki(0,0,!1,b)},1e4);fetch(f,{signal:G.signal}).then(we=>{clearTimeout(de),Ki(0,0,!!we.ok,b)}).catch(()=>{clearTimeout(de),Ki(0,0,!1,b)})}(G.toString(),D)}else Sr(2);f.G=0,f.l&&f.l.sa(b),Zn(f),_(f)}function Zn(f){if(f.G=0,f.ka=[],f.l){const b=tf(f.h);(0!=b.length||0!=f.i.length)&&(I(f.ka,b),I(f.ka,f.i),f.h.i.length=0,w(f.i),f.i.length=0),f.l.ra()}}function ti(f,b,D){var G=D instanceof Ws?Ks(D):new Ws(D);if(""!=G.g)b&&(G.g=b+"."+G.g),gd(G,G.s);else{var de=a.location;G=de.protocol,b=b?b+"."+de.hostname:de.hostname,de=+de.port;var we=new Ws(null);G&&pd(we,G),b&&(we.g=b),de&&gd(we,de),D&&(we.l=D),G=we}return b=f.ya,(D=f.D)&&b&&$n(G,D,b),$n(G,"VER",f.la),he(f,G),G}function Gr(f,b,D){if(b&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return(b=new nr(f.Ca&&!f.pa?new Ea({eb:D}):f.pa)).Ha(f.J),b}function Ai(){}function co(){}function ir(f,b){Yt.call(this),this.g=new sf(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(f?f["X-WebChannel-Client-Profile"]=b.va:f={"X-WebChannel-Client-Profile":b.va}),this.g.S=f,(f=b&&b.Sb)&&!R(f)&&(this.g.m=f),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!R(b)&&(this.g.D=b,null!==(f=this.h)&&b in f&&b in(f=this.h)&&delete f[b]),this.j=new Ss(this)}function af(f){Ot.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const D in b){f=D;break e}f=void 0}(this.i=f)&&(f=this.i,b=null!==b&&f in b?b[f]:void 0),this.data=b}else this.data=f}function ru(){vn.call(this),this.status=1}function Ss(f){this.g=f}(n=nr.prototype).Ha=function(f){this.J=f},n.ea=function(f,b,D,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():es.g(),this.v=function zn(f){return f.h||(f.h=f.i())}(this.o?this.o:es),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(we){return void _d(this,we)}if(f=D||"",D=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var de in G)D.set(de,G[de]);else{if("function"!=typeof G.keys||"function"!=typeof G.get)throw Error("Unknown input type for opt_headers: "+String(G));for(const we of G.keys())D.set(we,G.get(we))}G=Array.from(D.keys()).find(we=>"content-type"==we.toLowerCase()),de=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(eu,b,void 0))||G||de||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[we,Ye]of D)this.g.setRequestHeader(we,Ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rf(this),this.u=!0,this.g.send(f),this.u=!1}catch(we){_d(this,we)}},n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,wt(this,"complete"),wt(this,"abort"),Sa(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sa(this,!0)),nr.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?vd(this):this.bb())},n.bb=function(){vd(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<Ts(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var b=this.g.responseText;return f&&0==b.indexOf(f)&&(b=b.substring(f.length)),Dt(b)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=sf.prototype).la=8,n.G=1,n.connect=function(f,b,D,G){Sr(0),this.W=f,this.H=b||{},D&&void 0!==G&&(this.H.OSID=D,this.H.OAID=G),this.F=this.X,this.I=ti(this,null,this.W),k(this)},n.Ga=function(f){if(this.s)if(this.s=null,1==this.G){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const de=new Ro(this,this.j,f);let we=this.o;if(this.S&&(we?(we=P(we),B(we,this.S)):we=this.S),null!==this.m||this.O||(de.H=we,we=null),this.P)e:{for(var b=0,D=0;D<this.i.length;D++){var G=this.i[D];if(void 0===(G="__data__"in G.map&&"string"==typeof(G=G.map.__data__)?G.length:void 0))break;if(4096<(b+=G)){b=D;break e}if(4096===b||D===this.i.length-1){b=D+1;break e}}b=1e3}else b=1e3;b=Re(this,de,b),$n(D=Ks(this.I),"RID",f),$n(D,"CVER",22),this.D&&$n(D,"X-HTTP-Session-Id",this.D),he(this,D),we&&(this.O?b="headers="+encodeURIComponent(String(Gg(we)))+"&"+b:this.m&&Jc(D,this.m,we)),Ur(this.h,de),this.Ua&&$n(D,"TYPE","init"),this.P?($n(D,"$req",b),$n(D,"SID","null"),de.T=!0,Wl(de,D,null)):Wl(de,D,b),this.G=2}}else 3==this.G&&(f?re(this,f):0==this.i.length||Jh(this.h)||re(this))},n.Fa=function(){if(this.u=null,Vt(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Wi(g(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Sr(10),nu(this),Vt(this))},n.Za=function(){null!=this.C&&(this.C=null,nu(this),at(this),Sr(19))},n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Sr(2)):(this.j.info("Failed to ping google.com"),Sr(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=Ai.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},co.prototype.g=function(f,b){return new ir(f,b)},y(ir,Yt),ir.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ir.prototype.close=function(){nl(this.g)},ir.prototype.o=function(f){var b=this.g;if("string"==typeof f){var D={};D.__data__=f,f=D}else this.u&&((D={}).__data__=Zt(f),f=D);b.i.push(new class{constructor(f,b){this.g=f,this.map=b}}(b.Ya++,f)),3==b.G&&k(b)},ir.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,ir.aa.N.call(this)},y(af,Ot),y(ru,vn),y(Ss,Ai),Ss.prototype.ua=function(){wt(this.g,"a")},Ss.prototype.ta=function(f){wt(this.g,new af(f))},Ss.prototype.sa=function(f){wt(this.g,new ru)},Ss.prototype.ra=function(){wt(this.g,"b")},co.prototype.createWebChannel=co.prototype.g,ir.prototype.send=ir.prototype.o,ir.prototype.open=ir.prototype.m,ir.prototype.close=ir.prototype.close,m7=Pc.createWebChannelTransport=function(){return new co},g7=Pc.getStatEventTarget=function(){return No()},p7=Pc.Event=ao,kS=Pc.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xo.NO_ERROR=0,Xo.TIMEOUT=8,Xo.HTTP_ERROR=6,yb=Pc.ErrorCode=Xo,Cs.COMPLETE="complete",f7=Pc.EventType=Cs,Tr.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",Yt.prototype.listen=Yt.prototype.K,V_=Pc.WebChannel=Tr,Pc.FetchXmlHttpFactory=Ea,nr.prototype.listenOnce=nr.prototype.L,nr.prototype.getLastError=nr.prototype.Ka,nr.prototype.getLastErrorCode=nr.prototype.Ba,nr.prototype.getStatus=nr.prototype.Z,nr.prototype.getResponseJson=nr.prototype.Oa,nr.prototype.getResponseText=nr.prototype.oa,nr.prototype.send=nr.prototype.ea,nr.prototype.setWithCredentials=nr.prototype.Ha,h7=Pc.XhrIo=nr}).apply(typeof vb<"u"?vb:typeof self<"u"?self:typeof window<"u"?window:{});const _7="@firebase/firestore";class ji{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ji.UNAUTHENTICATED=new ji(null),ji.GOOGLE_CREDENTIALS=new ji("google-credentials-uid"),ji.FIRST_PARTY=new ji("first-party-uid"),ji.MOCK_USER=new ji("mock-user");let Dp="10.14.0";const Nu=new r5("@firebase/firestore");function xp(){return Nu.logLevel}function je(n,...e){if(Nu.logLevel<=yn.DEBUG){const t=e.map(OS);Nu.debug(`Firestore (${Dp}): ${n}`,...t)}}function ui(n,...e){if(Nu.logLevel<=yn.ERROR){const t=e.map(OS);Nu.error(`Firestore (${Dp}): ${n}`,...t)}}function _a(n,...e){if(Nu.logLevel<=yn.WARN){const t=e.map(OS);Nu.warn(`Firestore (${Dp}): ${n}`,...t)}}function OS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ot(n="Unexpected state"){const e=`FIRESTORE (${Dp}) INTERNAL ASSERTION FAILED: `+n;throw ui(e),new Error(e)}function ft(n,e){n||ot()}function et(n,e){return n}const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends wl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class v7{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cfe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ji.UNAUTHENTICATED))}shutdown(){}}class ufe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class dfe{constructor(e){this.t=e,this.currentUser=ji.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;ft(void 0===this.o);let i=this.i;const o=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let s=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zi,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable((0,ne.A)(function*(){yield c.promise,yield o(r.currentUser)}))},l=c=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ft("string"==typeof r.accessToken),new v7(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(null===e||"string"==typeof e),new ji(e)}}class hfe{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ji.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ffe{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new hfe(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ji.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class y7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pfe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ft(void 0===this.o);const r=o=>{null!=o.error&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,je("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ft("string"==typeof t.token),this.R=t.token,new y7(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gfe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class b7{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=gfe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function Kt(n,e){return n<e?-1:n>e?1:0}function Pp(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Nr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ze(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ze(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ze(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ze(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nr.fromMillis(Date.now())}static fromDate(e){return Nr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Nr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Et{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Et(e)}static min(){return new Et(new Nr(0,0))}static max(){return new Et(new Nr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class U_{constructor(e,t,r){void 0===t?t=0:t>e.length&&ot(),void 0===r?r=e.length-t:r>e.length-t&&ot(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===U_.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof U_?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class bn extends U_{construct(e,t,r){return new bn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ze(Ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new bn(t)}static emptyPath(){return new bn([])}}const mfe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rr extends U_{construct(e,t,r){return new Rr(e,t,r)}static isValidIdentifier(e){return mfe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Rr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new ze(Ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new ze(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new ze(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ze(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rr(t)}static emptyPath(){return new Rr([])}}class rt{constructor(e){this.path=e}static fromPath(e){return new rt(bn.fromString(e))}static fromName(e){return new rt(bn.fromString(e).popFirst(5))}static empty(){return new rt(bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===bn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return bn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new bn(e.slice()))}}function C7(n){return new js(n.readTime,n.key,-1)}class js{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new js(Et.min(),rt.empty(),-1)}static max(){return new js(Et.max(),rt.empty(),-1)}}function FS(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=rt.comparator(n.documentKey,e.documentKey),0!==t?t:Kt(n.largestBatchId,e.largestBatchId))}const E7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class A7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ru(n){return VS.apply(this,arguments)}function VS(){return VS=(0,ne.A)(function*(n){if(n.code!==Ie.FAILED_PRECONDITION||n.message!==E7)throw n;je("LocalStore","Unexpectedly lost primary lease")}),VS.apply(this,arguments)}class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ge((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ge?t:ge.resolve(t)}catch(t){return ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.reject(t)}static resolve(e){return new ge((t,r)=>{t(e)})}static reject(e){return new ge((t,r)=>{r(e)})}static waitFor(e){return new ge((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=ge.resolve(!1);for(const r of e)t=t.next(i=>i?ge.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new ge((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;t(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,t){return new ge((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}function ku(n){return"IndexedDbTransactionError"===n.name}let zs=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function j_(n){return null==n}function z_(n){return 0===n&&1/n==-1/0}function O7(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ou(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function F7(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class mr{constructor(e,t){this.comparator=e,this.root=t||no.EMPTY}insert(e,t){return new mr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,no.BLACK,null,null))}remove(e){return new mr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,no.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ib(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ib(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ib(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ib(this.root,e,this.comparator,!0)}}class Ib{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class no{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??no.RED,this.left=i??no.EMPTY,this.right=o??no.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new no(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return no.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return no.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,no.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,no.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}no.EMPTY=null,no.RED=!0,no.BLACK=!1,no.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(e,t,r,i,o){return this}insert(e,t,r){return new no(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class er{constructor(e){this.comparator=e,this.data=new mr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new V7(this.data.getIterator())}getIteratorFrom(e){return new V7(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof er)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new er(this.comparator);return t.data=e,t}}class V7{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _s{constructor(e){this.fields=e,e.sort(Rr.comparator)}static empty(){return new _s([])}unionWith(e){let t=new er(Rr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new _s(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Pp(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class U7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new U7("Invalid base64 string: "+o):o}}(e);return new Jr(t)}static fromUint8Array(e){const t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Jr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jr.EMPTY_BYTE_STRING=new Jr("");const zfe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mc(n){if(ft(!!n),"string"==typeof n){let e=0;const t=zfe.exec(n);if(ft(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kr(n.seconds),nanos:kr(n.nanos)}}function kr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Nc(n){return"string"==typeof n?Jr.fromBase64String(n):Jr.fromUint8Array(n)}function Cb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Eb(n){const e=n.mapValue.fields.__previous_value__;return Cb(e)?Eb(e):e}function $_(n){const e=Mc(n.mapValue.fields.__local_write_time__.timestampValue);return new Nr(e.seconds,e.nanos)}class $fe{constructor(e,t,r,i,o,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class fh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new fh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof fh&&e.projectId===this.projectId&&e.database===this.database}}const Lu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Cb(n)?4:q7(n)?9007199254740991:Db(n)?10:11:ot()}function Al(n,e){if(n===e)return!0;const t=Fu(n);if(t!==Fu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $_(n).isEqual($_(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Mc(i.timestampValue),a=Mc(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Nc(n.bytesValue).isEqual(Nc(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return kr(i.geoPointValue.latitude)===kr(o.geoPointValue.latitude)&&kr(i.geoPointValue.longitude)===kr(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return kr(i.integerValue)===kr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=kr(i.doubleValue),a=kr(o.doubleValue);return s===a?z_(s)===z_(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Pp(n.arrayValue.values||[],e.arrayValue.values||[],Al);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(O7(s)!==O7(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!Al(s[l],a[l])))return!1;return!0}(n,e);default:return ot()}var o}function q_(n,e){return void 0!==(n.values||[]).find(t=>Al(t,e))}function Vu(n,e){if(n===e)return 0;const t=Fu(n),r=Fu(e);if(t!==r)return Kt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kt(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=kr(o.integerValue||o.doubleValue),l=kr(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return B7(n.timestampValue,e.timestampValue);case 4:return B7($_(n),$_(e));case 5:return Kt(n.stringValue,e.stringValue);case 6:return function(o,s){const a=Nc(o),l=Nc(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Kt(a[c],l[c]);if(0!==u)return u}return Kt(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Kt(kr(o.latitude),kr(s.latitude));return 0!==a?a:Kt(kr(o.longitude),kr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return j7(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,c,u;const p=null===(a=(o.fields||{}).value)||void 0===a?void 0:a.arrayValue,y=null===(l=(s.fields||{}).value)||void 0===l?void 0:l.arrayValue,w=Kt((null===(c=p?.values)||void 0===c?void 0:c.length)||0,(null===(u=y?.values)||void 0===u?void 0:u.length)||0);return 0!==w?w:j7(p,y)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Lu.mapValue&&s===Lu.mapValue)return 0;if(o===Lu.mapValue)return 1;if(s===Lu.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const g=Kt(l[d],u[d]);if(0!==g)return g;const p=Vu(a[l[d]],c[u[d]]);if(0!==p)return p}return Kt(l.length,u.length)}(n.mapValue,e.mapValue);default:throw ot()}}function B7(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Kt(n,e);const t=Mc(n),r=Mc(e),i=Kt(t.seconds,r.seconds);return 0!==i?i:Kt(t.nanos,r.nanos)}function j7(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Vu(t[i],r[i]);if(o)return o}return Kt(t.length,r.length)}function kp(n){return zS(n)}function zS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Mc(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Nc(n.bytesValue).toBase64():"referenceValue"in n?rt.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=zS(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${zS(t.fields[s])}`;return i+"}"}(n.mapValue):ot()}function ph(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function $S(n){return!!n&&"integerValue"in n}function G_(n){return!!n&&"arrayValue"in n}function z7(n){return!!n&&"nullValue"in n}function $7(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Sb(n){return!!n&&"mapValue"in n}function Db(n){var e,t;return"__vector__"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function H_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ou(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=H_(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=H_(n.arrayValue.values[t]);return e}return Object.assign({},n)}function q7(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class ro{constructor(e){this.value=e}static empty(){return new ro({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Sb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=H_(t)}setAll(e){let t=Rr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=H_(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Sb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Al(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Sb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ou(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new ro(H_(this.value))}}function K7(n){const e=[];return Ou(n.fields,(t,r)=>{const i=new Rr([t]);if(Sb(r)){const o=K7(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new _s(e)}class Er{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Er(e,0,Et.min(),Et.min(),Et.min(),ro.empty(),0)}static newFoundDocument(e,t,r,i){return new Er(e,1,t,Et.min(),r,i,0)}static newNoDocument(e,t){return new Er(e,2,t,Et.min(),Et.min(),ro.empty(),0)}static newUnknownDocument(e,t){return new Er(e,3,t,Et.min(),Et.min(),ro.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Et.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ro.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ro.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Er(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Uu{constructor(e,t){this.position=e,this.inclusive=t}}function Q7(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],s=n.position[i];if(r=o.field.isKeyField()?rt.comparator(rt.fromName(s.referenceValue),t.key):Vu(s,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Y7(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Al(n.position[t],e.position[t]))return!1;return!0}class W_{constructor(e,t="asc"){this.field=e,this.dir=t}}function Hfe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Z7{}class wn extends Z7{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Wfe(e,t,r):"array-contains"===t?new Yfe(e,r):"in"===t?new rU(e,r):"not-in"===t?new Zfe(e,r):"array-contains-any"===t?new Jfe(e,r):new wn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Kfe(e,r):new Qfe(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Vu(t,this.value)):null!==t&&Fu(this.value)===Fu(t)&&this.matchesComparison(Vu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends Z7{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Kn(e,t)}matches(e){return Op(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Op(n){return"and"===n.op}function GS(n){return function J7(n){for(const e of n.filters)if(e instanceof Kn)return!1;return!0}(n)&&Op(n)}function HS(n){if(n instanceof wn)return n.field.canonicalString()+n.op.toString()+kp(n.value);if(GS(n))return n.filters.map(e=>HS(e)).join(",");{const e=n.filters.map(t=>HS(t)).join(",");return`${n.op}(${e})`}}function X7(n,e){return n instanceof wn?(r=n,(i=e)instanceof wn&&r.op===i.op&&r.field.isEqual(i.field)&&Al(r.value,i.value)):n instanceof Kn?function(r,i){return i instanceof Kn&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&X7(s,i.filters[a]),!0)}(n,e):void ot();var r,i}function tU(n){return n instanceof wn?`${(t=n).field.canonicalString()} ${t.op} ${kp(t.value)}`:n instanceof Kn?function(t){return t.op.toString()+" {"+t.getFilters().map(tU).join(" ,")+"}"}(n):"Filter";var t}class Wfe extends wn{constructor(e,t,r){super(e,t,r),this.key=rt.fromName(r.referenceValue)}matches(e){const t=rt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Kfe extends wn{constructor(e,t){super(e,"in",t),this.keys=nU(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Qfe extends wn{constructor(e,t){super(e,"not-in",t),this.keys=nU(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nU(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>rt.fromName(r.referenceValue))}class Yfe extends wn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return G_(t)&&q_(t.arrayValue,this.value)}}class rU extends wn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&q_(this.value.arrayValue,t)}}class Zfe extends wn{constructor(e,t){super(e,"not-in",t)}matches(e){if(q_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!q_(this.value.arrayValue,t)}}class Jfe extends wn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!G_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>q_(this.value.arrayValue,r))}}class Xfe{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function WS(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Xfe(n,e,t,r,i,o,s)}function gh(n){const e=et(n);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>HS(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),j_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>kp(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>kp(r)).join(",")),e.ue=t}return e.ue}function K_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Hfe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!X7(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Y7(n.startAt,e.startAt)&&Y7(n.endAt,e.endAt)}function xb(n){return rt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Rc{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null}}function Lp(n){return new Rc(n)}function aU(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function KS(n){return null!==n.collectionGroup}function Fp(n){const e=et(n);if(null===e.ce){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new er(Rr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new W_(o,r))}),t.has(Rr.keyField().canonicalString())||e.ce.push(new W_(Rr.keyField(),r))}return e.ce}function Eo(n){const e=et(n);return e.le||(e.le=function cU(n,e){if("F"===n.limitType)return WS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new W_(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new Uu(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Uu(n.startAt.position,n.startAt.inclusive):null;return WS(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,Fp(n))),e.le}function QS(n,e){const t=n.filters.concat([e]);return new Rc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Mb(n,e,t){return new Rc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Q_(n,e){return K_(Eo(n),Eo(e))&&n.limitType===e.limitType}function uU(n){return`${gh(Eo(n))}|lt:${n.limitType}`}function Vp(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>tU(i)).join(", ")}]`),j_(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>kp(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>kp(i)).join(",")),`Target(${r})`}(Eo(n))}; limitType=${n.limitType})`}function Y_(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):rt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Fp(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(s,a,l){const c=Q7(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,Fp(r),i)||r.endAt&&!function(s,a,l){const c=Q7(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,Fp(r),i)));var r,i}function hU(n){return(e,t)=>{let r=!1;for(const i of Fp(n)){const o=epe(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function epe(n,e,t){const r=n.field.isKeyField()?rt.comparator(e.key,t.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return null!==l&&null!==c?Vu(l,c):ot()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}class kc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ou(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return F7(this.inner)}size(){return this.innerSize}}const tpe=new mr(rt.comparator);function vs(){return tpe}const fU=new mr(rt.comparator);function Z_(...n){let e=fU;for(const t of n)e=e.insert(t.key,t);return e}function pU(n){let e=fU;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Tl(){return J_()}function gU(){return J_()}function J_(){return new kc(n=>n.toString(),(n,e)=>n.isEqual(e))}const npe=new mr(rt.comparator),rpe=new er(rt.comparator);function an(...n){let e=rpe;for(const t of n)e=e.add(t);return e}const ipe=new er(Kt);function ZS(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:z_(e)?"-0":e}}function mU(n){return{integerValue:""+n}}function _U(n,e){return function D7(n){return"number"==typeof n&&Number.isInteger(n)&&!z_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?mU(e):ZS(n,e)}class Nb{constructor(){this._=void 0}}function ope(n,e,t){return n instanceof Up?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Cb(o)&&(o=Eb(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof mh?yU(n,e):n instanceof _h?bU(n,e):function(i,o){const s=vU(i,o),a=wU(s)+wU(i.Pe);return $S(s)&&$S(i.Pe)?mU(a):ZS(i.serializer,a)}(n,e)}function spe(n,e,t){return n instanceof mh?yU(n,e):n instanceof _h?bU(n,e):t}function vU(n,e){return n instanceof Bp?$S(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class Up extends Nb{}class mh extends Nb{constructor(e){super(),this.elements=e}}function yU(n,e){const t=IU(e);for(const r of n.elements)t.some(i=>Al(i,r))||t.push(r);return{arrayValue:{values:t}}}class _h extends Nb{constructor(e){super(),this.elements=e}}function bU(n,e){let t=IU(e);for(const r of n.elements)t=t.filter(i=>!Al(i,r));return{arrayValue:{values:t}}}class Bp extends Nb{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function wU(n){return kr(n.integerValue||n.doubleValue)}function IU(n){return G_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class lpe{constructor(e,t){this.version=e,this.transformResults=t}}class Or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rb(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class kb{}function CU(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new zp(n.key,Or.none()):new jp(n.key,n.data,Or.none());{const t=n.data,r=ro.empty();let i=new er(Rr.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Oc(n.key,r,new _s(i.toArray()),Or.none())}}function cpe(n,e,t){n instanceof jp?function(i,o,s){const a=i.value.clone(),l=TU(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Oc?function(i,o,s){if(!Rb(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=TU(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(AU(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function e1(n,e,t,r){return n instanceof jp?function(o,s,a,l){if(!Rb(o.precondition,s))return a;const c=o.value.clone(),u=SU(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Oc?function(o,s,a,l){if(!Rb(o.precondition,s))return a;const c=SU(o.fieldTransforms,l,s),u=s.data;return u.setAll(AU(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(n,e,t,r):(a=t,Rb(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function upe(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=vU(r.transform,i||null);null!=o&&(null===t&&(t=ro.empty()),t.set(r.field,o))}return t||null}function EU(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Pp(r,i,(o,s)=>function ape(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof mh&&i instanceof mh||r instanceof _h&&i instanceof _h?Pp(r.elements,i.elements,Al):r instanceof Bp&&i instanceof Bp?Al(r.Pe,i.Pe):r instanceof Up&&i instanceof Up);var r,i}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class jp extends kb{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Oc extends kb{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function AU(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function TU(n,e,t){const r=new Map;ft(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,spe(s,a,t[i]))}return r}function SU(n,e,t){const r=new Map;for(const i of n){const o=i.transform,s=t.data.field(i.field);r.set(i.field,ope(o,s,e))}return r}class zp extends kb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JS extends kb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class XS{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&cpe(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=e1(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=e1(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=gU();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const l=CU(s,a);null!==l&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Et.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),an())}isEqual(e){return this.batchId===e.batchId&&Pp(this.mutations,e.mutations,(t,r)=>EU(t,r))&&Pp(this.baseMutations,e.baseMutations,(t,r)=>EU(t,r))}}class eD{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ft(e.mutations.length===r.length);let i=npe;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new eD(e,t,r,i)}}class tD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class dpe{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ii,Dn;function PU(n){if(void 0===n)return ui("GRPC error has no .code"),Ie.UNKNOWN;switch(n){case Ii.OK:return Ie.OK;case Ii.CANCELLED:return Ie.CANCELLED;case Ii.UNKNOWN:return Ie.UNKNOWN;case Ii.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case Ii.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case Ii.INTERNAL:return Ie.INTERNAL;case Ii.UNAVAILABLE:return Ie.UNAVAILABLE;case Ii.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case Ii.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case Ii.NOT_FOUND:return Ie.NOT_FOUND;case Ii.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case Ii.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case Ii.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case Ii.ABORTED:return Ie.ABORTED;case Ii.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case Ii.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case Ii.DATA_LOSS:return Ie.DATA_LOSS;default:return ot()}}(Dn=Ii||(Ii={}))[Dn.OK=0]="OK",Dn[Dn.CANCELLED=1]="CANCELLED",Dn[Dn.UNKNOWN=2]="UNKNOWN",Dn[Dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dn[Dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dn[Dn.NOT_FOUND=5]="NOT_FOUND",Dn[Dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dn[Dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dn[Dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dn[Dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dn[Dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dn[Dn.ABORTED=10]="ABORTED",Dn[Dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dn[Dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dn[Dn.INTERNAL=13]="INTERNAL",Dn[Dn.UNAVAILABLE=14]="UNAVAILABLE",Dn[Dn.DATA_LOSS=15]="DATA_LOSS";const hpe=new ch([4294967295,4294967295],0);function NU(n){const e=function MU(){return new TextEncoder}().encode(n),t=new d7;return t.update(e),new Uint8Array(t.digest())}function RU(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ch([t,r],0),new ch([i,o],0)]}class nD{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new t1(`Invalid padding: ${t}`);if(r<0)throw new t1(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new t1(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new t1(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=ch.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(ch.fromNumber(r)));return 1===i.compare(hpe)&&(i=new ch([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=NU(e),[r,i]=RU(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new nD(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Ie)return;const t=NU(e),[r,i]=RU(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class t1 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class n1{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,r1.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n1(Et.min(),i,new mr(Kt),vs(),an())}}class r1{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new r1(r,t,an(),an(),an())}}class Lb{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class kU{constructor(e,t){this.targetId=e,this.me=t}}class OU{constructor(e,t,r=Jr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class LU{constructor(){this.fe=0,this.ge=VU(),this.pe=Jr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=an(),t=an(),r=an();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ot()}}),new r1(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=VU()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ft(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class fpe{constructor(e){this.Le=e,this.Be=new Map,this.ke=vs(),this.qe=FU(),this.Qe=new mr(Kt)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const o=i.target;if(xb(o))if(0===r){const s=new rt(o.path);this.Ue(t,s,Er.newNoDocument(s,Et.min()))}else ft(1===r);else{const s=this.Ye(t);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;0!==l&&(this.je(t),this.Qe=this.Qe.insert(t,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let s,a;try{s=Nc(r).toUint8Array()}catch(l){if(l instanceof U7)return _a("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new nD(s,i,o)}catch(l){return _a(l instanceof t1?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Ie?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&xb(a.target)){const l=new rt(a.target.path);null!==this.ke.get(l)||this.it(s,l)||this.Ue(s,l,Er.newNoDocument(l,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=an();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Je(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new n1(e,t,this.Qe,this.ke,r);return this.ke=vs(),this.qe=FU(),this.Qe=new mr(Kt),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new LU,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new er(Kt),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||je("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new LU),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function FU(){return new mr(rt.comparator)}function VU(){return new mr(rt.comparator)}const ppe={asc:"ASCENDING",desc:"DESCENDING"},gpe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mpe={and:"AND",or:"OR"};class _pe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rD(n,e){return n.useProto3Json||j_(e)?e:{value:e}}function $p(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UU(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function vpe(n,e){return $p(n,e.toTimestamp())}function di(n){return ft(!!n),Et.fromTimestamp(function(t){const r=Mc(t);return new Nr(r.seconds,r.nanos)}(n))}function iD(n,e){return oD(n,e).canonicalString()}function oD(n,e){const t=(i=n,new bn(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?t:t.child(e)}function BU(n){const e=bn.fromString(n);return ft(ZU(e)),e}function i1(n,e){return iD(n.databaseId,e.path)}function Sl(n,e){const t=BU(e);if(t.get(1)!==n.databaseId.projectId)throw new ze(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ze(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new rt($U(t))}function jU(n,e){return iD(n.databaseId,e)}function sD(n){return new bn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $U(n){return ft(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function qU(n,e,t){return{name:i1(n,e),fields:t.value.mapValue.fields}}function HU(n,e){return{documents:[jU(n,e.path)]}}function Fb(n,e){const t={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=jU(n,i);const o=function(c){if(0!==c.length)return YU(Kn.create(c,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const s=function(c){if(0!==c.length)return c.map(u=>{return{field:Bu((g=u).field),direction:Cpe(g.dir)};var g})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const a=rD(n,e.limit);return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:i};var c}function KU(n){let e=function zU(n){const e=BU(n);return 4===e.length?bn.emptyPath():$U(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ft(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(d){const g=QU(d);return g instanceof Kn&&GS(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(g=>{return new W_(qp((y=g).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction));var y}));let a=null;t.limit&&(a=function(d){let g;return g="object"==typeof d?d.value:d,j_(g)?null:g}(t.limit));let l=null;var d;t.startAt&&(l=new Uu((d=t.startAt).values||[],!!d.before));let c=null;return t.endAt&&(c=function(d){return new Uu(d.values||[],!d.before)}(t.endAt)),function sU(n,e,t,r,i,o,s,a){return new Rc(n,e,t,r,i,o,s,a)}(e,i,s,o,a,"F",l,c)}function QU(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=qp(t.unaryFilter.field);return wn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=qp(t.unaryFilter.field);return wn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=qp(t.unaryFilter.field);return wn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=qp(t.unaryFilter.field);return wn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(n):void 0!==n.fieldFilter?wn.create(qp((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Kn.create(t.compositeFilter.filters.map(r=>QU(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ot()}}(t.compositeFilter.op))}(n):ot();var t}function Cpe(n){return ppe[n]}function Epe(n){return gpe[n]}function Ape(n){return mpe[n]}function Bu(n){return{fieldPath:n.canonicalString()}}function qp(n){return Rr.fromServerFormat(n.fieldPath)}function YU(n){return n instanceof wn?function(t){if("=="===t.op){if($7(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NAN"}};if(z7(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if($7(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NOT_NAN"}};if(z7(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bu(t.field),op:Epe(t.op),value:t.value}}}(n):n instanceof Kn?function(t){const r=t.getFilters().map(i=>YU(i));return 1===r.length?r[0]:{compositeFilter:{op:Ape(t.op),filters:r}}}(n):ot()}function Tpe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ZU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Lc{constructor(e,t,r,i,o=Et.min(),s=Et.min(),a=Jr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Lc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Lc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class JU{constructor(e){this.ct=e}}function lD(n){const e=KU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Mb(e,e.limit,"L"):e}class wh{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(kr(e.integerValue));else if("doubleValue"in e){const r=kr(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),z_(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),"string"==typeof r&&(r=Mc(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Nc(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?q7(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Db(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ot()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const r=e.fields||{};this.dt(t,55);for(const i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;const o=e.fields||{};this.dt(t,53);const s="value",a=(null===(i=null===(r=o[s].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.dt(t,15),t.At(kr(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){const r=e.values||[];this.dt(t,50);for(const i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),rt.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}wh.vt=new wh;class Ope{constructor(){this.un=new pD}addToCollectionParentIndex(e,t){return this.un.add(t),ge.resolve()}getCollectionParents(e,t){return ge.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return ge.resolve()}deleteFieldIndex(e,t){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,t){return ge.resolve()}getDocumentsMatchingTarget(e,t){return ge.resolve(null)}getIndexType(e,t){return ge.resolve(0)}getFieldIndexes(e,t){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,t){return ge.resolve(js.min())}getMinOffsetFromCollectionGroup(e,t){return ge.resolve(js.min())}updateCollectionGroup(e,t,r){return ge.resolve()}updateIndexEntries(e,t){return ge.resolve()}}class pD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new er(bn.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new er(bn.comparator)).toArray()}}new Uint8Array(0);class Ao{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ao(e,Ao.DEFAULT_COLLECTION_PERCENTILE,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ao.DEFAULT_COLLECTION_PERCENTILE=10,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ao.DEFAULT=new Ao(41943040,Ao.DEFAULT_COLLECTION_PERCENTILE,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ao.DISABLED=new Ao(-1,0,0);class Ch{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ch(0)}static kn(){return new Ch(-1)}}class wB{constructor(){this.changes=new kc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Er.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ge.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $pe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class TB{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&e1(r.mutation,i,_s.empty(),Nr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,an()).next(()=>r))}getLocalViewOfDocuments(e,t,r=an()){const i=Tl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Z_();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=Tl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,an()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=vs();const s=J_(),a=J_();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(void 0===u||u.mutation instanceof Oc)?o=o.insert(c.key,c):void 0!==u?(s.set(c.key,u.mutation.getFieldMask()),e1(u.mutation,c,u.mutation.getFieldMask(),Nr.now())):s.set(c.key,_s.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new $pe(u,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=J_();let i=new mr((s,a)=>s-a),o=an();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=r.get(l)||_s.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||an()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=gU();u.forEach(g=>{if(!o.has(g)){const p=CU(t.get(g),r.get(g));null!==p&&d.set(g,p),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return ge.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return rt.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):KS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var s}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):ge.resolve(Tl());let a=-1,l=o;return s.next(c=>ge.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?ge.resolve():this.remoteDocumentCache.getEntry(e,u).next(g=>{l=l.insert(u,g)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,an())).next(u=>({batchId:a,changes:pU(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rt(t)).next(r=>{let i=Z_();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let s=Z_();return this.indexManager.getCollectionParents(e,o).next(a=>ge.forEach(a,l=>{const c=(d=t,g=l.child(o),new Rc(g,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,g;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,g)=>{s=s.insert(d,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();null===s.get(u)&&(s=s.insert(u,Er.newInvalidDocument(u)))});let a=Z_();return s.forEach((l,c)=>{const u=o.get(l);void 0!==u&&e1(u.mutation,c,_s.empty(),Nr.now()),Y_(t,c)&&(a=a.insert(l,c))}),a})}}class qpe{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return ge.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,{id:(i=t).id,version:i.version,createTime:di(i.createTime)}),ge.resolve();var i}getNamedQuery(e,t){return ge.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,{name:(i=t).name,query:lD(i.bundledQuery),readTime:di(i.readTime)}),ge.resolve();var i}}class Gpe{constructor(){this.overlays=new mr(rt.comparator),this.Ir=new Map}getOverlay(e,t){return ge.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Tl();return ge.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),ge.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ir.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),ge.resolve()}getOverlaysForCollection(e,t,r){const i=Tl(),o=t.length+1,s=new rt(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new mr((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=o.get(c.largestBatchId);null===u&&(u=Tl(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Tl(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return ge.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new tD(t,r));let o=this.Ir.get(t);void 0===o&&(o=an(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}}class Hpe{constructor(){this.sessionToken=Jr.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ge.resolve()}}class gD{constructor(){this.Tr=new er($i.Er),this.dr=new er($i.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new $i(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new $i(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){const t=new rt(new bn([])),r=new $i(t,e),i=new $i(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new rt(new bn([])),r=new $i(t,e),i=new $i(t,e+1);let o=an();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new $i(e,0),r=this.Tr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class $i{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return rt.comparator(e.key,t.key)||Kt(e.wr,t.wr)}static Ar(e,t){return Kt(e.wr,t.wr)||rt.comparator(e.key,t.key)}}class Wpe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new er($i.Er)}checkEmpty(e){return ge.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.Sr;this.Sr++;const s=new XS(o,t,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new $i(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ge.resolve(s)}lookupMutationBatch(e,t){return ge.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.vr(t+1),o=i<0?0:i;return ge.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new $i(t,0),i=new $i(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),ge.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new er(Kt);return t.forEach(i=>{const o=new $i(i,0),s=new $i(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),ge.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;rt.isDocumentKey(o)||(o=o.child(""));const s=new $i(new rt(o),0);let a=new er(Kt);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},s),ge.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(r=>{const i=this.Dr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ft(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.br;return ge.forEach(t.mutations,i=>{const o=new $i(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){const r=new $i(t,0),i=this.br.firstAfterOrEqual(r);return ge.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ge.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Kpe{constructor(e){this.Mr=e,this.docs=new mr(rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ge.resolve(r?r.document.mutableCopy():Er.newInvalidDocument(t))}getEntries(e,t){let r=vs();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Er.newInvalidDocument(i))}),ge.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=vs();const s=t.path,a=new rt(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||FS(C7(u),r)<=0||(i.has(u.key)||Y_(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return ge.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ot()}Or(e,t){return ge.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Qpe(this)}getSize(e){return ge.resolve(this.size)}}class Qpe extends wB{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ge.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Ype{constructor(e){this.persistence=e,this.Nr=new kc(t=>gh(t),K_),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.Lr=0,this.Br=new gD,this.targetCount=0,this.kr=Ch.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),ge.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Ch(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,ge.resolve()}updateTargetData(e,t){return this.Kn(t),ge.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ge.waitFor(o).next(()=>i)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return ge.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),ge.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ge.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),ge.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return ge.resolve(r)}containsKey(e,t){return ge.resolve(this.Br.containsKey(t))}}class mD{constructor(e,t){this.qr={},this.overlays={},this.Qr=new zs(0),this.Kr=!1,this.Kr=!0,this.$r=new Hpe,this.referenceDelegate=e(this),this.Ur=new Ype(this),this.indexManager=new Ope,this.remoteDocumentCache=new Kpe(r=>this.referenceDelegate.Wr(r)),this.serializer=new JU(t),this.Gr=new qpe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Gpe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new Wpe(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){je("MemoryPersistence","Starting transaction:",e);const i=new Zpe(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return ge.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}}class Zpe extends A7{constructor(e){super(),this.currentSequenceNumber=e}}class Gb{constructor(e){this.persistence=e,this.Jr=new gD,this.Yr=null}static Zr(e){return new Gb(e)}get Xr(){if(this.Yr)return this.Yr;throw ot()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),ge.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),ge.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.Xr,r=>{const i=rt.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,Et.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return ge.or([()=>ge.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class bD{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=an(),i=an();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new bD(e,t.fromCache,r,i)}}class Xpe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class DB{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function M8(){return!function kle(){var n;const e=null===(n=Yy())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function T7(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}(to())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Xpe;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(xp()<=yn.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",Vp(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ge.resolve()):(xp()<=yn.DEBUG&&je("QueryEngine","Query:",Vp(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(xp()<=yn.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",Vp(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Eo(t))):ge.resolve())}Yi(e,t){if(aU(t))return ge.resolve(null);let r=Eo(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Mb(t,null,"F"),r=Eo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=an(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(t,a);return this.ns(t,c,s,l.readTime)?this.Yi(e,Mb(t,null,"F")):this.rs(e,c,t,l)}))})))}Zi(e,t,r,i){return aU(t)||i.isEqual(Et.min())?ge.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(t,o);return this.ns(t,s,r,i)?ge.resolve(null):(xp()<=yn.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vp(t)),this.rs(e,s,t,function I7(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Et.fromTimestamp(1e9===r?new Nr(t+1,0):new Nr(t,r));return new js(i,rt.empty(),e)}(i,-1)).next(a=>a))})}ts(e,t){let r=new er(hU(e));return t.forEach((i,o)=>{Y_(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return xp()<=yn.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",Vp(t)),this.Ji.getDocumentsMatchingQuery(e,t,js.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class ege{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new mr(Kt),this._s=new kc(o=>gh(o),K_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TB(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function PB(n,e){return wD.apply(this,arguments)}function wD(){return wD=(0,ne.A)(function*(n,e){const t=et(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=an();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:a}))})})}),wD.apply(this,arguments)}function MB(n){const e=et(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function rge(n,e){const t=et(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Yp(n,e,t){return ID.apply(this,arguments)}function ID(){return ID=(0,ne.A)(function*(n,e,t){const r=et(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ku(s))throw s;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}),ID.apply(this,arguments)}function Kb(n,e,t){const r=et(n);let i=Et.min(),o=an();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const d=et(l),g=d._s.get(u);return void 0!==g?ge.resolve(d.os.get(g)):d.Ur.getTargetData(c,u)}(r,s,Eo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:Et.min(),t?o:an())).next(a=>(function OB(n,e,t){let r=n.us.get(e)||Et.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}(r,function dU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,Ts:o})))}class SD{constructor(){this.activeTargetIds=function YS(){return ipe}()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VB{constructor(){this.so=new SD,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new SD,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sge{_o(e){}shutdown(){}}class UB{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Zb=null;function xD(){return null===Zb?Zb=268435456+Math.round(2147483648*Math.random()):Zb++,"0x"+Zb.toString(16)}const age={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lge{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const To="WebChannelConnection";class cge extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){const a=xD(),l=this.xo(t,r.toUriEncodedString());je("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,o,s),this.No(t,l,c,i).then(u=>(je("RestConnection",`Received RPC '${t}' ${a}: `,u),u),u=>{throw _a("RestConnection",`RPC '${t}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Dp,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){return`${this.Do}/v1/${r}:${age[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){const o=xD();return new Promise((s,a)=>{const l=new h7;l.setWithCredentials(!0),l.listenOnce(f7.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case yb.NO_ERROR:const u=l.getResponseJson();je(To,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case yb.TIMEOUT:je(To,`RPC '${e}' ${o} timed out`),a(new ze(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case yb.HTTP_ERROR:const d=l.getStatus();if(je(To,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const p=g?.error;if(p&&p.status&&p.message){const y=function(I){const A=I.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(A)>=0?A:Ie.UNKNOWN}(p.status);a(new ze(y,p.message))}else a(new ze(Ie.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ze(Ie.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{je(To,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);je(To,`RPC '${e}' ${o} sending request:`,i),l.send(t,"POST",c,r,15)})}Bo(e,t,r){const i=xD(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=m7(),a=g7(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=o.join("");je(To,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=s.createWebChannel(u,l);let g=!1,p=!1;const y=new lge({Io:I=>{p?je(To,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(g||(je(To,`Opening RPC '${e}' stream ${i} transport.`),d.open(),g=!0),je(To,`RPC '${e}' stream ${i} sending:`,I),d.send(I))},To:()=>d.close()}),w=(I,A,R)=>{I.listen(A,F=>{try{R(F)}catch(L){setTimeout(()=>{throw L},0)}})};return w(d,V_.EventType.OPEN,()=>{p||(je(To,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),w(d,V_.EventType.CLOSE,()=>{p||(p=!0,je(To,`RPC '${e}' stream ${i} transport closed`),y.So())}),w(d,V_.EventType.ERROR,I=>{p||(p=!0,_a(To,`RPC '${e}' stream ${i} transport errored:`,I),y.So(new ze(Ie.UNAVAILABLE,"The operation could not be completed")))}),w(d,V_.EventType.MESSAGE,I=>{var A;if(!p){const R=I.data[0];ft(!!R);const L=R.error||(null===(A=R[0])||void 0===A?void 0:A.error);if(L){je(To,`RPC '${e}' stream ${i} received error:`,L);const J=L.status;let ae=function(x){const B=Ii[x];if(void 0!==B)return PU(B)}(J),q=L.message;void 0===ae&&(ae=Ie.INTERNAL,q="Unknown error status: "+J+" with message "+L.message),p=!0,y.So(new ze(ae,q)),d.close()}else je(To,`RPC '${e}' stream ${i} received:`,R),y.bo(R)}}),w(a,p7.STAT_EVENT,I=>{I.stat===kS.PROXY?je(To,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===kS.NOPROXY&&je(To,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function Jb(){return typeof document<"u"?document:null}function f1(n){return new _pe(n,!0)}class PD{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class jB{constructor(e,t,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new PD(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,ne.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,ne.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){var r=this;return(0,ne.A)(function*(){r.u_(),r.c_(),r.t_.cancel(),r.Yo++,4!==e?r.t_.reset():t&&t.code===Ie.RESOURCE_EXHAUSTED?(ui(t.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),r.t_.Wo()):t&&t.code===Ie.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.l_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.mo(t)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{const i=new ze(Ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>1==++this.e_?this.E_(i):this.onNext(i))})}i_(){var e=this;this.state=5,this.t_.Go((0,ne.A)(function*(){e.state=0,e.start()}))}I_(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uge extends jB{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function bpe(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:ot(),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(ft(void 0===u||"string"==typeof u),Jr.fromBase64String(u||"")):(ft(void 0===u||u instanceof Buffer||u instanceof Uint8Array),Jr.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=void 0===c.code?Ie.UNKNOWN:PU(c.code);return new ze(u,c.message||"")}(s);t=new OU(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Sl(n,r.document.name),o=di(r.document.updateTime),s=r.document.createTime?di(r.document.createTime):Et.min(),a=new ro({mapValue:{fields:r.document.fields}}),l=Er.newFoundDocument(i,o,s,a);t=new Lb(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=Sl(n,r.document),o=r.readTime?di(r.readTime):Et.min(),s=Er.newNoDocument(i,o);t=new Lb([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Sl(n,r.document);t=new Lb([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ot();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new dpe(i,o);t=new kU(r.targetId,s)}}var c;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return Et.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Et.min():s.readTime?di(s.readTime):Et.min()}(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=sD(this.serializer),t.addTarget=function(o,s){let a;const l=s.target;if(a=xb(l)?{documents:HU(o,l)}:{query:Fb(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=UU(o,s.resumeToken);const c=rD(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Et.min())>0){a.readTime=$p(o,s.snapshotVersion.toTimestamp());const c=rD(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function Ipe(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=sD(this.serializer),t.removeTarget=e,this.a_(t)}}class dge extends jB{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return ft(!!e.streamToken),this.lastStreamToken=e.streamToken,ft(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function wpe(n,e){return n&&n.length>0?(ft(void 0!==e),n.map(t=>function(i,o){let s=di(i.updateTime?i.updateTime:o);return s.isEqual(Et.min())&&(s=di(o)),new lpe(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=di(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=sD(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function o1(n,e){let t;if(e instanceof jp)t={update:qU(n,e.key,e.value)};else if(e instanceof zp)t={delete:i1(n,e.key)};else if(e instanceof Oc)t={update:qU(n,e.key,e.data),updateMask:Tpe(e.fieldMask)};else{if(!(e instanceof JS))return ot();t={verify:i1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Up)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof mh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _h)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Bp)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ot()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:vpe(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ot()),t;var o}(this.serializer,r))};this.a_(t)}}class hge extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ze(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,oD(t,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ze(Ie.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,oD(t,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ze(Ie.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class fge{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ui(t),this.D_=!1):je("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class pge{constructor(e,t,r,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget((0,ne.A)(function*(){var l;qu(s)&&(je("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,ne.A)(function*(u){const d=et(u);d.L_.add(4),yield Zp(d),d.q_.set("Unknown"),d.L_.delete(4),yield p1(d)}),function c(u){return l.apply(this,arguments)})(s))}))}),this.q_=new fge(r,i)}}function p1(n){return MD.apply(this,arguments)}function MD(){return MD=(0,ne.A)(function*(n){if(qu(n))for(const e of n.B_)yield e(!0)}),MD.apply(this,arguments)}function Zp(n){return ND.apply(this,arguments)}function ND(){return ND=(0,ne.A)(function*(n){for(const e of n.B_)yield e(!1)}),ND.apply(this,arguments)}function Xb(n,e){const t=et(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),OD(t)?kD(t):eg(t).r_()&&RD(t,e))}function Jp(n,e){const t=et(n),r=eg(t);t.N_.delete(e),r.r_()&&zB(t,e),0===t.N_.size&&(r.r_()?r.o_():qu(t)&&t.q_.set("Unknown"))}function RD(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}eg(n).A_(e)}function zB(n,e){n.Q_.xe(e),eg(n).R_(e)}function kD(n){n.Q_=new fpe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),eg(n).start(),n.q_.v_()}function OD(n){return qu(n)&&!eg(n).n_()&&n.N_.size>0}function qu(n){return 0===et(n).L_.size}function $B(n){n.Q_=void 0}function gge(n){return LD.apply(this,arguments)}function LD(){return LD=(0,ne.A)(function*(n){n.q_.set("Online")}),LD.apply(this,arguments)}function mge(n){return FD.apply(this,arguments)}function FD(){return FD=(0,ne.A)(function*(n){n.N_.forEach((e,t)=>{RD(n,e)})}),FD.apply(this,arguments)}function _ge(n,e){return VD.apply(this,arguments)}function VD(){return VD=(0,ne.A)(function*(n,e){$B(n),OD(n)?(n.q_.M_(e),kD(n)):n.q_.set("Unknown")}),VD.apply(this,arguments)}function vge(n,e,t){return UD.apply(this,arguments)}function UD(){return UD=(0,ne.A)(function*(n,e,t){if(n.q_.set("Online"),e instanceof OU&&2===e.state&&e.cause)try{yield(r=(0,ne.A)(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.N_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.N_.delete(l),o.Q_.removeTarget(l))}),function i(o,s){return r.apply(this,arguments)})(n,e)}catch(r){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield e2(n,r)}else if(e instanceof Lb?n.Q_.Ke(e):e instanceof kU?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Et.min()))try{const r=yield MB(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.N_.get(c);u&&o.N_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.N_.get(l);if(!u)return;o.N_.set(l,u.withResumeToken(Jr.EMPTY_BYTE_STRING,u.snapshotVersion)),zB(o,l);const d=new Lc(u.target,l,c,u.sequenceNumber);RD(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){je("RemoteStore","Failed to raise snapshot:",r),yield e2(n,r)}var r}),UD.apply(this,arguments)}function e2(n,e,t){return BD.apply(this,arguments)}function BD(){return BD=(0,ne.A)(function*(n,e,t){if(!ku(e))throw e;n.L_.add(1),yield Zp(n),n.q_.set("Offline"),t||(t=()=>MB(n.localStore)),n.asyncQueue.enqueueRetryable((0,ne.A)(function*(){je("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield p1(n)}))}),BD.apply(this,arguments)}function qB(n,e){return e().catch(t=>e2(n,t,e))}function Xp(n){return jD.apply(this,arguments)}function jD(){return jD=(0,ne.A)(function*(n){const e=et(n),t=Gu(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;yge(e);)try{const i=yield rge(e.localStore,r);if(null===i){0===e.O_.length&&t.o_();break}r=i.batchId,bge(e,i)}catch(i){yield e2(e,i)}GB(e)&&HB(e)}),jD.apply(this,arguments)}function yge(n){return qu(n)&&n.O_.length<10}function bge(n,e){n.O_.push(e);const t=Gu(n);t.r_()&&t.V_&&t.m_(e.mutations)}function GB(n){return qu(n)&&!Gu(n).n_()&&n.O_.length>0}function HB(n){Gu(n).start()}function wge(n){return zD.apply(this,arguments)}function zD(){return zD=(0,ne.A)(function*(n){Gu(n).p_()}),zD.apply(this,arguments)}function Ige(n){return $D.apply(this,arguments)}function $D(){return $D=(0,ne.A)(function*(n){const e=Gu(n);for(const t of n.O_)e.m_(t.mutations)}),$D.apply(this,arguments)}function Cge(n,e,t){return qD.apply(this,arguments)}function qD(){return qD=(0,ne.A)(function*(n,e,t){const r=n.O_.shift(),i=eD.from(r,e,t);yield qB(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Xp(n)}),qD.apply(this,arguments)}function Ege(n,e){return GD.apply(this,arguments)}function GD(){return GD=(0,ne.A)(function*(n,e){var t;e&&Gu(n).V_&&(yield(t=(0,ne.A)(function*(i,o){if(function xU(n){switch(n){default:return ot();case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0}}(a=o.code)&&a!==Ie.ABORTED){const s=i.O_.shift();Gu(i).s_(),yield qB(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Xp(i)}var a}),function r(i,o){return t.apply(this,arguments)})(n,e)),GB(n)&&HB(n)}),GD.apply(this,arguments)}function WB(n,e){return HD.apply(this,arguments)}function HD(){return HD=(0,ne.A)(function*(n,e){const t=et(n);t.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const r=qu(t);t.L_.add(3),yield Zp(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield p1(t)}),HD.apply(this,arguments)}function KD(){return KD=(0,ne.A)(function*(n,e){const t=et(n);e?(t.L_.delete(2),yield p1(t)):e||(t.L_.add(2),yield Zp(t),t.q_.set("Unknown"))}),KD.apply(this,arguments)}function eg(n){return n.K_||(n.K_=function(t,r,i){const o=et(t);return o.w_(),new uge(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:gge.bind(null,n),Ro:mge.bind(null,n),mo:_ge.bind(null,n),d_:vge.bind(null,n)}),n.B_.push(function(){var e=(0,ne.A)(function*(t){t?(n.K_.s_(),OD(n)?kD(n):n.q_.set("Unknown")):(yield n.K_.stop(),$B(n))});return function(t){return e.apply(this,arguments)}}())),n.K_}function Gu(n){return n.U_||(n.U_=function(t,r,i){const o=et(t);return o.w_(),new dge(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:wge.bind(null,n),mo:Ege.bind(null,n),f_:Ige.bind(null,n),g_:Cge.bind(null,n)}),n.B_.push(function(){var e=(0,ne.A)(function*(t){t?(n.U_.s_(),yield Xp(n)):(yield n.U_.stop(),n.O_.length>0&&(je("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))});return function(t){return e.apply(this,arguments)}}())),n.U_}class QD{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new QD(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ze(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(n,e){if(ui("AsyncQueue",`${e}: ${n}`),ku(n))return new ze(Ie.UNAVAILABLE,`${e}: ${n}`);throw n}class ng{constructor(e){this.comparator=e?(t,r)=>e(t,r)||rt.comparator(t.key,r.key):(t,r)=>rt.comparator(t.key,r.key),this.keyedMap=Z_(),this.sortedSet=new mr(this.comparator)}static emptySet(e){return new ng(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ng)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ng;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class KB{constructor(){this.W_=new mr(rt.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?0!==e.type&&3===r.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==r.type?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.W_=this.W_.remove(t):1===e.type&&2===r.type?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ot():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}}class rg{constructor(e,t,r,i,o,s,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new rg(e,t,ng.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Q_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Age{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Tge{constructor(){this.queries=QB(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(t,r){const i=et(t),o=i.queries;i.queries=QB(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})}(this,new ze(Ie.ABORTED,"Firestore shutting down"))}}function QB(){return new kc(n=>uU(n),Q_)}function YD(n,e){return ZD.apply(this,arguments)}function ZD(){return ZD=(0,ne.A)(function*(n,e){const t=et(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new Age,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){const a=tg(s,`Initialization of query '${Vp(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&ex(t)}),ZD.apply(this,arguments)}function JD(n,e){return XD.apply(this,arguments)}function XD(){return XD=(0,ne.A)(function*(n,e){const t=et(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),0===o.j_.length?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}),XD.apply(this,arguments)}function Sge(n,e){const t=et(n);let r=!1;for(const i of e){const s=t.queries.get(i.query);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&ex(t)}function Dge(n,e,t){const r=et(n),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(t);r.queries.delete(e)}function ex(n){n.Y_.forEach(e=>{e.next()})}var tx,YB;(YB=tx||(tx={})).ea="default",YB.Cache="cache";class nx{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new rg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=rg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==tx.Cache}}class XB{constructor(e){this.key=e}}class e9{constructor(e){this.key=e}}class t9{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=an(),this.mutatedKeys=an(),this.Aa=hU(e),this.Ra=new ng(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new KB,i=t?t.Ra:this.Ra;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const g=i.get(u),p=Y_(this.query,d)?d:null,y=!!g&&this.mutatedKeys.has(g.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let I=!1;g&&p?g.data.isEqual(p.data)?y!==w&&(r.track({type:3,doc:p}),I=!0):this.ga(g,p)||(r.track({type:2,doc:p}),I=!0,(l&&this.Aa(p,l)>0||c&&this.Aa(p,c)<0)&&(a=!0)):!g&&p?(r.track({type:0,doc:p}),I=!0):g&&!p&&(r.track({type:1,doc:g}),I=!0,(l||c)&&(a=!0)),I&&(p?(s=s.add(p),o=w?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((u,d)=>function(p,y){const w=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return w(p)-w(y)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(r),i=null!=i&&i;const a=t&&!i?this.ya():[],l=0===this.da.size&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,0!==s.length||c?{snapshot:new rg(this.query,e.Ra,o,s,e.mutatedKeys,0===l,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new KB,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=an(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const t=[];return e.forEach(r=>{this.da.has(r)||t.push(new e9(r))}),this.da.forEach(r=>{e.has(r)||t.push(new XB(r))}),t}ba(e){this.Ta=e.Ts,this.da=an();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return rg.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Mge{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Nge{constructor(e){this.key=e,this.va=!1}}class Rge{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new kc(a=>uU(a),Q_),this.Ma=new Map,this.xa=new Set,this.Oa=new mr(rt.comparator),this.Na=new Map,this.La=new gD,this.Ba={},this.ka=new Map,this.qa=Ch.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function kge(n,e){return rx.apply(this,arguments)}function rx(){return rx=(0,ne.A)(function*(n,e,t=!0){const r=t2(n);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield n9(r,e,t,!0),i}),rx.apply(this,arguments)}function Oge(n,e){return ix.apply(this,arguments)}function ix(){return ix=(0,ne.A)(function*(n,e){const t=t2(n);yield n9(t,e,!0,!1)}),ix.apply(this,arguments)}function n9(n,e,t,r){return ox.apply(this,arguments)}function ox(){return ox=(0,ne.A)(function*(n,e,t,r){const i=yield function Qp(n,e){const t=et(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,ge.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new Lc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.os.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}(n.localStore,Eo(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t);let a;return r&&(a=yield function sx(n,e,t,r,i){return ax.apply(this,arguments)}(n,e,o,"current"===s,i.resumeToken)),n.isPrimaryClient&&t&&Xb(n.remoteStore,i),a}),ox.apply(this,arguments)}function ax(){return ax=(0,ne.A)(function*(n,e,t,r,i){n.Ka=(d,g,p)=>{return(y=(0,ne.A)(function*(I,A,R,F){let L=A.view.ma(R);L.ns&&(L=yield Kb(I.localStore,A.query,!1).then(({documents:P})=>A.view.ma(P,L)));const J=F&&F.targetChanges.get(A.targetId),ae=F&&null!=F.targetMismatches.get(A.targetId),q=A.view.applyChanges(L,I.isPrimaryClient,J,ae);return vx(I,A.targetId,q.wa),q.snapshot}),function w(I,A,R,F){return y.apply(this,arguments)})(n,d,g,p);var y};const o=yield Kb(n.localStore,e,!0),s=new t9(e,o.Ts),a=s.ma(o.documents),l=r1.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=s.applyChanges(a,n.isPrimaryClient,l);vx(n,t,c.wa);const u=new Mge(e,t,s);return n.Fa.set(e,u),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),c.snapshot}),ax.apply(this,arguments)}function Lge(n,e,t){return lx.apply(this,arguments)}function lx(){return lx=(0,ne.A)(function*(n,e,t){const r=et(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Q_(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Yp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Jp(r.remoteStore,i.targetId),ig(r,i.targetId)}).catch(Ru))):(ig(r,i.targetId),yield Yp(r.localStore,i.targetId,!0))}),lx.apply(this,arguments)}function Fge(n,e){return cx.apply(this,arguments)}function cx(){return cx=(0,ne.A)(function*(n,e){const t=et(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&1===i.length&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Jp(t.remoteStore,r.targetId))}),cx.apply(this,arguments)}function ux(){return ux=(0,ne.A)(function*(n,e,t){const r=function xx(n){const e=et(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bge.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jge.bind(null,e),e}(n);try{const i=yield function(s,a){const l=et(s),c=Nr.now(),u=a.reduce((p,y)=>p.add(y.key),an());let d,g;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=vs(),w=an();return l.cs.getEntries(p,u).next(I=>{y=I,y.forEach((A,R)=>{R.isValidDocument()||(w=w.add(A))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,y)).next(I=>{d=I;const A=[];for(const R of a){const F=upe(R,d.get(R.key).overlayedDocument);null!=F&&A.push(new Oc(R.key,F,K7(F.value.mapValue),Or.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,A,a)}).next(I=>{g=I;const A=I.applyToLocalDocumentSet(d,w);return l.documentOverlayCache.saveOverlays(p,I.batchId,A)})}).then(()=>({batchId:g.batchId,changes:pU(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Ba[s.currentUser.toKey()];c||(c=new mr(Kt)),c=c.insert(a,l),s.Ba[s.currentUser.toKey()]=c}(r,i.batchId,t),yield Fc(r,i.changes),yield Xp(r.remoteStore)}catch(i){const o=tg(i,"Failed to persist write");t.reject(o)}}),ux.apply(this,arguments)}function r9(n,e){return dx.apply(this,arguments)}function dx(){return dx=(0,ne.A)(function*(n,e){const t=et(n);try{const r=yield function nge(n,e){const t=et(n),r=e.snapshotVersion;let i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;const a=[];e.targetChanges.forEach((u,d)=>{const g=i.get(d);if(!g)return;a.push(t.Ur.removeMatchingKeys(o,u.removedDocuments,d).next(()=>t.Ur.addMatchingKeys(o,u.addedDocuments,d)));let p=g.withSequenceNumber(o.currentSequenceNumber);var w,I,A;null!==e.targetMismatches.get(d)?p=p.withResumeToken(Jr.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),I=p,A=u,(0===(w=g).resumeToken.approximateByteSize()||I.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0)&&a.push(t.Ur.updateTargetData(o,p))});let l=vs(),c=an();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(function NB(n,e,t){let r=an(),i=an();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=vs();return t.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Et.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):je("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:s,Is:i}})}(o,s,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(Et.min())){const u=t.Ur.getLastRemoteSnapshotVersion(o).next(d=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return ge.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(t.os=i,o))}(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.Na.get(o);s&&(ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?ft(s.va):i.removedDocuments.size>0&&(ft(s.va),s.va=!1))}),yield Fc(t,r,e)}catch(r){yield Ru(r)}}),dx.apply(this,arguments)}function i9(n,e,t){const r=et(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=et(s);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const g of d.j_)g.Z_(a)&&(c=!0)}),c&&ex(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Uge(n,e,t){return hx.apply(this,arguments)}function hx(){return hx=(0,ne.A)(function*(n,e,t){const r=et(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new mr(rt.comparator);s=s.insert(o,Er.newNoDocument(o,Et.min()));const a=an().add(o),l=new n1(Et.min(),new Map,new mr(Kt),s,a);yield r9(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),yx(r)}else yield Yp(r.localStore,e,!1).then(()=>ig(r,e,t)).catch(Ru)}),hx.apply(this,arguments)}function Bge(n,e){return fx.apply(this,arguments)}function fx(){return fx=(0,ne.A)(function*(n,e){const t=et(n),r=e.batch.batchId;try{const i=yield function tge(n,e){const t=et(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,g=d.keys();let p=ge.resolve();return g.forEach(y=>{p=p.next(()=>u.getEntry(l,y)).next(w=>{const I=c.docVersions.get(y);ft(null!==I),w.version.compareTo(I)<0&&(d.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),u.addEntry(w)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=an();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);_x(t,r,null),mx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Fc(t,i)}catch(i){yield Ru(i)}}),fx.apply(this,arguments)}function jge(n,e,t){return px.apply(this,arguments)}function px(){return px=(0,ne.A)(function*(n,e,t){const r=et(n);try{const i=yield function(s,a){const l=et(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(ft(null!==d),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);_x(r,e,t),mx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Fc(r,i)}catch(i){yield Ru(i)}}),px.apply(this,arguments)}function mx(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function _x(n,e,t){const r=et(n);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ig(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||o9(n,r)})}function o9(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);null!==t&&(Jp(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),yx(n))}function vx(n,e,t){for(const r of t)r instanceof XB?(n.La.addReference(r.key,e),$ge(n,r)):r instanceof e9?(je("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||o9(n,r.key)):ot()}function $ge(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(je("SyncEngine","New document in limbo: "+t),n.xa.add(r),yx(n))}function yx(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new rt(bn.fromString(e)),r=n.qa.next();n.Na.set(r,new Nge(t)),n.Oa=n.Oa.insert(t,r),Xb(n.remoteStore,new Lc(Eo(Lp(t.path)),r,"TargetPurposeLimboResolution",zs.oe))}}function Fc(n,e,t){return bx.apply(this,arguments)}function bx(){return bx=(0,ne.A)(function*(n,e,t){const r=et(n),i=[],o=[],s=[];var a;r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,t).then(c=>{var u;if((c||t)&&r.isPrimaryClient){const d=c?!c.fromCache:null===(u=t?.targetChanges.get(l.targetId))||void 0===u?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=bD.Wi(l.targetId,c);o.push(d)}}))}),yield Promise.all(s),r.Ca.d_(i),yield(a=(0,ne.A)(function*(c,u){const d=et(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>ge.forEach(u,p=>ge.forEach(p.$i,y=>d.persistence.referenceDelegate.addReference(g,p.targetId,y)).next(()=>ge.forEach(p.Ui,y=>d.persistence.referenceDelegate.removeReference(g,p.targetId,y)))))}catch(g){if(!ku(g))throw g;je("LocalStore","Failed to update sequence numbers: "+g)}for(const g of u){const p=g.targetId;if(!g.fromCache){const y=d.os.get(p),I=y.withLastLimboFreeSnapshotVersion(y.snapshotVersion);d.os=d.os.insert(p,I)}}}),function l(c,u){return a.apply(this,arguments)})(r.localStore,o))}),bx.apply(this,arguments)}function qge(n,e){return wx.apply(this,arguments)}function wx(){return wx=(0,ne.A)(function*(n,e){const t=et(n);if(!t.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const r=yield PB(t.localStore,e);t.currentUser=e,(o=t).ka.forEach(a=>{a.forEach(l=>{l.reject(new ze(Ie.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ka.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Fc(t,r.hs)}var o}),wx.apply(this,arguments)}function Gge(n,e){const t=et(n),r=t.Na.get(e);if(r&&r.va)return an().add(r.key);{let i=an();const o=t.Ma.get(e);if(!o)return i;for(const s of o){const a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function t2(n){const e=et(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=r9.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gge.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Uge.bind(null,e),e.Ca.d_=Sge.bind(null,e.eventManager),e.Ca.$a=Dge.bind(null,e.eventManager),e}let og=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){var r=this;return(0,ne.A)(function*(){r.serializer=f1(t.databaseInfo.databaseId),r.sharedClientState=r.Wa(t),r.persistence=r.Ga(t),yield r.persistence.start(),r.localStore=r.za(t),r.gcScheduler=r.ja(t,r.localStore),r.indexBackfillerScheduler=r.Ha(t,r.localStore)})()}ja(t,r){return null}Ha(t,r){return null}za(t){return function xB(n,e,t,r){return new ege(n,e,t,r)}(this.persistence,new DB,t.initialUser,this.serializer)}Ga(t){return new mD(Gb.Zr,this.serializer)}Wa(t){return new VB}terminate(){var t=this;return(0,ne.A)(function*(){var r,i;null===(r=t.gcScheduler)||void 0===r||r.stop(),null===(i=t.indexBackfillerScheduler)||void 0===i||i.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}return n.provider={build:()=>new n},n})(),sg=(()=>{class n{initialize(t,r){var i=this;return(0,ne.A)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(r),i.remoteStore=i.createRemoteStore(r),i.eventManager=i.createEventManager(r),i.syncEngine=i.createSyncEngine(r,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=o=>i9(i.syncEngine,o,1),i.remoteStore.remoteSyncer.handleCredentialChange=qge.bind(null,i.syncEngine),yield function WD(n,e){return KD.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Tge}createDatastore(t){const r=f1(t.databaseInfo.databaseId),i=new cge(t.databaseInfo);return new hge(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return i=this.localStore,o=this.datastore,s=t.asyncQueue,a=r=>i9(this.syncEngine,r,0),l=UB.D()?new UB:new sge,new pge(i,o,s,a,l);var i,o,s,a,l}createSyncEngine(t,r){return function(o,s,a,l,c,u,d){const g=new Rge(o,s,a,l,c,u);return d&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){var t=this;return(0,ne.A)(function*(){var r,i,o;yield(o=(0,ne.A)(function*(a){const l=et(a);je("RemoteStore","RemoteStore shutting down."),l.L_.add(5),yield Zp(l),l.k_.shutdown(),l.q_.set("Unknown")}),function s(a){return o.apply(this,arguments)})(t.remoteStore),null===(r=t.datastore)||void 0===r||r.terminate(),null===(i=t.eventManager)||void 0===i||i.terminate()})()}}return n.provider={build:()=>new n},n})();class n2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class ime{constructor(e,t,r,i,o){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ji.UNAUTHENTICATED,this.clientId=b7.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,function(){var a=(0,ne.A)(function*(l){je("FirestoreClient","Received user=",l.uid),yield s.authCredentialListener(l),s.user=l});return function(l){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>(je("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ne.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=tg(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Mx(n,e){return Nx.apply(this,arguments)}function Nx(){return Nx=(0,ne.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ne.A)(function*(o){r.isEqual(o)||(yield PB(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),Nx.apply(this,arguments)}function u9(n,e){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,ne.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function kx(n){return Ox.apply(this,arguments)}(n);je("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>WB(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>WB(e.remoteStore,i)),n._onlineComponents=e}),Rx.apply(this,arguments)}function Ox(){return Ox=(0,ne.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){je("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Mx(n,n._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(i=e).name?i.code===Ie.FAILED_PRECONDITION||i.code===Ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw e;_a("Error using user provided cache. Falling back to memory cache: "+e),yield Mx(n,new og)}}else je("FirestoreClient","Using default OfflineComponentProvider"),yield Mx(n,new og);var i;return n._offlineComponents}),Ox.apply(this,arguments)}function r2(n){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,ne.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(je("FirestoreClient","Using user provided OnlineComponentProvider"),yield u9(n,n._uninitializedComponentsProvider._online)):(je("FirestoreClient","Using default OnlineComponentProvider"),yield u9(n,new sg))),n._onlineComponents}),Lx.apply(this,arguments)}function lg(n){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,ne.A)(function*(n){const e=yield r2(n),t=e.eventManager;return t.onListen=kge.bind(null,e.syncEngine),t.onUnlisten=Lge.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Oge.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Fge.bind(null,e.syncEngine),t}),Vx.apply(this,arguments)}function m9(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const _9=new Map;function Ux(n,e,t){if(!t)throw new ze(Ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function v9(n){if(!rt.isDocumentKey(n))throw new ze(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function y9(n){if(rt.isDocumentKey(n))throw new ze(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function i2(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":ot()}function _n(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ze(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=i2(n);throw new ze(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class w9{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ze(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ze(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function mme(n,e,t,r){if(!0===e&&!0===r)throw new ze(Ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=m9(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new ze(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ze(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ze(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class g1{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w9({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ze(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ze(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w9(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new cfe;switch(r.type){case"firstParty":return new ffe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ze(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,ne.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=_9.get(t);r&&(je("ComponentProvider","Removing Datastore"),_9.delete(t),r.terminate())}(this),Promise.resolve()}}class io{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new io(this.firestore,e,this._query)}}class hi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hi(this.firestore,e,this._key)}}class Dl extends io{constructor(e,t,r){super(e,t,Lp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hi(this.firestore,null,new rt(e))}withConverter(e){return new Dl(this.firestore,e,this._path)}}function vme(n,e,...t){if(n=Zr(n),Ux("collection","path",e),n instanceof g1){const r=bn.fromString(e,...t);return y9(r),new Dl(n,null,r)}{if(!(n instanceof hi||n instanceof Dl))throw new ze(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bn.fromString(e,...t));return y9(r),new Dl(n.firestore,null,r)}}function I9(n,e,...t){if(n=Zr(n),1===arguments.length&&(e=b7.newId()),Ux("doc","path",e),n instanceof g1){const r=bn.fromString(e,...t);return v9(r),new hi(n,null,new rt(r))}{if(!(n instanceof hi||n instanceof Dl))throw new ze(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bn.fromString(e,...t));return v9(r),new hi(n.firestore,n instanceof Dl?n.converter:null,new rt(r))}}class E9{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new PD(this,"async_queue_retry"),this.Vu=()=>{const r=Jb();r&&je("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=Jb();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Jb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new zi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,ne.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(t){if(!ku(t))throw t;je("AsyncQueue","Operation failed with retryable error: "+t)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{throw this.Eu=r,this.du=!1,ui("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=QD.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ot()}verifyOperationInProgress(){}wu(){var e=this;return(0,ne.A)(function*(){let t;do{t=e.mu,yield t}while(t!==e.mu)})()}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function Bx(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(n)}class ar extends g1{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new E9,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,ne.A)(function*(){if(e._firestoreClient){const t=e._firestoreClient.terminate();e._queue=new E9(t),e._firestoreClient=void 0,yield t}})()}}function bme(n,e){const r="string"==typeof n?n:e||"(default)",i=d5("object"==typeof n?n:h5(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=S8("firestore");o&&function _me(n,e,t,r={}){var i;const o=(n=_n(n,g1))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&_a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=ji.MOCK_USER;else{a=P8(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ze(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ji(c)}n._authCredentials=new ufe(new v7(a,l))}}(i,...o)}return i}function zr(n){if(n._terminated)throw new ze(Ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||function A9(n){var e,t,r;const i=n._freezeSettings(),o=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new $fe(n._databaseId,l,n._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,m9(u.experimentalLongPollingOptions),u.useFetchStreams));var l,u;n._componentsProvider||!(null===(t=i.localCache)||void 0===t)&&t._offlineComponentProvider&&!(null===(r=i.localCache)||void 0===r)&&r._onlineComponentProvider&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new ime(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}(n),n._firestoreClient}class Ah{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ah(Jr.fromBase64String(e))}catch(t){throw new ze(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ah(Jr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Th{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ze(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cg{constructor(e){this._methodName=e}}class zx{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ze(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ze(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}class o2{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}const Ime=/^__.*__$/;class Cme{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Oc(e,this.data,this.fieldMask,t,this.fieldTransforms):new jp(e,this.data,t,this.fieldTransforms)}}class S9{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Oc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function D9(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class s2{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new s2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return c2(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(D9(this.Cu)&&Ime.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Eme{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||f1(e)}Qu(e,t,r,i=!1){return new s2({Cu:e,methodName:t,qu:r,path:Rr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sh(n){const e=n._freezeSettings(),t=f1(n._databaseId);return new Eme(n._databaseId,!!e.ignoreUndefinedProperties,t)}function a2(n,e,t,r,i,o={}){const s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);Qx("Data must be an object, but it was:",s,r);const a=M9(r,s);let l,c;if(o.merge)l=new _s(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const g=v1(e,d,t);if(!s.contains(g))throw new ze(Ie.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);R9(u,g)||u.push(g)}l=new _s(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new Cme(new ro(a),l,c)}class _1 extends cg{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _1}}function Dh(n,e){if(N9(n=Zr(n)))return Qx("Unsupported field value:",e,n),M9(n,e);if(n instanceof cg)return function(r,i){if(!D9(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Dh(a,i.Lu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if(null===(r=Zr(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return _U(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=Nr.fromDate(r);return{timestampValue:$p(i.serializer,o)}}if(r instanceof Nr){const o=new Nr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$p(i.serializer,o)}}if(r instanceof zx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ah)return{bytesValue:UU(i.serializer,r._byteString)};if(r instanceof hi){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:iD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof o2)return a=i,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:r.toArray().map(l=>{if("number"!=typeof l)throw a.Bu("VectorValues must only contain numeric values.");return ZS(a.serializer,l)})}}}}};var a;throw i.Bu(`Unsupported field value: ${i2(r)}`)}(n,e)}function M9(n,e){const t={};return F7(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ou(n,(r,i)=>{const o=Dh(i,e.Mu(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function N9(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Nr||n instanceof zx||n instanceof Ah||n instanceof hi||n instanceof cg||n instanceof o2)}function Qx(n,e,t){if(!N9(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=i2(t);throw e.Bu("an object"===r?n+" a custom object":n+" "+r)}var i}function v1(n,e,t){if((e=Zr(e))instanceof Th)return e._internalPath;if("string"==typeof e)return l2(n,e);throw c2("Field path arguments must be of type string or ",n,!1,void 0,t)}const Ame=new RegExp("[~\\*/\\[\\]]");function l2(n,e,t){if(e.search(Ame)>=0)throw c2(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Th(...e.split("."))._internalPath}catch{throw c2(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function c2(n,e,t,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ze(Ie.INVALID_ARGUMENT,a+n+l)}function R9(n,e){return n.some(t=>t.isEqual(e))}class y1{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Tme(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(u2("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Tme extends y1{data(){return super.data()}}function u2(n,e){return"string"==typeof e?l2(n,e):e instanceof Th?e._internalPath:e._delegate._internalPath}function k9(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ze(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yx{}class b1 extends Yx{}function Sme(n,e,...t){let r=[];e instanceof Yx&&r.push(e),r=r.concat(t),function(o){const s=o.filter(l=>l instanceof ug).length,a=o.filter(l=>l instanceof w1).length;if(s>1||s>0&&a>0)throw new ze(Ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class w1 extends b1{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new w1(e,t,r)}_apply(e){const t=this._parse(e);return V9(e._query,t),new io(e.firestore,e.converter,QS(e._query,t))}_parse(e){const t=Sh(e.firestore);return function(o,s,a,l,c,u,d){let g;if(c.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new ze(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){F9(d,u);const p=[];for(const y of d)p.push(L9(l,o,y));g={arrayValue:{values:p}}}else g=L9(l,o,d)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||F9(d,u),g=function P9(n,e,t,r=!1){return Dh(t,n.Qu(r?4:3,e))}(a,"where",d,"in"===u||"not-in"===u);return wn.create(c,u,g)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class ug extends Yx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ug(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Kn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)V9(s,l),s=QS(s,l)}(e._query,t),new io(e.firestore,e.converter,QS(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Zx extends b1{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Zx(e,t)}_apply(e){const t=function(i,o,s){if(null!==i.startAt)throw new ze(Ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ze(Ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new W_(o,s)}(e._query,this._field,this._direction);return new io(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Rc(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Dme(n,e="asc"){const t=e,r=u2("orderBy",n);return Zx._create(r,t)}function L9(n,e,t){if("string"==typeof(t=Zr(t))){if(""===t)throw new ze(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KS(e)&&-1!==t.indexOf("/"))throw new ze(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(bn.fromString(t));if(!rt.isDocumentKey(r))throw new ze(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ph(n,new rt(r))}if(t instanceof hi)return ph(n,t._key);throw new ze(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${i2(t)}.`)}function F9(n,e){if(!Array.isArray(n)||0===n.length)throw new ze(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function V9(n,e){const t=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ze(Ie.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class B9{convertValue(e,t="none"){switch(Fu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ot()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ou(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=null===(i=null===(r=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.map(s=>kr(s.doubleValue));return new o2(o)}convertGeoPoint(e){return new zx(kr(e.latitude),kr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Eb(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp($_(e));default:return null}}convertTimestamp(e){const t=Mc(e);return new Nr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=bn.fromString(e);ft(ZU(r));const i=new fh(r.get(1),r.get(3)),o=new rt(r.popFirst(5));return i.isEqual(t)||ui(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class xh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dg extends y1{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new g2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(u2("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class g2 extends dg{data(e={}){return super.data(e)}}class hg{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new xh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new g2(this._firestore,this._userDataWriter,r.key,r,new xh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ze(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new g2(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new g2(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:Mme(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Mme(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}class Hu extends B9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ah(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hi(this.firestore,null,t)}}function Nme(n){n=_n(n,io);const e=_n(n.firestore,ar),t=zr(e),r=new Hu(e);return k9(n._query),function g9(n,e,t={}){const r=new zi;return n.asyncQueue.enqueueAndForget((0,ne.A)(function*(){return function(o,s,a,l,c){const u=new n2({next:g=>{u.Za(),s.enqueueAndForget(()=>JD(o,d)),g.fromCache&&"server"===l.source?c.reject(new ze(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),d=new nx(a,u,{includeMetadataChanges:!0,_a:!0});return YD(o,d)}(yield lg(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new hg(e,r,n,i))}function Rme(n,e,t,...r){n=_n(n,hi);const i=_n(n.firestore,ar),o=Sh(i);let s;return s="string"==typeof(e=Zr(e))||e instanceof Th?function Kx(n,e,t,r,i,o){const s=n.Qu(1,e,t),a=[v1(e,r,t)],l=[i];if(o.length%2!=0)throw new ze(Ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(v1(e,o[g])),l.push(o[g+1]);const c=[],u=ro.empty();for(let g=a.length-1;g>=0;--g)if(!R9(c,a[g])){const p=a[g];let y=l[g];y=Zr(y);const w=s.Nu(p);if(y instanceof _1)c.push(p);else{const I=Dh(y,w);null!=I&&(c.push(p),u.set(p,I))}}const d=new _s(c);return new S9(u,d,s.fieldTransforms)}(o,"updateDoc",n._key,e,t,r):function Wx(n,e,t,r){const i=n.Qu(1,e,t);Qx("Data must be an object, but it was:",i,r);const o=[],s=ro.empty();Ou(r,(l,c)=>{const u=l2(e,l,t);c=Zr(c);const d=i.Nu(u);if(c instanceof _1)o.push(u);else{const g=Dh(c,d);null!=g&&(o.push(u),s.set(u,g))}});const a=new _s(o);return new S9(s,a,i.fieldTransforms)}(o,"updateDoc",n._key,e),I1(i,[s.toMutation(n._key,Or.exists(!0))])}function kme(n){return I1(_n(n.firestore,ar),[new zp(n._key,Or.none())])}function Ome(n,e){const t=_n(n.firestore,ar),r=I9(n),i=function p2(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return I1(t,[a2(Sh(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Or.exists(!1))]).then(()=>r)}function I1(n,e){return function(r,i){const o=new zi;return r.asyncQueue.enqueueAndForget((0,ne.A)(function*(){return function Vge(n,e,t){return ux.apply(this,arguments)}(yield function Fx(n){return r2(n).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(zr(n),e)}!function(e,t=!0){Dp=I_,ih(new Du("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ar(new dfe(r.getProvider("auth-internal")),new pfe(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ze(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fh(c.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),wo(_7,"4.7.3",e),wo(_7,"4.7.3","esm2017")}();var _2=function(){return _2=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_2.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Qme={includeMetadataChanges:!1};function tP(n,e){return void 0===e&&(e=Qme),new or(function(t){var r=function Lme(n,...e){var t,r,i;n=Zr(n);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof e[s]||Bx(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Bx(e[s])){const d=e[s];e[s]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[s+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[s+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let l,c,u;if(n instanceof hi)c=_n(n.firestore,ar),u=Lp(n._key.path),l={next:d=>{e[s]&&e[s](function Jx(n,e,t){const r=t.docs.get(e._key),i=new Hu(n);return new dg(n,i,e._key,r,new xh(t.hasPendingWrites,t.fromCache),e.converter)}(c,n,d))},error:e[s+1],complete:e[s+2]};else{const d=_n(n,io);c=_n(d.firestore,ar),u=d._query;const g=new Hu(c);l={next:p=>{e[s]&&e[s](new hg(c,g,d,p))},error:e[s+1],complete:e[s+2]},k9(n._query)}return function(g,p,y,w){const I=new n2(w),A=new nx(p,I,y);return g.asyncQueue.enqueueAndForget((0,ne.A)(function*(){return YD(yield lg(g),A)})),()=>{I.Za(),g.asyncQueue.enqueueAndForget((0,ne.A)(function*(){return JD(yield lg(g),A)}))}}(zr(c),u,a,l)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function n_e(n,e){return void 0===e&&(e={}),function t_e(n){return tP(n,{includeMetadataChanges:!0}).pipe(cn(function(e){return e.docs}))}(n).pipe(cn(function(t){return t.map(function(r){return function q9(n,e){var t;void 0===e&&(e={});var r=n.data(e);return n.exists()&&"object"==typeof r&&null!==r&&e.idField?_2(_2({},r),((t={})[e.idField]=n.id,t)):r}(r,e)})}))}class Ku{constructor(e){return e}}const K9="firestore",iP=new st("angularfire2.firestore-instances");function s_e(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ku(r)}}const a_e={provide:class i_e{constructor(){return nb(K9)}},deps:[[new _o,iP]]},l_e={provide:Ku,useFactory:function o_e(n,e){const t=v5(K9,n,e);return t&&new Ku(t)},deps:[[new _o,iP],Cp]};let c_e=(()=>{class n{constructor(){wo("angularfire",tb.full,"fst")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Fo({type:n});static \u0275inj=go({providers:[l_e,a_e]})}return n})();function u_e(n,...e){return{ngModule:c_e,providers:[{provide:iP,useFactory:s_e(n),multi:!0,deps:[On,eo,y5,b5,[new _o,NS],[new _o,X8],...e]}]}}const C1=Io(n_e,!0),E1=Io(Ome,!0),xl=Io(vme,!0),v2=Io(kme,!0),Ph=Io(I9,!0),d_e=Io(Nme,!0),h_e=Io(bme,!0),y2=Io(Dme,!0),b2=Io(Sme,!0),oP=Io(Rme,!0);function w2(n,e){const t="object"==typeof e;return new Promise((r,i)=>{const o=new hf({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new e_)}});n.subscribe(o)})}let I2=(()=>{class n{constructor(t){this.firestore=t,this.collectionName="giocatori"}getGiocatoriObservable(){const t=xl(this.firestore,this.collectionName),r=b2(t,y2("numeroMaglia","asc"));return C1(r,{idField:"id"})}getGiocatori(){var t=this;return(0,ne.A)(function*(){return yield w2(t.getGiocatoriObservable())})()}addGiocatore(t){var r=this;return(0,ne.A)(function*(){const i=xl(r.firestore,r.collectionName),o=r.normalizeGiocatore(t);yield E1(i,o)})()}updateGiocatore(t,r){var i=this;return(0,ne.A)(function*(){const o=Ph(i.firestore,i.collectionName,t),s=i.normalizeGiocatore(r);yield oP(o,s)})()}deleteGiocatore(t){var r=this;return(0,ne.A)(function*(){const i=Ph(r.firestore,r.collectionName,t);yield v2(i)})()}addMultipleGiocatori(t){var r=this;return(0,ne.A)(function*(){const i=xl(r.firestore,r.collectionName);for(const o of t){const s=r.normalizeGiocatore(o);yield E1(i,s)}})()}migrateFromLocalStorage(){var t=this;return(0,ne.A)(function*(){const r=localStorage.getItem("giocatori");if(r){const i=JSON.parse(r);yield t.addMultipleGiocatori(i),console.log(`Migrati ${i.length} giocatori da localStorage a Firestore`)}})()}normalizeGiocatore(t){return{...t,nome:t.nome?t.nome.toLowerCase():"",cognome:t.cognome?t.cognome.toLowerCase():""}}static{this.\u0275fac=function(r){return new(r||n)(ht(Ku))}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Vc=(()=>{class n{constructor(t){this.giocatoriService=t,this.STORAGE_KEY="currentUser";const r=localStorage.getItem(this.STORAGE_KEY);this.currentUserSubject=new Ns(r?JSON.parse(r):null),this.currentUser=this.currentUserSubject.asObservable()}get currentUserValue(){return this.currentUserSubject.value}login(t){var r=this;return(0,ne.A)(function*(){const o=(yield r.giocatoriService.getGiocatori()).find(s=>s.codiceFiscale&&s.codiceFiscale.toUpperCase()===t.toUpperCase());return!!o&&(localStorage.setItem(r.STORAGE_KEY,JSON.stringify(o)),r.currentUserSubject.next(o),!0)})()}logout(){localStorage.removeItem(this.STORAGE_KEY),this.currentUserSubject.next(null)}isAuthenticated(){return null!==this.currentUserValue}hasEditPermission(){const t=this.currentUserValue;return!!t&&("Amministratore"===t.profilo||"Staff"===t.profilo)}isCurrentUser(t){const r=this.currentUserValue;return!(!r||!t)&&r.nome===t.nome&&r.cognome===t.cognome}static{this.\u0275fac=function(r){return new(r||n)(ht(I2))}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Q9=(()=>{class n{constructor(t){this.firestore=t,this.collectionName="partite",this.metadataCollectionName="partite-metadata"}getPartiteMetadataObservable(){const t=xl(this.firestore,this.metadataCollectionName);return C1(t,{idField:"id"}).pipe(cn(r=>{if(r&&r.length>0){const i=r[0];return{lastUpdate:i.lastUpdate?.toDate?i.lastUpdate.toDate():new Date(i.lastUpdate),season:i.season}}return{lastUpdate:null,season:""}}))}getPartiteObservable(){const t=xl(this.firestore,this.collectionName),r=b2(t,y2("numeroGara","asc"));return C1(r,{idField:"id"})}getPartiteWithMetadataObservable(){return xy([this.getPartiteObservable(),this.getPartiteMetadataObservable()]).pipe(cn(([t,r])=>({partite:t,lastUpdate:r.lastUpdate,season:r.season})))}getPartite(){var t=this;return(0,ne.A)(function*(){return yield w2(t.getPartiteObservable())})()}addPartita(t){var r=this;return(0,ne.A)(function*(){const i=xl(r.firestore,r.collectionName);yield E1(i,t)})()}updatePartita(t,r){var i=this;return(0,ne.A)(function*(){const o=Ph(i.firestore,i.collectionName,t);yield oP(o,r)})()}deletePartita(t){var r=this;return(0,ne.A)(function*(){const i=Ph(r.firestore,r.collectionName,t);yield v2(i)})()}static{this.\u0275fac=function(r){return new(r||n)(ht(Ku))}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Y9=(()=>{class n{constructor(t){this.firestore=t,this.allenamentoCollection=xl(this.firestore,"allenamenti")}getAllenamenti(){const t=b2(this.allenamentoCollection,y2("ordinamento","asc"));return C1(t,{idField:"id"})}addAllenamento(t){return E1(this.allenamentoCollection,t)}updateAllenamento(t,r){const i=Ph(this.firestore,"allenamenti",t);return oP(i,r)}deleteAllenamento(t){const r=Ph(this.firestore,"allenamenti",t);return v2(r)}static{this.\u0275fac=function(r){return new(r||n)(ht(Ku))}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function f_e(n,e){1&n&&(E(0,"a",30),se(1,"img",31),E(2,"div",32)(3,"h4",33),$(4,"Punto Volley Thunders 2025/2026"),S(),E(5,"small",34),se(6,"i",35),$(7," Clicca per vedere la squadra "),S()()())}function p_e(n,e){1&n&&(E(0,"div"),se(1,"img",36),E(2,"div",32)(3,"h4",33),$(4,"Punto Volley Thunders 2025/2026"),S()()())}function g_e(n,e){if(1&n){const t=Ln();E(0,"a",48),De("click",function(){lt(t);const i=xe().$implicit;return ct(xe(2).openMaps(i.indirizzo))}),se(1,"i",49),$(2),S()}if(2&n){const t=xe().$implicit;U(2),In("",t.indirizzo," ")}}function m_e(n,e){1&n&&(E(0,"small",42),se(1,"i",50),$(2,"Da definire "),S())}function __e(n,e){if(1&n&&(E(0,"div",39)(1,"div",40)(2,"div",41)(3,"small",42),$(4),S(),E(5,"p",43),$(6),S(),E(7,"div",44)(8,"small",42),se(9,"i",45),$(10),S(),$e(11,g_e,3,1,"a",46),$e(12,m_e,3,0,"small",47),S()()()()),2&n){const t=e.$implicit,r=e.first,i=xe(2);zt("bg-warning",r)("bg-opacity-10",r)("bg-light",!r),U(4),Qe(i.formatData(t.data)),U(2),Ua("",t.ospitante," vs ",t.ospite,""),U(4),In("",t.ora||"TBD"," "),U(1),le("ngIf",t.indirizzo),U(1),le("ngIf",!t.indirizzo)}}function v_e(n,e){if(1&n&&(E(0,"div",37),$e(1,__e,13,12,"div",38),S()),2&n){const t=xe();U(1),le("ngForOf",t.prossimiAppuntamenti)}}function y_e(n,e){1&n&&(E(0,"div",51),se(1,"i",52),$(2," Nessuna partita in programma "),S())}function b_e(n,e){if(1&n&&(E(0,"div",54)(1,"div",55)(2,"div")(3,"small",42),$(4),S(),E(5,"p",33),$(6),S()(),E(7,"span",56),$(8),S()()()),2&n){const t=e.$implicit,r=xe(2);zt("border-success",r.isVittoria(t))("border-danger",!r.isVittoria(t)),U(4),Qe(r.formatDataBreve(t.data)),U(2),Ua("",t.ospitante," vs ",t.ospite,""),U(1),zt("bg-success",r.isVittoria(t))("bg-danger",!r.isVittoria(t)),U(1),In(" ",t.risultato," ")}}function w_e(n,e){if(1&n&&(E(0,"div",37),$e(1,b_e,9,12,"div",53),S()),2&n){const t=xe();U(1),le("ngForOf",t.ultimiRisultati)}}function I_e(n,e){1&n&&(E(0,"div",51),se(1,"i",52),$(2," Nessun risultato disponibile "),S())}function C_e(n,e){if(1&n){const t=Ln();E(0,"div",59)(1,"div",60)(2,"h6",61),se(3,"i",62),$(4),S(),E(5,"p",63),se(6,"i",64),E(7,"strong"),$(8),S()(),E(9,"p",63),se(10,"i",65),E(11,"strong"),$(12),S()(),E(13,"a",66),De("click",function(){const o=lt(t).$implicit;return ct(xe(2).openMaps(o.indirizzo))}),se(14,"i",49),$(15),S()()()}if(2&n){const t=e.$implicit;U(4),In("",t.giorno," "),U(4),Ua("",t.orarioInizio," - ",t.orarioFine,""),U(4),Qe(t.nomePalestra),U(3),In("",t.indirizzo," ")}}function E_e(n,e){if(1&n&&(E(0,"div",57),$e(1,C_e,16,5,"div",58),S()),2&n){const t=xe();U(1),le("ngForOf",t.allenamenti)}}function A_e(n,e){1&n&&(E(0,"div",67),se(1,"i",68),$(2," Nessun allenamento configurato "),S())}let T_e=(()=>{class n{constructor(t,r,i){this.authService=t,this.calendarioService=r,this.allenamentiService=i,this.ultimiRisultati=[],this.prossimiAppuntamenti=[],this.allenamenti=[]}ngOnInit(){this.allenamentiService.getAllenamenti().subscribe(t=>{this.allenamenti=t}),this.calendarioService.getPartiteObservable().subscribe(t=>{const r=new Date;r.setHours(0,0,0,0);const i=t.filter(s=>{if(!s.data)return!1;const a=Ui.parseDataPartita(s.data);return!!a&&(a.setHours(0,0,0,0),s.risultato&&a<r)}).sort((s,a)=>{const l=Ui.parseDataPartita(s.data),c=Ui.parseDataPartita(a.data);return l&&c?c.getTime()-l.getTime():0});this.ultimiRisultati=i.slice(0,3);const o=t.filter(s=>{if(!s.data)return!1;const a=Ui.parseDataPartita(s.data);return!!a&&(a.setHours(0,0,0,0),a>=r&&!s.risultato)}).sort((s,a)=>{const l=Ui.parseDataPartita(s.data),c=Ui.parseDataPartita(a.data);return l&&c?l.getTime()-c.getTime():0});this.prossimiAppuntamenti=o.slice(0,3)})}encodeURIComponent(t){return encodeURIComponent(t)}isVittoria(t){if(!t.risultato)return!1;const[r,i]=t.risultato.split("-").map(s=>parseInt(s.trim()));return t.ospitante.toLowerCase().includes("thunders")?r>i:i>r}formatData(t){return Ui.formatDateWithFullDay(Ui.parseDataPartita(t)||t)}formatDataBreve(t){return Ui.formatDate(Ui.parseDataPartita(t)||t)}openMaps(t){Ui.openMaps(t)}static{this.\u0275fac=function(r){return new(r||n)(Le(Vc),Le(Q9),Le(Y9))}}static{this.\u0275cmp=as({type:n,selectors:[["app-homepage"]],decls:48,vars:8,consts:[[1,"container-fluid","px-4","homepage-container","mb-5"],[1,"row","d-none","d-md-block","mb-4"],[1,"col-12","text-center"],[1,"title-wrapper"],[1,"homepage-title"],[1,"bi","bi-lightning-fill"],[1,"row","g-4"],[1,"col-12","col-lg-6","order-0"],[1,"card","shadow","rounded-4","overflow-hidden","h-100"],[1,"position-relative"],["routerLink","/squadra","class","text-decoration-none d-block",4,"ngIf"],[4,"ngIf"],[1,"col-12","col-lg-6","order-1","order-lg-3"],[1,"card","shadow","h-100"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"bi","bi-calendar-event","me-2"],[1,"card-body"],["class","d-flex flex-column gap-2",4,"ngIf"],["class","text-center text-muted py-4",4,"ngIf"],[1,"mt-3","text-center"],["routerLink","/calendario",1,"btn","btn-outline-primary","btn-sm"],[1,"bi","bi-calendar3","me-1"],[1,"col-12","col-lg-6","order-2"],[1,"bi","bi-graph-up","me-2"],[1,"bi","bi-calendar-check","me-1"],[1,"col-12","col-lg-6","order-3","order-lg-1"],[1,"bi","bi-calendar3","me-2"],["class","d-flex flex-column gap-3",4,"ngIf"],["class","text-center py-4 text-muted",4,"ngIf"],["routerLink","/squadra",1,"text-decoration-none","d-block"],["src","assets/images/thunders.JPG","alt","Punto Volley CR ASD Thunders",1,"img-fluid","w-100","team-image-enhanced","clickable-image"],[1,"position-absolute","bottom-0","start-0","end-0","bg-dark","bg-opacity-75","text-white","text-center","py-3"],[1,"mb-0","fw-bold"],[1,"opacity-75"],[1,"bi","bi-arrow-right-circle","me-1"],["src","assets/images/thunders.JPG","alt","Punto Volley CR ASD Thunders",1,"img-fluid","w-100","team-image-enhanced"],[1,"d-flex","flex-column","gap-2"],["class","p-3 rounded",3,"bg-warning","bg-opacity-10","bg-light",4,"ngFor","ngForOf"],[1,"p-3","rounded"],[1,"d-flex","justify-content-between","align-items-start"],[1,"flex-grow-1"],[1,"text-muted"],[1,"mb-1","fw-bold"],[1,"d-flex","flex-column","gap-1"],[1,"bi","bi-clock","me-1"],["href","javascript:void(0)","class","text-primary text-decoration-none small",3,"click",4,"ngIf"],["class","text-muted",4,"ngIf"],["href","javascript:void(0)",1,"text-primary","text-decoration-none","small",3,"click"],[1,"bi","bi-geo-alt-fill","me-1"],[1,"bi","bi-geo-alt","me-1"],[1,"text-center","text-muted","py-4"],[1,"bi","bi-calendar-x","fs-2","d-block","mb-2"],["class","p-3 border-start border-4 bg-light rounded",3,"border-success","border-danger",4,"ngFor","ngForOf"],[1,"p-3","border-start","border-4","bg-light","rounded"],[1,"d-flex","justify-content-between","align-items-center"],[1,"badge","fs-6"],[1,"d-flex","flex-column","gap-3"],["class","p-3 bg-light rounded",4,"ngFor","ngForOf"],[1,"p-3","bg-light","rounded"],[1,"mb-2"],[1,"text-primary","mb-1"],[1,"bi","bi-calendar-week","me-2"],[1,"mb-1"],[1,"bi","bi-clock-fill","me-2"],[1,"bi","bi-geo-alt-fill","me-2"],["href","javascript:void(0)",1,"text-primary","text-decoration-none","small","d-block",3,"click"],[1,"text-center","py-4","text-muted"],[1,"bi","bi-info-circle","me-2"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),$(5," PuntoVolley Thunders "),se(6,"i",5),S()()()(),E(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9),$e(11,f_e,8,0,"a",10),$e(12,p_e,5,0,"div",11),S()()(),E(13,"div",12)(14,"div",13)(15,"div",14)(16,"h5",15),se(17,"i",16),$(18," Prossime Partite "),S()(),E(19,"div",17),$e(20,v_e,2,1,"div",18),$e(21,y_e,3,0,"div",19),E(22,"div",20)(23,"a",21),se(24,"i",22),$(25," Vedi calendario completo "),S()()()()(),E(26,"div",23)(27,"div",13)(28,"div",14)(29,"h5",15),se(30,"i",24),$(31," Ultimi Risultati "),S()(),E(32,"div",17),$e(33,w_e,2,1,"div",18),$e(34,I_e,3,0,"div",19),E(35,"div",20)(36,"a",21),se(37,"i",25),$(38," Vedi tutti i risultati "),S()()()()(),E(39,"div",26)(40,"div",13)(41,"div",14)(42,"h5",15),se(43,"i",27),$(44," Allenamenti "),S()(),E(45,"div",17),$e(46,E_e,2,1,"div",28),$e(47,A_e,3,0,"div",29),S()()()()()),2&r&&(U(11),le("ngIf",i.authService.hasEditPermission()),U(1),le("ngIf",!i.authService.hasEditPermission()),U(8),le("ngIf",i.prossimiAppuntamenti.length>0),U(1),le("ngIf",0===i.prossimiAppuntamenti.length),U(12),le("ngIf",i.ultimiRisultati.length>0),U(1),le("ngIf",0===i.ultimiRisultati.length),U(12),le("ngIf",i.allenamenti.length>0),U(1),le("ngIf",0===i.allenamenti.length))},dependencies:[Eu,fa,bp],styles:[".homepage-container[_ngcontent-%COMP%]{margin-top:.25rem}.title-wrapper[_ngcontent-%COMP%]{margin:0 auto;max-width:600px;padding:.5rem 2rem}.homepage-title[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d6efd 0%,#0a58ca 50%,#0d6efd 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text;background-size:200% auto;font-weight:700;font-size:2rem;margin:0;letter-spacing:.5px;animation:_ngcontent-%COMP%_shine 3s linear infinite;filter:drop-shadow(0 2px 8px rgba(13,110,253,.4))}@keyframes _ngcontent-%COMP%_shine{to{background-position:200% center}}.homepage-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffc107;-webkit-text-fill-color:#ffc107;filter:drop-shadow(0 0 12px rgba(255,193,7,.8)) drop-shadow(0 0 20px rgba(255,193,7,.4));animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite;display:inline-block}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1) rotate(0)}50%{transform:scale(1.15) rotate(-10deg)}}.team-image-enhanced[_ngcontent-%COMP%]{object-fit:cover;height:400px;max-height:50vh;object-position:center;transition:transform .3s ease,filter .3s ease}.clickable-image[_ngcontent-%COMP%]:hover{transform:scale(1.02);filter:brightness(1.1);cursor:pointer}.maps-link[_ngcontent-%COMP%]{transition:all .3s ease}.maps-link[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026;background-color:var(--bs-primary)!important;background-opacity:.2!important}@media (max-width: 768px){.team-image-enhanced[_ngcontent-%COMP%]{height:300px;max-height:45vh}.maps-link[_ngcontent-%COMP%]:hover{transform:none}}@media (max-width: 480px){.team-image-enhanced[_ngcontent-%COMP%]{height:250px;max-height:40vh}.clickable-image[_ngcontent-%COMP%]:hover{transform:none}}"]})}}return n})(),Z9=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(Le(hc),Le(Vs))}}static{this.\u0275dir=Wt({type:n})}}return n})(),Mh=(()=>{class n extends Z9{static{this.\u0275fac=function(){let t;return function(i){return(t||(t=Xi(n)))(i||n)}}()}static{this.\u0275dir=Wt({type:n,features:[Hn]})}}return n})();const Pl=new st("NgValueAccessor"),D_e={provide:Pl,useExisting:dr(()=>sP),multi:!0};let sP=(()=>{class n extends Mh{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=Xi(n)))(i||n)}}()}static{this.\u0275dir=Wt({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&De("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Mr([D_e]),Hn]})}}return n})();const x_e={provide:Pl,useExisting:dr(()=>Ml),multi:!0},M_e=new st("CompositionEventMode");let Ml=(()=>{class n extends Z9{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function P_e(){const n=Cu()?Cu().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(Le(hc),Le(Vs),Le(M_e,8))}}static{this.\u0275dir=Wt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&De("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Mr([x_e]),Hn]})}}return n})();function Qu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function J9(n){return null!=n&&"number"==typeof n.length}const So=new st("NgValidators"),Yu=new st("NgAsyncValidators"),N_e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Nl{static min(e){return function X9(n){return e=>{if(Qu(e.value)||Qu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function ej(n){return e=>{if(Qu(e.value)||Qu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function tj(n){return Qu(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function nj(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function rj(n){return Qu(n.value)||N_e.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function ij(n){return e=>Qu(e.value)||!J9(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return oj(e)}static pattern(e){return function sj(n){if(!n)return C2;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Qu(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return hj(e)}static composeAsync(e){return fj(e)}}function oj(n){return e=>J9(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function C2(n){return null}function aj(n){return null!=n}function lj(n){return Lm(n)?Si(n):n}function cj(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function uj(n,e){return e.map(t=>t(n))}function dj(n){return n.map(e=>function R_e(n){return!n.validate}(e)?e:t=>e.validate(t))}function hj(n){if(!n)return null;const e=n.filter(aj);return 0==e.length?null:function(t){return cj(uj(t,e))}}function aP(n){return null!=n?hj(dj(n)):null}function fj(n){if(!n)return null;const e=n.filter(aj);return 0==e.length?null:function(t){return function S_e(...n){const e=PN(n),{args:t,keys:r}=_F(n),i=new or(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let d=!1;po(t[u]).subscribe(oi(o,g=>{d||(d=!0,c--),a[u]=g},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?vF(r,a):a),o.complete())}))}});return e?i.pipe(AA(e)):i}(uj(t,e).map(lj)).pipe(cn(cj))}}function lP(n){return null!=n?fj(dj(n)):null}function pj(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function gj(n){return n._rawValidators}function mj(n){return n._rawAsyncValidators}function cP(n){return n?Array.isArray(n)?n:[n]:[]}function E2(n,e){return Array.isArray(n)?n.includes(e):n===e}function _j(n,e){const t=cP(e);return cP(n).forEach(i=>{E2(t,i)||t.push(i)}),t}function vj(n,e){return cP(e).filter(t=>!E2(n,t))}class yj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=aP(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=lP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Wo extends yj{get formDirective(){return null}get path(){return null}}class Zu extends yj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ju=(()=>{class n extends bj{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Le(Zu,2))}}static{this.\u0275dir=Wt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&zt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Hn]})}}return n})(),uP=(()=>{class n extends bj{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Le(Wo,10))}}static{this.\u0275dir=Wt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&zt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Hn]})}}return n})();const A1="VALID",T2="INVALID",fg="PENDING",T1="DISABLED";function fP(n){return(S2(n)?n.validators:n)||null}function pP(n,e){return(S2(e)?e.asyncValidators:n)||null}function S2(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Ij(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new qe(1e3,"");if(!r[t])throw new qe(1001,"")}function Cj(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new qe(1002,"")})}class D2{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===A1}get invalid(){return this.status===T2}get pending(){return this.status==fg}get disabled(){return this.status===T1}get enabled(){return this.status!==T1}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(_j(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_j(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(vj(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(vj(e,this._rawAsyncValidators))}hasValidator(e){return E2(this._rawValidators,e)}hasAsyncValidator(e){return E2(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=fg,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=T1,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=A1,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===A1||this.status===fg)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?T1:A1}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=fg,this._hasOwnPendingAsyncValidator=!0;const t=lj(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Pr,this.statusChanges=new Pr}_calculateStatus(){return this._allControlsDisabled()?T1:this.errors?T2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fg)?fg:this._anyControlsHaveStatus(T2)?T2:A1}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){S2(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function F_e(n){return Array.isArray(n)?aP(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function V_e(n){return Array.isArray(n)?lP(n):n||null}(this._rawAsyncValidators)}}class S1 extends D2{constructor(e,t,r){super(fP(t),pP(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Cj(this,0,e),Object.keys(e).forEach(r=>{Ij(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Ej extends S1{}const Nh=new st("CallSetDisabledState",{providedIn:"root",factory:()=>D1}),D1="always";function x2(n,e){return[...e.path,n]}function x1(n,e,t=D1){gP(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function B_e(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Aj(n,e)})}(n,e),function z_e(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function j_e(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Aj(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function U_e(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function P2(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),N2(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function M2(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function gP(n,e){const t=gj(n);null!==e.validator?n.setValidators(pj(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=mj(n);null!==e.asyncValidator?n.setAsyncValidators(pj(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();M2(e._rawValidators,i),M2(e._rawAsyncValidators,i)}function N2(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=gj(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=mj(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return M2(e._rawValidators,r),M2(e._rawAsyncValidators,r),t}function Aj(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function _P(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function vP(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Ml?t=o:function G_e(n){return Object.getPrototypeOf(n.constructor)===Mh}(o)?r=o:i=o}),i||r||t||null}function Dj(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function xj(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const M1=class extends D2{constructor(e=null,t,r){super(fP(t),pP(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),S2(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=xj(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Dj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Dj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){xj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Y_e={provide:Zu,useExisting:dr(()=>Rh)},Nj=(()=>Promise.resolve())();let Rh=(()=>{class n extends Zu{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new M1,this._registered=!1,this.name="",this.update=new Pr,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=vP(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),_P(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){x1(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Nj.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&lp(r);Nj.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?x2(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(Le(Wo,9),Le(So,10),Le(Yu,10),Le(Pl,10),Le(dy,8),Le(Nh,8))}}static{this.\u0275dir=Wt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Mr([Y_e]),Hn,Os]})}}return n})(),bP=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Wt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();const Z_e={provide:Pl,useExisting:dr(()=>wP),multi:!0};let wP=(()=>{class n extends Mh{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=Xi(n)))(i||n)}}()}static{this.\u0275dir=Wt({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&De("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Mr([Z_e]),Hn]})}}return n})(),Rj=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fo({type:n})}static{this.\u0275inj=go({})}}return n})();const IP=new st("NgModelWithFormControlWarning"),n1e={provide:Wo,useExisting:dr(()=>N1)};let N1=(()=>{class n extends Wo{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Pr,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(N2(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return x1(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){P2(t.control||null,t,!1),function H_e(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Sj(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(P2(r||null,t),(n=>n instanceof M1)(i)&&(x1(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Tj(n,e){gP(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function $_e(n,e){return N2(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gP(this.form,this),this._oldForm&&N2(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(r){return new(r||n)(Le(So,10),Le(Yu,10),Le(Nh,8))}}static{this.\u0275dir=Wt({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&De("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Mr([n1e]),Hn,Os]})}}return n})();const o1e={provide:Zu,useExisting:dr(()=>R2)};let R2=(()=>{class n extends Zu{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Pr,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=vP(0,o)}ngOnChanges(t){this._added||this._setUpControl(),_P(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return x2(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(Le(Wo,13),Le(So,10),Le(Yu,10),Le(Pl,10),Le(IP,8))}}static{this.\u0275dir=Wt({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Mr([o1e]),Hn,Os]})}}return n})();const s1e={provide:Pl,useExisting:dr(()=>pg),multi:!0};function Vj(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let pg=(()=>{class n extends Mh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=Vj(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function a1e(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=Xi(n)))(i||n)}}()}static{this.\u0275dir=Wt({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&De("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Mr([s1e]),Hn]})}}return n})(),k2=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Vj(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(Le(Vs),Le(hc),Le(pg,9))}}static{this.\u0275dir=Wt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();const l1e={provide:Pl,useExisting:dr(()=>AP),multi:!0};function Uj(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let AP=(()=>{class n extends Mh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);i.push(c)}}else{const s=r.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function c1e(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=Xi(n)))(i||n)}}()}static{this.\u0275dir=Wt({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&De("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Mr([l1e]),Hn]})}}return n})(),O2=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Uj(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Uj(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(Le(Vs),Le(hc),Le(AP,9))}}static{this.\u0275dir=Wt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();let kh=(()=>{class n{constructor(){this._validator=C2}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):C2,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Wt({type:n,features:[Os]})}}return n})();const m1e={provide:So,useExisting:dr(()=>R1),multi:!0};let R1=(()=>{class n extends kh{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function Bj(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>oj(t)}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=Xi(n)))(i||n)}}()}static{this.\u0275dir=Wt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Qr("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Mr([m1e]),Hn]})}}return n})(),Kj=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fo({type:n})}static{this.\u0275inj=go({imports:[Rj]})}}return n})();class Qj extends D2{constructor(e,t,r){super(fP(t),pP(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Cj(this,0,e),e.forEach((r,i)=>{Ij(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Yj(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Zj=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let o={};return Yj(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new S1(i,o)}record(t,r=null){const i=this._reduceControls(t);return new Ej(i,r)}control(t,r,i){let o={};return this.useNonNullable?(Yj(r)?o=r:(o.validators=r,o.asyncValidators=i),new M1(t,{...o,nonNullable:!0})):new M1(t,r,i)}array(t,r,i){const o=t.map(s=>this._createControl(s));return new Qj(o,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof M1||t instanceof D2?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),v1e=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Nh,useValue:t.callSetDisabledState??D1}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fo({type:n})}static{this.\u0275inj=go({imports:[Kj]})}}return n})(),y1e=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:IP,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Nh,useValue:t.callSetDisabledState??D1}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fo({type:n})}static{this.\u0275inj=go({imports:[Kj]})}}return n})();class va{static{this.PROFILI_UTENTE={amministratore:{value:"amministratore",label:"Amministratore"},giocatore:{value:"giocatore",label:"Giocatore"},staff:{value:"staff",label:"Staff"}}}static{this.RUOLI={schiacciatore:{value:"schiacciatore",label:"Schiacciatore"},palleggiatore:{value:"palleggiatore",label:"Palleggiatore"},centrale:{value:"centrale",label:"Centrale"},libero:{value:"libero",label:"Libero"},opposto:{value:"opposto",label:"Opposto"},allenatore:{value:"allenatore",label:"Allenatore"},dirigente:{value:"dirigente",label:"Dirigente"}}}static{this.ADDETTO_DEFIBRILLATORE_THUNDERS={nome:"Emanuele",cognome:"Peroni",codiceFiscale:"PRNMNL97L08D972O",dataDiNascita:"1997-07-08",luogoNascita:"Genzano di Roma",residenza:"Via Napoli 55, Albano Laziale"}}static{this.TITOLO_PDF="SETTORE DI ATTIVIT\xc0 PALLAVOLO UISP LAZIO SUD EST"}static{this.PRIMO_SOTTOTITOLO="LISTA PARTECIPANTI ALLA GARA"}static{this.SECONDO_SOTTOTITOLO="DENOMINAZIONE DELLA SQUADRA"}static{this.NOME_SQUADRA="PUNTO VOLLEY CR ASD THUNDERS"}static{this.TITOLO_DEFIBRILLATORE="DA COMPILARE DA PARTE DELLA SOLA SQUADRA OSPITANTE"}static{this.SOTTOTITOLO_DEFIBRILLATORE="AUTOCERTIFICAZIONE DELL'ADDETTO ALL'UTILIZZO DEL DEFIBRILLATORE (ART. 45 E 46 DPR 28 DICEMBRE 2000 N. 445)"}static{this.TESTO_DICHIARAZIONE_DEFIBRILLATORE="CONSAPEVOLE della responsabilit\xe0 penale e civile derivante da dichiarazioni mendaci, DICHIARA che nella struttura sportiva ove si svolge la gara \xe8 presente un defibrillatore semiautomatico esterno conforme alla vigente normativa e che \xe8 presente una persona adeguatamente formata al suo utilizzo."}static{this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}}function b1e(n,e){if(1&n&&(E(0,"option",40),$(1),S()),2&n){const t=e.$implicit;le("value",t.label),U(1),Qe(t.label)}}function w1e(n,e){if(1&n&&(E(0,"option",40),$(1),S()),2&n){const t=e.$implicit;le("value",t.label),U(1),Qe(t.label)}}function I1e(n,e){if(1&n&&(E(0,"div",9)(1,"label",41),$(2,"Profilo *"),S(),E(3,"select",42)(4,"option",22),$(5,"Seleziona un profilo"),S(),$e(6,w1e,2,2,"option",23),S(),E(7,"div",12),$(8,"Il profilo \xe8 obbligatorio"),S()()),2&n){const t=xe();let r;U(3),zt("is-invalid",(null==(r=t.giocatoreForm.get("profilo"))?null:r.invalid)&&(null==(r=t.giocatoreForm.get("profilo"))?null:r.touched)),U(3),le("ngForOf",t.profili)}}function C1e(n,e){1&n&&(E(0,"div",43),se(1,"input",44),E(2,"label",45),$(3," Capitano "),S()())}let E1e=(()=>{class n{constructor(t,r){this.fb=t,this.authService=r,this.giocatore=null,this.isEditMode=!1,this.onSave=new Pr,this.onClose=new Pr,this.ruoli=[],this.profili=[]}ngOnInit(){this.ruoli=Object.values(va.RUOLI),this.profili=Object.values(va.PROFILI_UTENTE),this.giocatoreForm=this.fb.group({id:[null],nome:["",Nl.required],cognome:["",Nl.required],numeroMaglia:[""],dataDiNascita:["",Nl.required],ruolo:["",Nl.required],tesseraUisp:["",Nl.required],capitano:[!1],codiceFiscale:[""],profilo:["",Nl.required],email:["",[Nl.email]],tagliaDivisa:[""],scadenzaCertificatoMedico:[""]})}ngOnChanges(t){t.giocatore&&this.giocatoreForm&&(this.giocatore?this.giocatoreForm.patchValue(this.giocatore):this.giocatoreForm.reset())}salvaGiocatore(){if(this.giocatoreForm.valid){const t=this.giocatoreForm.value;t.tagliaDivisa&&(t.tagliaDivisa=t.tagliaDivisa.toUpperCase()),this.onSave.emit(t),this.giocatoreForm.reset({nome:"",cognome:"",numeroMaglia:"",dataDiNascita:"",ruolo:"",tesseraUisp:"",capitano:!1,codiceFiscale:"",profilo:"",email:"",tagliaDivisa:"",scadenzaCertificatoMedico:""})}}onCancel(){this.giocatoreForm.reset(),this.onClose.emit()}static{this.\u0275fac=function(r){return new(r||n)(Le(Zj),Le(Vc))}}static{this.\u0275cmp=as({type:n,selectors:[["app-dialog-giocatore"]],inputs:{giocatore:"giocatore",isEditMode:"isEditMode"},outputs:{onSave:"onSave",onClose:"onClose"},features:[Os],decls:78,vars:20,consts:[["id","giocatoreModal","tabindex","-1","aria-labelledby","giocatoreModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","giocatoreModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"row","mb-3"],[1,"col-6"],["for","nome",1,"form-label"],["type","text","id","nome","formControlName","nome",1,"form-control"],[1,"invalid-feedback"],["for","cognome",1,"form-label"],["type","text","id","cognome","formControlName","cognome",1,"form-control"],["for","numeroMaglia",1,"form-label"],["type","number","id","numeroMaglia","formControlName","numeroMaglia",1,"form-control"],["for","dataDiNascita",1,"form-label"],["type","date","id","dataDiNascita","formControlName","dataDiNascita",1,"form-control"],[1,"col-12"],["for","ruolo",1,"form-label"],["id","ruolo","formControlName","ruolo",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"ngClass"],["for","tesseraUisp",1,"form-label"],["type","text","id","tesseraUisp","formControlName","tesseraUisp",1,"form-control"],["class","col-6",4,"ngIf"],["for","codiceFiscale",1,"form-label"],["type","text","id","codiceFiscale","formControlName","codiceFiscale","maxlength","16",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","esempio@email.it",1,"form-control"],["for","tagliaDivisa",1,"form-label"],["type","text","id","tagliaDivisa","formControlName","tagliaDivisa","placeholder","Es: M, L, XL",1,"form-control",2,"text-transform","uppercase"],["for","scadenzaCertificatoMedico",1,"form-label"],["type","date","id","scadenzaCertificatoMedico","formControlName","scadenzaCertificatoMedico",1,"form-control"],["class","form-check mb-3",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[3,"value"],["for","profilo",1,"form-label"],["id","profilo","formControlName","profilo",1,"form-select"],[1,"form-check","mb-3"],["type","checkbox","id","capitano","formControlName","capitano",1,"form-check-input"],["for","capitano",1,"form-check-label"]],template:function(r,i){if(1&r&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),$(5),S(),se(6,"button",5),S(),E(7,"div",6)(8,"form",7)(9,"div",8)(10,"div",9)(11,"label",10),$(12,"Nome *"),S(),se(13,"input",11),E(14,"div",12),$(15,"Il nome \xe8 obbligatorio"),S()(),E(16,"div",9)(17,"label",13),$(18,"Cognome *"),S(),se(19,"input",14),E(20,"div",12),$(21,"Il cognome \xe8 obbligatorio"),S()()(),E(22,"div",8)(23,"div",9)(24,"label",15),$(25,"Numero Maglia"),S(),se(26,"input",16),S(),E(27,"div",9)(28,"label",17),$(29,"Data di Nascita *"),S(),se(30,"input",18),E(31,"div",12),$(32,"La data di nascita \xe8 obbligatoria"),S()()(),E(33,"div",8)(34,"div",19)(35,"label",20),$(36,"Ruolo *"),S(),E(37,"select",21)(38,"option",22),$(39,"Seleziona un ruolo"),S(),$e(40,b1e,2,2,"option",23),S(),E(41,"div",12),$(42,"Il ruolo \xe8 obbligatorio"),S()()(),E(43,"div",8)(44,"div",24)(45,"label",25),$(46,"Tessera UISP *"),S(),se(47,"input",26),E(48,"div",12),$(49,"La tessera UISP \xe8 obbligatoria"),S()(),$e(50,I1e,9,3,"div",27),S(),E(51,"div",8)(52,"div",19)(53,"label",28),$(54,"Codice Fiscale"),S(),se(55,"input",29),S()(),E(56,"div",8)(57,"div",19)(58,"label",30),$(59,"Email"),S(),se(60,"input",31),E(61,"div",12),$(62,"Inserisci un indirizzo email valido"),S()()(),E(63,"div",8)(64,"div",9)(65,"label",32),$(66,"Taglia Divisa"),S(),se(67,"input",33),S(),E(68,"div",9)(69,"label",34),$(70,"Scadenza Certificato Medico"),S(),se(71,"input",35),S()(),$e(72,C1e,4,0,"div",36),S()(),E(73,"div",37)(74,"button",38),De("click",function(){return i.onCancel()}),$(75,"Annulla"),S(),E(76,"button",39),De("click",function(){return i.salvaGiocatore()}),$(77),S()()()()()),2&r){let o,s,a,l,c,u;U(5),Qe(i.isEditMode?"Modifica Giocatore":"Aggiungi Giocatore"),U(3),le("formGroup",i.giocatoreForm),U(5),zt("is-invalid",(null==(o=i.giocatoreForm.get("nome"))?null:o.invalid)&&(null==(o=i.giocatoreForm.get("nome"))?null:o.touched)),U(6),zt("is-invalid",(null==(s=i.giocatoreForm.get("cognome"))?null:s.invalid)&&(null==(s=i.giocatoreForm.get("cognome"))?null:s.touched)),U(11),zt("is-invalid",(null==(a=i.giocatoreForm.get("dataDiNascita"))?null:a.invalid)&&(null==(a=i.giocatoreForm.get("dataDiNascita"))?null:a.touched)),U(7),zt("is-invalid",(null==(l=i.giocatoreForm.get("ruolo"))?null:l.invalid)&&(null==(l=i.giocatoreForm.get("ruolo"))?null:l.touched)),U(3),le("ngForOf",i.ruoli),U(4),le("ngClass",i.authService.hasEditPermission()?"col-6":"col-12"),U(3),zt("is-invalid",(null==(c=i.giocatoreForm.get("tesseraUisp"))?null:c.invalid)&&(null==(c=i.giocatoreForm.get("tesseraUisp"))?null:c.touched)),U(3),le("ngIf",i.authService.hasEditPermission()),U(10),zt("is-invalid",(null==(u=i.giocatoreForm.get("email"))?null:u.invalid)&&(null==(u=i.giocatoreForm.get("email"))?null:u.touched)),U(12),le("ngIf",i.authService.hasEditPermission()),U(4),le("disabled",i.giocatoreForm.invalid),U(1),In(" ",i.isEditMode?"Salva Modifiche":"Aggiungi"," ")}},dependencies:[Ym,Eu,fa,bP,k2,O2,Ml,wP,sP,pg,Ju,uP,R1,N1,R2]})}}return n})(),SP=(()=>{class n{transform(t){return t?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():""}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275pipe=Vo({name:"capitalize",type:n,pure:!0})}}return n})();function A1e(n,e){if(1&n&&(E(0,"span",51),se(1,"i",52),$(2),S()),2&n){const t=xe();U(2),In("",t.numeroGiocatori," giocatori ")}}function T1e(n,e){if(1&n&&(E(0,"div",53)(1,"span",54),$(2,"Totale giocatori"),S(),E(3,"span",55),$(4),S()()),2&n){const t=xe();U(4),Qe(t.numeroGiocatori)}}function S1e(n,e){if(1&n&&(E(0,"div",53)(1,"span",54),$(2,"Et\xe0 media"),S(),E(3,"span",55),$(4),S()()),2&n){const t=xe();U(4),In("",t.etaMedia," anni")}}function D1e(n,e){if(1&n&&(E(0,"div",53)(1,"span",54),$(2,"Capitano"),S(),E(3,"span",55),$(4),S()()),2&n){const t=xe();U(4),Qe(t.nomeCapitano)}}function x1e(n,e){if(1&n&&(E(0,"span",63),$(1),wr(2,"date"),S()),2&n){const t=xe().$implicit;le("ngClass",xe().getCertificatoClass(t.scadenzaCertificatoMedico)),U(1),In(" ",hs(2,2,t.scadenzaCertificatoMedico,"dd/MM/yyyy")," ")}}function P1e(n,e){1&n&&(E(0,"span"),$(1,"-"),S())}function M1e(n,e){if(1&n){const t=Ln();E(0,"tr")(1,"td")(2,"span",56),$(3),S()(),E(4,"td"),$(5),wr(6,"capitalize"),S(),E(7,"td"),$(8),wr(9,"capitalize"),S(),E(10,"td"),$(11),wr(12,"date"),S(),E(13,"td"),$(14),S(),E(15,"td"),$(16),S(),E(17,"td"),$(18),S(),E(19,"td"),$(20),S(),E(21,"td"),$(22),S(),E(23,"td"),$(24),S(),E(25,"td"),$e(26,x1e,3,5,"span",57),$e(27,P1e,2,0,"span",45),S(),E(28,"td",58)(29,"button",59),De("click",function(){const o=lt(t).$implicit;return ct(xe().openDialog(o))}),se(30,"i",60),S(),E(31,"button",61),De("click",function(){const o=lt(t).$implicit;return ct(xe().eliminaGiocatore(o))}),se(32,"i",62),S()()()}if(2&n){const t=e.$implicit;U(3),Qe(t.numeroMaglia||"-"),U(2),Qe(ca(6,12,t.cognome)),U(3),Qe(ca(9,14,t.nome)),U(3),Qe(hs(12,16,t.dataDiNascita,"dd/MM/yyyy")),U(3),Qe(t.ruolo),U(2),Qe(t.tesseraUisp),U(2),Qe(t.codiceFiscale||"-"),U(2),Qe(t.profilo),U(2),Qe(t.email||"-"),U(2),Qe(t.tagliaDivisa||"-"),U(2),le("ngIf",t.scadenzaCertificatoMedico),U(1),le("ngIf",!t.scadenzaCertificatoMedico)}}function N1e(n,e){if(1&n&&(E(0,"tr")(1,"td",64),se(2,"i",65),$(3),S()()),2&n){const t=xe();U(3),In(" ",0===t.giocatori.length?"Nessun giocatore presente":"Nessun risultato trovato"," ")}}function R1e(n,e){1&n&&(E(0,"div",66),$(1," Nessun giocatore presente "),S())}function k1e(n,e){1&n&&(E(0,"span",56),$(1,"K"),S())}function O1e(n,e){if(1&n&&(E(0,"span",81),$(1),wr(2,"date"),S()),2&n){const t=xe().$implicit;le("ngClass",xe().getCertificatoClass(t.scadenzaCertificatoMedico)),U(1),In(" ",hs(2,2,t.scadenzaCertificatoMedico,"dd/MM/yyyy")," ")}}function L1e(n,e){1&n&&(E(0,"span",55),$(1,"-"),S())}function F1e(n,e){if(1&n){const t=Ln();E(0,"div",67)(1,"h2",68)(2,"button",69)(3,"span",70),$(4),S(),E(5,"span",71),$(6),wr(7,"capitalize"),wr(8,"capitalize"),S(),$e(9,k1e,2,0,"span",72),S()(),E(10,"div",73)(11,"div",74)(12,"div",75)(13,"div",53)(14,"span",54),$(15,"Data di Nascita"),S(),E(16,"span",55),$(17),wr(18,"date"),S()(),E(19,"div",53)(20,"span",54),$(21,"Ruolo"),S(),E(22,"span",55),$(23),S()(),E(24,"div",53)(25,"span",54),$(26,"Tessera UISP"),S(),E(27,"span",55),$(28),S()(),E(29,"div",53)(30,"span",54),$(31,"Codice Fiscale"),S(),E(32,"span",55),$(33),S()(),E(34,"div",53)(35,"span",54),$(36,"Profilo"),S(),E(37,"span",55),$(38),S()(),E(39,"div",53)(40,"span",54),$(41,"Email"),S(),E(42,"span",55),$(43),S()(),E(44,"div",53)(45,"span",54),$(46,"Taglia Divisa"),S(),E(47,"span",55),$(48),S()(),E(49,"div",53)(50,"span",54),$(51,"Certificato Medico"),S(),$e(52,O1e,3,5,"span",76),$e(53,L1e,2,0,"span",77),S()(),E(54,"div",78)(55,"button",79),De("click",function(){const o=lt(t).$implicit;return ct(xe().openDialog(o))}),se(56,"i",60),$(57," Modifica "),S(),E(58,"button",80),De("click",function(){const o=lt(t).$implicit;return ct(xe().eliminaGiocatore(o))}),se(59,"i",62),$(60," Elimina "),S()()()()()}if(2&n){const t=e.$implicit,r=e.index;U(1),Qr("id","headingGiocatore"+r),U(1),Qr("data-bs-target","#collapseGiocatore"+r)("aria-controls","collapseGiocatore"+r),U(2),Qe(t.numeroMaglia||"-"),U(2),Ua("",ca(7,18,t.cognome)," ",ca(8,20,t.nome),""),U(3),le("ngIf",t.capitano),U(1),Qr("id","collapseGiocatore"+r)("aria-labelledby","headingGiocatore"+r),U(7),Qe(hs(18,22,t.dataDiNascita,"dd/MM/yyyy")),U(6),Qe(t.ruolo),U(5),Qe(t.tesseraUisp),U(5),Qe(t.codiceFiscale||"-"),U(5),Qe(t.profilo),U(5),Qe(t.email||"-"),U(5),Qe(t.tagliaDivisa||"-"),U(4),le("ngIf",t.scadenzaCertificatoMedico),U(1),le("ngIf",!t.scadenzaCertificatoMedico)}}const qa=function(n,e,t){return{"bi-arrow-down":n,"bi-arrow-up":e,"bi-arrow-down-up":t}};let V1e=(()=>{class n{constructor(t){this.giocatoriService=t,this.giocatori=[],this.filteredGiocatori=[],this.selectedGiocatore=null,this.isEditMode=!1,this.filters={numeroMaglia:"",cognome:"",nome:"",dataDiNascita:"",ruolo:"",tesseraUisp:"",codiceFiscale:"",profilo:"",email:"",tagliaDivisa:"",scadenzaCertificatoMedico:""},this.sortColumn="cognome",this.sortDirection="asc"}ngOnInit(){this.giocatoriSubscription=this.giocatoriService.getGiocatoriObservable().subscribe(t=>{this.giocatori=t,this.applyFilters()})}ngOnDestroy(){this.giocatoriSubscription&&this.giocatoriSubscription.unsubscribe()}get giocatoriOrdinati(){return this.filteredGiocatori}applyFilters(){let t=[...this.giocatori];Object.keys(this.filters).forEach(r=>{const i=this.filters[r].toLowerCase().trim();i&&(t=t.filter(o=>{let s=o[r];if("dataDiNascita"===r&&s){const a=new Date(s);s=`${a.getDate().toString().padStart(2,"0")}/${(a.getMonth()+1).toString().padStart(2,"0")}/${a.getFullYear()}`}return s?.toString().toLowerCase().includes(i)}))}),t.sort((r,i)=>{let o=r[this.sortColumn],s=i[this.sortColumn];return"dataDiNascita"===this.sortColumn||"scadenzaCertificatoMedico"===this.sortColumn?(o=o?new Date(o).getTime():0,s=s?new Date(s).getTime():0):"numeroMaglia"===this.sortColumn?(o=parseInt(o)||0,s=parseInt(s)||0):(o=o?.toString().toLowerCase()||"",s=s?.toString().toLowerCase()||""),o<s?"asc"===this.sortDirection?-1:1:o>s?"asc"===this.sortDirection?1:-1:0}),this.filteredGiocatori=t}onFilterChange(){this.applyFilters()}sortBy(t){this.sortColumn===t?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=t,this.sortDirection="asc"),this.applyFilters()}clearFilters(){this.filters={numeroMaglia:"",cognome:"",nome:"",dataDiNascita:"",ruolo:"",tesseraUisp:"",codiceFiscale:"",profilo:"",email:"",tagliaDivisa:"",scadenzaCertificatoMedico:""},this.applyFilters()}get numeroGiocatori(){return this.giocatori.filter(t=>{const r=(t.ruolo||"").toLowerCase();return!r.includes("allenatore")&&!r.includes("dirigente")}).length}get etaMedia(){const t=this.giocatori.filter(i=>{const o=(i.ruolo||"").toLowerCase();return i.dataDiNascita&&!o.includes("allenatore")&&!o.includes("dirigente")});if(0===t.length)return 0;const r=t.reduce((i,o)=>{const s=new Date(o.dataDiNascita),a=new Date;let l=a.getFullYear()-s.getFullYear();const c=a.getMonth()-s.getMonth();return(c<0||0===c&&a.getDate()<s.getDate())&&l--,i+l},0);return Math.round(r/t.length)}get nomeCapitano(){const t=this.giocatori.find(s=>!0===s.capitano);if(!t)return"";const r=s=>s?s.charAt(0).toUpperCase()+s.slice(1).toLowerCase():"";return`${r(t.nome||"")} ${r(t.cognome||"")}`.trim()}getCertificatoClass(t){if(!t)return"";const r=new Date,o=new Date(t).getTime()-r.getTime(),s=Math.ceil(o/864e5);return s>30?"badge bg-success":s>14?"badge bg-warning text-dark":"badge bg-danger"}openDialog(t){void 0!==t?(this.selectedGiocatore={...t},this.isEditMode=!0):(this.selectedGiocatore=null,this.isEditMode=!1)}handleSave(t){var r=this;return(0,ne.A)(function*(){try{if(r.isEditMode&&r.selectedGiocatore){const i=r.selectedGiocatore.id,{id:o,...s}=t;yield r.giocatoriService.updateGiocatore(i,s)}else yield r.giocatoriService.addGiocatore(t);r.closeModal(),r.handleClose()}catch(i){console.error("Errore nel salvataggio del giocatore:",i),alert("Errore nel salvataggio. Riprova.")}})()}handleClose(){this.selectedGiocatore=null,this.isEditMode=!1}eliminaGiocatore(t){var r=this;return(0,ne.A)(function*(){if(confirm("Sei sicuro di voler eliminare questo giocatore?"))try{const i=t.id;yield r.giocatoriService.deleteGiocatore(i)}catch(i){console.error("Errore nell'eliminazione del giocatore:",i),alert("Errore nell'eliminazione. Riprova.")}})()}closeModal(){const t=document.getElementById("giocatoreModal");if(t){const r=bootstrap.Modal.getInstance(t);r&&r.hide()}}handleFileUpload(t){var r=this;const i=t.target.files[0];if(!i)return;if(!i.name.endsWith(".json"))return alert("Seleziona un file JSON valido."),void(t.target.value="");const o=new FileReader;o.onload=function(){var s=(0,ne.A)(function*(a){try{const l=JSON.parse(a.target.result);if(!Array.isArray(l))return alert("Il file JSON deve contenere un array di giocatori."),void(t.target.value="");const c=yield r.giocatoriService.getGiocatori(),u=[];let d=0;if(l.forEach(g=>{const p=(g.nome||"").toLowerCase(),y=(g.cognome||"").toLowerCase();c.some(I=>I.nome.toLowerCase()===p&&I.cognome.toLowerCase()===y)?d++:u.push({...g,nome:p,cognome:y,capitano:g.capitano||!1})}),u.length>0)try{yield r.giocatoriService.addMultipleGiocatori(u);let g=`${u.length} giocatori caricati con successo!`;d>0&&(g+=`\n${d} giocatori gi\xe0 presenti sono stati ignorati.`),alert(g)}catch(g){console.error("Errore nel caricamento dei giocatori:",g),alert("Errore nel caricamento. Riprova.")}else d>0?alert(`Nessun giocatore caricato.\n${d} giocatori erano gi\xe0 presenti.`):alert("Nessun giocatore valido trovato nel file");t.target.value=""}catch(l){console.error("Errore nel parsing del file JSON:",l),alert("Errore nel parsing del file JSON. Assicurati che il formato sia corretto."),t.target.value=""}});return function(a){return s.apply(this,arguments)}}(),o.readAsText(i)}exportToJSON(){if(0===this.giocatori.length)return void alert("Nessun giocatore da esportare.");const t=this.giocatori.map(l=>{const{id:c,...u}=l;return u}),r=JSON.stringify(t,null,2),i=new Blob([r],{type:"application/json"}),o=window.URL.createObjectURL(i),s=document.createElement("a");s.href=o;const a=(new Date).toISOString().split("T")[0];s.download=`giocatori_${a}.json`,s.click(),window.URL.revokeObjectURL(o)}static{this.\u0275fac=function(r){return new(r||n)(Le(I2))}}static{this.\u0275cmp=as({type:n,selectors:[["app-giocatori"]],decls:142,vars:76,consts:[[1,"container-fluid","px-3","py-4","custom-spacing"],[1,"desktop-header","d-none","d-md-block","mb-3"],[1,"desktop-header-card"],[1,"desktop-header-content"],[1,"header-left"],[1,"header-icon"],[1,"bi","bi-people-fill"],[1,"header-text"],[1,"header-title"],[1,"header-meta"],["class","meta-item",4,"ngIf"],[1,"header-actions"],["type","file","accept",".json",1,"file-input-hidden",3,"change"],["fileInput",""],["title","Importa giocatori da JSON",1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi-upload","me-1"],["title","Esporta giocatori in JSON",1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi-download","me-1"],["data-bs-toggle","modal","data-bs-target","#giocatoreModal",1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi-plus-circle","me-1"],[1,"mobile-header","d-md-none","mb-3"],[1,"mobile-header-card"],[1,"mobile-header-title"],[1,"bi","bi-people-fill","me-2"],[1,"title-text"],[1,"mobile-header-info"],["class","info-item",4,"ngIf"],[1,"mobile-header-actions"],["title","Importa giocatori da JSON",1,"btn","btn-sm","btn-header-action",3,"click"],["title","Esporta giocatori in JSON",1,"btn","btn-sm","btn-header-action",3,"click"],["data-bs-toggle","modal","data-bs-target","#giocatoreModal",1,"btn","btn-sm","btn-header-action",3,"click"],[1,"table-container","d-none","d-md-block"],[1,"table-wrapper"],[1,"table","table-hover","modern-table"],[1,"table-header","sticky-header"],[1,"sortable",3,"click"],[1,"th-content"],[1,"bi",3,"ngClass"],[1,"actions-column"],["title","Pulisci filtri",1,"btn","btn-sm","btn-link","text-white",3,"click"],[1,"bi","bi-x-circle"],[1,"filter-row"],["type","text","placeholder","Filtra...",1,"form-control","form-control-sm","filter-input",3,"ngModel","ngModelChange","input"],["type","text","placeholder","gg/mm/aaaa",1,"form-control","form-control-sm","filter-input",3,"ngModel","ngModelChange","input"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"d-md-none"],["class","text-center text-muted py-4",4,"ngIf"],["id","giocatoriAccordion",1,"accordion"],["class","accordion-item",4,"ngFor","ngForOf"],[3,"giocatore","isEditMode","onSave","onClose"],[1,"meta-item"],[1,"bi","bi-person-badge","me-1"],[1,"info-item"],[1,"info-label"],[1,"info-value"],[1,"badge","bg-primary"],[3,"ngClass",4,"ngIf"],[1,"actions-cell"],["data-bs-toggle","modal","data-bs-target","#giocatoreModal","title","Modifica",1,"btn","btn-sm","btn-primary","me-1",3,"click"],[1,"bi","bi-pencil"],["title","Elimina",1,"btn","btn-sm","btn-danger",3,"click"],[1,"bi","bi-trash"],[3,"ngClass"],["colspan","12",1,"text-center","text-muted","py-4"],[1,"bi","bi-inbox","fs-1","d-block","mb-2"],[1,"text-center","text-muted","py-4"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"accordion-button","collapsed"],[1,"badge","bg-primary","me-2","numero-maglia-badge"],[1,"flex-grow-1"],["class","badge bg-primary",4,"ngIf"],["data-bs-parent","#giocatoriAccordion",1,"accordion-collapse","collapse"],[1,"accordion-body"],[1,"player-info-grid"],["class","info-value",3,"ngClass",4,"ngIf"],["class","info-value",4,"ngIf"],[1,"mt-3","d-flex","flex-wrap","gap-2","justify-content-end"],["data-bs-toggle","modal","data-bs-target","#giocatoreModal",1,"btn","btn-primary","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"info-value",3,"ngClass"]],template:function(r,i){if(1&r){const o=Ln();E(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),se(6,"i",6),S(),E(7,"div",7)(8,"h3",8),$(9,"Giocatori"),S(),E(10,"div",9),$e(11,A1e,3,1,"span",10),S()()(),E(12,"div",11)(13,"input",12,13),De("change",function(a){return i.handleFileUpload(a)}),S(),E(15,"button",14),De("click",function(){return lt(o),ct(sE(14).click())}),se(16,"i",15),$(17,"Importa "),S(),E(18,"button",16),De("click",function(){return i.exportToJSON()}),se(19,"i",17),$(20,"Esporta "),S(),E(21,"button",18),De("click",function(){return i.openDialog()}),se(22,"i",19),$(23,"Aggiungi "),S()()()()(),E(24,"div",20)(25,"div",21)(26,"div",22),se(27,"i",23),E(28,"span",24),$(29,"Giocatori"),S()(),E(30,"div",25),$e(31,T1e,5,1,"div",26),$e(32,S1e,5,1,"div",26),$e(33,D1e,5,1,"div",26),S(),E(34,"div",27)(35,"button",28),De("click",function(){return lt(o),ct(sE(14).click())}),se(36,"i",15),$(37,"Importa "),S(),E(38,"button",29),De("click",function(){return i.exportToJSON()}),se(39,"i",17),$(40,"Esporta "),S(),E(41,"button",30),De("click",function(){return i.openDialog()}),se(42,"i",19),$(43,"Aggiungi "),S()()()(),E(44,"div",31)(45,"div",32)(46,"table",33)(47,"thead",34)(48,"tr")(49,"th",35),De("click",function(){return i.sortBy("numeroMaglia")}),E(50,"div",36)(51,"span"),$(52,"N. Maglia"),S(),se(53,"i",37),S()(),E(54,"th",35),De("click",function(){return i.sortBy("cognome")}),E(55,"div",36)(56,"span"),$(57,"Cognome"),S(),se(58,"i",37),S()(),E(59,"th",35),De("click",function(){return i.sortBy("nome")}),E(60,"div",36)(61,"span"),$(62,"Nome"),S(),se(63,"i",37),S()(),E(64,"th",35),De("click",function(){return i.sortBy("dataDiNascita")}),E(65,"div",36)(66,"span"),$(67,"Data di Nascita"),S(),se(68,"i",37),S()(),E(69,"th",35),De("click",function(){return i.sortBy("ruolo")}),E(70,"div",36)(71,"span"),$(72,"Ruolo"),S(),se(73,"i",37),S()(),E(74,"th",35),De("click",function(){return i.sortBy("tesseraUisp")}),E(75,"div",36)(76,"span"),$(77,"Tessera UISP"),S(),se(78,"i",37),S()(),E(79,"th",35),De("click",function(){return i.sortBy("codiceFiscale")}),E(80,"div",36)(81,"span"),$(82,"Codice Fiscale"),S(),se(83,"i",37),S()(),E(84,"th",35),De("click",function(){return i.sortBy("profilo")}),E(85,"div",36)(86,"span"),$(87,"Profilo"),S(),se(88,"i",37),S()(),E(89,"th",35),De("click",function(){return i.sortBy("email")}),E(90,"div",36)(91,"span"),$(92,"Email"),S(),se(93,"i",37),S()(),E(94,"th",35),De("click",function(){return i.sortBy("tagliaDivisa")}),E(95,"div",36)(96,"span"),$(97,"Taglia Divisa"),S(),se(98,"i",37),S()(),E(99,"th",35),De("click",function(){return i.sortBy("scadenzaCertificatoMedico")}),E(100,"div",36)(101,"span"),$(102,"Scadenza Cert. Medico"),S(),se(103,"i",37),S()(),E(104,"th",38)(105,"div",36)(106,"span"),$(107,"Azioni"),S(),E(108,"button",39),De("click",function(){return i.clearFilters()}),se(109,"i",40),S()()()(),E(110,"tr",41)(111,"th")(112,"input",42),De("ngModelChange",function(a){return i.filters.numeroMaglia=a})("input",function(){return i.onFilterChange()}),S()(),E(113,"th")(114,"input",42),De("ngModelChange",function(a){return i.filters.cognome=a})("input",function(){return i.onFilterChange()}),S()(),E(115,"th")(116,"input",42),De("ngModelChange",function(a){return i.filters.nome=a})("input",function(){return i.onFilterChange()}),S()(),E(117,"th")(118,"input",43),De("ngModelChange",function(a){return i.filters.dataDiNascita=a})("input",function(){return i.onFilterChange()}),S()(),E(119,"th")(120,"input",42),De("ngModelChange",function(a){return i.filters.ruolo=a})("input",function(){return i.onFilterChange()}),S()(),E(121,"th")(122,"input",42),De("ngModelChange",function(a){return i.filters.tesseraUisp=a})("input",function(){return i.onFilterChange()}),S()(),E(123,"th")(124,"input",42),De("ngModelChange",function(a){return i.filters.codiceFiscale=a})("input",function(){return i.onFilterChange()}),S()(),E(125,"th")(126,"input",42),De("ngModelChange",function(a){return i.filters.profilo=a})("input",function(){return i.onFilterChange()}),S()(),E(127,"th")(128,"input",42),De("ngModelChange",function(a){return i.filters.email=a})("input",function(){return i.onFilterChange()}),S()(),E(129,"th")(130,"input",42),De("ngModelChange",function(a){return i.filters.tagliaDivisa=a})("input",function(){return i.onFilterChange()}),S()(),E(131,"th")(132,"input",43),De("ngModelChange",function(a){return i.filters.scadenzaCertificatoMedico=a})("input",function(){return i.onFilterChange()}),S()(),se(133,"th"),S()(),E(134,"tbody"),$e(135,M1e,33,19,"tr",44),$e(136,N1e,4,1,"tr",45),S()()()(),E(137,"div",46),$e(138,R1e,2,0,"div",47),E(139,"div",48),$e(140,F1e,61,25,"div",49),S()()(),E(141,"app-dialog-giocatore",50),De("onSave",function(a){return i.handleSave(a)})("onClose",function(){return i.handleClose()}),S()}2&r&&(U(11),le("ngIf",i.giocatori.length),U(20),le("ngIf",i.giocatori.length),U(1),le("ngIf",i.giocatori.length&&i.etaMedia>0),U(1),le("ngIf",i.nomeCapitano),U(20),le("ngClass",br(32,qa,"numeroMaglia"===i.sortColumn&&"asc"===i.sortDirection,"numeroMaglia"===i.sortColumn&&"desc"===i.sortDirection,"numeroMaglia"!==i.sortColumn)),U(5),le("ngClass",br(36,qa,"cognome"===i.sortColumn&&"asc"===i.sortDirection,"cognome"===i.sortColumn&&"desc"===i.sortDirection,"cognome"!==i.sortColumn)),U(5),le("ngClass",br(40,qa,"nome"===i.sortColumn&&"asc"===i.sortDirection,"nome"===i.sortColumn&&"desc"===i.sortDirection,"nome"!==i.sortColumn)),U(5),le("ngClass",br(44,qa,"dataDiNascita"===i.sortColumn&&"asc"===i.sortDirection,"dataDiNascita"===i.sortColumn&&"desc"===i.sortDirection,"dataDiNascita"!==i.sortColumn)),U(5),le("ngClass",br(48,qa,"ruolo"===i.sortColumn&&"asc"===i.sortDirection,"ruolo"===i.sortColumn&&"desc"===i.sortDirection,"ruolo"!==i.sortColumn)),U(5),le("ngClass",br(52,qa,"tesseraUisp"===i.sortColumn&&"asc"===i.sortDirection,"tesseraUisp"===i.sortColumn&&"desc"===i.sortDirection,"tesseraUisp"!==i.sortColumn)),U(5),le("ngClass",br(56,qa,"codiceFiscale"===i.sortColumn&&"asc"===i.sortDirection,"codiceFiscale"===i.sortColumn&&"desc"===i.sortDirection,"codiceFiscale"!==i.sortColumn)),U(5),le("ngClass",br(60,qa,"profilo"===i.sortColumn&&"asc"===i.sortDirection,"profilo"===i.sortColumn&&"desc"===i.sortDirection,"profilo"!==i.sortColumn)),U(5),le("ngClass",br(64,qa,"email"===i.sortColumn&&"asc"===i.sortDirection,"email"===i.sortColumn&&"desc"===i.sortDirection,"email"!==i.sortColumn)),U(5),le("ngClass",br(68,qa,"tagliaDivisa"===i.sortColumn&&"asc"===i.sortDirection,"tagliaDivisa"===i.sortColumn&&"desc"===i.sortDirection,"tagliaDivisa"!==i.sortColumn)),U(5),le("ngClass",br(72,qa,"scadenzaCertificatoMedico"===i.sortColumn&&"asc"===i.sortDirection,"scadenzaCertificatoMedico"===i.sortColumn&&"desc"===i.sortDirection,"scadenzaCertificatoMedico"!==i.sortColumn)),U(9),le("ngModel",i.filters.numeroMaglia),U(2),le("ngModel",i.filters.cognome),U(2),le("ngModel",i.filters.nome),U(2),le("ngModel",i.filters.dataDiNascita),U(2),le("ngModel",i.filters.ruolo),U(2),le("ngModel",i.filters.tesseraUisp),U(2),le("ngModel",i.filters.codiceFiscale),U(2),le("ngModel",i.filters.profilo),U(2),le("ngModel",i.filters.email),U(2),le("ngModel",i.filters.tagliaDivisa),U(2),le("ngModel",i.filters.scadenzaCertificatoMedico),U(3),le("ngForOf",i.giocatoriOrdinati),U(1),le("ngIf",0===i.filteredGiocatori.length),U(2),le("ngIf",0===i.giocatori.length),U(2),le("ngForOf",i.giocatoriOrdinati),U(1),le("giocatore",i.selectedGiocatore)("isEditMode",i.isEditMode))},dependencies:[Ym,Eu,fa,Ml,Ju,Rh,E1e,Zm,SP],styles:[".file-input-hidden[_ngcontent-%COMP%]{display:none}.custom-spacing[_ngcontent-%COMP%]{margin-top:-20px}.numero-maglia-badge[_ngcontent-%COMP%]{min-width:40px;text-align:center}.desktop-header[_ngcontent-%COMP%]{margin-bottom:1rem}.desktop-header-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d6efd 0%,#0a58ca 100%);border-radius:12px;padding:1.5rem 2rem;box-shadow:0 4px 12px #0d6efd33;color:#fff}.desktop-header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1.5rem}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.25rem}.header-icon[_ngcontent-%COMP%]{width:56px;height:56px;background:rgba(255,255,255,.15);border-radius:12px;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.header-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.75rem}.header-text[_ngcontent-%COMP%]{flex:1}.header-title[_ngcontent-%COMP%]{margin:0;font-size:1.75rem;font-weight:700;letter-spacing:-.5px}.header-meta[_ngcontent-%COMP%]{display:flex;gap:1.5rem;margin-top:.5rem;flex-wrap:wrap}.meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.9rem;opacity:.95;font-weight:500}.meta-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.8}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center}.header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-weight:500;border-radius:8px;white-space:nowrap}@media (max-width: 1200px){.desktop-header-card[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.header-icon[_ngcontent-%COMP%]{width:48px;height:48px}.header-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .header-title[_ngcontent-%COMP%]{font-size:1.5rem}.header-meta[_ngcontent-%COMP%]{gap:1rem}.meta-item[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width: 992px){.desktop-header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.header-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}}.mobile-header[_ngcontent-%COMP%]{padding:0}.mobile-header-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d6efd 0%,#0a58ca 100%);border-radius:12px;padding:1rem;box-shadow:0 4px 8px #00000026;color:#fff}.mobile-header-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.5rem;font-weight:700;margin-bottom:.75rem;padding-bottom:.75rem;border-bottom:1px solid rgba(255,255,255,.2)}.mobile-header-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.title-text[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.5px}.mobile-header-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.info-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.4rem .5rem;background:rgba(255,255,255,.1);border-radius:6px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.info-label[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase;letter-spacing:.5px;opacity:.9;font-weight:500}.info-value[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600}.mobile-header-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.75rem;padding-top:.75rem;border-top:1px solid rgba(255,255,255,.2);flex-wrap:wrap}.mobile-header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;min-width:-moz-fit-content;min-width:fit-content;font-weight:500}.btn-header-action[_ngcontent-%COMP%]{background:rgba(255,255,255,.15);border:1px solid rgba(255,255,255,.2);color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .2s}.btn-header-action[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.25);border-color:#ffffff4d;color:#fff;transform:translateY(-1px)}.btn-header-action[_ngcontent-%COMP%]:active{background:rgba(255,255,255,.2);transform:translateY(0)}@media (max-width: 400px){.mobile-header-card[_ngcontent-%COMP%]{padding:.75rem}.mobile-header-title[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:.5rem;padding-bottom:.5rem}.mobile-header-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.info-item[_ngcontent-%COMP%]{padding:.35rem .4rem}.info-label[_ngcontent-%COMP%]{font-size:.7rem}.info-value[_ngcontent-%COMP%]{font-size:.85rem}}.table-container[_ngcontent-%COMP%]{background:white;border-radius:8px;box-shadow:0 1px 3px #00000014;overflow:hidden;margin-bottom:2rem}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;max-height:calc(100vh - 200px)}.modern-table[_ngcontent-%COMP%]{margin-bottom:0;font-size:.9rem}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10}.table-header[_ngcontent-%COMP%]{background-color:#cfe2ff;color:#084298}.table-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#cfe2ff!important}.table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.75rem;font-weight:600;white-space:nowrap;background-color:#cfe2ff!important}.sortable[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:background-color .2s}.sortable[_ngcontent-%COMP%]:hover{background-color:#0842981a}.th-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.5rem}.th-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem;opacity:.7}.filter-row[_ngcontent-%COMP%]{background-color:#cfe2ff}.filter-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem;background-color:#cfe2ff;border-top:none}.filter-input[_ngcontent-%COMP%]{font-size:.85rem;border:1px solid #dee2e6;border-radius:4px;padding:.375rem .5rem}.filter-input[_ngcontent-%COMP%]:focus{border-color:#6ea8fe;box-shadow:0 0 0 .2rem #6ea8fe40}.table-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{color:#084298;opacity:.8}.table-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{color:#052c65;opacity:1}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .15s;border-bottom:1px solid #f8f9fa}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#0d6efd0a}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;vertical-align:middle}.actions-column[_ngcontent-%COMP%]{min-width:120px;text-align:center}.actions-cell[_ngcontent-%COMP%]{white-space:nowrap;text-align:center}.actions-cell[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem}.actions-cell[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0}.modern-table[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.875rem;padding:.35rem .65rem;font-weight:500}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.375rem}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:last-child{margin-right:0}.mobile-toolbar[_ngcontent-%COMP%]{display:flex;gap:.5rem}.mobile-toolbar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-weight:500}@media (max-width: 400px){.modern-table[_ngcontent-%COMP%]{font-size:.85rem}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem}}@media (max-width: 768px){.table-container[_ngcontent-%COMP%]{display:none}}.player-info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:.5rem 1rem}.player-info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.5rem;background-color:#f8f9fa;border-radius:6px}.player-info-grid[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{font-weight:600;color:#6c757d;font-size:.75rem;text-transform:uppercase;margin-bottom:.25rem}.player-info-grid[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{font-weight:500;color:#212529;font-size:.9rem}.accordion-button[_ngcontent-%COMP%]:after{display:none}"]})}}return n})();function Qn(n){return Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qn(n)}var Yn=Uint8Array,Ko=Uint16Array,k1=Int32Array,gg=new Yn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),mg=new Yn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),O1=new Yn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Xj=function(n,e){for(var t=new Ko(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];var i=new k1(t[30]);for(r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)i[o]=o-t[r]<<5|r;return{b:t,r:i}},ez=Xj(gg,2),L2=ez.r;ez.b[28]=258,L2[258]=28;for(var xP=Xj(mg,0).r,L1=new Ko(32768),Ar=0;Ar<32768;++Ar){var Xu=(43690&Ar)>>1|(21845&Ar)<<1;L1[Ar]=((65280&(Xu=(61680&(Xu=(52428&Xu)>>2|(13107&Xu)<<2))>>4|(3855&Xu)<<4))>>8|(255&Xu)<<8)>>1}var Rl=function(n,e,t){for(var r=n.length,i=0,o=new Ko(e);i<r;++i)n[i]&&++o[n[i]-1];var a,s=new Ko(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;if(t){a=new Ko(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],d=s[n[i]-1]++<<u,g=d|(1<<u)-1;d<=g;++d)a[L1[d]>>l]=c}else for(a=new Ko(r),i=0;i<r;++i)n[i]&&(a[i]=L1[s[n[i]-1]++]>>15-n[i]);return a},ed=new Yn(288);for(Ar=0;Ar<144;++Ar)ed[Ar]=8;for(Ar=144;Ar<256;++Ar)ed[Ar]=9;for(Ar=256;Ar<280;++Ar)ed[Ar]=7;for(Ar=280;Ar<288;++Ar)ed[Ar]=8;var F1=new Yn(32);for(Ar=0;Ar<32;++Ar)F1[Ar]=5;var rz=Rl(ed,9,0),oz=Rl(F1,5,0),V1=function(n){return(n+7)/8|0},kl=function(n,e,t){var r=e/8|0;n[r]|=t<<=7&e,n[r+1]|=t>>8},_g=function(n,e,t){var r=e/8|0;n[r]|=t<<=7&e,n[r+1]|=t>>8,n[r+2]|=t>>16},B2=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,o=t.slice();if(!i)return{t:RP,l:0};if(1==i){var s=new Yn(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(J,ae){return J.f-ae.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,u=1,d=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=t[t[c].f<t[d].f?c++:d++],l=t[c!=u&&t[c].f<t[d].f?c++:d++],t[u++]={s:-1,f:a.f+l.f,l:a,r:l};var g=o[0].s;for(r=1;r<i;++r)o[r].s>g&&(g=o[r].s);var p=new Ko(g+1),y=j2(t[u-1],p,0);if(y>e){r=0;var w=0,I=y-e,A=1<<I;for(o.sort(function(ae,q){return p[q.s]-p[ae.s]||ae.f-q.f});r<i;++r){var R=o[r].s;if(!(p[R]>e))break;w+=A-(1<<y-p[R]),p[R]=e}for(w>>=I;w>0;){var F=o[r].s;p[F]<e?w-=1<<e-p[F]++-1:++r}for(;r>=0&&w;--r){var L=o[r].s;p[L]==e&&(--p[L],++w)}y=e}return{t:new Yn(p),l:y}},j2=function(n,e,t){return-1==n.s?Math.max(j2(n.l,e,t+1),j2(n.r,e,t+1)):e[n.s]=t},PP=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Ko(++e),r=0,i=n[0],o=1,s=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=n[a]}return{c:t.subarray(0,r),n:e}},vg=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},MP=function(n,e,t){var r=t.length,i=V1(e+2);n[i]=255&r,n[i+1]=r>>8,n[i+2]=255^n[i],n[i+3]=255^n[i+1];for(var o=0;o<r;++o)n[i+o+4]=t[o];return 8*(i+4+r)},NP=function(n,e,t,r,i,o,s,a,l,c,u){kl(e,u++,t),++i[256];for(var d=B2(i,15),g=d.t,p=d.l,y=B2(o,15),w=y.t,I=y.l,A=PP(g),R=A.c,F=A.n,L=PP(w),J=L.c,ae=L.n,q=new Ko(19),P=0;P<R.length;++P)++q[31&R[P]];for(P=0;P<J.length;++P)++q[31&J[P]];for(var x=B2(q,7),B=x.t,T=x.l,M=19;M>4&&!B[O1[M-1]];--M);var Ae,Ee,me,Te,N=c+5<<3,te=vg(i,ed)+vg(o,F1)+s,_e=vg(i,g)+vg(o,w)+s+14+3*M+vg(q,B)+2*q[16]+3*q[17]+7*q[18];if(l>=0&&N<=te&&N<=_e)return MP(e,u,n.subarray(l,l+c));if(kl(e,u,1+(_e<te)),u+=2,_e<te){Ae=Rl(g,p,0),Ee=g,me=Rl(w,I,0),Te=w;var We=Rl(B,T,0);for(kl(e,u,F-257),kl(e,u+5,ae-1),kl(e,u+10,M-4),u+=14,P=0;P<M;++P)kl(e,u+3*P,B[O1[P]]);u+=3*M;for(var Fe=[R,J],j=0;j<2;++j){var K=Fe[j];for(P=0;P<K.length;++P)kl(e,u,We[ee=31&K[P]]),u+=B[ee],ee>15&&(kl(e,u,K[P]>>5&127),u+=K[P]>>12)}}else Ae=rz,Ee=ed,me=oz,Te=F1;for(P=0;P<a;++P){var ie=r[P];if(ie>255){var ee;_g(e,u,Ae[257+(ee=ie>>18&31)]),u+=Ee[ee+257],ee>7&&(kl(e,u,ie>>23&31),u+=gg[ee]);var ue=31&ie;_g(e,u,me[ue]),u+=Te[ue],ue>3&&(_g(e,u,ie>>5&8191),u+=mg[ue])}else _g(e,u,Ae[ie]),u+=Ee[ie]}return _g(e,u,Ae[256]),u+Ee[256]},lz=new k1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),RP=new Yn(0),cz=function(n,e,t,r,i,o){var s=o.z||n.length,a=new Yn(r+s+5*(1+Math.ceil(s/7e3))+i),l=a.subarray(r,a.length-i),c=o.l,u=7&(o.r||0);if(e){u&&(l[0]=o.r>>3);for(var d=lz[e-1],g=d>>13,p=8191&d,y=(1<<t)-1,w=o.p||new Ko(32768),I=o.h||new Ko(y+1),A=Math.ceil(t/3),R=2*A,F=function(Se){return(n[Se]^n[Se+1]<<A^n[Se+2]<<R)&y},L=new k1(25e3),J=new Ko(288),ae=new Ko(32),q=0,P=0,x=o.i||0,B=0,T=o.w||0,M=0;x+2<s;++x){var N=F(x),te=32767&x,_e=I[N];if(w[te]=_e,I[N]=te,T<=x){var Ae=s-x;if((q>7e3||B>24576)&&(Ae>423||!c)){u=NP(n,l,0,L,J,ae,P,B,M,x-M,u),B=q=P=0,M=x;for(var Ee=0;Ee<286;++Ee)J[Ee]=0;for(Ee=0;Ee<30;++Ee)ae[Ee]=0}var me=2,Te=0,We=p,Fe=te-_e&32767;if(Ae>2&&N==F(x-Fe))for(var j=Math.min(g,Ae)-1,K=Math.min(32767,x),ee=Math.min(258,Ae);Fe<=K&&--We&&te!=_e;){if(n[x+me]==n[x+me-Fe]){for(var ie=0;ie<ee&&n[x+ie]==n[x+ie-Fe];++ie);if(ie>me){if(me=ie,Te=Fe,ie>j)break;var ue=Math.min(Fe,ie-2),fe=0;for(Ee=0;Ee<ue;++Ee){var be=x-Fe+Ee&32767,Ne=be-w[be]&32767;Ne>fe&&(fe=Ne,_e=be)}}}Fe+=(te=_e)-(_e=w[te])&32767}if(Te){L[B++]=268435456|L2[me]<<18|xP[Te];var Pe=31&L2[me],Je=31&xP[Te];P+=gg[Pe]+mg[Je],++J[257+Pe],++ae[Je],T=x+me,++q}else L[B++]=n[x],++J[n[x]]}}for(x=Math.max(x,T);x<s;++x)L[B++]=n[x],++J[n[x]];u=NP(n,l,c,L,J,ae,P,B,M,x-M,u),c||(o.r=7&u|l[u/8|0]<<3,u-=7,o.h=I,o.p=w,o.i=x,o.w=T)}else{for(x=o.w||0;x<s+c;x+=65535){var Ze=x+65535;Ze>=s&&(l[u/8|0]=c,Ze=s),u=MP(l,u+1,n.subarray(x,Ze))}o.i=s}return function(n,e,t){return(null==e||e<0)&&(e=0),(null==t||t>n.length)&&(t=n.length),new Yn(n.subarray(e,t))}(a,0,r+V1(u)+i)},kP=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,o=0|t.length,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=t[s];r=(65535&r)+15*(r>>16),i=(65535&i)+15*(i>>16)}n=r,e=i},d:function(){return(255&(n%=65521))<<24|(65280&n)<<8|(255&(e%=65521))<<8|e>>8}}},$2=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new Yn(o.length+n.length);s.set(o),s.set(n,o.length),n=s,i.w=o.length}return cz(n,null==e.level?6:e.level,null==e.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(n.length)))):20:12+e.mem,t,r,i)},Lr=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},_z=function(n,e){var t=e.level,r=0==t?0:t<6?1:9==t?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=kP();i.p(e.dictionary),Lr(n,2,i.d())}};function B1(n,e){e||(e={});var t=kP();t.p(n);var r=$2(n,e,e.dictionary?6:2,4);return _z(r,e),Lr(r,r.length-4,t.d()),r}var zP=typeof TextDecoder<"u"&&new TextDecoder;try{zP.decode(RP,{stream:!0})}catch{}function Az(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function Tz(n,e){return function J1e(n){if(Array.isArray(n))return n}(n)||function X1e(n,e){var t=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(n,e)||function eve(n,e){if(n){if("string"==typeof n)return Az(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Az(n,e):void 0}}(n,e)||function tve(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sz(n,e="utf8"){return new TextDecoder(e).decode(n)}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;const nve=new TextEncoder,ove=(()=>{const n=new Uint8Array(4);return!((new Uint32Array(n.buffer)[0]=1)&n[0])})(),$P={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class z1{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=8192,t={}){let r=!1;"number"==typeof e?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,o=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof z1)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),this.lastWrittenByte=r?o:0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=2*(this.offset+e),i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=$P[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+r);if(this.littleEndian===ove&&"uint8"!==t&&"int8"!==t){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new $P[t](a.buffer);return this.offset+=r,l.reverse(),l}const s=new $P[t](o);return this.offset+=r,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return Sz(this.readBytes(e))}decodeText(e=1,t="utf8"){return Sz(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(function rve(n){return nve.encode(n)}(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function bg(n){let e=n.length;for(;--e>=0;)n[e]=0}const KP=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Y2=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),fve=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Oz=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Uc=new Array(576);bg(Uc);const G1=new Array(60);bg(G1);const H1=new Array(512);bg(H1);const W1=new Array(256);bg(W1);const QP=new Array(29);bg(QP);const Z2=new Array(30);function YP(n,e,t,r,i){this.static_tree=n,this.extra_bits=e,this.extra_base=t,this.elems=r,this.max_length=i,this.has_stree=n&&n.length}let Lz,Fz,Vz;function ZP(n,e){this.dyn_tree=n,this.max_code=0,this.stat_desc=e}bg(Z2);const Uz=n=>n<256?H1[n]:H1[256+(n>>>7)],K1=(n,e)=>{n.pending_buf[n.pending++]=255&e,n.pending_buf[n.pending++]=e>>>8&255},ys=(n,e,t)=>{n.bi_valid>16-t?(n.bi_buf|=e<<n.bi_valid&65535,K1(n,n.bi_buf),n.bi_buf=e>>16-n.bi_valid,n.bi_valid+=t-16):(n.bi_buf|=e<<n.bi_valid&65535,n.bi_valid+=t)},Ol=(n,e,t)=>{ys(n,t[2*e],t[2*e+1])},Bz=(n,e)=>{let t=0;do{t|=1&n,n>>>=1,t<<=1}while(--e>0);return t>>>1},jz=(n,e,t)=>{const r=new Array(16);let o,s,i=0;for(o=1;o<=15;o++)i=i+t[o-1]<<1,r[o]=i;for(s=0;s<=e;s++){let a=n[2*s+1];0!==a&&(n[2*s]=Bz(r[a]++,a))}},zz=n=>{let e;for(e=0;e<286;e++)n.dyn_ltree[2*e]=0;for(e=0;e<30;e++)n.dyn_dtree[2*e]=0;for(e=0;e<19;e++)n.bl_tree[2*e]=0;n.dyn_ltree[512]=1,n.opt_len=n.static_len=0,n.sym_next=n.matches=0},$z=n=>{n.bi_valid>8?K1(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},qz=(n,e,t,r)=>{const i=2*e,o=2*t;return n[i]<n[o]||n[i]===n[o]&&r[e]<=r[t]},JP=(n,e,t)=>{const r=n.heap[t];let i=t<<1;for(;i<=n.heap_len&&(i<n.heap_len&&qz(e,n.heap[i+1],n.heap[i],n.depth)&&i++,!qz(e,r,n.heap[i],n.depth));)n.heap[t]=n.heap[i],t=i,i<<=1;n.heap[t]=r},Gz=(n,e,t)=>{let r,i,s,a,o=0;if(0!==n.sym_next)do{r=255&n.pending_buf[n.sym_buf+o++],r+=(255&n.pending_buf[n.sym_buf+o++])<<8,i=n.pending_buf[n.sym_buf+o++],0===r?Ol(n,i,e):(s=W1[i],Ol(n,s+256+1,e),a=KP[s],0!==a&&(i-=QP[s],ys(n,i,a)),r--,s=Uz(r),Ol(n,s,t),a=Y2[s],0!==a&&(r-=Z2[s],ys(n,r,a)))}while(o<n.sym_next);Ol(n,256,e)},XP=(n,e)=>{const t=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems;let s,a,c,l=-1;for(n.heap_len=0,n.heap_max=573,s=0;s<o;s++)0!==t[2*s]?(n.heap[++n.heap_len]=l=s,n.depth[s]=0):t[2*s+1]=0;for(;n.heap_len<2;)c=n.heap[++n.heap_len]=l<2?++l:0,t[2*c]=1,n.depth[c]=0,n.opt_len--,i&&(n.static_len-=r[2*c+1]);for(e.max_code=l,s=n.heap_len>>1;s>=1;s--)JP(n,t,s);c=o;do{s=n.heap[1],n.heap[1]=n.heap[n.heap_len--],JP(n,t,1),a=n.heap[1],n.heap[--n.heap_max]=s,n.heap[--n.heap_max]=a,t[2*c]=t[2*s]+t[2*a],n.depth[c]=(n.depth[s]>=n.depth[a]?n.depth[s]:n.depth[a])+1,t[2*s+1]=t[2*a+1]=c,n.heap[1]=c++,JP(n,t,1)}while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],((n,e)=>{const t=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,u,d,g,p,y,w=0;for(g=0;g<=15;g++)n.bl_count[g]=0;for(t[2*n.heap[n.heap_max]+1]=0,c=n.heap_max+1;c<573;c++)u=n.heap[c],g=t[2*t[2*u+1]+1]+1,g>l&&(g=l,w++),t[2*u+1]=g,!(u>r)&&(n.bl_count[g]++,p=0,u>=a&&(p=s[u-a]),y=t[2*u],n.opt_len+=y*(g+p),o&&(n.static_len+=y*(i[2*u+1]+p)));if(0!==w){do{for(g=l-1;0===n.bl_count[g];)g--;n.bl_count[g]--,n.bl_count[g+1]+=2,n.bl_count[l]--,w-=2}while(w>0);for(g=l;0!==g;g--)for(u=n.bl_count[g];0!==u;)d=n.heap[--c],!(d>r)&&(t[2*d+1]!==g&&(n.opt_len+=(g-t[2*d+1])*t[2*d],t[2*d+1]=g),u--)}})(n,e),jz(t,l,n.bl_count)},Hz=(n,e,t)=>{let r,o,i=-1,s=e[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),e[2*(t+1)+1]=65535,r=0;r<=t;r++)o=s,s=e[2*(r+1)+1],!(++a<l&&o===s)&&(a<c?n.bl_tree[2*o]+=a:0!==o?(o!==i&&n.bl_tree[2*o]++,n.bl_tree[32]++):a<=10?n.bl_tree[34]++:n.bl_tree[36]++,a=0,i=o,0===s?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4))},Wz=(n,e,t)=>{let r,o,i=-1,s=e[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),r=0;r<=t;r++)if(o=s,s=e[2*(r+1)+1],!(++a<l&&o===s)){if(a<c)do{Ol(n,o,n.bl_tree)}while(0!=--a);else 0!==o?(o!==i&&(Ol(n,o,n.bl_tree),a--),Ol(n,16,n.bl_tree),ys(n,a-3,2)):a<=10?(Ol(n,17,n.bl_tree),ys(n,a-3,3)):(Ol(n,18,n.bl_tree),ys(n,a-11,7));a=0,i=o,0===s?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4)}};let Kz=!1;const Qz=(n,e,t,r)=>{ys(n,0+(r?1:0),3),$z(n),K1(n,t),K1(n,~t),t&&n.pending_buf.set(n.window.subarray(e,e+t),n.pending),n.pending+=t};var Pve={_tr_init:n=>{Kz||((()=>{let n,e,t,r,i;const o=new Array(16);for(t=0,r=0;r<28;r++)for(QP[r]=t,n=0;n<1<<KP[r];n++)W1[t++]=r;for(W1[t-1]=r,i=0,r=0;r<16;r++)for(Z2[r]=i,n=0;n<1<<Y2[r];n++)H1[i++]=r;for(i>>=7;r<30;r++)for(Z2[r]=i<<7,n=0;n<1<<Y2[r]-7;n++)H1[256+i++]=r;for(e=0;e<=15;e++)o[e]=0;for(n=0;n<=143;)Uc[2*n+1]=8,n++,o[8]++;for(;n<=255;)Uc[2*n+1]=9,n++,o[9]++;for(;n<=279;)Uc[2*n+1]=7,n++,o[7]++;for(;n<=287;)Uc[2*n+1]=8,n++,o[8]++;for(jz(Uc,287,o),n=0;n<30;n++)G1[2*n+1]=5,G1[2*n]=Bz(n,5);Lz=new YP(Uc,KP,257,286,15),Fz=new YP(G1,Y2,0,30,15),Vz=new YP(new Array(0),fve,0,19,7)})(),Kz=!0),n.l_desc=new ZP(n.dyn_ltree,Lz),n.d_desc=new ZP(n.dyn_dtree,Fz),n.bl_desc=new ZP(n.bl_tree,Vz),n.bi_buf=0,n.bi_valid=0,zz(n)},_tr_stored_block:Qz,_tr_flush_block:(n,e,t,r)=>{let i,o,s=0;n.level>0?(2===n.strm.data_type&&(n.strm.data_type=(n=>{let t,e=4093624447;for(t=0;t<=31;t++,e>>>=1)if(1&e&&0!==n.dyn_ltree[2*t])return 0;if(0!==n.dyn_ltree[18]||0!==n.dyn_ltree[20]||0!==n.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==n.dyn_ltree[2*t])return 1;return 0})(n)),XP(n,n.l_desc),XP(n,n.d_desc),s=(n=>{let e;for(Hz(n,n.dyn_ltree,n.l_desc.max_code),Hz(n,n.dyn_dtree,n.d_desc.max_code),XP(n,n.bl_desc),e=18;e>=3&&0===n.bl_tree[2*Oz[e]+1];e--);return n.opt_len+=3*(e+1)+5+5+4,e})(n),i=n.opt_len+3+7>>>3,o=n.static_len+3+7>>>3,o<=i&&(i=o)):i=o=t+5,t+4<=i&&-1!==e?Qz(n,e,t,r):4===n.strategy||o===i?(ys(n,2+(r?1:0),3),Gz(n,Uc,G1)):(ys(n,4+(r?1:0),3),((n,e,t,r)=>{let i;for(ys(n,e-257,5),ys(n,t-1,5),ys(n,r-4,4),i=0;i<r;i++)ys(n,n.bl_tree[2*Oz[i]+1],3);Wz(n,n.dyn_ltree,e-1),Wz(n,n.dyn_dtree,t-1)})(n,n.l_desc.max_code+1,n.d_desc.max_code+1,s+1),Gz(n,n.dyn_ltree,n.dyn_dtree)),zz(n),r&&$z(n)},_tr_tally:(n,e,t)=>(n.pending_buf[n.sym_buf+n.sym_next++]=e,n.pending_buf[n.sym_buf+n.sym_next++]=e>>8,n.pending_buf[n.sym_buf+n.sym_next++]=t,0===e?n.dyn_ltree[2*t]++:(n.matches++,e--,n.dyn_ltree[2*(W1[t]+256+1)]++,n.dyn_dtree[2*Uz(e)]++),n.sym_next===n.sym_end),_tr_align:n=>{ys(n,2,3),Ol(n,256,Uc),(n=>{16===n.bi_valid?(K1(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=255&n.bi_buf,n.bi_buf>>=8,n.bi_valid-=8)})(n)}},Q1=(n,e,t,r)=>{let i=65535&n|0,o=n>>>16&65535|0,s=0;for(;0!==t;){s=t>2e3?2e3:t,t-=s;do{i=i+e[r++]|0,o=o+i|0}while(--s);i%=65521,o%=65521}return i|o<<16|0};const Nve=new Uint32Array((()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=1&n?3988292384^n>>>1:n>>>1;e[t]=n}return e})());var qi=(n,e,t,r)=>{const i=Nve,o=r+t;n^=-1;for(let s=r;s<o;s++)n=n>>>8^i[255&(n^e[s])];return-1^n},Lh={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Fh={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Rve,_tr_stored_block:eM,_tr_flush_block:kve,_tr_tally:rd,_tr_align:Ove}=Pve,{Z_NO_FLUSH:id,Z_PARTIAL_FLUSH:Lve,Z_FULL_FLUSH:Fve,Z_FINISH:ba,Z_BLOCK:Yz,Z_OK:so,Z_STREAM_END:Zz,Z_STREAM_ERROR:Ll,Z_DATA_ERROR:Vve,Z_BUF_ERROR:tM,Z_DEFAULT_COMPRESSION:Uve,Z_FILTERED:Bve,Z_HUFFMAN_ONLY:J2,Z_RLE:jve,Z_FIXED:zve,Z_DEFAULT_STRATEGY:$ve,Z_UNKNOWN:qve,Z_DEFLATED:X2}=Fh,Fl=262,Bh=(n,e)=>(n.msg=Lh[e],e),Jz=n=>2*n-(n>4?9:0),sd=n=>{let e=n.length;for(;--e>=0;)n[e]=0},t0e=n=>{let e,t,r,i=n.w_size;e=n.hash_size,r=e;do{t=n.head[--r],n.head[r]=t>=i?t-i:0}while(--e);e=i,r=e;do{t=n.prev[--r],n.prev[r]=t>=i?t-i:0}while(--e)};let ad=(n,e,t)=>(e<<n.hash_shift^t)&n.hash_mask;const $s=n=>{const e=n.state;let t=e.pending;t>n.avail_out&&(t=n.avail_out),0!==t&&(n.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+t),n.next_out),n.next_out+=t,e.pending_out+=t,n.total_out+=t,n.avail_out-=t,e.pending-=t,0===e.pending&&(e.pending_out=0))},qs=(n,e)=>{kve(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,e),n.block_start=n.strstart,$s(n.strm)},Un=(n,e)=>{n.pending_buf[n.pending++]=e},Z1=(n,e)=>{n.pending_buf[n.pending++]=e>>>8&255,n.pending_buf[n.pending++]=255&e},lM=(n,e,t,r)=>{let i=n.avail_in;return i>r&&(i=r),0===i?0:(n.avail_in-=i,e.set(n.input.subarray(n.next_in,n.next_in+i),t),1===n.state.wrap?n.adler=Q1(n.adler,e,i,t):2===n.state.wrap&&(n.adler=qi(n.adler,e,i,t)),n.next_in+=i,n.total_in+=i,i)},Xz=(n,e)=>{let i,o,t=n.max_chain_length,r=n.strstart,s=n.prev_length,a=n.nice_match;const l=n.strstart>n.w_size-Fl?n.strstart-(n.w_size-Fl):0,c=n.window,u=n.w_mask,d=n.prev,g=n.strstart+258;let p=c[r+s-1],y=c[r+s];n.prev_length>=n.good_match&&(t>>=2),a>n.lookahead&&(a=n.lookahead);do{if(i=e,c[i+s]===y&&c[i+s-1]===p&&c[i]===c[r]&&c[++i]===c[r+1]){r+=2,i++;do{}while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<g);if(o=258-(g-r),r=g-258,o>s){if(n.match_start=e,s=o,o>=a)break;p=c[r+s-1],y=c[r+s]}}}while((e=d[e&u])>l&&0!=--t);return s<=n.lookahead?s:n.lookahead},Ag=n=>{const e=n.w_size;let t,r,i;do{if(r=n.window_size-n.lookahead-n.strstart,n.strstart>=e+(e-Fl)&&(n.window.set(n.window.subarray(e,e+e-r),0),n.match_start-=e,n.strstart-=e,n.block_start-=e,n.insert>n.strstart&&(n.insert=n.strstart),t0e(n),r+=e),0===n.strm.avail_in)break;if(t=lM(n.strm,n.window,n.strstart+n.lookahead,r),n.lookahead+=t,n.lookahead+n.insert>=3)for(i=n.strstart-n.insert,n.ins_h=n.window[i],n.ins_h=ad(n,n.ins_h,n.window[i+1]);n.insert&&(n.ins_h=ad(n,n.ins_h,n.window[i+3-1]),n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,n.insert--,!(n.lookahead+n.insert<3)););}while(n.lookahead<Fl&&0!==n.strm.avail_in)},e$=(n,e)=>{let r,i,o,t=n.pending_buf_size-5>n.w_size?n.w_size:n.pending_buf_size-5,s=0,a=n.strm.avail_in;do{if(r=65535,o=n.bi_valid+42>>3,n.strm.avail_out<o||(o=n.strm.avail_out-o,i=n.strstart-n.block_start,r>i+n.strm.avail_in&&(r=i+n.strm.avail_in),r>o&&(r=o),r<t&&(0===r&&e!==ba||e===id||r!==i+n.strm.avail_in)))break;s=e===ba&&r===i+n.strm.avail_in?1:0,eM(n,0,0,s),n.pending_buf[n.pending-4]=r,n.pending_buf[n.pending-3]=r>>8,n.pending_buf[n.pending-2]=~r,n.pending_buf[n.pending-1]=~r>>8,$s(n.strm),i&&(i>r&&(i=r),n.strm.output.set(n.window.subarray(n.block_start,n.block_start+i),n.strm.next_out),n.strm.next_out+=i,n.strm.avail_out-=i,n.strm.total_out+=i,n.block_start+=i,r-=i),r&&(lM(n.strm,n.strm.output,n.strm.next_out,r),n.strm.next_out+=r,n.strm.avail_out-=r,n.strm.total_out+=r)}while(0===s);return a-=n.strm.avail_in,a&&(a>=n.w_size?(n.matches=2,n.window.set(n.strm.input.subarray(n.strm.next_in-n.w_size,n.strm.next_in),0),n.strstart=n.w_size,n.insert=n.strstart):(n.window_size-n.strstart<=a&&(n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,n.insert>n.strstart&&(n.insert=n.strstart)),n.window.set(n.strm.input.subarray(n.strm.next_in-a,n.strm.next_in),n.strstart),n.strstart+=a,n.insert+=a>n.w_size-n.insert?n.w_size-n.insert:a),n.block_start=n.strstart),n.high_water<n.strstart&&(n.high_water=n.strstart),s?4:e!==id&&e!==ba&&0===n.strm.avail_in&&n.strstart===n.block_start?2:(o=n.window_size-n.strstart,n.strm.avail_in>o&&n.block_start>=n.w_size&&(n.block_start-=n.w_size,n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,o+=n.w_size,n.insert>n.strstart&&(n.insert=n.strstart)),o>n.strm.avail_in&&(o=n.strm.avail_in),o&&(lM(n.strm,n.window,n.strstart,o),n.strstart+=o,n.insert+=o>n.w_size-n.insert?n.w_size-n.insert:o),n.high_water<n.strstart&&(n.high_water=n.strstart),o=n.bi_valid+42>>3,o=n.pending_buf_size-o>65535?65535:n.pending_buf_size-o,t=o>n.w_size?n.w_size:o,i=n.strstart-n.block_start,(i>=t||(i||e===ba)&&e!==id&&0===n.strm.avail_in&&i<=o)&&(r=i>o?o:i,s=e===ba&&0===n.strm.avail_in&&r===i?1:0,eM(n,n.block_start,r,s),n.block_start+=r,$s(n.strm)),s?3:1)},cM=(n,e)=>{let t,r;for(;;){if(n.lookahead<Fl){if(Ag(n),n.lookahead<Fl&&e===id)return 1;if(0===n.lookahead)break}if(t=0,n.lookahead>=3&&(n.ins_h=ad(n,n.ins_h,n.window[n.strstart+3-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),0!==t&&n.strstart-t<=n.w_size-Fl&&(n.match_length=Xz(n,t)),n.match_length>=3)if(r=rd(n,n.strstart-n.match_start,n.match_length-3),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=3){n.match_length--;do{n.strstart++,n.ins_h=ad(n,n.ins_h,n.window[n.strstart+3-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart}while(0!=--n.match_length);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=ad(n,n.ins_h,n.window[n.strstart+1]);else r=rd(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(r&&(qs(n,!1),0===n.strm.avail_out))return 1}return n.insert=n.strstart<2?n.strstart:2,e===ba?(qs(n,!0),0===n.strm.avail_out?3:4):n.sym_next&&(qs(n,!1),0===n.strm.avail_out)?1:2},Tg=(n,e)=>{let t,r,i;for(;;){if(n.lookahead<Fl){if(Ag(n),n.lookahead<Fl&&e===id)return 1;if(0===n.lookahead)break}if(t=0,n.lookahead>=3&&(n.ins_h=ad(n,n.ins_h,n.window[n.strstart+3-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=2,0!==t&&n.prev_length<n.max_lazy_match&&n.strstart-t<=n.w_size-Fl&&(n.match_length=Xz(n,t),n.match_length<=5&&(n.strategy===Bve||3===n.match_length&&n.strstart-n.match_start>4096)&&(n.match_length=2)),n.prev_length>=3&&n.match_length<=n.prev_length){i=n.strstart+n.lookahead-3,r=rd(n,n.strstart-1-n.prev_match,n.prev_length-3),n.lookahead-=n.prev_length-1,n.prev_length-=2;do{++n.strstart<=i&&(n.ins_h=ad(n,n.ins_h,n.window[n.strstart+3-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart)}while(0!=--n.prev_length);if(n.match_available=0,n.match_length=2,n.strstart++,r&&(qs(n,!1),0===n.strm.avail_out))return 1}else if(n.match_available){if(r=rd(n,0,n.window[n.strstart-1]),r&&qs(n,!1),n.strstart++,n.lookahead--,0===n.strm.avail_out)return 1}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(r=rd(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<2?n.strstart:2,e===ba?(qs(n,!0),0===n.strm.avail_out?3:4):n.sym_next&&(qs(n,!1),0===n.strm.avail_out)?1:2};function Vl(n,e,t,r,i){this.good_length=n,this.max_lazy=e,this.nice_length=t,this.max_chain=r,this.func=i}const J1=[new Vl(0,0,0,0,e$),new Vl(4,4,8,4,cM),new Vl(4,5,16,8,cM),new Vl(4,6,32,32,cM),new Vl(4,4,16,16,Tg),new Vl(8,16,32,32,Tg),new Vl(8,16,128,128,Tg),new Vl(8,32,128,256,Tg),new Vl(32,128,258,1024,Tg),new Vl(32,258,258,4096,Tg)];function o0e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=X2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),sd(this.dyn_ltree),sd(this.dyn_dtree),sd(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),sd(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),sd(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const X1=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||42!==e.status&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&113!==e.status&&666!==e.status?1:0},t$=n=>{if(X1(n))return Bh(n,Ll);n.total_in=n.total_out=0,n.data_type=qve;const e=n.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?42:113,n.adler=2===e.wrap?0:1,e.last_flush=-2,Rve(e),so},n$=n=>{const e=t$(n);return e===so&&(n=>{n.window_size=2*n.w_size,sd(n.head),n.max_lazy_match=J1[n.level].max_lazy,n.good_match=J1[n.level].good_length,n.nice_match=J1[n.level].nice_length,n.max_chain_length=J1[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0})(n.state),e},r$=(n,e,t,r,i,o)=>{if(!n)return Ll;let s=1;if(e===Uve&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>9||t!==X2||r<8||r>15||e<0||e>9||o<0||o>zve||8===r&&1!==s)return Bh(n,Ll);8===r&&(r=9);const a=new o0e;return n.state=a,a.strm=n,a.status=42,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=e,a.strategy=o,a.method=t,n$(n)};var ev={deflateInit:(n,e)=>r$(n,e,X2,15,8,$ve),deflateInit2:r$,deflateReset:n$,deflateResetKeep:t$,deflateSetHeader:(n,e)=>X1(n)||2!==n.state.wrap?Ll:(n.state.gzhead=e,so),deflate:(n,e)=>{if(X1(n)||e>Yz||e<0)return n?Bh(n,Ll):Ll;const t=n.state;if(!n.output||0!==n.avail_in&&!n.input||666===t.status&&e!==ba)return Bh(n,0===n.avail_out?tM:Ll);const r=t.last_flush;if(t.last_flush=e,0!==t.pending){if($s(n),0===n.avail_out)return t.last_flush=-1,so}else if(0===n.avail_in&&Jz(e)<=Jz(r)&&e!==ba)return Bh(n,tM);if(666===t.status&&0!==n.avail_in)return Bh(n,tM);if(42===t.status&&0===t.wrap&&(t.status=113),42===t.status){let i=X2+(t.w_bits-8<<4)<<8,o=-1;if(o=t.strategy>=J2||t.level<2?0:t.level<6?1:6===t.level?2:3,i|=o<<6,0!==t.strstart&&(i|=32),i+=31-i%31,Z1(t,i),0!==t.strstart&&(Z1(t,n.adler>>>16),Z1(t,65535&n.adler)),n.adler=1,t.status=113,$s(n),0!==t.pending)return t.last_flush=-1,so}if(57===t.status)if(n.adler=0,Un(t,31),Un(t,139),Un(t,8),t.gzhead)Un(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),Un(t,255&t.gzhead.time),Un(t,t.gzhead.time>>8&255),Un(t,t.gzhead.time>>16&255),Un(t,t.gzhead.time>>24&255),Un(t,9===t.level?2:t.strategy>=J2||t.level<2?4:0),Un(t,255&t.gzhead.os),t.gzhead.extra&&t.gzhead.extra.length&&(Un(t,255&t.gzhead.extra.length),Un(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(n.adler=qi(n.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=69;else if(Un(t,0),Un(t,0),Un(t,0),Un(t,0),Un(t,0),Un(t,9===t.level?2:t.strategy>=J2||t.level<2?4:0),Un(t,3),t.status=113,$s(n),0!==t.pending)return t.last_flush=-1,so;if(69===t.status){if(t.gzhead.extra){let i=t.pending,o=(65535&t.gzhead.extra.length)-t.gzindex;for(;t.pending+o>t.pending_buf_size;){let a=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>i&&(n.adler=qi(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex+=a,$s(n),0!==t.pending)return t.last_flush=-1,so;i=0,o-=a}let s=new Uint8Array(t.gzhead.extra);t.pending_buf.set(s.subarray(t.gzindex,t.gzindex+o),t.pending),t.pending+=o,t.gzhead.hcrc&&t.pending>i&&(n.adler=qi(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=73}if(73===t.status){if(t.gzhead.name){let o,i=t.pending;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(n.adler=qi(n.adler,t.pending_buf,t.pending-i,i)),$s(n),0!==t.pending)return t.last_flush=-1,so;i=0}o=t.gzindex<t.gzhead.name.length?255&t.gzhead.name.charCodeAt(t.gzindex++):0,Un(t,o)}while(0!==o);t.gzhead.hcrc&&t.pending>i&&(n.adler=qi(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=91}if(91===t.status){if(t.gzhead.comment){let o,i=t.pending;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(n.adler=qi(n.adler,t.pending_buf,t.pending-i,i)),$s(n),0!==t.pending)return t.last_flush=-1,so;i=0}o=t.gzindex<t.gzhead.comment.length?255&t.gzhead.comment.charCodeAt(t.gzindex++):0,Un(t,o)}while(0!==o);t.gzhead.hcrc&&t.pending>i&&(n.adler=qi(n.adler,t.pending_buf,t.pending-i,i))}t.status=103}if(103===t.status){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&($s(n),0!==t.pending))return t.last_flush=-1,so;Un(t,255&n.adler),Un(t,n.adler>>8&255),n.adler=0}if(t.status=113,$s(n),0!==t.pending)return t.last_flush=-1,so}if(0!==n.avail_in||0!==t.lookahead||e!==id&&666!==t.status){let i=0===t.level?e$(t,e):t.strategy===J2?((n,e)=>{let t;for(;;){if(0===n.lookahead&&(Ag(n),0===n.lookahead)){if(e===id)return 1;break}if(n.match_length=0,t=rd(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,t&&(qs(n,!1),0===n.strm.avail_out))return 1}return n.insert=0,e===ba?(qs(n,!0),0===n.strm.avail_out?3:4):n.sym_next&&(qs(n,!1),0===n.strm.avail_out)?1:2})(t,e):t.strategy===jve?((n,e)=>{let t,r,i,o;const s=n.window;for(;;){if(n.lookahead<=258){if(Ag(n),n.lookahead<=258&&e===id)return 1;if(0===n.lookahead)break}if(n.match_length=0,n.lookahead>=3&&n.strstart>0&&(i=n.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=n.strstart+258;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);n.match_length=258-(o-i),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=3?(t=rd(n,1,n.match_length-3),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(t=rd(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),t&&(qs(n,!1),0===n.strm.avail_out))return 1}return n.insert=0,e===ba?(qs(n,!0),0===n.strm.avail_out?3:4):n.sym_next&&(qs(n,!1),0===n.strm.avail_out)?1:2})(t,e):J1[t.level].func(t,e);if((3===i||4===i)&&(t.status=666),1===i||3===i)return 0===n.avail_out&&(t.last_flush=-1),so;if(2===i&&(e===Lve?Ove(t):e!==Yz&&(eM(t,0,0,!1),e===Fve&&(sd(t.head),0===t.lookahead&&(t.strstart=0,t.block_start=0,t.insert=0))),$s(n),0===n.avail_out))return t.last_flush=-1,so}return e!==ba?so:t.wrap<=0?Zz:(2===t.wrap?(Un(t,255&n.adler),Un(t,n.adler>>8&255),Un(t,n.adler>>16&255),Un(t,n.adler>>24&255),Un(t,255&n.total_in),Un(t,n.total_in>>8&255),Un(t,n.total_in>>16&255),Un(t,n.total_in>>24&255)):(Z1(t,n.adler>>>16),Z1(t,65535&n.adler)),$s(n),t.wrap>0&&(t.wrap=-t.wrap),0!==t.pending?so:Zz)},deflateEnd:n=>{if(X1(n))return Ll;const e=n.state.status;return n.state=null,113===e?Bh(n,Vve):so},deflateSetDictionary:(n,e)=>{let t=e.length;if(X1(n))return Ll;const r=n.state,i=r.wrap;if(2===i||1===i&&42!==r.status||r.lookahead)return Ll;if(1===i&&(n.adler=Q1(n.adler,e,t,0)),r.wrap=0,t>=r.w_size){0===i&&(sd(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(e.subarray(t-r.w_size,t),0),e=l,t=r.w_size}const o=n.avail_in,s=n.next_in,a=n.input;for(n.avail_in=t,n.next_in=0,n.input=e,Ag(r);r.lookahead>=3;){let l=r.strstart,c=r.lookahead-2;do{r.ins_h=ad(r,r.ins_h,r.window[l+3-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++}while(--c);r.strstart=l,r.lookahead=2,Ag(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,n.next_in=s,n.input=a,n.avail_in=o,r.wrap=i,so},deflateInfo:"pako deflate (from Nodeca project)"};const b0e=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var ew={assign:function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if("object"!=typeof t)throw new TypeError(t+"must be non-object");for(const r in t)b0e(t,r)&&(n[r]=t[r])}}return n},flattenChunks:n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,o=n.length;r<o;r++){let s=n[r];t.set(s,i),i+=s.length}return t}};let i$=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{i$=!1}const tv=new Uint8Array(256);for(let n=0;n<256;n++)tv[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;tv[254]=tv[254]=1;var nv={string2buf:n=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(n);let e,t,r,i,o,s=n.length,a=0;for(i=0;i<s;i++)t=n.charCodeAt(i),55296==(64512&t)&&i+1<s&&(r=n.charCodeAt(i+1),56320==(64512&r)&&(t=65536+(t-55296<<10)+(r-56320),i++)),a+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)t=n.charCodeAt(i),55296==(64512&t)&&i+1<s&&(r=n.charCodeAt(i+1),56320==(64512&r)&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|63&t):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|63&t):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|63&t);return e},buf2string:(n,e)=>{const t=e||n.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(n.subarray(0,e));let r,i;const o=new Array(2*t);for(i=0,r=0;r<t;){let s=n[r++];if(s<128){o[i++]=s;continue}let a=tv[s];if(a>4)o[i++]=65533,r+=a-1;else{for(s&=2===a?31:3===a?15:7;a>1&&r<t;)s=s<<6|63&n[r++],a--;a>1?o[i++]=65533:s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|1023&s)}}return((n,e)=>{if(e<65534&&n.subarray&&i$)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t})(o,i)},utf8border:(n,e)=>{(e=e||n.length)>n.length&&(e=n.length);let t=e-1;for(;t>=0&&128==(192&n[t]);)t--;return t<0||0===t?e:t+tv[n[t]]>e?t:e}},o$=function S0e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const s$=Object.prototype.toString,{Z_NO_FLUSH:D0e,Z_SYNC_FLUSH:x0e,Z_FULL_FLUSH:P0e,Z_FINISH:M0e,Z_OK:tw,Z_STREAM_END:N0e,Z_DEFAULT_COMPRESSION:R0e,Z_DEFAULT_STRATEGY:k0e,Z_DEFLATED:O0e}=Fh;function rv(n){this.options=ew.assign({level:R0e,method:O0e,chunkSize:16384,windowBits:15,memLevel:8,strategy:k0e},n||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o$,this.strm.avail_out=0;let t=ev.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==tw)throw new Error(Lh[t]);if(e.header&&ev.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(r="string"==typeof e.dictionary?nv.string2buf(e.dictionary):"[object ArrayBuffer]"===s$.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,t=ev.deflateSetDictionary(this.strm,r),t!==tw)throw new Error(Lh[t]);this._dict_set=!0}}function uM(n,e){const t=new rv(e);if(t.push(n,!0),t.err)throw t.msg||Lh[t.err];return t.result}rv.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=e===~~e?e:!0===e?M0e:D0e,t.input="string"==typeof n?nv.string2buf(n):"[object ArrayBuffer]"===s$.call(n)?new Uint8Array(n):n,t.next_in=0,t.avail_in=t.input.length;;)if(0===t.avail_out&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),(o===x0e||o===P0e)&&t.avail_out<=6)this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;else{if(i=ev.deflate(t,o),i===N0e)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),i=ev.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===tw;if(0!==t.avail_out){if(o>0&&t.next_out>0)this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;else if(0===t.avail_in)break}else this.onData(t.output)}return!0},rv.prototype.onData=function(n){this.chunks.push(n)},rv.prototype.onEnd=function(n){n===tw&&(this.result=ew.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};var $0e={Deflate:rv,deflate:uM,deflateRaw:function L0e(n,e){return(e=e||{}).raw=!0,uM(n,e)},gzip:function F0e(n,e){return(e=e||{}).gzip=!0,uM(n,e)},constants:Fh};const nw=16209;var G0e=function(e,t){let r,i,o,s,a,l,c,u,d,g,p,y,w,I,A,R,F,L,J,ae,q,P,x,B;const T=e.state;r=e.next_in,x=e.input,i=r+(e.avail_in-5),o=e.next_out,B=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),l=T.dmax,c=T.wsize,u=T.whave,d=T.wnext,g=T.window,p=T.hold,y=T.bits,w=T.lencode,I=T.distcode,A=(1<<T.lenbits)-1,R=(1<<T.distbits)-1;e:do{y<15&&(p+=x[r++]<<y,y+=8,p+=x[r++]<<y,y+=8),F=w[p&A];t:for(;;){if(L=F>>>24,p>>>=L,y-=L,L=F>>>16&255,0===L)B[o++]=65535&F;else{if(!(16&L)){if(64&L){if(32&L){T.mode=16191;break e}e.msg="invalid literal/length code",T.mode=nw;break e}F=w[(65535&F)+(p&(1<<L)-1)];continue t}for(J=65535&F,L&=15,L&&(y<L&&(p+=x[r++]<<y,y+=8),J+=p&(1<<L)-1,p>>>=L,y-=L),y<15&&(p+=x[r++]<<y,y+=8,p+=x[r++]<<y,y+=8),F=I[p&R];;){if(L=F>>>24,p>>>=L,y-=L,L=F>>>16&255,16&L){if(ae=65535&F,L&=15,y<L&&(p+=x[r++]<<y,y+=8,y<L&&(p+=x[r++]<<y,y+=8)),ae+=p&(1<<L)-1,ae>l){e.msg="invalid distance too far back",T.mode=nw;break e}if(p>>>=L,y-=L,L=o-s,ae>L){if(L=ae-L,L>u&&T.sane){e.msg="invalid distance too far back",T.mode=nw;break e}if(q=0,P=g,0===d){if(q+=c-L,L<J){J-=L;do{B[o++]=g[q++]}while(--L);q=o-ae,P=B}}else if(d<L){if(q+=c+d-L,L-=d,L<J){J-=L;do{B[o++]=g[q++]}while(--L);if(q=0,d<J){L=d,J-=L;do{B[o++]=g[q++]}while(--L);q=o-ae,P=B}}}else if(q+=d-L,L<J){J-=L;do{B[o++]=g[q++]}while(--L);q=o-ae,P=B}for(;J>2;)B[o++]=P[q++],B[o++]=P[q++],B[o++]=P[q++],J-=3;J&&(B[o++]=P[q++],J>1&&(B[o++]=P[q++]))}else{q=o-ae;do{B[o++]=B[q++],B[o++]=B[q++],B[o++]=B[q++],J-=3}while(J>2);J&&(B[o++]=B[q++],J>1&&(B[o++]=B[q++]))}break}if(64&L){e.msg="invalid distance code",T.mode=nw;break e}F=I[(65535&F)+(p&(1<<L)-1)]}}break}}while(r<i&&o<a);J=y>>3,r-=J,y-=J<<3,p&=(1<<y)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<a?a-o+257:257-(o-a),T.hold=p,T.bits=y};const H0e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),W0e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),K0e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Q0e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var iv=(n,e,t,r,i,o,s,a)=>{const l=a.bits;let F,L,J,ae,q,x,c=0,u=0,d=0,g=0,p=0,y=0,w=0,I=0,A=0,R=0,P=null;const B=new Uint16Array(16),T=new Uint16Array(16);let N,te,_e,M=null;for(c=0;c<=15;c++)B[c]=0;for(u=0;u<r;u++)B[e[t+u]]++;for(p=l,g=15;g>=1&&0===B[g];g--);if(p>g&&(p=g),0===g)return i[o++]=20971520,i[o++]=20971520,a.bits=1,0;for(d=1;d<g&&0===B[d];d++);for(p<d&&(p=d),I=1,c=1;c<=15;c++)if(I<<=1,I-=B[c],I<0)return-1;if(I>0&&(0===n||1!==g))return-1;for(T[1]=0,c=1;c<15;c++)T[c+1]=T[c]+B[c];for(u=0;u<r;u++)0!==e[t+u]&&(s[T[e[t+u]]++]=u);if(0===n?(P=M=s,x=20):1===n?(P=H0e,M=W0e,x=257):(P=K0e,M=Q0e,x=0),R=0,u=0,c=d,q=o,y=p,w=0,J=-1,A=1<<p,ae=A-1,1===n&&A>852||2===n&&A>592)return 1;for(;;){N=c-w,s[u]+1<x?(te=0,_e=s[u]):s[u]>=x?(te=M[s[u]-x],_e=P[s[u]-x]):(te=96,_e=0),F=1<<c-w,L=1<<y,d=L;do{L-=F,i[q+(R>>w)+L]=N<<24|te<<16|_e|0}while(0!==L);for(F=1<<c-1;R&F;)F>>=1;if(0!==F?(R&=F-1,R+=F):R=0,u++,0==--B[c]){if(c===g)break;c=e[t+s[u]]}if(c>p&&(R&ae)!==J){for(0===w&&(w=p),q+=d,y=c-w,I=1<<y;y+w<g&&(I-=B[y+w],!(I<=0));)y++,I<<=1;if(A+=1<<y,1===n&&A>852||2===n&&A>592)return 1;J=R&ae,i[J]=p<<24|y<<16|q-o|0}}return 0!==R&&(i[q+R]=c-w<<24|64<<16|0),a.bits=p,0};const{Z_FINISH:f$,Z_BLOCK:Z0e,Z_TREES:rw,Z_OK:jh,Z_STREAM_END:J0e,Z_NEED_DICT:X0e,Z_STREAM_ERROR:wa,Z_DATA_ERROR:p$,Z_MEM_ERROR:g$,Z_BUF_ERROR:eye,Z_DEFLATED:m$}=Fh,iw=16180,ow=16190,Bc=16191,sw=16199,aw=16200,Fr=16209,B$=n=>(n>>>24&255)+(n>>>8&65280)+((65280&n)<<8)+((255&n)<<24);function iye(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const zh=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<iw||e.mode>16211?1:0},j$=n=>{if(zh(n))return wa;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=1&e.wrap),e.mode=iw,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,jh},z$=n=>{if(zh(n))return wa;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,j$(n)},$$=(n,e)=>{let t;if(zh(n))return wa;const r=n.state;return e<0?(t=0,e=-e):(t=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?wa:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,z$(n))},q$=(n,e)=>{if(!n)return wa;const t=new iye;n.state=t,t.strm=n,t.window=null,t.mode=iw;const r=$$(n,e);return r!==jh&&(n.state=null),r};let gM,mM,G$=!0;const sye=n=>{if(G$){gM=new Int32Array(512),mM=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(iv(1,n.lens,0,288,gM,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;iv(2,n.lens,0,32,mM,0,n.work,{bits:5}),G$=!1}n.lencode=gM,n.lenbits=9,n.distcode=mM,n.distbits=5},H$=(n,e,t,r)=>{let i;const o=n.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(t-r,t-r+i),o.wnext),(r-=i)?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var jc={inflateReset:z$,inflateReset2:$$,inflateResetKeep:j$,inflateInit:n=>q$(n,15),inflateInit2:q$,inflate:(n,e)=>{let t,r,i,o,s,a,l,c,u,d,g,p,y,w,A,R,F,L,J,ae,q,P,I=0;const x=new Uint8Array(4);let B,T;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(zh(n)||!n.output||!n.input&&0!==n.avail_in)return wa;t=n.state,t.mode===Bc&&(t.mode=16192),s=n.next_out,i=n.output,l=n.avail_out,o=n.next_in,r=n.input,a=n.avail_in,c=t.hold,u=t.bits,d=a,g=l,P=jh;e:for(;;)switch(t.mode){case iw:if(0===t.wrap){t.mode=16192;break}for(;u<16;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}if(2&t.wrap&&35615===c){0===t.wbits&&(t.wbits=15),t.check=0,x[0]=255&c,x[1]=c>>>8&255,t.check=qi(t.check,x,2,0),c=0,u=0,t.mode=16181;break}if(t.head&&(t.head.done=!1),!(1&t.wrap)||(((255&c)<<8)+(c>>8))%31){n.msg="incorrect header check",t.mode=Fr;break}if((15&c)!==m$){n.msg="unknown compression method",t.mode=Fr;break}if(c>>>=4,u-=4,q=8+(15&c),0===t.wbits&&(t.wbits=q),q>15||q>t.wbits){n.msg="invalid window size",t.mode=Fr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=512&c?16189:Bc,c=0,u=0;break;case 16181:for(;u<16;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}if(t.flags=c,(255&t.flags)!==m$){n.msg="unknown compression method",t.mode=Fr;break}if(57344&t.flags){n.msg="unknown header flags set",t.mode=Fr;break}t.head&&(t.head.text=c>>8&1),512&t.flags&&4&t.wrap&&(x[0]=255&c,x[1]=c>>>8&255,t.check=qi(t.check,x,2,0)),c=0,u=0,t.mode=16182;case 16182:for(;u<32;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}t.head&&(t.head.time=c),512&t.flags&&4&t.wrap&&(x[0]=255&c,x[1]=c>>>8&255,x[2]=c>>>16&255,x[3]=c>>>24&255,t.check=qi(t.check,x,4,0)),c=0,u=0,t.mode=16183;case 16183:for(;u<16;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}t.head&&(t.head.xflags=255&c,t.head.os=c>>8),512&t.flags&&4&t.wrap&&(x[0]=255&c,x[1]=c>>>8&255,t.check=qi(t.check,x,2,0)),c=0,u=0,t.mode=16184;case 16184:if(1024&t.flags){for(;u<16;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}t.length=c,t.head&&(t.head.extra_len=c),512&t.flags&&4&t.wrap&&(x[0]=255&c,x[1]=c>>>8&255,t.check=qi(t.check,x,2,0)),c=0,u=0}else t.head&&(t.head.extra=null);t.mode=16185;case 16185:if(1024&t.flags&&(p=t.length,p>a&&(p=a),p&&(t.head&&(q=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+p),q)),512&t.flags&&4&t.wrap&&(t.check=qi(t.check,r,p,o)),a-=p,o+=p,t.length-=p),t.length))break e;t.length=0,t.mode=16186;case 16186:if(2048&t.flags){if(0===a)break e;p=0;do{q=r[o+p++],t.head&&q&&t.length<65536&&(t.head.name+=String.fromCharCode(q))}while(q&&p<a);if(512&t.flags&&4&t.wrap&&(t.check=qi(t.check,r,p,o)),a-=p,o+=p,q)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=16187;case 16187:if(4096&t.flags){if(0===a)break e;p=0;do{q=r[o+p++],t.head&&q&&t.length<65536&&(t.head.comment+=String.fromCharCode(q))}while(q&&p<a);if(512&t.flags&&4&t.wrap&&(t.check=qi(t.check,r,p,o)),a-=p,o+=p,q)break e}else t.head&&(t.head.comment=null);t.mode=16188;case 16188:if(512&t.flags){for(;u<16;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}if(4&t.wrap&&c!==(65535&t.check)){n.msg="header crc mismatch",t.mode=Fr;break}c=0,u=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Bc;break;case 16189:for(;u<32;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}n.adler=t.check=B$(c),c=0,u=0,t.mode=ow;case ow:if(0===t.havedict)return n.next_out=s,n.avail_out=l,n.next_in=o,n.avail_in=a,t.hold=c,t.bits=u,X0e;n.adler=t.check=1,t.mode=Bc;case Bc:if(e===Z0e||e===rw)break e;case 16192:if(t.last){c>>>=7&u,u-=7&u,t.mode=16206;break}for(;u<3;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}switch(t.last=1&c,c>>>=1,u-=1,3&c){case 0:t.mode=16193;break;case 1:if(sye(t),t.mode=sw,e===rw){c>>>=2,u-=2;break e}break;case 2:t.mode=16196;break;case 3:n.msg="invalid block type",t.mode=Fr}c>>>=2,u-=2;break;case 16193:for(c>>>=7&u,u-=7&u;u<32;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}if((65535&c)!=(c>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Fr;break}if(t.length=65535&c,c=0,u=0,t.mode=16194,e===rw)break e;case 16194:t.mode=16195;case 16195:if(p=t.length,p){if(p>a&&(p=a),p>l&&(p=l),0===p)break e;i.set(r.subarray(o,o+p),s),a-=p,o+=p,l-=p,s+=p,t.length-=p;break}t.mode=Bc;break;case 16196:for(;u<14;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}if(t.nlen=257+(31&c),c>>>=5,u-=5,t.ndist=1+(31&c),c>>>=5,u-=5,t.ncode=4+(15&c),c>>>=4,u-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Fr;break}t.have=0,t.mode=16197;case 16197:for(;t.have<t.ncode;){for(;u<3;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}t.lens[M[t.have++]]=7&c,c>>>=3,u-=3}for(;t.have<19;)t.lens[M[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,B={bits:t.lenbits},P=iv(0,t.lens,0,19,t.lencode,0,t.work,B),t.lenbits=B.bits,P){n.msg="invalid code lengths set",t.mode=Fr;break}t.have=0,t.mode=16198;case 16198:for(;t.have<t.nlen+t.ndist;){for(;I=t.lencode[c&(1<<t.lenbits)-1],A=I>>>24,R=I>>>16&255,F=65535&I,!(A<=u);){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}if(F<16)c>>>=A,u-=A,t.lens[t.have++]=F;else{if(16===F){for(T=A+2;u<T;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}if(c>>>=A,u-=A,0===t.have){n.msg="invalid bit length repeat",t.mode=Fr;break}q=t.lens[t.have-1],p=3+(3&c),c>>>=2,u-=2}else if(17===F){for(T=A+3;u<T;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}c>>>=A,u-=A,q=0,p=3+(7&c),c>>>=3,u-=3}else{for(T=A+7;u<T;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}c>>>=A,u-=A,q=0,p=11+(127&c),c>>>=7,u-=7}if(t.have+p>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Fr;break}for(;p--;)t.lens[t.have++]=q}}if(t.mode===Fr)break;if(0===t.lens[256]){n.msg="invalid code -- missing end-of-block",t.mode=Fr;break}if(t.lenbits=9,B={bits:t.lenbits},P=iv(1,t.lens,0,t.nlen,t.lencode,0,t.work,B),t.lenbits=B.bits,P){n.msg="invalid literal/lengths set",t.mode=Fr;break}if(t.distbits=6,t.distcode=t.distdyn,B={bits:t.distbits},P=iv(2,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,B),t.distbits=B.bits,P){n.msg="invalid distances set",t.mode=Fr;break}if(t.mode=sw,e===rw)break e;case sw:t.mode=aw;case aw:if(a>=6&&l>=258){n.next_out=s,n.avail_out=l,n.next_in=o,n.avail_in=a,t.hold=c,t.bits=u,G0e(n,g),s=n.next_out,i=n.output,l=n.avail_out,o=n.next_in,r=n.input,a=n.avail_in,c=t.hold,u=t.bits,t.mode===Bc&&(t.back=-1);break}for(t.back=0;I=t.lencode[c&(1<<t.lenbits)-1],A=I>>>24,R=I>>>16&255,F=65535&I,!(A<=u);){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}if(R&&!(240&R)){for(L=A,J=R,ae=F;I=t.lencode[ae+((c&(1<<L+J)-1)>>L)],A=I>>>24,R=I>>>16&255,F=65535&I,!(L+A<=u);){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}c>>>=L,u-=L,t.back+=L}if(c>>>=A,u-=A,t.back+=A,t.length=F,0===R){t.mode=16205;break}if(32&R){t.back=-1,t.mode=Bc;break}if(64&R){n.msg="invalid literal/length code",t.mode=Fr;break}t.extra=15&R,t.mode=16201;case 16201:if(t.extra){for(T=t.extra;u<T;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}t.length+=c&(1<<t.extra)-1,c>>>=t.extra,u-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=16202;case 16202:for(;I=t.distcode[c&(1<<t.distbits)-1],A=I>>>24,R=I>>>16&255,F=65535&I,!(A<=u);){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}if(!(240&R)){for(L=A,J=R,ae=F;I=t.distcode[ae+((c&(1<<L+J)-1)>>L)],A=I>>>24,R=I>>>16&255,F=65535&I,!(L+A<=u);){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}c>>>=L,u-=L,t.back+=L}if(c>>>=A,u-=A,t.back+=A,64&R){n.msg="invalid distance code",t.mode=Fr;break}t.offset=F,t.extra=15&R,t.mode=16203;case 16203:if(t.extra){for(T=t.extra;u<T;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}t.offset+=c&(1<<t.extra)-1,c>>>=t.extra,u-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Fr;break}t.mode=16204;case 16204:if(0===l)break e;if(p=g-l,t.offset>p){if(p=t.offset-p,p>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Fr;break}p>t.wnext?(p-=t.wnext,y=t.wsize-p):y=t.wnext-p,p>t.length&&(p=t.length),w=t.window}else w=i,y=s-t.offset,p=t.length;p>l&&(p=l),l-=p,t.length-=p;do{i[s++]=w[y++]}while(--p);0===t.length&&(t.mode=aw);break;case 16205:if(0===l)break e;i[s++]=t.length,l--,t.mode=aw;break;case 16206:if(t.wrap){for(;u<32;){if(0===a)break e;a--,c|=r[o++]<<u,u+=8}if(g-=l,n.total_out+=g,t.total+=g,4&t.wrap&&g&&(n.adler=t.check=t.flags?qi(t.check,i,g,s-g):Q1(t.check,i,g,s-g)),g=l,4&t.wrap&&(t.flags?c:B$(c))!==t.check){n.msg="incorrect data check",t.mode=Fr;break}c=0,u=0}t.mode=16207;case 16207:if(t.wrap&&t.flags){for(;u<32;){if(0===a)break e;a--,c+=r[o++]<<u,u+=8}if(4&t.wrap&&c!==(4294967295&t.total)){n.msg="incorrect length check",t.mode=Fr;break}c=0,u=0}t.mode=16208;case 16208:P=J0e;break e;case Fr:P=p$;break e;case 16210:return g$;default:return wa}return n.next_out=s,n.avail_out=l,n.next_in=o,n.avail_in=a,t.hold=c,t.bits=u,(t.wsize||g!==n.avail_out&&t.mode<Fr&&(t.mode<16206||e!==f$))&&H$(n,n.output,n.next_out,g-n.avail_out),d-=n.avail_in,g-=n.avail_out,n.total_in+=d,n.total_out+=g,t.total+=g,4&t.wrap&&g&&(n.adler=t.check=t.flags?qi(t.check,i,g,n.next_out-g):Q1(t.check,i,g,n.next_out-g)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Bc?128:0)+(t.mode===sw||16194===t.mode?256:0),(0===d&&0===g||e===f$)&&P===jh&&(P=eye),P},inflateEnd:n=>{if(zh(n))return wa;let e=n.state;return e.window&&(e.window=null),n.state=null,jh},inflateGetHeader:(n,e)=>{if(zh(n))return wa;const t=n.state;return 2&t.wrap?(t.head=e,e.done=!1,jh):wa},inflateSetDictionary:(n,e)=>{const t=e.length;let r,i,o;return zh(n)||(r=n.state,0!==r.wrap&&r.mode!==ow)?wa:r.mode===ow&&(i=1,i=Q1(i,e,t,0),i!==r.check)?p$:(o=H$(n,e,t,t),o?(r.mode=16210,g$):(r.havedict=1,jh))},inflateInfo:"pako inflate (from Nodeca project)"},Iye=function wye(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const W$=Object.prototype.toString,{Z_NO_FLUSH:Cye,Z_FINISH:Eye,Z_OK:ov,Z_STREAM_END:_M,Z_NEED_DICT:vM,Z_STREAM_ERROR:Aye,Z_DATA_ERROR:K$,Z_MEM_ERROR:Tye}=Fh;function sv(n){this.options=ew.assign({chunkSize:65536,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o$,this.strm.avail_out=0;let t=jc.inflateInit2(this.strm,e.windowBits);if(t!==ov)throw new Error(Lh[t]);if(this.header=new Iye,jc.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=nv.string2buf(e.dictionary):"[object ArrayBuffer]"===W$.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=jc.inflateSetDictionary(this.strm,e.dictionary),t!==ov)))throw new Error(Lh[t])}function yM(n,e){const t=new sv(e);if(t.push(n),t.err)throw t.msg||Lh[t.err];return t.result}sv.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(s=e===~~e?e:!0===e?Eye:Cye,t.input="[object ArrayBuffer]"===W$.call(n)?new Uint8Array(n):n,t.next_in=0,t.avail_in=t.input.length;;){for(0===t.avail_out&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=jc.inflate(t,s),o===vM&&i&&(o=jc.inflateSetDictionary(t,i),o===ov?o=jc.inflate(t,s):o===K$&&(o=vM));t.avail_in>0&&o===_M&&t.state.wrap>0&&0!==n[t.next_in];)jc.inflateReset(t),o=jc.inflate(t,s);switch(o){case Aye:case K$:case vM:case Tye:return this.onEnd(o),this.ended=!0,!1}if(a=t.avail_out,t.next_out&&(0===t.avail_out||o===_M))if("string"===this.options.to){let l=nv.utf8border(t.output,t.next_out),c=t.next_out-l,u=nv.buf2string(t.output,l);t.next_out=c,t.avail_out=r-c,c&&t.output.set(t.output.subarray(l,l+c),0),this.onData(u)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(o!==ov||0!==a){if(o===_M)return o=jc.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===t.avail_in)break}}return!0},sv.prototype.onData=function(n){this.chunks.push(n)},sv.prototype.onEnd=function(n){n===ov&&(this.result="string"===this.options.to?this.chunks.join(""):ew.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};var Rye={Inflate:sv,inflate:yM,inflateRaw:function Sye(n,e){return(e=e||{}).raw=!0,yM(n,e)},ungzip:yM,constants:Fh};const{Inflate:Vye,inflate:Uye}=Rye;var bM=Vye,Y$=Uye;const Z$=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;Z$[n]=e}const J$=4294967295;function eq(n,e,t){const r=n.readUint32(),i=function X$(n,e){return(function Kye(n,e,t){let r=n;for(let i=0;i<t;i++)r=Z$[255&(r^e[i])]^r>>>8;return r}(J$,n,e)^J$)>>>0}(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`)}function tq(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function nq(n,e,t,r){let i=0;for(;i<r;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-r]&255}function rq(n,e,t,r){let i=0;if(0===t.length)for(;i<r;i++)e[i]=n[i];else for(;i<r;i++)e[i]=n[i]+t[i]&255}function iq(n,e,t,r,i){let o=0;if(0===t.length){for(;o<i;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-i]>>1)&255}else{for(;o<i;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-i]+t[o]>>1)&255}}function oq(n,e,t,r,i){let o=0;if(0===t.length){for(;o<i;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-i]&255}else{for(;o<i;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+Qye(e[o-i],t[o],t[o-i])&255}}function Qye(n,e,t){const r=n+e-t,i=Math.abs(r-n),o=Math.abs(r-e),s=Math.abs(r-t);return i<=o&&i<=s?n:o<=s?e:t}function Yye(n,e,t,r,i,o){switch(n){case 0:tq(e,t,i);break;case 1:nq(e,t,i,o);break;case 2:rq(e,t,r,i);break;case 3:iq(e,t,r,i,o);break;case 4:oq(e,t,r,i,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const Zye=new Uint16Array([255]),Jye=255===new Uint8Array(Zye.buffer)[0];function ebe(n){return(255&n)<<8|n>>8&255}const tbe=new Uint16Array([255]),nbe=255===new Uint8Array(tbe.buffer)[0],rbe=new Uint8Array(0);function sq(n){const{data:e,width:t,height:r,channels:i,depth:o}=n,s=Math.ceil(o/8)*i,a=Math.ceil(o/8*i*t),l=new Uint8Array(r*a);let d,g,c=rbe,u=0;for(let p=0;p<r;p++){switch(d=e.subarray(u+1,u+1+a),g=l.subarray(p*a,(p+1)*a),e[u]){case 0:tq(d,g,a);break;case 1:nq(d,g,a,s);break;case 2:rq(d,g,c,a);break;case 3:iq(d,g,c,a,s);break;case 4:oq(d,g,c,a,s);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=g,u+=a+1}if(16===o){const p=new Uint16Array(l.buffer);if(nbe)for(let y=0;y<p.length;y++)p[y]=ibe(p[y]);return p}return l}function ibe(n){return(255&n)<<8|n>>8&255}const av=Uint8Array.of(137,80,78,71,13,10,26,10);function aq(n){if(!function sbe(n){if(n.length<av.length)return!1;for(let e=0;e<av.length;e++)if(n[e]!==av[e])return!1;return!0}(n.readBytes(av.length)))throw new Error("wrong PNG signature")}const cq=0,uq=new TextDecoder("latin1");function dq(n){if(function hq(n){if(!abe.test(n))throw new Error("invalid latin1 text")}(n),0===n.length||n.length>79)throw new Error("keyword length must be between 1 and 79")}const abe=/^[\u0000-\u00FF]*$/;function fq(n){for(n.mark();n.readByte()!==cq;);const e=n.offset;n.reset();const t=uq.decode(n.readBytes(e-n.offset-1));return n.skip(1),dq(t),t}class dbe extends z1{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new bM,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=-1,this._filterMethod=-1,this._interlaceMethod=-1,this._colorType=-1,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(aq(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(aq(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case"tEXt":!function lbe(n,e,t){const r=fq(e);n[r]=function ube(n,e){return uq.decode(n.readBytes(e))}(e,t-r.length-1)}(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e)}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?eq(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch("fdAT"!==t&&"IDAT"!==t&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?eq(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=function hbe(n){if(1!==n&&2!==n&&4!==n&&8!==n&&16!==n)throw new Error(`invalid bit depth: ${n}`);return n}(this.readUint8());const t=this.readUint8();let r;switch(this._colorType=t,t){case 0:case 3:r=1;break;case 2:r=3;break;case 4:r=2;break;case 6:r=4;break;default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),0!==this._compressionMethod)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!=0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<t;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){if(this._writingDataChunks=!0,this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case 0:case 2:if(e%2!=0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break;case 3:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=fq(this),r=this.readUint8();if(0!==r)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:Y$(i)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=sq({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===e||0===r.xOffset&&0===r.yOffset&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case 0:break;case 1:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const s=(i*e.width+o)*this._png.channels;for(let a=0;a<this._png.channels;a++)r.data[s+a]=0}break;case 2:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,i=(o,s)=>({index:((o+t.yOffset)*this._png.width+t.xOffset+s)*this._png.channels,frameIndex:(o*t.width+s)*this._png.channels});switch(t.blendOp){case 0:for(let o=0;o<t.height;o++)for(let s=0;s<t.width;s++){const{index:a,frameIndex:l}=i(o,s);for(let c=0;c<this._png.channels;c++)e.data[a+c]=t.data[l+c]}break;case 1:for(let o=0;o<t.height;o++)for(let s=0;s<t.width;s++){const{index:a,frameIndex:l}=i(o,s);for(let c=0;c<this._png.channels;c++){const u=t.data[l+this._png.channels-1]/r,g=Math.floor(u*(c%(this._png.channels-1)==0?1:t.data[l+c])+(1-u)*e.data[a+c]);e.data[a+c]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(0!==this._filterMethod)throw new Error(`Filter method ${this._filterMethod} not supported`);if(0===this._interlaceMethod)this._png.data=sq({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(1!==this._interlaceMethod)throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._png.data=function Xye(n){const{data:e,width:t,height:r,channels:i,depth:o}=n,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(o/8)*i,l=new Uint8Array(r*t*a);let c=0;for(let u=0;u<7;u++){const d=s[u],g=Math.ceil((t-d.x)/d.xStep),p=Math.ceil((r-d.y)/d.yStep);if(g<=0||p<=0)continue;const y=g*a,w=new Uint8Array(y);for(let I=0;I<p;I++){const A=e[c++],R=e.subarray(c,c+y);c+=y;const F=new Uint8Array(y);Yye(A,R,F,w,y,a),w.set(F);for(let L=0;L<g;L++){const J=d.x+L*d.xStep,ae=d.y+I*d.yStep;if(!(J>=t||ae>=r))for(let q=0;q<a;q++)l[(ae*t+J)*a+q]=F[L*a+q]}}}if(16===o){const u=new Uint16Array(l.buffer);if(Jye)for(let d=0;d<u.length;d++)u[d]=ebe(u[d]);return u}return l}({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:0,blendOp:0,data:e}),this._inflator=new bM,this._writingDataChunks=!1}}var Qt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function CM(){Qt.console&&"function"==typeof Qt.console.log&&Qt.console.log.apply(Qt.console,arguments)}var lr={log:CM,warn:function(n){Qt.console&&("function"==typeof Qt.console.warn?Qt.console.warn.apply(Qt.console,arguments):CM.call(null,arguments))},error:function(n){Qt.console&&("function"==typeof Qt.console.error?Qt.console.error.apply(Qt.console,arguments):CM(n))}};function EM(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){$h(r.response,e,t)},r.onerror=function(){lr.error("could not download file")},r.send()}function gq(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function uw(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var $h=Qt.saveAs||("object"!==(typeof window>"u"?"undefined":Qn(window))||window!==Qt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Qt.URL||Qt.webkitURL,i=document.createElement("a");i.download=e=e||n.name||"download",i.rel="noopener","string"==typeof n?(i.href=n,i.origin!==location.origin?gq(i.href)?EM(n,e,t):uw(i,i.target="_blank"):uw(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){uw(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download","string"==typeof n)if(gq(n))EM(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){uw(r)})}else navigator.msSaveOrOpenBlob((i=n,void 0===(o=t)?o={autoBom:!1}:"object"!==Qn(o)&&(lr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i),e);var i,o}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof n)return EM(n,e,t);var i="application/octet-stream"===n.type,o=/constructor/i.test(Qt.HTMLElement)||Qt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&"object"===(typeof FileReader>"u"?"undefined":Qn(FileReader))){var a=new FileReader;a.onloadend=function(){var u=a.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(n)}else{var l=Qt.URL||Qt.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function mq(n){var e;n=n||"",this.ok=!1,"#"==n.charAt(0)&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var o=t[r].process,s=t[r].re.exec(n);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return 1==a.length&&(a="0"+a),1==l.length&&(l="0"+l),1==c.length&&(c="0"+c),"#"+a+l+c}}var dw=Qt.atob.bind(Qt),_q=Qt.btoa.bind(Qt);function AM(n,e){var t=n[0],r=n[1],i=n[2],o=n[3];t=Do(t,r,i,o,e[0],7,-680876936),o=Do(o,t,r,i,e[1],12,-389564586),i=Do(i,o,t,r,e[2],17,606105819),r=Do(r,i,o,t,e[3],22,-1044525330),t=Do(t,r,i,o,e[4],7,-176418897),o=Do(o,t,r,i,e[5],12,1200080426),i=Do(i,o,t,r,e[6],17,-1473231341),r=Do(r,i,o,t,e[7],22,-45705983),t=Do(t,r,i,o,e[8],7,1770035416),o=Do(o,t,r,i,e[9],12,-1958414417),i=Do(i,o,t,r,e[10],17,-42063),r=Do(r,i,o,t,e[11],22,-1990404162),t=Do(t,r,i,o,e[12],7,1804603682),o=Do(o,t,r,i,e[13],12,-40341101),i=Do(i,o,t,r,e[14],17,-1502002290),t=xo(t,r=Do(r,i,o,t,e[15],22,1236535329),i,o,e[1],5,-165796510),o=xo(o,t,r,i,e[6],9,-1069501632),i=xo(i,o,t,r,e[11],14,643717713),r=xo(r,i,o,t,e[0],20,-373897302),t=xo(t,r,i,o,e[5],5,-701558691),o=xo(o,t,r,i,e[10],9,38016083),i=xo(i,o,t,r,e[15],14,-660478335),r=xo(r,i,o,t,e[4],20,-405537848),t=xo(t,r,i,o,e[9],5,568446438),o=xo(o,t,r,i,e[14],9,-1019803690),i=xo(i,o,t,r,e[3],14,-187363961),r=xo(r,i,o,t,e[8],20,1163531501),t=xo(t,r,i,o,e[13],5,-1444681467),o=xo(o,t,r,i,e[2],9,-51403784),i=xo(i,o,t,r,e[7],14,1735328473),t=Po(t,r=xo(r,i,o,t,e[12],20,-1926607734),i,o,e[5],4,-378558),o=Po(o,t,r,i,e[8],11,-2022574463),i=Po(i,o,t,r,e[11],16,1839030562),r=Po(r,i,o,t,e[14],23,-35309556),t=Po(t,r,i,o,e[1],4,-1530992060),o=Po(o,t,r,i,e[4],11,1272893353),i=Po(i,o,t,r,e[7],16,-155497632),r=Po(r,i,o,t,e[10],23,-1094730640),t=Po(t,r,i,o,e[13],4,681279174),o=Po(o,t,r,i,e[0],11,-358537222),i=Po(i,o,t,r,e[3],16,-722521979),r=Po(r,i,o,t,e[6],23,76029189),t=Po(t,r,i,o,e[9],4,-640364487),o=Po(o,t,r,i,e[12],11,-421815835),i=Po(i,o,t,r,e[15],16,530742520),t=Mo(t,r=Po(r,i,o,t,e[2],23,-995338651),i,o,e[0],6,-198630844),o=Mo(o,t,r,i,e[7],10,1126891415),i=Mo(i,o,t,r,e[14],15,-1416354905),r=Mo(r,i,o,t,e[5],21,-57434055),t=Mo(t,r,i,o,e[12],6,1700485571),o=Mo(o,t,r,i,e[3],10,-1894986606),i=Mo(i,o,t,r,e[10],15,-1051523),r=Mo(r,i,o,t,e[1],21,-2054922799),t=Mo(t,r,i,o,e[8],6,1873313359),o=Mo(o,t,r,i,e[15],10,-30611744),i=Mo(i,o,t,r,e[6],15,-1560198380),r=Mo(r,i,o,t,e[13],21,1309151649),t=Mo(t,r,i,o,e[4],6,-145523070),o=Mo(o,t,r,i,e[11],10,-1120210379),i=Mo(i,o,t,r,e[2],15,718787259),r=Mo(r,i,o,t,e[9],21,-343485551),n[0]=cd(t,n[0]),n[1]=cd(r,n[1]),n[2]=cd(i,n[2]),n[3]=cd(o,n[3])}function hw(n,e,t,r,i,o){return e=cd(cd(e,n),cd(r,o)),cd(e<<i|e>>>32-i,t)}function Do(n,e,t,r,i,o,s){return hw(e&t|~e&r,n,e,i,o,s)}function xo(n,e,t,r,i,o,s){return hw(e&r|t&~r,n,e,i,o,s)}function Po(n,e,t,r,i,o,s){return hw(e^t^r,n,e,i,o,s)}function Mo(n,e,t,r,i,o,s){return hw(t^(e|~r),n,e,i,o,s)}function vq(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)AM(r,bbe(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(AM(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,AM(r,i),r}function bbe(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var yq="0123456789abcdef".split("");function wbe(n){for(var e="",t=0;t<4;t++)e+=yq[n>>8*t+4&15]+yq[n>>8*t&15];return e}function Ibe(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function TM(n){return vq(n).map(Ibe).join("")}var Cbe="5d41402abc4b2a76b9719d911017c592"!=function(n){for(var e=0;e<n.length;e++)n[e]=wbe(n[e]);return n.join("")}(vq("hello"));function cd(n,e){if(Cbe){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function SM(n,e){var t,r,i;if(n!==t){for(var s=(i=n,new Array(1+(256/n.length|0)+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+s.charCodeAt(l))%256,a[l]=a[c],a[c]=u}t=n,r=a}else a=r;var d=e.length,g=0,p=0,y="";for(l=0;l<d;l++)p=(p+(u=a[g=(g+1)%256]))%256,a[g]=a[p],a[p]=u,s=a[(a[g]+a[p])%256],y+=String.fromCharCode(e.charCodeAt(l)^s);return y}var bq={print:4,modify:8,copy:16,"annot-forms":32};function xg(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(void 0!==bq.perm)throw new Error("Invalid permission: "+a);i+=bq[a]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var o=(e+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=TM(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=SM(this.encryptionKey,this.padding)}function Pg(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function wq(n){if("object"!==Qn(n))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,"string"!=typeof t||"function"!=typeof r||"boolean"!=typeof i)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!i],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],0===Object.keys(e[r]).length&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[t]){var s=e[t][o];try{s[0].apply(n,r)}catch(a){Qt.console&&lr.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function fw(n){if(!(this instanceof fw))return new fw(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function Iq(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function qh(n,e,t,r,i){if(!(this instanceof qh))return new qh(n,e,t,r,i);this.type="axial"===n?2:3,this.coords=e,this.colors=t,Iq.call(this,r,i)}function Mg(n,e,t,r,i){if(!(this instanceof Mg))return new Mg(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,Iq.call(this,r,i)}function Tt(n){var e,t="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,l=16,c="S",u=null;"object"===Qn(n=n||{})&&(t=n.orientation,r=n.unit||r,i=n.format||i,o=n.compress||n.compressPdf||o,null!==(u=n.encryption||null)&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a="number"==typeof n.userUnit?Math.abs(n.userUnit):1,void 0!==n.precision&&(e=n.precision),void 0!==n.floatPrecision&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),s=n.filters||(!0===o?["FlateEncode"]:s),r=r||"mm",t=(""+(t||"P")).toLowerCase();var d=n.putOnlyUsedFonts||!1,g={},p={internal:{},__private__:{}};p.__private__.PubSub=wq;var y="1.3",w=p.__private__.getPdfVersion=function(){return y};p.__private__.setPdfVersion=function(_){y=_};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return I};var A=p.__private__.getPageFormat=function(_){return I[_]};i=i||"a4";var R="compat",F="advanced",L=R;function J(){this.saveGraphicsState(),X(new Mt(kt,0,0,-kt,0,nl()*kt).toString()+" cm"),this.setFontSize(this.getFontSize()/kt),c="n",L=F}function ae(){this.restoreGraphicsState(),c="S",L=R}var q=p.__private__.combineFontStyleAndFontWeight=function(_,k){if("bold"==_&&"normal"==k||"bold"==_&&400==k||"normal"==_&&"italic"==k||"bold"==_&&"italic"==k)throw new Error("Invalid Combination of fontweight and fontstyle");return k&&(_=400==k||"normal"===k?"italic"===_?"italic":"normal":700!=k&&"bold"!==k||"normal"!==_?(700==k?"bold":k)+""+_:"bold"),_};p.advancedAPI=function(_){var k=L===R;return k&&J.call(this),"function"!=typeof _||(_(this),k&&ae.call(this)),this},p.compatAPI=function(_){var k=L===F;return k&&ae.call(this),"function"!=typeof _||(_(this),k&&J.call(this)),this},p.isAdvancedAPI=function(){return L===F};var P,x=function(_){if(L!==F)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=p.roundToPrecision=p.__private__.roundToPrecision=function(_,k){var Q=e||k;if(isNaN(_)||isNaN(Q))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(Q).replace(/0+$/,"")};P=p.hpf=p.__private__.hpf="number"==typeof l?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return B(_,l)}:"smart"===l?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return B(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return B(_,16)};var T=p.f2=p.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return B(_,2)},M=p.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return B(_,3)},N=p.scale=p.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return L===R?_*kt:L===F?_:void 0},te=function(_){return N((k=_,L===R?nl()-k:L===F?k:void 0));var k};p.__private__.setPrecision=p.setPrecision=function(_){"number"==typeof parseInt(_,10)&&(e=parseInt(_,10))};var _e,Ae="00000000000000000000000000000000",Ee=p.__private__.getFileId=function(){return Ae},me=p.__private__.setFileId=function(_){return Ae=void 0!==_&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():Ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==u&&(qr=new xg(u.userPermissions,u.userPassword,u.ownerPassword,Ae)),Ae};p.setFileId=function(_){return me(_),this},p.getFileId=function(){return Ee()};var Te=p.__private__.convertDateToPDFDate=function(_){var k=_.getTimezoneOffset(),Q=k<0?"+":"-",re=Math.floor(Math.abs(k/60)),he=Math.abs(k%60),Re=[Q,ee(re),"'",ee(he),"'"].join("");return["D:",_.getFullYear(),ee(_.getMonth()+1),ee(_.getDate()),ee(_.getHours()),ee(_.getMinutes()),ee(_.getSeconds()),Re].join("")},We=p.__private__.convertPDFDateToDate=function(_){var k=parseInt(_.substr(2,4),10),Q=parseInt(_.substr(6,2),10)-1,re=parseInt(_.substr(8,2),10),he=parseInt(_.substr(10,2),10),Re=parseInt(_.substr(12,2),10),Ue=parseInt(_.substr(14,2),10);return new Date(k,Q,re,he,Re,Ue,0)},Fe=p.__private__.setCreationDate=function(_){var k;if(void 0===_&&(_=new Date),_ instanceof Date)k=Te(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");k=_}return _e=k},j=p.__private__.getCreationDate=function(_){var k=_e;return"jsDate"===_&&(k=We(_e)),k};p.setCreationDate=function(_){return Fe(_),this},p.getCreationDate=function(_){return j(_)};var K,ee=p.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},ie=p.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},ue=0,fe=[],be=[],Ce=0,Ne=[],Pe=[],Je=!1,Ze=be;p.__private__.setCustomOutputDestination=function(_){Je=!0,Ze=_};var Se=function(_){Je||(Ze=_)};p.__private__.resetCustomOutputDestination=function(){Je=!1,Ze=be};var X=p.__private__.out=function(_){return _=_.toString(),Ce+=_.length+1,Ze.push(_),Ze},ln=p.__private__.write=function(_){return X(1===arguments.length?_.toString():Array.prototype.join.call(arguments," "))},$t=p.__private__.getArrayBuffer=function(_){for(var k=_.length,Q=new ArrayBuffer(k),re=new Uint8Array(Q);k--;)re[k]=_.charCodeAt(k);return Q},Pt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Pt};var Ge=n.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(_){return Ge=L===F?_/kt:_,this};var vt,tt=p.__private__.getFontSize=p.getFontSize=function(){return L===R?Ge:Ge*kt},qt=n.R2L||!1;p.__private__.setR2L=p.setR2L=function(_){return qt=_,this},p.__private__.getR2L=p.getR2L=function(){return qt};var At,un=p.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))vt=_;else if(isNaN(_)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');vt=_}else vt=parseInt(_,10)};p.__private__.getZoomMode=function(){return vt};var Rt,Ft=p.__private__.setPageMode=function(_){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');At=_};p.__private__.getPageMode=function(){return At};var Yt=p.__private__.setLayoutMode=function(_){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Rt=_};p.__private__.getLayoutMode=function(){return Rt},p.__private__.setDisplayMode=p.setDisplayMode=function(_,k,Q){return un(_),Yt(k),Ft(Q),this};var wt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(_){if(-1===Object.keys(wt).indexOf(_))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return wt[_]},p.__private__.getDocumentProperties=function(){return wt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(_){for(var k in wt)wt.hasOwnProperty(k)&&_[k]&&(wt[k]=_[k]);return this},p.__private__.setDocumentProperty=function(_,k){if(-1===Object.keys(wt).indexOf(_))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return wt[_]=k};var _t,kt,It,Bn,pn,Ke={},St={},Zt=[],Dt={},rn={},Ct={},zn={},Tr=null,En=0,Ot=[],vn=new wq(p),ao=n.hotfixes||[],ei={},No={},Hi=[],Mt=function _(k,Q,re,he,Re,Ue){if(!(this instanceof _))return new _(k,Q,re,he,Re,Ue);isNaN(k)&&(k=1),isNaN(Q)&&(Q=0),isNaN(re)&&(re=0),isNaN(he)&&(he=1),isNaN(Re)&&(Re=0),isNaN(Ue)&&(Ue=0),this._matrix=[k,Q,re,he,Re,Ue]};Object.defineProperty(Mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(Mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(Mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(Mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(Mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(Mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(Mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(Mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(Mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(Mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(Mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(Mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(Mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Mt.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Mt.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(_)},Mt.prototype.multiply=function(_){return new Mt(_.sx*this.sx+_.shy*this.shx,_.sx*this.shy+_.shy*this.sy,_.shx*this.sx+_.sy*this.shx,_.shx*this.shy+_.sy*this.sy,_.tx*this.sx+_.ty*this.shx+this.tx,_.tx*this.shy+_.ty*this.sy+this.ty)},Mt.prototype.decompose=function(){var _=this.sx,k=this.shy,Q=this.shx,re=this.sy,he=this.tx,Re=this.ty,Ue=Math.sqrt(_*_+k*k),at=(_/=Ue)*Q+(k/=Ue)*re;Q-=_*at,re-=k*at;var gt=Math.sqrt(Q*Q+re*re);return at/=gt,_*(re/=gt)<k*(Q/=gt)&&(_=-_,k=-k,at=-at,Ue=-Ue),{scale:new Mt(Ue,0,0,gt,0,0),translate:new Mt(1,0,0,1,he,Re),rotate:new Mt(_,k,-k,_,0,0),skew:new Mt(1,0,at,1,0,0)}},Mt.prototype.toString=function(_){return this.join(" ")},Mt.prototype.inversed=function(){var _=this.sx,k=this.shy,Q=this.shx,re=this.sy,he=this.tx,Re=this.ty,Ue=1/(_*re-k*Q),at=re*Ue,gt=-k*Ue,Vt=-Q*Ue,Ut=_*Ue;return new Mt(at,gt,Vt,Ut,-at*he-Vt*Re,-gt*he-Ut*Re)},Mt.prototype.applyToPoint=function(_){return new eu(_.x*this.sx+_.y*this.shx+this.tx,_.x*this.shy+_.y*this.sy+this.ty)},Mt.prototype.applyToRectangle=function(_){var k=this.applyToPoint(_),Q=this.applyToPoint(new eu(_.x+_.w,_.y+_.h));return new _d(k.x,k.y,Q.x-k.x,Q.y-k.y)},Mt.prototype.clone=function(){return new Mt(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},p.Matrix=Mt;var Ia=p.matrixMult=function(_,k){return k.multiply(_)},Sr=new Mt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Sr;var Jo=function(_,k){if(!rn[_]){var Q=(k instanceof qh?"Sh":"P")+(Object.keys(Dt).length+1).toString(10);k.id=Q,rn[_]=Q,Dt[Q]=k,vn.publish("addPattern",k)}};p.ShadingPattern=qh,p.TilingPattern=Mg,p.addShadingPattern=function(_,k){return x("addShadingPattern()"),Jo(_,k),this},p.beginTilingPattern=function(_){x("beginTilingPattern()"),vd(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},p.endTilingPattern=function(_,k){x("endTilingPattern()"),k.stream=Pe[K].join("\n"),Jo(_,k),vn.publish("endTilingPattern",k),Hi.pop().restore()};var Wi,tr=p.__private__.newObject=function(){var _=Ei();return Ni(_,!0),_},Ei=p.__private__.newObjectDeferred=function(){return ue++,fe[ue]=function(){return Ce},ue},Ni=function(_,k){return k="boolean"==typeof k&&k,fe[_]=Ce,k&&X(_+" 0 obj"),_},Is=p.__private__.newAdditionalObject=function(){var _={objId:Ei(),content:""};return Ne.push(_),_},ql=Ei(),Gs=Ei(),Xo=p.__private__.decodeColorString=function(_){var k=_.split(" ");if(2!==k.length||"g"!==k[1]&&"G"!==k[1])5!==k.length||"k"!==k[4]&&"K"!==k[4]||(k=[(1-k[0])*(1-k[3]),(1-k[1])*(1-k[3]),(1-k[2])*(1-k[3]),"r"]);else{var Q=parseFloat(k[0]);k=[Q,Q,Q,"r"]}for(var re="#",he=0;he<3;he++)re+=("0"+Math.floor(255*parseFloat(k[he])).toString(16)).slice(-2);return re},Cs=p.__private__.encodeColorString=function(_){var k;"string"==typeof _&&(_={ch1:_});var Q=_.ch1,re=_.ch2,he=_.ch3,Re=_.ch4,Ue="draw"===_.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof Q&&"#"!==Q.charAt(0)){var at=new mq(Q);if(at.ok)Q=at.toHex();else if(!/^\d*\.?\d*$/.test(Q))throw new Error('Invalid color "'+Q+'" passed to jsPDF.encodeColorString.')}if("string"==typeof Q&&/^#[0-9A-Fa-f]{3}$/.test(Q)&&(Q="#"+Q[1]+Q[1]+Q[2]+Q[2]+Q[3]+Q[3]),"string"==typeof Q&&/^#[0-9A-Fa-f]{6}$/.test(Q)){var gt=parseInt(Q.substr(1),16);Q=gt>>16&255,re=gt>>8&255,he=255&gt}if(void 0===re||void 0===Re&&Q===re&&re===he)k="string"==typeof Q?Q+" "+Ue[0]:2===_.precision?T(Q/255)+" "+Ue[0]:M(Q/255)+" "+Ue[0];else if(void 0===Re||"object"===Qn(Re)){if(Re&&!isNaN(Re.a)&&0===Re.a)return["1.","1.","1.",Ue[1]].join(" ");k="string"==typeof Q?[Q,re,he,Ue[1]].join(" "):2===_.precision?[T(Q/255),T(re/255),T(he/255),Ue[1]].join(" "):[M(Q/255),M(re/255),M(he/255),Ue[1]].join(" ")}else k="string"==typeof Q?[Q,re,he,Re,Ue[2]].join(" "):2===_.precision?[T(Q),T(re),T(he),T(Re),Ue[2]].join(" "):[M(Q),M(re),M(he),M(Re),Ue[2]].join(" ");return k},es=p.__private__.getFilters=function(){return s},lo=p.__private__.putStream=function(_){var k=(_=_||{}).data||"",Q=_.filters||es(),re=_.alreadyAppliedFilters||[],he=_.addLength1||!1,Re=k.length,Ue=_.objectId,at=function(ti){return ti};if(null!==u&&void 0===Ue)throw new Error("ObjectId must be passed to putStream for file encryption");null!==u&&(at=qr.encryptor(Ue,0));var gt={};!0===Q&&(Q=["FlateEncode"]);var Vt=_.additionalKeyValues||[],Ut=(gt=void 0!==Tt.API.processDataByFilters?Tt.API.processDataByFilters(k,Q):{data:k,reverseChain:[]}).reverseChain+(Array.isArray(re)?re.join(" "):re.toString());if(0!==gt.data.length&&(Vt.push({key:"Length",value:gt.data.length}),!0===he&&Vt.push({key:"Length1",value:Re})),0!=Ut.length)if(Ut.split("/").length-1==1)Vt.push({key:"Filter",value:Ut});else{Vt.push({key:"Filter",value:"["+Ut+"]"});for(var Pn=0;Pn<Vt.length;Pn+=1)if("DecodeParms"===Vt[Pn].key){for(var _r=[],rr=0;rr<gt.reverseChain.split("/").length-1;rr+=1)_r.push("null");_r.push(Vt[Pn].value),Vt[Pn].value="["+_r.join(" ")+"]"}}X("<<");for(var Zn=0;Zn<Vt.length;Zn++)X("/"+Vt[Zn].key+" "+Vt[Zn].value);X(">>"),0!==gt.data.length&&(X("stream"),X(at(gt.data)),X("endstream"))},Ro=p.__private__.putPage=function(_){var k=_.number,Q=_.data,re=_.objId,he=_.contentsObjId;Ni(re,!0),X("<</Type /Page"),X("/Parent "+_.rootDictionaryObjId+" 0 R"),X("/Resources "+_.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(P(_.mediaBox.bottomLeftX))+" "+parseFloat(P(_.mediaBox.bottomLeftY))+" "+P(_.mediaBox.topRightX)+" "+P(_.mediaBox.topRightY)+"]"),null!==_.cropBox&&X("/CropBox ["+P(_.cropBox.bottomLeftX)+" "+P(_.cropBox.bottomLeftY)+" "+P(_.cropBox.topRightX)+" "+P(_.cropBox.topRightY)+"]"),null!==_.bleedBox&&X("/BleedBox ["+P(_.bleedBox.bottomLeftX)+" "+P(_.bleedBox.bottomLeftY)+" "+P(_.bleedBox.topRightX)+" "+P(_.bleedBox.topRightY)+"]"),null!==_.trimBox&&X("/TrimBox ["+P(_.trimBox.bottomLeftX)+" "+P(_.trimBox.bottomLeftY)+" "+P(_.trimBox.topRightX)+" "+P(_.trimBox.topRightY)+"]"),null!==_.artBox&&X("/ArtBox ["+P(_.artBox.bottomLeftX)+" "+P(_.artBox.bottomLeftY)+" "+P(_.artBox.topRightX)+" "+P(_.artBox.topRightY)+"]"),"number"==typeof _.userUnit&&1!==_.userUnit&&X("/UserUnit "+_.userUnit),vn.publish("putPage",{objId:re,pageContext:Ot[k],pageNumber:k,page:Q}),X("/Contents "+he+" 0 R"),X(">>"),X("endobj");var Re=Q.join("\n");return L===F&&(Re+="\nQ"),Ni(he,!0),lo({data:Re,filters:es(),objectId:he}),X("endobj"),re},Hs=p.__private__.putPages=function(){var _,k,Q=[];for(_=1;_<=En;_++)Ot[_].objId=Ei(),Ot[_].contentsObjId=Ei();for(_=1;_<=En;_++)Q.push(Ro({number:_,data:Pe[_],objId:Ot[_].objId,contentsObjId:Ot[_].contentsObjId,mediaBox:Ot[_].mediaBox,cropBox:Ot[_].cropBox,bleedBox:Ot[_].bleedBox,trimBox:Ot[_].trimBox,artBox:Ot[_].artBox,userUnit:Ot[_].userUnit,rootDictionaryObjId:ql,resourceDictionaryObjId:Gs}));Ni(ql,!0),X("<</Type /Pages");var re="/Kids [";for(k=0;k<En;k++)re+=Q[k]+" 0 R ";X(re+"]"),X("/Count "+En),X(">>"),X("endobj"),vn.publish("postPutPages")},Gl=function(_){vn.publish("putFont",{font:_,out:X,newObject:tr,putStream:lo}),!0!==_.isAlreadyPutted&&(_.objectNumber=tr(),X("<<"),X("/Type /Font"),X("/BaseFont /"+Pg(_.postScriptName)),X("/Subtype /Type1"),"string"==typeof _.encoding&&X("/Encoding /"+_.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},Hl=function(_){_.objectNumber=tr();var k=[];k.push({key:"Type",value:"/XObject"}),k.push({key:"Subtype",value:"/Form"}),k.push({key:"BBox",value:"["+[P(_.x),P(_.y),P(_.x+_.width),P(_.y+_.height)].join(" ")+"]"}),k.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var Q=_.pages[1].join("\n");lo({data:Q,additionalKeyValues:k,objectId:_.objectNumber}),X("endobj")},Wl=function(_,k){k||(k=21);var Q=tr(),re=function(Ue,at){var gt,Vt=[],Ut=1/(at-1);for(gt=0;gt<1;gt+=Ut)Vt.push(gt);Vt.push(1),0!=Ue[0].offset&&Ue.unshift({offset:0,color:Ue[0].color}),1!=Ue[Ue.length-1].offset&&Ue.push({offset:1,color:Ue[Ue.length-1].color});for(var rr="",Zn=0,ti=0;ti<Vt.length;ti++){for(gt=Vt[ti];gt>Ue[Zn+1].offset;)Zn++;var Gr=Ue[Zn].offset,Ai=(gt-Gr)/(Ue[Zn+1].offset-Gr),co=Ue[Zn].color,ir=Ue[Zn+1].color;rr+=ie(Math.round((1-Ai)*co[0]+Ai*ir[0]).toString(16))+ie(Math.round((1-Ai)*co[1]+Ai*ir[1]).toString(16))+ie(Math.round((1-Ai)*co[2]+Ai*ir[2]).toString(16))}return rr.trim()}(_.colors,k),he=[];he.push({key:"FunctionType",value:"0"}),he.push({key:"Domain",value:"[0.0 1.0]"}),he.push({key:"Size",value:"["+k+"]"}),he.push({key:"BitsPerSample",value:"8"}),he.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),he.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),lo({data:re,additionalKeyValues:he,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Q}),X("endobj"),_.objectNumber=tr(),X("<< /ShadingType "+_.type),X("/ColorSpace /DeviceRGB");var Re="/Coords ["+P(parseFloat(_.coords[0]))+" "+P(parseFloat(_.coords[1]))+" ";Re+=2===_.type?P(parseFloat(_.coords[2]))+" "+P(parseFloat(_.coords[3])):P(parseFloat(_.coords[2]))+" "+P(parseFloat(_.coords[3]))+" "+P(parseFloat(_.coords[4]))+" "+P(parseFloat(_.coords[5])),X(Re+="]"),_.matrix&&X("/Matrix ["+_.matrix.toString()+"]"),X("/Function "+Q+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},qc=function(_,k){var Q=Ei(),re=tr();k.push({resourcesOid:Q,objectOid:re}),_.objectNumber=re;var he=[];he.push({key:"Type",value:"/Pattern"}),he.push({key:"PatternType",value:"1"}),he.push({key:"PaintType",value:"1"}),he.push({key:"TilingType",value:"1"}),he.push({key:"BBox",value:"["+_.boundingBox.map(P).join(" ")+"]"}),he.push({key:"XStep",value:P(_.xStep)}),he.push({key:"YStep",value:P(_.yStep)}),he.push({key:"Resources",value:Q+" 0 R"}),_.matrix&&he.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),lo({data:_.stream,additionalKeyValues:he,objectId:_.objectNumber}),X("endobj")},jg=function(_){for(var k in _.objectNumber=tr(),X("<<"),_)switch(k){case"opacity":X("/ca "+T(_[k]));break;case"stroke-opacity":X("/CA "+T(_[k]))}X(">>"),X("endobj")},Qh=function(_){Ni(_.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var k in X("/Font <<"),Ke)Ke.hasOwnProperty(k)&&(!1===d||!0===d&&g.hasOwnProperty(k))&&X("/"+k+" "+Ke[k].objectNumber+" 0 R");X(">>")}(),function(){if(Object.keys(Dt).length>0){for(var k in X("/Shading <<"),Dt)Dt.hasOwnProperty(k)&&Dt[k]instanceof qh&&Dt[k].objectNumber>=0&&X("/"+k+" "+Dt[k].objectNumber+" 0 R");vn.publish("putShadingPatternDict"),X(">>")}}(),function(k){if(Object.keys(Dt).length>0){for(var Q in X("/Pattern <<"),Dt)Dt.hasOwnProperty(Q)&&Dt[Q]instanceof p.TilingPattern&&Dt[Q].objectNumber>=0&&Dt[Q].objectNumber<k&&X("/"+Q+" "+Dt[Q].objectNumber+" 0 R");vn.publish("putTilingPatternDict"),X(">>")}}(_.objectOid),function(){if(Object.keys(Ct).length>0){var k;for(k in X("/ExtGState <<"),Ct)Ct.hasOwnProperty(k)&&Ct[k].objectNumber>=0&&X("/"+k+" "+Ct[k].objectNumber+" 0 R");vn.publish("putGStateDict"),X(">>")}}(),function(){for(var k in X("/XObject <<"),ei)ei.hasOwnProperty(k)&&ei[k].objectNumber>=0&&X("/"+k+" "+ei[k].objectNumber+" 0 R");vn.publish("putXobjectDict"),X(">>")}(),X(">>"),X("endobj")},Gc=function(_){St[_.fontName]=St[_.fontName]||{},St[_.fontName][_.fontStyle]=_.id},Yh=function(_,k,Q,re,he){var Re={id:"F"+(Object.keys(Ke).length+1).toString(10),postScriptName:_,fontName:k,fontStyle:Q,encoding:re,isStandardFont:he||!1,metadata:{}};return vn.publish("addFont",{font:Re,instance:this}),Ke[Re.id]=Re,Gc(Re),Re.id},ko=p.__private__.pdfEscape=p.pdfEscape=function(_,k){return function(Q,re){var he,Re,Ue,at,gt,Vt,Ut,Pn,_r;if(Ue=(re=re||{}).sourceEncoding||"Unicode",gt=re.outputEncoding,(re.autoencode||gt)&&Ke[_t].metadata&&Ke[_t].metadata[Ue]&&Ke[_t].metadata[Ue].encoding&&(at=Ke[_t].metadata[Ue].encoding,!gt&&Ke[_t].encoding&&(gt=Ke[_t].encoding),!gt&&at.codePages&&(gt=at.codePages[0]),"string"==typeof gt&&(gt=at[gt]),gt)){for(Ut=!1,Vt=[],he=0,Re=Q.length;he<Re;he++)(Pn=gt[Q.charCodeAt(he)])?Vt.push(String.fromCharCode(Pn)):Vt.push(Q[he]),Vt[he].charCodeAt(0)>>8&&(Ut=!0);Q=Vt.join("")}for(he=Q.length;void 0===Ut&&0!==he;)Q.charCodeAt(he-1)>>8&&(Ut=!0),he--;if(!Ut)return Q;for(Vt=re.noBOM?[]:[254,255],he=0,Re=Q.length;he<Re;he++){if((_r=(Pn=Q.charCodeAt(he))>>8)>>8)throw new Error("Character at position "+he+" of string '"+Q+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Vt.push(_r),Vt.push(Pn-(_r<<8))}return String.fromCharCode.apply(void 0,Vt)}(_,k).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Za=p.__private__.beginPage=function(_){Pe[++En]=[],Ot[En]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},zg(En),Se(Pe[K])},Ca=function(_,k){var Q,re,he;switch(t=k||t,"string"==typeof _&&(Q=A(_.toLowerCase()),Array.isArray(Q)&&(re=Q[0],he=Q[1])),Array.isArray(_)&&(re=_[0]*kt,he=_[1]*kt),isNaN(re)&&(re=i[0],he=i[1]),(re>14400||he>14400)&&(lr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),re=Math.min(14400,re),he=Math.min(14400,he)),i=[re,he],t.substr(0,1)){case"l":he>re&&(i=[he,re]);break;case"p":re>he&&(i=[he,re])}Za(i),qg(md),X(Ea),0!==Jc&&X(Jc+" J"),0!==nr&&X(nr+" j"),vn.publish("addPage",{pageNumber:En})},Hc=function(_){_>0&&_<=En&&(Pe.splice(_,1),Ot.splice(_,1),En--,K>En&&(K=En),this.setPage(K))},zg=function(_){_>0&&_<=En&&(K=_)},Zh=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Pe.length-1},Jh=function(_,k,Q){var re,he=void 0;return Q=Q||{},k=void 0!==k?k:Ke[_t].fontStyle,re=(_=void 0!==_?_:Ke[_t].fontName).toLowerCase(),void 0!==St[re]&&void 0!==St[re][k]?he=St[re][k]:void 0!==St[_]&&void 0!==St[_][k]?he=St[_][k]:!1===Q.disableWarning&&lr.warn("Unable to look up font label for font '"+_+"', '"+k+"'. Refer to getFontList() for available fonts."),he||Q.noFallback||null==(he=St.times[k])&&(he=St.times.normal),he},Wc=p.__private__.putInfo=function(){var _=tr(),k=function(re){return re};for(var Q in null!==u&&(k=qr.encryptor(_,0)),X("<<"),X("/Producer ("+ko(k("jsPDF "+Tt.version))+")"),wt)wt.hasOwnProperty(Q)&&wt[Q]&&X("/"+Q.substr(0,1).toUpperCase()+Q.substr(1)+" ("+ko(k(wt[Q]))+")");X("/CreationDate ("+ko(k(_e))+")"),X(">>"),X("endobj")},Xh=p.__private__.putCatalog=function(_){var k=(_=_||{}).rootDictionaryObjId||ql;switch(tr(),X("<<"),X("/Type /Catalog"),X("/Pages "+k+" 0 R"),vt||(vt="fullwidth"),vt){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Q=""+vt;"%"===Q.substr(Q.length-1)&&(vt=parseInt(vt)/100),"number"==typeof vt&&X("/OpenAction [3 0 R /XYZ null null "+T(vt)+"]")}switch(Rt||(Rt="continuous"),Rt){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}At&&X("/PageMode /"+At),vn.publish("putCatalog"),X(">>"),X("endobj")},Ur=p.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(ue+1)),X("/Root "+ue+" 0 R"),X("/Info "+(ue-1)+" 0 R"),null!==u&&X("/Encrypt "+qr.oid+" 0 R"),X("/ID [ <"+Ae+"> <"+Ae+"> ]"),X(">>")},ef=p.__private__.putHeader=function(){X("%PDF-"+y),X("%\xba\xdf\xac\xe0")},tf=p.__private__.putXRef=function(){var _="0000000000";X("xref"),X("0 "+(ue+1)),X("0000000000 65535 f ");for(var k=1;k<=ue;k++)X("function"==typeof fe[k]?(_+fe[k]()).slice(-10)+" 00000 n ":void 0!==fe[k]?(_+fe[k]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},Ja=p.__private__.buildDocument=function(){var _;ue=0,Ce=0,be=[],fe=[],Ne=[],ql=Ei(),Gs=Ei(),Se(be),vn.publish("buildDocument"),ef(),Hs(),function(){vn.publish("putAdditionalObjects");for(var Q=0;Q<Ne.length;Q++){var re=Ne[Q];Ni(re.objId,!0),X(re.content),X("endobj")}vn.publish("postPutAdditionalObjects")}(),_=[],function(){for(var Q in Ke)Ke.hasOwnProperty(Q)&&(!1===d||!0===d&&g.hasOwnProperty(Q))&&Gl(Ke[Q])}(),function(){var Q;for(Q in Ct)Ct.hasOwnProperty(Q)&&jg(Ct[Q])}(),function(){for(var Q in ei)ei.hasOwnProperty(Q)&&Hl(ei[Q])}(),function(Q){var re;for(re in Dt)Dt.hasOwnProperty(re)&&(Dt[re]instanceof qh?Wl(Dt[re]):Dt[re]instanceof Mg&&qc(Dt[re],Q))}(_),vn.publish("putResources"),_.forEach(Qh),Qh({resourcesOid:Gs,objectOid:Number.MAX_SAFE_INTEGER}),vn.publish("postPutResources"),null!==u&&(qr.oid=tr(),X("<<"),X("/Filter /Standard"),X("/V "+qr.v),X("/R "+qr.r),X("/U <"+qr.toHexString(qr.U)+">"),X("/O <"+qr.toHexString(qr.O)+">"),X("/P "+qr.P),X(">>"),X("endobj")),Wc(),Xh();var k=Ce;return tf(),Ur(),X("startxref"),X(""+k),X("%%EOF"),Se(Pe[K]),be.join("\n")},Kc=p.__private__.getBlob=function(_){return new Blob([$t(_)],{type:"application/pdf"})},Es=p.output=p.__private__.output=((Wi=function(_,k){switch("string"==typeof(k=k||{})?k={filename:k}:k.filename=k.filename||"generated.pdf",_){case void 0:return Ja();case"save":p.save(k.filename);break;case"arraybuffer":return $t(Ja());case"blob":return Kc(Ja());case"bloburi":case"bloburl":if(void 0!==Qt.URL&&"function"==typeof Qt.URL.createObjectURL)return Qt.URL&&Qt.URL.createObjectURL(Kc(Ja()))||void 0;lr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Q="",re=Ja();try{Q=_q(re)}catch{Q=_q(unescape(encodeURIComponent(re)))}return"data:application/pdf;filename="+k.filename+";base64,"+Q;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Qt)){var he="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Re=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';k.pdfObjectUrl&&(he=k.pdfObjectUrl,Re="");var Ue='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+he+'"'+Re+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(k)+");<\/script></body></html>",at=Qt.open();return null!==at&&at.document.write(Ue),at}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Qt)){var gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(k.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+k.filename+'" width="500px" height="400px" /></body></html>',Vt=Qt.open();if(null!==Vt){Vt.document.write(gt);var Ut=this;Vt.document.documentElement.querySelector("#pdfViewer").onload=function(){Vt.document.title=k.filename,Vt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ut.output("bloburl"))}}return Vt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Qt))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Pn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",k)+'"></iframe></body></html>',_r=Qt.open();if(null!==_r&&(_r.document.write(Pn),_r.document.title=k.filename),_r||typeof safari>"u")return _r;break;case"datauri":case"dataurl":return Qt.document.location.href=this.output("datauristring",k);default:return null}}).foo=function(){try{return Wi.apply(this,arguments)}catch(Q){var _=Q.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var k="Error in function "+_.split("\n")[0].split("<")[0]+": "+Q.message;if(!Qt.console)throw new Error(k);Qt.console.error(k,Q),Qt.alert&&alert(k)}},Wi.foo.bar=Wi,Wi.foo),Kl=function(_){return!0===Array.isArray(ao)&&ao.indexOf(_)>-1};switch(r){case"pt":kt=1;break;case"mm":kt=72/25.4;break;case"cm":kt=72/2.54;break;case"in":kt=72;break;case"px":kt=1==Kl("px_scaling")?.75:96/72;break;case"pc":case"em":kt=12;break;case"ex":kt=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);kt=r}var qr=null;Fe(),me();var Ws=p.__private__.getPageInfo=p.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ot[_].objId,pageNumber:_,pageContext:Ot[_]}},Ks=p.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var k in Ot)if(Ot[k].objId===_)break;return Ws(k)},pd=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Ot[K].objId,pageNumber:K,pageContext:Ot[K]}};p.addPage=function(){return Ca.apply(this,arguments),this},p.setPage=function(){return zg.apply(this,arguments),Se.call(this,Pe[K]),this},p.insertPage=function(_){return this.addPage(),this.movePage(K,_),this},p.movePage=function(_,k){var Q,re;if(_>k){Q=Pe[_],re=Ot[_];for(var he=_;he>k;he--)Pe[he]=Pe[he-1],Ot[he]=Ot[he-1];Pe[k]=Q,Ot[k]=re,this.setPage(k)}else if(_<k){Q=Pe[_],re=Ot[_];for(var Re=_;Re<k;Re++)Pe[Re]=Pe[Re+1],Ot[Re]=Ot[Re+1];Pe[k]=Q,Ot[k]=re,this.setPage(k)}return this},p.deletePage=function(){return Hc.apply(this,arguments),this},p.__private__.text=p.text=function(_,k,Q,re,he){var Re,Ue,at,gt,Vt,Ut,Pn,_r,rr,Zn=(re=re||{}).scope||this;if("number"==typeof _&&"number"==typeof k&&("string"==typeof Q||Array.isArray(Q))){var ti=Q;Q=k,k=_,_=ti}if(arguments[3]instanceof Mt==0?(at=arguments[4],gt=arguments[5],"object"===Qn(Pn=arguments[3])&&null!==Pn||("string"==typeof at&&(gt=at,at=null),"string"==typeof Pn&&(gt=Pn,Pn=null),"number"==typeof Pn&&(at=Pn,Pn=null),re={flags:Pn,angle:at,align:gt})):(x("The transform parameter of text() with a Matrix value"),rr=he),isNaN(k)||isNaN(Q)||null==_)throw new Error("Invalid arguments passed to jsPDF.text");if(0===_.length)return Zn;var Gr,Ai="",co="number"==typeof re.lineHeightFactor?re.lineHeightFactor:Oo,ir=Zn.internal.scaleFactor;function af(qn){return qn=qn.split("\t").join(Array(re.TabLen||9).join(" ")),ko(qn,Pn)}function ru(qn){for(var cr,_i=qn.concat(),Ri=[],su=_i.length;su--;)"string"==typeof(cr=_i.shift())?Ri.push(cr):Array.isArray(qn)&&(1===cr.length||void 0===cr[1]&&void 0===cr[2])?Ri.push(cr[0]):Ri.push([cr[0],cr[1],cr[2]]);return Ri}function Ss(qn,cr){var _i;if("string"==typeof qn)_i=cr(qn)[0];else if(Array.isArray(qn)){for(var Ri,su,Tv=qn.concat(),Wg=[],Mw=Tv.length;Mw--;)"string"==typeof(Ri=Tv.shift())?Wg.push(cr(Ri)[0]):Array.isArray(Ri)&&"string"==typeof Ri[0]&&(su=cr(Ri[0],Ri[1],Ri[2]),Wg.push([su[0],su[1],su[2]]));_i=Wg}return _i}var f=!1,b=!0;if("string"==typeof _)f=!0;else if(Array.isArray(_)){var D=_.concat();Ue=[];for(var G,de=D.length;de--;)("string"!=typeof(G=D.shift())||Array.isArray(G)&&"string"!=typeof G[0])&&(b=!1);f=b}if(!1===f)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');"string"==typeof _&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var we=Ge/Zn.internal.scaleFactor,Ye=we*(co-1);switch(re.baseline){case"bottom":Q-=Ye;break;case"top":Q+=we-Ye;break;case"hanging":Q+=we-2*Ye;break;case"middle":Q+=we/2-Ye}if((Ut=re.maxWidth||0)>0&&("string"==typeof _?_=Zn.splitTextToSize(_,Ut):"[object Array]"===Object.prototype.toString.call(_)&&(_=_.reduce(function(qn,cr){return qn.concat(Zn.splitTextToSize(cr,Ut))},[]))),vn.publish("preProcessText",Re={text:_,x:k,y:Q,options:re,mutex:{pdfEscape:ko,activeFontKey:_t,fonts:Ke,activeFontSize:Ge}}),_=Re.text,at=(re=Re.options).angle,rr instanceof Mt==0&&at&&"number"==typeof at){at*=Math.PI/180,0===re.rotationDirection&&(at=-at),L===F&&(at=-at);var Nn=Math.cos(at),Hr=Math.sin(at);rr=new Mt(Nn,Hr,-Hr,Nn,0,0)}else at&&at instanceof Mt&&(rr=at);L!==F||rr||(rr=Sr),void 0!==(Vt=re.charSpace||Ta)&&(Ai+=P(N(Vt))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(_r=re.horizontalScale)&&(Ai+=P(100*_r)+" Tz\n");var Nt=-1,vr=void 0!==re.renderingMode?re.renderingMode:re.stroke,Wr=Zn.internal.getCurrentPageInfo().pageContext;switch(vr){case 0:case!1:case"fill":Nt=0;break;case 1:case!0:case"stroke":Nt=1;break;case 2:case"fillThenStroke":Nt=2;break;case 3:case"invisible":Nt=3;break;case 4:case"fillAndAddForClipping":Nt=4;break;case 5:case"strokeAndAddPathForClipping":Nt=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Nt=6;break;case 7:case"addToPathForClipping":Nt=7}-1!==Nt?Ai+=Nt+" Tr\n":-1!==(void 0!==Wr.usedRenderingMode?Wr.usedRenderingMode:-1)&&(Ai+="0 Tr\n"),-1!==Nt&&(Wr.usedRenderingMode=Nt),gt=re.align||"left";var Br,xa=Ge*co,iu=Zn.internal.pageSize.getWidth(),bv=Ke[_t];Vt=re.charSpace||Ta,Ut=re.maxWidth||0,Pn=Object.assign({autoencode:!0,noBOM:!0},re.flags);var yd=[],lf=function(qn){return Zn.getStringUnitWidth(qn,{font:bv,charSpace:Vt,fontSize:Ge,doKerning:!1})*Ge/ir};if("[object Array]"===Object.prototype.toString.call(_)){var Ys;Ue=ru(_),"left"!==gt&&(Br=Ue.map(lf));var Zs,bd=0;if("right"===gt){k-=Br[0],_=[],de=Ue.length;for(var ou=0;ou<de;ou++)0===ou?(Zs=el(k),Ys=Ki(Q)):(Zs=N(bd-Br[ou]),Ys=-xa),_.push([Ue[ou],Zs,Ys]),bd=Br[ou]}else if("center"===gt){k-=Br[0]/2,_=[],de=Ue.length;for(var wd=0;wd<de;wd++)0===wd?(Zs=el(k),Ys=Ki(Q)):(Zs=N((bd-Br[wd])/2),Ys=-xa),_.push([Ue[wd],Zs,Ys]),bd=Br[wd]}else if("left"===gt){_=[],de=Ue.length;for(var wv=0;wv<de;wv++)_.push(Ue[wv])}else if("justify"===gt&&"Identity-H"===bv.encoding){_=[],de=Ue.length,Ut=0!==Ut?Ut:iu;for(var Hg=0,mi=0;mi<de;mi++)if(Ys=0===mi?Ki(Q):-xa,Zs=0===mi?el(k):Hg,mi<de-1){var Pw=N((Ut-Br[mi])/(Ue[mi].split(" ").length-1)),ec=Ue[mi].split(" ");_.push([ec[0]+" ",Zs,Ys]),Hg=0;for(var tc=1;tc<ec.length;tc++){var Iv=(lf(ec[tc-1]+" "+ec[tc])-lf(ec[tc]))*ir+Pw;_.push(tc==ec.length-1?[ec[tc],Iv,0]:[ec[tc]+" ",Iv,0]),Hg-=Iv}}else _.push([Ue[mi],Zs,Ys]);_.push(["",Hg,0])}else{if("justify"!==gt)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],de=Ue.length,Ut=0!==Ut?Ut:iu,mi=0;mi<de;mi++){Ys=0===mi?Ki(Q):-xa,Zs=0===mi?el(k):0;var Cv=Ue[mi].split(" ").length-1;yd.push(mi<de-1?P(N(Cv>0?(Ut-Br[mi])/Cv:0)):0),_.push([Ue[mi],Zs,Ys])}}}!0===("boolean"==typeof re.R2L?re.R2L:qt)&&(_=Ss(_,function(qn,cr,_i){return[qn.split("").reverse().join(""),cr,_i]})),vn.publish("postProcessText",Re={text:_,x:k,y:Q,options:re,mutex:{pdfEscape:ko,activeFontKey:_t,fonts:Ke,activeFontSize:Ge}}),_=Re.text,Gr=Re.mutex.isHex||!1;var Av=Ke[_t].encoding;"WinAnsiEncoding"!==Av&&"StandardEncoding"!==Av||(_=Ss(_,function(qn,cr,_i){return[af(qn),cr,_i]})),Ue=ru(_),_=[];for(var Id,Cd,Ed,cf=Array.isArray(Ue[0])?1:0,Ad="",uf=function(qn,cr,_i){var Ri="";return _i instanceof Mt?(_i="number"==typeof re.angle?Ia(_i,new Mt(1,0,0,1,qn,cr)):Ia(new Mt(1,0,0,1,qn,cr),_i),L===F&&(_i=Ia(new Mt(1,0,0,-1,0,0),_i)),Ri=_i.join(" ")+" Tm\n"):Ri=P(qn)+" "+P(cr)+" Td\n",Ri},Pa=0;Pa<Ue.length;Pa++){switch(Ad="",cf){case 1:Ed=(Gr?"<":"(")+Ue[Pa][0]+(Gr?">":")"),Id=parseFloat(Ue[Pa][1]),Cd=parseFloat(Ue[Pa][2]);break;case 0:Ed=(Gr?"<":"(")+Ue[Pa]+(Gr?">":")"),Id=el(k),Cd=Ki(Q)}void 0!==yd&&void 0!==yd[Pa]&&(Ad=yd[Pa]+" Tw\n"),0===Pa?_.push(Ad+uf(Id,Cd,rr)+Ed):0===cf?_.push(Ad+Ed):1===cf&&_.push(Ad+uf(Id,Cd,rr)+Ed)}_=_.join(0===cf?" Tj\nT* ":" Tj\n"),_+=" Tj\n";var nc="BT\n/";return nc+=_t+" "+Ge+" Tf\n",nc+=P(Ge*co)+" TL\n",nc+=Jl+"\n",nc+=Ai,nc+=_,X(nc+="ET"),g[_t]=!0,Zn};var gd=p.__private__.clip=p.clip=function(_){return X("evenodd"===_?"W*":"W"),this};p.clipEvenOdd=function(){return gd("evenodd")},p.__private__.discardPath=p.discardPath=function(){return X("n"),this};var Qs=p.__private__.isValidStyle=function(_){var k=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)&&(k=!0),k};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(_){return Qs(_)&&(c=_),this};var $n=p.__private__.getStyle=p.getStyle=function(_){var k=c;switch(_){case"D":case"S":k="S";break;case"F":k="f";break;case"FD":case"DF":k="B";break;case"f":case"f*":case"B":case"B*":k=_}return k},Qc=p.close=function(){return X("h"),this};p.stroke=function(){return X("S"),this},p.fill=function(_){return As("f",_),this},p.fillEvenOdd=function(_){return As("f*",_),this},p.fillStroke=function(_){return As("B",_),this},p.fillStrokeEvenOdd=function(_){return As("B*",_),this};var As=function(_,k){"object"===Qn(k)?$g(k,_):X(_)},Xa=function(_){null===_||L===F&&void 0===_||(_=$n(_),X(_))};function pv(_,k,Q,re,he){var Re=new Mg(k||this.boundingBox,Q||this.xStep,re||this.yStep,this.gState,he||this.matrix);Re.stream=this.stream;var Ue=_+"$$"+this.cloneIndex+++"$$";return Jo(Ue,Re),Re}var $g=function(_,k){var Q=rn[_.key],re=Dt[Q];if(re instanceof qh)X("q"),X(gv(k)),re.gState&&p.setGState(re.gState),X(_.matrix.toString()+" cm"),X("/"+Q+" sh"),X("Q");else if(re instanceof Mg){var he=new Mt(1,0,0,-1,0,nl());_.matrix&&(he=he.multiply(_.matrix||Sr),Q=pv.call(re,_.key,_.boundingBox,_.xStep,_.yStep,he).id),X("q"),X("/Pattern cs"),X("/"+Q+" scn"),re.gState&&p.setGState(re.gState),X(k),X("Q")}},gv=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},nf=p.moveTo=function(_,k){return X(P(N(_))+" "+P(te(k))+" m"),this},Yc=p.lineTo=function(_,k){return X(P(N(_))+" "+P(te(k))+" l"),this},Ql=p.curveTo=function(_,k,Q,re,he,Re){return X([P(N(_)),P(te(k)),P(N(Q)),P(te(re)),P(N(he)),P(te(Re)),"c"].join(" ")),this};p.__private__.line=p.line=function(_,k,Q,re,he){if(isNaN(_)||isNaN(k)||isNaN(Q)||isNaN(re)||!Qs(he))throw new Error("Invalid arguments passed to jsPDF.line");return L===R?this.lines([[Q-_,re-k]],_,k,[1,1],he||"S"):this.lines([[Q-_,re-k]],_,k,[1,1]).stroke()},p.__private__.lines=p.lines=function(_,k,Q,re,he,Re){var Ue,at,gt,Vt,Ut,ti,Gr,Ai;if("number"==typeof _&&(Ai=Q,Q=k,k=_,_=Ai),re=re||[1,1],Re=Re||!1,isNaN(k)||isNaN(Q)||!Array.isArray(_)||!Array.isArray(re)||!Qs(he)||"boolean"!=typeof Re)throw new Error("Invalid arguments passed to jsPDF.lines");for(nf(k,Q),Ue=re[0],at=re[1],Vt=_.length,ti=k,Gr=Q,gt=0;gt<Vt;gt++)2===(Ut=_[gt]).length?Yc(ti=Ut[0]*Ue+ti,Gr=Ut[1]*at+Gr):Ql(Ut[0]*Ue+ti,Ut[1]*at+Gr,Ut[2]*Ue+ti,Ut[3]*at+Gr,ti=Ut[4]*Ue+ti,Gr=Ut[5]*at+Gr);return Re&&Qc(),Xa(he),this},p.path=function(_){for(var k=0;k<_.length;k++){var Q=_[k],re=Q.c;switch(Q.op){case"m":nf(re[0],re[1]);break;case"l":Yc(re[0],re[1]);break;case"c":Ql.apply(this,re);break;case"h":Qc()}}return this},p.__private__.rect=p.rect=function(_,k,Q,re,he){if(isNaN(_)||isNaN(k)||isNaN(Q)||isNaN(re)||!Qs(he))throw new Error("Invalid arguments passed to jsPDF.rect");return L===R&&(re=-re),X([P(N(_)),P(te(k)),P(N(Q)),P(N(re)),"re"].join(" ")),Xa(he),this},p.__private__.triangle=p.triangle=function(_,k,Q,re,he,Re,Ue){if(isNaN(_)||isNaN(k)||isNaN(Q)||isNaN(re)||isNaN(he)||isNaN(Re)||!Qs(Ue))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Q-_,re-k],[he-Q,Re-re],[_-he,k-Re]],_,k,[1,1],Ue,!0),this},p.__private__.roundedRect=p.roundedRect=function(_,k,Q,re,he,Re,Ue){if(isNaN(_)||isNaN(k)||isNaN(Q)||isNaN(re)||isNaN(he)||isNaN(Re)||!Qs(Ue))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var at=4/3*(Math.SQRT2-1);return he=Math.min(he,.5*Q),Re=Math.min(Re,.5*re),this.lines([[Q-2*he,0],[he*at,0,he,Re-Re*at,he,Re],[0,re-2*Re],[0,Re*at,-he*at,Re,-he,Re],[2*he-Q,0],[-he*at,0,-he,-Re*at,-he,-Re],[0,2*Re-re],[0,-Re*at,he*at,-Re,he,-Re]],_+he,k,[1,1],Ue,!0),this},p.__private__.ellipse=p.ellipse=function(_,k,Q,re,he){if(isNaN(_)||isNaN(k)||isNaN(Q)||isNaN(re)||!Qs(he))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Re=4/3*(Math.SQRT2-1)*Q,Ue=4/3*(Math.SQRT2-1)*re;return nf(_+Q,k),Ql(_+Q,k-Ue,_+Re,k-re,_,k-re),Ql(_-Re,k-re,_-Q,k-Ue,_-Q,k),Ql(_-Q,k+Ue,_-Re,k+re,_,k+re),Ql(_+Re,k+re,_+Q,k+Ue,_+Q,k),Xa(he),this},p.__private__.circle=p.circle=function(_,k,Q,re){if(isNaN(_)||isNaN(k)||isNaN(Q)||!Qs(re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,k,Q,Q,re)},p.setFont=function(_,k,Q){return Q&&(k=q(k,Q)),_t=Jh(_,k,{disableWarning:!1}),this};var Zc=p.__private__.getFont=p.getFont=function(){return Ke[Jh.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var _,k,Q={};for(_ in St)if(St.hasOwnProperty(_))for(k in Q[_]=[],St[_])St[_].hasOwnProperty(k)&&Q[_].push(k);return Q},p.addFont=function(_,k,Q,re,he){var Re=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==Re.indexOf(arguments[3])?he=arguments[3]:arguments[3]&&-1==Re.indexOf(arguments[3])&&(Q=q(Q,re)),Yh.call(this,_,k,Q,he=he||"Identity-H")};var Oo,md=n.lineWidth||.200025,Gt=p.__private__.getLineWidth=p.getLineWidth=function(){return md},qg=p.__private__.setLineWidth=p.setLineWidth=function(_){return md=_,X(P(N(_))+" w"),this};p.__private__.setLineDash=Tt.API.setLineDash=Tt.API.setLineDashPattern=function(_,k){if(_=_||[],k=k||0,isNaN(k)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(Q){return P(N(Q))}).join(" "),k=P(N(k)),X("["+_+"] "+k+" d"),this};var Yl=p.__private__.getLineHeight=p.getLineHeight=function(){return Ge*Oo};p.__private__.getLineHeight=p.getLineHeight=function(){return Ge*Oo};var mv=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(_){return"number"==typeof(_=_||1.15)&&(Oo=_),this},_v=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Oo};mv(n.lineHeight);var el=p.__private__.getHorizontalCoordinate=function(_){return N(_)},Ki=p.__private__.getVerticalCoordinate=function(_){return L===F?_:Ot[K].mediaBox.topRightY-Ot[K].mediaBox.bottomLeftY-N(_)},vv=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(_){return P(el(_))},yv=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(_){return P(Ki(_))},Ea=n.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Xo(Ea)},p.__private__.setStrokeColor=p.setDrawColor=function(_,k,Q,re){return Ea=Cs({ch1:_,ch2:k,ch3:Q,ch4:re,pdfColorType:"draw",precision:2}),X(Ea),this};var Zl=n.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Xo(Zl)},p.__private__.setFillColor=p.setFillColor=function(_,k,Q,re){return Zl=Cs({ch1:_,ch2:k,ch3:Q,ch4:re,pdfColorType:"fill",precision:2}),X(Zl),this};var Jl=n.textColor||"0 g",Aa=p.__private__.getTextColor=p.getTextColor=function(){return Xo(Jl)};p.__private__.setTextColor=p.setTextColor=function(_,k,Q,re){return Jl=Cs({ch1:_,ch2:k,ch3:Q,ch4:re,pdfColorType:"text",precision:3}),this};var Ta=n.charSpace,Gg=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Ta||0)};p.__private__.setCharSpace=p.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ta=_,this};var Jc=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(_){var k=p.CapJoinStyles[_];if(void 0===k)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Jc=k,X(k+" J"),this};var nr=0;p.__private__.setLineJoin=p.setLineJoin=function(_){var k=p.CapJoinStyles[_];if(void 0===k)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return nr=k,X(k+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(P(N(_))+" M"),this},p.GState=fw,p.setGState=function(_){(_="string"==typeof _?Ct[zn[_]]:Xc(null,_)).equals(Tr)||(X("/"+_.id+" gs"),Tr=_)};var Xc=function(_,k){if(!_||!zn[_]){var Q=!1;for(var re in Ct)if(Ct.hasOwnProperty(re)&&Ct[re].equals(k)){Q=!0;break}if(Q)k=Ct[re];else{var he="GS"+(Object.keys(Ct).length+1).toString(10);Ct[he]=k,k.id=he}return _&&(zn[_]=k.id),vn.publish("addGState",k),k}};p.addGState=function(_,k){return Xc(_,k),this},p.saveGraphicsState=function(){return X("q"),Zt.push({key:_t,size:Ge,color:Jl}),this},p.restoreGraphicsState=function(){X("Q");var _=Zt.pop();return _t=_.key,Ge=_.size,Jl=_.color,Tr=null,this},p.setCurrentTransformationMatrix=function(_){return X(_.toString()+" cm"),this},p.comment=function(_){return X("#"+_),this};var eu=function(_,k){var Q=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Q},set:function(Re){isNaN(Re)||(Q=parseFloat(Re))}});var re=k||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return re},set:function(Re){isNaN(Re)||(re=parseFloat(Re))}});var he="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return he},set:function(Re){he=Re.toString()}}),this},_d=function(_,k,Q,re){eu.call(this,_,k),this.type="rect";var he=Q||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return he},set:function(Ue){isNaN(Ue)||(he=parseFloat(Ue))}});var Re=re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Re},set:function(Ue){isNaN(Ue)||(Re=parseFloat(Ue))}}),this},tu=function(){this.page=En,this.currentPage=K,this.pages=Pe.slice(0),this.pagesContext=Ot.slice(0),this.x=It,this.y=Bn,this.matrix=pn,this.width=rf(K),this.height=Da(K),this.outputDestination=Ze,this.id="",this.objectNumber=-1};tu.prototype.restore=function(){En=this.page,Ot=this.pagesContext,Pe=this.pages,It=this.x,Bn=this.y,pn=this.matrix,Ts(K=this.currentPage,this.width),tl(K,this.height),Ze=this.outputDestination};var vd=function(_,k,Q,re,he){Hi.push(new tu),En=K=0,Pe=[],It=_,Bn=k,pn=he,Za([Q,re])};for(var Sa in p.beginFormObject=function(_,k,Q,re,he){return vd(_,k,Q,re,he),this},p.endFormObject=function(_){return function(k){if(No[k])Hi.pop().restore();else{var Q=new tu,re="Xo"+(Object.keys(ei).length+1).toString(10);Q.id=re,No[k]=re,ei[re]=Q,vn.publish("addFormObject",Q),Hi.pop().restore()}}(_),this},p.doFormObject=function(_,k){var Q=ei[No[_]];return X("q"),X(k.toString()+" cm"),X("/"+Q.id+" Do"),X("Q"),this},p.getFormObject=function(_){var k=ei[No[_]];return{x:k.x,y:k.y,width:k.width,height:k.height,matrix:k.matrix}},p.save=function(_,k){return _=_||"generated.pdf",(k=k||{}).returnPromise=k.returnPromise||!1,!1===k.returnPromise?($h(Kc(Ja()),_),"function"==typeof $h.unload&&Qt.setTimeout&&setTimeout($h.unload,911),this):new Promise(function(Q,re){try{var he=$h(Kc(Ja()),_);"function"==typeof $h.unload&&Qt.setTimeout&&setTimeout($h.unload,911),Q(he)}catch(Re){re(Re.message)}})},Tt.API)Tt.API.hasOwnProperty(Sa)&&("events"===Sa&&Tt.API.events.length?function(_,k){var re,he;for(he=k.length-1;-1!==he;he--)_.subscribe.apply(_,[k[he][0]].concat("function"==typeof(re=k[he][1])?[re]:re))}(vn,Tt.API.events):p[Sa]=Tt.API[Sa]);function rf(_){return Ot[_].mediaBox.topRightX-Ot[_].mediaBox.bottomLeftX}function Ts(_,k){Ot[_].mediaBox.topRightX=k+Ot[_].mediaBox.bottomLeftX}function Da(_){return Ot[_].mediaBox.topRightY-Ot[_].mediaBox.bottomLeftY}function tl(_,k){Ot[_].mediaBox.topRightY=k+Ot[_].mediaBox.bottomLeftY}var Xl=p.getPageWidth=function(_){return rf(_=_||K)/kt},sf=p.setPageWidth=function(_,k){Ts(_,k*kt)},nl=p.getPageHeight=function(_){return Da(_=_||K)/kt},nu=p.setPageHeight=function(_,k){tl(_,k*kt)};return p.internal={pdfEscape:ko,getStyle:$n,getFont:Zc,getFontSize:tt,getCharSpace:Gg,getTextColor:Aa,getLineHeight:Yl,getLineHeightFactor:_v,getLineWidth:Gt,write:ln,getHorizontalCoordinate:el,getVerticalCoordinate:Ki,getCoordinateString:vv,getVerticalCoordinateString:yv,collections:{},newObject:tr,newAdditionalObject:Is,newObjectDeferred:Ei,newObjectDeferredBegin:Ni,getFilters:es,putStream:lo,events:vn,scaleFactor:kt,pageSize:{getWidth:function(){return Xl(K)},setWidth:function(_){sf(K,_)},getHeight:function(){return nl(K)},setHeight:function(_){nu(K,_)}},encryptionOptions:u,encryption:qr,getEncryptor:function(_){return null!==u?qr.encryptor(_,0):function(k){return k}},output:Es,getNumberOfPages:Zh,pages:Pe,out:X,f2:T,f3:M,getPageInfo:Ws,getPageInfoByObjId:Ks,getCurrentPageInfo:pd,getPDFVersion:w,Point:eu,Rectangle:_d,Matrix:Mt,hasHotfix:Kl},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Xl(K)},set:function(_){sf(K,_)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return nl(K)},set:function(_){nu(K,_)},enumerable:!0,configurable:!0}),function(_){for(var k=0,Q=Pt.length;k<Q;k++){var re=Yh.call(this,_[k][0],_[k][1],_[k][2],Pt[k][3],!0);!1===d&&(g[re]=!0);var he=_[k][0].split("-");Gc({id:re,fontName:he[0],fontStyle:he[1]||""})}vn.publish("addFonts",{fonts:Ke,dictionary:St})}.call(p,Pt),_t="F1",Ca(i,t),vn.publish("initialized"),p}xg.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},xg.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},xg.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},xg.prototype.processOwnerPassword=function(n,e){return SM(TM(e).substr(0,5),n)},xg.prototype.encryptor=function(n,e){var t=TM(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return SM(t,r)}},fw.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Qn(n)!==Qn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return 0===r},Tt.API={events:[]},Tt.version="3.0.3";var Xr=Tt.API,DM=1,Gh=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ng=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},tn=function(n){return n.toFixed(2)},ud=function(n){return n.toFixed(5)};Xr.__acroform__={};var bs=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},Cq=function(n){return n*DM},Ul=function(n){var e=new Aq,t=pt.internal.getHeight(n)||0,r=pt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(tn(r)),Number(tn(t))],e},Ebe=Xr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},Abe=Xr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},Tbe=Xr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},fi=Xr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Tbe(n,e-1)},pi=Xr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ebe(n,e-1)},gi=Xr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Abe(n,e-1)},Sbe=Xr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],o=n[1],s=n[2],a=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(o+a)||0,l.upperRight_X=t(i+s)||0,l.upperRight_Y=r(o)||0,[Number(tn(l.lowerLeft_X)),Number(tn(l.lowerLeft_Y)),Number(tn(l.upperRight_X)),Number(tn(l.upperRight_Y))]},Dbe=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],r=xM(n,n._V||n.DV),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+tn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Ul(n);return o.scope=n.scope,o.stream=e.join("\n"),o}},xM=function(n,e){var t=0===n.fontSize?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" ");i=i.map(n.multiline?function(T){return T.split("\n")}:function(T){return[T]});var o=t,s=pt.internal.getHeight(n)||0;s=s<0?-s:s;var T,a=pt.internal.getWidth(n)||0;a=a<0?-a:a,o++;e:for(;o>0;){e="",o--;var c,u,d=pw("3",n,o).height,g=n.multiline?s-o:(s-d)/2,p=g+=2,y=0,w=0,I=0;if(o<=0){e="(...) Tj\n",e+="% Width of Text: "+pw(e,n,o=12).width+", FieldWidth:"+a+"\n";break}for(var A="",R=0,F=0;F<i.length;F++)if(i.hasOwnProperty(F)){var L=!1;if(1!==i[F].length&&I!==i[F].length-1){if((d+2)*(R+2)+2>s)continue e;A+=i[F][I],L=!0,w=F,F--}else{A=" "==(A+=i[F][I]+" ").substr(A.length-1)?A.substr(0,A.length-1):A;var J=parseInt(F),ae=(T=J)+1<i.length&&pw(A+" "+i[T+1][0],n,o).width<=a-4,q=F>=i.length-1;if(ae&&!q){A+=" ",I=0;continue}if(ae||q){if(q)w=J;else if(n.multiline&&(d+2)*(R+2)+2>s)continue e}else{if(!n.multiline||(d+2)*(R+2)+2>s)continue e;w=J}}for(var P="",x=y;x<=w;x++){var B=i[x];if(n.multiline){if(x===w){P+=B[I]+" ",I=(I+1)%B.length;continue}if(x===y){P+=B[B.length-1]+" ";continue}}P+=B[0]+" "}switch(P=" "==P.substr(P.length-1)?P.substr(0,P.length-1):P,u=pw(P,n,o).width,n.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}e+=tn(c)+" "+tn(p)+" Td\n",e+="("+Gh(P)+") Tj\n",e+=-tn(c)+" 0 Td\n",p=-(o+2),u=0,y=L?w:w+1,R++,A=""}break}return r.text=e,r.fontSize=o,r},pw=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},xbe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Pbe=function(n,e){var t={type:"reference",object:n};void 0===e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},Eq=Xr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(s){return s};if(Array.isArray(n)){for(var i="[",o=0;o<n.length;o++)switch(0!==o&&(i+=" "),Qn(n[o])){case"boolean":case"number":case"object":i+=n[o].toString();break;case"string":"/"!==n[o].substr(0,1)?(void 0!==e&&t&&(r=t.internal.getEncryptor(e)),i+="("+Gh(r(n[o].toString()))+")"):i+=n[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},PM=function(n,e,t){var r=function(i){return i};return void 0!==e&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Gh(r(n))+")"},Bl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Bl.prototype.toString=function(){return this.objId+" 0 R"},Bl.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Bl.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return"content"!=o&&"appearanceStreamContent"!=o&&"scope"!=o&&"objId"!=o&&"_"!=o.substring(0,1)});for(var t in e)if(!1===Object.getOwnPropertyDescriptor(this,e[t]).configurable){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:Eq(i,this.objId,this.scope)}):i instanceof Bl?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&n.push({key:r,value:i}))}return n};var Aq=function(){Bl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};bs(Aq,Bl);var Tq=function(){Bl.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Gh(t(n))+")"}},set:function(t){n=t}})};bs(Tq,Bl);var Ha=function n(){Bl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute F supplied.');e=A}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!fi(e,3)},set:function(A){this.F=A?pi(e,3):gi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute Ff supplied.');t=A}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(A){r=void 0!==A?A:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(A){r[0]=A}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(A){r[1]=A}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(A){r[2]=A}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(A){r[3]=A}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(A){switch(A){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=A;break;default:throw new Error('Invalid value "'+A+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof _w)return;o="FieldObject"+n.FieldNum++}var A=function(R){return R};return this.scope&&(A=this.scope.internal.getEncryptor(this.objId)),"("+Gh(A(o))+")"},set:function(A){o=A.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(A){o=A}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(A){s=A}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(A){a=A}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(A){l=A}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/DM:c},set:function(A){c=A}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(A){u=A}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof _w||this instanceof Hh))return PM(d,this.objId,this.scope)},set:function(A){A=A.toString(),d=A}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Gi==0?PM(g,this.objId,this.scope):g},set:function(A){A=A.toString(),g=this instanceof Gi==0?"("===A.substr(0,1)?Ng(A.substr(1,A.length-2)):Ng(A):A}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Gi==1?Ng(g.substr(1,g.length-1)):g},set:function(A){A=A.toString(),g=this instanceof Gi==1?"/"+A:A}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(A){this.V=A}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Gi==0?PM(p,this.objId,this.scope):p},set:function(A){A=A.toString(),p=this instanceof Gi==0?"("===A.substr(0,1)?Ng(A.substr(1,A.length-2)):Ng(A):A}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Gi==1?Ng(p.substr(1,p.length-1)):p},set:function(A){A=A.toString(),p=this instanceof Gi==1?"/"+A:A}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(A){w=A=!!A}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(A){y=A}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,1)},set:function(A){this.Ff=A?pi(this.Ff,1):gi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,2)},set:function(A){this.Ff=A?pi(this.Ff,2):gi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,3)},set:function(A){this.Ff=A?pi(this.Ff,3):gi(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==I)return I},set:function(A){if(-1===[0,1,2].indexOf(A))throw new Error('Invalid value "'+A+'" for attribute Q supplied.');I=A}}),Object.defineProperty(this,"textAlign",{get:function(){var A;switch(I){case 0:default:A="left";break;case 1:A="center";break;case 2:A="right"}return A},configurable:!0,enumerable:!0,set:function(A){switch(A){case"right":case 2:I=2;break;case"center":case 1:I=1;break;default:I=0}}})};bs(Ha,Bl);var Rg=function(){Ha.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Eq(e,this.objId,this.scope)},set:function(t){var r,i;i=[],"string"==typeof(r=t)&&(i=function(o,s,a){a||(a=1);for(var l,c=[];l=s.exec(o);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==r););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,18)},set:function(t){this.Ff=t?pi(this.Ff,18):gi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,19)},set:function(t){!0===this.combo&&(this.Ff=t?pi(this.Ff,19):gi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,20)},set:function(t){t?(this.Ff=pi(this.Ff,20),e.sort()):this.Ff=gi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,22)},set:function(t){this.Ff=t?pi(this.Ff,22):gi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,23)},set:function(t){this.Ff=t?pi(this.Ff,23):gi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,27)},set:function(t){this.Ff=t?pi(this.Ff,27):gi(this.Ff,27)}}),this.hasAppearanceStream=!1};bs(Rg,Ha);var kg=function(){Rg.call(this),this.fontName="helvetica",this.combo=!1};bs(kg,Rg);var Og=function(){kg.call(this),this.combo=!0};bs(Og,kg);var gw=function(){Og.call(this),this.edit=!0};bs(gw,Og);var Gi=function(){Ha.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,15)},set:function(t){this.Ff=t?pi(this.Ff,15):gi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,16)},set:function(t){this.Ff=t?pi(this.Ff,16):gi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,17)},set:function(t){this.Ff=t?pi(this.Ff,17):gi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,26)},set:function(t){this.Ff=t?pi(this.Ff,26):gi(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(e).length){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Gh(t(e[r]))+")");return i.push(">>"),i.join("\n")}},set:function(t){"object"===Qn(t)&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){"string"==typeof t&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};bs(Gi,Ha);var mw=function(){Gi.call(this),this.pushButton=!0};bs(mw,Gi);var Lg=function(){Gi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=void 0!==e?e:[]}})};bs(Lg,Gi);var _w=function(){var n,e;Ha.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+Gh(i(r[o]))+")");return s.push(">>"),s.join("\n")},set:function(i){"object"===Qn(i)&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){"string"==typeof i&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=pt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};bs(_w,Ha),Lg.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Lg.prototype.createOption=function(n){var e=new _w;return e.Parent=this,e.optionName=n,this.Kids.push(e),Nbe.call(this.scope,e),e};var vw=function(){Gi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=pt.CheckBox.createAppearanceStream()};bs(vw,Gi);var Hh=function(){Ha.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,13)},set:function(e){this.Ff=e?pi(this.Ff,13):gi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,21)},set:function(e){this.Ff=e?pi(this.Ff,21):gi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,23)},set:function(e){this.Ff=e?pi(this.Ff,23):gi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,24)},set:function(e){this.Ff=e?pi(this.Ff,24):gi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,25)},set:function(e){this.Ff=e?pi(this.Ff,25):gi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,26)},set:function(e){this.Ff=e?pi(this.Ff,26):gi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};bs(Hh,Ha);var yw=function(){Hh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,14)},set:function(n){this.Ff=n?pi(this.Ff,14):gi(this.Ff,14)}}),this.password=!0};bs(yw,Hh);var pt={CheckBox:{createAppearanceStream:function(){return{N:{On:pt.CheckBox.YesNormal},D:{On:pt.CheckBox.YesPushDown,Off:pt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Ul(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),o=xM(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+tn(pt.internal.getWidth(n))+" "+tn(pt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+tn(o.fontSize)+" Tf "+i),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join("\n"),e},YesNormal:function(n){var e=Ul(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],o=pt.internal.getHeight(n),s=pt.internal.getWidth(n),a=xM(n,n.caption);return i.push("1 g"),i.push("0 0 "+tn(s)+" "+tn(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+tn(s-1)+" "+tn(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+tn(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(n){var e=Ul(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+tn(pt.internal.getWidth(n))+" "+tn(pt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:pt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=pt.RadioButton.Circle.YesNormal,e.D[n]=pt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Ul(n);e.scope=n.scope;var t=[],r=pt.internal.getWidth(n)<=pt.internal.getHeight(n)?pt.internal.getWidth(n)/4:pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var o=Number((r*pt.internal.Bezier_C).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+ud(pt.internal.getWidth(n)/2)+" "+ud(pt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(n){var e=Ul(n);e.scope=n.scope;var t=[],r=pt.internal.getWidth(n)<=pt.internal.getHeight(n)?pt.internal.getWidth(n)/4:pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*pt.internal.Bezier_C).toFixed(5)),s=Number((r*pt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ud(pt.internal.getWidth(n)/2)+" "+ud(pt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+ud(pt.internal.getWidth(n)/2)+" "+ud(pt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},OffPushDown:function(n){var e=Ul(n);e.scope=n.scope;var t=[],r=pt.internal.getWidth(n)<=pt.internal.getHeight(n)?pt.internal.getWidth(n)/4:pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*pt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ud(pt.internal.getWidth(n)/2)+" "+ud(pt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:pt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=pt.RadioButton.Cross.YesNormal,e.D[n]=pt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Ul(n);e.scope=n.scope;var t=[],r=pt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+tn(pt.internal.getWidth(n)-2)+" "+tn(pt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(tn(r.x1.x)+" "+tn(r.x1.y)+" m"),t.push(tn(r.x2.x)+" "+tn(r.x2.y)+" l"),t.push(tn(r.x4.x)+" "+tn(r.x4.y)+" m"),t.push(tn(r.x3.x)+" "+tn(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(n){var e=Ul(n);e.scope=n.scope;var t=pt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+tn(pt.internal.getWidth(n))+" "+tn(pt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+tn(pt.internal.getWidth(n)-2)+" "+tn(pt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(tn(t.x1.x)+" "+tn(t.x1.y)+" m"),r.push(tn(t.x2.x)+" "+tn(t.x2.y)+" l"),r.push(tn(t.x4.x)+" "+tn(t.x4.y)+" m"),r.push(tn(t.x3.x)+" "+tn(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(n){var e=Ul(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+tn(pt.internal.getWidth(n))+" "+tn(pt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join("\n"),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};pt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=pt.internal.getWidth(n),t=pt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},pt.internal.getWidth=function(n){var e=0;return"object"===Qn(n)&&(e=Cq(n.Rect[2])),e},pt.internal.getHeight=function(n){var e=0;return"object"===Qn(n)&&(e=Cq(n.Rect[3])),e};var Nbe=Xr.addField=function(n){if(function(n,e){if(e.scope=n,void 0!==n.internal&&(void 0===n.internal.acroformPlugin||!1===n.internal.acroformPlugin.isInitialized)){if(Ha.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(xbe)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");DM=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new Tq,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){var t;(t=n).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),n.internal.events.subscribe("buildDocument",function(){!function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&Pbe(o,t)}}(n)}),n.internal.events.subscribe("putCatalog",function(){!function(t){if(void 0===t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(n)}),n.internal.events.subscribe("postPutPages",function(t){!function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var a=r[s],l=[],c=a.Rect;if(a.Rect&&(a.Rect=Sbe(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=pt.createDefaultAppearanceStream(a),"object"===Qn(a)&&"function"==typeof a.getKeyValueListForStream&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=Dbe(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var d="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var p=a.appearanceStreamContent[g];if(d+="/"+g+" ",d+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var y=p[s];"function"==typeof y&&(y=y.call(i,a)),d+="/"+s+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else"function"==typeof(y=p)&&(y=y.call(i,a)),d+="/"+s+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);d+=">>"}l.push({key:"AP",value:"<<\n"+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}o&&function(w,I){for(var A in w)if(w.hasOwnProperty(A)){var R=A,F=w[A];I.internal.newObjectDeferredBegin(F.objId,!0),"object"===Qn(F)&&"function"==typeof F.putStream&&F.putStream(),delete w[R]}}(i.internal.acroformPlugin.xForms,i)}(t,n)}),n.internal.acroformPlugin.isInitialized=!0}}(this,n),!(n instanceof Ha))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};function Sq(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}Xr.AcroFormChoiceField=Rg,Xr.AcroFormListBox=kg,Xr.AcroFormComboBox=Og,Xr.AcroFormEditBox=gw,Xr.AcroFormButton=Gi,Xr.AcroFormPushButton=mw,Xr.AcroFormRadioButton=Lg,Xr.AcroFormCheckBox=vw,Xr.AcroFormTextField=Hh,Xr.AcroFormPasswordField=yw,Xr.AcroFormAppearance=pt,Xr.AcroForm={ChoiceField:Rg,ListBox:kg,ComboBox:Og,EditBox:gw,Button:Gi,PushButton:mw,RadioButton:Lg,CheckBox:vw,TextField:Hh,PasswordField:yw,Appearance:pt},Tt.AcroForm={ChoiceField:Rg,ListBox:kg,ComboBox:Og,EditBox:gw,Button:Gi,PushButton:mw,RadioButton:Lg,CheckBox:vw,TextField:Hh,PasswordField:yw,Appearance:pt},function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(T,M){var N,te,_e,Ae,Ee,me=t;if("RGBA"===(M=M||t)||void 0!==T.data&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(ae(T))for(Ee in r)for(_e=r[Ee],N=0;N<_e.length;N+=1){for(Ae=!0,te=0;te<_e[N].length;te+=1)if(void 0!==_e[N][te]&&_e[N][te]!==T[te]){Ae=!1;break}if(!0===Ae){me=Ee;break}}else for(Ee in r)for(_e=r[Ee],N=0;N<_e.length;N+=1){for(Ae=!0,te=0;te<_e[N].length;te+=1)if(void 0!==_e[N][te]&&_e[N][te]!==T.charCodeAt(te)){Ae=!1;break}if(!0===Ae){me=Ee;break}}return me===t&&M!==t&&(me=M),me},o=function T(M){for(var N=this.internal.write,te=this.internal.putStream,_e=(0,this.internal.getFilters)();-1!==_e.indexOf("FlateEncode");)_e.splice(_e.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var Ae=[];if(Ae.push({key:"Type",value:"/XObject"}),Ae.push({key:"Subtype",value:"/Image"}),Ae.push({key:"Width",value:M.width}),Ae.push({key:"Height",value:M.height}),M.colorSpace===A.INDEXED?Ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&void 0!==M.sMask?M.objectId+2:M.objectId+1)+" 0 R]"}):(Ae.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===A.DEVICE_CMYK&&Ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ae.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&void 0!==M.decodeParameters&&Ae.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)&&M.transparency.length>0){for(var Ee="",me=0,Te=M.transparency.length;me<Te;me++)Ee+=M.transparency[me]+" "+M.transparency[me]+" ";Ae.push({key:"Mask",value:"["+Ee+"]"})}if(void 0!==M.sMask&&Ae.push({key:"SMask",value:M.objectId+1+" 0 R"}),te({data:M.data,additionalKeyValues:Ae,alreadyAppliedFilters:void 0!==M.filter?["/"+M.filter]:void 0,objectId:M.objectId}),N("endobj"),"sMask"in M&&void 0!==M.sMask){var Fe,j=null!==(Fe=M.sMaskBitsPerComponent)&&void 0!==Fe?Fe:M.bitsPerComponent,K={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:j,data:M.sMask};"filter"in M&&(K.decodeParameters="/Predictor ".concat(M.predictor," /Colors 1 /BitsPerComponent ").concat(j," /Columns ").concat(M.width),K.filter=M.filter),T.call(this,K)}if(M.colorSpace===A.INDEXED){var ee=this.internal.newObject();te({data:P(new Uint8Array(M.palette)),objectId:ee}),N("endobj")}},s=function(){var T=this.internal.collections[e+"images"];for(var M in T)o.call(this,T[M])},a=function(){var T,M=this.internal.collections[e+"images"],N=this.internal.write;for(var te in M)N("/I"+(T=M[te]).index,T.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var T=this.internal.collections[e+"images"];return l.call(this),T},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},d=function(T){return"function"==typeof n["process"+T.toUpperCase()]},g=function(T){return"object"===Qn(T)&&1===T.nodeType},p=function(T,M){if("IMG"===T.nodeName&&T.hasAttribute("src")){var N=""+T.getAttribute("src");if(0===N.indexOf("data:image/"))return dw(unescape(N).split("base64,").pop());var te=n.loadFile(N,!0);if(void 0!==te)return te}if("CANVAS"===T.nodeName){if(0===T.width||0===T.height)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var _e;switch(M){case"PNG":_e="image/png";break;case"WEBP":_e="image/webp";break;default:_e="image/jpeg"}return dw(T.toDataURL(_e,1).split("base64,").pop())}},y=function(T){var M=this.internal.collections[e+"images"];if(M)for(var N in M)if(T===M[N].alias)return M[N]},w=function(T,M,N){return T||M||(T=-96,M=-96),T<0&&(T=-1*N.width*72/T/this.internal.scaleFactor),M<0&&(M=-1*N.height*72/M/this.internal.scaleFactor),0===T&&(T=M*N.width/N.height),0===M&&(M=T*N.height/N.width),[T,M]},I=function(T,M,N,te,_e,Ae){var Ee=w.call(this,N,te,_e),me=this.internal.getCoordinateString,Te=this.internal.getVerticalCoordinateString,We=c.call(this);if(N=Ee[0],te=Ee[1],We[_e.index]=_e,Ae){Ae*=Math.PI/180;var Fe=Math.cos(Ae),j=Math.sin(Ae),K=function(ie){return ie.toFixed(4)},ee=[K(Fe),K(j),K(-1*j),K(Fe),0,0,"cm"]}this.internal.write("q"),Ae?(this.internal.write([1,"0","0",1,me(T),Te(M+te),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([me(N),"0","0",me(te),"0","0","cm"].join(" "))):this.internal.write([me(N),"0","0",me(te),me(T),Te(M+te),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+_e.index+" Do"),this.internal.write("Q")},A=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var R=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},F=n.__addimage__.sHashCode=function(T){var M,N,te=0;if("string"==typeof T)for(N=T.length,M=0;M<N;M++)te=(te<<5)-te+T.charCodeAt(M),te|=0;else if(ae(T))for(N=T.byteLength/2,M=0;M<N;M++)te=(te<<5)-te+T[M],te|=0;return te},L=n.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var M=!0;return 0===T.length&&(M=!1),T.length%4!=0&&(M=!1),!1===/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))&&(M=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))&&(M=!1),M},J=n.__addimage__.extractImageFromDataUrl=function(T){if(null==T||!(T=T.trim()).startsWith("data:"))return null;var M=T.indexOf(",");return M<0?null:T.substring(0,M).trim().endsWith("base64")?T.substring(M+1):null};n.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var ae=n.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},q=n.__addimage__.binaryStringToUint8Array=function(T){for(var M=T.length,N=new Uint8Array(M),te=0;te<M;te++)N[te]=T.charCodeAt(te);return N},P=n.__addimage__.arrayBufferToBinaryString=function(T){for(var M="",N=ae(T)?T:new Uint8Array(T),te=0;te<N.length;te+=8192)M+=String.fromCharCode.apply(null,N.subarray(te,te+8192));return M};n.addImage=function(){var T,M,N,te,_e,Ae,Ee,me,Te;if("number"==typeof arguments[1]?(M=t,N=arguments[1],te=arguments[2],_e=arguments[3],Ae=arguments[4],Ee=arguments[5],me=arguments[6],Te=arguments[7]):(M=arguments[1],N=arguments[2],te=arguments[3],_e=arguments[4],Ae=arguments[5],Ee=arguments[6],me=arguments[7],Te=arguments[8]),"object"===Qn(T=arguments[0])&&!g(T)&&"imageData"in T){var We=T;T=We.imageData,M=We.format||M||t,N=We.x||N||0,te=We.y||te||0,_e=We.w||We.width||_e,Ae=We.h||We.height||Ae,Ee=We.alias||Ee,me=We.compression||me,Te=We.rotation||We.angle||Te}var Fe=this.internal.getFilters();if(void 0===me&&-1!==Fe.indexOf("FlateEncode")&&(me="SLOW"),isNaN(N)||isNaN(te))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var j=x.call(this,T,M,Ee,me);return I.call(this,N,te,_e,Ae,j,Te),this};var x=function(T,M,N,te){var _e,Ae,Ee,Te;if("string"==typeof T&&i(T)===t){T=unescape(T);var me=B(T,!1);(""!==me||void 0!==(me=n.loadFile(T,!0)))&&(T=me)}if(g(T)&&(T=p(T,M)),M=i(T,M),!d(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if((null==(Ee=N)||0===Ee.length)&&(N="string"==typeof(Te=T)||ae(Te)?F(Te):ae(Te.data)?F(Te.data):null),(_e=y.call(this,N))||(T instanceof Uint8Array||"RGBA"===M||(Ae=T,T=q(T)),_e=this["process"+M.toUpperCase()](T,u.call(this),N,function(Te){return Te&&"string"==typeof Te&&(Te=Te.toUpperCase()),Te in n.image_compression?Te:R.NONE}(te),Ae)),!_e)throw new Error("An unknown error occurred whilst processing the image.");return _e},B=n.__addimage__.convertBase64ToBinaryString=function(T,M){M="boolean"!=typeof M||M;var N,te="";if("string"==typeof T){var _e;N=null!==(_e=J(T))&&void 0!==_e?_e:T;try{te=dw(N)}catch(Ae){if(M)throw L(N)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return te};n.getImageProperties=function(T){var M,N,te="";if(g(T)&&(T=p(T)),"string"==typeof T&&i(T)===t&&(""===(te=B(T,!1))&&(te=n.loadFile(T)||""),T=te),N=i(T),!d(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(T instanceof Uint8Array||(T=q(T)),!(M=this["process"+N.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=N,M}}(Tt.API),
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(t){if(void 0!==t&&""!=t)return!0};Tt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((r=c[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(0!=u){this.internal.write("/Annots [");for(var g=0;g<c.length;g++){r=c[g];var p=this.internal.pdfEscape,y=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),A=this.internal.getEncryptor(w.objId),R=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(A(r.contents))+")",o+=" /Popup "+I.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+p(A(R))+") >>",w.content=o;var F=w.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+F,r.open&&(o+=" /Open true"),I.content=o+=" >>",this.internal.write(w.objId,"0 R",I.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var L=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(y(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+L+")",o+=" /Border [0 0 0]",this.internal.write(o+=" >>");break;case"link":if(r.options.name){var J=this.annotations._nameMap[r.options.name];r.options.pageNumber=J.page,r.options.top=J.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(y(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var ae=a(r.options.top);r.options.left=r.options.left||0,void 0===r.options.zoom&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+ae+" "+r.options.zoom+"]"}""!=o&&this.internal.write(o+=" >>")}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(r),w:l(t+i),h:c(r+o)},options:s,type:"link"})},n.textWithLink=function(t,r,i,o){var s,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==o.maxWidth){var u=this.splitTextToSize(t,a=o.maxWidth).length;s=Math.ceil(c*u)}else a=l,s=c;return this.text(t,r,i,o),"center"===o.align&&(r-=l/2),"right"===o.align&&(r-=l),this.link(r,(i+=.2*c)-c,a,s,o),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(Tt.API),
/**
         * @license
         * Copyright (c) 2017 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(w){return void 0!==e[w.charCodeAt(0)]},s=n.__arabicParser__.isArabicLetter=function(w){return"string"==typeof w&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},a=n.__arabicParser__.isArabicEndLetter=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(w){return s(w)&&i.indexOf(w.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length>=3};var u=n.__arabicParser__.arabicLetterHasMedialForm=function(w){return s(w)&&o(w)&&4==e[w.charCodeAt(0)].length},d=n.__arabicParser__.resolveLigatures=function(w){var I=0,A=t,R="",F=0;for(I=0;I<w.length;I+=1)void 0!==A[w.charCodeAt(I)]?(F++,"number"==typeof(A=A[w.charCodeAt(I)])&&(R+=String.fromCharCode(A),A=t,F=0),I===w.length-1&&(A=t,R+=w.charAt(I-(F-1)),I-=F-1,F=0)):(A=t,R+=w.charAt(I-F),I-=F,F=0);return R};n.__arabicParser__.isArabicDiacritic=function(w){return void 0!==w&&void 0!==r[w.charCodeAt(0)]};var g=n.__arabicParser__.getCorrectForm=function(w,I,A){return s(w)?!1===o(w)?-1:!c(w)||!s(I)&&!s(A)||!s(A)&&a(I)||a(w)&&!s(I)||a(w)&&l(I)||a(w)&&a(I)?0:u(w)&&s(I)&&!a(I)&&s(A)&&c(A)?3:a(w)||!s(A)?1:2:-1},p=function(w){var I=0,A=0,R=0,F="",L="",J="",ae=(w=w||"").split("\\s+"),q=[];for(I=0;I<ae.length;I+=1){for(q.push(""),A=0;A<ae[I].length;A+=1)L=ae[I][A-1],J=ae[I][A+1],s(F=ae[I][A])?(R=g(F,L,J),q[I]+=-1!==R?String.fromCharCode(e[F.charCodeAt(0)][R]):F):q[I]+=F;q[I]=d(q[I])}return q.join(" ")},y=n.__arabicParser__.processArabic=n.processArabic=function(){var w,I="string"==typeof arguments[0]?arguments[0]:arguments[0].text,A=[];if(Array.isArray(I)){var R=0;for(A=[],R=0;R<I.length;R+=1)Array.isArray(I[R])?A.push([p(I[R][0]),I[R][1],I[R][2]]):A.push([p(I[R])]);w=A}else w=p(I);return"string"==typeof arguments[0]?w:(arguments[0].text=w,arguments[0])};n.events.push(["preProcessText",y])}(Tt.API),Tt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform","javascript"===n.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||!1===Number.isInteger(a)||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||!1===Number.isInteger(a)||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if("2d"!==(t=t||"2d"))return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Tt.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(w){l=w}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(w){y=w}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof l?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),g=c.scaleFactor||this.internal.scaleFactor,p=0,y=0,w=0,I=this;if(!Array.isArray(l)&&"string"!=typeof l){if("number"!=typeof l)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var A=c.maxWidth;A>0?"string"==typeof l?l=this.splitTextToSize(l,A):"[object Array]"===Object.prototype.toString.call(l)&&(l=l.reduce(function(F,L){return F.concat(I.splitTextToSize(L,A))},[])):l=Array.isArray(l)?l:[l];for(var R=0;R<l.length;R++)p<(w=this.getStringUnitWidth(l[R],{font:d})*u)&&(p=w);return 0!==p&&(y=l.length),{w:p/=g,h:Math.max((y*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/g,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=n.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return void 0!==c.lineNumber&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,p&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=c.y+c.height||l.y),void 0!==l.text[0]&&(this.rect(l.x,l.y,l.width,l.height,!0===t?"FD":void 0),"right"===l.align?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):"center"===l.align?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,u,d,g){if(r.call(this),!u)throw new Error("No data for PDF table.");var p,y,w,I,A=[],R=[],F=[],L={},J={},ae=[],q=[],P=(g=g||{}).autoSize||!1,x=!1!==g.printHeaders,B=g.css&&void 0!==g.css["font-size"]?16*g.css["font-size"]:g.fontSize||12,T=g.margins||Object.assign({width:this.getPageWidth()},e),M="number"==typeof g.padding?g.padding:3,N=g.headerBackgroundColor||"#c8c8c8",te=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=x,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=N,this.internal.__cell__.headerTextColor=te,this.setFontSize(B),null==d)R=A=Object.keys(u[0]),F=A.map(function(){return"left"});else if(Array.isArray(d)&&"object"===Qn(d[0]))for(A=d.map(function(We){return We.name}),R=d.map(function(We){return We.prompt||We.name||""}),F=d.map(function(We){return We.align||"left"}),p=0;p<d.length;p+=1)J[d[p].name]=.7499990551181103*d[p].width;else Array.isArray(d)&&"string"==typeof d[0]&&(R=A=d,F=A.map(function(){return"left"}));if(P||Array.isArray(d)&&"string"==typeof d[0])for(p=0;p<A.length;p+=1){for(L[I=A[p]]=u.map(function(We){return We[I]}),this.setFont(void 0,"bold"),ae.push(this.getTextDimensions(R[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=L[I],this.setFont(void 0,"normal"),w=0;w<y.length;w+=1)ae.push(this.getTextDimensions(y[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);J[I]=Math.max.apply(null,ae)+M+M,ae=[]}if(x){var _e={};for(p=0;p<A.length;p+=1)_e[A[p]]={},_e[A[p]].text=R[p],_e[A[p]].align=F[p];var Ae=a.call(this,_e,J);q=A.map(function(We){return new o(l,c,J[We],Ae,_e[We].text,void 0,_e[We].align)}),this.setTableHeaderRow(q),this.printHeaderRow(1,!1)}var Ee=d.reduce(function(We,Fe){return We[Fe.name]=Fe.align,We},{});for(p=0;p<u.length;p+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:p,data:u[p]},this);var me=a.call(this,u[p],J);for(w=0;w<A.length;w+=1){var Te=u[p][A[w]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:p,col:w,data:Te},this),s.call(this,new o(l,c,J[A[w]],me,Te,p+2,Ee[A[w]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(p){var y=l[p];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*d/g+u+u},this).reduce(function(p,y){return Math.max(p,y)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,"function"==typeof this.internal.__cell__.headerFunction){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,g.push(u)),u.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(y)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),t=!1}}(Tt.API);var Dq={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},xq=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],MM=Sq(xq),Pq=[100,200,300,400,500,600,700,800,900],Rbe=Sq(Pq);function NM(n){var o,e=n.family.replace(/"|'/g,"").toLowerCase(),t=Dq[o=(o=n.style)||"normal"]?o:"normal",r=function(o){return o?"number"==typeof o?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):"bold"===o?700:400:400}(n.weight),i=function(o){return"number"==typeof MM[o=o||"normal"]?o:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function Mq(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var kbe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Nq={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Rq(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function kq(n){return n.trimLeft()}function Obe(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function Lbe(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===e?null:[e[0],n.substring(e[0].length)]}var bw,Oq,Lq,Fg,ww,Fq,Vq,Uq,RM=["times"];function Bq(n,e,t,r,i){var o=4,s=zq;switch(i){case Tt.API.image_compression.FAST:o=1,s=jq;break;case Tt.API.image_compression.MEDIUM:o=6,s=$q;break;case Tt.API.image_compression.SLOW:o=9,s=qq}var a=B1(n=function(l,c,u,d){for(var g,p=l.length/c,y=new Uint8Array(l.length+p),w=[Fbe,jq,zq,$q,qq],I=0;I<p;I+=1){var A=I*c,R=l.subarray(A,A+c);if(d)y.set(d(R,u,g),A+I);else{for(var F=w.length,L=[],J=0;J<F;J+=1)L[J]=w[J](R,u,g);var ae=Ube(L.concat());y.set(L[ae],A+I)}g=R}return y}(n,e,Math.ceil(t*r/8),s),{level:o});return Tt.API.__addimage__.arrayBufferToBinaryString(a)}function Fbe(n){var e=Array.apply([],n);return e.unshift(0),e}function jq(n,e){var t=n.length,r=[];r[0]=1;for(var i=0;i<t;i+=1)r[i+1]=n[i]-(n[i-e]||0)+256&255;return r}function zq(n,e,t){var r=n.length,i=[];i[0]=2;for(var o=0;o<r;o+=1)i[o+1]=n[o]-(t&&t[o]||0)+256&255;return i}function $q(n,e,t){var r=n.length,i=[];i[0]=3;for(var o=0;o<r;o+=1)i[o+1]=n[o]+256-((n[o-e]||0)+(t&&t[o]||0)>>>1)&255;return i}function qq(n,e,t){var r=n.length,i=[];i[0]=4;for(var o=0;o<r;o+=1){var s=Vbe(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);i[o+1]=n[o]-s+256&255}return i}function Vbe(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),i=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=i&&r<=o?n:i<=o?e:t}function Ube(n){var e=n.map(function(t){return t.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function kM(n,e,t){var r=e*t,i=Math.floor(r/8),o=16-(r-8*i+t),s=(1<<t)-1;return Hq(n,i)>>o&s}function Gq(n,e,t,r){var c,u,d,i=t*r,o=Math.floor(i/8),s=16-(i-8*o+r),a=(1<<r)-1,l=(e&a)<<s;c=n,u=o,d=Hq(n,o)&~(a<<s)&65535|l,u+1<c.byteLength?c.setUint16(u,d,!1):c.setUint8(u,d>>8&255)}function Hq(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function Bbe(n){var e=0;if(71!==n[e++]||73!==n[e++]||70!==n[e++]||56!==n[e++]||56!=(n[e++]+1&253)||97!==n[e++])throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=1<<1+(7&i);e++,e++;var a=null,l=null;i>>7&&(a=e,l=s,e+=3*s);var c=!0,u=[],d=0,g=null,p=0,y=null;for(this.width=t,this.height=r;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(11!==n[e]||78==n[e+1]&&69==n[e+2]&&84==n[e+3]&&83==n[e+4]&&67==n[e+5]&&65==n[e+6]&&80==n[e+7]&&69==n[e+8]&&50==n[e+9]&&46==n[e+10]&&48==n[e+11]&&3==n[e+12]&&1==n[e+13]&&0==n[e+16])e+=14,y=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((T=n[e++])>=0))throw Error("Invalid block size");if(0===T)break;e+=T}break;case 249:if(4!==n[e++]||0!==n[e+4])throw new Error("Invalid graphics extension block.");var w=n[e++];d=n[e++]|n[e++]<<8,g=n[e++],1&w||(g=null),p=w>>2&7,e++;break;case 254:for(;;){if(!((T=n[e++])>=0))throw Error("Invalid block size");if(0===T)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var I=n[e++]|n[e++]<<8,A=n[e++]|n[e++]<<8,R=n[e++]|n[e++]<<8,F=n[e++]|n[e++]<<8,L=n[e++],J=L>>6&1,ae=1<<1+(7&L),q=a,P=l,x=!1;L>>7&&(x=!0,q=e,P=ae,e+=3*ae);var B=e;for(e++;;){var T;if(!((T=n[e++])>=0))throw Error("Invalid block size");if(0===T)break;e+=T}u.push({x:I,y:A,width:R,height:F,has_local_palette:x,palette_offset:q,palette_size:P,data_offset:B,data_length:e-B,transparent_index:g,interlaced:!!J,delay:d,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return y},this.frameInfo=function(M){if(M<0||M>=u.length)throw new Error("Frame index out of range.");return u[M]},this.decodeAndBlitFrameBGRA=function(M,N){var te=this.frameInfo(M),_e=te.width*te.height,Ae=new Uint8Array(_e);Wq(n,te.data_offset,Ae,_e);var Ee=te.palette_offset,me=te.transparent_index;null===me&&(me=256);var Te=te.width,We=t-Te,Fe=Te,j=4*(te.y*t+te.x),K=4*((te.y+te.height)*t+te.x),ee=j,ie=4*We;!0===te.interlaced&&(ie+=4*t*7);for(var ue=8,fe=0,be=Ae.length;fe<be;++fe){var Ce=Ae[fe];if(0===Fe&&(Fe=Te,(ee+=ie)>=K&&(ie=4*We+4*t*(ue-1),ee=j+(Te+We)*(ue<<1),ue>>=1)),Ce===me)ee+=4;else{var Ne=n[Ee+3*Ce],Pe=n[Ee+3*Ce+1];N[ee++]=n[Ee+3*Ce+2],N[ee++]=Pe,N[ee++]=Ne,N[ee++]=255}--Fe}},this.decodeAndBlitFrameRGBA=function(M,N){var te=this.frameInfo(M),_e=te.width*te.height,Ae=new Uint8Array(_e);Wq(n,te.data_offset,Ae,_e);var Ee=te.palette_offset,me=te.transparent_index;null===me&&(me=256);var Te=te.width,We=t-Te,Fe=Te,j=4*(te.y*t+te.x),K=4*((te.y+te.height)*t+te.x),ee=j,ie=4*We;!0===te.interlaced&&(ie+=4*t*7);for(var ue=8,fe=0,be=Ae.length;fe<be;++fe){var Ce=Ae[fe];if(0===Fe&&(Fe=Te,(ee+=ie)>=K&&(ie=4*We+4*t*(ue-1),ee=j+(Te+We)*(ue<<1),ue>>=1)),Ce===me)ee+=4;else{var Pe=n[Ee+3*Ce+1],Je=n[Ee+3*Ce+2];N[ee++]=n[Ee+3*Ce],N[ee++]=Pe,N[ee++]=Je,N[ee++]=255}--Fe}}}function Wq(n,e,t,r){for(var i=n[e++],o=1<<i,s=o+1,a=s+1,l=i+1,c=(1<<l)-1,u=0,d=0,g=0,p=n[e++],y=new Int32Array(4096),w=null;;){for(;u<16&&0!==p;)d|=n[e++]<<u,u+=8,1===p?p=n[e++]:--p;if(u<l)break;var I=d&c;if(d>>=l,u-=l,I!==o){if(I===s)break;for(var A=I<a?I:w,R=0,F=A;F>o;)F=y[F]>>8,++R;var L=F;if(g+R+(A!==I?1:0)>r)return void lr.log("Warning, gif stream longer than expected.");t[g++]=L;var J=g+=R;for(A!==I&&(t[g++]=L),F=A;R--;)t[--J]=255&(F=y[F]),F>>=8;null!==w&&a<4096&&(y[a++]=w<<8|L,a>=c+1&&l<12&&(++l,c=c<<1|1)),w=I}else a=s+1,c=(1<<(l=i+1))-1,w=null}return g!==r&&lr.log("Warning, gif stream shorter than expected."),t}function OM(n){var e,t,r,i,o,s=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),g=new Array(65535),p=new Array(64),y=new Array(64),w=[],I=0,A=7,R=new Array(64),F=new Array(64),L=new Array(64),J=new Array(256),ae=new Array(2048),q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],x=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],_e=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ae(j,K){for(var ee=0,ie=0,ue=new Array,fe=1;fe<=16;fe++){for(var be=1;be<=j[fe];be++)ue[K[ie]]=[],ue[K[ie]][0]=ee,ue[K[ie]][1]=fe,ie++,ee++;ee*=2}return ue}function Ee(j){for(var K=j[0],ee=j[1]-1;ee>=0;)K&1<<ee&&(I|=1<<A),ee--,--A<0&&(255==I?(me(255),me(0)):me(I),A=7,I=0)}function me(j){w.push(j)}function Te(j){me(j>>8&255),me(255&j)}function We(j,K,ee,ie,ue){for(var fe,be=ue[0],Ce=ue[240],Ne=function(Ge,vt){var tt,qt,At,un,Rt,Ft,Yt,wt,_t,kt,It=0;for(_t=0;_t<8;++_t){var Bn=(tt=Ge[It])+(wt=Ge[It+7]),pn=tt-wt,Ke=(qt=Ge[It+1])+(Yt=Ge[It+6]),St=qt-Yt,Zt=(At=Ge[It+2])+(Ft=Ge[It+5]),Dt=At-Ft,rn=(un=Ge[It+3])+(Rt=Ge[It+4]),Ct=un-Rt,zn=Bn+rn,Tr=Bn-rn,En=Ke+Zt,Ot=Ke-Zt;Ge[It]=zn+En,Ge[It+4]=zn-En;var vn=.707106781*(Ot+Tr);Ge[It+2]=Tr+vn,Ge[It+6]=Tr-vn;var ao=.382683433*((zn=Ct+Dt)-(Ot=St+pn)),ei=.5411961*zn+ao,No=1.306562965*Ot+ao,Hi=.707106781*(En=Dt+St),Mt=pn+Hi,Ia=pn-Hi;Ge[It+5]=Ia+ei,Ge[It+3]=Ia-ei,Ge[It+1]=Mt+No,Ge[It+7]=Mt-No,It+=8}for(It=0,_t=0;_t<8;++_t){var Sr=(tt=Ge[It])+(wt=Ge[It+56]),Jo=tt-wt,Wi=(qt=Ge[It+8])+(Yt=Ge[It+48]),tr=qt-Yt,Ei=(At=Ge[It+16])+(Ft=Ge[It+40]),Ni=At-Ft,Is=(un=Ge[It+24])+(Rt=Ge[It+32]),ql=un-Rt,Gs=Sr+Is,Xo=Sr-Is,Cs=Wi+Ei,es=Wi-Ei;Ge[It]=Gs+Cs,Ge[It+32]=Gs-Cs;var lo=.707106781*(es+Xo);Ge[It+16]=Xo+lo,Ge[It+48]=Xo-lo;var Ro=.382683433*((Gs=ql+Ni)-(es=tr+Jo)),Hs=.5411961*Gs+Ro,Gl=1.306562965*es+Ro,Hl=.707106781*(Cs=Ni+tr),Wl=Jo+Hl,qc=Jo-Hl;Ge[It+40]=qc+Hs,Ge[It+24]=qc-Hs,Ge[It+8]=Wl+Gl,Ge[It+56]=Wl-Gl,It++}for(_t=0;_t<64;++_t)p[_t]=(kt=Ge[_t]*vt[_t])>0?kt+.5|0:kt-.5|0;return p}(j,K),Pe=0;Pe<64;++Pe)y[q[Pe]]=Ne[Pe];var Je=y[0]-ee;ee=y[0],0==Je?Ee(ie[0]):(Ee(ie[g[fe=32767+Je]]),Ee(d[fe]));for(var Ze=63;Ze>0&&0==y[Ze];)Ze--;if(0==Ze)return Ee(be),ee;for(var Se,X=1;X<=Ze;){for(var ln=X;0==y[X]&&X<=Ze;)++X;var $t=X-ln;if($t>=16){Se=$t>>4;for(var Pt=1;Pt<=Se;++Pt)Ee(Ce);$t&=15}Ee(ue[($t<<4)+g[fe=32767+y[X]]]),Ee(d[fe]),X++}return 63!=Ze&&Ee(be),ee}function Fe(j){j=Math.min(Math.max(j,1),100),o!=j&&(function(K){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var ue=s((ee[ie]*K+50)/100);ue=Math.min(Math.max(ue,1),255),a[q[ie]]=ue}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var Ce=s((fe[be]*K+50)/100);Ce=Math.min(Math.max(Ce,1),255),l[q[be]]=Ce}for(var Ne=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,Je=0;Je<8;Je++)for(var Ze=0;Ze<8;Ze++)c[Pe]=1/(a[q[Pe]]*Ne[Je]*Ne[Ze]*8),u[Pe]=1/(l[q[Pe]]*Ne[Je]*Ne[Ze]*8),Pe++}(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),o=j)}this.encode=function(j,K){var qt,At;K&&Fe(K),w=new Array,I=0,A=7,Te(65496),Te(65504),Te(16),me(74),me(70),me(73),me(70),me(0),me(1),me(1),me(0),Te(1),Te(1),me(0),me(0),function(){Te(65499),Te(132),me(0);for(var qt=0;qt<64;qt++)me(a[qt]);me(1);for(var At=0;At<64;At++)me(l[At])}(),qt=j.width,At=j.height,Te(65472),Te(17),me(8),Te(At),Te(qt),me(3),me(1),me(17),me(0),me(2),me(17),me(1),me(3),me(17),me(1),function(){Te(65476),Te(418),me(0);for(var qt=0;qt<16;qt++)me(P[qt+1]);for(var At=0;At<=11;At++)me(x[At]);me(16);for(var un=0;un<16;un++)me(B[un+1]);for(var Rt=0;Rt<=161;Rt++)me(T[Rt]);me(1);for(var Ft=0;Ft<16;Ft++)me(M[Ft+1]);for(var Yt=0;Yt<=11;Yt++)me(N[Yt]);me(17);for(var wt=0;wt<16;wt++)me(te[wt+1]);for(var _t=0;_t<=161;_t++)me(_e[_t])}(),Te(65498),Te(12),me(3),me(1),me(0),me(2),me(17),me(3),me(17),me(0),me(63),me(0);var ee=0,ie=0,ue=0;I=0,A=7,this.encode.displayName="_encode_";for(var fe,be,Ce,Ne,Pe,Je,Ze,Se,X,ln=j.data,Pt=j.height,Ge=4*j.width,vt=0;vt<Pt;){for(fe=0;fe<Ge;){for(Pe=Ge*vt+fe,Ze=-1,Se=0,X=0;X<64;X++)Je=Pe+(Se=X>>3)*Ge+(Ze=4*(7&X)),vt+Se>=Pt&&(Je-=Ge*(vt+1+Se-Pt)),fe+Ze>=Ge&&(Je-=fe+Ze-Ge+4),be=ln[Je++],Ce=ln[Je++],Ne=ln[Je++],R[X]=(ae[be]+ae[Ce+256|0]+ae[Ne+512|0]>>16)-128,F[X]=(ae[be+768|0]+ae[Ce+1024|0]+ae[Ne+1280|0]>>16)-128,L[X]=(ae[be+1280|0]+ae[Ce+1536|0]+ae[Ne+1792|0]>>16)-128;ee=We(R,c,ee,e,r),ie=We(F,u,ie,t,i),ue=We(L,u,ue,t,i),fe+=32}vt+=8}if(A>=0){var tt=[];tt[1]=A+1,tt[0]=(1<<A+1)-1,Ee(tt)}return Te(65497),new Uint8Array(w)},n=n||50,function(){for(var j=String.fromCharCode,K=0;K<256;K++)J[K]=j(K)}(),e=Ae(P,x),t=Ae(M,N),r=Ae(B,T),i=Ae(te,_e),function(){for(var j=1,K=2,ee=1;ee<=15;ee++){for(var ie=j;ie<K;ie++)g[32767+ie]=ee,d[32767+ie]=[],d[32767+ie][1]=ee,d[32767+ie][0]=ie;for(var ue=-(K-1);ue<=-j;ue++)g[32767+ue]=ee,d[32767+ue]=[],d[32767+ue][1]=ee,d[32767+ue][0]=K-1+ue;j<<=1,K<<=1}}(),function(){for(var j=0;j<256;j++)ae[j]=19595*j,ae[j+256|0]=38470*j,ae[j+512|0]=7471*j+32768,ae[j+768|0]=-11059*j,ae[j+1024|0]=-21709*j,ae[j+1280|0]=32768*j+8421375,ae[j+1536|0]=-27439*j,ae[j+1792|0]=-5329*j}(),Fe(n)}function Wa(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Kq(n){function e(x){if(!x)throw Error("assert :P")}function t(x,B,T){for(var M=0;4>M;M++)if(x[B+M]!=T.charCodeAt(M))return!0;return!1}function r(x,B,T,M,N){for(var te=0;te<N;te++)x[B+te]=T[M+te]}function i(x,B,T,M){for(var N=0;N<M;N++)x[B+N]=T}function o(x){return new Int32Array(x)}function s(x,B){for(var T=[],M=0;M<x;M++)T.push(new B);return T}function a(x,B){var T=[];return function M(N,te,_e){for(var Ae=_e[te],Ee=0;Ee<Ae&&(N.push(_e.length>te+1?[]:new B),!(_e.length<te+1));Ee++)M(N[Ee],te+1,_e)}(T,0,x),T}var l=function(){var x=this;function B(h,m){for(var v=1<<m-1>>>0;h&v;)v>>>=1;return v?(h&v-1)+v:h}function T(h,m,v,C,O){e(!(C%v));do{h[m+(C-=v)]=O}while(0<C)}function M(h,m,v,C,O){if(e(2328>=O),512>=O)var V=o(512);else if(null==(V=o(O)))return 0;return function(z,H,W,Y,oe,ye){var Z,ce,pe=H,Me=1<<W,ve=o(16),ke=o(16);for(e(0!=oe),e(null!=Y),e(null!=z),e(0<W),ce=0;ce<oe;++ce){if(15<Y[ce])return 0;++ve[Y[ce]]}if(ve[0]==oe)return 0;for(ke[1]=0,Z=1;15>Z;++Z){if(ve[Z]>1<<Z)return 0;ke[Z+1]=ke[Z]+ve[Z]}for(ce=0;ce<oe;++ce)Z=Y[ce],0<Y[ce]&&(ye[ke[Z]++]=ce);if(1==ke[15])return(Y=new N).g=0,Y.value=ye[0],T(z,pe,1,Me,Y),Me;var Oe,He=-1,Be=Me-1,xt=0,dt=1,dn=1,yt=1<<W;for(ce=0,Z=1,oe=2;Z<=W;++Z,oe<<=1){if(dt+=dn<<=1,0>(dn-=ve[Z]))return 0;for(;0<ve[Z];--ve[Z])(Y=new N).g=Z,Y.value=ye[ce++],T(z,pe+xt,oe,yt,Y),xt=B(xt,Z)}for(Z=W+1,oe=2;15>=Z;++Z,oe<<=1){if(dt+=dn<<=1,0>(dn-=ve[Z]))return 0;for(;0<ve[Z];--ve[Z]){if(Y=new N,(xt&Be)!=He){for(pe+=yt,Oe=1<<(He=Z)-W;15>He&&!(0>=(Oe-=ve[He]));)++He,Oe<<=1;Me+=yt=1<<(Oe=He-W),z[H+(He=xt&Be)].g=Oe+W,z[H+He].value=pe-H-He}Y.g=Z-W,Y.value=ye[ce++],T(z,pe+(xt>>W),oe,yt,Y),xt=B(xt,Z)}}return dt!=2*ke[15]-1?0:Me}(h,m,v,C,O,V)}function N(){this.value=this.g=0}function te(){this.value=this.g=0}function _e(){this.G=s(5,N),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(lf,te)}function Ae(h,m,v,C){e(null!=h),e(null!=m),e(2147483648>C),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=m,h.pa=v,h.Jd=m,h.Yc=v+C,h.Zc=4<=C?v+C-4+1:v,be(h)}function Ee(h,m){for(var v=0;0<m--;)v|=Ne(h,128)<<m;return v}function me(h,m){var v=Ee(h,m);return Ce(h)?-v:v}function Te(h,m,v,C){var O,V=0;for(e(null!=h),e(null!=m),e(4294967288>C),h.Sb=C,h.Ra=0,h.u=0,h.h=0,4<C&&(C=4),O=0;O<C;++O)V+=m[v+O]<<8*O;h.Ra=V,h.bb=C,h.oa=m,h.pa=v}function We(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<bd-8>>>0,++h.bb,h.u-=8;ie(h)&&(h.h=1,h.u=0)}function Fe(h,m){if(e(0<=m),!h.h&&m<=Zs){var v=ee(h)&Ys[m];return h.u+=m,We(h),v}return h.h=1,h.u=0}function j(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(h){return h.Ra>>>(h.u&bd-1)>>>0}function ie(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>bd}function ue(h,m){h.u=m,h.h=ie(h)}function fe(h){h.u>=ou&&(e(h.u>=ou),We(h))}function be(h){e(null!=h&&null!=h.oa),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(null!=h&&null!=h.oa),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function Ce(h){return Ee(h,1)}function Ne(h,m){var v=h.Ca;0>h.b&&be(h);var C=h.b,O=v*m>>>8,V=(h.I>>>C>O)+0;for(V?(v-=O,h.I-=O+1<<C>>>0):v=O+1,C=v,O=0;256<=C;)O+=8,C>>=8;return h.b-=C=7^O+wd[C],h.Ca=(v<<C)-1,V}function Pe(h,m,v){h[m+0]=v>>24&255,h[m+1]=v>>16&255,h[m+2]=v>>8&255,h[m+3]=255&v}function Je(h,m){return h[m+0]|h[m+1]<<8}function Ze(h,m){return Je(h,m)|h[m+2]<<16}function Se(h,m){return Je(h,m)|Je(h,m+2)<<16}function X(h,m){var v=1<<m;return e(null!=h),e(0<m),h.X=o(v),null==h.X?0:(h.Mb=32-m,h.Xa=m,1)}function ln(h,m){e(null!=h),e(null!=m),e(h.Xa==m.Xa),r(m.X,0,h.X,0,1<<m.Xa)}function $t(){this.X=[],this.Xa=this.Mb=0}function Pt(h,m,v,C){e(null!=v),e(null!=C);var O=v[0],V=C[0];return 0==O&&(O=(h*V+m/2)/m),0==V&&(V=(m*O+h/2)/h),0>=O||0>=V?0:(v[0]=O,C[0]=V,1)}function Ge(h,m){return h+(1<<m)-1>>>m}function vt(h,m){return((4278255360&h)+(4278255360&m)>>>0&4278255360)+((16711935&h)+(16711935&m)>>>0&16711935)>>>0}function tt(h,m){x[m]=function(v,C,O,V,z,H,W){var Y;for(Y=0;Y<z;++Y){var oe=x[h](H[W+Y-1],O,V+Y);H[W+Y]=vt(v[C+Y],oe)}}}function qt(){this.ud=this.hd=this.jd=0}function At(h,m){return((4278124286&(h^m))>>>1)+(h&m)>>>0}function un(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function Rt(h,m){return un(h+(h-m+.5>>1))}function Ft(h,m,v){return Math.abs(m-v)-Math.abs(h-v)}function Yt(h,m,v,C,O,V,z){for(C=V[z-1],v=0;v<O;++v)V[z+v]=C=vt(h[m+v],C)}function wt(h,m,v,C,O){var V;for(V=0;V<v;++V){var z=h[m+V],H=z>>8&255,W=16711935&(W=(W=16711935&z)+((H<<16)+H));C[O+V]=(4278255360&z)+W>>>0}}function _t(h,m){m.jd=255&h,m.hd=h>>8&255,m.ud=h>>16&255}function kt(h,m,v,C,O,V){var z;for(z=0;z<C;++z){var H=m[v+z],W=H>>>8,Y=H,oe=255&(oe=(oe=H>>>16)+((h.jd<<24>>24)*(W<<24>>24)>>>5));Y=255&(Y=(Y+=(h.hd<<24>>24)*(W<<24>>24)>>>5)+((h.ud<<24>>24)*(oe<<24>>24)>>>5)),O[V+z]=(4278255360&H)+(oe<<16)+Y}}function It(h,m,v,C,O){x[m]=function(V,z,H,W,Y,oe,ye,Z,ce){for(W=ye;W<Z;++W)for(ye=0;ye<ce;++ye)Y[oe++]=O(H[C(V[z++])])},x[h]=function(V,z,H,W,Y,oe,ye){var Z=8>>V.b,ce=V.Ea,pe=V.K[0],Me=V.w;if(8>Z)for(V=(1<<V.b)-1,Me=(1<<Z)-1;z<H;++z){var ve,ke=0;for(ve=0;ve<ce;++ve)ve&V||(ke=C(W[Y++])),oe[ye++]=O(pe[ke&Me]),ke>>=Z}else x["VP8LMapColor"+v](W,Y,pe,Me,oe,ye,z,H,ce)}}function Bn(h,m,v,C,O){for(v=m+v;m<v;){var V=h[m++];C[O++]=V>>16&255,C[O++]=V>>8&255,C[O++]=255&V}}function pn(h,m,v,C,O){for(v=m+v;m<v;){var V=h[m++];C[O++]=V>>16&255,C[O++]=V>>8&255,C[O++]=255&V,C[O++]=V>>24&255}}function Ke(h,m,v,C,O){for(v=m+v;m<v;){var V=(z=h[m++])>>16&240|z>>12&15,z=240&z|z>>28&15;C[O++]=V,C[O++]=z}}function St(h,m,v,C,O){for(v=m+v;m<v;){var V=(z=h[m++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;C[O++]=V,C[O++]=z}}function Zt(h,m,v,C,O){for(v=m+v;m<v;){var V=h[m++];C[O++]=255&V,C[O++]=V>>8&255,C[O++]=V>>16&255}}function Dt(h,m,v,C,O,V){if(0==V)for(v=m+v;m<v;)Pe(C,((V=h[m++])[0]>>24|V[1]>>8&65280|V[2]<<8&16711680|V[3]<<24)>>>0),O+=32;else r(C,O,h,m,v)}function rn(h,m){x[m][0]=x[h+"0"],x[m][1]=x[h+"1"],x[m][2]=x[h+"2"],x[m][3]=x[h+"3"],x[m][4]=x[h+"4"],x[m][5]=x[h+"5"],x[m][6]=x[h+"6"],x[m][7]=x[h+"7"],x[m][8]=x[h+"8"],x[m][9]=x[h+"9"],x[m][10]=x[h+"10"],x[m][11]=x[h+"11"],x[m][12]=x[h+"12"],x[m][13]=x[h+"13"],x[m][14]=x[h+"0"],x[m][15]=x[h+"0"]}function Ct(h){return h==JM||h==XM||h==Fw||h==eN}function zn(){this.eb=[],this.size=this.A=this.fb=0}function Tr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function En(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new zn,this.f.kb=new Tr,this.sd=null}function Ot(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function vn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ao(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function ei(h,m){var v=h.T,C=m.ba.f.RGBA,O=C.eb,V=C.fb+h.ka*C.A,z=Na[m.ba.S],H=h.y,W=h.O,Y=h.f,oe=h.N,ye=h.ea,Z=h.W,ce=m.cc,pe=m.dc,Me=m.Mc,ve=m.Nc,ke=h.ka,Oe=h.ka+h.T,He=h.U,Be=He+1>>1;for(0==ke?z(H,W,null,null,Y,oe,ye,Z,Y,oe,ye,Z,O,V,null,null,He):(z(m.ec,m.fc,H,W,ce,pe,Me,ve,Y,oe,ye,Z,O,V-C.A,O,V,He),++v);ke+2<Oe;ke+=2)z(H,(W+=2*h.fa)-h.fa,H,W,ce=Y,pe=oe,Me=ye,ve=Z,Y,oe+=h.Rc,ye,Z+=h.Rc,O,(V+=2*C.A)-C.A,O,V,He);return W+=h.fa,h.j+Oe<h.o?(r(m.ec,m.fc,H,W,He),r(m.cc,m.dc,Y,oe,Be),r(m.Mc,m.Nc,ye,Z,Be),v--):1&Oe||z(H,W,null,null,Y,oe,ye,Z,Y,oe,ye,Z,O,V+C.A,null,null,He),v}function No(h,m,v){var C=h.F,O=[h.J];if(null!=C){var V=h.U,z=m.ba.S,H=z==Lw||z==Fw;m=m.ba.f.RGBA;var W=[0],Y=h.ka;W[0]=h.T,h.Kb&&(0==Y?--W[0]:(--Y,O[0]-=h.width),h.j+h.ka+h.T==h.o&&(W[0]=h.o-h.j-Y));var oe=m.eb;h=WG(C,O[0],h.width,V,W,oe,(Y=m.fb+Y*m.A)+(H?0:3),m.A),e(v==W),h&&Ct(z)&&Sv(oe,Y,H,V,W,m.A)}return 0}function Hi(h){var m=h.ma,v=m.ba.S,C=11>v,O=v==kw||v==Ow||v==Lw||v==ZM||12==v||Ct(v);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!iu(m.Oa,h,O?11:12))return 0;if(O&&Ct(v)&&af(),h.da)alert("todo:use_scaling");else{if(C){if(m.Ib=ao,h.Kb){if(m.memory=o(h.U+2*(v=h.U+1>>1)),null==m.memory)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+h.U,m.Mc=m.cc,m.Nc=m.dc+v,m.Ib=ei,af()}}else alert("todo:EmitYUV");O&&(m.Jb=No,C&&co())}if(C&&!uH){for(h=0;256>h;++h)sEe[h]=89858*(h-128)+Uw>>Vw,cEe[h]=-22014*(h-128)+Uw,lEe[h]=-45773*(h-128),aEe[h]=113618*(h-128)+Uw>>Vw;for(h=xv;h<rN;++h)uEe[h-xv]=Nt(m=76283*(h-16)+Uw>>Vw,255),dEe[h-xv]=Nt(m+8>>4,15);uH=1}return 1}function Mt(h){var m=h.ma,v=h.U,C=h.T;return e(!(1&h.ka)),0>=v||0>=C?0:(v=m.Ib(h,m),null!=m.Jb&&m.Jb(h,m,v),m.Dc+=v,1)}function Ia(h){h.ma.memory=null}function Sr(h,m,v,C){return 47!=Fe(h,8)?0:(m[0]=Fe(h,14)+1,v[0]=Fe(h,14)+1,C[0]=Fe(h,1),0!=Fe(h,3)?0:!h.h)}function Jo(h,m){if(4>h)return h+1;var v=h-2>>1;return(2+(1&h)<<v)+Fe(m,v)+1}function Wi(h,m){return 120<m?m-120:1<=(v=((v=HCe[m-1])>>4)*h+(8-(15&v)))?v:1;var v}function tr(h,m,v){var C=ee(v),O=h[m+=255&C].g-8;return 0<O&&(ue(v,v.u+8),C=ee(v),m+=h[m].value,m+=C&(1<<O)-1),ue(v,v.u+h[m].g),h[m].value}function Ei(h,m,v){return v.g+=h.g,v.value+=h.value<<m>>>0,e(8>=v.g),h.g}function Ni(h,m,v){var C=h.xc;return e((m=0==C?0:h.vc[h.md*(v>>C)+(m>>C)])<h.Wb),h.Ya[m]}function Is(h,m,v,C){var O=h.ab,V=h.c*m,z=h.C;m=z+m;var H=v,W=C;for(C=h.Ta,v=h.Ua;0<O--;){var Y=h.gc[O],oe=z,ye=m,Z=H,ce=W,pe=(W=C,H=v,Y.Ea);switch(e(oe<ye),e(ye<=Y.nc),Y.hc){case 2:mi(Z,ce,(ye-oe)*pe,W,H);break;case 0:var Me=oe,ve=ye,ke=W,Oe=H,He=(yt=Y).Ea;0==Me&&(wv(Z,ce,null,null,1,ke,Oe),Yt(Z,ce+1,0,0,He-1,ke,Oe+1),ce+=He,Oe+=He,++Me);for(var Be=1<<yt.b,xt=Be-1,dt=Ge(He,yt.b),dn=yt.K,yt=yt.w+(Me>>yt.b)*dt;Me<ve;){var An=dn,ki=yt,hn=1;for(Hg(Z,ce,ke,Oe-He,1,ke,Oe);hn<He;){var bt=(hn&~xt)+Be;bt>He&&(bt=He),(0,Cv[An[ki++]>>8&15])(Z,ce+ +hn,ke,Oe+hn-He,bt-hn,ke,Oe+hn),hn=bt}ce+=He,Oe+=He,++Me&xt||(yt+=dt)}ye!=Y.nc&&r(W,H-pe,W,H+(ye-oe-1)*pe,pe);break;case 1:for(pe=Z,ve=ce,He=(Z=Y.Ea)-(Oe=Z&~(ke=(ce=1<<Y.b)-1)),Me=Ge(Z,Y.b),Be=Y.K,Y=Y.w+(oe>>Y.b)*Me;oe<ye;){for(xt=Be,dt=Y,dn=new qt,yt=ve+Oe,An=ve+Z;ve<yt;)_t(xt[dt++],dn),Ev(dn,pe,ve,ce,W,H),ve+=ce,H+=ce;ve<An&&(_t(xt[dt++],dn),Ev(dn,pe,ve,He,W,H),ve+=He,H+=He),++oe&ke||(Y+=Me)}break;case 3:if(Z==W&&ce==H&&0<Y.b){for(ve=W,Z=pe=H+(ye-oe)*pe-(Oe=(ye-oe)*Ge(Y.Ea,Y.b)),ce=W,ke=H,Me=[],Oe=(He=Oe)-1;0<=Oe;--Oe)Me[Oe]=ce[ke+Oe];for(Oe=He-1;0<=Oe;--Oe)ve[Z+Oe]=Me[Oe];Pw(Y,oe,ye,W,pe,W,H)}else Pw(Y,oe,ye,Z,ce,W,H)}H=C,W=v}W!=v&&r(C,v,H,W,V)}function ql(h,m){var v=h.V,C=h.Ba+h.c*h.C,O=m-h.C;if(e(m<=h.l.o),e(16>=O),0<O){var V=h.l,z=h.Ta,H=h.Ua,W=V.width;if(Is(h,O,v,C),O=H=[H],e((v=h.C)<(C=m)),e(V.v<V.va),C>V.o&&(C=V.o),v<V.j){var Y=V.j-v;v=V.j,O[0]+=Y*W}if(v>=C?v=0:(O[0]+=4*V.v,V.ka=v-V.j,V.U=V.va-V.v,V.T=C-v,v=1),v){if(H=H[0],11>(v=h.ca).S){var oe=v.f.RGBA,ye=(C=v.S,O=V.U,V=V.T,Y=oe.eb,oe.A),Z=V;for(oe=oe.fb+h.Ma*oe.A;0<Z--;){var ce=z,pe=H,Me=O,ve=Y,ke=oe;switch(C){case Rw:Av(ce,pe,Me,ve,ke);break;case kw:Id(ce,pe,Me,ve,ke);break;case JM:Id(ce,pe,Me,ve,ke),Sv(ve,ke,0,Me,1,0);break;case eH:cf(ce,pe,Me,ve,ke);break;case Ow:Dt(ce,pe,Me,ve,ke,1);break;case XM:Dt(ce,pe,Me,ve,ke,1),Sv(ve,ke,0,Me,1,0);break;case Lw:Dt(ce,pe,Me,ve,ke,0);break;case Fw:Dt(ce,pe,Me,ve,ke,0),Sv(ve,ke,1,Me,1,0);break;case ZM:Cd(ce,pe,Me,ve,ke);break;case eN:Cd(ce,pe,Me,ve,ke),HG(ve,ke,Me,1,0);break;case tH:Ed(ce,pe,Me,ve,ke);break;default:e(0)}H+=W,oe+=ye}h.Ma+=V}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=v.height)}}h.C=m,e(h.C<=h.i)}function Gs(h){var m;if(0<h.ua)return 0;for(m=0;m<h.Wb;++m){var v=h.Ya[m].G,C=h.Ya[m].H;if(0<v[1][C[1]+0].g||0<v[2][C[2]+0].g||0<v[3][C[3]+0].g)return 0}return 1}function Xo(h,m,v,C,O,V){if(0!=h.Z){var z=h.qd,H=h.rd;for(e(null!=Sd[h.Z]);m<v;++m)Sd[h.Z](z,H,C,O,C,O,V),z=C,H=O,O+=V;h.qd=z,h.rd=H}}function Cs(h,m){var v=h.l.ma,C=0==v.Z||1==v.Z?h.l.j:h.C;if(C=h.C<C?C:h.C,e(m<=h.l.o),m>C){var O=h.l.width,V=v.ca,z=v.tb+O*C,H=h.V,W=h.Ba+h.c*C,Y=h.gc;e(1==h.ab),e(3==Y[0].hc),tc(Y[0],C,m,H,W,V,z),Xo(v,C,m,V,z,O)}h.C=h.Ma=m}function es(h,m,v,C,O,V,z){var H=h.$/C,W=h.$%C,Y=h.m,oe=h.s,ye=v+h.$,Z=ye;O=v+C*O;var ce=v+C*V,pe=280+oe.ua,Me=h.Pb?H:16777216,ve=0<oe.ua?oe.Wa:null,ke=oe.wc,Oe=ye<ce?Ni(oe,W,H):null;e(h.C<V),e(ce<=O);var He=!1;e:for(;;){for(;He||ye<ce;){var Be=0;if(H>=Me){var xt=ye-v;e((Me=h).Pb),Me.wd=Me.m,Me.xd=xt,0<Me.s.ua&&ln(Me.s.Wa,Me.s.vb),Me=H+KCe}if(W&ke||(Oe=Ni(oe,W,H)),e(null!=Oe),Oe.Qb&&(m[ye]=Oe.qb,He=!0),!He)if(fe(Y),Oe.jc){xt=m;var dt=ye,dn=Oe.pd[ee(Be=Y)&lf-1];e(Oe.jc),256>dn.g?(ue(Be,Be.u+dn.g),xt[dt]=dn.value,Be=0):(ue(Be,Be.u+dn.g-256),e(256<=dn.value),Be=dn.value),0==Be&&(He=!0)}else Be=tr(Oe.G[0],Oe.H[0],Y);if(Y.h)break;if(He||256>Be){if(!He)if(Oe.nd)m[ye]=(Oe.qb|Be<<8)>>>0;else{if(fe(Y),He=tr(Oe.G[1],Oe.H[1],Y),fe(Y),xt=tr(Oe.G[2],Oe.H[2],Y),dt=tr(Oe.G[3],Oe.H[3],Y),Y.h)break;m[ye]=(dt<<24|He<<16|Be<<8|xt)>>>0}if(He=!1,++ye,++W>=C&&(W=0,++H,null!=z&&H<=V&&!(H%16)&&z(h,H),null!=ve))for(;Z<ye;)Be=m[Z++],ve.X[(506832829*Be&4294967295)>>>ve.Mb]=Be}else if(280>Be){if(Be=Jo(Be-256,Y),xt=tr(Oe.G[4],Oe.H[4],Y),fe(Y),xt=Wi(C,xt=Jo(xt,Y)),Y.h)break;if(ye-v<xt||O-ye<Be)break e;for(dt=0;dt<Be;++dt)m[ye+dt]=m[ye+dt-xt];for(ye+=Be,W+=Be;W>=C;)W-=C,++H,null!=z&&H<=V&&!(H%16)&&z(h,H);if(e(ye<=O),W&ke&&(Oe=Ni(oe,W,H)),null!=ve)for(;Z<ye;)Be=m[Z++],ve.X[(506832829*Be&4294967295)>>>ve.Mb]=Be}else{if(!(Be<pe))break e;for(He=Be-280,e(null!=ve);Z<ye;)Be=m[Z++],ve.X[(506832829*Be&4294967295)>>>ve.Mb]=Be;Be=ye,e(!(He>>>(xt=ve).Xa)),m[Be]=xt.X[He],He=!0}He||e(Y.h==ie(Y))}if(h.Pb&&Y.h&&ye<O)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&ln(h.s.vb,h.s.Wa);else{if(Y.h)break e;z?.(h,H>V?V:H),h.a=0,h.$=ye-v}return 1}return h.a=3,0}function lo(h){e(null!=h),h.vc=null,h.yc=null,h.Ya=null;var m=h.Wa;null!=m&&(m.X=null),h.vb=null,e(null!=h)}function Ro(){var h=new gt;return null==h?null:(h.a=0,h.xb=iH,rn("Predictor","VP8LPredictors"),rn("Predictor","VP8LPredictors_C"),rn("PredictorAdd","VP8LPredictorsAdd"),rn("PredictorAdd","VP8LPredictorsAdd_C"),mi=wt,Ev=kt,Av=Bn,Id=pn,Cd=Ke,Ed=St,cf=Zt,x.VP8LMapColor32b=ec,x.VP8LMapColor8b=Iv,h)}function Hs(h,m,v,C,O){var V=1,z=[h],H=[m],W=C.m,Y=C.s,oe=null,ye=0;e:for(;;){if(v)for(;V&&Fe(W,1);){var Z=z,ce=H,pe=C,Me=1,ve=pe.m,ke=pe.gc[pe.ab],Oe=Fe(ve,2);if(pe.Oc&1<<Oe)V=0;else{switch(pe.Oc|=1<<Oe,ke.hc=Oe,ke.Ea=Z[0],ke.nc=ce[0],ke.K=[null],++pe.ab,e(4>=pe.ab),Oe){case 0:case 1:ke.b=Fe(ve,3)+2,Me=Hs(Ge(ke.Ea,ke.b),Ge(ke.nc,ke.b),0,pe,ke.K),ke.K=ke.K[0];break;case 3:var He,Be=Fe(ve,8)+1,xt=16<Be?0:4<Be?1:2<Be?2:3;if(Z[0]=Ge(ke.Ea,xt),ke.b=xt,He=Me=Hs(Be,1,0,pe,ke.K)){var dt,dn=Be,yt=ke,An=1<<(8>>yt.b),ki=o(An);if(null==ki)He=0;else{var hn=yt.K[0],bt=yt.w;for(ki[0]=yt.K[0][0],dt=1;dt<1*dn;++dt)ki[dt]=vt(hn[bt+dt],ki[dt-1]);for(;dt<4*An;++dt)ki[dt]=0;yt.K[0]=null,yt.K[0]=ki,He=1}}Me=He;break;case 2:break;default:e(0)}V=Me}}if(z=z[0],H=H[0],V&&Fe(W,1)&&!(V=1<=(ye=Fe(W,4))&&11>=ye)){C.a=3;break e}var nt;if(nt=V)t:{var vi,on,Mn,Dr=C,uo=z,ts=H,ni=ye,Lo=v,ns=Dr.m,Oi=Dr.s,Rn=[null],Jn=1,ri=0,Xn=WCe[ni];n:for(;;){if(Lo&&Fe(ns,1)){var ho=Fe(ns,3)+2,ol=Ge(uo,ho),yi=Ge(ts,ho),Ds=ol*yi;if(!Hs(ol,yi,0,Dr,Rn))break n;for(Rn=Rn[0],Oi.xc=ho,vi=0;vi<Ds;++vi){var ur=Rn[vi]>>8&65535;Rn[vi]=ur,ur>=Jn&&(Jn=ur+1)}}if(ns.h)break n;for(on=0;5>on;++on){var Li=nH[on];!on&&0<ni&&(Li+=1<<ni),ri<Li&&(ri=Li)}var Xs=s(Jn*Xn,N),rs=Jn,ea=s(rs,_e);if(null==ea)var ta=null;else e(65536>=rs),ta=ea;var xs=o(ri);if(null==ta||null==xs||null==Xs){Dr.a=1;break n}var na=Xs;for(vi=Mn=0;vi<Jn;++vi){var yr=ta[vi],ra=yr.G,sl=yr.H,df=0,lu=1,fo=0;for(on=0;5>on;++on){Li=nH[on],ra[on]=na,sl[on]=Mn,!on&&0<ni&&(Li+=1<<ni);i:{var jw,iN=Li,zw=Dr,Pv=xs,pEe=na,gEe=Mn,oN=0,Dd=zw.m,mEe=Fe(Dd,1);if(i(Pv,0,0,iN),mEe){var _Ee=Fe(Dd,1)+1,vEe=Fe(Dd,1),fH=Fe(Dd,0==vEe?1:8);Pv[fH]=1,2==_Ee&&(Pv[fH=Fe(Dd,8)]=1);var $w=1}else{var pH=o(19),gH=Fe(Dd,4)+4;if(19<gH){zw.a=3;var qw=0;break i}for(jw=0;jw<gH;++jw)pH[GCe[jw]]=Fe(Dd,3);var sN=void 0,Mv=void 0,mH=zw,yEe=pH,Gw=iN,_H=Pv,aN=0,xd=mH.m,vH=8,yH=s(128,N);r:for(;M(yH,0,7,yEe,19);){if(Fe(xd,1)){var bEe=2+2*Fe(xd,3);if((sN=2+Fe(xd,bEe))>Gw)break r}else sN=Gw;for(Mv=0;Mv<Gw&&sN--;){fe(xd);var bH=yH[0+(127&ee(xd))];ue(xd,xd.u+bH.g);var Kg=bH.value;if(16>Kg)_H[Mv++]=Kg,0!=Kg&&(vH=Kg);else{var wEe=16==Kg,wH=Kg-16,IEe=$Ce[wH],IH=Fe(xd,zCe[wH])+IEe;if(Mv+IH>Gw)break r;for(var CEe=wEe?vH:0;0<IH--;)_H[Mv++]=CEe}}aN=1;break r}aN||(mH.a=3),$w=aN}($w=$w&&!Dd.h)&&(oN=M(pEe,gEe,8,Pv,iN)),$w&&0!=oN?qw=oN:(zw.a=3,qw=0)}if(0==qw)break n;if(lu&&1==qCe[on]&&(lu=0==na[Mn].g),df+=na[Mn].g,Mn+=qw,3>=on){var Nv,lN=xs[0];for(Nv=1;Nv<Li;++Nv)xs[Nv]>lN&&(lN=xs[Nv]);fo+=lN}}if(yr.nd=lu,yr.Qb=0,lu&&(yr.qb=(ra[3][sl[3]+0].value<<24|ra[1][sl[1]+0].value<<16|ra[2][sl[2]+0].value)>>>0,0==df&&256>ra[0][sl[0]+0].value&&(yr.Qb=1,yr.qb+=ra[0][sl[0]+0].value<<8)),yr.jc=!yr.Qb&&6>fo,yr.jc){var Hw,cu=yr;for(Hw=0;Hw<lf;++Hw){var Pd=Hw,Md=cu.pd[Pd],Ww=cu.G[0][cu.H[0]+Pd];256<=Ww.value?(Md.g=Ww.g+256,Md.value=Ww.value):(Md.g=0,Md.value=0,Pd>>=Ei(Ww,8,Md),Pd>>=Ei(cu.G[1][cu.H[1]+Pd],16,Md),Pd>>=Ei(cu.G[2][cu.H[2]+Pd],0,Md),Ei(cu.G[3][cu.H[3]+Pd],24,Md))}}}Oi.vc=Rn,Oi.Wb=Jn,Oi.Ya=ta,Oi.yc=Xs,nt=1;break t}nt=0}if(!(V=nt)){C.a=3;break e}if(0<ye){if(Y.ua=1<<ye,!X(Y.Wa,ye)){C.a=1,V=0;break e}}else Y.ua=0;var cN=C,CH=z,EEe=H,uN=cN.s,dN=uN.xc;if(cN.c=CH,cN.i=EEe,uN.md=Ge(CH,dN),uN.wc=0==dN?-1:(1<<dN)-1,v){C.xb=tEe;break e}if(null==(oe=o(z*H))){C.a=1,V=0;break e}V=(V=es(C,oe,0,z,H,H,null))&&!W.h;break e}return V?(null!=O?O[0]=oe:(e(null==oe),e(v)),C.$=0,v||lo(Y)):lo(Y),V}function Gl(h,m){var v=h.c*h.i,C=v+m+16*m;return e(h.c<=m),h.V=o(C),null==h.V?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+v+m,1)}function Hl(h,m){var v=h.C,C=m-v,O=h.V,V=h.Ba+h.c*v;for(e(m<=h.l.o);0<C;){var z=16<C?16:C,H=h.l.ma,W=h.l.width,Y=W*z,oe=H.ca,ye=H.tb+W*v,Z=h.Ta,ce=h.Ua;Is(h,z,O,V),KG(Z,ce,oe,ye,Y),Xo(H,v,v+z,oe,ye,W),C-=z,O+=z*h.c,v+=z}e(v==m),h.C=h.Ma=m}function Wl(){this.ub=this.yd=this.td=this.Rb=0}function qc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function jg(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Qh(){var h;this.Yb=(function m(v,C,O){for(var V=O[C],z=0;z<V&&(v.push(O.length>C+1?[]:0),!(O.length<C+1));z++)m(v[z],C+1,O)}(h=[],0,[3,11]),h)}function Gc(){this.jb=o(3),this.Wc=a([4,8],Qh),this.Xc=a([4,17],Qh)}function Yh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function ko(){this.ld=this.La=this.dd=this.tc=0}function Za(){this.Na=this.la=0}function Ca(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Hc(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function zg(){this.uc=this.M=this.Nb=0,this.wa=Array(new ko),this.Y=0,this.ya=Array(new Hc),this.aa=0,this.l=new Wc}function Zh(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Jh(){this.cb=this.a=0,this.sc="",this.m=new j,this.Od=new Wl,this.Kc=new qc,this.ed=new Yh,this.Qa=new jg,this.Ic=this.$c=this.Aa=0,this.D=new zg,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,j),this.ia=0,this.pb=s(4,Ca),this.Pa=new Gc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Zh),this.Hd=0,this.rb=Array(new Za),this.sb=0,this.wa=Array(new ko),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Hc),this.L=this.aa=0,this.gd=a([4,2],ko),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Wc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xh(){var h=new Jh;return null!=h&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,Dv||(Dv=Ja)),h}function Ur(h,m,v){return 0==h.a&&(h.a=m,h.sc=v,h.cb=0),0}function ef(h,m,v){return 3<=v&&157==h[m+0]&&1==h[m+1]&&42==h[m+2]}function tf(h,m){if(null==h)return 0;if(h.a=0,h.sc="OK",null==m)return Ur(h,2,"null VP8Io passed to VP8GetHeaders()");var v=m.data,C=m.w,O=m.ha;if(4>O)return Ur(h,7,"Truncated header.");var V=v[C+0]|v[C+1]<<8|v[C+2]<<16,z=h.Od;if(z.Rb=!(1&V),z.td=V>>1&7,z.yd=V>>4&1,z.ub=V>>5,3<z.td)return Ur(h,3,"Incorrect keyframe parameters.");if(!z.yd)return Ur(h,4,"Frame not displayable.");C+=3,O-=3;var H=h.Kc;if(z.Rb){if(7>O)return Ur(h,7,"cannot parse picture header");if(!ef(v,C,O))return Ur(h,3,"Bad code word");H.c=16383&(v[C+4]<<8|v[C+3]),H.Td=v[C+4]>>6,H.i=16383&(v[C+6]<<8|v[C+5]),H.Ud=v[C+6]>>6,C+=7,O-=7,h.za=H.c+15>>4,h.Ub=H.i+15>>4,m.width=H.c,m.height=H.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,i((V=h.Pa).jb,0,255,V.jb.length),e(null!=(V=h.Qa)),V.Cb=0,V.Bb=0,V.Fb=1,i(V.Zb,0,0,V.Zb.length),i(V.Lb,0,0,V.Lb)}if(z.ub>O)return Ur(h,7,"bad partition length");Ae(V=h.m,v,C,z.ub),C+=z.ub,O-=z.ub,z.Rb&&(H.Ld=Ce(V),H.Kd=Ce(V)),H=h.Qa;var W,Y=h.Pa;if(e(null!=V),e(null!=H),H.Cb=Ce(V),H.Cb){if(H.Bb=Ce(V),Ce(V)){for(H.Fb=Ce(V),W=0;4>W;++W)H.Zb[W]=Ce(V)?me(V,7):0;for(W=0;4>W;++W)H.Lb[W]=Ce(V)?me(V,6):0}if(H.Bb)for(W=0;3>W;++W)Y.jb[W]=Ce(V)?Ee(V,8):255}else H.Bb=0;if(V.Ka)return Ur(h,3,"cannot parse segment header");if((H=h.ed).zd=Ce(V),H.Tb=Ee(V,6),H.wb=Ee(V,3),H.Pc=Ce(V),H.Pc&&Ce(V)){for(Y=0;4>Y;++Y)Ce(V)&&(H.vd[Y]=me(V,6));for(Y=0;4>Y;++Y)Ce(V)&&(H.od[Y]=me(V,6))}if(h.L=0==H.Tb?0:H.zd?1:2,V.Ka)return Ur(h,3,"cannot parse filter header");var oe=O;if(O=W=C,C=W+oe,H=oe,h.Xb=(1<<Ee(h.m,2))-1,oe<3*(Y=h.Xb))v=7;else{for(W+=3*Y,H-=3*Y,oe=0;oe<Y;++oe){var ye=v[O+0]|v[O+1]<<8|v[O+2]<<16;ye>H&&(ye=H),Ae(h.Jc[+oe],v,W,ye),W+=ye,H-=ye,O+=3}Ae(h.Jc[+Y],v,W,H),v=W<C?0:5}if(0!=v)return Ur(h,v,"cannot parse partitions");for(v=Ee(W=h.m,7),O=Ce(W)?me(W,4):0,C=Ce(W)?me(W,4):0,H=Ce(W)?me(W,4):0,Y=Ce(W)?me(W,4):0,W=Ce(W)?me(W,4):0,oe=h.Qa,ye=0;4>ye;++ye){if(oe.Cb){var Z=oe.Zb[ye];oe.Fb||(Z+=v)}else{if(0<ye){h.pb[ye]=h.pb[0];continue}Z=v}var ce=h.pb[ye];ce.Sc[0]=tN[Nt(Z+O,127)],ce.Sc[1]=nN[Nt(Z+0,127)],ce.Eb[0]=2*tN[Nt(Z+C,127)],ce.Eb[1]=101581*nN[Nt(Z+H,127)]>>16,8>ce.Eb[1]&&(ce.Eb[1]=8),ce.Qc[0]=tN[Nt(Z+Y,117)],ce.Qc[1]=nN[Nt(Z+W,127)],ce.lc=Z+W}if(!z.Rb)return Ur(h,4,"Not a key frame.");for(Ce(V),z=h.Pa,v=0;4>v;++v){for(O=0;8>O;++O)for(C=0;3>C;++C)for(H=0;11>H;++H)Y=Ne(V,XCe[v][O][C][H])?Ee(V,8):ZCe[v][O][C][H],z.Wc[v][O].Yb[C][H]=Y;for(O=0;17>O;++O)z.Xc[v][O]=z.Wc[v][eEe[O]]}return h.kc=Ce(V),h.kc&&(h.Bd=Ee(V,8)),h.cb=1}function Ja(h,m,v,C,O,V,z){var H=m[O].Yb[v];for(v=0;16>O;++O){if(!Ne(h,H[v+0]))return O;for(;!Ne(h,H[v+1]);)if(H=m[++O].Yb[0],v=0,16==O)return 16;var W=m[O+1].Yb;if(Ne(h,H[v+2])){var Y=h,oe=0;if(Ne(Y,(Z=H)[(ye=v)+3]))if(Ne(Y,Z[ye+6])){for(H=0,ye=2*(oe=Ne(Y,Z[ye+8]))+(Z=Ne(Y,Z[ye+9+oe])),oe=0,Z=QCe[ye];Z[H];++H)oe+=oe+Ne(Y,Z[H]);oe+=3+(8<<ye)}else Ne(Y,Z[ye+7])?(oe=7+2*Ne(Y,165),oe+=Ne(Y,145)):oe=5+Ne(Y,159);else oe=Ne(Y,Z[ye+4])?3+Ne(Y,Z[ye+5]):2;H=W[2]}else oe=1,H=W[1];W=z+YCe[O],0>(Y=h).b&&be(Y);var ye,Z=Y.b,ce=(ye=Y.Ca>>1)-(Y.I>>Z)>>31;--Y.b,Y.Ca+=ce,Y.Ca|=1,Y.I-=(ye+1&ce)<<Z,V[W]=((oe^ce)-ce)*C[(0<O)+0]}return 16}function Kc(h){var m=h.rb[h.sb-1];m.la=0,m.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function Es(h,m,v,C,O){h[m+v+32*C]=-256&(O=h[m+v+32*C]+(O>>3))?0>O?0:255:O}function Kl(h,m,v,C,O,V){Es(h,m,0,v,C+O),Es(h,m,1,v,C+V),Es(h,m,2,v,C-V),Es(h,m,3,v,C-O)}function qr(h){return(20091*h>>16)+h}function Ws(h,m,v,C){var O,V=0,z=o(16);for(O=0;4>O;++O){var H=h[m+0]+h[m+8],W=h[m+0]-h[m+8],Y=(35468*h[m+4]>>16)-qr(h[m+12]),oe=qr(h[m+4])+(35468*h[m+12]>>16);z[V+0]=H+oe,z[V+1]=W+Y,z[V+2]=W-Y,z[V+3]=H-oe,V+=4,m++}for(O=V=0;4>O;++O)H=(h=z[V+0]+4)+z[V+8],W=h-z[V+8],Y=(35468*z[V+4]>>16)-qr(z[V+12]),Es(v,C,0,0,H+(oe=qr(z[V+4])+(35468*z[V+12]>>16))),Es(v,C,1,0,W+Y),Es(v,C,2,0,W-Y),Es(v,C,3,0,H-oe),V++,C+=32}function Ks(h,m,v,C){var O=h[m+0]+4,V=35468*h[m+4]>>16,z=qr(h[m+4]),H=35468*h[m+1]>>16;Kl(v,C,0,O+z,h=qr(h[m+1]),H),Kl(v,C,1,O+V,h,H),Kl(v,C,2,O-V,h,H),Kl(v,C,3,O-z,h,H)}function pd(h,m,v,C,O){Ws(h,m,v,C),O&&Ws(h,m+16,v,C+4)}function gd(h,m,v,C){uf(h,m+0,v,C,1),uf(h,m+32,v,C+128,1)}function Qs(h,m,v,C){var O;for(h=h[m+0]+4,O=0;4>O;++O)for(m=0;4>m;++m)Es(v,C,m,O,h)}function $n(h,m,v,C){h[m+0]&&qn(h,m+0,v,C),h[m+16]&&qn(h,m+16,v,C+4),h[m+32]&&qn(h,m+32,v,C+128),h[m+48]&&qn(h,m+48,v,C+128+4)}function Qc(h,m,v,C){var O,V=o(16);for(O=0;4>O;++O){var z=h[m+0+O]+h[m+12+O],H=h[m+4+O]+h[m+8+O],W=h[m+4+O]-h[m+8+O],Y=h[m+0+O]-h[m+12+O];V[0+O]=z+H,V[8+O]=z-H,V[4+O]=Y+W,V[12+O]=Y-W}for(O=0;4>O;++O)z=(h=V[0+4*O]+3)+V[3+4*O],W=V[1+4*O]-V[2+4*O],Y=h-V[3+4*O],v[C+0]=z+(H=V[1+4*O]+V[2+4*O])>>3,v[C+16]=Y+W>>3,v[C+32]=z-H>>3,v[C+48]=Y-W>>3,C+=64}function As(h,m,v){var C,O=m-32,V=Js,z=255-h[O-1];for(C=0;C<v;++C){var H,W=V,Y=z+h[m-1];for(H=0;H<v;++H)h[m+H]=W[Y+h[O+H]];m+=32}}function Xa(h,m){As(h,m,4)}function pv(h,m){As(h,m,8)}function $g(h,m){As(h,m,16)}function gv(h,m){var v;for(v=0;16>v;++v)r(h,m+32*v,h,m-32,16)}function nf(h,m){var v;for(v=16;0<v;--v)i(h,m,h[m-1],16),m+=32}function Yc(h,m,v){var C;for(C=0;16>C;++C)i(m,v+32*C,h,16)}function Ql(h,m){var v,C=16;for(v=0;16>v;++v)C+=h[m-1+32*v]+h[m+v-32];Yc(C>>5,h,m)}function Zc(h,m){var v,C=8;for(v=0;16>v;++v)C+=h[m-1+32*v];Yc(C>>4,h,m)}function Oo(h,m){var v,C=8;for(v=0;16>v;++v)C+=h[m+v-32];Yc(C>>4,h,m)}function md(h,m){Yc(128,h,m)}function Gt(h,m,v){return h+2*m+v+2>>2}function qg(h,m){var v,C=m-32;for(C=new Uint8Array([Gt(h[C-1],h[C+0],h[C+1]),Gt(h[C+0],h[C+1],h[C+2]),Gt(h[C+1],h[C+2],h[C+3]),Gt(h[C+2],h[C+3],h[C+4])]),v=0;4>v;++v)r(h,m+32*v,C,0,C.length)}function Yl(h,m){var v=h[m-1],C=h[m-1+32],O=h[m-1+64],V=h[m-1+96];Pe(h,m+0,16843009*Gt(h[m-1-32],v,C)),Pe(h,m+32,16843009*Gt(v,C,O)),Pe(h,m+64,16843009*Gt(C,O,V)),Pe(h,m+96,16843009*Gt(O,V,V))}function mv(h,m){var v,C=4;for(v=0;4>v;++v)C+=h[m+v-32]+h[m-1+32*v];for(C>>=3,v=0;4>v;++v)i(h,m+32*v,C,4)}function _v(h,m){var v=h[m-1+0],C=h[m-1+32],O=h[m-1+64],V=h[m-1-32],z=h[m+0-32],H=h[m+1-32],W=h[m+2-32],Y=h[m+3-32];h[m+0+96]=Gt(C,O,h[m-1+96]),h[m+1+96]=h[m+0+64]=Gt(v,C,O),h[m+2+96]=h[m+1+64]=h[m+0+32]=Gt(V,v,C),h[m+3+96]=h[m+2+64]=h[m+1+32]=h[m+0+0]=Gt(z,V,v),h[m+3+64]=h[m+2+32]=h[m+1+0]=Gt(H,z,V),h[m+3+32]=h[m+2+0]=Gt(W,H,z),h[m+3+0]=Gt(Y,W,H)}function el(h,m){var v=h[m+1-32],C=h[m+2-32],O=h[m+3-32],V=h[m+4-32],z=h[m+5-32],H=h[m+6-32],W=h[m+7-32];h[m+0+0]=Gt(h[m+0-32],v,C),h[m+1+0]=h[m+0+32]=Gt(v,C,O),h[m+2+0]=h[m+1+32]=h[m+0+64]=Gt(C,O,V),h[m+3+0]=h[m+2+32]=h[m+1+64]=h[m+0+96]=Gt(O,V,z),h[m+3+32]=h[m+2+64]=h[m+1+96]=Gt(V,z,H),h[m+3+64]=h[m+2+96]=Gt(z,H,W),h[m+3+96]=Gt(H,W,W)}function Ki(h,m){var v=h[m-1+0],C=h[m-1+32],O=h[m-1+64],V=h[m-1-32],z=h[m+0-32],H=h[m+1-32],W=h[m+2-32],Y=h[m+3-32];h[m+0+0]=h[m+1+64]=V+z+1>>1,h[m+1+0]=h[m+2+64]=z+H+1>>1,h[m+2+0]=h[m+3+64]=H+W+1>>1,h[m+3+0]=W+Y+1>>1,h[m+0+96]=Gt(O,C,v),h[m+0+64]=Gt(C,v,V),h[m+0+32]=h[m+1+96]=Gt(v,V,z),h[m+1+32]=h[m+2+96]=Gt(V,z,H),h[m+2+32]=h[m+3+96]=Gt(z,H,W),h[m+3+32]=Gt(H,W,Y)}function vv(h,m){var v=h[m+0-32],C=h[m+1-32],O=h[m+2-32],V=h[m+3-32],z=h[m+4-32],H=h[m+5-32],W=h[m+6-32],Y=h[m+7-32];h[m+0+0]=v+C+1>>1,h[m+1+0]=h[m+0+64]=C+O+1>>1,h[m+2+0]=h[m+1+64]=O+V+1>>1,h[m+3+0]=h[m+2+64]=V+z+1>>1,h[m+0+32]=Gt(v,C,O),h[m+1+32]=h[m+0+96]=Gt(C,O,V),h[m+2+32]=h[m+1+96]=Gt(O,V,z),h[m+3+32]=h[m+2+96]=Gt(V,z,H),h[m+3+64]=Gt(z,H,W),h[m+3+96]=Gt(H,W,Y)}function yv(h,m){var v=h[m-1+0],C=h[m-1+32],O=h[m-1+64],V=h[m-1+96];h[m+0+0]=v+C+1>>1,h[m+2+0]=h[m+0+32]=C+O+1>>1,h[m+2+32]=h[m+0+64]=O+V+1>>1,h[m+1+0]=Gt(v,C,O),h[m+3+0]=h[m+1+32]=Gt(C,O,V),h[m+3+32]=h[m+1+64]=Gt(O,V,V),h[m+3+64]=h[m+2+64]=h[m+0+96]=h[m+1+96]=h[m+2+96]=h[m+3+96]=V}function Ea(h,m){var v=h[m-1+0],C=h[m-1+32],O=h[m-1+64],V=h[m-1+96],z=h[m-1-32],H=h[m+0-32],W=h[m+1-32],Y=h[m+2-32];h[m+0+0]=h[m+2+32]=v+z+1>>1,h[m+0+32]=h[m+2+64]=C+v+1>>1,h[m+0+64]=h[m+2+96]=O+C+1>>1,h[m+0+96]=V+O+1>>1,h[m+3+0]=Gt(H,W,Y),h[m+2+0]=Gt(z,H,W),h[m+1+0]=h[m+3+32]=Gt(v,z,H),h[m+1+32]=h[m+3+64]=Gt(C,v,z),h[m+1+64]=h[m+3+96]=Gt(O,C,v),h[m+1+96]=Gt(V,O,C)}function Zl(h,m){var v;for(v=0;8>v;++v)r(h,m+32*v,h,m-32,8)}function Jl(h,m){var v;for(v=0;8>v;++v)i(h,m,h[m-1],8),m+=32}function Aa(h,m,v){var C;for(C=0;8>C;++C)i(m,v+32*C,h,8)}function Ta(h,m){var v,C=8;for(v=0;8>v;++v)C+=h[m+v-32]+h[m-1+32*v];Aa(C>>4,h,m)}function Gg(h,m){var v,C=4;for(v=0;8>v;++v)C+=h[m+v-32];Aa(C>>3,h,m)}function Jc(h,m){var v,C=4;for(v=0;8>v;++v)C+=h[m-1+32*v];Aa(C>>3,h,m)}function nr(h,m){Aa(128,h,m)}function Xc(h,m,v){var C=h[m-v],O=h[m+0],V=3*(O-C)+YM[1020+h[m-2*v]-h[m+v]],z=Nw[112+(V+4>>3)];h[m-v]=Js[255+C+Nw[112+(V+3>>3)]],h[m+0]=Js[255+O-z]}function eu(h,m,v,C){return Ma[255+h[m-2*v]-h[m-v]]>C||Ma[255+h[m+v]-h[m+0]]>C}function _d(h,m,v,C){return 4*Ma[255+h[m-v]-h[m+0]]+Ma[255+h[m-2*v]-h[m+v]]<=C}function tu(h,m,v,C,O){var V=h[m-3*v],z=h[m-2*v],H=h[m-v],W=h[m+0],Y=h[m+v],oe=h[m+2*v];return 4*Ma[255+H-W]+Ma[255+z-Y]>C?0:Ma[255+h[m-4*v]-V]<=O&&Ma[255+V-z]<=O&&Ma[255+z-H]<=O&&Ma[255+h[m+3*v]-oe]<=O&&Ma[255+oe-Y]<=O&&Ma[255+Y-W]<=O}function vd(h,m,v,C){var O=2*C+1;for(C=0;16>C;++C)_d(h,m+C,v,O)&&Xc(h,m+C,v)}function Sa(h,m,v,C){var O=2*C+1;for(C=0;16>C;++C)_d(h,m+C*v,1,O)&&Xc(h,m+C*v,1)}function rf(h,m,v,C){var O;for(O=3;0<O;--O)vd(h,m+=4*v,v,C)}function Ts(h,m,v,C){var O;for(O=3;0<O;--O)Sa(h,m+=4,v,C)}function Da(h,m,v,C,O,V,z,H){for(V=2*V+1;0<O--;){if(tu(h,m,v,V,z))if(eu(h,m,v,H))Xc(h,m,v);else{var W=h,Y=m,oe=v,ye=W[Y-2*oe],Z=W[Y-oe],ce=W[Y+0],pe=W[Y+oe],Me=W[Y+2*oe],ve=27*(Oe=YM[1020+3*(ce-Z)+YM[1020+ye-pe]])+63>>7,ke=18*Oe+63>>7,Oe=9*Oe+63>>7;W[Y-3*oe]=Js[255+W[Y-3*oe]+Oe],W[Y-2*oe]=Js[255+ye+ke],W[Y-oe]=Js[255+Z+ve],W[Y+0]=Js[255+ce-ve],W[Y+oe]=Js[255+pe-ke],W[Y+2*oe]=Js[255+Me-Oe]}m+=C}}function tl(h,m,v,C,O,V,z,H){for(V=2*V+1;0<O--;){if(tu(h,m,v,V,z))if(eu(h,m,v,H))Xc(h,m,v);else{var W=h,Y=m,oe=v,ye=W[Y-oe],Z=W[Y+0],ce=W[Y+oe],pe=Nw[112+(4+(Me=3*(Z-ye))>>3)],Me=Nw[112+(Me+3>>3)],ve=pe+1>>1;W[Y-2*oe]=Js[255+W[Y-2*oe]+ve],W[Y-oe]=Js[255+ye+Me],W[Y+0]=Js[255+Z-pe],W[Y+oe]=Js[255+ce-ve]}m+=C}}function Xl(h,m,v,C,O,V){Da(h,m,v,1,16,C,O,V)}function sf(h,m,v,C,O,V){Da(h,m,1,v,16,C,O,V)}function nl(h,m,v,C,O,V){var z;for(z=3;0<z;--z)tl(h,m+=4*v,v,1,16,C,O,V)}function nu(h,m,v,C,O,V){var z;for(z=3;0<z;--z)tl(h,m+=4,1,v,16,C,O,V)}function _(h,m,v,C,O,V,z,H){Da(h,m,O,1,8,V,z,H),Da(v,C,O,1,8,V,z,H)}function k(h,m,v,C,O,V,z,H){Da(h,m,1,O,8,V,z,H),Da(v,C,1,O,8,V,z,H)}function Q(h,m,v,C,O,V,z,H){tl(h,m+4*O,O,1,8,V,z,H),tl(v,C+4*O,O,1,8,V,z,H)}function re(h,m,v,C,O,V,z,H){tl(h,m+4,1,O,8,V,z,H),tl(v,C+4,1,O,8,V,z,H)}function he(){this.ba=new En,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new vn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Re(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ue(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function at(){this.ua=0,this.Wa=new $t,this.vb=new $t,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new _e,this.yc=new N}function gt(){this.xb=this.a=0,this.l=new Wc,this.ca=new En,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new at,this.ab=0,this.gc=s(4,Ue),this.Oc=0}function Vt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Wc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ut(h,m,v,C,O,V,z){for(h=null==h?0:h[m+0],m=0;m<z;++m)O[V+m]=h+v[C+m]&255,h=O[V+m]}function Pn(h,m,v,C,O,V,z){var H;if(null==h)Ut(null,null,v,C,O,V,z);else for(H=0;H<z;++H)O[V+H]=h[m+H]+v[C+H]&255}function _r(h,m,v,C,O,V,z){if(null==h)Ut(null,null,v,C,O,V,z);else{var H,W=h[m+0],Y=W,oe=W;for(H=0;H<z;++H)Y=oe+(W=h[m+H])-Y,oe=v[C+H]+(-256&Y?0>Y?0:255:Y)&255,Y=W,O[V+H]=oe}}function rr(h,m,v,C){var O=m.width,V=m.o;if(e(null!=h&&null!=m),0>v||0>=C||v+C>V)return null;if(!h.Cc){if(null==h.ga){var z;if(h.ga=new Vt,(z=null==h.ga)||(z=m.width*m.o,e(0==h.Gb.length),h.Gb=o(z),h.Uc=0,null==h.Gb?z=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,z=1),z=!z),!z){var H=h.Fa,W=h.P,Y=h.qc,oe=h.mb,ye=h.nb,Z=W+1,ce=Y-1,pe=(z=h.ga).l;if(e(null!=H&&null!=oe&&null!=m),Sd[0]=null,Sd[1]=Ut,Sd[2]=Pn,Sd[3]=_r,z.ca=oe,z.tb=ye,z.c=m.width,z.i=m.height,e(0<z.c&&0<z.i),1>=Y)m=0;else if(z.$a=3&H[W+0],z.Z=H[W+0]>>2&3,z.Lc=H[W+0]>>4&3,W=H[W+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||W)m=0;else if(pe.put=Mt,pe.ac=Hi,pe.bc=Ia,pe.ma=z,pe.width=m.width,pe.height=m.height,pe.Da=m.Da,pe.v=m.v,pe.va=m.va,pe.j=m.j,pe.o=m.o,z.$a)e:{e(1==z.$a),m=Ro();t:for(;;){if(null==m){m=0;break e}if(e(null!=z),z.mc=m,m.c=z.c,m.i=z.i,m.l=z.l,m.l.ma=z,m.l.width=z.c,m.l.height=z.i,m.a=0,Te(m.m,H,Z,ce),!Hs(z.c,z.i,1,m,null)||(1==m.ab&&3==m.gc[0].hc&&Gs(m.s)?(z.ic=1,H=m.c*m.i,m.Ta=null,m.Ua=0,m.V=o(H),m.Ba=0,null==m.V?(m.a=1,m=0):m=1):(z.ic=0,m=Gl(m,z.c)),!m))break t;m=1;break e}z.mc=null,m=0}else m=ce>=z.c*z.i;z=!m}if(z)return null;1!=h.ga.Lc?h.Ga=0:C=V-v}e(null!=h.ga),e(v+C<=V);e:{if(m=(H=h.ga).c,V=H.l.o,0==H.$a){if(Z=h.rc,ce=h.Vc,pe=h.Fa,Y=h.mb,oe=h.nb+v*m,e((W=h.P+1+v*m)<=h.P+h.qc),0!=H.Z)for(e(null!=Sd[H.Z]),z=0;z<C;++z)Sd[H.Z](Z,ce,pe,W,Y,oe,m),Z=Y,ce=oe,oe+=m,W+=m;else for(z=0;z<C;++z)r(Y,oe,pe,W,m),Z=Y,ce=oe,oe+=m,W+=m;h.rc=Z,h.Vc=ce}else{if(e(null!=H.mc),m=v+C,e(null!=(z=H.mc)),e(m<=z.i),z.C>=m)m=1;else if(H.ic||co(),H.ic){H=z.V,Z=z.Ba;var Me=z.i,ve=(pe=1,W=z.$/(ce=z.c),Y=z.$%ce,oe=z.m,ye=z.s,z.$),ke=ce*Me,Oe=ce*m,He=ye.wc,Be=ve<Oe?Ni(ye,Y,W):null;e(ve<=ke),e(m<=Me),e(Gs(ye));t:for(;;){for(;!oe.h&&ve<Oe;){if(Y&He||(Be=Ni(ye,Y,W)),e(null!=Be),fe(oe),256>(Me=tr(Be.G[0],Be.H[0],oe)))H[Z+ve]=Me,++ve,++Y>=ce&&(Y=0,++W<=m&&!(W%16)&&Cs(z,W));else{if(!(280>Me)){pe=0;break t}Me=Jo(Me-256,oe);var xt,dt=tr(Be.G[4],Be.H[4],oe);if(fe(oe),!(ve>=(dt=Wi(ce,dt=Jo(dt,oe)))&&ke-ve>=Me)){pe=0;break t}for(xt=0;xt<Me;++xt)H[Z+ve+xt]=H[Z+ve+xt-dt];for(ve+=Me,Y+=Me;Y>=ce;)Y-=ce,++W<=m&&!(W%16)&&Cs(z,W);ve<Oe&&Y&He&&(Be=Ni(ye,Y,W))}e(oe.h==ie(oe))}Cs(z,W>m?m:W);break t}!pe||oe.h&&ve<ke?(pe=0,z.a=oe.h?5:3):z.$=ve,m=pe}else m=es(z,z.V,z.Ba,z.c,z.i,m,Hl);if(!m){C=0;break e}}v+C>=V&&(h.Cc=1),C=1}if(!C)return null;if(h.Cc&&(null!=(C=h.ga)&&(C.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+v*O}function Zn(h,m,v,C,O,V){for(;0<O--;){var z,H=h,W=m+(v?1:0),Y=h,oe=m+(v?0:3);for(z=0;z<C;++z){var ye=Y[oe+4*z];255!=ye&&(H[W+4*z+0]=H[W+4*z+0]*(ye*=32897)>>23,H[W+4*z+1]=H[W+4*z+1]*ye>>23,H[W+4*z+2]=H[W+4*z+2]*ye>>23)}m+=V}}function ti(h,m,v,C,O){for(;0<C--;){var V;for(V=0;V<v;++V){var z=h[m+2*V+0],H=15&(Y=h[m+2*V+1]),W=4369*H,Y=(240&Y|Y>>4)*W>>16;h[m+2*V+0]=(240&z|z>>4)*W>>16&240|(15&z|z<<4)*W>>16>>4&15,h[m+2*V+1]=240&Y|H}m+=O}}function Gr(h,m,v,C,O,V,z,H){var W,Y,oe=255;for(Y=0;Y<O;++Y){for(W=0;W<C;++W){var ye=h[m+W];V[z+4*W]=ye,oe&=ye}m+=v,z+=H}return 255!=oe}function Ai(h,m,v,C,O){var V;for(V=0;V<O;++V)v[C+V]=h[m+V]>>8}function co(){Sv=Zn,HG=ti,WG=Gr,KG=Ai}function ir(h,m,v){x[h]=function(C,O,V,z,H,W,Y,oe,ye,Z,ce,pe,Me,ve,ke,Oe,He){var Be,xt=He-1>>1,dt=H[W+0]|Y[oe+0]<<16,dn=ye[Z+0]|ce[pe+0]<<16;e(null!=C);var yt=3*dt+dn+131074>>2;for(m(C[O+0],255&yt,yt>>16,Me,ve),null!=V&&m(V[z+0],255&(yt=3*dn+dt+131074>>2),yt>>16,ke,Oe),Be=1;Be<=xt;++Be){var An=H[W+Be]|Y[oe+Be]<<16,ki=ye[Z+Be]|ce[pe+Be]<<16,hn=dt+An+dn+ki+524296,bt=hn+2*(An+dn)>>3;yt=bt+dt>>1,dt=(hn=hn+2*(dt+ki)>>3)+An>>1,m(C[O+2*Be-1],255&yt,yt>>16,Me,ve+(2*Be-1)*v),m(C[O+2*Be-0],255&dt,dt>>16,Me,ve+(2*Be-0)*v),null!=V&&(dt=bt+ki>>1,m(V[z+2*Be-1],255&(yt=hn+dn>>1),yt>>16,ke,Oe+(2*Be-1)*v),m(V[z+2*Be+0],255&dt,dt>>16,ke,Oe+(2*Be+0)*v)),dt=An,dn=ki}1&He||(m(C[O+He-1],255&(yt=3*dt+dn+131074>>2),yt>>16,Me,ve+(He-1)*v),null!=V&&m(V[z+He-1],255&(yt=3*dn+dt+131074>>2),yt>>16,ke,Oe+(He-1)*v))}}function af(){Na[Rw]=nEe,Na[kw]=oH,Na[eH]=rEe,Na[Ow]=sH,Na[Lw]=aH,Na[ZM]=lH,Na[tH]=iEe,Na[JM]=oH,Na[XM]=sH,Na[Fw]=aH,Na[eN]=lH}function ru(h){return h&~oEe?0>h?0:255:h>>cH}function Ss(h,m){return ru((19077*h>>8)+(26149*m>>8)-14234)}function f(h,m,v){return ru((19077*h>>8)-(6419*m>>8)-(13320*v>>8)+8708)}function b(h,m){return ru((19077*h>>8)+(33050*m>>8)-17685)}function D(h,m,v,C,O){C[O+0]=Ss(h,v),C[O+1]=f(h,m,v),C[O+2]=b(h,m)}function G(h,m,v,C,O){C[O+0]=b(h,m),C[O+1]=f(h,m,v),C[O+2]=Ss(h,v)}function de(h,m,v,C,O){var V=f(h,m,v);m=V<<3&224|b(h,m)>>3,C[O+0]=248&Ss(h,v)|V>>5,C[O+1]=m}function we(h,m,v,C,O){var V=240&b(h,m)|15;C[O+0]=240&Ss(h,v)|f(h,m,v)>>4,C[O+1]=V}function Ye(h,m,v,C,O){C[O+0]=255,D(h,m,v,C,O+1)}function Nn(h,m,v,C,O){G(h,m,v,C,O),C[O+3]=255}function Hr(h,m,v,C,O){D(h,m,v,C,O),C[O+3]=255}function Nt(h,m){return 0>h?0:h>m?m:h}function vr(h,m,v){x[h]=function(C,O,V,z,H,W,Y,oe,ye){for(var Z=oe+(-2&ye)*v;oe!=Z;)m(C[O+0],V[z+0],H[W+0],Y,oe),m(C[O+1],V[z+0],H[W+0],Y,oe+v),O+=2,++z,++W,oe+=2*v;1&ye&&m(C[O+0],V[z+0],H[W+0],Y,oe)}}function Wr(h,m,v){return 0==v?0==h?0==m?6:5:0==m?4:0:v}function rl(h,m,v,C,O){switch(h>>>30){case 3:uf(m,v,C,O,0);break;case 2:Pa(m,v,C,O);break;case 1:qn(m,v,C,O)}}function Br(h,m){var v,C,O=m.M,V=m.Nb,z=h.oc,H=h.pc+40,W=h.oc,Y=h.pc+584,oe=h.oc,ye=h.pc+600;for(v=0;16>v;++v)z[H+32*v-1]=129;for(v=0;8>v;++v)W[Y+32*v-1]=129,oe[ye+32*v-1]=129;for(0<O?z[H-1-32]=W[Y-1-32]=oe[ye-1-32]=129:(i(z,H-32-1,127,21),i(W,Y-32-1,127,9),i(oe,ye-32-1,127,9)),C=0;C<h.za;++C){var Z=m.ya[m.aa+C];if(0<C){for(v=-1;16>v;++v)r(z,H+32*v-4,z,H+32*v+12,4);for(v=-1;8>v;++v)r(W,Y+32*v-4,W,Y+32*v+4,4),r(oe,ye+32*v-4,oe,ye+32*v+4,4)}var ce=h.Gd,pe=h.Hd+C,Me=Z.ad,ve=Z.Hc;if(0<O&&(r(z,H-32,ce[pe].y,0,16),r(W,Y-32,ce[pe].f,0,8),r(oe,ye-32,ce[pe].ea,0,8)),Z.Za){var ke=z,Oe=H-32+16;for(0<O&&(C>=h.za-1?i(ke,Oe,ce[pe].y[15],4):r(ke,Oe,ce[pe+1].y,0,4)),v=0;4>v;v++)ke[Oe+128+v]=ke[Oe+256+v]=ke[Oe+384+v]=ke[Oe+0+v];for(v=0;16>v;++v,ve<<=2)il[Z.Ob[v]](ke=z,Oe=H+dH[v]),rl(ve,Me,16*+v,ke,Oe)}else if(ke=Wr(C,O,Z.Ob[0]),Td[ke](z,H),0!=ve)for(v=0;16>v;++v,ve<<=2)rl(ve,Me,16*+v,z,H+dH[v]);for(v=Z.Gc,ke=Wr(C,O,Z.Dd),au[ke](W,Y),au[ke](oe,ye),ve=Me,ke=W,Oe=Y,255&(Z=0|v)&&(170&Z?nc(ve,256,ke,Oe):cr(ve,256,ke,Oe)),Z=oe,ve=ye,255&(v>>=8)&&(170&v?nc(Me,320,Z,ve):cr(Me,320,Z,ve)),O<h.Ub-1&&(r(ce[pe].y,0,z,H+480,16),r(ce[pe].f,0,W,Y+224,8),r(ce[pe].ea,0,oe,ye+224,8)),ce=h.sa,pe=h.ta+16*C+16*V*h.R,Me=h.qa,Z=h.ra+8*C+(v=8*V*h.B),ve=h.Ha,ke=h.Ia+8*C+v,v=0;16>v;++v)r(ce,pe+v*h.R,z,H+32*v,16);for(v=0;8>v;++v)r(Me,Z+v*h.B,W,Y+32*v,8),r(ve,ke+v*h.B,oe,ye+32*v,8)}}function xa(h,m,v,C,O,V,z,H,W){var Y=[0],oe=[0],ye=0,Z=null!=W?W.kd:0,ce=W??new Re;if(null==h||12>v)return 7;ce.data=h,ce.w=m,ce.ha=v,m=[m],v=[v],ce.gb=[ce.gb];e:{var pe=m,Me=v,ve=ce.gb;if(e(null!=h),e(null!=Me),e(null!=ve),ve[0]=0,12<=Me[0]&&!t(h,pe[0],"RIFF")){if(t(h,pe[0]+8,"WEBP")){ve=3;break e}var ke=Se(h,pe[0]+4);if(12>ke||4294967286<ke){ve=3;break e}if(Z&&ke>Me[0]-8){ve=7;break e}ve[0]=ke,pe[0]+=12,Me[0]-=12}ve=0}if(0!=ve)return ve;for(ke=0<ce.gb[0],v=v[0];;){e:{var Oe=h;Me=m,ve=v;var He=Y,Be=oe,xt=pe=[0];if((yt=ye=[ye])[0]=0,8>ve[0])ve=7;else{if(!t(Oe,Me[0],"VP8X")){if(10!=Se(Oe,Me[0]+4)){ve=3;break e}if(18>ve[0]){ve=7;break e}var dt=Se(Oe,Me[0]+8),dn=1+Ze(Oe,Me[0]+12);if(2147483648<=dn*(Oe=1+Ze(Oe,Me[0]+15))){ve=3;break e}null!=xt&&(xt[0]=dt),null!=He&&(He[0]=dn),null!=Be&&(Be[0]=Oe),Me[0]+=18,ve[0]-=18,yt[0]=1}ve=0}}if(ye=ye[0],0!=ve)return ve;if(Me=!!(2&(pe=pe[0])),!ke&&ye)return 3;if(null!=V&&(V[0]=!!(16&pe)),null!=z&&(z[0]=Me),null!=H&&(H[0]=0),z=Y[0],pe=oe[0],ye&&Me&&null==W){ve=0;break}if(4>v){ve=7;break}if(ke&&ye||!ke&&!ye&&!t(h,m[0],"ALPH")){v=[v],ce.na=[ce.na],ce.P=[ce.P],ce.Sa=[ce.Sa];e:{ve=m,ke=v;var yt=ce.gb;He=ce.na,Be=ce.P,xt=ce.Sa,dn=22,e(null!=(dt=h)),e(null!=ke),Oe=ve[0];var An=ke[0];for(e(null!=He),e(null!=xt),He[0]=null,Be[0]=null,xt[0]=0;;){if(ve[0]=Oe,ke[0]=An,8>An){ve=7;break e}var ki=Se(dt,Oe+4);if(4294967286<ki){ve=3;break e}var hn=8+ki+1&-2;if(dn+=hn,0<yt&&dn>yt){ve=3;break e}if(!t(dt,Oe,"VP8 ")||!t(dt,Oe,"VP8L")){ve=0;break e}if(An[0]<hn){ve=7;break e}t(dt,Oe,"ALPH")||(He[0]=dt,Be[0]=Oe+8,xt[0]=ki),Oe+=hn,An-=hn}}if(v=v[0],ce.na=ce.na[0],ce.P=ce.P[0],ce.Sa=ce.Sa[0],0!=ve)break}v=[v],ce.Ja=[ce.Ja],ce.xa=[ce.xa];e:if(yt=h,ve=m,ke=v,He=ce.gb[0],Be=ce.Ja,xt=ce.xa,dt=ve[0],Oe=!t(yt,dt,"VP8 "),dn=!t(yt,dt,"VP8L"),e(null!=yt),e(null!=ke),e(null!=Be),e(null!=xt),8>ke[0])ve=7;else{if(Oe||dn){if(yt=Se(yt,dt+4),12<=He&&yt>He-12){ve=3;break e}if(Z&&yt>ke[0]-8){ve=7;break e}Be[0]=yt,ve[0]+=8,ke[0]-=8,xt[0]=dn}else xt[0]=5<=ke[0]&&47==yt[dt+0]&&!(yt[dt+4]>>5),Be[0]=ke[0];ve=0}if(v=v[0],ce.Ja=ce.Ja[0],ce.xa=ce.xa[0],m=m[0],0!=ve)break;if(4294967286<ce.Ja)return 3;if(null==H||Me||(H[0]=ce.xa?2:1),z=[z],pe=[pe],ce.xa){if(5>v){ve=7;break}H=z,Z=pe,Me=V,null==h||5>v?h=0:5<=v&&47==h[m+0]&&!(h[m+4]>>5)?(ke=[0],yt=[0],He=[0],Te(Be=new K,h,m,v),Sr(Be,ke,yt,He)?(null!=H&&(H[0]=ke[0]),null!=Z&&(Z[0]=yt[0]),null!=Me&&(Me[0]=He[0]),h=1):h=0):h=0}else{if(10>v){ve=7;break}H=pe,null==h||10>v||!ef(h,m+3,v-3)?h=0:(Z=h[m+0]|h[m+1]<<8|h[m+2]<<16,Me=16383&(h[m+7]<<8|h[m+6]),h=16383&(h[m+9]<<8|h[m+8]),1&Z||3<(Z>>1&7)||!(Z>>4&1)||Z>>5>=ce.Ja||!Me||!h?h=0:(z&&(z[0]=Me),H&&(H[0]=h),h=1))}if(!h||(z=z[0],pe=pe[0],ye&&(Y[0]!=z||oe[0]!=pe)))return 3;null!=W&&(W[0]=ce,W.offset=m-W.w,e(4294967286>m-W.w),e(W.offset==W.ha-v));break}return 0==ve||7==ve&&ye&&null==W?(null!=V&&(V[0]|=null!=ce.na&&0<ce.na.length),null!=C&&(C[0]=z),null!=O&&(O[0]=pe),0):ve}function iu(h,m,v){var C=m.width,O=m.height,V=0,z=0,H=C,W=O;if(m.Da=null!=h&&0<h.Da,m.Da&&(H=h.cd,W=h.bd,V=h.v,z=h.j,11>v||(V&=-2,z&=-2),0>V||0>z||0>=H||0>=W||V+H>C||z+W>O))return 0;if(m.v=V,m.j=z,m.va=V+H,m.o=z+W,m.U=H,m.T=W,m.da=null!=h&&0<h.da,m.da){if(!Pt(H,W,v=[h.ib],V=[h.hb]))return 0;m.ib=v[0],m.hb=V[0]}return m.ob=null!=h&&h.ob,m.Kb=null==h||!h.Sd,m.da&&(m.ob=m.ib<3*C/4&&m.hb<3*O/4,m.Kb=0),1}function bv(h){if(null==h)return 2;if(11>h.S){var m=h.f.RGBA;m.fb+=(h.height-1)*m.A,m.A=-m.A}else(m=h.f.kb).O+=((h=h.height)-1)*m.fa,m.fa=-m.fa,m.N+=(h-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(h-1>>1)*m.Db,m.Db=-m.Db,null!=m.F&&(m.J+=(h-1)*m.lb,m.lb=-m.lb);return 0}function yd(h,m,v,C){if(null==C||0>=h||0>=m)return 2;if(null!=v){if(v.Da){var O=v.cd,V=v.bd,z=-2&v.v,H=-2&v.j;if(0>z||0>H||0>=O||0>=V||z+O>h||H+V>m)return 2;h=O,m=V}if(v.da){if(!Pt(h,m,O=[v.ib],V=[v.hb]))return 2;h=O[0],m=V[0]}}C.width=h,C.height=m;e:{var W=C.width,Y=C.height;if(h=C.S,0>=W||0>=Y||!(h>=Rw&&13>h))h=2;else{if(0>=C.Rd&&null==C.sd){z=V=O=m=0;var oe=(H=W*hH[h])*Y;if(11>h||(V=(Y+1)/2*(m=(W+1)/2),12==h&&(z=(O=W)*Y)),null==(Y=o(oe+2*V+z))){h=1;break e}C.sd=Y,11>h?((W=C.f.RGBA).eb=Y,W.fb=0,W.A=H,W.size=oe):((W=C.f.kb).y=Y,W.O=0,W.fa=H,W.Fd=oe,W.f=Y,W.N=0+oe,W.Ab=m,W.Cd=V,W.ea=Y,W.W=0+oe+V,W.Db=m,W.Ed=V,12==h&&(W.F=Y,W.J=0+oe+2*V),W.Tc=z,W.lb=O)}if(m=1,V=C.width,z=C.height,(O=C.S)>=Rw&&13>O)if(11>O)h=C.f.RGBA,m&=(H=Math.abs(h.A))*(z-1)+V<=h.size,m&=H>=V*hH[O],m&=null!=h.eb;else{h=C.f.kb,H=(V+1)/2,oe=(z+1)/2,W=Math.abs(h.fa),Y=Math.abs(h.Ab);var ye=Math.abs(h.Db),Z=Math.abs(h.lb);m&=W*(z-1)+V<=h.Fd,m&=Y*(oe-1)+H<=h.Cd,m=(m&=ye*(oe-1)+H<=h.Ed)&W>=V&Y>=H&ye>=H,m&=null!=h.y,m&=null!=h.f,m&=null!=h.ea,12==O&&(m&=Z>=V,m&=Z*(z-1)+V<=h.Tc,m&=null!=h.F)}else m=0;h=m?0:2}}return 0!=h||null!=v&&v.fd&&(h=bv(C)),h}var lf=64,Ys=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Zs=24,bd=32,ou=8,wd=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];tt("Predictor0","PredictorAdd0"),x.Predictor0=function(){return 4278190080},x.Predictor1=function(h){return h},x.Predictor2=function(h,m,v){return m[v+0]},x.Predictor3=function(h,m,v){return m[v+1]},x.Predictor4=function(h,m,v){return m[v-1]},x.Predictor5=function(h,m,v){return At(At(h,m[v+1]),m[v+0])},x.Predictor6=function(h,m,v){return At(h,m[v-1])},x.Predictor7=function(h,m,v){return At(h,m[v+0])},x.Predictor8=function(h,m,v){return At(m[v-1],m[v+0])},x.Predictor9=function(h,m,v){return At(m[v+0],m[v+1])},x.Predictor10=function(h,m,v){return At(At(h,m[v-1]),At(m[v+0],m[v+1]))},x.Predictor11=function(h,m,v){var C=m[v+0];return 0>=Ft(C>>24&255,h>>24&255,(m=m[v-1])>>24&255)+Ft(C>>16&255,h>>16&255,m>>16&255)+Ft(C>>8&255,h>>8&255,m>>8&255)+Ft(255&C,255&h,255&m)?C:h},x.Predictor12=function(h,m,v){var C=m[v+0];return(un((h>>24&255)+(C>>24&255)-((m=m[v-1])>>24&255))<<24|un((h>>16&255)+(C>>16&255)-(m>>16&255))<<16|un((h>>8&255)+(C>>8&255)-(m>>8&255))<<8|un((255&h)+(255&C)-(255&m)))>>>0},x.Predictor13=function(h,m,v){var C=m[v-1];return(Rt((h=At(h,m[v+0]))>>24&255,C>>24&255)<<24|Rt(h>>16&255,C>>16&255)<<16|Rt(h>>8&255,C>>8&255)<<8|Rt(255&h,255&C))>>>0};var wv=x.PredictorAdd0;x.PredictorAdd1=Yt,tt("Predictor2","PredictorAdd2"),tt("Predictor3","PredictorAdd3"),tt("Predictor4","PredictorAdd4"),tt("Predictor5","PredictorAdd5"),tt("Predictor6","PredictorAdd6"),tt("Predictor7","PredictorAdd7"),tt("Predictor8","PredictorAdd8"),tt("Predictor9","PredictorAdd9"),tt("Predictor10","PredictorAdd10"),tt("Predictor11","PredictorAdd11"),tt("Predictor12","PredictorAdd12"),tt("Predictor13","PredictorAdd13");var Hg=x.PredictorAdd2;It("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),It("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var mi,Pw=x.ColorIndexInverseTransform,ec=x.MapARGB,tc=x.VP8LColorIndexInverseTransformAlpha,Iv=x.MapAlpha,Cv=x.VP8LPredictorsAdd=[];Cv.length=16,(x.VP8LPredictors=[]).length=16,(x.VP8LPredictorsAdd_C=[]).length=16,(x.VP8LPredictors_C=[]).length=16;var Ev,Av,Id,Cd,Ed,cf,Ad,uf,Pa,nc,qn,cr,_i,Ri,su,Tv,Wg,Mw,BG,jG,zG,$G,qG,GG,Sv,HG,WG,KG,QG=o(511),YG=o(2041),ZG=o(225),JG=o(767),XG=0,YM=YG,Nw=ZG,Js=JG,Ma=QG,Rw=0,kw=1,eH=2,Ow=3,Lw=4,ZM=5,tH=6,JM=7,XM=8,Fw=9,eN=10,zCe=[2,3,7],$Ce=[3,3,11],nH=[280,256,256,256,40],qCe=[0,1,1,1,0],GCe=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],HCe=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],WCe=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],KCe=8,tN=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],nN=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Dv=null,QCe=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],YCe=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],rH=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ZCe=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],JCe=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],XCe=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],eEe=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Td=[],il=[],au=[],tEe=1,iH=2,Sd=[],Na=[];ir("UpsampleRgbLinePair",D,3),ir("UpsampleBgrLinePair",G,3),ir("UpsampleRgbaLinePair",Hr,4),ir("UpsampleBgraLinePair",Nn,4),ir("UpsampleArgbLinePair",Ye,4),ir("UpsampleRgba4444LinePair",we,2),ir("UpsampleRgb565LinePair",de,2);var nEe=x.UpsampleRgbLinePair,rEe=x.UpsampleBgrLinePair,oH=x.UpsampleRgbaLinePair,sH=x.UpsampleBgraLinePair,aH=x.UpsampleArgbLinePair,lH=x.UpsampleRgba4444LinePair,iEe=x.UpsampleRgb565LinePair,Vw=16,Uw=1<<Vw-1,xv=-227,rN=482,cH=6,oEe=(256<<cH)-1,uH=0,sEe=o(256),aEe=o(256),lEe=o(256),cEe=o(256),uEe=o(rN-xv),dEe=o(rN-xv);vr("YuvToRgbRow",D,3),vr("YuvToBgrRow",G,3),vr("YuvToRgbaRow",Hr,4),vr("YuvToBgraRow",Nn,4),vr("YuvToArgbRow",Ye,4),vr("YuvToRgba4444Row",we,2),vr("YuvToRgb565Row",de,2);var dH=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Bw=[0,2,8],hEe=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(h,m,v,C,O){var V=kw,z=new he,H=new En;z.ba=H,H.S=V,H.width=[H.width],H.height=[H.height];var W=H.width,Y=H.height,oe=new Ot;if(null==oe||null==h)var ye=2;else e(null!=oe),ye=xa(h,m,v,oe.width,oe.height,oe.Pd,oe.Qd,oe.format,null);if(0!=ye?W=0:(null!=W&&(W[0]=oe.width[0]),null!=Y&&(Y[0]=oe.height[0]),W=1),W){H.width=H.width[0],H.height=H.height[0],null!=C&&(C[0]=H.width),null!=O&&(O[0]=H.height);e:{if(C=new Wc,(O=new Re).data=h,O.w=m,O.ha=v,O.kd=1,m=[0],e(null!=O),(0==(h=xa(O.data,O.w,O.ha,null,null,null,m,null,O))||7==h)&&m[0]&&(h=4),0==(m=h)){if(e(null!=z),C.data=O.data,C.w=O.w+O.offset,C.ha=O.ha-O.offset,C.put=Mt,C.ac=Hi,C.bc=Ia,C.ma=z,O.xa){if(null==(h=Ro())){z=1;break e}if(function(Z,ce){var pe=[0],Me=[0],ve=[0];t:for(;;){if(null==Z)return 0;if(null==ce)return Z.a=2,0;if(Z.l=ce,Z.a=0,Te(Z.m,ce.data,ce.w,ce.ha),!Sr(Z.m,pe,Me,ve)){Z.a=3;break t}if(Z.xb=iH,ce.width=pe[0],ce.height=Me[0],!Hs(pe[0],Me[0],1,Z,null))break t;return 1}return e(0!=Z.a),0}(h,C)){if(C=0==(m=yd(C.width,C.height,z.Oa,z.ba))){t:{C=h;n:for(;;){if(null==C){C=0;break t}if(e(null!=C.s.yc),e(null!=C.s.Ya),e(0<C.s.Wb),e(null!=(v=C.l)),e(null!=(O=v.ma)),0!=C.xb){if(C.ca=O.ba,C.tb=O.tb,e(null!=C.ca),!iu(O.Oa,v,Ow)){C.a=2;break n}if(!Gl(C,v.width)||v.da)break n;if((v.da||Ct(C.ca.S))&&co(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=C.ca.f.kb.F&&co()),C.Pb&&0<C.s.ua&&null==C.s.vb.X&&!X(C.s.vb,C.s.Wa.Xa)){C.a=1;break n}C.xb=0}if(!es(C,C.V,C.Ba,C.c,C.i,v.o,ql))break n;O.Dc=C.Ma,C=1;break t}e(0!=C.a),C=0}C=!C}C&&(m=h.a)}else m=h.a}else{if(null==(h=new Xh)){z=1;break e}if(h.Fa=O.na,h.P=O.P,h.qc=O.Sa,tf(h,C)){if(0==(m=yd(C.width,C.height,z.Oa,z.ba))){if(h.Aa=0,v=z.Oa,e(null!=(O=h)),null!=v){if(0<(W=0>(W=v.Md)?0:100<W?255:255*W/100)){for(Y=oe=0;4>Y;++Y)12>(ye=O.pb[Y]).lc&&(ye.ia=W*hEe[0>ye.lc?0:ye.lc]>>3),oe|=ye.ia;oe&&(alert("todo:VP8InitRandom"),O.ia=1)}O.Ga=v.Id,100<O.Ga?O.Ga=100:0>O.Ga&&(O.Ga=0)}(function(Z,ce){if(null==Z)return 0;if(null==ce)return Ur(Z,2,"NULL VP8Io parameter in VP8Decode().");if(!Z.cb&&!tf(Z,ce))return 0;if(e(Z.cb),null==ce.ac||ce.ac(ce)){ce.ob&&(Z.L=0);var pe=Bw[Z.L];if(2==Z.L?(Z.yb=0,Z.zb=0):(Z.yb=ce.v-pe>>4,Z.zb=ce.j-pe>>4,0>Z.yb&&(Z.yb=0),0>Z.zb&&(Z.zb=0)),Z.Va=ce.o+15+pe>>4,Z.Hb=ce.va+15+pe>>4,Z.Hb>Z.za&&(Z.Hb=Z.za),Z.Va>Z.Ub&&(Z.Va=Z.Ub),0<Z.L){var Me=Z.ed;for(pe=0;4>pe;++pe){var ve;if(Z.Qa.Cb){var ke=Z.Qa.Lb[pe];Z.Qa.Fb||(ke+=Me.Tb)}else ke=Me.Tb;for(ve=0;1>=ve;++ve){var Oe=Z.gd[pe][ve],He=ke;if(Me.Pc&&(He+=Me.vd[0],ve&&(He+=Me.od[0])),0<(He=0>He?0:63<He?63:He)){var Be=He;0<Me.wb&&(Be=4<Me.wb?Be>>2:Be>>1)>9-Me.wb&&(Be=9-Me.wb),1>Be&&(Be=1),Oe.dd=Be,Oe.tc=2*He+Be,Oe.ld=40<=He?2:15<=He?1:0}else Oe.tc=0;Oe.La=ve}}}pe=0}else Ur(Z,6,"Frame setup failed"),pe=Z.a;if(pe=0==pe){if(pe){Z.$c=0,0<Z.Aa||(Z.Ic=1);t:{Me=4*(Be=Z.za);var xt=32*Be,dt=Be+1,dn=0<Z.L?Be*(0<Z.Aa?2:1):0,yt=(2==Z.Aa?2:1)*Be;if((Oe=Me+832+(ve=3*(16*(pe=Z.Ic)+Bw[Z.L])/2*xt)+(ke=null!=Z.Fa&&0<Z.Fa.length?Z.Kc.c*Z.Kc.i:0))!=Oe)pe=0;else{if(Oe>Z.Vb){if(Z.Vb=0,Z.Ec=o(Oe),Z.Fc=0,null==Z.Ec){pe=Ur(Z,1,"no memory during frame initialization.");break t}Z.Vb=Oe}He=Z.Fc,Z.Ac=Oe=Z.Ec,Z.Bc=He,He+=Me,Z.Gd=s(xt,Zh),Z.Hd=0,Z.rb=s(dt+1,Za),Z.sb=1,Z.wa=dn?s(dn,ko):null,Z.Y=0,Z.D.Nb=0,Z.D.wa=Z.wa,Z.D.Y=Z.Y,0<Z.Aa&&(Z.D.Y+=Be),e(!0),Z.oc=Oe,Z.pc=He,He+=832,Z.ya=s(yt,Hc),Z.aa=0,Z.D.ya=Z.ya,Z.D.aa=Z.aa,2==Z.Aa&&(Z.D.aa+=Be),Z.R=16*Be,Z.B=8*Be,Be=(xt=Bw[Z.L])*Z.R,xt=xt/2*Z.B,Z.sa=Oe,Z.ta=He+Be,Z.qa=Z.sa,Z.ra=Z.ta+16*pe*Z.R+xt,Z.Ha=Z.qa,Z.Ia=Z.ra+8*pe*Z.B+xt,Z.$c=0,He+=ve,Z.mb=ke?Oe:null,Z.nb=ke?He:null,e(He+ke<=Z.Fc+Z.Vb),Kc(Z),i(Z.Ac,Z.Bc,0,Me),pe=1}}if(pe){if(ce.ka=0,ce.y=Z.sa,ce.O=Z.ta,ce.f=Z.qa,ce.N=Z.ra,ce.ea=Z.Ha,ce.Vd=Z.Ia,ce.fa=Z.R,ce.Rc=Z.B,ce.F=null,ce.J=0,!XG){for(pe=-255;255>=pe;++pe)QG[255+pe]=0>pe?-pe:pe;for(pe=-1020;1020>=pe;++pe)YG[1020+pe]=-128>pe?-128:127<pe?127:pe;for(pe=-112;112>=pe;++pe)ZG[112+pe]=-16>pe?-16:15<pe?15:pe;for(pe=-255;510>=pe;++pe)JG[255+pe]=0>pe?0:255<pe?255:pe;XG=1}Ad=Qc,uf=pd,nc=gd,qn=Qs,cr=$n,Pa=Ks,_i=Xl,Ri=sf,su=_,Tv=k,Wg=nl,Mw=nu,BG=Q,jG=re,zG=vd,$G=Sa,qG=rf,GG=Ts,il[0]=mv,il[1]=Xa,il[2]=qg,il[3]=Yl,il[4]=_v,il[5]=Ki,il[6]=el,il[7]=vv,il[8]=Ea,il[9]=yv,Td[0]=Ql,Td[1]=$g,Td[2]=gv,Td[3]=nf,Td[4]=Zc,Td[5]=Oo,Td[6]=md,au[0]=Ta,au[1]=pv,au[2]=Zl,au[3]=Jl,au[4]=Jc,au[5]=Gg,au[6]=nr,pe=1}else pe=0}pe&&(pe=function(An,ki){for(An.M=0;An.M<An.Va;++An.M){var hn,bt=An.Jc[An.M&An.Xb],nt=An.m,vi=An;for(hn=0;hn<vi.za;++hn){var on=nt,Mn=vi,Dr=Mn.Ac,uo=Mn.Bc+4*hn,ts=Mn.zc,ni=Mn.ya[Mn.aa+hn];if(ni.$b=Mn.Qa.Bb?Ne(on,Mn.Pa.jb[0])?2+Ne(on,Mn.Pa.jb[2]):Ne(on,Mn.Pa.jb[1]):0,Mn.kc&&(ni.Ad=Ne(on,Mn.Bd)),ni.Za=!Ne(on,145)+0,ni.Za){var Lo=ni.Ob,ns=0;for(Mn=0;4>Mn;++Mn){var Oi,Rn=ts[0+Mn];for(Oi=0;4>Oi;++Oi){for(var Jn=rH[Ne(on,(Rn=JCe[Dr[uo+Oi]][Rn])[0])];0<Jn;)Jn=rH[2*Jn+Ne(on,Rn[Jn])];Dr[uo+Oi]=Rn=-Jn}r(Lo,ns,Dr,uo,4),ns+=4,ts[0+Mn]=Rn}}else Rn=Ne(on,156)?Ne(on,128)?1:3:Ne(on,163)?2:0,ni.Ob[0]=Rn,i(Dr,uo,Rn,4),i(ts,0,Rn,4);ni.Dd=Ne(on,142)?Ne(on,114)?Ne(on,183)?1:3:2:0}if(vi.m.Ka)return Ur(An,7,"Premature end-of-partition0 encountered.");for(;An.ja<An.za;++An.ja){if(vi=bt,on=(nt=An).rb[nt.sb-1],Dr=nt.rb[nt.sb+nt.ja],hn=nt.ya[nt.aa+nt.ja],uo=nt.kc?hn.Ad:0)on.la=Dr.la=0,hn.Za||(on.Na=Dr.Na=0),hn.Hc=0,hn.Gc=0,hn.ia=0;else{var ri,Xn;if(on=Dr,Dr=vi,uo=nt.Pa.Xc,ni=nt.pb[(ts=nt.ya[nt.aa+nt.ja]).$b],ns=nt.rb[nt.sb-1],Rn=Oi=0,i(Mn=ts.ad,Lo=0,0,384),ts.Za)var ho=0,ol=uo[3];else{Jn=o(16);var yi=on.Na+ns.Na;if(yi=Dv(Dr,uo[1],yi,ni.Eb,0,Jn,0),on.Na=ns.Na=(0<yi)+0,1<yi)Ad(Jn,0,Mn,Lo);else{var Ds=Jn[0]+3>>3;for(Jn=0;256>Jn;Jn+=16)Mn[Lo+Jn]=Ds}ho=1,ol=uo[0]}var ur=15&on.la,Li=15&ns.la;for(Jn=0;4>Jn;++Jn){var Xs=1&Li;for(Ds=Xn=0;4>Ds;++Ds)ur=ur>>1|(Xs=(yi=Dv(Dr,ol,yi=Xs+(1&ur),ni.Sc,ho,Mn,Lo))>ho)<<7,Xn=Xn<<2|(3<yi?3:1<yi?2:0!=Mn[Lo+0]),Lo+=16;ur>>=4,Li=Li>>1|Xs<<7,Oi=(Oi<<8|Xn)>>>0}for(ol=ur,ho=Li>>4,ri=0;4>ri;ri+=2){for(Xn=0,ur=on.la>>4+ri,Li=ns.la>>4+ri,Jn=0;2>Jn;++Jn){for(Xs=1&Li,Ds=0;2>Ds;++Ds)ur=ur>>1|(Xs=0<(yi=Dv(Dr,uo[2],yi=Xs+(1&ur),ni.Qc,0,Mn,Lo)))<<3,Xn=Xn<<2|(3<yi?3:1<yi?2:0!=Mn[Lo+0]),Lo+=16;ur>>=2,Li=Li>>1|Xs<<5}Rn|=Xn<<4*ri,ol|=ur<<4<<ri,ho|=(240&Li)<<ri}on.la=ol,ns.la=ho,ts.Hc=Oi,ts.Gc=Rn,ts.ia=43690&Rn?0:ni.ia,uo=!(Oi|Rn)}if(0<nt.L&&(nt.wa[nt.Y+nt.ja]=nt.gd[hn.$b][hn.Za],nt.wa[nt.Y+nt.ja].La|=!uo),vi.Ka)return Ur(An,7,"Premature end-of-file encountered.")}if(Kc(An),nt=ki,vi=1,hn=(bt=An).D,on=0<bt.L&&bt.M>=bt.zb&&bt.M<=bt.Va,0==bt.Aa)t:{if(hn.M=bt.M,hn.uc=on,Br(bt,hn),vi=1,hn=(Xn=bt.D).Nb,on=(Rn=Bw[bt.L])*bt.R,uo=bt.sa,ts=bt.ta-on+(Jn=16*hn*bt.R),ni=bt.qa,Mn=bt.ra-(Dr=Rn/2*bt.B)+(Ds=8*hn*bt.B),Lo=bt.Ha,ns=bt.Ia-Dr+Ds,Li=0==(ur=Xn.M),Oi=ur>=bt.Va-1,2==bt.Aa&&Br(bt,Xn),Xn.uc)for(Xs=(yi=bt).D.M,e(yi.D.uc),Xn=yi.yb;Xn<yi.Hb;++Xn){ol=Xs;var rs=(ea=(fo=yi).D).Nb,ea=ea.wa[ea.Y+(ho=Xn)],ta=fo.sa,xs=fo.ta+16*rs*(ri=fo.R)+16*ho,na=ea.dd,yr=ea.tc;if(0!=yr)if(e(3<=yr),1==fo.L)0<ho&&$G(ta,xs,ri,yr+4),ea.La&&GG(ta,xs,ri,yr),0<ol&&zG(ta,xs,ri,yr+4),ea.La&&qG(ta,xs,ri,yr);else{var ra=fo.B,sl=fo.qa,df=fo.ra+8*rs*ra+8*ho,lu=fo.Ha,fo=fo.Ia+8*rs*ra+8*ho;rs=ea.ld,0<ho&&(Ri(ta,xs,ri,yr+4,na,rs),Tv(sl,df,lu,fo,ra,yr+4,na,rs)),ea.La&&(Mw(ta,xs,ri,yr,na,rs),jG(sl,df,lu,fo,ra,yr,na,rs)),0<ol&&(_i(ta,xs,ri,yr+4,na,rs),su(sl,df,lu,fo,ra,yr+4,na,rs)),ea.La&&(Wg(ta,xs,ri,yr,na,rs),BG(sl,df,lu,fo,ra,yr,na,rs))}}if(bt.ia&&alert("todo:DitherRow"),null!=nt.put){if(Xn=16*ur,ur=16*(ur+1),Li?(nt.y=bt.sa,nt.O=bt.ta+Jn,nt.f=bt.qa,nt.N=bt.ra+Ds,nt.ea=bt.Ha,nt.W=bt.Ia+Ds):(Xn-=Rn,nt.y=uo,nt.O=ts,nt.f=ni,nt.N=Mn,nt.ea=Lo,nt.W=ns),Oi||(ur-=Rn),ur>nt.o&&(ur=nt.o),nt.F=null,nt.J=null,null!=bt.Fa&&0<bt.Fa.length&&Xn<ur&&(nt.J=rr(bt,nt,Xn,ur-Xn),nt.F=bt.mb,null==nt.F&&0==nt.F.length)){vi=Ur(bt,3,"Could not decode alpha data.");break t}Xn<nt.j&&(Rn=nt.j-Xn,Xn=nt.j,e(!(1&Rn)),nt.O+=bt.R*Rn,nt.N+=bt.B*(Rn>>1),nt.W+=bt.B*(Rn>>1),null!=nt.F&&(nt.J+=nt.width*Rn)),Xn<ur&&(nt.O+=nt.v,nt.N+=nt.v>>1,nt.W+=nt.v>>1,null!=nt.F&&(nt.J+=nt.v),nt.ka=Xn-nt.j,nt.U=nt.va-nt.v,nt.T=ur-Xn,vi=nt.put(nt))}hn+1!=bt.Ic||Oi||(r(bt.sa,bt.ta-on,uo,ts+16*bt.R,on),r(bt.qa,bt.ra-Dr,ni,Mn+8*bt.B,Dr),r(bt.Ha,bt.Ia-Dr,Lo,ns+8*bt.B,Dr))}if(!vi)return Ur(An,6,"Output aborted.")}return 1}(Z,ce)),null!=ce.bc&&ce.bc(ce),pe&=1}return pe?(Z.cb=0,pe):0})(h,C)||(m=h.a)}}else m=h.a}0==m&&null!=z.Oa&&z.Oa.fd&&(m=bv(z.ba))}z=m}V=0!=z?null:11>V?H.f.RGBA.eb:H.f.kb.y}else V=null;return V};var hH=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(x,B){for(var T="",M=0;M<4;M++)T+=String.fromCharCode(x[B++]);return T}function u(x,B){return x[B+0]|x[B+1]<<8}function d(x,B){return(x[B+0]|x[B+1]<<8|x[B+2]<<16)>>>0}function g(x,B){return(x[B+0]|x[B+1]<<8|x[B+2]<<16|x[B+3]<<24)>>>0}new l;var p=[0],y=[0],w=[],I=new l,A=n,R=function(x,B){var T={},M=0,N=!1,te=0,_e=0;if(T.frames=[],!
/** @license
               * Copyright (c) 2017 Dominik Homberger
              Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
              The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
              THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
              https://webpjs.appspot.com
              WebPRiffParser dominikhlbg@gmail.com
              */
function(j,K){for(var ee=0;ee<4;ee++)if(j[K+ee]!="RIFF".charCodeAt(ee))return!0;return!1}(x,B)){for(g(x,B+=4),B+=8;B<x.length;){var Ae=c(x,B),Ee=g(x,B+=4);B+=4;var me=Ee+(1&Ee);switch(Ae){case"VP8 ":case"VP8L":void 0===T.frames[M]&&(T.frames[M]={}),(Fe=T.frames[M]).src_off=N?_e:B-8,Fe.src_size=te+Ee+8,M++,N&&(N=!1,te=0,_e=0);break;case"VP8X":(Fe=T.header={}).feature_flags=x[B];var Te=B+4;Fe.canvas_width=1+d(x,Te),Fe.canvas_height=1+d(x,Te+=3),Te+=3;break;case"ALPH":N=!0,te=me+8,_e=B-8;break;case"ANIM":(Fe=T.header).bgcolor=g(x,B),Fe.loop_count=u(x,Te=B+4),Te+=2;break;case"ANMF":var We,Fe;(Fe=T.frames[M]={}).offset_x=2*d(x,B),Fe.offset_y=2*d(x,B+=3),Fe.width=1+d(x,B+=3),Fe.height=1+d(x,B+=3),Fe.duration=d(x,B+=3),B+=3,We=x[B++],Fe.dispose=1&We,Fe.blend=We>>1&1}"ANMF"!=Ae&&(B+=me)}return T}}(A,0);R.response=A,R.rgbaoutput=!0,R.dataurl=!1;var F=R.header?R.header:null,L=R.frames?R.frames:null;if(F){F.loop_counter=F.loop_count,p=[F.canvas_height],y=[F.canvas_width];for(var J=0;J<L.length&&0!=L[J].blend;J++);}var ae=L[0],q=I.WebPDecodeRGBA(A,ae.src_off,ae.src_size,y,p);ae.rgba=q,ae.imgwidth=y[0],ae.imgheight=p[0];for(var P=0;P<y[0]*p[0]*4;P++)w[P]=q[P];return this.width=y,this.height=p,this.data=w,this}(function(n){var e,t,r,i,o,s,a,l,c,u=function(j){return this.isStrokeTransparent=(j=j||{}).isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=void 0!==j.transform?j.transform.clone():new l,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new s,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new s,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof j.ignoreClearRect||j.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=j;Object.defineProperty(this,"pdf",{get:function(){return K}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(Se){ee=!!Se}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(Se){ie=!!Se}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(Se){isNaN(Se)||(ue=Se)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(Se){isNaN(Se)||(fe=Se)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Se){var X;"number"==typeof Se?X=[Se,Se,Se,Se]:((X=new Array(4))[0]=Se[0],X[1]=Se.length>=2?Se[1]:X[0],X[2]=Se.length>=3?Se[2]:X[0],X[3]=Se.length>=4?Se[3]:X[1]),c.margin=X}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(Se){be=Se}});var Ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ce},set:function(Se){Ce=Se}});var Ne=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ne},set:function(Se){Ne=Se}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Se){Se instanceof u&&(c=Se)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Se){c.path=Se}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(Se){Pe=Se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Se){var X;X=g(Se),this.ctx.fillStyle=X.style,this.ctx.isFillTransparent=0===X.a,this.ctx.fillOpacity=X.a,this.pdf.setFillColor(X.r,X.g,X.b,{a:X.a}),this.pdf.setTextColor(X.r,X.g,X.b,{a:X.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Se){var X=g(Se);this.ctx.strokeStyle=X.style,this.ctx.isStrokeTransparent=0===X.a,this.ctx.strokeOpacity=X.a,0===X.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(X.r,X.g,X.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Se){-1!==["butt","round","square"].indexOf(Se)&&(this.ctx.lineCap=Se,this.pdf.setLineCap(Se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Se){isNaN(Se)||(this.ctx.lineWidth=Se,this.pdf.setLineWidth(Se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Se){-1!==["bevel","round","miter"].indexOf(Se)&&(this.ctx.lineJoin=Se,this.pdf.setLineJoin(Se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Se){isNaN(Se)||(this.ctx.miterLimit=Se,this.pdf.setMiterLimit(Se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Se){this.ctx.textBaseline=Se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Se){-1!==["right","end","center","left","start"].indexOf(Se)&&(this.ctx.textAlign=Se)}});var Je=null,Ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ze},set:function(Se){Je=null,Ze=Se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Se){var X;if(this.ctx.font=Se,null!==(X=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Se))){var ln=X[1],$t=X[3],Pt=X[4],Ge=X[6],vt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Pt)[2];Pt=Math.floor("px"===vt?parseFloat(Pt)*this.pdf.internal.scaleFactor:"em"===vt?parseFloat(Pt)*this.pdf.getFontSize():parseFloat(Pt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Pt);var tt=function(kt){var It,Bn,pn=[],Ke=kt.trim();if(""===Ke)return RM;if(Ke in Nq)return[Nq[Ke]];for(;""!==Ke;){switch(Bn=null,It=(Ke=kq(Ke)).charAt(0)){case'"':case"'":Bn=Obe(Ke.substring(1),It);break;default:Bn=Lbe(Ke)}if(null===Bn||(pn.push(Bn[0]),""!==(Ke=kq(Bn[1]))&&","!==Ke.charAt(0)))return RM;Ke=Ke.replace(/^,/,"")}return pn}(Ge);if(this.fontFaces){var un=function(kt,It,Bn){for(var pn=(Bn=Bn||{}).defaultFontFamily||"times",Ke=Object.assign({},kbe,Bn.genericFontFamilies||{}),St=null,Zt=null,Dt=0;Dt<It.length;++Dt)if(Ke[(St=NM(It[Dt])).family]&&(St.family=Ke[St.family]),kt.hasOwnProperty(St.family)){Zt=kt[St.family];break}if(!(Zt=Zt||kt[pn]))throw new Error("Could not find a font-family for the rule '"+Rq(St)+"' and default family '"+pn+"'.");if(Zt=function(rn,Ct){if(Ct[rn])return Ct[rn];var zn=MM[rn],En=Mq(Ct,xq,zn,zn<=MM.normal?-1:1);if(!En)throw new Error("Could not find a matching font-stretch value for "+rn);return En}(St.stretch,Zt),Zt=function(rn,Ct){if(Ct[rn])return Ct[rn];for(var zn=Dq[rn],Tr=0;Tr<zn.length;++Tr)if(Ct[zn[Tr]])return Ct[zn[Tr]];throw new Error("Could not find a matching font-style for "+rn)}(St.style,Zt),!(Zt=function(rn,Ct){if(Ct[rn])return Ct[rn];if(400===rn&&Ct[500])return Ct[500];if(500===rn&&Ct[400])return Ct[400];var Tr=Mq(Ct,Pq,Rbe[rn],rn<400?-1:1);if(!Tr)throw new Error("Could not find a matching font-weight for value "+rn);return Tr}(St.weight,Zt)))throw new Error("Failed to resolve a font for the rule '"+Rq(St)+"'.");return Zt}(function(kt,It){if(null===Je){var Bn=(pn=kt.getFontList(),Ke=[],Object.keys(pn).forEach(function(St){pn[St].forEach(function(Zt){var Dt=null;switch(Zt){case"bold":Dt={family:St,weight:"bold"};break;case"italic":Dt={family:St,style:"italic"};break;case"bolditalic":Dt={family:St,weight:"bold",style:"italic"};break;case"":case"normal":Dt={family:St}}null!==Dt&&(Dt.ref={name:St,style:Zt},Ke.push(Dt))})}),Ke);Je=function(pn){for(var Ke={},St=0;St<pn.length;++St){var Zt=NM(pn[St]),Dt=Zt.family,rn=Zt.stretch,Ct=Zt.style,zn=Zt.weight;Ke[Dt]=Ke[Dt]||{},Ke[Dt][rn]=Ke[Dt][rn]||{},Ke[Dt][rn][Ct]=Ke[Dt][rn][Ct]||{},Ke[Dt][rn][Ct][zn]=Zt}return Ke}(Bn.concat(It))}var pn,Ke;return Je}(this.pdf,this.fontFaces),tt.map(function(kt){return{family:kt,stretch:"normal",weight:$t,style:ln}}));this.pdf.setFont(un.ref.name,un.ref.style)}else{var Rt="";("bold"===$t||parseInt($t,10)>=700||"bold"===ln)&&(Rt="bold"),"italic"===ln&&(Rt+="italic"),0===Rt.length&&(Rt="normal");for(var Ft="",Yt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},wt=0;wt<tt.length;wt++){if(void 0!==this.pdf.internal.getFont(tt[wt],Rt,{noFallback:!0,disableWarning:!0})){Ft=tt[wt];break}if("bolditalic"===Rt&&void 0!==this.pdf.internal.getFont(tt[wt],"bold",{noFallback:!0,disableWarning:!0}))Ft=tt[wt],Rt="bold";else if(void 0!==this.pdf.internal.getFont(tt[wt],"normal",{noFallback:!0,disableWarning:!0})){Ft=tt[wt],Rt="normal";break}}if(""===Ft)for(var _t=0;_t<tt.length;_t++)if(Yt[tt[_t]]){Ft=Yt[tt[_t]];break}this.pdf.setFont(Ft=""===Ft?"Times":Ft,Rt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Se){this.ctx.globalCompositeOperation=Se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Se){this.ctx.globalAlpha=Se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Se){this.ctx.lineDashOffset=Se,Fe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Se){this.ctx.lineDash=Se,Fe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Se){this.ctx.ignoreClearRect=!!Se}})};d.prototype.setLineDash=function(j){this.lineDash=j},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){L.call(this,"fill",!1)},d.prototype.stroke=function(){L.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(j,K){if(isNaN(j)||isNaN(K))throw lr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new s(j,K));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new s(j,K)},d.prototype.closePath=function(){var j=new s(0,0),K=0;for(K=this.path.length-1;-1!==K;K--)if("begin"===this.path[K].type&&"object"===Qn(this.path[K+1])&&"number"==typeof this.path[K+1].x){j=new s(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(j.x,j.y)},d.prototype.lineTo=function(j,K){if(isNaN(j)||isNaN(K))throw lr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new s(j,K));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new s(ee.x,ee.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),L.call(this,null,!0)},d.prototype.quadraticCurveTo=function(j,K,ee,ie){if(isNaN(ee)||isNaN(ie)||isNaN(j)||isNaN(K))throw lr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new s(ee,ie)),fe=this.ctx.transform.applyToPoint(new s(j,K));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new s(ue.x,ue.y)},d.prototype.bezierCurveTo=function(j,K,ee,ie,ue,fe){if(isNaN(ue)||isNaN(fe)||isNaN(j)||isNaN(K)||isNaN(ee)||isNaN(ie))throw lr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new s(ue,fe)),Ce=this.ctx.transform.applyToPoint(new s(j,K)),Ne=this.ctx.transform.applyToPoint(new s(ee,ie));this.path.push({type:"bct",x1:Ce.x,y1:Ce.y,x2:Ne.x,y2:Ne.y,x:be.x,y:be.y}),this.ctx.lastPoint=new s(be.x,be.y)},d.prototype.arc=function(j,K,ee,ie,ue,fe){if(isNaN(j)||isNaN(K)||isNaN(ee)||isNaN(ie)||isNaN(ue))throw lr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new s(j,K));j=be.x,K=be.y;var Ce=this.ctx.transform.applyToPoint(new s(0,ee)),Ne=this.ctx.transform.applyToPoint(new s(0,0));ee=Math.sqrt(Math.pow(Ce.x-Ne.x,2)+Math.pow(Ce.y-Ne.y,2))}Math.abs(ue-ie)>=2*Math.PI&&(ie=0,ue=2*Math.PI),this.path.push({type:"arc",x:j,y:K,radius:ee,startAngle:ie,endAngle:ue,counterclockwise:fe})},d.prototype.arcTo=function(j,K,ee,ie,ue){throw new Error("arcTo not implemented.")},d.prototype.rect=function(j,K,ee,ie){if(isNaN(j)||isNaN(K)||isNaN(ee)||isNaN(ie))throw lr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,K),this.lineTo(j+ee,K),this.lineTo(j+ee,K+ie),this.lineTo(j,K+ie),this.lineTo(j,K),this.lineTo(j+ee,K),this.lineTo(j,K)},d.prototype.fillRect=function(j,K,ee,ie){if(isNaN(j)||isNaN(K)||isNaN(ee)||isNaN(ie))throw lr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ue={};"butt"!==this.lineCap&&(ue.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,K,ee,ie),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},d.prototype.strokeRect=function(j,K,ee,ie){if(isNaN(j)||isNaN(K)||isNaN(ee)||isNaN(ie))throw lr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(j,K,ee,ie),this.stroke())},d.prototype.clearRect=function(j,K,ee,ie){if(isNaN(j)||isNaN(K)||isNaN(ee)||isNaN(ie))throw lr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,K,ee,ie))},d.prototype.save=function(j){j="boolean"!=typeof j||j;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},d.prototype.restore=function(j){j="boolean"!=typeof j||j;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(K),j&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(j){var K,ee,ie,ue;if(!0===j.isCanvasGradient&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))K=0,ee=0,ie=0,ue=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(null!==fe)K=parseInt(fe[1]),ee=parseInt(fe[2]),ie=parseInt(fe[3]),ue=1;else if(null!==(fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j)))K=parseInt(fe[1]),ee=parseInt(fe[2]),ie=parseInt(fe[3]),ue=parseFloat(fe[4]);else{if(ue=1,"string"==typeof j&&"#"!==j.charAt(0)){var be=new mq(j);j=be.ok?be.toHex():"#000000"}4===j.length?(K=j.substring(1,2),K+=K,ee=j.substring(2,3),ee+=ee,ie=j.substring(3,4),ie+=ie):(K=j.substring(1,3),ee=j.substring(3,5),ie=j.substring(5,7)),K=parseInt(K,16),ee=parseInt(ee,16),ie=parseInt(ie,16)}}return{r:K,g:ee,b:ie,a:ue,style:j}},p=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},y=function(){return!(!this.ctx.isStrokeTransparent&&0!=this.globalAlpha)};d.prototype.fillText=function(j,K,ee,ie){if(isNaN(K)||isNaN(ee)||"string"!=typeof j)throw lr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!p.call(this)){var ue=me(this.ctx.transform.rotation);M.call(this,{text:j,x:K,y:ee,scale:this.ctx.transform.scaleX,angle:ue,align:this.textAlign,maxWidth:ie})}},d.prototype.strokeText=function(j,K,ee,ie){if(isNaN(K)||isNaN(ee)||"string"!=typeof j)throw lr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){ie=isNaN(ie)?void 0:ie;var ue=me(this.ctx.transform.rotation);M.call(this,{text:j,x:K,y:ee,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:ie})}},d.prototype.measureText=function(j){if("string"!=typeof j)throw lr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,ee=this.pdf.internal.scaleFactor,ie=K.internal.getFontSize(),ue=K.getStringUnitWidth(j)*ie/K.internal.scaleFactor;return new function(fe){var be=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return be}}),this}({width:ue*=Math.round(96*ee/72*1e4)/1e4})},d.prototype.scale=function(j,K){if(isNaN(j)||isNaN(K))throw lr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new l(j,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},d.prototype.rotate=function(j){if(isNaN(j))throw lr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new l(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},d.prototype.translate=function(j,K){if(isNaN(j)||isNaN(K))throw lr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new l(1,0,0,1,j,K);this.ctx.transform=this.ctx.transform.multiply(ee)},d.prototype.transform=function(j,K,ee,ie,ue,fe){if(isNaN(j)||isNaN(K)||isNaN(ee)||isNaN(ie)||isNaN(ue)||isNaN(fe))throw lr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new l(j,K,ee,ie,ue,fe);this.ctx.transform=this.ctx.transform.multiply(be)},d.prototype.setTransform=function(j,K,ee,ie,ue,fe){j=isNaN(j)?1:j,K=isNaN(K)?0:K,ee=isNaN(ee)?0:ee,ie=isNaN(ie)?1:ie,ue=isNaN(ue)?0:ue,fe=isNaN(fe)?0:fe,this.ctx.transform=new l(j,K,ee,ie,ue,fe)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(j,K,ee,ie,ue,fe,be,Ce,Ne){var Pe=this.pdf.getImageProperties(j),Je=1,Ze=1,Se=1,X=1;void 0!==ie&&void 0!==Ce&&(Se=Ce/ie,X=Ne/ue,Je=Pe.width/ie*Ce/ie,Ze=Pe.height/ue*Ne/ue),void 0===fe&&(fe=K,be=ee,K=0,ee=0),void 0!==ie&&void 0===Ce&&(Ce=ie,Ne=ue),void 0===ie&&void 0===Ce&&(Ce=Pe.width,Ne=Pe.height);for(var ln,$t=this.ctx.transform.decompose(),Pt=me($t.rotate.shx),Ge=new l,vt=(Ge=(Ge=(Ge=Ge.multiply($t.translate)).multiply($t.skew)).multiply($t.scale)).applyToRectangle(new a(fe-K*Se,be-ee*X,ie*Je,ue*Ze)),tt=I.call(this,vt),qt=[],At=0;At<tt.length;At+=1)-1===qt.indexOf(tt[At])&&qt.push(tt[At]);if(F(qt),this.autoPaging)for(var un=qt[0],Rt=qt[qt.length-1],Ft=un;Ft<Rt+1;Ft++){this.pdf.setPage(Ft);var Yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=1===Ft?this.posY+this.margin[0]:this.margin[0],kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],It=1===Ft?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Ft-2)*kt;if(0!==this.ctx.clip_path.length){var Bn=this.path;ln=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(ln,this.posX+this.margin[3],-It+wt+this.ctx.prevPageLastElemOffset),J.call(this,"fill",!0),this.path=Bn}var pn=JSON.parse(JSON.stringify(vt));pn=R([pn],this.posX+this.margin[3],-It+wt+this.ctx.prevPageLastElemOffset)[0];var Ke=(Ft>un||Ft<Rt)&&w.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yt,kt,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",pn.x,pn.y,pn.w,pn.h,null,null,Pt),Ke&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(j,"JPEG",vt.x,vt.y,vt.w,vt.h,null,null,Pt)};var I=function(j,K,ee){var ie=[];K=K||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":ie.push(Math.floor((j.y+ue)/ee)+1);break;case"arc":ie.push(Math.floor((j.y+ue-j.radius)/ee)+1),ie.push(Math.floor((j.y+ue+j.radius)/ee)+1);break;case"qct":var fe=Te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);ie.push(Math.floor((fe.y+ue)/ee)+1),ie.push(Math.floor((fe.y+fe.h+ue)/ee)+1);break;case"bct":var be=We(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);ie.push(Math.floor((be.y+ue)/ee)+1),ie.push(Math.floor((be.y+be.h+ue)/ee)+1);break;case"rect":ie.push(Math.floor((j.y+ue)/ee)+1),ie.push(Math.floor((j.y+j.h+ue)/ee)+1)}for(var Ce=0;Ce<ie.length;Ce+=1)for(;this.pdf.internal.getNumberOfPages()<ie[Ce];)A.call(this);return ie},A=function(){var j=this.fillStyle,K=this.strokeStyle,ee=this.font,ie=this.lineCap,ue=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=K,this.font=ee,this.lineCap=ie,this.lineWidth=ue,this.lineJoin=fe},R=function(j,K,ee){for(var ie=0;ie<j.length;ie++)switch(j[ie].type){case"bct":j[ie].x2+=K,j[ie].y2+=ee;case"qct":j[ie].x1+=K,j[ie].y1+=ee;default:j[ie].x+=K,j[ie].y+=ee}return j},F=function(j){return j.sort(function(K,ee){return K-ee})},L=function(j,K){for(var ee,ie,ue=this.fillStyle,fe=this.strokeStyle,be=this.lineCap,Ce=this.lineWidth,Ne=Math.abs(Ce*this.ctx.transform.scaleX),Pe=this.lineJoin,Je=JSON.parse(JSON.stringify(this.path)),Ze=JSON.parse(JSON.stringify(this.path)),Se=[],X=0;X<Ze.length;X++)if(void 0!==Ze[X].x)for(var ln=I.call(this,Ze[X]),$t=0;$t<ln.length;$t+=1)-1===Se.indexOf(ln[$t])&&Se.push(ln[$t]);for(var Pt=0;Pt<Se.length;Pt++)for(;this.pdf.internal.getNumberOfPages()<Se[Pt];)A.call(this);if(F(Se),this.autoPaging)for(var Ge=Se[0],vt=Se[Se.length-1],tt=Ge;tt<vt+1;tt++){this.pdf.setPage(tt),this.fillStyle=ue,this.strokeStyle=fe,this.lineCap=be,this.lineWidth=Ne,this.lineJoin=Pe;var qt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=1===tt?this.posY+this.margin[0]:this.margin[0],Rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ft=1===tt?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(tt-2)*Rt;if(0!==this.ctx.clip_path.length){var Yt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(ee,this.posX+this.margin[3],-Ft+At+this.ctx.prevPageLastElemOffset),J.call(this,j,!0),this.path=Yt}if(ie=JSON.parse(JSON.stringify(Je)),this.path=R(ie,this.posX+this.margin[3],-Ft+At+this.ctx.prevPageLastElemOffset),!1===K||0===tt){var wt=(tt>Ge||tt<vt)&&w.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qt,Rt,null).clip().discardPath()),J.call(this,j,K),wt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ce}else this.lineWidth=Ne,J.call(this,j,K),this.lineWidth=Ce;this.path=Je},J=function(j,K){if(("stroke"!==j||K||!y.call(this))&&("stroke"===j||K||!p.call(this))){for(var ee,ie,ue=[],fe=this.path,be=0;be<fe.length;be++){var Ce=fe[be];switch(Ce.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:Ce,deltas:[],abs:[]});break;case"lt":var Ne=ue.length;if(fe[be-1]&&!isNaN(fe[be-1].x)&&(ee=[Ce.x-fe[be-1].x,Ce.y-fe[be-1].y],Ne>0))for(;Ne>=0;Ne--)if(!0!==ue[Ne-1].close&&!0!==ue[Ne-1].begin){ue[Ne-1].deltas.push(ee),ue[Ne-1].abs.push(Ce);break}break;case"bct":ue[ue.length-1].deltas.push(ee=[Ce.x1-fe[be-1].x,Ce.y1-fe[be-1].y,Ce.x2-fe[be-1].x,Ce.y2-fe[be-1].y,Ce.x-fe[be-1].x,Ce.y-fe[be-1].y]);break;case"qct":ue[ue.length-1].deltas.push(ee=[fe[be-1].x+2/3*(Ce.x1-fe[be-1].x)-fe[be-1].x,fe[be-1].y+2/3*(Ce.y1-fe[be-1].y)-fe[be-1].y,Ce.x+2/3*(Ce.x1-Ce.x)-fe[be-1].x,Ce.y+2/3*(Ce.y1-Ce.y)-fe[be-1].y,Ce.x-fe[be-1].x,Ce.y-fe[be-1].y]);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(Ce)}}ie=K?null:"stroke"===j?"stroke":"fill";for(var $t=!1,Pt=0;Pt<ue.length;Pt++)if(ue[Pt].arc)for(var Ge=ue[Pt].abs,vt=0;vt<Ge.length;vt++){var tt=Ge[vt];"arc"===tt.type?P.call(this,tt.x,tt.y,tt.radius,tt.startAngle,tt.endAngle,tt.counterclockwise,void 0,K,!$t):N.call(this,tt.x,tt.y),$t=!0}else!0===ue[Pt].close?(this.pdf.internal.out("h"),$t=!1):!0!==ue[Pt].begin&&(te.call(this,ue[Pt].deltas,ue[Pt].start.x,ue[Pt].start.y),$t=!0);ie&&x.call(this,ie),K&&B.call(this)}},ae=function(j){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-ee;case"top":return j+K-ee;case"hanging":return j+K-2*ee;case"middle":return j+K/2-ee;default:return j}},q=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(K,ee){this.colorStops.push([K,ee])},j.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(j,K,ee,ie,ue,fe,be,Ce,Ne){for(var Pe=Ae.call(this,ee,ie,ue,fe),Je=0;Je<Pe.length;Je++){var Ze=Pe[Je];0===Je&&(Ne?T.call(this,Ze.x1+j,Ze.y1+K):N.call(this,Ze.x1+j,Ze.y1+K)),_e.call(this,j,K,Ze.x2,Ze.y2,Ze.x3,Ze.y3,Ze.x4,Ze.y4)}Ce?B.call(this):x.call(this,be)},x=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(j,K){this.pdf.internal.out(t(j)+" "+r(K)+" m")},M=function(j){var K;switch(j.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var ee=this.pdf.getTextDimensions(j.text),ie=ae.call(this,j.y),ue=q.call(this,ie)-ee.h,fe=this.ctx.transform.applyToPoint(new s(j.x,ie)),be=this.ctx.transform.decompose(),Ce=new l;Ce=(Ce=(Ce=Ce.multiply(be.translate)).multiply(be.skew)).multiply(be.scale);for(var Ne,Pe,Je,Ze=this.ctx.transform.applyToRectangle(new a(j.x,ie,ee.w,ee.h)),Se=Ce.applyToRectangle(new a(j.x,ue,ee.w,ee.h)),X=I.call(this,Se),ln=[],$t=0;$t<X.length;$t+=1)-1===ln.indexOf(X[$t])&&ln.push(X[$t]);if(F(ln),this.autoPaging)for(var Pt=ln[0],Ge=ln[ln.length-1],vt=Pt;vt<Ge+1;vt++){this.pdf.setPage(vt);var tt=1===vt?this.posY+this.margin[0]:this.margin[0],At=this.pdf.internal.pageSize.height-this.margin[2],un=At-this.margin[0],Rt=this.pdf.internal.pageSize.width-this.margin[1],Ft=Rt-this.margin[3],Yt=1===vt?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(vt-2)*un;if(0!==this.ctx.clip_path.length){var wt=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(Ne,this.posX+this.margin[3],-1*Yt+tt),J.call(this,"fill",!0),this.path=wt}var _t=R([JSON.parse(JSON.stringify(Se))],this.posX+this.margin[3],-Yt+tt+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*j.scale),this.lineWidth=(Je=this.lineWidth)*j.scale);var kt="text"!==this.autoPaging;if(kt||_t.y+_t.h<=At){if(kt||_t.y>=tt&&_t.x<=Rt){var It=kt?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||Rt-_t.x)[0],Bn=R([JSON.parse(JSON.stringify(Ze))],this.posX+this.margin[3],-Yt+tt+this.ctx.prevPageLastElemOffset)[0],pn=kt&&(vt>Pt||vt<Ge)&&w.call(this);pn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ft,un,null).clip().discardPath()),this.pdf.text(It,Bn.x,Bn.y,{angle:j.angle,align:K,renderingMode:j.renderingMode}),pn&&this.pdf.restoreGraphicsState()}}else _t.y<At&&(this.ctx.prevPageLastElemOffset+=At-_t.y);j.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=Je)}else j.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*j.scale),this.lineWidth=(Je=this.lineWidth)*j.scale),this.pdf.text(j.text,fe.x+this.posX,fe.y+this.posY,{angle:j.angle,align:K,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=Je)},N=function(j,K,ee,ie){ie=ie||0,this.pdf.internal.out(t(j+(ee=ee||0))+" "+r(K+ie)+" l")},te=function(j,K,ee){return this.pdf.lines(j,K,ee,null,null)},_e=function(j,K,ee,ie,ue,fe,be,Ce){this.pdf.internal.out([e(i(ee+j)),e(o(ie+K)),e(i(ue+j)),e(o(fe+K)),e(i(be+j)),e(o(Ce+K)),"c"].join(" "))},Ae=function(j,K,ee,ie){for(var ue=2*Math.PI,fe=Math.PI/2;K>ee;)K-=ue;var be=Math.abs(ee-K);be<ue&&ie&&(be=ue-be);for(var Ce=[],Ne=ie?-1:1,Pe=K;be>1e-5;){var Je=Pe+Ne*Math.min(be,fe);Ce.push(Ee.call(this,j,Pe,Je)),be-=Math.abs(Je-Pe),Pe=Je}return Ce},Ee=function(j,K,ee){var ie=(ee-K)/2,ue=j*Math.cos(ie),fe=j*Math.sin(ie),be=ue,Ce=-fe,Ne=be*be+Ce*Ce,Pe=Ne+be*ue+Ce*fe,Je=4/3*(Math.sqrt(2*Ne*Pe)-Pe)/(be*fe-Ce*ue),Ze=be-Je*Ce,Se=Ce+Je*be,X=Ze,ln=-Se,$t=ie+K,Pt=Math.cos($t),Ge=Math.sin($t);return{x1:j*Math.cos(K),y1:j*Math.sin(K),x2:Ze*Pt-Se*Ge,y2:Ze*Ge+Se*Pt,x3:X*Pt-ln*Ge,y3:X*Ge+ln*Pt,x4:j*Math.cos(ee),y4:j*Math.sin(ee)}},me=function(j){return 180*j/Math.PI},Te=function(j,K,ee,ie,ue,fe){var be=j+.5*(ee-j),Ce=K+.5*(ie-K),Ne=ue+.5*(ee-ue),Pe=fe+.5*(ie-fe),Je=Math.min(j,ue,be,Ne),Ze=Math.max(j,ue,be,Ne),Se=Math.min(K,fe,Ce,Pe),X=Math.max(K,fe,Ce,Pe);return new a(Je,Se,Ze-Je,X-Se)},We=function(j,K,ee,ie,ue,fe,be,Ce){var Ne,Pe,Je,Ze,Se,X,ln,$t,Pt,Ge,vt,tt,qt,At,un=ee-j,Rt=ie-K,Ft=ue-ee,Yt=fe-ie,wt=be-ue,_t=Ce-fe;for(Pe=0;Pe<41;Pe++)Pt=(ln=(Je=j+(Ne=Pe/40)*un)+Ne*((Se=ee+Ne*Ft)-Je))+Ne*(Se+Ne*(ue+Ne*wt-Se)-ln),Ge=($t=(Ze=K+Ne*Rt)+Ne*((X=ie+Ne*Yt)-Ze))+Ne*(X+Ne*(fe+Ne*_t-X)-$t),0==Pe?(vt=Pt,tt=Ge,qt=Pt,At=Ge):(vt=Math.min(vt,Pt),tt=Math.min(tt,Ge),qt=Math.max(qt,Pt),At=Math.max(At,Ge));return new a(Math.round(vt),Math.round(tt),Math.round(qt-vt),Math.round(At-tt))},Fe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var ee=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(Tt.API),
/**
         * @license
         * jsPDF filters PlugIn
         * Copyright (c) 2014 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(s){var a,l,c,u,d,g,p,y,w,I;for(/[^\x00-\xFF]/.test(s),l=[],c=0,u=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)0!==(d=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))?(g=(d=((d=((d=((d=(d-(I=d%85))/85)-(w=d%85))/85)-(y=d%85))/85)-(p=d%85))/85)%85,l.push(g+33,p+33,y+33,w+33,I+33)):l.push(122);return function(A,R){for(var F=R;F>0;F--)A.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},t=function(s){var a,l,c,u,d,g=String,p="length",y=255,w="charCodeAt",I="slice",A="replace";for(s[I](-2),s=s[I](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),c=[],u=0,d=(s+=a="uuuuu"[I](s[p]%5||5))[p];d>u;u+=5)l=52200625*(s[w](u)-33)+614125*(s[w](u+1)-33)+7225*(s[w](u+2)-33)+85*(s[w](u+3)-33)+(s[w](u+4)-33),c.push(y&l>>24,y&l>>16,y&l>>8,y&l);return function(R,F){for(var L=F;L>0;L--)R.pop()}(c,a[p]),g.fromCharCode.apply(g,c)},r=function(s){return s.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(s=s.replace(/\s/g,"")).indexOf(">")&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),!1===a.test(s))return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},o=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return(a=B1(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};n.processDataByFilters=function(s,a){var l=0,c=s||"",u=[];for("string"==typeof(a=a||[])&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=o(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Tt.API),
/**
         * @license
         * jsPDF fileloading PlugIn
         * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.loadFile=function(e,t,r){return function(i,o,s){o=!1!==o,s="function"==typeof s?s:function(){};var a=void 0;try{a=function(l,c,u){var d=new XMLHttpRequest,g=0,p=function(y){var w=y.length,I=[],A=String.fromCharCode;for(g=0;g<w;g+=1)I.push(A(255&y.charCodeAt(g)));return I.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),!1===c&&(d.onload=function(){u(200===d.status?p(this.responseText):void 0)}),d.send(null),c&&200===d.status)return p(d.responseText)}(i,o,s)}catch{}return a}(e,t,r)},n.loadImageFile=n.loadFile}(Tt.API),function(n){function e(){return(Qt.html2canvas?Promise.resolve(Qt.html2canvas):Ps.e(239).then(Ps.t.bind(Ps,7239,23))).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(Qt.DOMPurify?Promise.resolve(Qt.DOMPurify):Ps.e(627).then(Ps.bind(Ps,627))).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=Qn(a);return"undefined"===l?"undefined":"string"===l||a instanceof String?"string":"number"===l||a instanceof Number?"number":"function"===l||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&1===a.nodeType?"element":"object"===l?"object":"unknown"},i=function(a,l){var c=document.createElement(a);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},o=function a(l,c){for(var u=3===l.nodeType?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)!0!==c&&1===d.nodeType&&"SCRIPT"===d.nodeName||u.appendChild(a(d,c));return 1===l.nodeType&&("CANVAS"===l.nodeName?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):"TEXTAREA"!==l.nodeName&&"SELECT"!==l.nodeName||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},s=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return(u=u.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return"canvas"===c.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(t).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===l.tagName&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var y=u[p],w=y.src.find(function(I){return"truetype"===I.format});w&&c.addFont(w.url,y.ref.name,y.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=0==g.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,c){return"img"===(c=c||"pdf").toLowerCase()||"image"===c.toLowerCase()?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if("object"!==r(a))return this;var l=Object.keys(a||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var c=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(2===a.length&&(a=[a[0],a[1],a[0],a[1]]),4===a.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||Tt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,c,u){return null!=a&&(this.progress.val=a),null!=l&&(this.progress.state=l),null!=c&&(this.progress.n=c),null!=u&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,c,u){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,u),g}).then(u,d).then(function(g){return c.updateProgress(1),g})})},s.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var u=this;a&&(a=a.bind(u)),l&&(l=l.bind(u));var d=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?u:s.convert(Object.assign({},u),Promise.prototype),g=c.call(d,a,l);return s.convert(g,u.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Tt.getPageSize=function(a,l,c){if("object"===Qn(a)){var u=a;a=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var d,g=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var y,w=0,I=0;if(p.hasOwnProperty(g))w=p[g][1]/d,I=p[g][0]/d;else try{w=c[1],I=c[0]}catch{throw new Error("Invalid format: "+c)}if("p"===a||"portrait"===a)a="p",I>w&&(y=I,I=w,w=y);else{if("l"!==a&&"landscape"!==a)throw"Invalid orientation: "+a;a="l",w>I&&(y=I,I=w,w=y)}return{width:I,height:w,unit:l,k:d,orientation:a}},n.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(NM):null;var c=new s(l);return l.worker?c:c.from(a).doCallback()}}(Tt.API),Tt.API.addJS=function(n){return Lq=n,this.internal.events.subscribe("postPutResources",function(){bw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(bw+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Oq=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Lq+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==bw&&void 0!==Oq&&this.internal.out("/Names <</JavaScript "+bw+" 0 R>>")}),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=r.exec(s);null!=a&&t.internal.newObjectDeferredBegin(a[1],!1),t.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(o=0;o<c;o++){var d=t.internal.newObject();u.push(d);var g=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var p=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<u.length;o++)t.internal.write("(page_"+(o+1)+")"+u[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+p+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return null==r&&(r=this.root),r.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+"\r\n"},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+="\r\n"+r.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])}(Tt.API),
/**
         * @license
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,o,s,a){var l,c=this.decode.DCT_DECODE,u=null;if("string"==typeof t||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=this.__addimage__.isArrayBuffer(t=s||t)?new Uint8Array(t):t,(l=function(d){for(var g,p=256*d.charCodeAt(4)+d.charCodeAt(5),y=d.length,w={width:0,height:0,numcomponents:1},I=4;I<y;I+=2){if(-1!==e.indexOf(d.charCodeAt((I+=p)+1))){g=256*d.charCodeAt(I+5)+d.charCodeAt(I+6),w={width:256*d.charCodeAt(I+7)+d.charCodeAt(I+8),height:g,numcomponents:d.charCodeAt(I+9)};break}p=256*d.charCodeAt(I+2)+d.charCodeAt(I+3)}return w}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(Tt.API),Tt.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,d,g,p,o=function ybe(n,e){return new dbe(n,e).decode()}(n,{checkCrc:!0}),s=o.width,a=o.height,l=o.channels,u=o.depth,w=(i=o.palette&&1===l?function(P){for(var x=P.width,B=P.height,T=P.data,M=P.palette,N=P.depth,te=!1,_e=[],Ae=[],Ee=void 0,me=!1,Te=0,We=0;We<M.length;We++){var Fe=Tz(M[We],4),ie=Fe[3];_e.push(Fe[0],Fe[1],Fe[2]),null!=ie&&(0===ie?(Te++,Ae.length<1&&Ae.push(We)):ie<255&&(me=!0))}if(me||Te>1){te=!0,Ae=void 0;var ue=x*B;Ee=new Uint8Array(ue);for(var fe=new DataView(T.buffer),be=0;be<ue;be++){var Ne=Tz(M[kM(fe,be,N)],4)[3];Ee[be]=Ne}}else 0===Te&&(Ae=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:te?8:void 0,colorBytes:T,alphaBytes:Ee,needSMask:te,palette:_e,mask:Ae}}(o):2===l||4===l?function(P){for(var x=P.data,M=P.channels,N=P.depth,te=2===M?"DeviceGray":"DeviceRGB",_e=M-1,Ae=P.width*P.height,Ee=_e,Te=1*Ae,We=Math.ceil(Ae*Ee*N/8),Fe=Math.ceil(Te*N/8),j=new Uint8Array(We),K=new Uint8Array(Fe),ee=new DataView(x.buffer),ie=new DataView(j.buffer),ue=new DataView(K.buffer),fe=!1,be=0;be<Ae;be++){for(var Ce=be*M,Ne=0;Ne<Ee;Ne++)Gq(ie,kM(ee,Ce+Ne,N),be*Ee+Ne,N);var Pe=kM(ee,Ce+Ee,N);Pe<(1<<N)-1&&(fe=!0),Gq(ue,Pe,1*be,N)}return{colorSpace:te,colorsPerPixel:_e,sMaskBitsPerComponent:fe?N:void 0,colorBytes:j,alphaBytes:K,needSMask:fe}}(o):{colorSpace:B=1===(P=o).channels?"DeviceGray":"DeviceRGB",colorsPerPixel:"DeviceGray"===B?1:3,colorBytes:(x=P.data)instanceof Uint16Array?function(T){for(var M=T.length,N=new Uint8Array(2*M),te=new DataView(N.buffer,N.byteOffset,N.byteLength),_e=0;_e<M;_e++)te.setUint16(2*_e,T[_e],!1);return N}(x):x,needSMask:!1}).colorSpace,I=i.colorsPerPixel,A=i.sMaskBitsPerComponent,R=i.colorBytes,F=i.alphaBytes,L=i.needSMask,J=i.palette,ae=i.mask,q=null;return r!==Tt.API.image_compression.NONE?(q=function(P){var x;switch(P){case Tt.API.image_compression.FAST:x=11;break;case Tt.API.image_compression.MEDIUM:x=13;break;case Tt.API.image_compression.SLOW:x=14;break;default:x=12}return x}(r),d=this.decode.FLATE_DECODE,g="/Predictor ".concat(q," /Colors ").concat(I," /BitsPerComponent ").concat(u," /Columns ").concat(s),n=Bq(R,Math.ceil(s*I*u/8),I,u,r),L&&(p=Bq(F,Math.ceil(s*A/8),1,A,r))):(d=void 0,g=void 0,n=R,L&&(p=F)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:t,data:n,index:e,filter:d,decodeParameters:g,transparency:ae,palette:J,sMask:p,predictor:q,width:s,height:a,bitsPerComponent:u,sMaskBitsPerComponent:A,colorSpace:w}}var P,x,B},function(n){n.processGIF89A=function(e,t,r,i){var o=new Bbe(e),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:a},u=new OM(100).encode(c,100);return n.processJPEG.call(this,u,t,r,i)},n.processGIF87A=n.processGIF89A}(Tt.API),Wa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Wa.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[n]()}catch(t){lr.log("bit decode error:"+t)}},Wa.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}0!==t&&(this.pos+=4-t)}},Wa.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,l=15&o,c=this.palette[o>>4];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;this.data[s+4]=(c=this.palette[l]).blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}0!==e&&(this.pos+=4-e)}},Wa.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!==n&&(this.pos+=4-n)}},Wa.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,c=o>>15?255:0,u=r*this.width*4+4*i;this.data[u]=(o>>10&e)/e*255|0,this.data[u+1]=a,this.data[u+2]=s,this.data[u+3]=c}this.pos+=n}},Wa.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&t)/t*255|0,u=i*this.width*4+4*o;this.data[u]=(s>>11)/e*255|0,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=n}},Wa.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*t;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Wa.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},Wa.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2018 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.processBMP=function(e,t,r,i){var o=new Wa(e,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new OM(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(Tt.API),Kq.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2019 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.processWEBP=function(e,t,r,i){var o=new Kq(e),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new OM(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(Tt.API),Tt.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var d=r[c+1],g=r[c+2],p=r[c+3];o[a++]=r[c],o[a++]=d,o[a++]=g,s[l++]=p}var y=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:y,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Tt.API.setLanguage=function(n){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]&&(this.internal.languageSettings.languageCode=n,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ww=(Fg=Tt.API).getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=!1!==e.doKerning,g=0,p=n.length,y=0,w=a[0]||l,I=[];for(t=0;t<p;t++)r=n.charCodeAt(t),"function"==typeof i.metadata.widthOfString?I.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(g=d&&"object"===Qn(c[r])&&!isNaN(parseInt(c[r][y],10))?c[r][y]/u:0,I.push((a[r]||w)/l+g)),y=r;return I},Fq=Fg.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Fg.processArabic&&(n=Fg.processArabic(n)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(n,t,i)/t:ww.apply(this,arguments).reduce(function(o,s){return o+s},0)},Vq=function(n,e,t,r){for(var i=[],o=0,s=n.length,a=0;o!==s&&a+e[o]<t;)a+=e[o],o++;i.push(n.slice(0,o));var l=o;for(a=0;o!==s;)a+e[o]>r&&(i.push(n.slice(l,o)),a=0,l=o),a+=e[o],o++;return l!==o&&i.push(n.slice(l,o)),i},Uq=function(n,e,t){t||(t={});var r,i,o,s,a,l,u=[],d=[u],g=t.textIndent||0,p=0,y=0,w=n.split(" "),I=ww.apply(this,[" ",t])[0];if(l=-1===t.lineIndent?w[0].length+2:t.lineIndent||0){var A=Array(l).join(" "),R=[];w.map(function(L){(L=L.split(/\s*\n/)).length>1?R=R.concat(L.map(function(J,ae){return(ae&&J.length?"\n":"")+J})):R.push(L[0])}),w=R,l=Fq.apply(this,[A,t])}for(o=0,s=w.length;o<s;o++){var F=0;if(r=w[o],l&&"\n"==r[0]&&(r=r.substr(1),F=1),g+p+(y=(i=ww.apply(this,[r,t])).reduce(function(L,J){return L+J},0))>e||F){if(y>e){for(a=Vq.apply(this,[r,i,e-(g+p),e]),u.push(a.shift()),u=[a.pop()];a.length;)d.push([a.shift()]);y=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(L,J){return L+J},0)}else u=[r];d.push(u),g=y+l,p=I}else u.push(r),g+=p+y,p=I}return d.map(l?function(L,J){return(J?A:"")+L.join(" ")}:function(L){return L.join(" ")})},Fg.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),o=function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle),g="Unicode";return d.metadata[g]?{widths:d.metadata[g].widths||{0:1},kerning:d.metadata[g].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(Uq.apply(this,[r[a],s,o]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},i={},o=0;o<16;o++)r[t[o]]=e[o],i[e[o]]=t[o];var s=function(g){return"0x"+parseInt(g,10).toString(16)},a=n.__fontmetrics__.compress=function(g){var p,y,w,I,A=["{"];for(var R in g){if(p=g[R],isNaN(parseInt(R,10))?y="'"+R+"'":(R=parseInt(R,10),y=(y=s(R).slice(2)).slice(0,-1)+i[y.slice(-1)]),"number"==typeof p)p<0?(w=s(p).slice(3),I="-"):(w=s(p).slice(2),I=""),w=I+w.slice(0,-1)+i[w.slice(-1)];else{if("object"!==Qn(p))throw new Error("Don't know what to do with value type "+Qn(p)+".");w=a(p)}A.push(y+w)}return A.push("}"),A.join("")},l=n.__fontmetrics__.uncompress=function(g){if("string"!=typeof g)throw new Error("Invalid argument passed to uncompress.");for(var p,y,w,I,A={},R=1,F=A,L=[],J="",ae="",q=g.length-1,P=1;P<q;P+=1)"'"==(I=g[P])?p?(w=p.join(""),p=void 0):p=[]:p?p.push(I):"{"==I?(L.push([F,w]),F={},w=void 0):"}"==I?((y=L.pop())[0][y[1]]=F,w=void 0,F=y[0]):"-"==I?R=-1:void 0===w?r.hasOwnProperty(I)?(J+=r[I],w=parseInt(J,16)*R,R=1,J=""):J+=I:r.hasOwnProperty(I)?(ae+=r[I],F[w]=parseInt(ae,16)*R,R=1,w=void 0,ae=""):ae+=I;return A},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(g){var p=g.font,y=d.Unicode[p.postScriptName];y&&(p.metadata.Unicode={},p.metadata.Unicode.widths=y.widths,p.metadata.Unicode.kerning=y.kerning);var w=u.Unicode[p.postScriptName];w&&(p.metadata.Unicode.encoding=w,p.encoding=w.codePages[0])}])}(Tt.API),
/**
         * @license
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=t.charCodeAt(o);return i};n.API.events.push(["addFont",function(t){var s,a,r=void 0,i=t.font,o=t.instance;if(!i.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===o.existsFileInVFS(i.postScriptName)?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");s=i,a=/^\x00\x01\x00\x00/.test(a=r)?e(a):e(dw(a)),s.metadata=n.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]}}])}(Tt),Tt.API.addSvgAsImage=function(n,e,t,r,i,o,s,a){if(isNaN(e)||isNaN(t))throw lr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw lr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(Qt.canvg?Promise.resolve(Qt.canvg):Ps.e(842).then(Ps.bind(Ps,3842))).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(c,n,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(u)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),e,t,r,i,s,a)})},Tt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},Tt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],c=0,u=0,d=0;function g(y,w){var I,A=!1;for(I=0;I<y.length;I+=1)y[I]===w&&(A=!0);return A}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,"reset"===n||!0===e){var p=a.length;for(d=0;d<p;d+=1)t[a[d]].value=t[a[d]].defaultValue,t[a[d]].explicitSet=!1}if("object"===Qn(n))for(i in n)if(o=n[i],g(a,i)&&void 0!==o){if("boolean"===t[i].type&&"boolean"==typeof o)t[i].value=o;else if("name"===t[i].type&&g(t[i].valueSet,o))t[i].value=o;else if("integer"===t[i].type&&Number.isInteger(o))t[i].value=o;else if("array"===t[i].type){for(c=0;c<o.length;c+=1)if(r=!0,1===o[c].length&&"number"==typeof o[c][0])l.push(String(o[c]-1));else if(o[c].length>1){for(u=0;u<o[c].length;u+=1)"number"!=typeof o[c][u]&&(r=!1);!0===r&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var y,w=[];for(y in t)!0===t[y].explicitSet&&w.push("name"===t[y].type?"/"+y+" /"+t[y].value:"/"+y+" "+t[y].value);0!==w.length&&this.internal.write("/ViewerPreferences\n<<\n"+w.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},
/** ====================================================================
         * @license
         * jsPDF XMP metadata plugin
         * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
         *
         * Permission is hereby granted, free of charge, to any person obtaining
         * a copy of this software and associated documentation files (the
         * "Software"), to deal in the Software without restriction, including
         * without limitation the rights to use, copy, modify, merge, publish,
         * distribute, sublicense, and/or sell copies of the Software, and to
         * permit persons to whom the Software is furnished to do so, subject to
         * the following conditions:
         *
         * The above copyright notice and this permission notice shall be
         * included in all copies or substantial portions of the Software.
         *
         * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
         * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
         * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
         * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
         * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
         * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
         * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
         * ====================================================================
         */
function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+s.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Tt.API),function(n){var e=n.API,t=e.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,g=o.length;d<g;++d){if(a=s.metadata.characterToGlyph(o.charCodeAt(d)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(d),-1==l.indexOf(a)&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),"0"==a)return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(o){var s,a,l,c,u,d,g;for(u="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",l=[],d=0,g=(a=Object.keys(o).sort(function(p,y){return p-y})).length;d<g;d++)s=a[d],l.length>=100&&(u+="\n"+l.length+" beginbfchar\n"+l.join("\n")+"\nendbfchar",l=[]),null!=o[s]&&"function"==typeof o[s].toString&&(c=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+="\n"+l.length+" beginbfchar\n"+l.join("\n")+"\nendbfchar\n"),u+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(o){!function(s){var a=s.font,l=s.out,c=s.newObject,u=s.putStream;if(a.metadata instanceof n.API.TTFFont&&"Identity-H"===a.encoding){for(var d=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",y=0;y<g.length;y++)p+=String.fromCharCode(g[y]);var w=c();u({data:p,addLength1:!0,objectId:w}),l("endobj");var I=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:I}),l("endobj");var A=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Pg(a.fontName)),l("/FontFile2 "+w+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var R=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Pg(a.fontName)),l("/FontDescriptor "+A+" 0 R"),l("/W "+n.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+I+" 0 R"),l("/BaseFont /"+Pg(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+R+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}}(o)}]),e.events.push(["putFont",function(o){!function(s){var a=s.font,l=s.out,c=s.newObject,u=s.putStream;if(a.metadata instanceof n.API.TTFFont&&"WinAnsiEncoding"===a.encoding){for(var d=a.metadata.rawData,g="",p=0;p<d.length;p++)g+=String.fromCharCode(d[p]);var y=c();u({data:g,addLength1:!0,objectId:y}),l("endobj");var w=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var I=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Pg(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var A=0;A<a.metadata.hmtx.widths.length;A++)a.metadata.hmtx.widths[A]=parseInt(a.metadata.hmtx.widths[A]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+Pg(a.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}}(o)}]);var i=function(o){var s,a=o.text||"",l=o.x,c=o.y,u=o.options||{},d=o.mutex||{},g=d.pdfEscape,p=d.activeFontKey,y=d.fonts,w=p,I="",A=0,R="",F=y[w].encoding;if("Identity-H"!==y[w].encoding)return{text:a,x:l,y:c,options:u,mutex:d};for(R=a,w=p,Array.isArray(a)&&(R=a[0]),A=0;A<R.length;A+=1)y[w].metadata.hasOwnProperty("cmap")&&(s=y[w].metadata.cmap.unicode.codeMap[R[A].charCodeAt(0)]),s||R[A].charCodeAt(0)<256&&y[w].metadata.hasOwnProperty("Unicode")?I+=R[A]:I+="";var L="";return parseInt(w.slice(1))<14||"WinAnsiEncoding"===F?L=g(I,w).split("").map(function(J){return J.charCodeAt(0).toString(16)}).join(""):"Identity-H"===F&&(L=t(I,y[w])),d.isHex=!0,{text:L,x:l,y:c,options:u,mutex:d}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&3===s[c].length?a.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):a.push(i(Object.assign({},l,{text:s[c]})).text);o.text=a}else o.text=i(Object.assign({},l,{text:s})).text}])}(Tt),
/**
         * @license
         * jsPDF virtual FileSystem functionality
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null}}(Tt.API),
/**
         * @license
         * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
         * MIT License
         */
function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,o,s,a,l,c,u,d=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],A=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),R=!1,F=0;this.__bidiEngine__={};var L=function(T){var M=T.charCodeAt(),N=M>>8,te=w[N];return void 0!==te?d[256*te+(255&M)]:252===N||253===N?"AL":A.test(N)?"L":8===N?"R":"N"},J=function(T){for(var M,N=0;N<T.length;N++){if("L"===(M=L(T.charAt(N))))return!1;if("R"===M)return!0}return!1},ae=function(T,M,N,te){var _e,Ae,Ee,me,Te=M[te];switch(Te){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":R=!1;break;case"N":case"AN":break;case"EN":R&&(Te="AN");break;case"AL":R=!0,Te="R";break;case"WS":case"BN":Te="N";break;case"CS":te<1||te+1>=M.length||"EN"!==(_e=N[te-1])&&"AN"!==_e||"EN"!==(Ae=M[te+1])&&"AN"!==Ae?Te="N":R&&(Ae="AN"),Te=Ae===_e?Ae:"N";break;case"ES":Te="EN"===(_e=te>0?N[te-1]:"B")&&te+1<M.length&&"EN"===M[te+1]?"EN":"N";break;case"ET":if(te>0&&"EN"===N[te-1]){Te="EN";break}if(R){Te="N";break}for(Ee=te+1,me=M.length;Ee<me&&"ET"===M[Ee];)Ee++;Te=Ee<me&&"EN"===M[Ee]?"EN":"N";break;case"NSM":if(s&&!a){for(me=M.length,Ee=te+1;Ee<me&&"NSM"===M[Ee];)Ee++;if(Ee<me){var We=T[te];if(_e=M[Ee],(We>=1425&&We<=2303||64286===We)&&("R"===_e||"AL"===_e)){Te="R";break}}}Te=te<1||"B"===(_e=M[te-1])?"N":N[te-1];break;case"B":R=!1,i=!0,Te=F;break;case"S":o=!0,Te="N"}return Te},q=function(T,M,N){var te=T.split("");return N&&P(te,N,{hiLevel:F}),te.reverse(),M&&M.reverse(),te.join("")},P=function(T,M,N){var te,_e,Ae,Ee,me,Te=-1,We=T.length,Fe=0,j=[],K=F?p:g,ee=[];for(R=!1,i=!1,o=!1,_e=0;_e<We;_e++)ee[_e]=L(T[_e]);for(Ae=0;Ae<We;Ae++){if(me=Fe,j[Ae]=ae(T,ee,j,Ae),te=240&(Fe=K[me][y[j[Ae]]]),M[Ae]=Ee=K[Fe&=15][5],te>0)if(16===te){for(_e=Te;_e<Ae;_e++)M[_e]=1;Te=-1}else Te=-1;if(K[Fe][6])-1===Te&&(Te=Ae);else if(Te>-1){for(_e=Te;_e<Ae;_e++)M[_e]=Ee;Te=-1}"B"===ee[Ae]&&(M[Ae]=0),N.hiLevel|=Ee}o&&function(ie,ue,fe){for(var be=0;be<fe;be++)if("S"===ie[be]){ue[be]=F;for(var Ce=be-1;Ce>=0&&"WS"===ie[Ce];Ce--)ue[Ce]=F}}(ee,M,We)},x=function(T,M,N,te,_e){if(!(_e.hiLevel<T)){if(1===T&&1===F&&!i)return M.reverse(),void(N&&N.reverse());for(var Ae,Ee,me,Te,We=M.length,Fe=0;Fe<We;){if(te[Fe]>=T){for(me=Fe+1;me<We&&te[me]>=T;)me++;for(Te=Fe,Ee=me-1;Te<Ee;Te++,Ee--)Ae=M[Te],M[Te]=M[Ee],M[Ee]=Ae,N&&(Ae=N[Te],N[Te]=N[Ee],N[Ee]=Ae);Fe=me}Fe++}}},B=function(T,M,N){var te=T.split(""),_e={hiLevel:F};return N||(N=[]),P(te,N,_e),function(Ae,Ee,me){if(0!==me.hiLevel&&u)for(var Te,We=0;We<Ae.length;We++)1===Ee[We]&&(Te=I.indexOf(Ae[We]))>=0&&(Ae[We]=I[Te+1])}(te,N,_e),x(2,te,M,N,_e),x(1,te,M,N,_e),te.join("")};return this.__bidiEngine__.doBidiReorder=function(T,M,N){if(function(_e,Ae){if(Ae)for(var Ee=0;Ee<_e.length;Ee++)Ae[Ee]=Ee;void 0===a&&(a=J(_e)),void 0===c&&(c=J(_e))}(T,M),s||!l||c)if(s&&l&&a^c)F=a?1:0,T=q(T,M,N);else if(!s&&l&&c)F=a?1:0,T=B(T,M,N),T=q(T,M);else if(!s||a||l||c){if(s&&!l&&a^c)T=q(T,M),a?(F=0,T=B(T,M,N)):(F=1,T=B(T,M,N),T=q(T,M));else if(s&&a&&!l&&c)F=1,T=B(T,M,N),T=q(T,M);else if(!s&&!l&&a^c){var te=u;a?(F=1,T=B(T,M,N),F=0,u=!1,T=B(T,M,N),u=te):(F=0,T=B(T,M,N),T=q(T,M),F=1,u=!1,T=B(T,M,N),u=te,T=q(T,M))}}else F=0,T=B(T,M,N);else F=a?1:0,T=B(T,M,N);return T},this.__bidiEngine__.setOptions=function(T){T&&(s=T.isInputVisual,l=T.isOutputVisual,a=T.isInputRtl,c=T.isOutputRtl,u=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text,o=r.options||{},s=[];if(o.isInputVisual="boolean"!=typeof o.isInputVisual||o.isInputVisual,t.setOptions(o),"[object Array]"===Object.prototype.toString.call(i)){var a=0;for(s=[],a=0;a<i.length;a+=1)"[object Array]"===Object.prototype.toString.call(i[a])?s.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([t.doBidiReorder(i[a])]);r.text=s}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(Tt),Tt.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new dd(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new t2e(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new jbe(this.contents),this.head=new $be(this),this.name=new Kbe(this),this.cmap=new Yq(this),this.toUnicode={},this.hhea=new qbe(this),this.maxp=new Qbe(this),this.hmtx=new Ybe(this),this.post=new Hbe(this),this.os2=new Gbe(this),this.loca=new e2e(this),this.glyf=new Zbe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var s,a,l,c;for(c=[],s=0,a=(l=this.bbox).length;s<a;s++)c.push(Math.round(l[s]*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(o=this.familyClass)||2===o||3===o||4===o||5===o||7===o,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return s*(t/1e3)},n.prototype.lineHeight=function(e,t){return null==t&&(t=!1),(this.ascender+(t?this.lineGap:0)-this.decender)/1e3*e},n}();var Ka,dd=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,o,s,a,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*o+65536*s+256*a+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var r,i,o;for(o=[],r=0,i=e.length;r<i;r++)o.push(this.writeByte(e[r]));return o},n}(),jbe=function(){var n;function e(t){var r,i,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,a,l,c,u,d,g,p,y,w;for(w in p=Object.keys(t).length,l=Math.log(2),d=16*Math.floor(Math.log(p)/l),s=Math.floor(d/l),u=16*p-d,(i=new dd).writeInt(this.scalarType),i.writeShort(p),i.writeShort(d),i.writeShort(s),i.writeShort(u),c=i.pos+16*p,a=null,y=[],t)for(g=t[w],i.writeString(w),i.writeInt(n(g)),i.writeInt(c),i.writeInt(g.length),y=y.concat(g),"head"===w&&(a=c),c+=g.length;c%4;)y.push(0),c++;return i.write(y),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,o,s;for(t=Zq.call(t);t.length%4;)t.push(0);for(o=new dd(t),i=0,r=0,s=t.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},e}(),zbe={}.hasOwnProperty,jl=function(n,e){for(var t in e)zbe.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Ka=function(){function n(e){var t;this.file=e,this.exists=!!(t=this.file.directory.tables[this.tag]),t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var $be=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Ka),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new dd).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n}(),Qq=function(){function n(e,t){var r,i,o,s,a,l,c,u,d,g,p,y,w,I,A,R,F;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),g=p/2,e.pos+=6,o=function(){var L,J;for(J=[],l=L=0;0<=g?L<g:L>g;l=0<=g?++L:--L)J.push(e.readUInt16());return J}(),e.pos+=2,w=function(){var L,J;for(J=[],l=L=0;0<=g?L<g:L>g;l=0<=g?++L:--L)J.push(e.readUInt16());return J}(),c=function(){var L,J;for(J=[],l=L=0;0<=g?L<g:L>g;l=0<=g?++L:--L)J.push(e.readUInt16());return J}(),u=function(){var L,J;for(J=[],l=L=0;0<=g?L<g:L>g;l=0<=g?++L:--L)J.push(e.readUInt16());return J}(),i=(this.length-e.pos+this.offset)/2,a=function(){var L,J;for(J=[],l=L=0;0<=i?L<i:L>i;l=0<=i?++L:--L)J.push(e.readUInt16());return J}(),l=A=0,F=o.length;A<F;l=++A)for(I=o[l],r=R=y=w[l];y<=I?R<=I:R>=I;r=y<=I?++R:--R)0===u[l]?s=r+c[l]:0!==(s=a[u[l]/2+(r-y)-(g-l)]||0)&&(s+=c[l]),this.codeMap[r]=65535&s}e.pos=d}return n.encode=function(e,t){var r,i,o,s,a,l,c,u,d,g,p,y,w,I,A,R,F,J,ae,q,P,x,B,T,M,N,te,_e,Ae,Ee,me,Te,We,Fe,j,K,ee,ie,ue,fe,be,Ce,Ne,Pe,Je;switch(te=new dd,s=Object.keys(e).sort(function(Ze,Se){return Ze-Se}),t){case"macroman":for(w=0,I=function(){var Ze=[];for(y=0;y<256;++y)Ze.push(0);return Ze}(),R={0:0},o={},_e=0,Te=s.length;_e<Te;_e++)null==R[Ce=e[i=s[_e]]]&&(R[Ce]=++w),o[i]={old:e[i],new:R[e[i]]},I[i]=R[e[i]];return te.writeUInt16(1),te.writeUInt16(0),te.writeUInt32(12),te.writeUInt16(0),te.writeUInt16(262),te.writeUInt16(0),te.write(I),{charMap:o,subtable:te.data,maxGlyphID:w+1};case"unicode":for(M=[],d=[],F=0,R={},r={},A=c=null,Ae=0,We=s.length;Ae<We;Ae++)null==R[J=e[i=s[Ae]]]&&(R[J]=++F),r[i]={old:J,new:R[J]},a=R[J]-i,null!=A&&a===c||(A&&d.push(A),M.push(i),c=a),A=i;for(A&&d.push(A),d.push(65535),M.push(65535),B=2*(x=M.length),P=2*Math.pow(Math.log(x)/Math.LN2,2),g=Math.log(P/2)/Math.LN2,q=2*x-P,l=[],ae=[],p=[],y=Ee=0,Fe=M.length;Ee<Fe;y=++Ee){if(u=d[y],65535===(T=M[y])){l.push(0),ae.push(0);break}if(T-(N=r[T].new)>=32768)for(l.push(0),ae.push(2*(p.length+x-y)),i=me=T;T<=u?me<=u:me>=u;i=T<=u?++me:--me)p.push(r[i].new);else l.push(N-T),ae.push(0)}for(te.writeUInt16(3),te.writeUInt16(1),te.writeUInt32(12),te.writeUInt16(4),te.writeUInt16(16+8*x+2*p.length),te.writeUInt16(0),te.writeUInt16(B),te.writeUInt16(P),te.writeUInt16(g),te.writeUInt16(q),fe=0,j=d.length;fe<j;fe++)te.writeUInt16(i=d[fe]);for(te.writeUInt16(0),be=0,K=M.length;be<K;be++)te.writeUInt16(i=M[be]);for(Ne=0,ee=l.length;Ne<ee;Ne++)te.writeUInt16(a=l[Ne]);for(Pe=0,ie=ae.length;Pe<ie;Pe++)te.writeUInt16(ae[Pe]);for(Je=0,ue=p.length;Je<ue;Je++)te.writeUInt16(w=p[Je]);return{charMap:r,subtable:te.data,maxGlyphID:F+1}}},n}(),Yq=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Ka),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new Qq(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},n.encode=function(e,t){var r,i;return null==t&&(t="macroman"),r=Qq.encode(e,t),(i=new dd).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n}(),qbe=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Ka),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n}(),Gbe=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Ka),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r}(),this.charRange=function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n}(),Hbe=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Ka),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var s,a,l;for(l=[],o=s=0,a=this.file.maxp.numGlyphs;0<=a?s<a:s>a;o=0<=a?++s:--s)l.push(e.readUInt32());return l}.call(this)}},n}(),Wbe=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Kbe=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Ka),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,i,o,s,a,l,c,u,d,g;for(e.pos=this.offset,e.readShort(),t=e.readShort(),a=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},o=u=0,d=r.length;u<d;o=++u)e.pos=(i=r[o]).offset,c=e.readString(i.length),s=new Wbe(c,i),null==l[g=i.nameID]&&(l[g]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},n}(),Qbe=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Ka),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n}(),Ybe=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Ka),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,i,s,a,l;for(e.pos=this.offset,this.metrics=[],t=0,a=this.file.hhea.numberOfMetrics;0<=a?t<a:t>a;t=0<=a?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],t=c=0;0<=i?c<i:c>i;t=0<=i?++c:--c)u.push(e.readInt16());return u}(),this.widths=function(){var c,u,d,g;for(g=[],c=0,u=(d=this.metrics).length;c<u;c++)g.push(d[c].advance);return g}.call(this),r=this.widths[this.widths.length-1],l=[],t=s=0;0<=i?s<i:s>i;t=0<=i?++s:--s)l.push(this.widths.push(r));return l},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n}(),Zq=[].slice,Zbe=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Ka),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,i,o,s,a,l,c,u,d;return e in this.cache?this.cache[e]:(t=this.file.contents,r=(o=this.file.loca).indexOf(e),0===(i=o.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+r,s=(a=new dd(t.read(i))).readShort(),c=a.readShort(),d=a.readShort(),l=a.readShort(),u=a.readShort(),this.cache[e]=-1===s?new Xbe(a,c,d,l,u):new Jbe(a,s,c,d,l,u),this.cache[e]))},n.prototype.encode=function(e,t,r){var i,o,s,a,l;for(s=[],o=[],a=0,l=t.length;a<l;a++)i=e[t[a]],o.push(s.length),i&&(s=s.concat(i.encode(r)));return o.push(s.length),{table:s,offsets:o}},n}(),Jbe=function(){function n(e,t,r,i,o,s){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),Xbe=function(){function n(e,t,r,i,o){var s,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new dd(Zq.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),e2e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Ka),n.prototype.tag="loca",n.prototype.parse=function(e){var r;return e.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=2)o.push(2*e.readUInt16());return o}.call(this):function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=4)o.push(e.readUInt32());return o}.call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,o=0,s=0;s<r.length;++s)if(r[s]=i,o<t.length&&t[o]==s){++o,r[s]=i;var l=this.offsets[s+1]-this.offsets[s];l>0&&(i+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},n}(),t2e=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,i,o;for(t in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)e[t]=i[o[t]];return e},n.prototype.glyphsFor=function(e){var t,r,i,o,s,a,l;for(i={},s=0,a=e.length;s<a;s++)i[o=e[s]]=this.font.glyf.glyphFor(o);for(o in t=[],i)null!=(r=i[o])&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in l=this.glyphsFor(t))i[o]=r=l[o];return i},n.prototype.encode=function(e,t){var r,i,o,s,l,c,u,d,g,p,y,w,I,A;for(i in r=Yq.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),p={0:0},A=r.charMap)p[(l=A[i]).old]=l.new;for(y in g=r.maxGlyphID,s)y in p||(p[y]=g++);return u=function(R){var F,L;for(F in L={},R)L[R[F]]=F;return L}(p),d=Object.keys(u).sort(function(R,F){return R-F}),w=function(){var R,F,L;for(L=[],R=0,F=d.length;R<F;R++)L.push(u[d[R]]);return L}(),o=this.font.glyf.encode(s,w,p),c=this.font.loca.encode(o.offsets,w),I={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},n}();Tt.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var i,o;if(Array.isArray(t))return"["+function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)c.push(e.convert(t[a]));return c}().join(" ")+"]";if("string"==typeof t)return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(t)){for(i in o=["<<"],t)o.push("/"+i+" "+e.convert(t[i]));return o.push(">>"),o.join("\n")}return""+t},e}();let n2e=(()=>{class n{constructor(t){this.giocatoriService=t}generaListaGara(t){var r=this;return(0,ne.A)(function*(){const i=new Tt,o=i.internal.pageSize.width,s=[0,128,0],l=[0,0,0];let c=15;try{const Ke=yield r.loadImageAsBase64("assets/images/uisp1.png"),St=yield r.loadImageAsBase64("assets/images/uisp2.png"),Zt=yield r.loadImageAsBase64("assets/images/uisp3.jpg");i.addImage(Ke,"PNG",20,5,20,20),i.addImage(St,"PNG",o/2-10,5,20,20),i.addImage(Zt,"JPG",o-40,5,20,20)}catch(Ke){console.error("Errore nel caricamento delle immagini:",Ke),i.setFontSize(8),i.setTextColor(...l),i.text("UISP",25,c),i.text("COMITATO TERRITORIALE",o/2-30,c),i.text("LOGO PALLAVOLO",o-60,c)}c+=22,i.setFontSize(12),i.setFont("helvetica","normal"),i.setTextColor(...s);const u=va.TITOLO_PDF,d=i.getTextWidth(u);i.text(u,(o-d)/2,c),c+=10,i.setFontSize(9),i.setFont("helvetica","bold");const g=va.PRIMO_SOTTOTITOLO,p=i.getTextWidth(g);i.rect(20,c-6,o-40,8),i.text(g,(o-p)/2,c),c+=12,i.setFontSize(9),i.setTextColor(...s),i.rect(20,c-6,o-40,8),i.text(va.SECONDO_SOTTOTITOLO,22,c);const w=22+i.getTextWidth(va.SECONDO_SOTTOTITOLO)+4;i.setTextColor(...l),i.setFont("helvetica","bold"),i.text(va.NOME_SQUADRA,w,c),c+=12;const I=20,A=o-40;i.setFontSize(9),i.setFont("helvetica","bold");const R=c,L=[.2*A,.4*A,.4*A];let J=I;L.forEach(Ke=>{i.rect(J,R-4,Ke,6),J+=Ke}),J=I,i.setFontSize(8),i.setFont("helvetica","bold"),i.setTextColor(...s);const ae="N\xb0 GARA";i.text(ae,J+2,R);const q=i.getTextWidth(ae);i.setTextColor(...l),i.text(`    ${t.numeroGara}`,J+2+q,R),J+=L[0],i.setTextColor(...s);const P="OSPITANTE";i.text(P,J+2,R);const x=i.getTextWidth(P);i.setTextColor(...l),i.text(`    ${t.ospitante}`,J+2+x,R),J+=L[1],i.setTextColor(...s);const B="OSPITE";i.text(B,J+2,R);const T=i.getTextWidth(B);i.setTextColor(...l),i.text(`    ${t.ospite}`,J+2+T,R),c+=6;const M=c,N=[.7*A,.3*A];J=I,N.forEach(Ke=>{i.rect(J,M-4,Ke,6),J+=Ke}),J=I;const te=t.indirizzo.length>50?t.indirizzo.substring(0,32)+"...":t.indirizzo;i.setTextColor(...s);const _e="INDIRIZZO";i.text(_e,J+2,M);const Ae=i.getTextWidth(_e);i.setTextColor(...l),i.text(`     ${te}`,J+2+Ae,M),J+=N[0],i.setTextColor(...s);const Ee="DATA E ORA";i.text(Ee,J+2,M);const me=i.getTextWidth(Ee);i.setTextColor(...l);const Te=r.formatDate(t.data);i.text(`    ${Te} ${t.ora}`,J+2+me,M),c+=6;const We=c;i.rect(I,We-4,A,6),i.setTextColor(...s);const Fe="CAMPIONATO";i.text(Fe,22,We);const j=i.getTextWidth(Fe);i.setTextColor(...l),i.text(`    ${t.campionato}`,22+j,We),c+=12;const K=yield r.giocatoriService.getGiocatori(),ee=r.filtraEOrdinaGiocatori(K),ie=K.filter(Ke=>"allenatore"===(Ke.ruolo||"").toLowerCase()),ue=K.filter(Ke=>"dirigente"===(Ke.ruolo||"").toLowerCase()),be=[.0625*A,.3125*A,3/12.8*A,3/12.8*A,2/12.8*A],Ce=c;i.setFontSize(9),i.setFont("helvetica","bold"),i.setTextColor(...s);let Pe=I;["N\xb0","COGNOME E NOME","DATA DI NASCITA","TESSERA UISP","DOCUMENTO"].forEach((Ke,St)=>{i.rect(Pe,Ce-4,be[St],6);const Zt=i.getTextWidth(Ke);i.text(Ke,Pe+(be[St]-Zt)/2,Ce),Pe+=be[St]}),c+=6,i.setFontSize(9),i.setFont("helvetica","bold"),i.setTextColor(...l),ee.forEach((Ke,St)=>{Pe=I,be.forEach(Hi=>{i.rect(Pe,c-4,Hi,6),Pe+=Hi}),Pe=I;const Dt=`${Ke.numeroMaglia||St+1}`,rn=i.getTextWidth(Dt);i.text(Dt,Pe+(be[0]-rn)/2,c),Pe+=be[0];let Ct=`${Ke.cognome?.toUpperCase()||""} ${Ke.nome?.toUpperCase()||""}`.trim();const zn=Ke.capitano?"K":"libero"===Ke.ruolo?.toLowerCase()?"L":"",Tr=zn?i.getTextWidth(zn):0,Ot=be[1]-2-(zn?Tr+4:0);if(i.getTextWidth(Ct)>Ot){for(;i.getTextWidth(Ct+"...")>Ot&&Ct.length>0;)Ct=Ct.slice(0,-1);Ct+="..."}i.text(Ct,Pe+2,c),zn&&i.text(zn,Pe+be[1]-2-Tr,c),Pe+=be[1];const vn=r.formatDate(Ke.dataDiNascita||""),ao=i.getTextWidth(vn);i.text(vn,Pe+(be[2]-ao)/2,c),Pe+=be[2];const ei=Ke.tesseraUisp||"",No=i.getTextWidth(ei);i.text(ei,Pe+(be[3]-No)/2,c),Pe+=be[3],c+=6}),c+=4;const Ze=[3/12.8*A,4.8/12.8*A,3/12.8*A,2/12.8*A];i.setFontSize(8),i.setFont("helvetica","bold"),["1\xb0 ALLENATORE","2\xb0 ALLENATORE","DIRIGENTE"].forEach(Ke=>{Pe=I,Ze.forEach(Ct=>{i.rect(Pe,c-4,Ct,6),Pe+=Ct}),Pe=I,i.setTextColor(...s);const St=i.getTextWidth(Ke);i.text(Ke,Pe+(Ze[0]-St)/2,c),Pe+=Ze[0],i.setTextColor(...l);let Zt=null;Ke.startsWith("1\xb0")&&ie.length>0?Zt=ie[0]:Ke.startsWith("2\xb0")&&ie.length>1?Zt=ie[1]:"DIRIGENTE"===Ke&&ue.length>0&&(Zt=ue[0]);const Dt=Zt?`${(Zt.cognome||"").toUpperCase()} ${(Zt.nome||"").toUpperCase()}`.trim():"",rn=Zt&&Zt.tesseraUisp||"";if(Dt&&i.text(Dt,Pe+2,c),Pe+=Ze[1],rn){const Ct=i.getTextWidth(rn);i.text(rn,Pe+(Ze[2]-Ct)/2,c)}Pe+=Ze[2],c+=6}),c+=4,i.rect(20,c-4,o-40,6),i.setFontSize(10),i.setFont("helvetica","bold"),i.setTextColor(139,0,0);const $t=va.TITOLO_DEFIBRILLATORE,Pt=i.getTextWidth($t);i.text($t,(o-Pt)/2,c),c+=6,i.setFontSize(9);const tt=i.splitTextToSize(va.SOTTOTITOLO_DEFIBRILLATORE,o-48),At=4*tt.length+2;i.rect(20,c-4,o-40,At),tt.forEach((Ke,St)=>{const Zt=i.getTextWidth(Ke);i.text(Ke,(o-Zt)/2,c+4*St)}),c+=At+4;const un=(t.ospitante||"").toUpperCase().includes("THUNDERS"),Rt=va.ADDETTO_DEFIBRILLATORE_THUNDERS;i.setFontSize(9),i.setFont("helvetica","bold"),i.setTextColor(...l);const Ft=un?`${Rt.cognome.toUpperCase()} ${Rt.nome.toUpperCase()}`:"",Yt=un?Rt.codiceFiscale:"";i.text(`IL/LA SOTTOSCRITTO/A: ${Ft||"_______________________"}`,20,c),i.text(`CODICE FISCALE: ${Yt||"_______________"}`,125,c),c+=6;const wt=un?r.formatDate(Rt.dataDiNascita):"",_t=un?Rt.luogoNascita:"__________",kt=un?Rt.residenza:"_______________";i.text(`NATO/A IL: ${wt||"__________"}`,20,c),i.text(`A: ${_t}`,75,c),i.text(`RESIDENTE IN: ${kt}`,125,c),c+=7,i.setFontSize(8);const Bn=i.splitTextToSize(va.TESTO_DICHIARAZIONE_DEFIBRILLATORE,o-40);i.text(Bn,20,c),c+=2.5*Bn.length+8,i.setFontSize(9),i.text("DATA_______________",20,c),i.text("FIRMA_______________________",80,c),i.setFont("helvetica","bold"),i.text("IL CAPITANO_____________________",140,c);const pn=`Lista_Gara_${t.numeroGara}_${t.data.replace(/-/g,"")}.pdf`;i.save(pn)})()}formatDate(t){return Ui.formatDate(t)}loadImageAsBase64(t){return(0,ne.A)(function*(){const i=yield(yield fetch(t)).blob();return new Promise((o,s)=>{const a=new FileReader;a.onloadend=()=>o(a.result),a.onerror=s,a.readAsDataURL(i)})})()}filtraEOrdinaGiocatori(t){const r=t.filter(i=>{const o=(i.ruolo||"").toLowerCase();return"allenatore"!==o&&"dirigente"!==o});return Ui.ordinaGiocatoriPerCognome(r)}static{this.\u0275fac=function(r){return new(r||n)(ht(I2))}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function r2e(n,e){if(1&n&&(E(0,"span",37),se(1,"i",38),$(2),S()),2&n){const t=xe();U(2),In("",t.season," ")}}function i2e(n,e){if(1&n&&(E(0,"span",37),se(1,"i",39),$(2),S()),2&n){const t=xe();U(2),In("",t.partiteRimanenti," partite rimanenti ")}}function o2e(n,e){if(1&n&&(E(0,"span",37),se(1,"i",40),$(2),wr(3,"date"),S()),2&n){const t=xe();U(2),In("Agg. ",hs(3,1,t.lastUpdate,"dd/MM/yy HH:mm")," ")}}function s2e(n,e){if(1&n&&(E(0,"div",41)(1,"span",42),$(2,"Stagione"),S(),E(3,"span",43),$(4),S()()),2&n){const t=xe();U(4),Qe(t.season)}}function a2e(n,e){if(1&n&&(E(0,"div",41)(1,"span",42),$(2,"Campionato"),S(),E(3,"span",43),$(4),S()()),2&n){const t=xe();U(4),Qe(t.campionato)}}function l2e(n,e){if(1&n&&(E(0,"div",41)(1,"span",42),$(2,"Partite rimanenti"),S(),E(3,"span",43),$(4),S()()),2&n){const t=xe();U(4),Qe(t.partiteRimanenti)}}function c2e(n,e){if(1&n&&(E(0,"div",41)(1,"span",42),se(2,"i",40),$(3,"Aggiornamento"),S(),E(4,"span",43),$(5),wr(6,"date"),S()()),2&n){const t=xe();U(5),Qe(hs(6,1,t.lastUpdate,"dd/MM/yy HH:mm"))}}function u2e(n,e){1&n&&(E(0,"span",51),$(1,"-"),S())}function d2e(n,e){1&n&&(E(0,"span",53),se(1,"i",54),S())}function h2e(n,e){1&n&&(E(0,"span",53),se(1,"i",55),S())}function f2e(n,e){if(1&n&&(E(0,"span"),$(1),$e(2,d2e,2,0,"span",52),$e(3,h2e,2,0,"span",52),S()),2&n){const t=xe().$implicit,r=xe();U(1),In(" ",t.risultato," "),U(1),le("ngIf",!0===r.isVittoria(t)),U(1),le("ngIf",!1===r.isVittoria(t))}}function p2e(n,e){if(1&n){const t=Ln();E(0,"button",56),De("click",function(){lt(t);const i=xe().index;return ct(xe().aggiungiAlCalendario(i))}),se(1,"i",57),S()}}function g2e(n,e){if(1&n){const t=Ln();E(0,"button",58),De("click",function(){lt(t);const i=xe().index;return ct(xe().creaListaGara(i))}),se(1,"i",59),S()}}function m2e(n,e){if(1&n){const t=Ln();E(0,"tr")(1,"td")(2,"span",44),$(3),S()(),E(4,"td"),$(5),S(),E(6,"td"),$(7),S(),E(8,"td"),$(9),S(),E(10,"td")(11,"a",45),De("click",function(){const o=lt(t).$implicit;return ct(xe().openMaps(o.indirizzo))}),se(12,"i",46),$(13),S()(),E(14,"td"),$(15),S(),E(16,"td"),$(17),S(),E(18,"td"),$e(19,u2e,2,0,"span",47),$e(20,f2e,4,3,"span",32),S(),E(21,"td",48),$e(22,p2e,2,0,"button",49),$e(23,g2e,2,0,"button",50),S()()}if(2&n){const t=e.$implicit,r=xe();U(3),Qe(t.numeroGara),U(2),Qe(r.formatDataCompleta(t.data)),U(2),Qe(t.ora),U(2),Qe(t.campionato),U(4),In(" ",t.indirizzo," "),U(2),Qe(t.ospitante),U(2),Qe(t.ospite),U(2),le("ngIf",!t.risultato),U(1),le("ngIf",t.risultato),U(2),le("ngIf",!t.risultato),U(1),le("ngIf",r.authService.hasEditPermission()&&!t.risultato)}}function _2e(n,e){if(1&n&&(E(0,"tr")(1,"td",60),se(2,"i",61),$(3),S()()),2&n){const t=xe();U(3),In(" ",0===t.partite.length?"Nessuna partita in calendario":"Nessun risultato trovato"," ")}}function v2e(n,e){1&n&&(E(0,"div",62),$(1," Nessuna partita in calendario "),S())}function y2e(n,e){1&n&&se(0,"i",87)}function b2e(n,e){1&n&&se(0,"i",88)}function w2e(n,e){if(1&n&&(E(0,"div",83)(1,"span",84),$(2),S(),$e(3,y2e,1,0,"i",85),$e(4,b2e,1,0,"i",86),S()),2&n){const t=xe().$implicit,r=xe();U(1),zt("text-success",r.isVittoria(t))("text-danger",!1===r.isVittoria(t)),U(1),In(" ",t.risultato," "),U(1),le("ngIf",!0===r.isVittoria(t)),U(1),le("ngIf",!1===r.isVittoria(t))}}function I2e(n,e){if(1&n&&(E(0,"div",89),se(1,"i",40),$(2),S()),2&n){const t=xe().$implicit;U(2),In("",t.ora," ")}}function C2e(n,e){if(1&n){const t=Ln();E(0,"button",90),De("click",function(){lt(t);const i=xe().index;return ct(xe().aggiungiAlCalendario(i))}),se(1,"i",91),$(2,"Aggiungi "),S()}}function E2e(n,e){if(1&n){const t=Ln();E(0,"button",92),De("click",function(){lt(t);const i=xe().index;return ct(xe().creaListaGara(i))}),se(1,"i",39),$(2,"Lista Gara "),S()}}function A2e(n,e){if(1&n){const t=Ln();E(0,"div",63)(1,"h2",64)(2,"button",65)(3,"div",66),$(4),S(),E(5,"div",67)(6,"div",68),$(7),S(),E(8,"div",69),$(9),S()(),$e(10,w2e,5,7,"div",70),$e(11,I2e,3,1,"div",71),S()(),E(12,"div",72)(13,"div",73)(14,"div",74)(15,"div",75)(16,"span",76),$(17,"Ospitante"),S(),E(18,"span",77),$(19),S()()(),E(20,"div",74)(21,"div",75)(22,"span",76),$(23,"Ospite"),S(),E(24,"span",77),$(25),S()()(),E(26,"div",74)(27,"div",78)(28,"span",76),se(29,"i",46),$(30,"Indirizzo "),S(),E(31,"a",79),De("click",function(){const o=lt(t).$implicit;return ct(xe().openMaps(o.indirizzo))}),$(32),S()()(),E(33,"div",80),$e(34,C2e,3,0,"button",81),$e(35,E2e,3,0,"button",82),S()()()()}if(2&n){const t=e.$implicit,r=e.index,i=xe();zt("partita-giocata",t.risultato)("partita-futura",!t.risultato),U(1),Qr("id","heading"+r),U(1),Qr("data-bs-target","#collapse"+r)("aria-controls","collapse"+r),U(2),Qe(t.numeroGara),U(3),Qe(i.formatDataCompleta(t.data)),U(2),Ua("",t.ospitante," vs ",t.ospite,""),U(1),le("ngIf",t.risultato),U(1),le("ngIf",!t.risultato),U(1),Qr("id","collapse"+r)("aria-labelledby","heading"+r),U(7),Qe(t.ospitante),U(6),Qe(t.ospite),U(7),In(" ",t.indirizzo," "),U(2),le("ngIf",!t.risultato),U(1),le("ngIf",i.authService.hasEditPermission()&&!t.risultato)}}const hd=function(n,e,t){return{"bi-arrow-down":n,"bi-arrow-up":e,"bi-arrow-down-up":t}};let T2e=(()=>{class n{constructor(t,r,i){this.calendarioService=t,this.pdfService=r,this.authService=i,this.partite=[],this.filteredPartite=[],this.lastUpdate=null,this.season="",this.filters={numeroGara:"",data:"",ora:"",campionato:"",indirizzo:"",ospitante:"",ospite:"",risultato:""},this.sortColumn="data",this.sortDirection="asc"}ngOnInit(){this.partiteSubscription=this.calendarioService.getPartiteWithMetadataObservable().subscribe(t=>{this.partite=t.partite||[],this.lastUpdate=t.lastUpdate,this.season=t.season,this.applyFilters()})}ngOnDestroy(){this.partiteSubscription&&this.partiteSubscription.unsubscribe()}get partiteRimanenti(){return this.partite.filter(t=>!t.risultato||""===t.risultato.trim()).length}get campionato(){return this.partite.length>0?this.partite[0].campionato:""}get partiteOrdinateEFiltrate(){return this.filteredPartite}applyFilters(){let t=[...this.partite];Object.keys(this.filters).forEach(r=>{const i=this.filters[r].toLowerCase().trim();i&&(t=t.filter(o=>{let s=o[r];if("data"===r&&s){const a=new Date(s);s=`${a.getDate().toString().padStart(2,"0")}/${(a.getMonth()+1).toString().padStart(2,"0")}/${a.getFullYear()}`}return s?.toString().toLowerCase().includes(i)}))}),t.sort((r,i)=>{let o=r[this.sortColumn],s=i[this.sortColumn];return"data"===this.sortColumn?(o=o?new Date(o).getTime():0,s=s?new Date(s).getTime():0):"numeroGara"===this.sortColumn?(o=parseInt(o)||0,s=parseInt(s)||0):(o=o?.toString().toLowerCase()||"",s=s?.toString().toLowerCase()||""),o<s?"asc"===this.sortDirection?-1:1:o>s?"asc"===this.sortDirection?1:-1:0}),this.filteredPartite=t}onFilterChange(){this.applyFilters()}sortBy(t){this.sortColumn===t?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=t,this.sortDirection="asc"),this.applyFilters()}clearFilters(){this.filters={numeroGara:"",data:"",ora:"",campionato:"",indirizzo:"",ospitante:"",ospite:"",risultato:""},this.applyFilters()}isVittoria(t){if(!t.risultato)return null;const r=t.risultato.split("-");if(2!==r.length)return null;const i=parseInt(r[0].trim()),o=parseInt(r[1].trim());if(isNaN(i)||isNaN(o))return null;const s=t.ospitante.toLowerCase().includes("thunders"),a=t.ospite.toLowerCase().includes("thunders");return s||a?s?i>o:o>i:null}openMaps(t){Ui.openMaps(t)}creaListaGara(t){var r=this;return(0,ne.A)(function*(){try{const i=r.filteredPartite[t];yield r.pdfService.generaListaGara(i)}catch(i){console.error("Errore nella generazione del PDF:",i),alert("Errore nella generazione del PDF. Riprova pi\xf9 tardi.")}})()}aggiungiAlCalendario(t){const r=this.filteredPartite[t],i=new Date(r.data),[o,s]=r.ora.split(":");i.setHours(parseInt(o),parseInt(s),0,0);const a=new Date(i);a.setHours(i.getHours()+2);const l=p=>`${p.getFullYear()}${String(p.getMonth()+1).padStart(2,"0")}${String(p.getDate()).padStart(2,"0")}T${String(p.getHours()).padStart(2,"0")}${String(p.getMinutes()).padStart(2,"0")}${String(p.getSeconds()).padStart(2,"0")}`,c=l(i),u=l(a),d=l(new Date),g=Ui.getIcsConstants(c,u,d,r);if(va.isMobile){const p=new Blob([g],{type:"text/calendar;charset=utf-8"}),y=URL.createObjectURL(p);window.location.href=y,setTimeout(()=>URL.revokeObjectURL(y),1e3)}else{const p=new Blob([g],{type:"text/calendar;charset=utf-8"}),y=window.URL.createObjectURL(p),w=document.createElement("a");w.href=y,w.download=`partita-${r.numeroGara}.ics`,w.click(),window.URL.revokeObjectURL(y)}}formatDataCompleta(t){return Ui.formatDateWithDay(t)}static{this.\u0275fac=function(r){return new(r||n)(Le(Q9),Le(n2e),Le(Vc))}}static{this.\u0275cmp=as({type:n,selectors:[["app-calendario"]],decls:101,vars:59,consts:[[1,"container-fluid","px-3","py-4","custom-spacing"],[1,"desktop-header","d-none","d-md-block","mb-3"],[1,"desktop-header-card"],[1,"desktop-header-content"],[1,"header-left"],[1,"header-icon"],[1,"bi","bi-calendar-event-fill"],[1,"header-text"],[1,"header-title"],[1,"header-meta"],["class","meta-item",4,"ngIf"],[1,"mobile-header","d-md-none","mb-3"],[1,"mobile-header-card"],[1,"mobile-header-title"],[1,"bi","bi-calendar-event-fill","me-2"],[1,"title-text"],[1,"mobile-header-info"],["class","info-item",4,"ngIf"],[1,"table-container","d-none","d-md-block"],[1,"table-wrapper"],[1,"table","table-hover","modern-table"],[1,"table-header","sticky-header"],[1,"sortable",3,"click"],[1,"th-content"],[1,"bi",3,"ngClass"],[1,"actions-column"],["title","Pulisci filtri",1,"btn","btn-sm","btn-link","text-white",3,"click"],[1,"bi","bi-x-circle"],[1,"filter-row"],["type","text","placeholder","Filtra...",1,"form-control","form-control-sm","filter-input",3,"ngModel","ngModelChange","input"],["type","text","placeholder","gg/mm/aaaa",1,"form-control","form-control-sm","filter-input",3,"ngModel","ngModelChange","input"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"d-md-none"],["class","text-center text-muted py-4",4,"ngIf"],["id","calendarioAccordion",1,"accordion","mobile-calendario"],["class","accordion-item mobile-partita-card",3,"partita-giocata","partita-futura",4,"ngFor","ngForOf"],[1,"meta-item"],[1,"bi","bi-calendar3","me-1"],[1,"bi","bi-list-check","me-1"],[1,"bi","bi-clock","me-1"],[1,"info-item"],[1,"info-label"],[1,"info-value"],[1,"badge","bg-primary"],["href","javascript:void(0)","title","Apri in Google Maps",1,"text-decoration-none","text-primary","d-inline-flex","align-items-center","maps-link",3,"click"],[1,"bi","bi-geo-alt-fill","me-1"],["class","text-muted",4,"ngIf"],[1,"actions-cell"],["class","btn btn-info btn-sm me-1","title","Aggiungi al calendario",3,"click",4,"ngIf"],["class","btn btn-secondary btn-sm","title","Crea lista gara",3,"click",4,"ngIf"],[1,"text-muted"],["class","ms-2",4,"ngIf"],[1,"ms-2"],[1,"bi","bi-check-circle-fill","text-success"],[1,"bi","bi-x-circle-fill","text-danger"],["title","Aggiungi al calendario",1,"btn","btn-info","btn-sm","me-1",3,"click"],[1,"bi","bi-calendar-plus"],["title","Crea lista gara",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"bi","bi-list-check"],["colspan","9",1,"text-center","text-muted","py-4"],[1,"bi","bi-inbox","fs-1","d-block","mb-2"],[1,"text-center","text-muted","py-4"],[1,"accordion-item","mobile-partita-card"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"accordion-button","collapsed","mobile-partita-header"],[1,"gara-badge"],[1,"partita-info"],[1,"partita-data"],[1,"partita-match"],["class","risultato-badge",4,"ngIf"],["class","ora-badge",4,"ngIf"],["data-bs-parent","#calendarioAccordion",1,"accordion-collapse","collapse"],[1,"accordion-body","mobile-partita-details"],[1,"detail-row"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],[1,"detail-item","full-width"],["href","javascript:void(0)",1,"detail-value","detail-link",3,"click"],[1,"action-buttons","mt-3"],["class","btn btn-info btn-sm flex-fill",3,"click",4,"ngIf"],["class","btn btn-secondary btn-sm flex-fill",3,"click",4,"ngIf"],[1,"risultato-badge"],[1,"risultato-value"],["class","bi bi-check-circle-fill text-success ms-1",4,"ngIf"],["class","bi bi-x-circle-fill text-danger ms-1",4,"ngIf"],[1,"bi","bi-check-circle-fill","text-success","ms-1"],[1,"bi","bi-x-circle-fill","text-danger","ms-1"],[1,"ora-badge"],[1,"btn","btn-info","btn-sm","flex-fill",3,"click"],[1,"bi","bi-calendar-plus","me-1"],[1,"btn","btn-secondary","btn-sm","flex-fill",3,"click"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),se(6,"i",6),S(),E(7,"div",7)(8,"h3",8),$(9,"Calendario"),S(),E(10,"div",9),$e(11,r2e,3,1,"span",10),$e(12,i2e,3,1,"span",10),$e(13,o2e,4,4,"span",10),S()()()()()(),E(14,"div",11)(15,"div",12)(16,"div",13),se(17,"i",14),E(18,"span",15),$(19,"Calendario"),S()(),E(20,"div",16),$e(21,s2e,5,1,"div",17),$e(22,a2e,5,1,"div",17),$e(23,l2e,5,1,"div",17),$e(24,c2e,7,4,"div",17),S()()(),E(25,"div",18)(26,"div",19)(27,"table",20)(28,"thead",21)(29,"tr")(30,"th",22),De("click",function(){return i.sortBy("numeroGara")}),E(31,"div",23)(32,"span"),$(33,"N. Gara"),S(),se(34,"i",24),S()(),E(35,"th",22),De("click",function(){return i.sortBy("data")}),E(36,"div",23)(37,"span"),$(38,"Data"),S(),se(39,"i",24),S()(),E(40,"th",22),De("click",function(){return i.sortBy("ora")}),E(41,"div",23)(42,"span"),$(43,"Ora"),S(),se(44,"i",24),S()(),E(45,"th",22),De("click",function(){return i.sortBy("campionato")}),E(46,"div",23)(47,"span"),$(48,"Campionato"),S(),se(49,"i",24),S()(),E(50,"th",22),De("click",function(){return i.sortBy("indirizzo")}),E(51,"div",23)(52,"span"),$(53,"Indirizzo"),S(),se(54,"i",24),S()(),E(55,"th",22),De("click",function(){return i.sortBy("ospitante")}),E(56,"div",23)(57,"span"),$(58,"Ospitante"),S(),se(59,"i",24),S()(),E(60,"th",22),De("click",function(){return i.sortBy("ospite")}),E(61,"div",23)(62,"span"),$(63,"Ospite"),S(),se(64,"i",24),S()(),E(65,"th",22),De("click",function(){return i.sortBy("risultato")}),E(66,"div",23)(67,"span"),$(68,"Risultato"),S(),se(69,"i",24),S()(),E(70,"th",25)(71,"div",23)(72,"span"),$(73,"Azioni"),S(),E(74,"button",26),De("click",function(){return i.clearFilters()}),se(75,"i",27),S()()()(),E(76,"tr",28)(77,"th")(78,"input",29),De("ngModelChange",function(s){return i.filters.numeroGara=s})("input",function(){return i.onFilterChange()}),S()(),E(79,"th")(80,"input",30),De("ngModelChange",function(s){return i.filters.data=s})("input",function(){return i.onFilterChange()}),S()(),E(81,"th")(82,"input",29),De("ngModelChange",function(s){return i.filters.ora=s})("input",function(){return i.onFilterChange()}),S()(),E(83,"th")(84,"input",29),De("ngModelChange",function(s){return i.filters.campionato=s})("input",function(){return i.onFilterChange()}),S()(),E(85,"th")(86,"input",29),De("ngModelChange",function(s){return i.filters.indirizzo=s})("input",function(){return i.onFilterChange()}),S()(),E(87,"th")(88,"input",29),De("ngModelChange",function(s){return i.filters.ospitante=s})("input",function(){return i.onFilterChange()}),S()(),E(89,"th")(90,"input",29),De("ngModelChange",function(s){return i.filters.ospite=s})("input",function(){return i.onFilterChange()}),S()(),E(91,"th")(92,"input",29),De("ngModelChange",function(s){return i.filters.risultato=s})("input",function(){return i.onFilterChange()}),S()(),se(93,"th"),S()(),E(94,"tbody"),$e(95,m2e,24,11,"tr",31),$e(96,_2e,4,1,"tr",32),S()()()(),E(97,"div",33),$e(98,v2e,2,0,"div",34),E(99,"div",35),$e(100,A2e,36,20,"div",36),S()()()),2&r&&(U(11),le("ngIf",i.season),U(1),le("ngIf",i.partite.length),U(1),le("ngIf",i.lastUpdate),U(8),le("ngIf",i.season),U(1),le("ngIf",i.campionato),U(1),le("ngIf",i.partite.length),U(1),le("ngIf",i.lastUpdate),U(10),le("ngClass",br(27,hd,"numeroGara"===i.sortColumn&&"asc"===i.sortDirection,"numeroGara"===i.sortColumn&&"desc"===i.sortDirection,"numeroGara"!==i.sortColumn)),U(5),le("ngClass",br(31,hd,"data"===i.sortColumn&&"asc"===i.sortDirection,"data"===i.sortColumn&&"desc"===i.sortDirection,"data"!==i.sortColumn)),U(5),le("ngClass",br(35,hd,"ora"===i.sortColumn&&"asc"===i.sortDirection,"ora"===i.sortColumn&&"desc"===i.sortDirection,"ora"!==i.sortColumn)),U(5),le("ngClass",br(39,hd,"campionato"===i.sortColumn&&"asc"===i.sortDirection,"campionato"===i.sortColumn&&"desc"===i.sortDirection,"campionato"!==i.sortColumn)),U(5),le("ngClass",br(43,hd,"indirizzo"===i.sortColumn&&"asc"===i.sortDirection,"indirizzo"===i.sortColumn&&"desc"===i.sortDirection,"indirizzo"!==i.sortColumn)),U(5),le("ngClass",br(47,hd,"ospitante"===i.sortColumn&&"asc"===i.sortDirection,"ospitante"===i.sortColumn&&"desc"===i.sortDirection,"ospitante"!==i.sortColumn)),U(5),le("ngClass",br(51,hd,"ospite"===i.sortColumn&&"asc"===i.sortDirection,"ospite"===i.sortColumn&&"desc"===i.sortDirection,"ospite"!==i.sortColumn)),U(5),le("ngClass",br(55,hd,"risultato"===i.sortColumn&&"asc"===i.sortDirection,"risultato"===i.sortColumn&&"desc"===i.sortDirection,"risultato"!==i.sortColumn)),U(9),le("ngModel",i.filters.numeroGara),U(2),le("ngModel",i.filters.data),U(2),le("ngModel",i.filters.ora),U(2),le("ngModel",i.filters.campionato),U(2),le("ngModel",i.filters.indirizzo),U(2),le("ngModel",i.filters.ospitante),U(2),le("ngModel",i.filters.ospite),U(2),le("ngModel",i.filters.risultato),U(3),le("ngForOf",i.partiteOrdinateEFiltrate),U(1),le("ngIf",0===i.filteredPartite.length),U(2),le("ngIf",0===i.partite.length),U(2),le("ngForOf",i.partiteOrdinateEFiltrate))},dependencies:[Ym,Eu,fa,Ml,Ju,Rh,Zm],styles:[".file-input-hidden[_ngcontent-%COMP%]{display:none}.custom-spacing[_ngcontent-%COMP%]{margin-top:-20px}.table-container[_ngcontent-%COMP%]{background:white;border-radius:8px;box-shadow:0 1px 3px #00000014;overflow:hidden;margin-bottom:2rem}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;max-height:calc(100vh - 200px)}.modern-table[_ngcontent-%COMP%]{margin-bottom:0;font-size:.9rem}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10}.table-header[_ngcontent-%COMP%]{background-color:#cfe2ff;color:#084298}.table-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#cfe2ff!important}.table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.75rem;font-weight:600;white-space:nowrap;background-color:#cfe2ff!important}.sortable[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:background-color .2s}.sortable[_ngcontent-%COMP%]:hover{background-color:#0842981a}.th-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.5rem}.th-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem;opacity:.7}.filter-row[_ngcontent-%COMP%]{background-color:#cfe2ff}.filter-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem;background-color:#cfe2ff;border-top:none}.filter-input[_ngcontent-%COMP%]{font-size:.85rem;border:1px solid #dee2e6;border-radius:4px;padding:.375rem .5rem}.filter-input[_ngcontent-%COMP%]:focus{border-color:#6ea8fe;box-shadow:0 0 0 .2rem #6ea8fe40}.table-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{color:#084298;opacity:.8}.table-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{color:#052c65;opacity:1}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .15s;border-bottom:1px solid #f8f9fa}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#0d6efd0a}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;vertical-align:middle}.actions-column[_ngcontent-%COMP%]{min-width:180px;text-align:center}.actions-cell[_ngcontent-%COMP%]{white-space:nowrap;text-align:center}.actions-cell[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem}.actions-cell[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0}.modern-table[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.875rem;padding:.35rem .65rem;font-weight:500}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.375rem}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:last-child{margin-right:0}.maps-link[_ngcontent-%COMP%]{transition:all .2s ease}.maps-link[_ngcontent-%COMP%]:hover{background-color:rgba(var(--bs-primary-rgb),.1);border-radius:4px;padding:2px 4px;transform:translate(2px)}.accordion-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;width:100%}.gara-numero[_ngcontent-%COMP%]{font-weight:600;min-width:65px;color:#0d6efd}.gara-data[_ngcontent-%COMP%]{font-weight:500;min-width:85px}.gara-ora[_ngcontent-%COMP%]{font-weight:400;color:#6c757d;min-width:50px}@media (max-width: 1400px){.modern-table[_ngcontent-%COMP%]{font-size:.85rem}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem}}@media (max-width: 768px){.table-container[_ngcontent-%COMP%]{display:none}.maps-link[_ngcontent-%COMP%]:hover{transform:none}}.desktop-header[_ngcontent-%COMP%]{margin-bottom:1rem}.desktop-header-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d6efd 0%,#0a58ca 100%);border-radius:12px;padding:1.5rem 2rem;box-shadow:0 4px 12px #0d6efd33;color:#fff}.desktop-header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1.5rem}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.25rem}.header-icon[_ngcontent-%COMP%]{width:56px;height:56px;background:rgba(255,255,255,.15);border-radius:12px;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.header-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.75rem}.header-text[_ngcontent-%COMP%]{flex:1}.header-title[_ngcontent-%COMP%]{margin:0;font-size:1.75rem;font-weight:700;letter-spacing:-.5px}.header-meta[_ngcontent-%COMP%]{display:flex;gap:1.5rem;margin-top:.5rem;flex-wrap:wrap}.meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.9rem;opacity:.95;font-weight:500}.meta-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.8}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center}.header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-weight:500;border-radius:8px;white-space:nowrap}@media (max-width: 1200px){.desktop-header-card[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.header-icon[_ngcontent-%COMP%]{width:48px;height:48px}.header-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .header-title[_ngcontent-%COMP%]{font-size:1.5rem}.header-meta[_ngcontent-%COMP%]{gap:1rem}.meta-item[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width: 992px){.desktop-header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.header-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}}.mobile-header[_ngcontent-%COMP%]{padding:0}.mobile-header-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d6efd 0%,#0a58ca 100%);border-radius:12px;padding:1rem;box-shadow:0 4px 8px #00000026;color:#fff}.mobile-header-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.5rem;font-weight:700;margin-bottom:.75rem;padding-bottom:.75rem;border-bottom:1px solid rgba(255,255,255,.2)}.mobile-header-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.title-text[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.5px}.mobile-header-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.info-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.4rem .5rem;background:rgba(255,255,255,.1);border-radius:6px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.info-label[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase;letter-spacing:.5px;opacity:.9;font-weight:500}.info-value[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600}@media (max-width: 400px){.mobile-header-card[_ngcontent-%COMP%]{padding:.75rem}.mobile-header-title[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:.5rem;padding-bottom:.5rem}.mobile-header-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.info-item[_ngcontent-%COMP%]{padding:.35rem .4rem}.info-label[_ngcontent-%COMP%]{font-size:.7rem}.info-value[_ngcontent-%COMP%]{font-size:.85rem}}.mobile-calendario[_ngcontent-%COMP%]{padding:.5rem}.mobile-partita-card[_ngcontent-%COMP%]{border-radius:8px!important;margin-bottom:.75rem;border:1px solid #dee2e6!important;box-shadow:0 2px 4px #0000001a;overflow:hidden}.partita-giocata[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(25,135,84,.05) 0%,rgba(255,255,255,1) 100%)}.partita-futura[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(13,110,253,.05) 0%,rgba(255,255,255,1) 100%)}.mobile-partita-header[_ngcontent-%COMP%]{padding:.75rem!important;display:flex!important;align-items:center!important;gap:.75rem!important;background:transparent!important;border:none!important;box-shadow:none!important}.mobile-partita-header[_ngcontent-%COMP%]:not(.collapsed){background:transparent!important;border-bottom:1px solid #dee2e6!important}.mobile-partita-header[_ngcontent-%COMP%]:after{margin-left:auto!important;flex-shrink:0}.gara-badge[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:#0d6efd;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.9rem;flex-shrink:0}.partita-info[_ngcontent-%COMP%]{flex:1;min-width:0}.partita-data[_ngcontent-%COMP%]{font-size:.75rem;color:#6c757d;font-weight:500;text-transform:uppercase}.partita-match[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#212529;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.risultato-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;background:#f8f9fa;font-weight:600;font-size:.85rem;display:flex;align-items:center;gap:.25rem;flex-shrink:0}.risultato-value[_ngcontent-%COMP%]{font-weight:700}.ora-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;background:#e7f1ff;color:#0d6efd;font-weight:600;font-size:.85rem;display:flex;align-items:center;flex-shrink:0}.mobile-partita-details[_ngcontent-%COMP%]{padding:.75rem!important}.detail-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:.75rem}.detail-row[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}.detail-item[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem}.detail-item.full-width[_ngcontent-%COMP%]{flex:1 0 100%}.detail-label[_ngcontent-%COMP%]{font-size:.7rem;text-transform:uppercase;color:#6c757d;font-weight:600;letter-spacing:.5px}.detail-value[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#212529}.detail-link[_ngcontent-%COMP%]{color:#0d6efd!important;text-decoration:none;cursor:pointer;display:flex;align-items:center;word-break:break-word}.detail-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{white-space:nowrap}@media (max-width: 400px){.mobile-calendario[_ngcontent-%COMP%]{padding:.25rem}.mobile-partita-card[_ngcontent-%COMP%]{margin-bottom:.5rem}.mobile-partita-header[_ngcontent-%COMP%]{padding:.5rem!important;gap:.5rem!important}.gara-badge[_ngcontent-%COMP%]{width:32px;height:32px;font-size:.8rem}.partita-data[_ngcontent-%COMP%]{font-size:.7rem}.partita-match[_ngcontent-%COMP%]{font-size:.85rem}.risultato-badge[_ngcontent-%COMP%], .ora-badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.2rem .4rem}.detail-label[_ngcontent-%COMP%]{font-size:.65rem}.detail-value[_ngcontent-%COMP%]{font-size:.9rem}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.8rem;padding:.35rem .5rem}}"]})}}return n})(),S2e=(()=>{class n{constructor(t){this.firestore=t,this.collectionName="classifica"}getStandingsDataObservable(){const t=xl(this.firestore,this.collectionName);return C1(t,{idField:"id"}).pipe(cn(r=>{if(r&&r.length>0){const i=r[0];return{lastUpdate:i.lastUpdate?.toDate?i.lastUpdate.toDate():new Date(i.lastUpdate),season:i.season,standings:i.standings||[]}}return null}))}getStandingsData(){var t=this;return(0,ne.A)(function*(){return yield w2(t.getStandingsDataObservable())})()}getClassificaObservable(){return this.getStandingsDataObservable().pipe(cn(t=>t&&t.standings?[...t.standings].sort((r,i)=>(i.punti||0)-(r.punti||0)):[]))}getClassifica(){var t=this;return(0,ne.A)(function*(){return yield w2(t.getClassificaObservable())})()}static{this.\u0275fac=function(r){return new(r||n)(ht(Ku))}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function D2e(n,e){if(1&n&&(E(0,"span",32),se(1,"i",33),$(2),S()),2&n){const t=xe();U(2),In("",t.season," ")}}function x2e(n,e){if(1&n&&(E(0,"span",32),se(1,"i",34),$(2),wr(3,"date"),S()),2&n){const t=xe();U(2),In("Agg. ",hs(3,1,t.lastUpdate,"dd/MM/yyyy HH:mm")," ")}}function P2e(n,e){if(1&n&&(E(0,"tr")(1,"td",35),$(2),S(),E(3,"td"),$(4),S(),E(5,"td",36),$(6),S(),E(7,"td",18),$(8),S(),E(9,"td",18),$(10),S(),E(11,"td",18),$(12),S(),E(13,"td",18),$(14),S(),E(15,"td",18),$(16),S(),E(17,"td",18),$(18),wr(19,"percent"),S(),E(20,"td",18),$(21),S(),E(22,"td",18),$(23),S(),E(24,"td",18),$(25),wr(26,"percent"),S()()),2&n){const t=e.$implicit,r=e.index,i=xe();zt("table-primary",i.isThunders(t)),U(2),Qe(r+1),U(1),zt("fw-bold",i.isThunders(t))("fw-semibold",!i.isThunders(t)),U(1),Qe(t.squadra),U(2),Qe(t.punti),U(1),zt("fw-bold",i.isThunders(t)),U(1),Qe(t.partiteVinte+t.partitePerse),U(1),zt("fw-bold",i.isThunders(t)),U(1),Qe(t.partiteVinte),U(1),zt("fw-bold",i.isThunders(t)),U(1),Qe(t.partitePerse),U(1),zt("fw-bold",i.isThunders(t)),U(1),Qe(t.setVinti),U(1),zt("fw-bold",i.isThunders(t)),U(1),Qe(t.setPersi),U(1),zt("fw-bold",i.isThunders(t)),U(1),Qe(hs(19,36,t.quozienteSet/100,"1.0-0")),U(2),zt("fw-bold",i.isThunders(t)),U(1),Qe(t.puntiFatti),U(1),zt("fw-bold",i.isThunders(t)),U(1),Qe(t.puntiSubiti),U(1),zt("fw-bold",i.isThunders(t)),U(1),Qe(hs(26,39,t.quozientePunti/100,"1.2-2"))}}function M2e(n,e){1&n&&(E(0,"tr")(1,"td",37),se(2,"i",38),$(3,"Nessun dato disponibile "),S()())}function N2e(n,e){if(1&n&&(E(0,"div",39)(1,"span",40),$(2,"Stagione"),S(),E(3,"span",41),$(4),S()()),2&n){const t=xe();U(4),Qe(t.season)}}function R2e(n,e){if(1&n&&(E(0,"div",39)(1,"span",40),se(2,"i",34),$(3,"Aggiornamento"),S(),E(4,"span",41),$(5),wr(6,"date"),S()()),2&n){const t=xe();U(5),Qe(hs(6,1,t.lastUpdate,"dd/MM/yy HH:mm"))}}function k2e(n,e){1&n&&(E(0,"div",42),se(1,"i",38),$(2,"Nessun dato disponibile "),S())}function O2e(n,e){if(1&n&&(E(0,"div",43)(1,"h2",44)(2,"button",45)(3,"div",46),$(4),S(),E(5,"div",47),$(6),S(),E(7,"div",48)(8,"span",49),$(9),S()()()(),E(10,"div",50)(11,"div",51)(12,"div",52)(13,"div",53)(14,"span",54),$(15,"GIOCATE"),S(),E(16,"span",55),$(17),S()(),E(18,"div",53)(19,"span",54),$(20,"Vittorie"),S(),E(21,"span",55),$(22),S()(),E(23,"div",53)(24,"span",54),$(25,"Sconfitte"),S(),E(26,"span",55),$(27),S()()(),E(28,"div",52)(29,"div",53)(30,"span",54),$(31,"Set Vinti"),S(),E(32,"span",55),$(33),S()(),E(34,"div",53)(35,"span",54),$(36,"Set Persi"),S(),E(37,"span",55),$(38),S()(),E(39,"div",53)(40,"span",54),$(41,"Q. Set"),S(),E(42,"span",55),$(43),wr(44,"percent"),S()()(),E(45,"div",52)(46,"div",53)(47,"span",54),$(48,"Pt. Fatti"),S(),E(49,"span",55),$(50),S()(),E(51,"div",53)(52,"span",54),$(53,"Pt. Subiti"),S(),E(54,"span",55),$(55),S()(),E(56,"div",53)(57,"span",54),$(58,"Q. Punti"),S(),E(59,"span",55),$(60),wr(61,"percent"),S()()()()()()),2&n){const t=e.$implicit,r=e.index,i=xe();zt("thunders-highlight",i.isThunders(t)),U(1),Qr("id","heading"+r),U(1),Qr("data-bs-target","#collapse"+r)("aria-controls","collapse"+r),U(2),Qe(r+1),U(1),zt("fw-bold",i.isThunders(t)),U(1),In(" ",t.squadra," "),U(3),Qe(t.punti),U(1),Qr("id","collapse"+r)("aria-labelledby","heading"+r),U(6),zt("fw-bold",i.isThunders(t)),U(1),Qe(t.partiteVinte+t.partitePerse),U(4),zt("fw-bold",i.isThunders(t)),U(1),Qe(t.partiteVinte),U(4),zt("fw-bold",i.isThunders(t)),U(1),Qe(t.partitePerse),U(5),zt("fw-bold",i.isThunders(t)),U(1),Qe(t.setVinti),U(4),zt("fw-bold",i.isThunders(t)),U(1),Qe(t.setPersi),U(4),zt("fw-bold",i.isThunders(t)),U(1),Qe(hs(44,39,t.quozienteSet/100,"1.0-0")),U(6),zt("fw-bold",i.isThunders(t)),U(1),Qe(t.puntiFatti),U(4),zt("fw-bold",i.isThunders(t)),U(1),Qe(t.puntiSubiti),U(4),zt("fw-bold",i.isThunders(t)),U(1),Qe(hs(61,42,t.quozientePunti/100,"1.2-2"))}}let L2e=(()=>{class n{constructor(t){this.classificaService=t,this.classifica=[],this.standingsData=null,this.lastUpdate=null,this.season=""}ngOnInit(){this.standingsSubscription=this.classificaService.getStandingsDataObservable().subscribe(t=>{t?(this.standingsData=t,this.classifica=t.standings||[],this.lastUpdate=t.lastUpdate,this.season=t.season,this.classifica.sort((r,i)=>(i.punti||0)-(r.punti||0))):(this.classifica=[],this.lastUpdate=null,this.season="")})}ngOnDestroy(){this.standingsSubscription&&this.standingsSubscription.unsubscribe()}isThunders(t){return t.squadra?.toLowerCase().includes("thunders")||!1}static{this.\u0275fac=function(r){return new(r||n)(Le(S2e))}}static{this.\u0275cmp=as({type:n,selectors:[["app-classifica"]],decls:61,vars:8,consts:[[1,"container-fluid","py-4","custom-spacing"],[1,"row"],[1,"col-12"],[1,"desktop-header","d-none","d-md-block","mb-3"],[1,"desktop-header-card"],[1,"desktop-header-content"],[1,"header-left"],[1,"header-icon"],[1,"bi","bi-trophy-fill"],[1,"header-text"],[1,"header-title"],[1,"header-meta"],["class","meta-item",4,"ngIf"],[1,"card","shadow-sm","d-none","d-md-block"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","table-hover","table-striped","mb-0"],[1,"table-light"],[1,"text-center"],[3,"table-primary",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"mobile-header","d-md-none","mb-3"],[1,"mobile-header-card"],[1,"mobile-header-title"],[1,"bi","bi-trophy-fill","me-2"],[1,"title-text"],[1,"mobile-header-info"],["class","info-item",4,"ngIf"],[1,"d-md-none"],["class","text-center text-muted py-4",4,"ngIf"],["id","classificaAccordion",1,"accordion","mobile-classifica"],["class","accordion-item mobile-squadra-card",3,"thunders-highlight",4,"ngFor","ngForOf"],[1,"meta-item"],[1,"bi","bi-calendar3","me-1"],[1,"bi","bi-clock","me-1"],[1,"text-center","fw-bold"],[1,"text-center","fw-bold","text-primary"],["colspan","12",1,"text-center","text-muted","py-4"],[1,"bi","bi-info-circle","me-2"],[1,"info-item"],[1,"info-label"],[1,"info-value"],[1,"text-center","text-muted","py-4"],[1,"accordion-item","mobile-squadra-card"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"accordion-button","collapsed","mobile-squadra-header"],[1,"position-badge"],[1,"squadra-nome"],[1,"punti-badge"],[1,"punti-value"],["data-bs-parent","#classificaAccordion",1,"accordion-collapse","collapse"],[1,"accordion-body","mobile-squadra-stats"],[1,"stat-row"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),se(8,"i",8),S(),E(9,"div",9)(10,"h3",10),$(11,"Classifica"),S(),E(12,"div",11),$e(13,D2e,3,1,"span",12),$e(14,x2e,4,4,"span",12),S()()()()()(),E(15,"div",13)(16,"div",14)(17,"div",15)(18,"table",16)(19,"thead",17)(20,"tr")(21,"th",18),$(22,"Pos"),S(),E(23,"th"),$(24,"Squadra"),S(),E(25,"th",18),$(26,"Punti"),S(),E(27,"th",18),$(28,"GIOCATE"),S(),E(29,"th",18),$(30,"V"),S(),E(31,"th",18),$(32,"P"),S(),E(33,"th",18),$(34,"Set V"),S(),E(35,"th",18),$(36,"Set P"),S(),E(37,"th",18),$(38,"Q. Set"),S(),E(39,"th",18),$(40,"Pt. F"),S(),E(41,"th",18),$(42,"Pt. S"),S(),E(43,"th",18),$(44,"Q. Pt."),S()()(),E(45,"tbody"),$e(46,P2e,27,42,"tr",19),$e(47,M2e,4,0,"tr",20),S()()()()(),E(48,"div",21)(49,"div",22)(50,"div",23),se(51,"i",24),E(52,"span",25),$(53,"Classifica"),S()(),E(54,"div",26),$e(55,N2e,5,1,"div",27),$e(56,R2e,7,4,"div",27),S()()(),E(57,"div",28),$e(58,k2e,3,0,"div",29),E(59,"div",30),$e(60,O2e,62,45,"div",31),S()()()()()),2&r&&(U(13),le("ngIf",i.season),U(1),le("ngIf",i.lastUpdate),U(32),le("ngForOf",i.classifica),U(1),le("ngIf",0===i.classifica.length),U(8),le("ngIf",i.season),U(1),le("ngIf",i.lastUpdate),U(2),le("ngIf",0===i.classifica.length),U(2),le("ngForOf",i.classifica))},dependencies:[Eu,fa,H6,Zm],styles:['.card[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden}.card-header[_ngcontent-%COMP%]{padding:1rem 1.5rem}.custom-spacing[_ngcontent-%COMP%]{margin-top:-20px}.table[_ngcontent-%COMP%]{margin-bottom:0}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;border-bottom:2px solid #dee2e6;padding:.75rem;font-size:.9rem}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;vertical-align:middle;font-size:.95rem}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#007bff0d}.mobile-classifica[_ngcontent-%COMP%]{padding:.5rem}.mobile-squadra-card[_ngcontent-%COMP%]{background:white;border:1px solid #dee2e6;border-radius:8px;margin-bottom:.75rem;overflow:hidden}.mobile-squadra-card.thunders-highlight[_ngcontent-%COMP%]{border:2px solid #0d6efd;background:linear-gradient(to bottom,rgba(13,110,253,.05) 0%,white 100%)}.mobile-squadra-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;background:linear-gradient(135deg,#f8f9fa 0%,#e9ecef 100%);border:none;width:100%;text-align:left;cursor:pointer}.accordion-button[_ngcontent-%COMP%]:after{display:none}.mobile-squadra-header[_ngcontent-%COMP%]:focus{box-shadow:none;outline:none}.mobile-squadra-header[_ngcontent-%COMP%]:after{content:"\\f282";font-family:bootstrap-icons;margin-left:auto;font-size:1rem;transition:transform .2s ease;flex-shrink:0}.mobile-squadra-header[_ngcontent-%COMP%]:not(.collapsed):after{transform:rotate(180deg)}.thunders-highlight[_ngcontent-%COMP%]   .mobile-squadra-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d6efd 0%,#0b5ed7 100%);color:#fff}.position-badge[_ngcontent-%COMP%]{background:#0d6efd;color:#fff;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.9rem;flex-shrink:0}.thunders-highlight[_ngcontent-%COMP%]   .position-badge[_ngcontent-%COMP%]{background:white;color:#0d6efd}.squadra-nome[_ngcontent-%COMP%]{flex:1;font-size:.95rem;font-weight:600;line-height:1.3}.thunders-highlight[_ngcontent-%COMP%]   .squadra-nome[_ngcontent-%COMP%]{color:#fff}.punti-badge[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background:white;padding:.25rem .75rem;border-radius:6px;border:1px solid #dee2e6;flex-shrink:0;margin-right:.5rem}.thunders-highlight[_ngcontent-%COMP%]   .punti-badge[_ngcontent-%COMP%]{background:rgba(255,255,255,.95);border-color:#fff}.punti-label[_ngcontent-%COMP%]{font-size:.7rem;color:#6c757d;text-transform:uppercase;font-weight:600}.punti-value[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#0d6efd;line-height:1}.mobile-squadra-stats[_ngcontent-%COMP%]{padding:.75rem 1rem;background:white}.stat-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:.5rem}.stat-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.stat-item[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;padding:.5rem;background:#f8f9fa;border-radius:6px;min-width:0}.thunders-highlight[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{background:rgba(13,110,253,.05)}.stat-label[_ngcontent-%COMP%]{font-size:.7rem;color:#6c757d;text-transform:uppercase;font-weight:600;margin-bottom:.25rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;text-align:center}.stat-value[_ngcontent-%COMP%]{font-size:1rem;color:#212529;font-weight:500}@media (max-width: 768px){.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem .25rem;font-size:.85rem}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 400px){.squadra-nome[_ngcontent-%COMP%]{font-size:.85rem}.stat-label[_ngcontent-%COMP%]{font-size:.65rem}.stat-value[_ngcontent-%COMP%]{font-size:.9rem}}.desktop-header[_ngcontent-%COMP%]{margin-bottom:1rem}.desktop-header-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d6efd 0%,#0a58ca 100%);border-radius:12px;padding:1.5rem 2rem;box-shadow:0 4px 12px #0d6efd33;color:#fff}.desktop-header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1.5rem}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.25rem}.header-icon[_ngcontent-%COMP%]{width:56px;height:56px;background:rgba(255,255,255,.15);border-radius:12px;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.header-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.75rem}.header-text[_ngcontent-%COMP%]{flex:1}.header-title[_ngcontent-%COMP%]{margin:0;font-size:1.75rem;font-weight:700;letter-spacing:-.5px}.header-meta[_ngcontent-%COMP%]{display:flex;gap:1.5rem;margin-top:.5rem;flex-wrap:wrap}.meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.9rem;opacity:.95;font-weight:500}.meta-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.8}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center}.header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-weight:500;border-radius:8px;white-space:nowrap}@media (max-width: 1200px){.desktop-header-card[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.header-icon[_ngcontent-%COMP%]{width:48px;height:48px}.header-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .header-title[_ngcontent-%COMP%]{font-size:1.5rem}.header-meta[_ngcontent-%COMP%]{gap:1rem}.meta-item[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width: 992px){.desktop-header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.header-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}}.mobile-header[_ngcontent-%COMP%]{padding:0}.mobile-header-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d6efd 0%,#0a58ca 100%);border-radius:12px;padding:1rem;box-shadow:0 4px 8px #00000026;color:#fff}.mobile-header-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.5rem;font-weight:700;margin-bottom:.75rem;padding-bottom:.75rem;border-bottom:1px solid rgba(255,255,255,.2)}.mobile-header-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.title-text[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.5px}.mobile-header-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.info-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.4rem .5rem;background:rgba(255,255,255,.1);border-radius:6px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.info-label[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase;letter-spacing:.5px;opacity:.9;font-weight:500}.info-value[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600}@media (max-width: 400px){.mobile-header-card[_ngcontent-%COMP%]{padding:.75rem}.mobile-header-title[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:.5rem;padding-bottom:.5rem}.mobile-header-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.info-item[_ngcontent-%COMP%]{padding:.35rem .4rem}.info-label[_ngcontent-%COMP%]{font-size:.7rem}.info-value[_ngcontent-%COMP%]{font-size:.85rem}}']})}}return n})();function F2e(n,e){if(1&n&&(E(0,"div",13),se(1,"i",14),$(2),S()),2&n){const t=xe();U(2),In(" ",t.errorMessage," ")}}function V2e(n,e){1&n&&(E(0,"span"),se(1,"i",15),$(2," Accedi "),S())}function U2e(n,e){1&n&&(E(0,"span"),se(1,"span",16),$(2," Accesso in corso... "),S())}let B2e=(()=>{class n{constructor(t,r,i){this.fb=t,this.authService=r,this.router=i,this.errorMessage="",this.loading=!1}ngOnInit(){this.authService.isAuthenticated()&&this.router.navigate(["/home"]),this.loginForm=this.fb.group({codiceFiscale:["",[Nl.required,Nl.minLength(16),Nl.maxLength(16)]]})}onLogin(){var t=this;return(0,ne.A)(function*(){if(t.loginForm.invalid)return;t.loading=!0,t.errorMessage="";const r=t.loginForm.get("codiceFiscale")?.value;try{(yield t.authService.login(r))?t.router.navigate(["/home"]):t.errorMessage="Codice fiscale non riconosciuto. Accesso negato."}catch{t.errorMessage="Errore durante il login. Riprova."}finally{t.loading=!1}})()}onCodiceFiscaleInput(t){const i=t.target.value.toUpperCase();this.loginForm.get("codiceFiscale")?.setValue(i,{emitEvent:!1})}static{this.\u0275fac=function(r){return new(r||n)(Le(Zj),Le(Vc),Le(bo))}}static{this.\u0275cmp=as({type:n,selectors:[["app-login"]],decls:18,vars:7,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"bi","bi-lightning-fill","text-primary"],["autocomplete","on",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","codiceFiscale",1,"form-label"],["type","text","id","codiceFiscale","name","username","formControlName","codiceFiscale","maxlength","16","autocomplete","username",1,"form-control","form-control-lg",3,"input"],[1,"invalid-feedback"],["type","password","name","password","autocomplete","current-password","value","dummy",2,"display","none"],["class","alert alert-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-lg","w-100",3,"disabled"],[4,"ngIf"],[1,"alert","alert-danger"],[1,"bi","bi-exclamation-triangle-fill","me-2"],[1,"bi","bi-box-arrow-in-right","me-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"]],template:function(r,i){if(1&r&&(E(0,"div",0)(1,"div",1)(2,"div",2),se(3,"i",3),E(4,"h2"),$(5,"PuntoVolley Thunders"),S()(),E(6,"form",4),De("ngSubmit",function(){return i.onLogin()}),E(7,"div",5)(8,"label",6),$(9,"Codice Fiscale"),S(),E(10,"input",7),De("input",function(s){return i.onCodiceFiscaleInput(s)}),S(),E(11,"div",8),$(12," Il codice fiscale deve essere di 16 caratteri "),S()(),se(13,"input",9),$e(14,F2e,3,1,"div",10),E(15,"button",11),$e(16,V2e,3,0,"span",12),$e(17,U2e,3,0,"span",12),S()()()()),2&r){let o;U(6),le("formGroup",i.loginForm),U(4),zt("is-invalid",(null==(o=i.loginForm.get("codiceFiscale"))?null:o.invalid)&&(null==(o=i.loginForm.get("codiceFiscale"))?null:o.touched)),U(4),le("ngIf",i.errorMessage),U(1),le("disabled",i.loginForm.invalid||i.loading),U(1),le("ngIf",!i.loading),U(1),le("ngIf",i.loading)}},dependencies:[fa,bP,Ml,Ju,uP,R1,N1,R2],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);padding:1rem}.login-card[_ngcontent-%COMP%]{background:white;border-radius:1rem;padding:2rem;box-shadow:0 10px 40px #0003;max-width:450px;width:100%}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.login-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;margin-bottom:.5rem;font-weight:700}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:.9rem}.form-control-lg[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:1rem}#codiceFiscale[_ngcontent-%COMP%]{text-transform:uppercase}.btn-lg[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:1rem}@media (max-width: 576px){.login-card[_ngcontent-%COMP%]{padding:1.5rem}.login-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}"]})}}return n})();function j2e(n,e){1&n&&(E(0,"div",15)(1,"div",29)(2,"div",17)(3,"div",18),se(4,"i",30),E(5,"span"),$(6,"Capitano"),S()(),E(7,"div",20)(8,"span",31),$(9,"S\xec"),S()()()()())}function z2e(n,e){if(1&n&&(E(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"div",18),se(5,"i",19),E(6,"span"),$(7,"Numero Maglia"),S()(),E(8,"div",20),$(9),S()()(),E(10,"div",16)(11,"div",17)(12,"div",18),se(13,"i",21),E(14,"span"),$(15,"Data di Nascita"),S()(),E(16,"div",20),$(17),S()()()(),E(18,"div",15)(19,"div",16)(20,"div",17)(21,"div",18),se(22,"i",22),E(23,"span"),$(24,"Ruolo"),S()(),E(25,"div",20),$(26),wr(27,"capitalize"),S()()(),E(28,"div",16)(29,"div",17)(30,"div",18),se(31,"i",23),E(32,"span"),$(33,"Tessera UISP"),S()(),E(34,"div",20),$(35),S()()()(),E(36,"div",15)(37,"div",16)(38,"div",17)(39,"div",18),se(40,"i",24),E(41,"span"),$(42,"Email"),S()(),E(43,"div",20),$(44),S()()(),E(45,"div",16)(46,"div",17)(47,"div",18),se(48,"i",25),E(49,"span"),$(50,"Codice Fiscale"),S()(),E(51,"div",20),$(52),S()()()(),E(53,"div",15)(54,"div",16)(55,"div",17)(56,"div",18),se(57,"i",26),E(58,"span"),$(59,"Taglia Divisa"),S()(),E(60,"div",20),$(61),S()()(),E(62,"div",16)(63,"div",17)(64,"div",18),se(65,"i",27),E(66,"span"),$(67,"Scadenza Certificato Medico"),S()(),E(68,"div",20),$(69),S()()()(),$e(70,j2e,10,0,"div",28),S()),2&n){const t=xe(2);U(9),Qe(t.currentUser.numeroMaglia),U(8),Qe(t.formatDate(t.currentUser.dataDiNascita)),U(9),Qe(ca(27,9,t.currentUser.ruolo)),U(9),Qe(t.currentUser.tesseraUisp),U(9),Qe(t.currentUser.email||"Non specificata"),U(8),Qe(t.currentUser.codiceFiscale||"Non specificato"),U(9),Qe(t.currentUser.tagliaDivisa||"Non specificata"),U(8),Qe(t.formatDate(t.currentUser.scadenzaCertificatoMedico)||"Non specificata"),U(1),le("ngIf",t.currentUser.capitano)}}function $2e(n,e){if(1&n){const t=Ln();E(0,"div",32)(1,"div",15)(2,"div",33)(3,"label",34),se(4,"i",35),$(5,"Email "),S(),E(6,"input",36),De("ngModelChange",function(i){return lt(t),ct(xe(2).editedUser.email=i)}),S()(),E(7,"div",33)(8,"label",34),se(9,"i",37),$(10,"Codice Fiscale "),S(),E(11,"input",38),De("ngModelChange",function(i){return lt(t),ct(xe(2).editedUser.codiceFiscale=i)}),S()()(),E(12,"div",15)(13,"div",33)(14,"label",34),se(15,"i",39),$(16,"Data di Nascita "),S(),E(17,"input",40),De("ngModelChange",function(i){return lt(t),ct(xe(2).editedUser.dataDiNascita=i)}),S()(),E(18,"div",33)(19,"label",34),se(20,"i",41),$(21,"Numero Maglia "),S(),E(22,"input",42),De("ngModelChange",function(i){return lt(t),ct(xe(2).editedUser.numeroMaglia=i)}),S()()(),E(23,"div",15)(24,"div",33)(25,"label",34),se(26,"i",43),$(27,"Taglia Divisa "),S(),E(28,"select",44),De("ngModelChange",function(i){return lt(t),ct(xe(2).editedUser.tagliaDivisa=i)}),E(29,"option",45),$(30,"Seleziona..."),S(),E(31,"option",46),$(32,"XS"),S(),E(33,"option",47),$(34,"S"),S(),E(35,"option",48),$(36,"M"),S(),E(37,"option",49),$(38,"L"),S(),E(39,"option",50),$(40,"XL"),S(),E(41,"option",51),$(42,"XXL"),S()()(),E(43,"div",33)(44,"label",34),se(45,"i",52),$(46,"Scadenza Certificato Medico "),S(),E(47,"input",40),De("ngModelChange",function(i){return lt(t),ct(xe(2).editedUser.scadenzaCertificatoMedico=i)}),S()()()()}if(2&n){const t=xe(2);U(6),le("ngModel",t.editedUser.email),U(5),le("ngModel",t.editedUser.codiceFiscale),U(6),le("ngModel",t.editedUser.dataDiNascita),U(5),le("ngModel",t.editedUser.numeroMaglia),U(6),le("ngModel",t.editedUser.tagliaDivisa),U(19),le("ngModel",t.editedUser.scadenzaCertificatoMedico)}}function q2e(n,e){if(1&n){const t=Ln();E(0,"button",53),De("click",function(){return lt(t),ct(xe(2).toggleEditMode())}),se(1,"i",54),$(2,"Modifica Dati "),S()}}function G2e(n,e){if(1&n){const t=Ln();E(0,"div",55)(1,"button",56),De("click",function(){return lt(t),ct(xe(2).saveChanges())}),se(2,"i",57),$(3,"Salva "),S(),E(4,"button",58),De("click",function(){return lt(t),ct(xe(2).cancelEdit())}),se(5,"i",59),$(6,"Annulla "),S()()}}function H2e(n,e){if(1&n&&(E(0,"div",2)(1,"div",3)(2,"div",4),se(3,"i",5),S(),E(4,"h2",6),$(5),wr(6,"capitalize"),wr(7,"capitalize"),S(),E(8,"p",7),$(9),S()(),E(10,"div",8),$e(11,z2e,71,11,"div",9),$e(12,$2e,48,6,"div",10),S(),E(13,"div",11),$e(14,q2e,3,0,"button",12),$e(15,G2e,7,0,"div",13),S()()),2&n){const t=xe();U(5),Ua("",ca(6,7,t.currentUser.nome)," ",ca(7,9,t.currentUser.cognome),""),U(4),Qe(t.currentUser.profilo),U(2),le("ngIf",!t.isEditMode),U(1),le("ngIf",t.isEditMode&&t.editedUser),U(2),le("ngIf",!t.isEditMode),U(1),le("ngIf",t.isEditMode)}}let W2e=(()=>{class n{constructor(t,r){this.authService=t,this.giocatoriService=r,this.currentUser=null,this.isEditMode=!1,this.editedUser=null}ngOnInit(){this.authService.currentUser.subscribe(t=>{this.currentUser=t,t&&(this.editedUser={...t})})}toggleEditMode(){this.isEditMode&&this.currentUser&&(this.editedUser={...this.currentUser}),this.isEditMode=!this.isEditMode}saveChanges(){var t=this;return(0,ne.A)(function*(){if(t.editedUser&&t.currentUser)try{const r=t.editedUser.id;if(!r)return void alert("Impossibile salvare: ID giocatore non trovato");yield t.giocatoriService.updateGiocatore(r,t.editedUser),localStorage.setItem("currentUser",JSON.stringify(t.editedUser)),t.currentUser=t.editedUser,t.isEditMode=!1,alert("Dati aggiornati con successo!")}catch(r){console.error("Errore durante il salvataggio:",r),alert("Errore durante il salvataggio dei dati")}})()}cancelEdit(){this.currentUser&&(this.editedUser={...this.currentUser}),this.isEditMode=!1}formatDate(t){return Ui.formatDate(t)}static{this.\u0275fac=function(r){return new(r||n)(Le(Vc),Le(I2))}}static{this.\u0275cmp=as({type:n,selectors:[["app-profilo"]],decls:2,vars:1,consts:[[1,"profilo-container"],["class","profilo-card",4,"ngIf"],[1,"profilo-card"],[1,"profilo-header"],[1,"user-avatar-large"],[1,"bi","bi-person-circle"],[1,"mt-3"],[1,"text-muted"],[1,"profilo-body"],["class","info-section",4,"ngIf"],["class","edit-section",4,"ngIf"],[1,"profilo-footer"],["class","btn btn-primary w-100",3,"click",4,"ngIf"],["class","d-flex gap-2",4,"ngIf"],[1,"info-section"],[1,"row"],[1,"col-md-6"],[1,"info-row"],[1,"info-label"],[1,"bi","bi-person-badge"],[1,"info-value"],[1,"bi","bi-calendar3"],[1,"bi","bi-trophy"],[1,"bi","bi-card-text"],[1,"bi","bi-envelope"],[1,"bi","bi-credit-card"],[1,"bi","bi-rulers"],[1,"bi","bi-file-medical"],["class","row",4,"ngIf"],[1,"col-12"],[1,"bi","bi-star-fill","text-warning"],[1,"badge","bg-warning"],[1,"edit-section"],[1,"col-md-6","mb-3"],[1,"form-label"],[1,"bi","bi-envelope","me-2"],["type","email","placeholder","esempio@email.com",1,"form-control",3,"ngModel","ngModelChange"],[1,"bi","bi-credit-card","me-2"],["type","text","maxlength","16","placeholder","RSSMRA80A01H501U",1,"form-control","text-uppercase",3,"ngModel","ngModelChange"],[1,"bi","bi-calendar3","me-2"],["type","date",1,"form-control",3,"ngModel","ngModelChange"],[1,"bi","bi-person-badge","me-2"],["type","text","placeholder","10",1,"form-control",3,"ngModel","ngModelChange"],[1,"bi","bi-rulers","me-2"],[1,"form-select",3,"ngModel","ngModelChange"],["value",""],["value","XS"],["value","S"],["value","M"],["value","L"],["value","XL"],["value","XXL"],[1,"bi","bi-file-medical","me-2"],[1,"btn","btn-primary","w-100",3,"click"],[1,"bi","bi-pencil","me-2"],[1,"d-flex","gap-2"],[1,"btn","btn-success","flex-fill",3,"click"],[1,"bi","bi-check-lg","me-2"],[1,"btn","btn-secondary","flex-fill",3,"click"],[1,"bi","bi-x-lg","me-2"]],template:function(r,i){1&r&&(E(0,"div",0),$e(1,H2e,16,11,"div",1),S()),2&r&&(U(1),le("ngIf",i.currentUser))},dependencies:[fa,k2,O2,Ml,pg,Ju,R1,Rh,SP],styles:[".profilo-container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.profilo-card[_ngcontent-%COMP%]{background:white;border-radius:12px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.profilo-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--bs-primary) 0%,var(--bs-primary-dark, #0056b3) 100%);color:#fff;padding:40px 20px;text-align:center}.user-avatar-large[_ngcontent-%COMP%]{font-size:80px;color:#fff;margin-bottom:10px}.profilo-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:700}.profilo-body[_ngcontent-%COMP%]{padding:20px}.info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 0;border-bottom:1px solid #e9ecef}@media (min-width: 768px){.info-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{border-bottom:1px solid #e9ecef}.info-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:last-child{border-bottom:none}.info-section[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{border-bottom:none}.info-section[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]:first-child{border-right:1px solid #e9ecef;padding-right:20px}.info-section[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]:last-child{padding-left:20px}}.info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.info-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-weight:500;color:#495057}.info-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--bs-primary)}.info-value[_ngcontent-%COMP%]{font-weight:600;color:#212529}.profilo-footer[_ngcontent-%COMP%]{padding:20px;border-top:1px solid #e9ecef}.edit-section[_ngcontent-%COMP%]{padding-top:10px}@media (max-width: 768px){.profilo-container[_ngcontent-%COMP%]{padding:10px}.profilo-header[_ngcontent-%COMP%]{padding:30px 15px}.user-avatar-large[_ngcontent-%COMP%]{font-size:60px}.profilo-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.info-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.info-value[_ngcontent-%COMP%]{margin-left:32px}}"]})}}return n})();function K2e(n,e){if(1&n){const t=Ln();E(0,"button",16),De("click",function(){return lt(t),ct(xe().startAdding())}),se(1,"i",17),$(2," Aggiungi Allenamento "),S()}}function Q2e(n,e){if(1&n&&(E(0,"option",34),$(1),S()),2&n){const t=e.$implicit;le("value",t.nome),U(1),In(" ",t.nome," ")}}function Y2e(n,e){if(1&n){const t=Ln();E(0,"div",18)(1,"h6",19),$(2,"Nuovo Allenamento"),S(),E(3,"div",20)(4,"div",21)(5,"label",22),$(6,"Giorno della settimana"),S(),E(7,"select",23),De("ngModelChange",function(i){return lt(t),ct(xe().nuovoAllenamento.giorno=i)}),E(8,"option",24),$(9,"Seleziona un giorno"),S(),$e(10,Q2e,2,2,"option",25),S()(),E(11,"div",26)(12,"label",22),$(13,"Orario Inizio"),S(),E(14,"input",27),De("ngModelChange",function(i){return lt(t),ct(xe().nuovoAllenamento.orarioInizio=i)}),S()(),E(15,"div",26)(16,"label",22),$(17,"Orario Fine"),S(),E(18,"input",27),De("ngModelChange",function(i){return lt(t),ct(xe().nuovoAllenamento.orarioFine=i)}),S()(),E(19,"div",21)(20,"label",22),$(21,"Nome Palestra"),S(),E(22,"input",28),De("ngModelChange",function(i){return lt(t),ct(xe().nuovoAllenamento.nomePalestra=i)}),S()(),E(23,"div",21)(24,"label",22),$(25,"Indirizzo"),S(),E(26,"input",29),De("ngModelChange",function(i){return lt(t),ct(xe().nuovoAllenamento.indirizzo=i)}),S()(),E(27,"div",2)(28,"button",30),De("click",function(){return lt(t),ct(xe().saveAllenamento())}),se(29,"i",31),$(30," Salva "),S(),E(31,"button",32),De("click",function(){return lt(t),ct(xe().cancelAdding())}),se(32,"i",33),$(33," Annulla "),S()()()()}if(2&n){const t=xe();U(7),le("ngModel",t.nuovoAllenamento.giorno),U(3),le("ngForOf",t.giorniSettimana),U(4),le("ngModel",t.nuovoAllenamento.orarioInizio),U(4),le("ngModel",t.nuovoAllenamento.orarioFine),U(4),le("ngModel",t.nuovoAllenamento.nomePalestra),U(4),le("ngModel",t.nuovoAllenamento.indirizzo),U(2),le("disabled",!t.isFormValid(t.nuovoAllenamento))}}function Z2e(n,e){1&n&&(E(0,"div",2)(1,"p",35),se(2,"i",36),$(3,' Nessun allenamento configurato. Clicca su "Aggiungi Allenamento" per iniziare. '),S()())}function J2e(n,e){if(1&n){const t=Ln();E(0,"div")(1,"h5",40),se(2,"i",41),$(3),S(),E(4,"p",42),se(5,"i",43),E(6,"strong"),$(7),S()(),E(8,"p",42),se(9,"i",44),E(10,"strong"),$(11),S()(),E(12,"p",45),$(13),S(),E(14,"div",46)(15,"button",47),De("click",function(){lt(t);const i=xe().$implicit;return ct(xe().startEditing(i))}),se(16,"i",48),$(17," Modifica "),S(),E(18,"button",49),De("click",function(){lt(t);const i=xe().$implicit;return ct(xe().deleteAllenamento(i.id))}),se(19,"i",50),$(20," Elimina "),S()()()}if(2&n){const t=xe().$implicit;U(3),In(" ",t.giorno," "),U(4),Ua("",t.orarioInizio," - ",t.orarioFine,""),U(4),Qe(t.nomePalestra),U(2),In(" ",t.indirizzo," ")}}function X2e(n,e){if(1&n&&(E(0,"option",34),$(1),S()),2&n){const t=e.$implicit;le("value",t.nome),U(1),In(" ",t.nome," ")}}function ewe(n,e){if(1&n){const t=Ln();E(0,"div")(1,"h6",19),$(2,"Modifica Allenamento"),S(),E(3,"div",42)(4,"label",51),$(5,"Giorno"),S(),E(6,"select",52),De("ngModelChange",function(i){return lt(t),ct(xe(2).editingAllenamento.giorno=i)}),$e(7,X2e,2,2,"option",25),S()(),E(8,"div",42)(9,"label",51),$(10,"Orario Inizio"),S(),E(11,"input",53),De("ngModelChange",function(i){return lt(t),ct(xe(2).editingAllenamento.orarioInizio=i)}),S()(),E(12,"div",42)(13,"label",51),$(14,"Orario Fine"),S(),E(15,"input",53),De("ngModelChange",function(i){return lt(t),ct(xe(2).editingAllenamento.orarioFine=i)}),S()(),E(16,"div",42)(17,"label",51),$(18,"Nome Palestra"),S(),E(19,"input",54),De("ngModelChange",function(i){return lt(t),ct(xe(2).editingAllenamento.nomePalestra=i)}),S()(),E(20,"div",55)(21,"label",51),$(22,"Indirizzo"),S(),E(23,"input",54),De("ngModelChange",function(i){return lt(t),ct(xe(2).editingAllenamento.indirizzo=i)}),S()(),E(24,"div",46)(25,"button",56),De("click",function(){return lt(t),ct(xe(2).updateAllenamento())}),se(26,"i",57),$(27," Salva "),S(),E(28,"button",58),De("click",function(){return lt(t),ct(xe(2).cancelEditing())}),se(29,"i",59),$(30," Annulla "),S()()()}if(2&n){const t=xe(2);U(6),le("ngModel",t.editingAllenamento.giorno),U(1),le("ngForOf",t.giorniSettimana),U(4),le("ngModel",t.editingAllenamento.orarioInizio),U(4),le("ngModel",t.editingAllenamento.orarioFine),U(4),le("ngModel",t.editingAllenamento.nomePalestra),U(4),le("ngModel",t.editingAllenamento.indirizzo),U(2),le("disabled",!t.isFormValid(t.editingAllenamento))}}function twe(n,e){if(1&n&&(E(0,"div",37)(1,"div",38)(2,"div",11),$e(3,J2e,21,5,"div",39),$e(4,ewe,31,7,"div",39),S()()()),2&n){const t=e.$implicit,r=xe();U(1),zt("border-primary",(null==r.editingAllenamento?null:r.editingAllenamento.id)===t.id),U(2),le("ngIf",(null==r.editingAllenamento?null:r.editingAllenamento.id)!==t.id),U(1),le("ngIf",(null==r.editingAllenamento?null:r.editingAllenamento.id)===t.id)}}let nwe=(()=>{class n{constructor(t){this.allenamentiService=t,this.allenamenti=[],this.editingAllenamento=null,this.isAdding=!1,this.nuovoAllenamento={giorno:"",orarioInizio:"",orarioFine:"",indirizzo:"",nomePalestra:"",ordinamento:0},this.giorniSettimana=[{nome:"Luned\xec",valore:1},{nome:"Marted\xec",valore:2},{nome:"Mercoled\xec",valore:3},{nome:"Gioved\xec",valore:4},{nome:"Venerd\xec",valore:5},{nome:"Sabato",valore:6},{nome:"Domenica",valore:7}]}ngOnInit(){this.loadAllenamenti()}loadAllenamenti(){this.allenamentiService.getAllenamenti().subscribe(t=>{this.allenamenti=t})}startAdding(){this.isAdding=!0,this.nuovoAllenamento={giorno:"",orarioInizio:"",orarioFine:"",indirizzo:"",nomePalestra:"",ordinamento:0}}cancelAdding(){this.isAdding=!1}saveAllenamento(){if(this.isFormValid(this.nuovoAllenamento)){const t=this.giorniSettimana.find(r=>r.nome===this.nuovoAllenamento.giorno);this.nuovoAllenamento.ordinamento=t?t.valore:0,this.allenamentiService.addAllenamento(this.nuovoAllenamento).then(()=>{this.isAdding=!1,this.loadAllenamenti()})}}startEditing(t){this.editingAllenamento={...t}}cancelEditing(){this.editingAllenamento=null}updateAllenamento(){if(this.editingAllenamento&&this.editingAllenamento.id&&this.isFormValid(this.editingAllenamento)){const t=this.giorniSettimana.find(o=>o.nome===this.editingAllenamento.giorno);this.editingAllenamento.ordinamento=t?t.valore:0;const{id:r,...i}=this.editingAllenamento;this.allenamentiService.updateAllenamento(r,i).then(()=>{this.editingAllenamento=null,this.loadAllenamenti()})}}deleteAllenamento(t){t&&confirm("Sei sicuro di voler eliminare questo allenamento?")&&this.allenamentiService.deleteAllenamento(t).then(()=>{this.loadAllenamenti()})}isFormValid(t){return!!(t.giorno&&t.orarioInizio&&t.orarioFine&&t.indirizzo&&t.nomePalestra)}static{this.\u0275fac=function(r){return new(r||n)(Le(Y9))}}static{this.\u0275cmp=as({type:n,selectors:[["app-impostazioni"]],decls:19,vars:4,consts:[[1,"container-fluid","px-4","mt-3"],[1,"row","mb-4"],[1,"col-12"],[1,"fw-bold","text-primary"],[1,"bi","bi-gear-fill","me-2"],[1,"row"],[1,"card","shadow"],[1,"card-header","bg-primary","text-white","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-calendar3","me-2"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],[1,"card-body"],["class","alert alert-info",4,"ngIf"],[1,"row","g-3","mt-2"],["class","col-12",4,"ngIf"],["class","col-md-6 col-lg-4",4,"ngFor","ngForOf"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"bi","bi-plus-circle","me-1"],[1,"alert","alert-info"],[1,"fw-bold","mb-3"],[1,"row","g-3"],[1,"col-md-6"],[1,"form-label"],[1,"form-select",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-3"],["type","time",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","es. Palestra Paolo VI",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","es. Via Ercolano 11, Castel Gandolfo",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","me-2",3,"disabled","click"],[1,"bi","bi-check-circle","me-1"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-x-circle","me-1"],[3,"value"],[1,"text-muted","text-center","py-4"],[1,"bi","bi-info-circle","me-2"],[1,"col-md-6","col-lg-4"],[1,"card","h-100"],[4,"ngIf"],[1,"card-title","text-primary"],[1,"bi","bi-calendar-week","me-2"],[1,"mb-2"],[1,"bi","bi-clock","me-2"],[1,"bi","bi-geo-alt","me-2"],[1,"mb-3","text-muted","small"],[1,"d-flex","gap-2"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"bi","bi-trash"],[1,"form-label","small"],[1,"form-select","form-select-sm",3,"ngModel","ngModelChange"],["type","time",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["type","text",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"mb-3"],[1,"btn","btn-sm","btn-primary",3,"disabled","click"],[1,"bi","bi-check-circle"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"bi","bi-x-circle"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),se(4,"i",4),$(5," Impostazioni "),S()()(),E(6,"div",5)(7,"div",2)(8,"div",6)(9,"div",7)(10,"h5",8),se(11,"i",9),$(12," Gestione Allenamenti "),S(),$e(13,K2e,3,0,"button",10),S(),E(14,"div",11),$e(15,Y2e,34,7,"div",12),E(16,"div",13),$e(17,Z2e,4,0,"div",14),$e(18,twe,5,4,"div",15),S()()()()()()),2&r&&(U(13),le("ngIf",!i.isAdding),U(2),le("ngIf",i.isAdding),U(2),le("ngIf",0===i.allenamenti.length&&!i.isAdding),U(1),le("ngForOf",i.allenamenti))},dependencies:[Eu,fa,k2,O2,Ml,pg,Ju,Rh],styles:[".card-header[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:rgba(255,255,255,.15);border:1px solid rgba(255,255,255,.2);color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .2s;font-weight:500}.card-header[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.25);border-color:#ffffff4d;color:#fff;transform:translateY(-1px)}.card-header[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:active{background:rgba(255,255,255,.2);transform:translateY(0)}"]})}}return n})();const Jq="firebasestorage.googleapis.com",Xq="storageBucket";class $r extends wl{constructor(e,t,r=0){super(LM(e),`Firebase Storage: ${t} (${LM(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$r.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return LM(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Vr=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Vr||{});function LM(n){return"storage/"+n}function FM(){return new $r(Vr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function VM(n){return new $r(Vr.INVALID_ARGUMENT,n)}function rG(){return new $r(Vr.APP_DELETED,"The Firebase app was deleted.")}function lv(n,e){return new $r(Vr.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function cv(n){throw new $r(Vr.INTERNAL_ERROR,"Internal error: "+n)}class Yo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Yo.makeFromUrl(e,t)}catch{return new Yo(e,"")}if(""===r.path)return r;throw function hwe(n){return new $r(Vr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(L){L.path_=decodeURIComponent(L.path)}const d=t.replace(/[.]/g,"\\."),F=[{regex:a,indices:{bucket:1,path:3},postModify:function o(L){"/"===L.path.charAt(L.path.length-1)&&(L.path_=L.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${t===Jq?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let L=0;L<F.length;L++){const J=F[L],ae=J.regex.exec(e);if(ae){let P=ae[J.indices.path];P||(P=""),r=new Yo(ae[J.indices.bucket],P),J.postModify(r);break}}if(null==r)throw function dwe(n){return new $r(Vr.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class vwe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Iw(n){return"string"==typeof n||n instanceof String}function iG(n){return UM()&&n instanceof Blob}function UM(){return typeof Blob<"u"}function BM(n,e,t,r){if(r<e)throw VM(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw VM(`Invalid value for '${n}'. Expected ${t} or less.`)}function zc(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function oG(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Vg=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Vg||{});class Ewe{constructor(e,t,r,i,o,s,a,l,c,u,d,g=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,y)=>{this.resolve_=p,this.reject_=y,this.start_()})}start_(){const t=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function wwe(n){return void 0!==n}(l)?o():o(l)}catch(l){s(l)}else if(null!==a){const l=FM();l.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,l):l)}else s(i.canceled?this.appDelete_?rG():function tG(){return new $r(Vr.CANCELED,"User canceled the upload/download.")}():function eG(){return new $r(Vr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new Cw(!1,null,!0)):this.backoffId_=function ywe(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(...I){c||(c=!0,e.apply(null,I))}function d(I){i=setTimeout(()=>{i=null,n(p,l())},I)}function g(){o&&clearTimeout(o)}function p(I,...A){if(c)return void g();if(I)return g(),void u.call(null,I,...A);if(l()||s)return g(),void u.call(null,I,...A);let F;r<64&&(r*=2),1===a?(a=2,F=0):F=1e3*(r+Math.random()),d(F)}let y=!1;function w(I){y||(y=!0,g(),!c&&(null!==i?(I||(a=2),clearTimeout(i),d(0)):I||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,w(!0)},t),w}((r,i)=>{if(i)return void r(!1,new Cw(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Vg.NO_ERROR,l=o.getStatus();if(!a||function sG(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),o=-1!==e.indexOf(n);return t||i||o}(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===Vg.ABORT;return void r(!1,new Cw(!1,null,u))}const c=-1!==this.successCodes_.indexOf(l);r(!0,new Cw(c,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function bwe(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Cw{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Mwe(...n){const e=function Pwe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(UM())return new Blob(n);throw new $r(Vr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Qa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jM{constructor(e,t){this.data=e,this.contentType=t||null}}function lG(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function cG(n,e){switch(n){case Qa.BASE64:{const i=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(i||o)throw lv(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Qa.BASE64URL:{const i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw lv(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function Rwe(n){if(typeof atob>"u")throw function mwe(n){return new $r(Vr.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:lv(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class uG{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw lv(Qa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function Fwe(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class $c{constructor(e,t){let r=0,i="";iG(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(iG(this.data_)){const i=function Nwe(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new $c(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new $c(r,!0)}}static getBlob(...e){if(UM()){const t=e.map(r=>r instanceof $c?r.data_:r);return new $c(Mwe.apply(null,t))}{const t=e.map(s=>Iw(s)?function aG(n,e){switch(n){case Qa.RAW:return new jM(lG(e));case Qa.BASE64:case Qa.BASE64URL:return new jM(cG(n,e));case Qa.DATA_URL:return new jM(function Owe(n){const e=new uG(n);return e.base64?cG(Qa.BASE64,e.rest):function kwe(n){let e;try{e=decodeURIComponent(n)}catch{throw lv(Qa.DATA_URL,"Malformed data URL.")}return lG(e)}(e.rest)}(e),function Lwe(n){return new uG(n).contentType}(e))}throw FM()}(Qa.RAW,s).data:s.data_);let r=0;t.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return t.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new $c(i,!0)}}uploadData(){return this.data_}}function zM(n){let e;try{e=JSON.parse(n)}catch{return null}return function Cwe(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function dG(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function Bwe(n,e){return e}class Zo{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||Bwe}}let Ew=null;function uv(){if(Ew)return Ew;const n=[];n.push(new Zo("bucket")),n.push(new Zo("generation")),n.push(new Zo("metageneration")),n.push(new Zo("name","fullPath",!0));const t=new Zo("name");t.xform=function e(o,s){return function jwe(n){return!Iw(n)||n.length<2?n:dG(n)}(s)},n.push(t);const i=new Zo("size");return i.xform=function r(o,s){return void 0!==s?Number(s):s},n.push(i),n.push(new Zo("timeCreated")),n.push(new Zo("updated")),n.push(new Zo("md5Hash",null,!0)),n.push(new Zo("cacheControl",null,!0)),n.push(new Zo("contentDisposition",null,!0)),n.push(new Zo("contentEncoding",null,!0)),n.push(new Zo("contentLanguage",null,!0)),n.push(new Zo("contentType",null,!0)),n.push(new Zo("metadata","customMetadata",!0)),Ew=n,Ew}function hG(n,e,t){const r=zM(e);return null===r?null:function $we(n,e,t){const r={type:"file"},i=t.length;for(let o=0;o<i;o++){const s=t[o];r[s.local]=s.xform(r,e[s.server])}return function zwe(n,e){Object.defineProperty(n,"ref",{get:function t(){const o=new Yo(n.bucket,n.fullPath);return e._makeStorageReference(o)}})}(r,n),r}(n,r,t)}class zl{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function $l(n){if(!n)throw FM()}function Ug(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function cwe(){return new $r(Vr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function lwe(){return new $r(Vr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function awe(n){return new $r(Vr.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function uwe(n){return new $r(Vr.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function dv(n){const e=Ug(n);return function t(r,i){let o=e(r,i);return 404===r.getStatus()&&(o=function swe(n){return new $r(Vr.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=i.serverResponse,o}}function vG(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let F="";for(let L=0;L<2;L++)F+=Math.random().toString().slice(2);return F}();s["Content-Type"]="multipart/related; boundary="+l;const c=function _G(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function Xwe(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}(e,r,i),u=function $M(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}(c,t),p=$c.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+l+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+l+"--");if(null===p)throw function nG(){return new $r(Vr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const y={name:c.fullPath},w=zc(o,n.host,n._protocol),A=n.maxUploadRetryTime,R=new zl(w,"POST",function Aw(n,e){return function t(r,i){const o=hG(n,i,e);return $l(null!==o),o}}(n,t),A);return R.urlParams=y,R.headers=s,R.body=p.uploadData(),R.errorHandler=Ug(e),R}let bG=null;class iIe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vg.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vg.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vg.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw cv("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw cv("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw cv("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw cv("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw cv("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class oIe extends iIe{initXhr(){this.xhr_.responseType="text"}}function Ya(){return bG?bG():new oIe}class Wh{constructor(e,t){this._service=e,this._location=t instanceof Yo?t:Yo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Wh(e,t)}get root(){const e=new Yo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dG(this._location.path)}get storage(){return this._service}get parent(){const e=function Vwe(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Yo(this._location.bucket,e);return new Wh(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function _we(n){return new $r(Vr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function vIe(n){n._throwIfRoot("getDownloadURL");const e=function Ywe(n,e,t){const i=zc(e.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,a=new zl(i,"GET",function Kwe(n,e){return function t(r,i){const o=hG(n,i,e);return $l(null!==o),function qwe(n,e,t,r){const i=zM(e);if(null===i||!Iw(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const d=n.fullPath;return zc("/b/"+s(n.bucket)+"/o/"+s(d),t,r)+oG({alt:"media",token:c})})[0]}(o,i,n.host,n._protocol)}}(n,t),s);return a.errorHandler=dv(e),a}(n.storage,n._location,uv());return n.storage.makeRequestWithTokens(e,Ya).then(t=>{if(null===t)throw function gwe(){return new $r(Vr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function AG(n,e){if(n instanceof WM){const t=n;if(null==t._bucket)throw function fwe(){return new $r(Vr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Xq+"' property when initializing the app?")}();const r=new Wh(t,t._bucket);return null!=e?AG(r,e):r}return void 0!==e?function EG(n,e){const t=function Uwe(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Yo(n._location.bucket,t);return new Wh(n.storage,r)}(n,e):n}function TG(n,e){const t=e?.[Xq];return null==t?null:Yo.makeFromBucketSpec(t,n)}class WM{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Jq,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Yo.makeFromBucketSpec(i,this._host):TG(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Yo.makeFromBucketSpec(this._url,e):TG(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){BM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){BM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,ne.A)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,ne.A)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wh(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new vwe(rG());{const s=function xwe(n,e,t,r,i,o,s=!0){const a=oG(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return function Swe(n,e){e&&(n["X-Firebase-GMPID"]=e)}(c,e),function Awe(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(c,t),function Twe(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,o),function Dwe(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(c,r),new Ewe(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s)}(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var r=this;return(0,ne.A)(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,o).getPromise()})()}}const SG="@firebase/storage",xG="storage";function EIe(n,e,t){return function wG(n,e,t){n._throwIfRoot("uploadBytes");const r=vG(n.storage,n._location,uv(),new $c(e,!0),t);return n.storage.makeRequestWithTokens(r,Ya).then(i=>({metadata:i,ref:n}))}(n=Zr(n),e,t)}function AIe(n){return vIe(n=Zr(n))}function TIe(n){return function yIe(n){n._throwIfRoot("deleteObject");const e=function Jwe(n,e){const r=zc(e.fullServerUrl(),n.host,n._protocol),a=new zl(r,"DELETE",function s(l,c){},n.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=dv(e),a}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Ya)}(n=Zr(n))}function SIe(n,e){return function IIe(n,e){if(e&&function bIe(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof WM)return function wIe(n,e){return new Wh(n,e)}(n,e);throw VM("To use ref(service, url), the first argument must be a Storage instance.")}return AG(n,e)}(n=Zr(n),e)}function DIe(n=h5(),e){const r=d5(n=Zr(n),xG).getImmediate({identifier:e}),i=S8("storage");return i&&function xIe(n,e,t,r={}){!function CIe(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:P8(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}function PIe(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new WM(t,r,i,e,I_)}!function MIe(){ih(new Du(xG,PIe,"PUBLIC").setMultipleInstances(!0)),wo(SG,"0.13.2",""),wo(SG,"0.13.2","esm2017")}();class Sw{constructor(e){return e}}const PG="storage",KM=new st("angularfire2.storage-instances");function kIe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Sw(r)}}const OIe={provide:class NIe{constructor(){return nb(PG)}},deps:[[new _o,KM]]},LIe={provide:Sw,useFactory:function RIe(n,e){const t=v5(PG,n,e);return t&&new Sw(t)},deps:[[new _o,KM],Cp]};let FIe=(()=>{class n{constructor(){wo("angularfire",tb.full,"gcs")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Fo({type:n});static \u0275inj=go({providers:[LIe,OIe]})}return n})();function VIe(n,...e){return{ngModule:FIe,providers:[{provide:KM,useFactory:kIe(n),multi:!0,deps:[On,eo,y5,b5,[new _o,NS],[new _o,X8],...e]}]}}const UIe=Io(TIe,!0),BIe=Io(AIe,!0),jIe=Io(DIe,!0),MG=Io(SIe,!0),zIe=Io(EIe,!0);let $Ie=(()=>{class n{constructor(t,r){this.storage=t,this.firestore=r,this.STORAGE_PATH="moduli",this.COLLECTION_NAME="moduli"}caricaModulo(t,r,i){var o=this;return(0,ne.A)(function*(){const s=Date.now(),a=t.name.replace(/[^a-zA-Z0-9.-]/g,"_"),c=MG(o.storage,`${o.STORAGE_PATH}/${s}_${a}`);yield zIe(c,t);const u=yield BIe(c),d={nome:r,nomeFile:t.name,url:u,dataCaricamento:new Date,dimensione:t.size,tipo:t.type,caricatoDa:i},g=xl(o.firestore,o.COLLECTION_NAME);yield E1(g,{...d,dataCaricamento:Nr.fromDate(d.dataCaricamento)})})()}getModuli(){const t=xl(this.firestore,this.COLLECTION_NAME),r=b2(t,y2("dataCaricamento","desc"));return Si(d_e(r)).pipe(cn(i=>i.docs.map(o=>{const s=o.data();return{id:o.id,nome:s.nome,nomeFile:s.nomeFile,url:s.url,dataCaricamento:s.dataCaricamento.toDate(),dimensione:s.dimensione,tipo:s.tipo,caricatoDa:s.caricatoDa}})))}eliminaModulo(t){var r=this;return(0,ne.A)(function*(){if(!t.id)throw new Error("ID modulo non valido");const i=Ph(r.firestore,r.COLLECTION_NAME,t.id);yield v2(i);try{const o=t.url.match(/o\/(.*?)\?/);if(o&&o[1]){const s=decodeURIComponent(o[1]),a=MG(r.storage,s);yield UIe(a)}}catch(o){console.error("Errore durante l'eliminazione del file da Storage:",o)}})()}formattaDimensione(t){if(0===t)return"0 Bytes";const o=Math.floor(Math.log(t)/Math.log(1024));return Math.round(t/Math.pow(1024,o)*100)/100+" "+["Bytes","KB","MB","GB"][o]}scaricaModulo(t){const r=document.createElement("a");r.href=t.url,r.download=t.nomeFile,r.target="_blank",document.body.appendChild(r),r.click(),document.body.removeChild(r)}static{this.\u0275fac=function(r){return new(r||n)(ht(Sw),ht(Ku))}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function qIe(n,e){if(1&n){const t=Ln();E(0,"div",30),se(1,"i",31),$(2),E(3,"button",32),De("click",function(){return lt(t),ct(xe().successMessage="")}),S()()}if(2&n){const t=xe();U(2),In("",t.successMessage," ")}}function GIe(n,e){if(1&n){const t=Ln();E(0,"div",33),se(1,"i",34),$(2),E(3,"button",32),De("click",function(){return lt(t),ct(xe().errorMessage="")}),S()()}if(2&n){const t=xe();U(2),In("",t.errorMessage," ")}}function HIe(n,e){1&n&&(E(0,"span"),se(1,"i",52),$(2,"Carica "),S())}function WIe(n,e){1&n&&(E(0,"span"),se(1,"span",53),$(2," Caricamento... "),S())}function KIe(n,e){if(1&n&&(E(0,"div",54)(1,"small",55),se(2,"i",56),$(3," File selezionato: "),E(4,"strong"),$(5),S(),$(6),S()()),2&n){const t=xe(2);U(5),Qe(t.fileSelezionato.name),U(1),In(" (",t.formattaDimensione(t.fileSelezionato.size),") ")}}function QIe(n,e){if(1&n){const t=Ln();E(0,"div",35)(1,"div",36),De("click",function(){return lt(t),ct(xe().toggleUploadSection())}),E(2,"div",37)(3,"h5",38),se(4,"i",39),$(5," Carica nuovo documento "),S(),se(6,"i",40),S()(),E(7,"div",41)(8,"div",42)(9,"div",43)(10,"label",44),$(11,"Nome documento"),S(),E(12,"input",45),De("ngModelChange",function(i){return lt(t),ct(xe().nomeModulo=i)}),S()(),E(13,"div",43)(14,"label",46),$(15,"Seleziona file"),S(),E(16,"input",47),De("change",function(i){return lt(t),ct(xe().onFileSelected(i))}),S()(),E(17,"div",48)(18,"button",49),De("click",function(){return lt(t),ct(xe().caricaFile())}),$e(19,HIe,3,0,"span",50),$e(20,WIe,3,0,"span",50),S()()(),$e(21,KIe,7,2,"div",51),S()()}if(2&n){const t=xe();U(1),zt("collapsed-header",!t.isUploadSectionOpen),U(5),le("ngClass",t.isUploadSectionOpen?"bi-chevron-up":"bi-chevron-down"),U(1),zt("open",t.isUploadSectionOpen),U(5),le("ngModel",t.nomeModulo)("disabled",t.isUploading),U(4),le("disabled",t.isUploading),U(2),le("disabled",!t.fileSelezionato||!t.nomeModulo.trim()||t.isUploading),U(1),le("ngIf",!t.isUploading),U(1),le("ngIf",t.isUploading),U(1),le("ngIf",t.fileSelezionato)}}function YIe(n,e){1&n&&(E(0,"div",57)(1,"div",58)(2,"span",59),$(3,"Caricamento..."),S()()())}function ZIe(n,e){1&n&&(E(0,"div",60),se(1,"i",61),E(2,"p",38),$(3,"Nessun documento disponibile"),S()())}function JIe(n,e){if(1&n){const t=Ln();E(0,"button",84),De("click",function(){lt(t);const i=xe().$implicit;return ct(xe(2).eliminaModulo(i))}),se(1,"i",85),S()}}function XIe(n,e){if(1&n){const t=Ln();E(0,"tr")(1,"td")(2,"div",78)(3,"div",79),se(4,"i",40),S(),E(5,"strong"),$(6),S()()(),E(7,"td"),$(8),S(),E(9,"td"),$(10),S(),E(11,"td"),$(12),S(),E(13,"td"),$(14),S(),E(15,"td",80)(16,"button",81),De("click",function(){const o=lt(t).$implicit;return ct(xe(2).scaricaModulo(o))}),se(17,"i",82),S(),$e(18,JIe,2,0,"button",83),S()()}if(2&n){const t=e.$implicit,r=xe(2);U(4),le("ngClass",r.getIconaFile(t.tipo)),U(2),Qe(t.nome),U(2),Qe(t.nomeFile),U(2),Qe(t.caricatoDa),U(2),Qe(r.formatDate(t.dataCaricamento)),U(2),Qe(r.formattaDimensione(t.dimensione)),U(4),le("ngIf",r.authService.hasEditPermission())}}const hv=function(n,e,t){return{"bi-arrow-down":n,"bi-arrow-up":e,"bi-arrow-down-up":t}};function eCe(n,e){if(1&n){const t=Ln();E(0,"div",62)(1,"div",63)(2,"table",64)(3,"thead",65)(4,"tr")(5,"th",66),De("click",function(){return lt(t),ct(xe().sortBy("nome"))}),E(6,"div",67)(7,"span"),$(8,"Nome Documento"),S(),se(9,"i",40),S()(),E(10,"th",66),De("click",function(){return lt(t),ct(xe().sortBy("nomeFile"))}),E(11,"div",67)(12,"span"),$(13,"Nome File"),S(),se(14,"i",40),S()(),E(15,"th",66),De("click",function(){return lt(t),ct(xe().sortBy("caricatoDa"))}),E(16,"div",67)(17,"span"),$(18,"Caricato da"),S(),se(19,"i",40),S()(),E(20,"th",66),De("click",function(){return lt(t),ct(xe().sortBy("dataCaricamento"))}),E(21,"div",67)(22,"span"),$(23,"Data Caricamento"),S(),se(24,"i",40),S()(),E(25,"th",66),De("click",function(){return lt(t),ct(xe().sortBy("dimensione"))}),E(26,"div",67)(27,"span"),$(28,"Dimensione"),S(),se(29,"i",40),S()(),E(30,"th",68)(31,"div",67)(32,"span"),$(33,"Azioni"),S(),E(34,"button",69),De("click",function(){return lt(t),ct(xe().clearFilters())}),se(35,"i",70),S()()()(),E(36,"tr",71)(37,"th")(38,"input",72),De("ngModelChange",function(i){return lt(t),ct(xe().filters.nome=i)})("input",function(i){return i.stopPropagation()}),S()(),E(39,"th")(40,"input",73),De("ngModelChange",function(i){return lt(t),ct(xe().filters.nomeFile=i)})("input",function(i){return i.stopPropagation()}),S()(),E(41,"th")(42,"input",74),De("ngModelChange",function(i){return lt(t),ct(xe().filters.caricatoDa=i)})("input",function(i){return i.stopPropagation()}),S()(),E(43,"th")(44,"input",75),De("ngModelChange",function(i){return lt(t),ct(xe().filters.dataCaricamento=i)})("input",function(i){return i.stopPropagation()}),S()(),E(45,"th")(46,"input",76),De("ngModelChange",function(i){return lt(t),ct(xe().filters.dimensione=i)})("input",function(i){return i.stopPropagation()}),S()(),se(47,"th"),S()(),E(48,"tbody"),$e(49,XIe,19,7,"tr",77),S()()()()}if(2&n){const t=xe();U(9),le("ngClass",br(11,hv,"nome"===t.sortColumn&&"asc"===t.sortDirection,"nome"===t.sortColumn&&"desc"===t.sortDirection,"nome"!==t.sortColumn)),U(5),le("ngClass",br(15,hv,"nomeFile"===t.sortColumn&&"asc"===t.sortDirection,"nomeFile"===t.sortColumn&&"desc"===t.sortDirection,"nomeFile"!==t.sortColumn)),U(5),le("ngClass",br(19,hv,"caricatoDa"===t.sortColumn&&"asc"===t.sortDirection,"caricatoDa"===t.sortColumn&&"desc"===t.sortDirection,"caricatoDa"!==t.sortColumn)),U(5),le("ngClass",br(23,hv,"dataCaricamento"===t.sortColumn&&"asc"===t.sortDirection,"dataCaricamento"===t.sortColumn&&"desc"===t.sortDirection,"dataCaricamento"!==t.sortColumn)),U(5),le("ngClass",br(27,hv,"dimensione"===t.sortColumn&&"asc"===t.sortDirection,"dimensione"===t.sortColumn&&"desc"===t.sortDirection,"dimensione"!==t.sortColumn)),U(9),le("ngModel",t.filters.nome),U(2),le("ngModel",t.filters.nomeFile),U(2),le("ngModel",t.filters.caricatoDa),U(2),le("ngModel",t.filters.dataCaricamento),U(2),le("ngModel",t.filters.dimensione),U(3),le("ngForOf",t.moduliFiltrati)}}function tCe(n,e){1&n&&(E(0,"div",57)(1,"div",58)(2,"span",59),$(3,"Caricamento..."),S()()())}function nCe(n,e){1&n&&(E(0,"div",60),se(1,"i",61),E(2,"p",38),$(3,"Nessun documento disponibile"),S()())}function rCe(n,e){if(1&n){const t=Ln();E(0,"button",104),De("click",function(){lt(t);const i=xe().$implicit;return ct(xe(2).eliminaModulo(i))}),se(1,"i",105),$(2,"Elimina "),S()}}function iCe(n,e){if(1&n){const t=Ln();E(0,"div",88)(1,"h2",89)(2,"button",90)(3,"div",91),se(4,"i",40),S(),E(5,"div",92)(6,"div",93),$(7),S(),E(8,"small",55),$(9),S()()()(),E(10,"div",94)(11,"div",95)(12,"div",96)(13,"div",97)(14,"span",98),$(15,"Nome file"),S(),E(16,"span",99),$(17),S()()(),E(18,"div",96)(19,"div",97)(20,"span",98),$(21,"Caricato il"),S(),E(22,"span",99),$(23),wr(24,"date"),S()()(),E(25,"div",96)(26,"div",97)(27,"span",98),$(28,"Caricato da"),S(),E(29,"span",99),$(30),S()()(),E(31,"div",100)(32,"button",101),De("click",function(){const o=lt(t).$implicit;return ct(xe(2).scaricaModulo(o))}),se(33,"i",102),$(34,"Scarica "),S(),$e(35,rCe,3,0,"button",103),S()()()()}if(2&n){const t=e.$implicit,r=e.index,i=xe(2);U(1),Qr("id","heading"+r),U(1),Qr("data-bs-target","#collapse"+r)("aria-controls","collapse"+r),U(2),le("ngClass",i.getIconaFile(t.tipo)),U(3),Qe(t.nome),U(2),Qe(i.formattaDimensione(t.dimensione)),U(1),Qr("id","collapse"+r)("aria-labelledby","heading"+r),U(7),Qe(t.nomeFile),U(6),Qe(hs(24,12,t.dataCaricamento,"dd/MM/yyyy HH:mm")),U(7),Qe(t.caricatoDa),U(5),le("ngIf",i.authService.hasEditPermission())}}function oCe(n,e){if(1&n&&(E(0,"div",86),$e(1,iCe,36,15,"div",87),S()),2&n){const t=xe();U(1),le("ngForOf",t.moduli)}}let sCe=(()=>{class n{constructor(t,r){this.moduliService=t,this.authService=r,this.moduli=[],this.isLoading=!1,this.isUploading=!1,this.errorMessage="",this.successMessage="",this.isUploadSectionOpen=!1,this.nomeModulo="",this.fileSelezionato=null,this.filters={nome:"",nomeFile:"",caricatoDa:"",dataCaricamento:"",dimensione:""},this.sortColumn="dataCaricamento",this.sortDirection="desc"}ngOnInit(){this.caricaModuli()}caricaModuli(){this.isLoading=!0,this.errorMessage="",this.moduliService.getModuli().subscribe({next:t=>{this.moduli=t,this.isLoading=!1},error:t=>{console.error("Errore nel caricamento dei moduli:",t),this.errorMessage="Errore nel caricamento dei moduli",this.isLoading=!1}})}onFileSelected(t){const r=t.target.files[0];r&&(this.fileSelezionato=r,this.nomeModulo||(this.nomeModulo=r.name.replace(/\.[^/.]+$/,"")))}caricaFile(){var t=this;return(0,ne.A)(function*(){if(!t.fileSelezionato||!t.nomeModulo.trim())return void(t.errorMessage="Seleziona un file e inserisci un nome");const r=t.authService.currentUserValue;if(r){t.isUploading=!0,t.errorMessage="",t.successMessage="";try{const i=`${r.nome} ${r.cognome}`;yield t.moduliService.caricaModulo(t.fileSelezionato,t.nomeModulo,i),t.successMessage="File caricato con successo!",t.nomeModulo="",t.fileSelezionato=null;const o=document.getElementById("fileInput");o&&(o.value=""),t.caricaModuli(),setTimeout(()=>{t.successMessage=""},3e3)}catch(i){console.error("Errore nel caricamento del file:",i),t.errorMessage="Errore nel caricamento del file"}finally{t.isUploading=!1}}else t.errorMessage="Utente non autenticato"})()}eliminaModulo(t){var r=this;return(0,ne.A)(function*(){if(confirm(`Sei sicuro di voler eliminare "${t.nome}"?`))try{yield r.moduliService.eliminaModulo(t),r.successMessage="File eliminato con successo!",r.caricaModuli(),setTimeout(()=>{r.successMessage=""},3e3)}catch(i){console.error("Errore nell'eliminazione del file:",i),r.errorMessage="Errore nell'eliminazione del file"}})()}scaricaModulo(t){this.moduliService.scaricaModulo(t)}formattaDimensione(t){return this.moduliService.formattaDimensione(t)}getIconaFile(t){return t.includes("pdf")?"bi-file-pdf-fill":t.includes("word")||t.includes("document")?"bi-file-word-fill":t.includes("excel")||t.includes("spreadsheet")?"bi-file-excel-fill":t.includes("image")?"bi-file-image-fill":t.includes("zip")||t.includes("compressed")?"bi-file-zip-fill":"bi-file-earmark-fill"}toggleUploadSection(){this.isUploadSectionOpen=!this.isUploadSectionOpen}get moduliFiltrati(){let t=[...this.moduli];return this.filters.nome&&(t=t.filter(r=>r.nome.toLowerCase().includes(this.filters.nome.toLowerCase()))),this.filters.nomeFile&&(t=t.filter(r=>r.nomeFile.toLowerCase().includes(this.filters.nomeFile.toLowerCase()))),this.filters.caricatoDa&&(t=t.filter(r=>r.caricatoDa.toLowerCase().includes(this.filters.caricatoDa.toLowerCase()))),this.filters.dataCaricamento&&(t=t.filter(r=>this.formatDate(r.dataCaricamento).includes(this.filters.dataCaricamento))),this.filters.dimensione&&(t=t.filter(r=>this.formattaDimensione(r.dimensione).toLowerCase().includes(this.filters.dimensione.toLowerCase()))),t.sort((r,i)=>{let o,s;switch(this.sortColumn){case"nome":o=r.nome.toLowerCase(),s=i.nome.toLowerCase();break;case"nomeFile":o=r.nomeFile.toLowerCase(),s=i.nomeFile.toLowerCase();break;case"caricatoDa":o=r.caricatoDa.toLowerCase(),s=i.caricatoDa.toLowerCase();break;case"dataCaricamento":o=r.dataCaricamento.getTime(),s=i.dataCaricamento.getTime();break;case"dimensione":o=r.dimensione,s=i.dimensione;break;default:return 0}return o<s?"asc"===this.sortDirection?-1:1:o>s?"asc"===this.sortDirection?1:-1:0}),t}sortBy(t){this.sortColumn===t?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=t,this.sortDirection="asc")}clearFilters(){this.filters={nome:"",nomeFile:"",caricatoDa:"",dataCaricamento:"",dimensione:""}}formatDate(t){return Ui.formatDateTime(t)}static{this.\u0275fac=function(r){return new(r||n)(Le($Ie),Le(Vc))}}static{this.\u0275cmp=as({type:n,selectors:[["app-moduli"]],decls:37,vars:11,consts:[[1,"container-fluid","py-4","custom-spacing"],[1,"desktop-header","d-none","d-md-block","mb-3"],[1,"desktop-header-card"],[1,"desktop-header-content"],[1,"header-left"],[1,"header-icon"],[1,"bi","bi-file-earmark-text-fill"],[1,"header-text"],[1,"header-title"],[1,"header-meta"],[1,"meta-item"],[1,"bi","bi-files","me-1"],[1,"mobile-header","d-md-none","mb-3"],[1,"mobile-header-card"],[1,"mobile-header-title"],[1,"bi","bi-file-earmark-text-fill","me-2"],[1,"title-text"],[1,"mobile-header-info"],[1,"info-item"],[1,"info-label"],[1,"info-value"],["class","alert alert-success alert-dismissible fade show","role","alert",4,"ngIf"],["class","alert alert-danger alert-dismissible fade show","role","alert",4,"ngIf"],["class","card mb-4 upload-card",4,"ngIf"],[1,"d-none","d-md-block"],["class","text-center py-5",4,"ngIf"],["class","text-center py-5 text-muted",4,"ngIf"],["class","table-container",4,"ngIf"],[1,"d-md-none"],["class","accordion","id","moduliAccordion",4,"ngIf"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[1,"bi","bi-check-circle-fill","me-2"],["type","button",1,"btn-close",3,"click"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"bi","bi-exclamation-triangle-fill","me-2"],[1,"card","mb-4","upload-card"],[1,"card-header","bg-primary","text-white",2,"cursor","pointer",3,"click"],[1,"d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-cloud-upload-fill","me-2"],[1,"bi",3,"ngClass"],[1,"card-body","upload-body"],[1,"row","g-3"],[1,"col-md-5"],["for","nomeModulo",1,"form-label","fw-semibold"],["type","text","id","nomeModulo","placeholder","Es: Modulo iscrizione 2025/26",1,"form-control",3,"ngModel","disabled","ngModelChange"],["for","fileInput",1,"form-label","fw-semibold"],["type","file","id","fileInput",1,"form-control",3,"disabled","change"],[1,"col-md-2","d-flex","align-items-end"],[1,"btn","btn-primary","w-100",3,"disabled","click"],[4,"ngIf"],["class","mt-2",4,"ngIf"],[1,"bi","bi-upload","me-1"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"mt-2"],[1,"text-muted"],[1,"bi","bi-file-earmark","me-1"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"text-center","py-5","text-muted"],[1,"bi","bi-inbox","fs-1","d-block","mb-3"],[1,"table-container"],[1,"table-wrapper"],[1,"table","table-hover","modern-table"],[1,"table-header","sticky-header"],[1,"sortable",3,"click"],[1,"th-content"],[1,"actions-column"],["title","Pulisci filtri",1,"btn","btn-sm","btn-link","text-white",3,"click"],[1,"bi","bi-x-circle"],[1,"filter-row"],["type","text","placeholder","Filtra nome...",1,"form-control","form-control-sm","filter-input",3,"ngModel","ngModelChange","input"],["type","text","placeholder","Filtra file...",1,"form-control","form-control-sm","filter-input",3,"ngModel","ngModelChange","input"],["type","text","placeholder","Filtra utente...",1,"form-control","form-control-sm","filter-input",3,"ngModel","ngModelChange","input"],["type","text","placeholder","Filtra data...",1,"form-control","form-control-sm","filter-input",3,"ngModel","ngModelChange","input"],["type","text","placeholder","Filtra dimensione...",1,"form-control","form-control-sm","filter-input",3,"ngModel","ngModelChange","input"],[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],[1,"file-icon-small","me-2"],[1,"actions-cell"],["title","Scarica",1,"btn","btn-sm","btn-primary","me-1",3,"click"],[1,"bi","bi-download"],["class","btn btn-sm btn-danger","title","Elimina",3,"click",4,"ngIf"],["title","Elimina",1,"btn","btn-sm","btn-danger",3,"click"],[1,"bi","bi-trash"],["id","moduliAccordion",1,"accordion"],["class","accordion-item mobile-modulo-card",4,"ngFor","ngForOf"],[1,"accordion-item","mobile-modulo-card"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"accordion-button","collapsed","mobile-modulo-header"],[1,"file-icon-mobile","me-3"],[1,"flex-grow-1"],[1,"modulo-nome"],["data-bs-parent","#moduliAccordion",1,"accordion-collapse","collapse"],[1,"accordion-body","mobile-modulo-details"],[1,"detail-row"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],[1,"action-buttons","mt-3"],[1,"btn","btn-primary","btn-sm","flex-fill",3,"click"],[1,"bi","bi-download","me-1"],["class","btn btn-danger btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash","me-1"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),se(6,"i",6),S(),E(7,"div",7)(8,"h3",8),$(9,"Moduli e Documenti"),S(),E(10,"div",9)(11,"span",10),se(12,"i",11),$(13),S()()()()()()(),E(14,"div",12)(15,"div",13)(16,"div",14),se(17,"i",15),E(18,"span",16),$(19,"Moduli"),S()(),E(20,"div",17)(21,"div",18)(22,"span",19),$(23,"Documenti"),S(),E(24,"span",20),$(25),S()()()()(),$e(26,qIe,4,1,"div",21),$e(27,GIe,4,1,"div",22),$e(28,QIe,22,12,"div",23),E(29,"div",24),$e(30,YIe,4,0,"div",25),$e(31,ZIe,4,0,"div",26),$e(32,eCe,50,31,"div",27),S(),E(33,"div",28),$e(34,tCe,4,0,"div",25),$e(35,nCe,4,0,"div",26),$e(36,oCe,2,1,"div",29),S()()),2&r&&(U(13),In("",i.moduli.length," documenti disponibili "),U(12),Qe(i.moduli.length),U(1),le("ngIf",i.successMessage),U(1),le("ngIf",i.errorMessage),U(1),le("ngIf",i.authService.hasEditPermission()),U(2),le("ngIf",i.isLoading),U(1),le("ngIf",!i.isLoading&&0===i.moduli.length),U(1),le("ngIf",!i.isLoading&&i.moduli.length>0),U(2),le("ngIf",i.isLoading),U(1),le("ngIf",!i.isLoading&&0===i.moduli.length),U(1),le("ngIf",!i.isLoading&&i.moduli.length>0))},dependencies:[Ym,Eu,fa,Ml,Ju,Rh,Zm],styles:[".custom-spacing[_ngcontent-%COMP%]{padding-bottom:80px}.desktop-header-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d6efd 0%,#0a58ca 100%);border-radius:12px;padding:1.5rem;box-shadow:0 4px 12px #00000026;color:#fff}.desktop-header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.header-icon[_ngcontent-%COMP%]{font-size:2.5rem;opacity:.9}.header-text[_ngcontent-%COMP%]{display:flex;flex-direction:column}.header-title[_ngcontent-%COMP%]{margin:0;font-size:1.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.5px}.header-meta[_ngcontent-%COMP%]{display:flex;gap:1.5rem;margin-top:.5rem}.meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.95rem;opacity:.95}.mobile-header-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d6efd 0%,#0a58ca 100%);border-radius:12px;padding:1rem;box-shadow:0 4px 8px #00000026;color:#fff}.mobile-header-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.5rem;font-weight:700;margin-bottom:.75rem;padding-bottom:.75rem;border-bottom:1px solid rgba(255,255,255,.2);color:#fff}.title-text[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.5px;color:#fff}.mobile-header-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.info-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:.9rem;color:#fff!important}.info-label[_ngcontent-%COMP%]{opacity:.9;color:#fff!important}.info-value[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#fff!important}.upload-card[_ngcontent-%COMP%]{box-shadow:0 2px 8px #0000001a;border:none;border-radius:12px;overflow:hidden}.upload-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{border-bottom:none;padding:1rem 1.5rem;transition:all .3s ease}.upload-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#0a58ca 0%,#084298 100%)!important}.upload-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem;transition:all .3s ease}.upload-card[_ngcontent-%COMP%]   .upload-body[_ngcontent-%COMP%]{display:none}.upload-card[_ngcontent-%COMP%]   .upload-body.open[_ngcontent-%COMP%]{display:block}.table-container[_ngcontent-%COMP%]{background:white;border-radius:12px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}.modern-table[_ngcontent-%COMP%]{margin-bottom:0;width:100%}.table-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d6efd 0%,#0a58ca 100%);color:#fff}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10}.table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:1rem;font-weight:600;text-transform:uppercase;font-size:.85rem;letter-spacing:.5px;vertical-align:middle}.sortable[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none}.sortable[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.1)}.th-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.5rem}.th-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.875rem;opacity:.8}.filter-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem 1rem;background:rgba(255,255,255,.95)}.filter-input[_ngcontent-%COMP%]{background:white;border:1px solid #dee2e6;border-radius:6px;font-size:.875rem}.filter-input[_ngcontent-%COMP%]:focus{border-color:#0d6efd;box-shadow:0 0 0 .2rem #0d6efd40}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #e9ecef;transition:background-color .2s}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;vertical-align:middle}.file-icon-small[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#0d6efd 0%,#0a58ca 100%);border-radius:6px;color:#fff;font-size:1rem;flex-shrink:0}.actions-column[_ngcontent-%COMP%]{width:120px;text-align:center}.actions-cell[_ngcontent-%COMP%]{white-space:nowrap;text-align:center}.actions-cell[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem}.modulo-card[_ngcontent-%COMP%]{border:none;border-radius:12px;box-shadow:0 2px 8px #00000014;transition:transform .2s,box-shadow .2s}.modulo-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 4px 16px #00000026}.file-icon[_ngcontent-%COMP%]{width:48px;height:48px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#0d6efd 0%,#0a58ca 100%);border-radius:10px;color:#fff;font-size:1.5rem;flex-shrink:0}.modulo-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-weight:600;color:#212529;font-size:1rem;margin:0}.modulo-info[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;padding:.75rem}.info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.25rem 0;font-size:.875rem}.info-row[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #e9ecef}.info-label[_ngcontent-%COMP%]{color:#6c757d;font-weight:500}.info-value[_ngcontent-%COMP%]{color:#212529;font-weight:600;text-align:right}.mobile-modulo-card[_ngcontent-%COMP%]{border:none;border-radius:12px;margin-bottom:.75rem;box-shadow:0 2px 8px #00000014;overflow:hidden}.mobile-modulo-header[_ngcontent-%COMP%]{padding:1rem;background:white;border:none;display:flex;align-items:center;gap:.75rem}.mobile-modulo-header[_ngcontent-%COMP%]:not(.collapsed){background:#f8f9fa;border-bottom:1px solid #dee2e6}.mobile-modulo-header[_ngcontent-%COMP%]:after{margin-left:auto;flex-shrink:0}.file-icon-mobile[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#0d6efd 0%,#0a58ca 100%);border-radius:8px;color:#fff;font-size:1.25rem;flex-shrink:0}.modulo-nome[_ngcontent-%COMP%]{font-weight:600;color:#212529;font-size:.95rem;margin-bottom:.25rem}.mobile-modulo-details[_ngcontent-%COMP%]{padding:1rem;background:white}.detail-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:.75rem}.detail-row[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}.detail-item[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem}.detail-label[_ngcontent-%COMP%]{font-size:.75rem;color:#6c757d;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.detail-value[_ngcontent-%COMP%]{font-size:.9rem;color:#212529;font-weight:600}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}@media (max-width: 767.98px){.custom-spacing[_ngcontent-%COMP%]{padding-bottom:100px}.upload-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem}}"]})}}return n})(),Kh=(()=>{class n{constructor(t,r){this.router=t,this.authService=r}canActivate(t,r){return!!this.authService.isAuthenticated()||(this.router.navigate(["/login"]),!1)}static{this.\u0275fac=function(r){return new(r||n)(ht(bo),ht(Vc))}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const aCe=[{path:"login",component:B2e},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"home",component:T_e,canActivate:[Kh]},{path:"profilo",component:W2e,canActivate:[Kh]},{path:"squadra",component:V1e,canActivate:[Kh]},{path:"calendario",component:T2e,canActivate:[Kh]},{path:"classifica",component:L2e,canActivate:[Kh]},{path:"moduli",component:sCe,canActivate:[Kh]},{path:"impostazioni",component:nwe,canActivate:[Kh]}];let lCe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fo({type:n})}static{this.\u0275inj=go({imports:[I8.forRoot(aCe),I8]})}}return n})();function cCe(n,e){if(1&n&&(E(0,"a",42)(1,"div",43),se(2,"i",44),S(),E(3,"div",45)(4,"p",46),$(5),wr(6,"capitalize"),wr(7,"capitalize"),S(),E(8,"small",47),$(9),S()(),se(10,"i",48),S()),2&n){const t=xe();U(5),Ua("",ca(6,3,t.currentUser.nome)," ",ca(7,5,t.currentUser.cognome),""),U(4),Qe(t.currentUser.profilo)}}function uCe(n,e){1&n&&(E(0,"li",12)(1,"a",49),se(2,"i",50),E(3,"span"),$(4,"Squadra"),S(),se(5,"i",15),S()())}function dCe(n,e){1&n&&(E(0,"div",25)(1,"a",51),se(2,"i",52),E(3,"span"),$(4,"Impostazioni"),S(),se(5,"i",15),S()())}function hCe(n,e){if(1&n){const t=Ln();E(0,"a",53),De("click",function(){return lt(t),ct(xe().toggleMenu())}),E(1,"div",43),se(2,"i",44),S(),E(3,"div",45)(4,"p",46),$(5),wr(6,"capitalize"),wr(7,"capitalize"),S(),E(8,"small",47),$(9),S()(),se(10,"i",48),S()}if(2&n){const t=xe();U(5),Ua("",ca(6,3,t.currentUser.nome)," ",ca(7,5,t.currentUser.cognome),""),U(4),Qe(t.currentUser.profilo)}}function fCe(n,e){if(1&n){const t=Ln();E(0,"li",12)(1,"a",54),De("click",function(){return lt(t),ct(xe().toggleMenu())}),se(2,"i",50),E(3,"span"),$(4,"Squadra"),S(),se(5,"i",15),S()()}}function pCe(n,e){if(1&n){const t=Ln();E(0,"li",12)(1,"a",55),De("click",function(){return lt(t),ct(xe().toggleMenu())}),se(2,"i",52),E(3,"span"),$(4,"Impostazioni"),S(),se(5,"i",15),S()()}}function gCe(n,e){if(1&n){const t=Ln();E(0,"div",56),De("click",function(){return lt(t),ct(xe().toggleMenu())}),S()}2&n&&zt("show",xe().menuOpen)}let mCe=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.menuOpen=!1,this.currentUser=null}ngOnInit(){this.authService.currentUser.subscribe(t=>{this.currentUser=t}),window.addEventListener("toggleMenu",()=>{this.toggleMenu()})}toggleMenu(){this.menuOpen=!this.menuOpen}isAdmin(){return this.authService.hasEditPermission()}getInitials(){return this.currentUser?((this.currentUser.nome?.charAt(0)||"")+(this.currentUser.cognome?.charAt(0)||"")).toUpperCase():""}logout(){this.authService.logout(),this.menuOpen=!1,this.router.navigate(["/login"])}static{this.\u0275fac=function(r){return new(r||n)(Le(Vc),Le(bo))}}static{this.\u0275cmp=as({type:n,selectors:[["app-header"]],decls:82,vars:9,consts:[[1,"navbar","navbar-dark","bg-primary","d-md-none"],[1,"container-fluid","justify-content-center"],[1,"navbar-brand"],[1,"bi","bi-lightning-fill"],[1,"sidebar","d-none","d-md-flex","flex-column"],[1,"sidebar-header","bg-primary","text-white","p-3"],[1,"mb-0","fw-bold"],[1,"bi","bi-list-ul","me-2"],[1,"sidebar-body","flex-grow-1","d-flex","flex-column"],[1,"user-info-section","p-3","bg-light","border-bottom"],["class","d-flex align-items-center text-decoration-none text-dark user-info-link","routerLink","/profilo","routerLinkActive","active",4,"ngIf"],[1,"nav","flex-column","menu-items"],[1,"nav-item"],["routerLink","/home","routerLinkActive","active",1,"nav-link","menu-link"],[1,"bi","bi-house-door-fill","me-3"],[1,"bi","bi-chevron-right","ms-auto"],["class","nav-item",4,"ngIf"],["routerLink","/calendario","routerLinkActive","active",1,"nav-link","menu-link"],[1,"bi","bi-calendar-event-fill","me-3"],["routerLink","/classifica","routerLinkActive","active",1,"nav-link","menu-link"],[1,"bi","bi-trophy-fill","me-3"],["routerLink","/moduli","routerLinkActive","active",1,"nav-link","menu-link"],[1,"bi","bi-file-earmark-text-fill","me-3"],[1,"mt-auto","p-3"],["class","p-3 border-top",4,"ngIf"],[1,"p-3","border-top"],["href","https://www.instagram.com/thunders.team_/","target","_blank","rel","noopener noreferrer",1,"nav-link","menu-link","instagram-sidebar-link"],[1,"bi","bi-instagram","me-3"],[1,"bi","bi-box-arrow-up-right","ms-auto"],[1,"logout-section","p-3","bg-light","border-top"],[1,"nav-link","menu-link","logout-link",3,"click"],[1,"bi","bi-box-arrow-right","me-3"],["tabindex","-1",1,"offcanvas","offcanvas-start","d-md-none"],[1,"offcanvas-header","bg-primary","text-white"],[1,"offcanvas-title","fw-bold"],["type","button",1,"btn-close","btn-close-white",3,"click"],[1,"offcanvas-body","p-0"],["class","d-flex align-items-center text-decoration-none text-dark user-info-link","routerLink","/profilo","routerLinkActive","active",3,"click",4,"ngIf"],["routerLink","/moduli","routerLinkActive","active",1,"nav-link","menu-link",3,"click"],["href","https://www.instagram.com/thunders.team_/","target","_blank","rel","noopener noreferrer",1,"nav-link","menu-link","instagram-link"],[1,"logout-section","mt-auto","p-3","border-top"],["class","offcanvas-backdrop fade d-md-none",3,"show","click",4,"ngIf"],["routerLink","/profilo","routerLinkActive","active",1,"d-flex","align-items-center","text-decoration-none","text-dark","user-info-link"],[1,"user-avatar","me-3"],[1,"bi","bi-person-circle"],[1,"flex-grow-1"],[1,"mb-0","fw-semibold"],[1,"text-muted"],[1,"bi","bi-chevron-right"],["routerLink","/squadra","routerLinkActive","active",1,"nav-link","menu-link"],[1,"bi","bi-people-fill","me-3"],["routerLink","/impostazioni","routerLinkActive","active",1,"nav-link","menu-link"],[1,"bi","bi-gear-fill","me-3"],["routerLink","/profilo","routerLinkActive","active",1,"d-flex","align-items-center","text-decoration-none","text-dark","user-info-link",3,"click"],["routerLink","/squadra","routerLinkActive","active",1,"nav-link","menu-link",3,"click"],["routerLink","/impostazioni","routerLinkActive","active",1,"nav-link","menu-link",3,"click"],[1,"offcanvas-backdrop","fade","d-md-none",3,"click"]],template:function(r,i){1&r&&(E(0,"nav",0)(1,"div",1)(2,"span",2),$(3," PuntoVolley Thunders "),se(4,"i",3),S()()(),E(5,"div",4)(6,"div",5)(7,"h5",6),se(8,"i",7),$(9,"Menu "),S()(),E(10,"div",8)(11,"div",9),$e(12,cCe,11,7,"a",10),S(),E(13,"ul",11)(14,"li",12)(15,"a",13),se(16,"i",14),E(17,"span"),$(18,"Home"),S(),se(19,"i",15),S()(),$e(20,uCe,6,0,"li",16),E(21,"li",12)(22,"a",17),se(23,"i",18),E(24,"span"),$(25,"Calendario"),S(),se(26,"i",15),S()(),E(27,"li",12)(28,"a",19),se(29,"i",20),E(30,"span"),$(31,"Classifica"),S(),se(32,"i",15),S()(),E(33,"li",12)(34,"a",21),se(35,"i",22),E(36,"span"),$(37,"Moduli"),S(),se(38,"i",15),S()()(),se(39,"div",23),$e(40,dCe,6,0,"div",24),E(41,"div",25)(42,"a",26),se(43,"i",27),E(44,"span"),$(45,"Seguici su Instagram!"),S(),se(46,"i",28),S()(),E(47,"div",29)(48,"a",30),De("click",function(){return i.logout()}),se(49,"i",31),E(50,"span"),$(51,"Logout"),S()()()()(),E(52,"div",32)(53,"div",33)(54,"h5",34),se(55,"i",7),$(56,"Menu "),S(),E(57,"button",35),De("click",function(){return i.toggleMenu()}),S()(),E(58,"div",36)(59,"div",9),$e(60,hCe,11,7,"a",37),S(),E(61,"ul",11),$e(62,fCe,6,0,"li",16),$e(63,pCe,6,0,"li",16),E(64,"li",12)(65,"a",38),De("click",function(){return i.toggleMenu()}),se(66,"i",22),E(67,"span"),$(68,"Moduli"),S(),se(69,"i",15),S()(),E(70,"li",12)(71,"a",39),se(72,"i",27),E(73,"span"),$(74,"Seguici su Instagram!"),S(),se(75,"i",28),S()()(),E(76,"div",40)(77,"a",30),De("click",function(){return i.logout()}),se(78,"i",31),E(79,"span"),$(80,"Logout"),S()()()()(),$e(81,gCe,1,2,"div",41)),2&r&&(U(12),le("ngIf",i.currentUser),U(8),le("ngIf",i.isAdmin()),U(20),le("ngIf",i.isAdmin()),U(12),zt("show",i.menuOpen),U(8),le("ngIf",i.currentUser),U(2),le("ngIf",i.isAdmin()),U(1),le("ngIf",i.isAdmin()),U(18),le("ngIf",i.menuOpen))},dependencies:[fa,bp,QA,SP],styles:['.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:280px;height:100vh;background-color:#fff;box-shadow:2px 0 5px #0000001a;z-index:1010;display:flex;flex-direction:column}.sidebar-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.sidebar-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;display:flex;flex-direction:column;min-height:0}.navbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1030}.navbar-brand[_ngcontent-%COMP%]{font-weight:700}.offcanvas[_ngcontent-%COMP%]{visibility:hidden;transform:translate(-100%);transition:transform .3s ease-in-out;width:280px;max-width:80vw}.offcanvas.show[_ngcontent-%COMP%]{visibility:visible;transform:translate(0)}.offcanvas-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#000;opacity:0;visibility:hidden;transition:opacity .3s ease-in-out}.offcanvas-backdrop.show[_ngcontent-%COMP%]{opacity:.5;visibility:visible}.offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.user-info-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa 0%,#e9ecef 100%)}.user-info-link[_ngcontent-%COMP%]{transition:background-color .2s ease;border-radius:8px;padding:4px;margin:-4px}.user-info-link[_ngcontent-%COMP%]:hover{background-color:#0000000d}.user-info-link.active[_ngcontent-%COMP%]{background-color:rgba(var(--bs-primary-rgb),.1)}.user-avatar[_ngcontent-%COMP%]{font-size:2.5rem;color:var(--bs-primary);line-height:1}.menu-items[_ngcontent-%COMP%]{flex-grow:1;padding:.5rem 0}.menu-link[_ngcontent-%COMP%]{color:#212529;padding:1rem 1.5rem;display:flex;align-items:center;transition:all .2s ease;border-left:3px solid transparent;font-weight:500;position:relative;overflow:hidden}.menu-link[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;height:100%;width:0;background:linear-gradient(90deg,rgba(13,110,253,.1) 0%,transparent 100%);transition:width .3s ease}.menu-link[_ngcontent-%COMP%]:hover:before{width:100%}.menu-link[_ngcontent-%COMP%]:hover{background-color:#0d6efd0d;border-left-color:var(--bs-primary);color:var(--bs-primary);transform:translate(5px)}.menu-link.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(13,110,253,.15) 0%,rgba(13,110,253,.05) 100%);border-left-color:var(--bs-primary);color:var(--bs-primary);font-weight:600}.menu-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:first-child{font-size:1.25rem;width:24px;text-align:center}.menu-link[_ngcontent-%COMP%]   i.bi-chevron-right[_ngcontent-%COMP%]{font-size:.875rem;opacity:.5;transition:transform .2s ease,opacity .2s ease}.menu-link[_ngcontent-%COMP%]:hover   i.bi-chevron-right[_ngcontent-%COMP%], .menu-link.active[_ngcontent-%COMP%]   i.bi-chevron-right[_ngcontent-%COMP%]{opacity:1;transform:translate(3px)}.logout-section[_ngcontent-%COMP%]{background-color:#f8f9fa}.logout-link[_ngcontent-%COMP%]{color:#dc3545;padding:.75rem 1rem;display:flex;align-items:center;transition:all .2s ease;border-radius:.375rem;font-weight:500}.logout-link[_ngcontent-%COMP%]:hover{background-color:#dc35451a;color:#bb2d3b;transform:translate(5px)}.logout-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}']})}}return n})(),_Ce=(()=>{class n{constructor(t){this.router=t}isActive(t){return this.router.url===t||this.router.url.startsWith(t+"/")}openMenu(){window.dispatchEvent(new CustomEvent("toggleMenu"))}static{this.\u0275fac=function(r){return new(r||n)(Le(bo))}}static{this.\u0275cmp=as({type:n,selectors:[["app-footer"]],decls:22,vars:6,consts:[[1,"bottom-nav","bg-white","fixed-bottom","shadow-lg","d-md-none"],[1,"nav-container"],["routerLink","/home","routerLinkActive","active",1,"nav-item"],[1,"nav-icon"],[1,"bi","bi-house-door-fill"],[1,"nav-label"],["routerLink","/calendario","routerLinkActive","active",1,"nav-item"],[1,"bi","bi-calendar-event-fill"],["routerLink","/classifica","routerLinkActive","active",1,"nav-item"],[1,"bi","bi-trophy-fill"],[1,"nav-item",3,"click"],[1,"bi","bi-grid-fill"]],template:function(r,i){1&r&&(E(0,"nav",0)(1,"div",1)(2,"a",2)(3,"div",3),se(4,"i",4),S(),E(5,"span",5),$(6,"Home"),S()(),E(7,"a",6)(8,"div",3),se(9,"i",7),S(),E(10,"span",5),$(11,"Calendario"),S()(),E(12,"a",8)(13,"div",3),se(14,"i",9),S(),E(15,"span",5),$(16,"Classifica"),S()(),E(17,"a",10),De("click",function(){return i.openMenu()}),E(18,"div",3),se(19,"i",11),S(),E(20,"span",5),$(21,"Altro"),S()()()()),2&r&&(U(2),zt("active",i.isActive("/home")),U(5),zt("active",i.isActive("/calendario")),U(5),zt("active",i.isActive("/classifica")))},dependencies:[bp,QA],styles:[".bottom-nav[_ngcontent-%COMP%]{z-index:1030;border-top:1px solid rgba(0,0,0,.08);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background-color:#fffffff2!important;padding-bottom:env(safe-area-inset-bottom)}.nav-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;height:75px;max-width:600px;margin:0 auto;padding:0 1rem}.nav-item[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;text-decoration:none;color:#6c757d;padding:.5rem;border-radius:12px;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;gap:.25rem}.nav-icon[_ngcontent-%COMP%]{font-size:1.5rem;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:12px}.nav-item[_ngcontent-%COMP%]:not(.active):active   .nav-icon[_ngcontent-%COMP%]{transform:scale(.9)}.nav-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;transition:all .3s cubic-bezier(.4,0,.2,1);opacity:.8}.nav-item.active[_ngcontent-%COMP%]{color:var(--bs-primary)}.nav-item.active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(13,110,253,.15) 0%,rgba(13,110,253,.25) 100%);transform:translateY(-2px);box-shadow:0 4px 12px #0d6efd33}.nav-item.active[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%]{font-weight:600;opacity:1}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 4px 12px #0d6efd33}50%{box-shadow:0 4px 16px #0d6efd4d}to{box-shadow:0 4px 12px #0d6efd33}}.nav-item.active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}@media (hover: hover){.nav-item[_ngcontent-%COMP%]:hover:not(.active){color:var(--bs-primary)}.nav-item[_ngcontent-%COMP%]:hover:not(.active)   .nav-icon[_ngcontent-%COMP%]{background:rgba(13,110,253,.08);transform:translateY(-2px)}.nav-item[_ngcontent-%COMP%]:hover:not(.active)   .nav-label[_ngcontent-%COMP%]{opacity:1}}"]})}}return n})();function vCe(n,e){1&n&&se(0,"app-header")}function yCe(n,e){1&n&&se(0,"app-footer")}let bCe=(()=>{class n{constructor(t){this.authService=t,this.title="thunders-pwa"}static{this.\u0275fac=function(r){return new(r||n)(Le(Vc))}}static{this.\u0275cmp=as({type:n,selectors:[["app-root"]],decls:4,vars:4,consts:[[4,"ngIf"]],template:function(r,i){1&r&&($e(0,vCe,1,0,"app-header",0),E(1,"div"),se(2,"router-outlet"),S(),$e(3,yCe,1,0,"app-footer",0)),2&r&&(le("ngIf",i.authService.isAuthenticated()),U(1),zt("with-nav",i.authService.isAuthenticated()),U(2),le("ngIf",i.authService.isAuthenticated()))},dependencies:[fa,zA,mCe,_Ce],styles:[".with-nav[_ngcontent-%COMP%]{padding-top:56px;padding-bottom:85px;min-height:calc(100vh - 141px)}@media (min-width: 768px){.with-nav[_ngcontent-%COMP%]{padding-top:10px;padding-left:280px;padding-bottom:0;min-height:100vh}}"]})}}return n})();const wCe=["addListener","removeListener"],ICe=["addEventListener","removeEventListener"],CCe=["on","off"];function Dw(n,e,t,r){if(fn(t)&&(r=t,t=void 0),r)return Dw(n,e,t).pipe(AA(r));const[i,o]=function TCe(n){return fn(n.addEventListener)&&fn(n.removeEventListener)}(n)?ICe.map(s=>a=>n[s](e,a,t)):function ECe(n){return fn(n.addListener)&&fn(n.removeListener)}(n)?wCe.map(NG(n,e)):function ACe(n){return fn(n.on)&&fn(n.off)}(n)?CCe.map(NG(n,e)):[];if(!i&&iI(n))return Ti(s=>Dw(s,e,t))(po(n));if(!i)throw new TypeError("Invalid event target");return new or(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function NG(n,e){return t=>r=>n[t](e,r)}const fd=new or(Ld),DCe={connector:()=>new is};function RG(n,e=DCe){const{connector:t}=e;return ii((r,i)=>{const o=t();po(n(function SCe(n){return new or(e=>n.subscribe(e))}(o))).subscribe(i),i.add(r.subscribe(o))})}function kG(n,e){return e?t=>t_(e.pipe(ps(1),function MCe(){return ii((n,e)=>{n.subscribe(oi(e,Ld))})}()),t.pipe(kG(n))):Ti((t,r)=>po(n(t,r)).pipe(ps(1),wF(t)))}const fv="Service workers are disabled or not supported by this browser";class xw{constructor(e){if(this.serviceWorker=e,e){const r=Dw(e,"controllerchange").pipe(cn(()=>e.controller)),o=t_(Py(()=>Lt(e.controller)),r);this.worker=o.pipe(gs(u=>!!u)),this.registration=this.worker.pipe(os(()=>e.getRegistration()));const c=Dw(e,"message").pipe(cn(u=>u.data)).pipe(gs(u=>u&&u.type)).pipe(function PCe(n){return n?e=>RG(n)(e):e=>function xCe(n,e){const t=fn(n)?n:()=>n;return fn(e)?RG(e,{connector:t}):r=>new SA(r,t)}(new is)(e)}());c.connect(),this.events=c}else this.worker=this.events=this.registration=function OCe(n){return Py(()=>up(new Error(n)))}(fv)}postMessage(e,t){return this.worker.pipe(ps(1),Vi(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(gs(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(ps(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(gs(t=>t.nonce===e),ps(1),cn(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let OG=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new is,!t.isEnabled)return this.messages=fd,this.notificationClicks=fd,void(this.subscription=fd);this.messages=this.sw.eventsOfType("PUSH").pipe(cn(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(cn(i=>i.data)),this.pushManager=this.sw.registration.pipe(cn(i=>i.pushManager));const r=this.pushManager.pipe(os(i=>i.getSubscription()));this.subscription=sI(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(fv));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,this.pushManager.pipe(os(s=>s.subscribe(r)),ps(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(ps(1),os(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(fv))}decodeBase64(t){return atob(t)}static{this.\u0275fac=function(r){return new(r||n)(ht(xw))}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac})}}return n})(),LG=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=fd,this.available=fd,this.activated=fd,void(this.unrecoverable=fd);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(gs(r=>"VERSION_READY"===r.type),cn(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(fv));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(fv));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static{this.\u0275fac=function(r){return new(r||n)(ht(xw))}}static{this.\u0275prov=mt({token:n,factory:n.\u0275fac})}}return n})();const FG=new st("NGSW_REGISTER_SCRIPT");function LCe(n,e,t,r){return()=>{if(!K6(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)i=t.registrationStrategy();else{const[s,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Lt(null);break;case"registerWithDelay":i=VG(+a[0]||0);break;case"registerWhenStable":i=a[0]?sI(UG(n),VG(+a[0])):UG(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(On).runOutsideAngular(()=>i.pipe(ps(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function VG(n){return Lt(null).pipe(function kCe(n,e=_5){const t=function RCe(n=0,e,t=uue){let r=-1;return null!=e&&(xN(e)?t=e:r=e),new or(i=>{let o=function NCe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(n,e);return kG(()=>t)}(n))}function UG(n){return n.get(Qd).isStable.pipe(gs(t=>t))}function FCe(n,e){return new xw(K6(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class QM{}function VCe(n,e={}){return function yC(n){return{\u0275providers:n}}([OG,LG,{provide:FG,useValue:n},{provide:QM,useValue:e},{provide:xw,useFactory:FCe,deps:[QM,dc]},{provide:ay,useFactory:LCe,deps:[eo,FG,QM,dc],multi:!0}])}let UCe=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[VCe(t,r)]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fo({type:n})}static{this.\u0275inj=go({providers:[OG,LG]})}}return n})();const BCe_firebase={apiKey:"AIzaSyAUbG_IDk6TFGtGbpkMVY4j2ZLvtvYee3A",authDomain:"thunders-pwa.firebaseapp.com",projectId:"thunders-pwa",storageBucket:"thunders-pwa.firebasestorage.app",messagingSenderId:"521968874196",appId:"1:521968874196:web:d279af17ffb90278814141"};let jCe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fo({type:n,bootstrap:[bCe]})}static{this.\u0275inj=go({imports:[Voe,lCe,UCe.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"}),y1e,v1e,Iue(()=>Cue(BCe_firebase)),u_e(()=>h_e()),VIe(()=>jIe())]})}}return n})();Loe().bootstrapModule(jCe).catch(n=>console.error(n))},467:(Rv,kv,Ps)=>{function fn(Nd,uu,Fi,Rd,kd,Od,Ms){try{var al=Nd[Od](Ms),rc=al.value}catch(Ld){return void Fi(Ld)}al.done?uu(rc):Promise.resolve(rc).then(Rd,kd)}function Qg(Nd){return function(){var uu=this,Fi=arguments;return new Promise(function(Rd,kd){var Od=Nd.apply(uu,Fi);function Ms(rc){fn(Od,Rd,kd,Ms,al,"next",rc)}function al(rc){fn(Od,Rd,kd,Ms,al,"throw",rc)}Ms(void 0)})}}Ps.d(kv,{A:()=>Qg})}},Rv=>{Rv(Rv.s=9799)}]);