"use strict";(self.webpackChunkthunders_pwa=self.webpackChunkthunders_pwa||[]).push([[792],{8049:(cy,dy,As)=>{function cn(n){return"function"==typeof n}function xg(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const md=xg(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Yu(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Mi{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(cn(r))try{r()}catch(o){e=o instanceof md?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{yd(o)}catch(s){e=e??[],s instanceof md?e=[...e,...s.errors]:e.push(s)}}if(e)throw new md(e)}}add(e){var t;if(e&&e!==this)if(this.closed)yd(e);else{if(e instanceof Mi){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Yu(t,e)}remove(e){const{_finalizers:t}=this;t&&Yu(t,e),e instanceof Mi&&e._removeParent(this)}}Mi.EMPTY=(()=>{const n=new Mi;return n.closed=!0,n})();const _d=Mi.EMPTY;function vd(n){return n instanceof Mi||n&&"closed"in n&&cn(n.remove)&&cn(n.add)&&cn(n.unsubscribe)}function yd(n){cn(n)?n():n.unsubscribe()}const Cs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Za={setTimeout(n,e,...t){const{delegate:r}=Za;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Za;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ql(n){Za.setTimeout(()=>{const{onUnhandledError:e}=Cs;if(!e)throw n;e(n)})}function bd(){}const nG=mw("C",void 0,void 0);function mw(n,e,t){return{kind:n,value:e,error:t}}let wd=null;function hy(n){if(Cs.useDeprecatedSynchronousErrorHandling){const e=!wd;if(e&&(wd={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=wd;if(wd=null,t)throw r}}else n()}class _w extends Mi{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,vd(e)&&e.add(this)):this.destination=uG}static create(e,t,r){return new qh(e,t,r)}next(e){this.isStopped?yw(function iG(n){return mw("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?yw(function rG(n){return mw("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?yw(nG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const sG=Function.prototype.bind;function vw(n,e){return sG.call(n,e)}class aG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){fy(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){fy(r)}else fy(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){fy(t)}}}class qh extends _w{constructor(e,t,r){let i;if(super(),cn(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Cs.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&vw(e.next,o),error:e.error&&vw(e.error,o),complete:e.complete&&vw(e.complete,o)}):i=e}this.destination=new aG(i)}}function fy(n){Cs.useDeprecatedSynchronousErrorHandling?function oG(n){Cs.useDeprecatedSynchronousErrorHandling&&wd&&(wd.errorThrown=!0,wd.error=n)}(n):ql(n)}function yw(n,e){const{onStoppedNotification:t}=Cs;t&&Za.setTimeout(()=>t(n,e))}const uG={closed:!0,next:bd,error:function lG(n){throw n},complete:bd},bw="function"==typeof Symbol&&Symbol.observable||"@@observable";function Zu(n){return n}function bN(n){return 0===n.length?Zu:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let or=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function hG(n){return n&&n instanceof _w||function dG(n){return n&&cn(n.next)&&cn(n.error)&&cn(n.complete)}(n)&&vd(n)}(t)?t:new qh(t,r,i);return hy(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=wN(r))((i,o)=>{const s=new qh({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[bw](){return this}pipe(...t){return bN(t)(this)}toPromise(t){return new(t=wN(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function wN(n){var e;return null!==(e=n??Cs.Promise)&&void 0!==e?e:Promise}const fG=xg(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Zo=(()=>{class n extends or{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new IN(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new fG}next(t){hy(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){hy(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){hy(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?_d:(this.currentObservers=null,o.push(t),new Mi(()=>{this.currentObservers=null,Yu(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new or;return t.source=this,t}}return n.create=(e,t)=>new IN(e,t),n})();class IN extends Zo{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:_d}}function EN(n){return cn(n?.lift)}function Xr(n){return e=>{if(EN(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ei(n,e,t,r,i){return new pG(n,e,t,r,i)}class pG extends _w{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function hn(n,e){return Xr((t,r)=>{let i=0;t.subscribe(ei(r,o=>{r.next(n.call(e,o,i++))}))})}function py(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Ju(n){return this instanceof Ju?(this.v=n,this):new Ju(n)}function SN(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Aw(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Tw=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function DN(n){return cn(n?.then)}function xN(n){return cn(n[bw])}function PN(n){return Symbol.asyncIterator&&cn(n?.[Symbol.asyncIterator])}function NN(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const RN=function BG(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function MN(n){return cn(n?.[RN])}function kN(n){return function TN(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(p){return function(b){return Promise.resolve(b).then(p,d)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(p,b){r[p]&&(i[p]=function(w){return new Promise(function(E,A){o.push([p,w,E,A])>1||l(p,w)})},b&&(i[p]=b(i[p])))}function l(p,b){try{!function u(p){p.value instanceof Ju?Promise.resolve(p.value.v).then(c,d):g(o[0][2],p)}(r[p](b))}catch(w){g(o[0][3],w)}}function c(p){l("next",p)}function d(p){l("throw",p)}function g(p,b){p(b),o.shift(),o.length&&l(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Ju(t.read());if(i)return yield Ju(void 0);yield yield Ju(r)}}finally{t.releaseLock()}})}function ON(n){return cn(n?.getReader)}function co(n){if(n instanceof or)return n;if(null!=n){if(xN(n))return function jG(n){return new or(e=>{const t=n[bw]();if(cn(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Tw(n))return function zG(n){return new or(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(DN(n))return function $G(n){return new or(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ql)})}(n);if(PN(n))return LN(n);if(MN(n))return function qG(n){return new or(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(ON(n))return function GG(n){return LN(kN(n))}(n)}throw NN(n)}function LN(n){return new or(e=>{(function HG(n,e){var t,r,i,o;return function AN(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=SN(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Gl(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ii(n,e,t=1/0){return cn(e)?Ii((r,i)=>hn((o,s)=>e(r,o,i,s))(co(n(r,i))),t):("number"==typeof e&&(t=e),Xr((r,i)=>function WG(n,e,t,r,i,o,s,a){const l=[];let u=0,c=0,d=!1;const g=()=>{d&&!l.length&&!u&&e.complete()},p=w=>u<r?b(w):l.push(w),b=w=>{o&&e.next(w),u++;let E=!1;co(t(w,c++)).subscribe(ei(e,A=>{i?.(A),o?p(A):e.next(A)},()=>{E=!0},void 0,()=>{if(E)try{for(u--;l.length&&u<r;){const A=l.shift();s?Gl(e,s,()=>b(A)):b(A)}g()}catch(A){e.error(A)}}))};return n.subscribe(ei(e,p,()=>{d=!0,g()})),()=>{a?.()}}(r,i,n,t)))}function Gh(n=1/0){return Ii(Zu,n)}const Ja=new or(n=>n.complete());function FN(n){return n&&cn(n.schedule)}function Sw(n){return n[n.length-1]}function VN(n){return cn(Sw(n))?n.pop():void 0}function Pg(n){return FN(Sw(n))?n.pop():void 0}function gy(n,e=0){return Xr((t,r)=>{t.subscribe(ei(r,i=>Gl(r,n,()=>r.next(i),e),()=>Gl(r,n,()=>r.complete(),e),i=>Gl(r,n,()=>r.error(i),e)))})}function my(n,e=0){return Xr((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function UN(n,e){if(!n)throw new Error("Iterable cannot be null");return new or(t=>{Gl(t,e,()=>{const r=n[Symbol.asyncIterator]();Gl(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ki(n,e){return e?function tH(n,e){if(null!=n){if(xN(n))return function YG(n,e){return co(n).pipe(my(e),gy(e))}(n,e);if(Tw(n))return function JG(n,e){return new or(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(DN(n))return function ZG(n,e){return co(n).pipe(my(e),gy(e))}(n,e);if(PN(n))return UN(n,e);if(MN(n))return function XG(n,e){return new or(t=>{let r;return Gl(t,e,()=>{r=n[RN](),Gl(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>cn(r?.return)&&r.return()})}(n,e);if(ON(n))return function eH(n,e){return UN(kN(n),e)}(n,e)}throw NN(n)}(n,e):co(n)}function Dw(...n){const e=Pg(n),t=function QG(n,e){return"number"==typeof Sw(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?co(r[0]):Gh(t)(ki(r,e)):Ja}class Ts extends Zo{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function kt(...n){return ki(n,Pg(n))}function BN(n={}){const{connector:e=(()=>new Zo),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,l,u=0,c=!1,d=!1;const g=()=>{a?.unsubscribe(),a=void 0},p=()=>{g(),s=l=void 0,c=d=!1},b=()=>{const w=s;p(),w?.unsubscribe()};return Xr((w,E)=>{u++,!d&&!c&&g();const A=l=l??e();E.add(()=>{u--,0===u&&!d&&!c&&(a=xw(b,i))}),A.subscribe(E),!s&&u>0&&(s=new qh({next:M=>A.next(M),error:M=>{d=!0,g(),a=xw(p,t,M),A.error(M)},complete:()=>{c=!0,g(),a=xw(p,r),A.complete()}}),co(w).subscribe(s))})(o)}}function xw(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new qh({next:()=>{r.unsubscribe(),n()}});return co(e(...t)).subscribe(r)}function Jo(n,e){return Xr((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(ei(r,l=>{i?.unsubscribe();let u=0;const c=o++;co(n(l,c)).subscribe(i=ei(r,d=>r.next(e?e(l,d,c,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function rH(n,e){return n===e}function $n(n){for(let e in n)if(n[e]===$n)return e;throw Error("Could not find renamed property on target object.")}function _y(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ei(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ei).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Pw(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const iH=$n({__forward_ref__:$n});function dr(n){return n.__forward_ref__=dr,n.toString=function(){return Ei(this())},n}function qt(n){return Nw(n)?n():n}function Nw(n){return"function"==typeof n&&n.hasOwnProperty(iH)&&n.__forward_ref__===dr}function Rw(n){return n&&!!n.\u0275providers}const jN="https://g.co/ng/security#xss";class ze extends Error{constructor(e,t){super(function vy(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Yt(n){return"string"==typeof n?n:null==n?"":String(n)}function Mw(n,e){throw new ze(-201,!1)}function Js(n,e){null==n&&function Vt(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function vt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Po(n){return{providers:n.providers||[],imports:n.imports||[]}}function yy(n){return zN(n,wy)||zN(n,$N)}function zN(n,e){return n.hasOwnProperty(e)?n[e]:null}function by(n){return n&&(n.hasOwnProperty(kw)||n.hasOwnProperty(hH))?n[kw]:null}const wy=$n({\u0275prov:$n}),kw=$n({\u0275inj:$n}),$N=$n({ngInjectableDef:$n}),hH=$n({ngInjectorDef:$n});var fn=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(fn||{});let Ow;function Xo(n){const e=Ow;return Ow=n,e}function GN(n,e,t){const r=yy(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&fn.Optional?null:void 0!==e?e:void Mw(Ei(n))}const hr=globalThis;class at{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=vt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ng={},Bw="__NG_DI_FLAG__",Iy="ngTempTokenPath",gH=/\n/gm,WN="__source";let Hh;function Xu(n){const e=Hh;return Hh=n,e}function vH(n,e=fn.Default){if(void 0===Hh)throw new ze(-203,!1);return null===Hh?GN(n,void 0,e):Hh.get(n,e&fn.Optional?null:void 0,e)}function pt(n,e=fn.Default){return(function qN(){return Ow}()||vH)(qt(n),e)}function lt(n,e=fn.Default){return pt(n,Ey(e))}function Ey(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function jw(n){const e=[];for(let t=0;t<n.length;t++){const r=qt(n[t]);if(Array.isArray(r)){if(0===r.length)throw new ze(900,!1);let i,o=fn.Default;for(let s=0;s<r.length;s++){const a=r[s],l=yH(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(pt(i,o))}else e.push(pt(r))}return e}function Rg(n,e){return n[Bw]=e,n.prototype[Bw]=e,n}function yH(n){return n[Bw]}function Hl(n){return{toString:n}.toString()}var Ay=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Ay||{}),Ca=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Ca||{});const Xa={},Mn=[],Cy=$n({\u0275cmp:$n}),zw=$n({\u0275dir:$n}),$w=$n({\u0275pipe:$n}),QN=$n({\u0275mod:$n}),Wl=$n({\u0275fac:$n}),Mg=$n({__NG_ELEMENT_ID__:$n}),YN=$n({__NG_ENV_ID__:$n});function ZN(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function qw(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];XN(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function JN(n){return 3===n||4===n||6===n}function XN(n){return 64===n.charCodeAt(0)}function kg(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||eR(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function eR(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}const tR="ng-template";function IH(n,e,t){let r=0,i=!0;for(;r<n.length;){let o=n[r++];if("string"==typeof o&&i){const s=n[r++];if(t&&"class"===o&&-1!==ZN(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function nR(n){return 4===n.type&&n.value!==tR}function EH(n,e,t){return e===(4!==n.type||t?n.value:tR)}function AH(n,e,t){let r=4;const i=n.attrs||[],o=function SH(n){for(let e=0;e<n.length;e++)if(JN(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!EH(n,l,t)||""===l&&1===e.length){if(Ta(r))return!1;s=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!IH(n.attrs,u,t)){if(Ta(r))return!1;s=!0}continue}const d=CH(8&r?"class":l,i,nR(n),t);if(-1===d){if(Ta(r))return!1;s=!0;continue}if(""!==u){let g;g=d>o?"":i[d+1].toLowerCase();const p=8&r?g:null;if(p&&-1!==ZN(p,u,0)||2&r&&u!==g){if(Ta(r))return!1;s=!0}}}}else{if(!s&&!Ta(r)&&!Ta(l))return!1;if(s&&Ta(l))continue;s=!1,r=l|1&r}}return Ta(r)||s}function Ta(n){return 0==(1&n)}function CH(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function DH(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function rR(n,e,t=!1){for(let r=0;r<e.length;r++)if(AH(n,e[r],t))return!0;return!1}function iR(n,e){return n?":not("+e.trim()+")":e}function PH(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Ta(s)&&(e+=iR(o,i),i=""),r=s,o=o||!Ta(r);t++}return""!==i&&(e+=iR(o,i)),e}function es(n){return Hl(()=>{const e=sR(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ay.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ca.Emulated,styles:n.styles||Mn,_:null,schemas:n.schemas||null,tView:null,id:""};aR(t);const r=n.dependencies;return t.directiveDefs=Ty(r,!1),t.pipeDefs=Ty(r,!0),t.id=function VH(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function kH(n){return En(n)||Hi(n)}function OH(n){return null!==n}function ts(n){return Hl(()=>({type:n.type,bootstrap:n.bootstrap||Mn,declarations:n.declarations||Mn,imports:n.imports||Mn,exports:n.exports||Mn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function oR(n,e){if(null==n)return Xa;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}function Gt(n){return Hl(()=>{const e=sR(n);return aR(e),e})}function No(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function En(n){return n[Cy]||null}function Hi(n){return n[zw]||null}function Ro(n){return n[$w]||null}function Ds(n,e){const t=n[QN]||null;if(!t&&!0===e)throw new Error(`Type ${Ei(n)} does not have '\u0275mod' property.`);return t}function sR(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Xa,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Mn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:oR(n.inputs,e),outputs:oR(n.outputs)}}function aR(n){n.features?.forEach(e=>e(n))}function Ty(n,e){if(!n)return null;const t=e?Ro:kH;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(OH)}const qr=0,nt=1,en=2,Dr=3,Sa=4,Og=5,ho=6,Kh=7,ti=8,ec=9,Qh=10,Zt=11,Lg=12,lR=13,Yh=14,ni=15,Fg=16,Zh=17,el=18,Vg=19,uR=20,tc=21,Kl=22,Ug=23,Bg=24,pn=25,Gw=1,cR=2,tl=7,Jh=9,Wi=11;function ns(n){return Array.isArray(n)&&"object"==typeof n[Gw]}function Mo(n){return Array.isArray(n)&&!0===n[Gw]}function Hw(n){return 0!=(4&n.flags)}function Ed(n){return n.componentOffset>-1}function Dy(n){return 1==(1&n.flags)}function Da(n){return!!n.template}function Ww(n){return 0!=(512&n[en])}function Ad(n,e){return n.hasOwnProperty(Wl)?n[Wl]:null}let Ki=null,xy=!1;function Xs(n){const e=Ki;return Ki=n,e}const fR={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function gR(n){if(!zg(n)||n.dirty){if(!n.producerMustRecompute(n)&&!vR(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function _R(n){n.dirty=!0,function mR(n){if(void 0===n.liveConsumerNode)return;const e=xy;xy=!0;try{for(const t of n.liveConsumerNode)t.dirty||_R(t)}finally{xy=e}}(n),n.consumerMarkedDirty?.(n)}function Qw(n){return n&&(n.nextProducerIndex=0),Xs(n)}function Yw(n,e){if(Xs(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(zg(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Py(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function vR(n){Xh(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(gR(t),r!==t.version))return!0}return!1}function yR(n){if(Xh(n),zg(n))for(let e=0;e<n.producerNode.length;e++)Py(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Py(n,e){if(function wR(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Xh(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Py(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Xh(i),i.producerIndexOfThis[r]=e}}function zg(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Xh(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let IR=null;const TR=()=>{},ZH=(()=>({...fR,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:TR}))();class JH{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function rs(){return SR}function SR(n){return n.type.prototype.ngOnChanges&&(n.setInput=eW),XH}function XH(){const n=xR(this),e=n?.current;if(e){const t=n.previous;if(t===Xa)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function eW(n,e,t,r){const i=this.declaredInputs[t],o=xR(n)||function tW(n,e){return n[DR]=e}(n,{previous:Xa,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new JH(l&&l.currentValue,e,a===Xa),n[r]=e}rs.ngInherit=!0;const DR="__ngSimpleChanges__";function xR(n){return n[DR]||null}const nl=function(n,e,t){};function fr(n){for(;Array.isArray(n);)n=n[qr];return n}function Ny(n,e){return fr(e[n])}function is(n,e){return fr(e[n.index])}function RR(n,e){return n.data[e]}function ef(n,e){return n[e]}function xs(n,e){const t=e[n];return ns(t)?t:t[qr]}function rc(n,e){return null==e?null:n[e]}function MR(n){n[Zh]=0}function aW(n){1024&n[en]||(n[en]|=1024,OR(n,1))}function kR(n){1024&n[en]&&(n[en]&=-1025,OR(n,-1))}function OR(n,e){let t=n[Dr];if(null===t)return;t[Og]+=e;let r=t;for(t=t[Dr];null!==t&&(1===e&&1===r[Og]||-1===e&&0===r[Og]);)t[Og]+=e,r=t,t=t[Dr]}const Ut={lFrame:HR(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function VR(){return Ut.bindingsEnabled}function Fe(){return Ut.lFrame.lView}function An(){return Ut.lFrame.tView}function Cn(n){return Ut.lFrame.contextLView=n,n[ti]}function Tn(n){return Ut.lFrame.contextLView=null,n}function Qi(){let n=UR();for(;null!==n&&64===n.type;)n=n.parent;return n}function UR(){return Ut.lFrame.currentTNode}function rl(n,e){const t=Ut.lFrame;t.currentTNode=n,t.isParent=e}function tI(){return Ut.lFrame.isParent}function ko(){const n=Ut.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function nf(){return Ut.lFrame.bindingIndex++}function Yl(n){const e=Ut.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function yW(n,e){const t=Ut.lFrame;t.bindingIndex=t.bindingRootIndex=n,rI(e)}function rI(n){Ut.lFrame.currentDirectiveIndex=n}function $R(){return Ut.lFrame.currentQueryIndex}function oI(n){Ut.lFrame.currentQueryIndex=n}function wW(n){const e=n[nt];return 2===e.type?e.declTNode:1===e.type?n[ho]:null}function qR(n,e,t){if(t&fn.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&fn.Host||(i=wW(o),null===i||(o=o[Yh],10&i.type))););if(null===i)return!1;e=i,n=o}const r=Ut.lFrame=GR();return r.currentTNode=e,r.lView=n,!0}function sI(n){const e=GR(),t=n[nt];Ut.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function GR(){const n=Ut.lFrame,e=null===n?null:n.child;return null===e?HR(n):e}function HR(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function WR(){const n=Ut.lFrame;return Ut.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const KR=WR;function aI(){const n=WR();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Oo(){return Ut.lFrame.selectedIndex}function Cd(n){Ut.lFrame.selectedIndex=n}function Fr(){const n=Ut.lFrame;return RR(n.tView,n.selectedIndex)}let YR=!0;function Ry(){return YR}function ic(n){YR=n}function My(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),null!=c&&(n.destroyHooks??=[]).push(t,c)}}function ky(n,e,t){ZR(n,e,3,t)}function Oy(n,e,t,r){(3&n[en])===t&&ZR(n,e,t,r)}function lI(n,e){let t=n[en];(3&t)===e&&(t&=8191,t+=1,n[en]=t)}function ZR(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&n[Zh]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[Zh]+=65536),(a<o||-1==o)&&(xW(n,t,e,l),n[Zh]=(4294901760&n[Zh])+l+2),l++}function JR(n,e){nl(4,n,e);const t=Xs(null);try{e.call(n)}finally{Xs(t),nl(5,n,e)}}function xW(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];i?n[en]>>13<n[Zh]>>16&&(3&n[en])===e&&(n[en]+=8192,JR(a,o)):JR(a,o)}const rf=-1;class qg{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function cI(n){return n!==rf}function Gg(n){return 32767&n}function Hg(n,e){let t=function MW(n){return n>>16}(n),r=e;for(;t>0;)r=r[Yh],t--;return r}let dI=!0;function Ly(n){const e=dI;return dI=n,e}const XR=255,eM=5;let kW=0;const il={};function Fy(n,e){const t=tM(n,e);if(-1!==t)return t;const r=e[nt];r.firstCreatePass&&(n.injectorIndex=e.length,hI(r.data,n),hI(e,null),hI(r.blueprint,null));const i=Vy(n,e),o=n.injectorIndex;if(cI(i)){const s=Gg(i),a=Hg(i,e),l=a[nt].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function hI(n,e){n.push(0,0,0,0,0,0,0,0,e)}function tM(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Vy(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=lM(i),null===r)return rf;if(t++,i=i[Yh],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return rf}function fI(n,e,t){!function OW(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Mg)&&(r=t[Mg]),null==r&&(r=t[Mg]=kW++);const i=r&XR;e.data[n+(i>>eM)]|=1<<i}(n,e,t)}function nM(n,e,t){if(t&fn.Optional||void 0!==n)return n;Mw()}function rM(n,e,t,r){if(t&fn.Optional&&void 0===r&&(r=null),!(t&(fn.Self|fn.Host))){const i=n[ec],o=Xo(void 0);try{return i?i.get(e,r,t&fn.Optional):GN(e,r,t&fn.Optional)}finally{Xo(o)}}return nM(r,0,t)}function iM(n,e,t,r=fn.Default,i){if(null!==n){if(2048&e[en]&&!(r&fn.Self)){const s=function jW(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[en]&&!(512&s[en]);){const a=oM(o,s,t,r|fn.Self,il);if(a!==il)return a;let l=o.parent;if(!l){const u=s[uR];if(u){const c=u.get(t,il,r);if(c!==il)return c}l=lM(s),s=s[Yh]}o=l}return i}(n,e,t,r,il);if(s!==il)return s}const o=oM(n,e,t,r,il);if(o!==il)return o}return rM(e,t,r,i)}function oM(n,e,t,r,i){const o=function VW(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Mg)?n[Mg]:void 0;return"number"==typeof e?e>=0?e&XR:BW:e}(t);if("function"==typeof o){if(!qR(e,n,r))return r&fn.Host?nM(i,0,r):rM(e,t,r,i);try{let s;if(s=o(r),null!=s||r&fn.Optional)return s;Mw()}finally{KR()}}else if("number"==typeof o){let s=null,a=tM(n,e),l=rf,u=r&fn.Host?e[ni][ho]:null;for((-1===a||r&fn.SkipSelf)&&(l=-1===a?Vy(n,e):e[a+8],l!==rf&&aM(r,!1)?(s=e[nt],a=Gg(l),e=Hg(l,e)):a=-1);-1!==a;){const c=e[nt];if(sM(o,a,c.data)){const d=FW(a,e,t,s,r,u);if(d!==il)return d}l=e[a+8],l!==rf&&aM(r,e[nt].data[a+8]===u)&&sM(o,a,e)?(s=c,a=Gg(l),e=Hg(l,e)):a=-1}}return i}function FW(n,e,t,r,i,o){const s=e[nt],a=s.data[n+8],c=Uy(a,s,t,null==r?Ed(a)&&dI:r!=s&&0!=(3&a.type),i&fn.Host&&o===a);return null!==c?Td(e,s,c,a):il}function Uy(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,c=o>>20,g=i?a+c:n.directiveEnd;for(let p=r?a:a+c;p<g;p++){const b=s[p];if(p<l&&t===b||p>=l&&b.type===t)return p}if(i){const p=s[l];if(p&&Da(p)&&p.type===t)return l}return null}function Td(n,e,t,r){let i=n[t];const o=e.data;if(function PW(n){return n instanceof qg}(i)){const s=i;s.resolving&&function oH(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ze(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Vn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Yt(n)}(o[t]));const a=Ly(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Xo(s.injectImpl):null;qR(n,r,fn.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function DW(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=SR(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==u&&Xo(u),Ly(a),s.resolving=!1,KR()}}return i}function sM(n,e,t){return!!(t[e+(n>>eM)]&1<<n)}function aM(n,e){return!(n&fn.Self||n&fn.Host&&e)}class Lo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return iM(this._tNode,this._lView,e,Ey(r),t)}}function BW(){return new Lo(Qi(),Fe())}function Yi(n){return Hl(()=>{const e=n.prototype.constructor,t=e[Wl]||pI(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Wl]||pI(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function pI(n){return Nw(n)?()=>{const e=pI(qt(n));return e&&e()}:Ad(n)}function lM(n){const e=n[nt],t=e.type;return 2===t?e.declTNode:1===t?n[ho]:null}const af="__parameters__";function uf(n,e,t){return Hl(()=>{const r=function gI(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,u,c){const d=l.hasOwnProperty(af)?l[af]:Object.defineProperty(l,af,{value:[]})[af];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function df(n,e){n.forEach(t=>Array.isArray(t)?df(t,e):e(t))}function cM(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function jy(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Ps(n,e,t){let r=hf(n,e);return r>=0?n[1|r]=t:(r=~r,function KW(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function mI(n,e){const t=hf(n,e);if(t>=0)return n[1|t]}function hf(n,e){return function dM(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const ta=Rg(uf("Optional"),8),$y=Rg(uf("SkipSelf"),4);function Ky(n){return 128==(128&n.flags)}var oc=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(oc||{});const wI=new Map;let vK=0;const EI="__ngContext__";function fo(n,e){ns(e)?(n[EI]=e[Vg],function bK(n){wI.set(n[Vg],n)}(e)):n[EI]=e}let AI;function CI(n,e){return AI(n,e)}function Jg(n){const e=n[Dr];return Mo(e)?e[Dr]:e}function NM(n){return MM(n[Lg])}function RM(n){return MM(n[Sa])}function MM(n){for(;null!==n&&!Mo(n);)n=n[Sa];return n}function gf(n,e,t,r,i){if(null!=r){let o,s=!1;Mo(r)?o=r:ns(r)&&(s=!0,r=r[qr]);const a=fr(r);0===n&&null!==t?null==i?FM(e,t,a):Sd(e,t,a,i||null,!0):1===n&&null!==t?Sd(e,t,a,i||null,!0):2===n?function t1(n,e,t){const r=Xy(n,e);r&&function UK(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function zK(n,e,t,r,i){const o=t[tl];o!==fr(t)&&gf(e,n,r,o,i);for(let a=Wi;a<t.length;a++){const l=t[a];em(l[nt],l,n,e,r,o)}}(e,n,o,t,i)}}function Zy(n,e,t){return n.createElement(e,t)}function OM(n,e){const t=n[Jh],r=t.indexOf(e);kR(e),t.splice(r,1)}function Jy(n,e){if(n.length<=Wi)return;const t=Wi+e,r=n[t];if(r){const i=r[Fg];null!==i&&i!==n&&OM(i,r),e>0&&(n[t-1][Sa]=r[Sa]);const o=jy(n,Wi+e);!function NK(n,e){em(n,e,e[Zt],2,null,null),e[qr]=null,e[ho]=null}(r[nt],r);const s=o[el];null!==s&&s.detachView(o[nt]),r[Dr]=null,r[Sa]=null,r[en]&=-129}return r}function SI(n,e){if(!(256&e[en])){const t=e[Zt];e[Ug]&&yR(e[Ug]),e[Bg]&&yR(e[Bg]),t.destroyNode&&em(n,e,t,3,null,null),function kK(n){let e=n[Lg];if(!e)return DI(n[nt],n);for(;e;){let t=null;if(ns(e))t=e[Lg];else{const r=e[Wi];r&&(t=r)}if(!t){for(;e&&!e[Sa]&&e!==n;)ns(e)&&DI(e[nt],e),e=e[Dr];null===e&&(e=n),ns(e)&&DI(e[nt],e),t=e&&e[Sa]}e=t}}(e)}}function DI(n,e){if(!(256&e[en])){e[en]&=-129,e[en]|=256,function VK(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof qg)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];nl(4,a,l);try{l.call(a)}finally{nl(5,a,l)}}else{nl(4,i,o);try{o.call(i)}finally{nl(5,i,o)}}}}}(n,e),function FK(n,e){const t=n.cleanup,r=e[Kh];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(e[Kh]=null);const i=e[tc];if(null!==i){e[tc]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(n,e),1===e[nt].type&&e[Zt].destroy();const t=e[Fg];if(null!==t&&Mo(e[Dr])){t!==e[Dr]&&OM(t,e);const r=e[el];null!==r&&r.detachView(n)}!function wK(n){wI.delete(n[Vg])}(e)}}function xI(n,e,t){return function LM(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[qr];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===Ca.None||o===Ca.Emulated)return null}return is(r,t)}}(n,e.parent,t)}function Sd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function FM(n,e,t){n.appendChild(e,t)}function VM(n,e,t,r,i){null!==r?Sd(n,e,t,r,i):FM(n,e,t)}function Xy(n,e){return n.parentNode(e)}let PI,kI,r1,jM=function BM(n,e,t){return 40&n.type?is(n,t):null};function e1(n,e,t,r){const i=xI(n,r,e),o=e[Zt],a=function UM(n,e,t){return jM(n,e,t)}(r.parent||e[ho],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)VM(o,i,t[l],a,!1);else VM(o,i,t,a,!1);void 0!==PI&&PI(o,r,e,t,i)}function Xg(n,e){if(null!==e){const t=e.type;if(3&t)return is(e,n);if(4&t)return NI(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Xg(n,r);{const i=n[e.index];return Mo(i)?NI(-1,i):fr(i)}}if(32&t)return CI(e,n)()||fr(n[e.index]);{const r=$M(n,e);return null!==r?Array.isArray(r)?r[0]:Xg(Jg(n[ni]),r):Xg(n,e.next)}}return null}function $M(n,e){return null!==e?n[ni][ho].projection[e.projection]:null}function NI(n,e){const t=Wi+n+1;if(t<e.length){const r=e[t],i=r[nt].firstChild;if(null!==i)return Xg(r,i)}return e[tl]}function RI(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],l=t.type;if(s&&0===e&&(a&&fo(fr(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)RI(n,e,t.child,r,i,o,!1),gf(e,n,i,a,o);else if(32&l){const u=CI(t,r);let c;for(;c=u();)gf(e,n,i,c,o);gf(e,n,i,a,o)}else 16&l?GM(n,e,r,t,i,o):gf(e,n,i,a,o);t=s?t.projectionNext:t.next}}function em(n,e,t,r,i,o){RI(t,r,n.firstChild,e,i,o,!1)}function GM(n,e,t,r,i,o){const s=t[ni],l=s[ho].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)gf(e,n,i,l[u],o);else{let u=l;const c=s[Dr];Ky(r)&&(u.flags|=128),RI(n,e,u,c,i,o,!0)}}function HM(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function WM(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&qw(n,e,r),null!==i&&HM(n,e,i),null!==o&&function qK(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function YM(n){return function OI(){if(void 0===r1&&(r1=null,hr.trustedTypes))try{r1=hr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return r1}()?.createScriptURL(n)||n}class ZM{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${jN})`}}function sc(n){return n instanceof ZM?n.changingThisBreaksApplicationSecurity:n}function tm(n,e){const t=function eQ(n){return n instanceof ZM&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${jN})`)}return t===e}const iQ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var vf=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(vf||{});function ik(n){const e=rm();return e?e.sanitize(vf.URL,n)||"":tm(n,"URL")?sc(n):function LI(n){return(n=String(n)).match(iQ)?n:"unsafe:"+n}(Yt(n))}function ok(n){const e=rm();if(e)return YM(e.sanitize(vf.RESOURCE_URL,n)||"");if(tm(n,"ResourceURL"))return YM(sc(n));throw new ze(904,!1)}function rm(){const n=Fe();return n&&n[Qh].sanitizer}const im=new at("ENVIRONMENT_INITIALIZER"),ak=new at("INJECTOR",-1),lk=new at("INJECTOR_DEF_TYPES");class BI{get(e,t=Ng){if(t===Ng){const r=new Error(`NullInjectorError: No provider for ${Ei(e)}!`);throw r.name="NullInjectorError",r}return t}}function _Q(...n){return{\u0275providers:uk(0,n),\u0275fromNgModule:!0}}function uk(n,...e){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return df(e,s=>{const a=s;o1(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&ck(i,o),t}function ck(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];zI(i,o=>{e(o,r)})}}function o1(n,e,t,r){if(!(n=qt(n)))return!1;let i=null,o=by(n);const s=!o&&En(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const l=n.ngModule;if(o=by(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)o1(u,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{df(o.imports,c=>{o1(c,e,t,r)&&(u||=[],u.push(c))})}finally{}void 0!==u&&ck(u,e)}if(!a){const u=Ad(i)||(()=>new i);e({provide:i,useFactory:u,deps:Mn},i),e({provide:lk,useValue:i,multi:!0},i),e({provide:im,useValue:()=>pt(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const u=n;zI(l,c=>{e(c,u)})}}}return i!==n&&void 0!==n.providers}function zI(n,e){for(let t of n)Rw(t)&&(t=t.\u0275providers),Array.isArray(t)?zI(t,e):e(t)}const vQ=$n({provide:String,useValue:$n});function $I(n){return null!==n&&"object"==typeof n&&vQ in n}function Dd(n){return"function"==typeof n}const qI=new at("Set Injector scope."),s1={},bQ={};let GI;function a1(){return void 0===GI&&(GI=new BI),GI}class na{}class yf extends na{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,WI(e,s=>this.processProvider(s)),this.records.set(ak,bf(void 0,this)),i.has("environment")&&this.records.set(na,bf(void 0,this));const o=this.records.get(qI);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(lk.multi,Mn,fn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Xu(this),r=Xo(void 0);try{return e()}finally{Xu(t),Xo(r)}}get(e,t=Ng,r=fn.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(YN))return e[YN](this);r=Ey(r);const o=Xu(this),s=Xo(void 0);try{if(!(r&fn.SkipSelf)){let l=this.records.get(e);if(void 0===l){const u=function CQ(n){return"function"==typeof n||"object"==typeof n&&n instanceof at}(e)&&yy(e);l=u&&this.injectableDefInScope(u)?bf(HI(e),s1):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&fn.Self?a1():this.parent).get(e,t=r&fn.Optional&&t===Ng?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Iy]=a[Iy]||[]).unshift(Ei(e)),o)throw a;return function bH(n,e,t,r){const i=n[Iy];throw e[WN]&&i.unshift(e[WN]),n.message=function wH(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Ei(e);if(Array.isArray(e))i=e.map(Ei).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ei(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(gH,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Iy]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Xo(s),Xu(o)}}resolveInjectorInitializers(){const e=Xu(this),t=Xo(void 0);try{const i=this.get(im.multi,Mn,fn.Self);for(const o of i)o()}finally{Xu(e),Xo(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Ei(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ze(205,!1)}processProvider(e){let t=Dd(e=qt(e))?e:qt(e&&e.provide);const r=function IQ(n){return $I(n)?bf(void 0,n.useValue):bf(fk(n),s1)}(e);if(Dd(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=bf(void 0,s1,!0),i.factory=()=>jw(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===s1&&(t.value=bQ,t.value=t.factory()),"object"==typeof t.value&&t.value&&function AQ(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=qt(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function HI(n){const e=yy(n),t=null!==e?e.factory:Ad(n);if(null!==t)return t;if(n instanceof at)throw new ze(204,!1);if(n instanceof Function)return function wQ(n){const e=n.length;if(e>0)throw function Qg(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new ze(204,!1);const t=function dH(n){return n&&(n[wy]||n[$N])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new ze(204,!1)}function fk(n,e,t){let r;if(Dd(n)){const i=qt(n);return Ad(i)||HI(i)}if($I(n))r=()=>qt(n.useValue);else if(function hk(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...jw(n.deps||[]));else if(function dk(n){return!(!n||!n.useExisting)}(n))r=()=>pt(qt(n.useExisting));else{const i=qt(n&&(n.useClass||n.provide));if(!function EQ(n){return!!n.deps}(n))return Ad(i)||HI(i);r=()=>new i(...jw(n.deps))}return r}function bf(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function WI(n,e){for(const t of n)Array.isArray(t)?WI(t,e):t&&Rw(t)?WI(t.\u0275providers,e):e(t)}const l1=new at("AppId",{providedIn:"root",factory:()=>TQ}),TQ="ng",pk=new at("Platform Initializer"),Jl=new at("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),gk=new at("CSP nonce",{providedIn:"root",factory:()=>function _f(){if(void 0!==kI)return kI;if(typeof document<"u")return document;throw new ze(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let mk=(n,e,t)=>null;function tE(n,e,t=!1){return mk(n,e,t)}class LQ{}class yk{}class VQ{resolveComponentFactory(e){throw function FQ(n){const e=Error(`No component factory found for ${Ei(n)}.`);return e.ngComponent=n,e}(e)}}let p1=(()=>{class n{static{this.NULL=new VQ}}return n})();function UQ(){return Ef(Qi(),Fe())}function Ef(n,e){return new Ns(is(n,e))}let Ns=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=UQ}}return n})();function BQ(n){return n instanceof Ns?n.nativeElement:n}class wk{}let Xl=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function jQ(){const n=Fe(),t=xs(Qi().index,n);return(ns(t)?t:n)[Zt]}()}}return n})(),zQ=(()=>{class n{static{this.\u0275prov=vt({token:n,providedIn:"root",factory:()=>null})}}return n})();class Af{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Ik=new Af("16.2.12"),iE={};function Tk(n,e=null,t=null,r){const i=Sk(n,e,t,r);return i.resolveInjectorInitializers(),i}function Sk(n,e=null,t=null,r,i=new Set){const o=[t||Mn,_Q(n)];return r=r||("object"==typeof n?void 0:Ei(n)),new yf(o,e||a1(),r||null,i)}let po=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Ng}static{this.NULL=new BI}static create(t,r){if(Array.isArray(t))return Tk({name:""},r,t,"");{const i=t.name??"";return Tk({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=vt({token:n,providedIn:"any",factory:()=>pt(ak)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function sE(n){return n.ngOriginalError}class eu{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&sE(e);for(;t&&sE(t);)t=sE(t);return t||null}}function aE(n){return e=>{setTimeout(n,void 0,e)}}const Jn=class YQ extends Zo{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=aE(o),i&&(i=aE(i)),s&&(s=aE(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Mi&&e.add(a),a}};function xk(...n){}class Un{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Jn(!1),this.onMicrotaskEmpty=new Jn(!1),this.onStable=new Jn(!1),this.onError=new Jn(!1),typeof Zone>"u")throw new ze(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function ZQ(){const n="function"==typeof hr.requestAnimationFrame;let e=hr[n?"requestAnimationFrame":"setTimeout"],t=hr[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function eY(n){const e=()=>{!function XQ(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(hr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,uE(n),n.isCheckStableRunning=!0,lE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),uE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(function nY(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,o,s,a);try{return Pk(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),Nk(n)}},onInvoke:(t,r,i,o,s,a,l)=>{try{return Pk(n),t.invoke(i,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),Nk(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,uE(n),lE(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Un.isInAngularZone())throw new ze(909,!1)}static assertNotInAngularZone(){if(Un.isInAngularZone())throw new ze(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,JQ,xk,xk);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const JQ={};function lE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function uE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Pk(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Nk(n){n._nesting--,lE(n)}class tY{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Jn,this.onMicrotaskEmpty=new Jn,this.onStable=new Jn,this.onError=new Jn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const Rk=new at("",{providedIn:"root",factory:Mk});function Mk(){const n=lt(Un);let e=!0;return Dw(new or(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new or(i=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{Un.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Un.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(BN()))}function tu(n){return n instanceof Function?n():n}let cE=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=vt({token:n,providedIn:"root",factory:()=>new n})}}return n})();function am(n){for(;n;){n[en]|=64;const e=Jg(n);if(Ww(n)&&!e)return n;n=e}return null}const Vk=new at("",{providedIn:"root",factory:()=>!1});let _1=null;function zk(n,e){return n[e]??Gk()}function $k(n,e){const t=Gk();t.producerNode?.length&&(n[e]=_1,t.lView=n,_1=qk())}const hY={...fR,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{am(n.lView)},lView:null};function qk(){return Object.create(hY)}function Gk(){return _1??=qk(),_1}const Jt={};function Z(n){Hk(An(),Fe(),Oo()+n,!1)}function Hk(n,e,t,r){if(!r)if(3==(3&e[en])){const o=n.preOrderCheckHooks;null!==o&&ky(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Oy(e,o,0,t)}Cd(t)}function ke(n,e=fn.Default){const t=Fe();return null===t?pt(n,e):iM(Qi(),t,qt(n),e)}function v1(n,e,t,r,i,o,s,a,l,u,c){const d=e.blueprint.slice();return d[qr]=i,d[en]=140|r,(null!==u||n&&2048&n[en])&&(d[en]|=2048),MR(d),d[Dr]=d[Yh]=n,d[ti]=t,d[Qh]=s||n&&n[Qh],d[Zt]=a||n&&n[Zt],d[ec]=l||n&&n[ec]||null,d[ho]=o,d[Vg]=function yK(){return vK++}(),d[Kl]=c,d[uR]=u,d[ni]=2==e.type?n[ni]:d,d}function Sf(n,e,t,r,i){let o=n.data[e];if(null===o)o=function dE(n,e,t,r,i){const o=UR(),s=tI(),l=n.data[e]=function bY(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function tf(){return null!==Ut.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(n,e,t,r,i),function vW(){return Ut.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function $g(){const n=Ut.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return rl(o,!0),o}function lm(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Kk(n,e,t,r,i){const o=zk(e,Ug),s=Oo(),a=2&r;try{Cd(-1),a&&e.length>pn&&Hk(n,e,pn,!1),nl(a?2:0,i);const u=a?o:null,c=Qw(u);try{null!==u&&(u.dirty=!1),t(r,i)}finally{Yw(u,c)}}finally{a&&null===e[Ug]&&$k(e,Ug),Cd(s),nl(a?3:1,i)}}function hE(n,e,t){if(Hw(e)){const r=Xs(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Xs(r)}}}function fE(n,e,t){VR()&&(function SY(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;Ed(t)&&function kY(n,e,t){const r=is(e,n),i=Qk(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=y1(n,v1(n,i,null,s,r,e,null,n[Qh].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Fy(t,e),fo(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const l=n.data[a],u=Td(e,n,a,t);fo(u,e),null!==s&&OY(0,a-i,u,l,0,s),Da(l)&&(xs(t.index,e)[ti]=Td(e,n,a,t))}}(n,e,t,is(t,e)),64==(64&t.flags)&&eO(n,e,t))}function pE(n,e,t=is){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function Qk(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=gE(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function gE(n,e,t,r,i,o,s,a,l,u,c){const d=pn+r,g=d+i,p=function pY(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Jt);return t}(d,g),b="function"==typeof u?u():u;return p[nt]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1,ssrId:c}}let Yk=n=>null;function Zk(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const o=n[i];null===r?Jk(t,e,i,o):r.hasOwnProperty(i)&&Jk(t,e,r[i],o)}return t}function Jk(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function mE(n,e,t,r){if(VR()){const i=null===r?null:{"":-1},o=function xY(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(rR(e,s.selectors,!1))if(r||(r=[]),Da(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),_E(n,e,a.length)}else r.unshift(s),_E(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&Xk(n,e,t,s,i,a),i&&function PY(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new ze(-301,!1);r.push(e[i],o)}}}(t,r,i)}t.mergedAttrs=kg(t.mergedAttrs,t.attrs)}function Xk(n,e,t,r,i,o){for(let u=0;u<r.length;u++)fI(Fy(t,e),n,r[u].type);!function RY(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let u=0;u<r.length;u++){const c=r[u];c.providersResolver&&c.providersResolver(c)}let s=!1,a=!1,l=lm(n,e,r.length,null);for(let u=0;u<r.length;u++){const c=r[u];t.mergedAttrs=kg(t.mergedAttrs,c.hostAttrs),MY(n,t,e,l,c),NY(l,c,i),null!==c.contentQueries&&(t.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(t.flags|=64);const d=c.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function wY(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let l=null,u=null;for(let c=e.directiveStart;c<i;c++){const d=o[c],g=t?t.get(d):null,b=g?g.outputs:null;l=Zk(d.inputs,c,l,g?g.inputs:null),u=Zk(d.outputs,c,u,b);const w=null===l||null===s||nR(e)?null:LY(l,c,s);a.push(w)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}(n,t,o)}function eO(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function bW(){return Ut.lFrame.currentDirectiveIndex}();try{Cd(o);for(let a=r;a<i;a++){const l=n.data[a],u=e[a];rI(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&DY(l,u)}}finally{Cd(-1),rI(s)}}function DY(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function _E(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function NY(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Da(e)&&(t[""]=n)}}function MY(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=Ad(i.type)),s=new qg(o,Da(i),ke);n.blueprint[r]=s,t[r]=s,function CY(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function TY(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,lm(n,t,i.hostVars,Jt),i)}function ol(n,e,t,r,i,o){const s=is(n,e);!function vE(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?Yt(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[Zt],s,o,n.value,t,r,i)}function OY(n,e,t,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)tO(r,t,s[a++],s[a++],s[a++])}function tO(n,e,t,r,i){const o=Xs(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{Xs(o)}}function LY(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function nO(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function rO(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=n.data[o];oI(t[r]),s.contentQueries(2,e[o],o)}}}function y1(n,e){return n[Lg]?n[lR][Sa]=e:n[Lg]=e,n[lR]=e,e}function yE(n,e,t){oI(0);const r=Xs(null);try{e(n,t)}finally{Xs(r)}}function iO(n){return n[Kh]||(n[Kh]=[])}function oO(n){return n.cleanup||(n.cleanup=[])}function aO(n,e){const t=n[ec],r=t?t.get(eu,null):null;r&&r.handleError(e)}function bE(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];tO(n.data[s],e[s],r,a,i)}}function nu(n,e,t){const r=Ny(e,n);!function kM(n,e,t){n.setValue(e,t)}(n[Zt],r,t)}function FY(n,e){const t=xs(e,n),r=t[nt];!function VY(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[qr];null!==i&&null===t[Kl]&&(t[Kl]=tE(i,t[ec])),wE(r,t,t[ti])}function wE(n,e,t){sI(e);try{const r=n.viewQuery;null!==r&&yE(1,r,t);const i=n.template;null!==i&&Kk(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&rO(n,e),n.staticViewQueries&&yE(2,n.viewQuery,t);const o=n.components;null!==o&&function UY(n,e){for(let t=0;t<e.length;t++)FY(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[en]&=-5,aI()}}let lO=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function YH(n,e,t){const r=Object.create(ZH);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>_R(r),run:()=>{if(r.dirty=!1,r.hasRun&&!vR(r))return;r.hasRun=!0;const s=Qw(r);try{r.cleanupFn(),r.cleanupFn=TR,r.fn(i)}finally{Yw(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(t,u=>{this.all.has(u)&&this.queue.set(u,o)},i);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=vt({token:n,providedIn:"root",factory:()=>new n})}}return n})();function b1(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Pw(i,a):2==o&&(r=Pw(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function um(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];null!==o&&r.push(fr(o)),Mo(o)&&uO(o,r);const s=t.type;if(8&s)um(n,e,t.child,r);else if(32&s){const a=CI(t,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=$M(e,t);if(Array.isArray(a))r.push(...a);else{const l=Jg(e[ni]);um(l[nt],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function uO(n,e){for(let t=Wi;t<n.length;t++){const r=n[t],i=r[nt].firstChild;null!==i&&um(r[nt],r,i,e)}n[tl]!==n[qr]&&e.push(n[tl])}function w1(n,e,t,r=!0){const i=e[Qh],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{cO(n,e,n.template,t)}catch(l){throw r&&aO(e,l),l}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function cO(n,e,t,r){const i=e[en];if(256!=(256&i)){e[Qh].effectManager?.flush(),sI(e);try{MR(e),function jR(n){return Ut.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Kk(n,e,t,2,r);const s=3==(3&i);if(s){const u=n.preOrderCheckHooks;null!==u&&ky(e,u,null)}else{const u=n.preOrderHooks;null!==u&&Oy(e,u,0,null),lI(e,0)}if(function zY(n){for(let e=NM(n);null!==e;e=RM(e)){if(!e[cR])continue;const t=e[Jh];for(let r=0;r<t.length;r++){aW(t[r])}}}(e),dO(e,2),null!==n.contentQueries&&rO(n,e),s){const u=n.contentCheckHooks;null!==u&&ky(e,u)}else{const u=n.contentHooks;null!==u&&Oy(e,u,1),lI(e,1)}!function fY(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=zk(e,Bg);try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)Cd(~o);else{const s=o,a=t[++i],l=t[++i];yW(a,s),r.dirty=!1;const u=Qw(r);try{l(2,e[s])}finally{Yw(r,u)}}}}finally{null===e[Bg]&&$k(e,Bg),Cd(-1)}}(n,e);const a=n.components;null!==a&&fO(e,a,0);const l=n.viewQuery;if(null!==l&&yE(2,l,r),s){const u=n.viewCheckHooks;null!==u&&ky(e,u)}else{const u=n.viewHooks;null!==u&&Oy(e,u,2),lI(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[en]&=-73,kR(e)}finally{aI()}}}function dO(n,e){for(let t=NM(n);null!==t;t=RM(t))for(let r=Wi;r<t.length;r++)hO(t[r],e)}function $Y(n,e,t){hO(xs(e,n),t)}function hO(n,e){if(!function oW(n){return 128==(128&n[en])}(n))return;const t=n[nt],r=n[en];if(80&r&&0===e||1024&r||2===e)cO(t,n,t.template,n[ti]);else if(n[Og]>0){dO(n,1);const i=t.components;null!==i&&fO(n,i,1)}}function fO(n,e,t){for(let r=0;r<e.length;r++)$Y(n,e[r],t)}class cm{get rootNodes(){const e=this._lView,t=e[nt];return um(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ti]}set context(e){this._lView[ti]=e}get destroyed(){return 256==(256&this._lView[en])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Dr];if(Mo(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Jy(e,r),jy(t,r))}this._attachedToViewContainer=!1}SI(this._lView[nt],this._lView)}onDestroy(e){!function LR(n,e){if(256==(256&n[en]))throw new ze(911,!1);null===n[tc]&&(n[tc]=[]),n[tc].push(e)}(this._lView,e)}markForCheck(){am(this._cdRefInjectingView||this._lView)}detach(){this._lView[en]&=-129}reattach(){this._lView[en]|=128}detectChanges(){w1(this._lView[nt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function MK(n,e){em(n,e,e[Zt],2,null,null)}(this._lView[nt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ze(902,!1);this._appRef=e}}class qY extends cm{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;w1(e[nt],e,e[ti],!1)}checkNoChanges(){}get context(){return null}}class pO extends p1{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=En(e);return new dm(t,this.ngModule)}}function gO(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class HY{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Ey(r);const i=this.injector.get(e,iE,r);return i!==iE||t===iE?i:this.parentInjector.get(e,t,r)}}class dm extends yk{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=gO(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return gO(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function NH(n){return n.map(PH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof na?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new HY(e,o):e,a=s.get(wk,null);if(null===a)throw new ze(407,!1);const d={rendererFactory:a,sanitizer:s.get(zQ,null),effectManager:s.get(lO,null),afterRenderEventManager:s.get(cE,null)},g=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",b=r?function gY(n,e,t,r){const o=r.get(Vk,!1)||t===Ca.ShadowDom,s=n.selectRootElement(e,o);return function mY(n){Yk(n)}(s),s}(g,r,this.componentDef.encapsulation,s):Zy(g,p,function GY(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(p)),A=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let M=null;null!==b&&(M=tE(b,s,!0));const B=gE(0,null,null,1,0,null,null,null,null,null,null),F=v1(null,B,null,A,null,null,d,g,s,null,M);let X,se;sI(F);try{const z=this.componentDef;let D,S=null;z.findHostDirectiveDefs?(D=[],S=new Map,z.findHostDirectiveDefs(z,D,S),D.push(z)):D=[z];const V=function KY(n,e){const t=n[nt],r=pn;return n[r]=e,Sf(t,r,2,"#host",null)}(F,b),C=function QY(n,e,t,r,i,o,s){const a=i[nt];!function YY(n,e,t,r){for(const i of n)e.mergedAttrs=kg(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(b1(e,e.mergedAttrs,!0),null!==t&&WM(r,t,e))}(r,n,e,s);let l=null;null!==e&&(l=tE(e,i[ec]));const u=o.rendererFactory.createRenderer(e,t);let c=16;t.signals?c=4096:t.onPush&&(c=64);const d=v1(i,Qk(t),null,c,i[n.index],n,o,u,null,null,l);return a.firstCreatePass&&_E(a,n,r.length-1),y1(i,d),i[n.index]=d}(V,b,z,D,F,d,g);se=RR(B,pn),b&&function JY(n,e,t,r){if(r)qw(n,t,["ng-version",Ik.full]);else{const{attrs:i,classes:o}=function RH(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!Ta(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&qw(n,t,i),o&&o.length>0&&HM(n,t,o.join(" "))}}(g,z,b,r),void 0!==t&&function XY(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(se,this.ngContentSelectors,t),X=function ZY(n,e,t,r,i,o){const s=Qi(),a=i[nt],l=is(s,i);Xk(a,i,s,t,null,r);for(let c=0;c<t.length;c++)fo(Td(i,a,s.directiveStart+c,s),i);eO(a,i,s),l&&fo(l,i);const u=Td(i,a,s.directiveStart+s.componentOffset,s);if(n[ti]=i[ti]=u,null!==o)for(const c of o)c(u,e);return hE(a,s,n),u}(C,z,D,S,F,[eZ]),wE(B,F,null)}finally{aI()}return new WY(this.componentType,X,Ef(se,F),F,se)}}class WY extends LQ{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new qY(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;bE(o[nt],o,i,e,t),this.previousInputValues.set(e,t),am(xs(this._tNode.index,o))}}get injector(){return new Lo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function eZ(){const n=Qi();My(Fe()[nt],n)}function qn(n){let e=function mO(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Da(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ze(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=I1(n.inputs),s.inputTransforms=I1(n.inputTransforms),s.declaredInputs=I1(n.declaredInputs),s.outputs=I1(n.outputs);const a=i.hostBindings;a&&iZ(n,a);const l=i.viewQuery,u=i.contentQueries;if(l&&nZ(n,l),u&&rZ(n,u),_y(n.inputs,i.inputs),_y(n.declaredInputs,i.declaredInputs),_y(n.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),_y(s.inputTransforms,i.inputTransforms)),Da(i)&&i.data.animation){const c=n.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===qn&&(t=!1)}}e=Object.getPrototypeOf(e)}!function tZ(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=kg(i.hostAttrs,t=kg(t,i.hostAttrs))}}(r)}function I1(n){return n===Xa?{}:n===Mn?[]:n}function nZ(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function rZ(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function iZ(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function bO(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function E1(n){return!!IE(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function IE(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function sl(n,e,t){return n[e]=t}function go(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function xd(n,e,t,r){const i=go(n,e,t);return go(n,e+1,r)||i}function Ci(n,e,t,r){const i=Fe();return go(i,nf(),e)&&(An(),ol(Fr(),i,n,e,t,r)),Ci}function Pf(n,e,t,r,i,o){const a=xd(n,function Ql(){return Ut.lFrame.bindingIndex}(),t,i);return Yl(2),a?e+Yt(t)+r+Yt(i)+o:Jt}function it(n,e,t,r,i,o,s,a){const l=Fe(),u=An(),c=n+pn,d=u.firstCreatePass?function xZ(n,e,t,r,i,o,s,a,l){const u=e.consts,c=Sf(e,n,4,s||null,rc(u,a));mE(e,t,c,rc(u,l)),My(e,c);const d=c.tView=gE(2,c,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,u,l,e,t,r,i,o,s):u.data[c];rl(d,!1);const g=MO(u,l,d,n);Ry()&&e1(u,l,g,d),fo(g,l),y1(l,l[c]=nO(g,l,g,d)),Dy(d)&&fE(u,l,d),null!=s&&pE(l,d,a)}let MO=function kO(n,e,t,r){return ic(!0),e[Zt].createComment("")};function DE(n){return ef(function _W(){return Ut.lFrame.contextLView}(),pn+n)}function Se(n,e,t){const r=Fe();return go(r,nf(),e)&&function Rs(n,e,t,r,i,o,s,a){const l=is(e,t);let c,u=e.inputs;!a&&null!=u&&(c=u[r])?(bE(n,t,c,r,i),Ed(e)&&function EY(n,e){const t=xs(e,n);16&t[en]||(t[en]|=64)}(t,e.index)):3&e.type&&(r=function IY(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(l,r,i))}(An(),Fr(),r,n,e,r[Zt],t,!1),Se}function xE(n,e,t,r,i){const s=i?"class":"style";bE(n,t,e.inputs[s],s,r)}function N(n,e,t,r){const i=Fe(),o=An(),s=pn+n,a=i[Zt],l=o.firstCreatePass?function MZ(n,e,t,r,i,o){const s=e.consts,l=Sf(e,n,2,r,rc(s,i));return mE(e,t,l,rc(s,o)),null!==l.attrs&&b1(l,l.attrs,!1),null!==l.mergedAttrs&&b1(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,e,t,r):o.data[s],u=OO(o,i,l,a,e,n);i[s]=u;const c=Dy(l);return rl(l,!0),WM(a,u,l),32!=(32&l.flags)&&Ry()&&e1(o,i,u,l),0===function uW(){return Ut.lFrame.elementDepthCount}()&&fo(u,i),function cW(){Ut.lFrame.elementDepthCount++}(),c&&(fE(o,i,l),hE(o,l,i)),null!==r&&pE(i,l),N}function k(){let n=Qi();tI()?function nI(){Ut.lFrame.isParent=!1}():(n=n.parent,rl(n,!1));const e=n;(function hW(n){return Ut.skipHydrationRootTNode===n})(e)&&function mW(){Ut.skipHydrationRootTNode=null}(),function dW(){Ut.lFrame.elementDepthCount--}();const t=An();return t.firstCreatePass&&(My(t,n),Hw(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function NW(n){return 0!=(8&n.flags)}(e)&&xE(t,e,Fe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function RW(n){return 0!=(16&n.flags)}(e)&&xE(t,e,Fe(),e.stylesWithoutHost,!1),k}function ge(n,e,t,r){return N(n,e,t,r),k(),ge}let OO=(n,e,t,r,i,o)=>(ic(!0),Zy(r,i,function QR(){return Ut.lFrame.currentNamespace}()));function Gr(){return Fe()}function mm(n){return!!n&&"function"==typeof n.then}function VO(n){return!!n&&"function"==typeof n.subscribe}function Le(n,e,t,r){const i=Fe(),o=An(),s=Qi();return function BO(n,e,t,r,i,o,s){const a=Dy(r),u=n.firstCreatePass&&oO(n),c=e[ti],d=iO(e);let g=!0;if(3&r.type||s){const w=is(r,e),E=s?s(w):w,A=d.length,M=s?F=>s(fr(F[r.index])):r.index;let B=null;if(!s&&a&&(B=function UZ(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[Kh],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==B)(B.__ngLastListenerFn__||B).__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,g=!1;else{o=zO(r,e,c,o,!1);const F=t.listen(E,i,o);d.push(o,F),u&&u.push(i,M,A,A+1)}}else o=zO(r,e,c,o,!1);const p=r.outputs;let b;if(g&&null!==p&&(b=p[i])){const w=b.length;if(w)for(let E=0;E<w;E+=2){const X=e[b[E]][b[E+1]].subscribe(o),se=d.length;d.push(o,X),u&&u.push(i,r.index,se,-(se+1))}}}(o,i,i[Zt],s,n,e,r),Le}function jO(n,e,t,r){try{return nl(6,e,t),!1!==t(r)}catch(i){return aO(n,i),!1}finally{nl(7,e,t)}}function zO(n,e,t,r,i){return function o(s){if(s===Function)return r;am(n.componentOffset>-1?xs(n.index,e):e);let l=jO(e,t,r,s),u=o.__ngNextListenerFn__;for(;u;)l=jO(e,t,u,s)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function tt(n=1){return function IW(n){return(Ut.lFrame.contextLView=function EW(n,e){for(;n>0;)e=e[Yh],n--;return e}(n,Ut.lFrame.contextLView))[ti]}(n)}function D1(n,e){return n<<17|e<<2}function ac(n){return n>>17&32767}function ME(n){return 2|n}function Pd(n){return(131068&n)>>2}function kE(n,e){return-131069&n|e<<2}function OE(n){return 1|n}function JO(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?ac(o):Pd(o),l=!1;for(;0!==a&&(!1===l||s);){const c=n[a+1];KZ(n[a],e)&&(l=!0,n[a+1]=r?OE(c):ME(c)),a=r?ac(c):Pd(c)}l&&(n[t+1]=r?ME(o):OE(o))}function KZ(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&hf(n,e)>=0}function Bt(n,e){return function xa(n,e,t,r){const i=Fe(),o=An(),s=Yl(2);o.firstUpdatePass&&function a3(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[Oo()],s=function s3(n,e){return e>=n.expandoStartIndex}(n,t);(function d3(n,e){return 0!=(n.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function rJ(n,e,t,r){const i=function iI(n){const e=Ut.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=_m(t=LE(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=LE(i,n,e,t,r),null===o){let l=function iJ(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Pd(r))return n[ac(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=LE(null,n,e,l[1],r),l=_m(l,e.attrs,r),function oJ(n,e,t,r){n[ac(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else o=function sJ(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=_m(r,n[o].hostAttrs,t);return _m(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function HZ(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ac(s),l=Pd(s);n[r]=t;let c,u=!1;if(Array.isArray(t)?(c=t[1],(null===c||hf(t,c)>0)&&(u=!0)):c=t,i)if(0!==l){const g=ac(n[a+1]);n[r+1]=D1(g,a),0!==g&&(n[g+1]=kE(n[g+1],r)),n[a+1]=function qZ(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=D1(a,0),0!==a&&(n[a+1]=kE(n[a+1],r)),a=r;else n[r+1]=D1(l,0),0===a?a=r:n[l+1]=kE(n[l+1],r),l=r;u&&(n[r+1]=ME(n[r+1])),JO(n,c,r,!0),JO(n,c,r,!1),function WZ(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&hf(o,e)>=0&&(t[r+1]=OE(t[r+1]))}(e,c,n,r,o),s=D1(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}(o,n,s,r),e!==Jt&&go(i,s,e)&&function u3(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const l=n.data,u=l[a+1],c=function GZ(n){return 1==(1&n)}(u)?c3(l,e,t,i,Pd(u),s):void 0;x1(c)||(x1(o)||function $Z(n){return 2==(2&n)}(u)&&(o=c3(l,null,t,i,a,s)),function $K(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:oc.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=oc.Important),n.setStyle(t,r,i,o))}}(r,s,Ny(Oo(),t),i,o))}(o,o.data[Oo()],i,i[Zt],n,i[s+1]=function cJ(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ei(sc(n)))),n}(e,t),r,s)}(n,e,null,!0),Bt}function LE(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=_m(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function _m(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ps(n,s,!!t||e[++o]))}return void 0===n?null:n}function c3(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const l=n[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let g=t[i+1];g===Jt&&(g=d?Mn:void 0);let p=d?mI(g,r):c===r?g:void 0;if(u&&!x1(p)&&(p=mI(l,r)),x1(p)&&(a=p,s))return a;const b=n[i+1];i=s?ac(b):Pd(b)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=mI(l,r))}return a}function x1(n){return void 0!==n}function H(n,e=""){const t=Fe(),r=An(),i=n+pn,o=r.firstCreatePass?Sf(r,i,1,e,null):r.data[i],s=h3(r,t,o,e,n);t[i]=s,Ry()&&e1(r,t,s,o),rl(o,!1)}let h3=(n,e,t,r,i)=>(ic(!0),function Yy(n,e){return n.createText(e)}(e[Zt],r));function rt(n){return pr("",n,""),rt}function pr(n,e,t){const r=Fe(),i=function xf(n,e,t,r){return go(n,nf(),t)?e+Yt(t)+r:Jt}(r,n,e,t);return i!==Jt&&nu(r,Oo(),i),pr}function ru(n,e,t,r,i){const o=Fe(),s=Pf(o,n,e,t,r,i);return s!==Jt&&nu(o,Oo(),s),ru}const Nd=void 0;var RJ=["en",[["a","p"],["AM","PM"],Nd],[["AM","PM"],Nd,Nd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nd,"{1} 'at' {0}",Nd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function NJ(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let Vf={};function Fo(n){const e=function MJ(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=R3(e);if(t)return t;const r=e.split("-")[0];if(t=R3(r),t)return t;if("en"===r)return RJ;throw new ze(701,!1)}function R3(n){return n in Vf||(Vf[n]=hr.ng&&hr.ng.common&&hr.ng.common.locales&&hr.ng.common.locales[n]),Vf[n]}var gr=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(gr||{});const Uf="en-US";let M3=Uf;function UE(n,e,t,r,i){if(n=qt(n),Array.isArray(n))for(let o=0;o<n.length;o++)UE(n[o],e,t,r,i);else{const o=An(),s=Fe(),a=Qi();let l=Dd(n)?n:qt(n.provide);const u=fk(n),c=1048575&a.providerIndexes,d=a.directiveStart,g=a.providerIndexes>>20;if(Dd(n)||!n.multi){const p=new qg(u,i,ke),b=jE(l,e,i?c:c+g,d);-1===b?(fI(Fy(a,s),o,l),BE(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(p),s.push(p)):(t[b]=p,s[b]=p)}else{const p=jE(l,e,c+g,d),b=jE(l,e,c,c+g),E=b>=0&&t[b];if(i&&!E||!i&&!(p>=0&&t[p])){fI(Fy(a,s),o,l);const A=function NX(n,e,t,r,i){const o=new qg(n,t,ke);return o.multi=[],o.index=e,o.componentProviders=0,i4(o,i,r&&!t),o}(i?PX:xX,t.length,i,r,u);!i&&E&&(t[b].providerFactory=A),BE(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(A),s.push(A)}else BE(o,n,p>-1?p:b,i4(t[i?b:p],u,!i&&r));!i&&r&&E&&t[b].componentProviders++}}}function BE(n,e,t,r){const i=Dd(e),o=function yQ(n){return!!n.useClass}(e);if(i||o){const l=(o?qt(e.useClass):e).prototype.ngOnDestroy;if(l){const u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const c=u.indexOf(t);-1===c?u.push(t,[r,l]):u[c+1].push(r,l)}else u.push(t,l)}}}function i4(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function jE(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function xX(n,e,t,r){return zE(this.multi,[])}function PX(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Td(t,t[nt],this.providerFactory.index,r);o=a.slice(0,s),zE(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],zE(i,o);return o}function zE(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function xr(n,e=[]){return t=>{t.providersResolver=(r,i)=>function DX(n,e,t){const r=An();if(r.firstCreatePass){const i=Da(n);UE(t,r.data,r.blueprint,i,!0),UE(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Rd{}class o4{}class $E extends Rd{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pO(this);const i=Ds(e);this._bootstrapComponents=tu(i.bootstrap),this._r3Injector=Sk(e,t,[{provide:Rd,useValue:this},{provide:p1,useValue:this.componentFactoryResolver},...r],Ei(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class qE extends o4{constructor(e){super(),this.moduleType=e}create(e){return new $E(this.moduleType,e,[])}}class s4 extends Rd{constructor(e){super(),this.componentFactoryResolver=new pO(this),this.instance=null;const t=new yf([...e.providers,{provide:Rd,useValue:this},{provide:p1,useValue:this.componentFactoryResolver}],e.parent||a1(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function GE(n,e,t=null){return new s4({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let kX=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=uk(0,t.type),i=r.length>0?GE([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=vt({token:n,providedIn:"environment",factory:()=>new n(pt(na))})}}return n})();function a4(n){n.getStandaloneInjector=e=>e.get(kX).getOrCreateStandaloneInjector(n)}function gi(n,e,t,r,i,o){return function m4(n,e,t,r,i,o,s,a){const l=e+t;return function A1(n,e,t,r,i){const o=xd(n,e,t,r);return go(n,e+2,i)||o}(n,l,i,o,s)?sl(n,l+3,a?r.call(a,i,o,s):r(i,o,s)):Em(n,l+3)}(Fe(),ko(),n,e,t,r,i,o)}function Em(n,e){const t=n[e];return t===Jt?void 0:t}function Xn(n,e){const t=An();let r;const i=n+pn;t.firstCreatePass?(r=function JX(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=Ad(r.type)),a=Xo(ke);try{const l=Ly(!1),u=o();return Ly(l),function RZ(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,Fe(),i,u),u}finally{Xo(a)}}function as(n,e,t){const r=n+pn,i=Fe(),o=ef(i,r);return Am(i,r)?function p4(n,e,t,r,i,o){const s=e+t;return go(n,s,i)?sl(n,s+1,o?r.call(o,i):r(i)):Em(n,s+1)}(i,ko(),e,o.transform,t,o):o.transform(t)}function Vo(n,e,t,r){const i=n+pn,o=Fe(),s=ef(o,i);return Am(o,i)?function g4(n,e,t,r,i,o,s){const a=e+t;return xd(n,a,i,o)?sl(n,a+2,s?r.call(s,i,o):r(i,o)):Em(n,a+2)}(o,ko(),e,s.transform,t,r,s):s.transform(t,r)}function Am(n,e){return n[nt].data[e].pure}function nee(){return this._results[Symbol.iterator]()}class WE{get changes(){return this._changes||(this._changes=new Jn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=WE.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=nee)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function ea(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function HW(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function iee(n,e,t,r=!0){const i=e[nt];if(function OK(n,e,t,r){const i=Wi+r,o=t.length;r>0&&(t[i-1][Sa]=e),r<o-Wi?(e[Sa]=t[i],cM(t,Wi+r,e)):(t.push(e),e[Sa]=null),e[Dr]=t;const s=e[Fg];null!==s&&t!==s&&function LK(n,e){const t=n[Jh];e[ni]!==e[Dr][Dr][ni]&&(n[cR]=!0),null===t?n[Jh]=[e]:t.push(e)}(s,e);const a=e[el];null!==a&&a.insertView(n),e[en]|=128}(i,e,n,t),r){const o=NI(t,n),s=e[Zt],a=Xy(s,n[tl]);null!==a&&function RK(n,e,t,r,i,o){r[qr]=i,r[ho]=e,em(n,r,t,1,i,o)}(i,n[ho],s,e,a,o)}}let iu=(()=>{class n{static{this.__NG_ELEMENT_ID__=aee}}return n})();const oee=iu,see=class extends oee{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function ree(n,e,t,r){const i=e.tView,a=v1(n,i,t,4096&n[en]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Fg]=n[e.index];const u=n[el];return null!==u&&(a[el]=u.createEmbeddedView(i)),wE(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new cm(i)}};function aee(){return k1(Qi(),Fe())}function k1(n,e){return 4&n.type?new see(e,n,Ef(n,e)):null}let Na=(()=>{class n{static{this.__NG_ELEMENT_ID__=fee}}return n})();function fee(){return C4(Qi(),Fe())}const pee=Na,E4=class extends pee{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ef(this._hostTNode,this._hostLView)}get injector(){return new Lo(this._hostTNode,this._hostLView)}get parentInjector(){const e=Vy(this._hostTNode,this._hostLView);if(cI(e)){const t=Hg(e,this._hostLView),r=Gg(e);return new Lo(t[nt].data[r+8],t)}return new Lo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=A4(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Wi}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,o){const s=e&&!function Kg(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const w=t||{};a=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}const l=s?e:new dm(En(e)),u=r||this.parentInjector;if(!o&&null==l.ngModule){const E=(s?u:this.parentInjector).get(na,null);E&&(o=E)}En(l.componentType??{});const p=l.create(u,i,null,o);return this.insertImpl(p.hostView,a,false),p}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function sW(n){return Mo(n[Dr])}(i)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const u=i[Dr],c=new E4(u,u[ho],u[Dr]);c.detach(c.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return iee(a,i,s,!r),e.attachToViewContainerRef(),cM(KE(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=A4(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Jy(this._lContainer,t);r&&(jy(KE(this._lContainer),t),SI(r[nt],r))}detach(e){const t=this._adjustIndex(e,-1),r=Jy(this._lContainer,t);return r&&null!=jy(KE(this._lContainer),t)?new cm(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function A4(n){return n[8]}function KE(n){return n[8]||(n[8]=[])}function C4(n,e){let t;const r=e[n.index];return Mo(r)?t=r:(t=nO(r,e,null,n),e[n.index]=t,y1(e,t)),T4(t,e,n,r),new E4(t,n,e)}let T4=function S4(n,e,t,r){if(n[tl])return;let i;i=8&t.type?fr(r):function gee(n,e){const t=n[Zt],r=t.createComment(""),i=is(e,n);return Sd(t,Xy(t,i),r,function BK(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[tl]=i};class QE{constructor(e){this.queryList=e,this.matches=null}clone(){return new QE(this.queryList)}setDirty(){this.queryList.setDirty()}}class YE{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new YE(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==k4(e,t).matches&&this.queries[t].setDirty()}}class D4{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class ZE{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new ZE(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class JE{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new JE(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,vee(t,o)),this.matchTNodeWithReadOption(e,t,Uy(t,e,o,!1,!1))}else r===iu?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Uy(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ns||i===Na||i===iu&&4&t.type)this.addMatch(t.index,-2);else{const o=Uy(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function vee(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function bee(n,e,t,r){return-1===t?function yee(n,e){return 11&n.type?Ef(n,e):4&n.type?k1(n,e):null}(e,n):-2===t?function wee(n,e,t){return t===Ns?Ef(e,n):t===iu?k1(e,n):t===Na?C4(e,n):void 0}(n,e,r):Td(n,n[nt],t,e)}function x4(n,e,t,r){const i=e[el].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const u=s[l];a.push(u<0?null:bee(e,o[u],s[l+1],t.metadata.read))}i.matches=a}return i.matches}function XE(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=x4(n,e,i,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const u=o[a+1],c=e[-l];for(let d=Wi;d<c.length;d++){const g=c[d];g[Fg]===g[Dr]&&XE(g[nt],g,u,r)}if(null!==c[Jh]){const d=c[Jh];for(let g=0;g<d.length;g++){const p=d[g];XE(p[nt],p,u,r)}}}}}return r}function eA(n){const e=Fe(),t=An(),r=$R();oI(r+1);const i=k4(t,r);if(n.dirty&&function iW(n){return 4==(4&n[en])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?XE(t,e,r,[]):x4(t,e,i,r);n.reset(o,BQ),n.notifyOnChanges()}return!0}return!1}function tA(){return function Iee(n,e){return n[el].queries[e].queryList}(Fe(),$R())}function R4(n,e,t){const r=new WE(4==(4&t));(function yY(n,e,t,r){const i=iO(e);i.push(t),n.firstCreatePass&&oO(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[el]&&(e[el]=new YE),e[el].queries.push(new QE(r))}function M4(n,e,t){null===n.queries&&(n.queries=new ZE),n.queries.track(new JE(e,t))}function k4(n,e){return n.queries.getByIndex(e)}const F1=new at("Application Initializer");let aA=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=lt(F1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(mm(o))t.push(o);else if(VO(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Z4=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const ou=new at("LocaleId",{providedIn:"root",factory:()=>lt(ou,fn.Optional|fn.SkipSelf)||function Gee(){return typeof $localize<"u"&&$localize.locale||Uf}()});let J4=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ts(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Kee{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let X4=(()=>{class n{compileModuleSync(t){return new qE(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=tu(Ds(t).declarations).reduce((s,a)=>{const l=En(a);return l&&s.push(new dm(l)),s},[]);return new Kee(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const rL=new at(""),U1=new at("");let hA,cA=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,hA||(function mte(n){hA=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Un.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(pt(Un),pt(dA),pt(U1))}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac})}}return n})(),dA=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return hA?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),lc=null;const iL=new at("AllowMultipleToken"),fA=new at("PlatformDestroyListeners"),pA=new at("appBootstrapListener");class sL{constructor(e,t){this.name=e,this.token=t}}function lL(n,e,t=[]){const r=`Platform: ${e}`,i=new at(r);return(o=[])=>{let s=gA();if(!s||s.injector.get(iL,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function yte(n){if(lc&&!lc.get(iL,!1))throw new ze(400,!1);(function oL(){!function GH(n){IR=n}(()=>{throw new ze(600,!1)})})(),lc=n;const e=n.get(cL);(function aL(n){n.get(pk,null)?.forEach(t=>t())})(n)}(function uL(n=[],e){return po.create({name:e,providers:[{provide:qI,useValue:"platform"},{provide:fA,useValue:new Set([()=>lc=null])},...n]})}(a,r))}return function wte(n){const e=gA();if(!e)throw new ze(401,!1);return e}()}}function gA(){return lc?.get(cL)??null}let cL=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function Ite(n="zone.js",e){return"noop"===n?new tY:"zone.js"===n?new Un(e):n}(r?.ngZone,function dL(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function MX(n,e,t){return new $E(n,e,t)}(t.moduleType,this.injector,function mL(n){return[{provide:Un,useFactory:n},{provide:im,multi:!0,useFactory:()=>{const e=lt(Ate,{optional:!0});return()=>e.initialize()}},{provide:gL,useFactory:Ete},{provide:Rk,useFactory:Mk}]}(()=>i)),s=o.injector.get(eu,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{B1(this._modules,o),a.unsubscribe()})}),function hL(n,e,t){try{const r=t();return mm(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(aA);return a.runInitializers(),a.donePromise.then(()=>(function k3(n){Js(n,"Expected localeId to be defined"),"string"==typeof n&&(M3=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(ou,Uf)||Uf),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=fL({},r);return function _te(n,e,t){const r=new qE(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(Md);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new ze(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ze(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(fA,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(pt(po))}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function fL(n,e){return Array.isArray(e)?e.reduce(fL,n):{...n,...e}}let Md=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=lt(gL),this.zoneIsStable=lt(Rk),this.componentTypes=[],this.components=[],this.isStable=lt(J4).hasPendingTasks.pipe(Jo(t=>t?kt(!1):this.zoneIsStable),function nH(n,e=Zu){return n=n??rH,Xr((t,r)=>{let i,o=!0;t.subscribe(ei(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}(),BN()),this._injector=lt(na)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof yk;if(!this._injector.get(aA).done)throw!i&&function Wh(n){const e=En(n)||Hi(n)||Ro(n);return null!==e&&e.standalone}(t),new ze(405,!1);let s;s=i?t:this._injector.get(p1).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function vte(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Rd),u=s.create(po.NULL,[],r||s.selector,a),c=u.location.nativeElement,d=u.injector.get(rL,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),B1(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new ze(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;B1(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(pA,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>B1(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ze(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function B1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const gL=new at("",{providedIn:"root",factory:()=>lt(eu).handleError.bind(void 0)});function Ete(){const n=lt(Un),e=lt(eu);return t=>n.runOutsideAngular(()=>e.handleError(t))}let Ate=(()=>{class n{constructor(){this.zone=lt(Un),this.applicationRef=lt(Md)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();let j1=(()=>{class n{static{this.__NG_ELEMENT_ID__=Ste}}return n})();function Ste(n){return function Dte(n,e,t){if(Ed(n)&&!t){const r=xs(n.index,e);return new cm(r,r)}return 47&n.type?new cm(e[ni],e):null}(Qi(),Fe(),16==(16&n))}class wL{constructor(){}supports(e){return E1(e)}create(e){return new Mte(e)}}const Rte=(n,e)=>e;class Mte{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Rte}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<EL(r,i,o)?t:r,a=EL(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,c=l-i;if(u!=c){for(let g=0;g<u;g++){const p=g<o.length?o[g]:o[g]=0,b=p+g;c<=b&&b<u&&(o[g]=p+1)}o[s.previousIndex]=c-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!E1(e))throw new ze(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function dZ(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new kte(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new IL),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new IL),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class kte{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ote{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class IL{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new Ote,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function EL(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class AL{constructor(){}supports(e){return e instanceof Map||IE(e)}create(){return new Lte}}class Lte{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||IE(e)))throw new ze(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new Fte(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class Fte{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function CL(){return new q1([new wL])}let q1=(()=>{class n{static{this.\u0275prov=vt({token:n,providedIn:"root",factory:CL})}constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||CL()),deps:[[n,new $y,new ta]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new ze(901,!1)}}return n})();function TL(){return new Sm([new AL])}let Sm=(()=>{class n{static{this.\u0275prov=vt({token:n,providedIn:"root",factory:TL})}constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||TL()),deps:[[n,new $y,new ta]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new ze(901,!1)}}return n})();const Bte=lL(null,"core",[]);let jte=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(pt(Md))}}static{this.\u0275mod=ts({type:n})}static{this.\u0275inj=Po({})}}return n})();function zf(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let wA=null;function uc(){return wA}class tne{}const ia=new at("DocumentToken");let IA=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=vt({token:n,factory:function(){return lt(rne)},providedIn:"platform"})}}return n})();const nne=new at("Location Initialized");let rne=(()=>{class n extends IA{constructor(){super(),this._doc=lt(ia),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return uc().getBaseHref(this._doc)}onPopState(t){const r=uc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=uc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=vt({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function EA(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function OL(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function su(n){return n&&"?"!==n[0]?"?"+n:n}let Od=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=vt({token:n,factory:function(){return lt(FL)},providedIn:"root"})}}return n})();const LL=new at("appBaseHref");let FL=(()=>{class n extends Od{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??lt(ia).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return EA(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+su(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+su(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+su(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(pt(IA),pt(LL,8))}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ine=(()=>{class n extends Od{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=EA(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+su(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+su(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(pt(IA),pt(LL,8))}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac})}}return n})(),AA=(()=>{class n{constructor(t){this._subject=new Jn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function ane(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(OL(VL(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+su(r))}normalize(t){return n.stripTrailingSlash(function sne(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,VL(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+su(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+su(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=su}static{this.joinWithSlash=EA}static{this.stripTrailingSlash=OL}static{this.\u0275fac=function(r){return new(r||n)(pt(Od))}}static{this.\u0275prov=vt({token:n,factory:function(){return function one(){return new AA(pt(Od))}()},providedIn:"root"})}}return n})();function VL(n){return n.replace(/\/index.html$/,"")}var H1=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(H1||{}),Bo=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Bo||{}),sr=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(sr||{}),Ms=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Ms||{}),ri=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(ri||{});function W1(n,e){return sa(Fo(n)[gr.DateFormat],e)}function K1(n,e){return sa(Fo(n)[gr.TimeFormat],e)}function Q1(n,e){return sa(Fo(n)[gr.DateTimeFormat],e)}function oa(n,e){const t=Fo(n),r=t[gr.NumberSymbols][e];if(typeof r>"u"){if(e===ri.CurrencyDecimal)return t[gr.NumberSymbols][ri.Decimal];if(e===ri.CurrencyGroup)return t[gr.NumberSymbols][ri.Group]}return r}function BL(n){if(!n[gr.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[gr.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function sa(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function TA(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const wne=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Dm={},Ine=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var au=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(au||{}),kn=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(kn||{}),On=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(On||{});function Ene(n,e,t,r){let i=function Rne(n){if($L(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,o=1,s=1]=n.split("-").map(a=>+a);return Y1(i,o-1,s)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(wne))return function Mne(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),u=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,s,a,l,u),e}(r)}const e=new Date(n);if(!$L(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=lu(t,e)||e;let a,s=[];for(;e;){if(a=Ine.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const c=s.pop();if(!c)break;e=c}}let l=i.getTimezoneOffset();r&&(l=zL(r,l),i=function Nne(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function Pne(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(zL(e,i)-i))}(i,r,!0));let u="";return s.forEach(c=>{const d=function xne(n){if(DA[n])return DA[n];let e;switch(n){case"G":case"GG":case"GGG":e=mr(On.Eras,sr.Abbreviated);break;case"GGGG":e=mr(On.Eras,sr.Wide);break;case"GGGGG":e=mr(On.Eras,sr.Narrow);break;case"y":e=mi(kn.FullYear,1,0,!1,!0);break;case"yy":e=mi(kn.FullYear,2,0,!0,!0);break;case"yyy":e=mi(kn.FullYear,3,0,!1,!0);break;case"yyyy":e=mi(kn.FullYear,4,0,!1,!0);break;case"Y":e=e0(1);break;case"YY":e=e0(2,!0);break;case"YYY":e=e0(3);break;case"YYYY":e=e0(4);break;case"M":case"L":e=mi(kn.Month,1,1);break;case"MM":case"LL":e=mi(kn.Month,2,1);break;case"MMM":e=mr(On.Months,sr.Abbreviated);break;case"MMMM":e=mr(On.Months,sr.Wide);break;case"MMMMM":e=mr(On.Months,sr.Narrow);break;case"LLL":e=mr(On.Months,sr.Abbreviated,Bo.Standalone);break;case"LLLL":e=mr(On.Months,sr.Wide,Bo.Standalone);break;case"LLLLL":e=mr(On.Months,sr.Narrow,Bo.Standalone);break;case"w":e=SA(1);break;case"ww":e=SA(2);break;case"W":e=SA(1,!0);break;case"d":e=mi(kn.Date,1);break;case"dd":e=mi(kn.Date,2);break;case"c":case"cc":e=mi(kn.Day,1);break;case"ccc":e=mr(On.Days,sr.Abbreviated,Bo.Standalone);break;case"cccc":e=mr(On.Days,sr.Wide,Bo.Standalone);break;case"ccccc":e=mr(On.Days,sr.Narrow,Bo.Standalone);break;case"cccccc":e=mr(On.Days,sr.Short,Bo.Standalone);break;case"E":case"EE":case"EEE":e=mr(On.Days,sr.Abbreviated);break;case"EEEE":e=mr(On.Days,sr.Wide);break;case"EEEEE":e=mr(On.Days,sr.Narrow);break;case"EEEEEE":e=mr(On.Days,sr.Short);break;case"a":case"aa":case"aaa":e=mr(On.DayPeriods,sr.Abbreviated);break;case"aaaa":e=mr(On.DayPeriods,sr.Wide);break;case"aaaaa":e=mr(On.DayPeriods,sr.Narrow);break;case"b":case"bb":case"bbb":e=mr(On.DayPeriods,sr.Abbreviated,Bo.Standalone,!0);break;case"bbbb":e=mr(On.DayPeriods,sr.Wide,Bo.Standalone,!0);break;case"bbbbb":e=mr(On.DayPeriods,sr.Narrow,Bo.Standalone,!0);break;case"B":case"BB":case"BBB":e=mr(On.DayPeriods,sr.Abbreviated,Bo.Format,!0);break;case"BBBB":e=mr(On.DayPeriods,sr.Wide,Bo.Format,!0);break;case"BBBBB":e=mr(On.DayPeriods,sr.Narrow,Bo.Format,!0);break;case"h":e=mi(kn.Hours,1,-12);break;case"hh":e=mi(kn.Hours,2,-12);break;case"H":e=mi(kn.Hours,1);break;case"HH":e=mi(kn.Hours,2);break;case"m":e=mi(kn.Minutes,1);break;case"mm":e=mi(kn.Minutes,2);break;case"s":e=mi(kn.Seconds,1);break;case"ss":e=mi(kn.Seconds,2);break;case"S":e=mi(kn.FractionalSeconds,1);break;case"SS":e=mi(kn.FractionalSeconds,2);break;case"SSS":e=mi(kn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=J1(au.Short);break;case"ZZZZZ":e=J1(au.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=J1(au.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=J1(au.Long);break;default:return null}return DA[n]=e,e}(c);u+=d?d(i,t,l):"''"===c?"'":c.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Y1(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function lu(n,e){const t=function une(n){return Fo(n)[gr.LocaleId]}(n);if(Dm[t]=Dm[t]||{},Dm[t][e])return Dm[t][e];let r="";switch(e){case"shortDate":r=W1(n,Ms.Short);break;case"mediumDate":r=W1(n,Ms.Medium);break;case"longDate":r=W1(n,Ms.Long);break;case"fullDate":r=W1(n,Ms.Full);break;case"shortTime":r=K1(n,Ms.Short);break;case"mediumTime":r=K1(n,Ms.Medium);break;case"longTime":r=K1(n,Ms.Long);break;case"fullTime":r=K1(n,Ms.Full);break;case"short":const i=lu(n,"shortTime"),o=lu(n,"shortDate");r=Z1(Q1(n,Ms.Short),[i,o]);break;case"medium":const s=lu(n,"mediumTime"),a=lu(n,"mediumDate");r=Z1(Q1(n,Ms.Medium),[s,a]);break;case"long":const l=lu(n,"longTime"),u=lu(n,"longDate");r=Z1(Q1(n,Ms.Long),[l,u]);break;case"full":const c=lu(n,"fullTime"),d=lu(n,"fullDate");r=Z1(Q1(n,Ms.Full),[c,d])}return r&&(Dm[t][e]=r),r}function Z1(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Ra(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function mi(n,e,t=0,r=!1,i=!1){return function(o,s){let a=function Cne(n,e){switch(n){case kn.FullYear:return e.getFullYear();case kn.Month:return e.getMonth();case kn.Date:return e.getDate();case kn.Hours:return e.getHours();case kn.Minutes:return e.getMinutes();case kn.Seconds:return e.getSeconds();case kn.FractionalSeconds:return e.getMilliseconds();case kn.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||a>-t)&&(a+=t),n===kn.Hours)0===a&&-12===t&&(a=12);else if(n===kn.FractionalSeconds)return function Ane(n,e){return Ra(n,3).substring(0,e)}(a,e);const l=oa(s,ri.MinusSign);return Ra(a,e,l,r,i)}}function mr(n,e,t=Bo.Format,r=!1){return function(i,o){return function Tne(n,e,t,r,i,o){switch(t){case On.Months:return function hne(n,e,t){const r=Fo(n),o=sa([r[gr.MonthsFormat],r[gr.MonthsStandalone]],e);return sa(o,t)}(e,i,r)[n.getMonth()];case On.Days:return function dne(n,e,t){const r=Fo(n),o=sa([r[gr.DaysFormat],r[gr.DaysStandalone]],e);return sa(o,t)}(e,i,r)[n.getDay()];case On.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const u=function mne(n){const e=Fo(n);return BL(e),(e[gr.ExtraData][2]||[]).map(r=>"string"==typeof r?TA(r):[TA(r[0]),TA(r[1])])}(e),c=function _ne(n,e,t){const r=Fo(n);BL(r);const o=sa([r[gr.ExtraData][0],r[gr.ExtraData][1]],e)||[];return sa(o,t)||[]}(e,i,r),d=u.findIndex(g=>{if(Array.isArray(g)){const[p,b]=g,w=s>=p.hours&&a>=p.minutes,E=s<b.hours||s===b.hours&&a<b.minutes;if(p.hours<b.hours){if(w&&E)return!0}else if(w||E)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(-1!==d)return c[d]}return function cne(n,e,t){const r=Fo(n),o=sa([r[gr.DayPeriodsFormat],r[gr.DayPeriodsStandalone]],e);return sa(o,t)}(e,i,r)[s<12?0:1];case On.Eras:return function fne(n,e){return sa(Fo(n)[gr.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,o,n,e,t,r)}}function J1(n){return function(e,t,r){const i=-1*r,o=oa(t,ri.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case au.Short:return(i>=0?"+":"")+Ra(s,2,o)+Ra(Math.abs(i%60),2,o);case au.ShortGMT:return"GMT"+(i>=0?"+":"")+Ra(s,1,o);case au.Long:return"GMT"+(i>=0?"+":"")+Ra(s,2,o)+":"+Ra(Math.abs(i%60),2,o);case au.Extended:return 0===r?"Z":(i>=0?"+":"")+Ra(s,2,o)+":"+Ra(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const Sne=0,X1=4;function jL(n){return Y1(n.getFullYear(),n.getMonth(),n.getDate()+(X1-n.getDay()))}function SA(n,e=!1){return function(t,r){let i;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{const o=jL(t),s=function Dne(n){const e=Y1(n,Sne,1).getDay();return Y1(n,0,1+(e<=X1?X1:X1+7)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Ra(i,n,oa(r,ri.MinusSign))}}function e0(n,e=!1){return function(t,r){return Ra(jL(t).getFullYear(),n,oa(r,ri.MinusSign),e)}}const DA={};function zL(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function $L(n){return n instanceof Date&&!isNaN(n.valueOf())}const kne=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function RA(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}const kA=/\s+/,WL=[];let n0=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=WL,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(kA):WL}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(kA):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(kA).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(ke(q1),ke(Sm),ke(Ns),ke(Xl))}}static{this.\u0275dir=Gt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();class Wne{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qf=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Wne(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),QL(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{QL(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(ke(Na),ke(iu),ke(q1))}}static{this.\u0275dir=Gt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function QL(n,e){n.context.$implicit=e.item}let ul=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Kne,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){YL("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){YL("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(ke(Na),ke(iu))}}static{this.\u0275dir=Gt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class Kne{constructor(){this.$implicit=null,this.ngIf=null}}function YL(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ei(e)}'.`)}function Ma(n,e){return new ze(2100,!1)}const are=new at("DATE_PIPE_DEFAULT_TIMEZONE"),lre=new at("DATE_PIPE_DEFAULT_OPTIONS");let Pm=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(null==t||""===t||t!=t)return null;try{return Ene(t,r??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw Ma()}}static{this.\u0275fac=function(r){return new(r||n)(ke(ou,16),ke(are,24),ke(lre,24))}}static{this.\u0275pipe=No({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),XL=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function FA(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function Une(n,e,t){return function PA(n,e,t,r,i,o,s=!1){let a="",l=!1;if(isFinite(n)){let u=function zne(n){let r,i,o,s,a,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;"0"===e.charAt(o);o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);s&&(u=function jne(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(u));let c=e.minInt,d=e.minFrac,g=e.maxFrac;if(o){const M=o.match(kne);if(null===M)throw new Error(`${o} is not a valid digit info`);const B=M[1],F=M[3],X=M[5];null!=B&&(c=RA(B)),null!=F&&(d=RA(F)),null!=X?g=RA(X):null!=F&&d>g&&(g=d)}!function $ne(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const o=Math.min(Math.max(e,i),t);let s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=0!==o;const u=e+n.integerLen,c=r.reduceRight(function(d,g,p,b){return b[p]=(g+=d)<10?g:g-10,l&&(0===b[p]&&p>=u?b.pop():l=!1),g>=10?1:0},0);c&&(r.unshift(c),n.integerLen++)}(u,d,g);let p=u.digits,b=u.integerLen;const w=u.exponent;let E=[];for(l=p.every(M=>!M);b<c;b++)p.unshift(0);for(;b<0;b++)p.unshift(0);b>0?E=p.splice(b,p.length):(E=p,p=[0]);const A=[];for(p.length>=e.lgSize&&A.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)A.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&A.unshift(p.join("")),a=A.join(oa(t,r)),E.length&&(a+=oa(t,i)+E.join("")),w&&(a+=oa(t,ri.Exponential)+"+"+w)}else a=oa(t,ri.Infinity);return a=n<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(n,function NA(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";t.posPre=a.substring(0,a.indexOf("#"));for(let c=0;c<l.length;c++){const d=l.charAt(c);"0"===d?t.minFrac=t.maxFrac=c+1:"#"===d?t.maxFrac=c+1:t.posSuf+=d}const u=a.split(",");if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){const c=i.length-t.posPre.length-t.posSuf.length,d=o.indexOf("#");t.negPre=o.substring(0,d).replace(/'/g,""),t.negSuf=o.slice(d+c).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function CA(n,e){return Fo(n)[gr.NumberFormats][e]}(e,H1.Percent),oa(e,ri.MinusSign)),e,ri.Group,ri.Decimal,t,!0).replace(new RegExp("%","g"),oa(e,ri.PercentSign))}(function VA(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(o){throw Ma()}}static{this.\u0275fac=function(r){return new(r||n)(ke(ou,16))}}static{this.\u0275pipe=No({name:"percent",type:n,pure:!0,standalone:!0})}}return n})();let _re=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ts({type:n})}static{this.\u0275inj=Po({})}}return n})();const eF="browser";function tF(n){return n===eF}function nF(n){return"server"===n}let wre=(()=>{class n{static{this.\u0275prov=vt({token:n,providedIn:"root",factory:()=>new Ire(pt(ia),window)})}}return n})();class Ire{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ere(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Wre extends tne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class jA extends Wre{static makeCurrent(){!function ene(n){wA||(wA=n)}(new jA)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Kre(){return Rm=Rm||document.querySelector("base"),Rm?Rm.getAttribute("href"):null}();return null==t?null:function Qre(n){s0=s0||document.createElement("a"),s0.setAttribute("href",n);const e=s0.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Rm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Gne(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let s0,Rm=null,Zre=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac})}}return n})();const zA=new at("EventManagerPlugins");let aF=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new ze(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(pt(zA),pt(Un))}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac})}}return n})();class lF{constructor(e){this._doc=e}}const $A="ng-app-id";let uF=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=nF(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${$A}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute($A),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute($A,this.appId),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(pt(ia),pt(l1),pt(gk,8),pt(Jl))}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac})}}return n})();const qA={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},GA=/%COMP%/g,tie=new at("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function dF(n,e){return e.map(t=>t.replace(GA,n))}let hF=(()=>{class n{constructor(t,r,i,o,s,a,l,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=nF(a),this.defaultRenderer=new HA(t,s,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ca.ShadowDom&&(r={...r,encapsulation:Ca.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof pF?i.applyToHost(t):i instanceof WA&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Ca.Emulated:o=new pF(l,u,r,this.appId,c,s,a,d);break;case Ca.ShadowDom:return new oie(l,u,t,r,s,a,this.nonce,d);default:o=new WA(l,u,r,c,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(pt(aF),pt(uF),pt(l1),pt(tie),pt(ia),pt(Jl),pt(Un),pt(gk))}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac})}}return n})();class HA{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(qA[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(fF(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(fF(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new ze(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=qA[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=qA[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(oc.DashCase|oc.Important)?e.style.setProperty(t,r,i&oc.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&oc.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=uc().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function fF(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class oie extends HA{constructor(e,t,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=dF(i.id,i.styles);for(const c of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=c,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class WA extends HA{constructor(e,t,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?dF(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class pF extends WA{constructor(e,t,r,i,o,s,a,l){const u=i+"-"+r.id;super(e,t,r,o,s,a,l,u),this.contentAttr=function nie(n){return"_ngcontent-%COMP%".replace(GA,n)}(u),this.hostAttr=function rie(n){return"_nghost-%COMP%".replace(GA,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let sie=(()=>{class n extends lF{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(pt(ia))}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac})}}return n})();const gF=["alt","control","meta","shift"],aie={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lie={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let uie=(()=>{class n extends lF{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>uc().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),gF.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=aie[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),gF.forEach(s=>{s!==i&&(0,lie[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(pt(ia))}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac})}}return n})();const _F=[{provide:Jl,useValue:eF},{provide:pk,useValue:function cie(){jA.makeCurrent()},multi:!0},{provide:ia,useFactory:function hie(){return function KK(n){kI=n}(document),document},deps:[]}],fie=lL(Bte,"browser",_F),pie=new at(""),vF=[{provide:U1,useClass:class Yre{addToWindow(e){hr.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new ze(5103,!1);return o},hr.getAllAngularTestabilities=()=>e.getAllTestabilities(),hr.getAllAngularRootElements=()=>e.getAllRootElements(),hr.frameworkStabilizers||(hr.frameworkStabilizers=[]),hr.frameworkStabilizers.push(r=>{const i=hr.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?uc().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:rL,useClass:cA,deps:[Un,dA,U1]},{provide:cA,useClass:cA,deps:[Un,dA,U1]}],yF=[{provide:qI,useValue:"root"},{provide:eu,useFactory:function die(){return new eu},deps:[]},{provide:zA,useClass:sie,multi:!0,deps:[ia,Un,Jl]},{provide:zA,useClass:uie,multi:!0,deps:[ia]},hF,uF,aF,{provide:wk,useExisting:hF},{provide:class Are{},useClass:Zre,deps:[]},[]];let gie=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l1,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(pt(pie,12))}}static{this.\u0275mod=ts({type:n})}static{this.\u0275inj=Po({providers:[...yF,...vF],imports:[_re,jte]})}}return n})(),bF=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(pt(ia))}}static{this.\u0275prov=vt({token:n,factory:function(r){let i=null;return i=r?new r:function _ie(){return new bF(pt(ia))}(),i},providedIn:"root"})}}return n})();typeof window<"u"&&window;const{isArray:Eie}=Array,{getPrototypeOf:Aie,prototype:Cie,keys:Tie}=Object;function AF(n){if(1===n.length){const e=n[0];if(Eie(e))return{args:e,keys:null};if(function Sie(n){return n&&"object"==typeof n&&Aie(n)===Cie}(e)){const t=Tie(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Die}=Array;function QA(n){return hn(e=>function xie(n,e){return Die(e)?n(...e):n(e)}(n,e))}function CF(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function YA(...n){const e=Pg(n),t=VN(n),{args:r,keys:i}=AF(n);if(0===r.length)return ki([],e);const o=new or(function Pie(n,e,t=Zu){return r=>{TF(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)TF(e,()=>{const u=ki(n[l],e);let c=!1;u.subscribe(ei(r,d=>{o[l]=d,c||(c=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>CF(i,s):Zu));return t?o.pipe(QA(t)):o}function TF(n,e,t){n?Gl(t,n,e):e()}const Mm=xg(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function km(...n){return function Nie(){return Gh(1)}()(ki(n,Pg(n)))}function a0(n){return new or(e=>{co(n()).subscribe(e)})}function Gf(n,e){const t=cn(n)?n:()=>n,r=i=>i.error(t());return new or(e?i=>e.schedule(r,0,i):r)}function ZA(){return Xr((n,e)=>{let t=null;n._refCount++;const r=ei(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class JA extends or{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,EN(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Mi;const t=this.getSubject();e.add(this.source.subscribe(ei(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Mi.EMPTY)}return e}refCount(){return ZA()(this)}}function us(n){return n<=0?()=>Ja:Xr((e,t)=>{let r=0;e.subscribe(ei(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function cs(n,e){return Xr((t,r)=>{let i=0;t.subscribe(ei(r,o=>n.call(e,o,i++)&&r.next(o)))})}function l0(n){return Xr((e,t)=>{let r=!1;e.subscribe(ei(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function SF(n=Mie){return Xr((e,t)=>{let r=!1;e.subscribe(ei(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Mie(){return new Mm}function Ld(n,e){const t=arguments.length>=2;return r=>r.pipe(n?cs((i,o)=>n(i,o,r)):Zu,us(1),t?l0(e):SF(()=>new Mm))}function Om(n,e){return cn(e)?Ii(n,e,1):Ii(n,1)}function Oi(n,e,t){const r=cn(n)||e||t?{next:n,error:e,complete:t}:n;return r?Xr((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(ei(o,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),o.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Zu}function Fd(n){return Xr((e,t)=>{let o,r=null,i=!1;r=e.subscribe(ei(t,void 0,void 0,s=>{o=co(n(s,Fd(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function XA(n){return n<=0?()=>Ja:Xr((e,t)=>{let r=[];e.subscribe(ei(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function DF(n){return hn(()=>n)}function eC(n){return Xr((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const rn="primary",Lm=Symbol("RouteTitle");class Vie{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Hf(n){return new Vie(n)}function Uie(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function cl(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!xF(n[i],e[i]))return!1;return!0}function xF(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function PF(n){return n.length>0?n[n.length-1]:null}function dc(n){return function Iie(n){return!!n&&(n instanceof or||cn(n.lift)&&cn(n.subscribe))}(n)?n:mm(n)?ki(Promise.resolve(n)):kt(n)}const jie={exact:function MF(n,e,t){if(!Vd(n.segments,e.segments)||!u0(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!MF(n.children[r],e.children[r],t))return!1;return!0},subset:kF},NF={exact:function zie(n,e){return cl(n,e)},subset:function $ie(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>xF(n[t],e[t]))},ignored:()=>!0};function RF(n,e,t){return jie[t.paths](n.root,e.root,t.matrixParams)&&NF[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function kF(n,e,t){return OF(n,e,e.segments,t)}function OF(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Vd(i,t)||e.hasChildren()||!u0(i,t,r))}if(n.segments.length===t.length){if(!Vd(n.segments,t)||!u0(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!kF(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Vd(n.segments,i)&&u0(n.segments,i,r)&&n.children[rn])&&OF(n.children[rn],e,o,r)}}function u0(n,e,t){return e.every((r,i)=>NF[t](n[i].parameters,r.parameters))}class Wf{constructor(e=new Gn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hf(this.queryParams)),this._queryParamMap}toString(){return Hie.serialize(this)}}class Gn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return c0(this)}}class Fm{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Hf(this.parameters)),this._parameterMap}toString(){return VF(this)}}function Vd(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Vm=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=vt({token:n,factory:function(){return new tC},providedIn:"root"})}}return n})();class tC{parse(e){const t=new roe(e);return new Wf(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Um(e.root,!0)}`,r=function Qie(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${d0(t)}=${d0(i)}`).join("&"):`${d0(t)}=${d0(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Wie(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Hie=new tC;function c0(n){return n.segments.map(e=>VF(e)).join("/")}function Um(n,e){if(!n.hasChildren())return c0(n);if(e){const t=n.children[rn]?Um(n.children[rn],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==rn&&r.push(`${i}:${Um(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Gie(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===rn&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==rn&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===rn?[Um(n.children[rn],!1)]:[`${i}:${Um(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[rn]?`${c0(n)}/${t[0]}`:`${c0(n)}/(${t.join("//")})`}}function LF(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function d0(n){return LF(n).replace(/%3B/gi,";")}function nC(n){return LF(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function h0(n){return decodeURIComponent(n)}function FF(n){return h0(n.replace(/\+/g,"%20"))}function VF(n){return`${nC(n.path)}${function Kie(n){return Object.keys(n).map(e=>`;${nC(e)}=${nC(n[e])}`).join("")}(n.parameters)}`}const Yie=/^[^\/()?;#]+/;function rC(n){const e=n.match(Yie);return e?e[0]:""}const Zie=/^[^\/()?;=#]+/,Xie=/^[^=?&#]+/,toe=/^[^&#]+/;class roe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gn([],{}):new Gn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[rn]=new Gn(e,t)),r}parseSegment(){const e=rC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new ze(4009,!1);return this.capture(e),new Fm(h0(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Jie(n){const e=n.match(Zie);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=rC(this.remaining);i&&(r=i,this.capture(r))}e[h0(t)]=h0(r)}parseQueryParam(e){const t=function eoe(n){const e=n.match(Xie);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function noe(n){const e=n.match(toe);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=FF(t),o=FF(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=rC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new ze(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=rn);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[rn]:new Gn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new ze(4011,!1)}}function UF(n){return n.segments.length>0?new Gn([],{[rn]:n}):n}function BF(n){const e={};for(const r of Object.keys(n.children)){const o=BF(n.children[r]);if(r===rn&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function ioe(n){if(1===n.numberOfChildren&&n.children[rn]){const e=n.children[rn];return new Gn(n.segments.concat(e.segments),e.children)}return n}(new Gn(n.segments,e))}function Ud(n){return n instanceof Wf}function jF(n){let e;const i=UF(function t(o){const s={};for(const l of o.children){const u=t(l);s[l.outlet]=u}const a=new Gn(o.url,s);return o===n&&(e=a),a}(n.root));return e??i}function zF(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return iC(i,i,i,t,r);const o=function soe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new qF(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new qF(t,e,r)}(e);if(o.toRoot())return iC(i,i,new Gn([],{}),t,r);const s=function aoe(n,e,t){if(n.isAbsolute)return new p0(e,!0,0);if(!t)return new p0(e,!1,NaN);if(null===t.parent)return new p0(t,!0,0);const r=f0(n.commands[0])?0:1;return function loe(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ze(4005,!1);i=r.segments.length}return new p0(r,!1,i-o)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(o,i,n),a=s.processChildren?jm(s.segmentGroup,s.index,o.commands):GF(s.segmentGroup,s.index,o.commands);return iC(i,s.segmentGroup,a,t,r)}function f0(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Bm(n){return"object"==typeof n&&null!=n&&n.outlets}function iC(n,e,t,r,i){let s,o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`}),s=n===e?t:$F(n,e,t);const a=UF(BF(s));return new Wf(a,o,i)}function $F(n,e,t){const r={};return Object.entries(n.children).forEach(([i,o])=>{r[i]=o===e?t:$F(o,e,t)}),new Gn(n.segments,r)}class qF{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&f0(r[0]))throw new ze(4003,!1);const i=r.find(Bm);if(i&&i!==PF(r))throw new ze(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class p0{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function GF(n,e,t){if(n||(n=new Gn([],{})),0===n.segments.length&&n.hasChildren())return jm(n,e,t);const r=function coe(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(Bm(a))break;const l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!WF(l,u,s))return o;r+=2}else{if(!WF(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new Gn(n.segments.slice(0,r.pathIndex),{});return o.children[rn]=new Gn(n.segments.slice(r.pathIndex),n.children),jm(o,0,i)}return r.match&&0===i.length?new Gn(n.segments,{}):r.match&&!n.hasChildren()?oC(n,e,t):r.match?jm(n,0,i):oC(n,e,t)}function jm(n,e,t){if(0===t.length)return new Gn(n.segments,{});{const r=function uoe(n){return Bm(n[0])?n[0].outlets:{[rn]:n}}(t),i={};if(Object.keys(r).some(o=>o!==rn)&&n.children[rn]&&1===n.numberOfChildren&&0===n.children[rn].segments.length){const o=jm(n.children[rn],e,t);return new Gn(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=GF(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Gn(n.segments,i)}}function oC(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(Bm(o)){const l=doe(o.outlets);return new Gn(r,l)}if(0===i&&f0(t[0])){r.push(new Fm(n.segments[e].path,HF(t[0]))),i++;continue}const s=Bm(o)?o.outlets[rn]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&f0(a)?(r.push(new Fm(s,HF(a))),i+=2):(r.push(new Fm(s,{})),i++)}return new Gn(r,{})}function doe(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=oC(new Gn([],{}),0,r))}),e}function HF(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function WF(n,e,t){return n==t.path&&cl(e,t.parameters)}const zm="imperative";class dl{constructor(e,t){this.id=e,this.url=t}}class g0 extends dl{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hc extends dl{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $m extends dl{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Kf extends dl{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class m0 extends dl{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class KF extends dl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hoe extends dl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class foe extends dl{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class poe extends dl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class goe extends dl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class moe{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _oe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class voe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yoe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class boe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class woe{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QF{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class sC{}class aC{constructor(e){this.url=e}}class Ioe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new qm,this.attachRef=null}}let qm=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ioe,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class YF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=lC(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=lC(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=uC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return uC(e,this._root).map(t=>t.value)}}function lC(n,e){if(n===e.value)return e;for(const t of e.children){const r=lC(n,t);if(r)return r}return null}function uC(n,e){if(n===e.value)return[e];for(const t of e.children){const r=uC(n,t);if(r.length)return r.unshift(e),r}return[]}class uu{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Qf(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ZF extends YF{constructor(e,t){super(e),this.snapshot=t,cC(this,e)}toString(){return this.snapshot.toString()}}function JF(n,e){const t=function Eoe(n,e){const s=new _0([],{},{},"",{},rn,e,null,{});return new e6("",new uu(s,[]))}(0,e),r=new Ts([new Fm("",{})]),i=new Ts({}),o=new Ts({}),s=new Ts({}),a=new Ts(""),l=new Yf(r,i,s,a,o,rn,e,t.root);return l.snapshot=t.root,new ZF(new uu(l,[]),t)}class Yf{constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(hn(u=>u[Lm]))??kt(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(hn(e=>Hf(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(hn(e=>Hf(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function XF(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Aoe(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class _0{get title(){return this.data?.[Lm]}constructor(e,t,r,i,o,s,a,l,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class e6 extends YF{constructor(e,t){super(t),this.url=e,cC(this,t)}toString(){return t6(this._root)}}function cC(n,e){e.value._routerState=n,e.children.forEach(t=>cC(n,t))}function t6(n){const e=n.children.length>0?` { ${n.children.map(t6).join(", ")} } `:"";return`${n.value}${e}`}function dC(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,cl(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),cl(e.params,t.params)||n.paramsSubject.next(t.params),function Bie(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!cl(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),cl(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function hC(n,e){const t=cl(n.params,e.params)&&function qie(n,e){return Vd(n,e)&&n.every((t,r)=>cl(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||hC(n.parent,e.parent))}let fC=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=rn,this.activateEvents=new Jn,this.deactivateEvents=new Jn,this.attachEvents=new Jn,this.detachEvents=new Jn,this.parentContexts=lt(qm),this.location=lt(Na),this.changeDetector=lt(j1),this.environmentInjector=lt(na),this.inputBinder=lt(v0,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ze(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ze(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ze(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new ze(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Coe(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Gt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[rs]})}}return n})();class Coe{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Yf?this.route:e===qm?this.childContexts:this.parent.get(e,t)}}const v0=new at("");let n6=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=YA([r.queryParams,r.params,r.data]).pipe(Jo(([o,s,a],l)=>(a={...o,...s,...a},0===l?kt(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function Xte(n){const e=En(n);if(!e)return null;const t=new dm(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac})}}return n})();function Gm(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Soe(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Gm(n,r,i);return Gm(n,r)})}(n,e,t);return new uu(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Gm(n,a)),s}}const r=function Doe(n){return new Yf(new Ts(n.url),new Ts(n.params),new Ts(n.queryParams),new Ts(n.fragment),new Ts(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>Gm(n,o));return new uu(r,i)}}const pC="ngNavigationCancelingError";function r6(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ud(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=i6(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function i6(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[pC]=!0,r.cancellationCode=e,t&&(r.url=t),r}function o6(n){return n&&n[pC]}let s6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=es({type:n,selectors:[["ng-component"]],standalone:!0,features:[a4],decls:1,vars:0,template:function(r,i){1&r&&ge(0,"router-outlet")},dependencies:[fC],encapsulation:2})}}return n})();function gC(n){const e=n.children&&n.children.map(gC),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==rn&&(t.component=s6),t}function ka(n){return n.outlet||rn}function Hm(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Loe{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),dC(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Qf(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Qf(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Qf(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Qf(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new woe(o.value.snapshot))}),e.children.length&&this.forwardEvent(new yoe(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(dC(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),dC(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Hm(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class a6{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class y0{constructor(e,t){this.component=e,this.route=t}}function Foe(n,e,t){const r=n._root;return Wm(r,e?e._root:null,t,[r.value])}function Zf(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function cH(n){return null!==yy(n)}(n)?e.get(n):n:r}function Wm(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Qf(e);return n.children.forEach(s=>{(function Uoe(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function Boe(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Vd(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Vd(n.url,e.url)||!cl(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hC(n,e)||!cl(n.queryParams,e.queryParams);default:return!hC(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new a6(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Wm(n,e,o.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new y0(a.outlet.component,s))}else s&&Km(e,a,i),i.canActivateChecks.push(new a6(r)),Wm(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Km(a,t.getContext(s),i)),i}function Km(n,e,t){const r=Qf(n),i=n.value;Object.entries(r).forEach(([o,s])=>{Km(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new y0(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Qm(n){return"function"==typeof n}function l6(n){return n instanceof Mm||"EmptyError"===n?.name}const b0=Symbol("INITIAL_VALUE");function Jf(){return Jo(n=>YA(n.map(e=>e.pipe(us(1),function Rie(...n){const e=Pg(n);return Xr((t,r)=>{(e?km(n,t,e):km(n,t)).subscribe(r)})}(b0)))).pipe(hn(e=>{for(const t of e)if(!0!==t){if(t===b0)return b0;if(!1===t||t instanceof Wf)return t}return!0}),cs(e=>e!==b0),us(1)))}function u6(n){return function cG(...n){return bN(n)}(Oi(e=>{if(Ud(e))throw r6(0,e)}),hn(e=>!0===e))}class w0{constructor(e){this.segmentGroup=e||null}}class c6{constructor(e){this.urlTree=e}}function Xf(n){return Gf(new w0(n))}function d6(n){return Gf(new c6(n))}class sse{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new ze(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return kt(r);if(i.numberOfChildren>1||!i.children[rn])return Gf(new ze(4e3,!1));i=i.children[rn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new Wf(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Gn(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new ze(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const mC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ase(n,e,t,r,i){const o=_C(n,e,t);return o.matched?(r=function Poe(n,e){return n.providers&&!n._injector&&(n._injector=GE(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function rse(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?kt(i.map(s=>{const a=Zf(s,n);return dc(function Hoe(n){return n&&Qm(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Jf(),u6()):kt(!0)}(r,e,t).pipe(hn(s=>!0===s?o:{...mC}))):kt(o)}function _C(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...mC}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Uie)(t,n,e);if(!i)return{...mC};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function h6(n,e,t,r){return t.length>0&&function cse(n,e,t){return t.some(r=>I0(n,e,r)&&ka(r)!==rn)}(n,t,r)?{segmentGroup:new Gn(e,use(r,new Gn(t,n.children))),slicedSegments:[]}:0===t.length&&function dse(n,e,t){return t.some(r=>I0(n,e,r))}(n,t,r)?{segmentGroup:new Gn(n.segments,lse(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Gn(n.segments,n.children),slicedSegments:t}}function lse(n,e,t,r,i){const o={};for(const s of r)if(I0(n,t,s)&&!i[ka(s)]){const a=new Gn([],{});o[ka(s)]=a}return{...i,...o}}function use(n,e){const t={};t[rn]=e;for(const r of n)if(""===r.path&&ka(r)!==rn){const i=new Gn([],{});t[ka(r)]=i}return t}function I0(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class gse{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new sse(this.urlSerializer,this.urlTree)}noMatchError(e){return new ze(4002,!1)}recognize(){const e=h6(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,rn).pipe(Fd(t=>{if(t instanceof c6)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof w0?this.noMatchError(t):t}),hn(t=>{const r=new _0([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},rn,this.rootComponentType,null,{}),i=new uu(r,t),o=new e6("",i),s=function ooe(n,e,t=null,r=null){return zF(jF(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,rn).pipe(Fd(r=>{throw r instanceof w0?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=XF(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return ki(i).pipe(Om(o=>{const s=r.children[o],a=function koe(n,e){const t=n.filter(r=>ka(r)===e);return t.push(...n.filter(r=>ka(r)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),function Oie(n,e){return Xr(function kie(n,e,t,r,i){return(o,s)=>{let a=t,l=e,u=0;o.subscribe(ei(s,c=>{const d=u++;l=a?n(l,c,d):(a=!0,c),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(n,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),l0(null),function Lie(n,e){const t=arguments.length>=2;return r=>r.pipe(n?cs((i,o)=>n(i,o,r)):Zu,XA(1),t?l0(e):SF(()=>new Mm))}(),Ii(o=>{if(null===o)return Xf(r);const s=f6(o);return function mse(n){n.sort((e,t)=>e.value.outlet===rn?-1:t.value.outlet===rn?1:e.value.outlet.localeCompare(t.value.outlet))}(s),kt(s)}))}processSegment(e,t,r,i,o,s){return ki(t).pipe(Om(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,o,s).pipe(Fd(l=>{if(l instanceof w0)return kt(null);throw l}))),Ld(a=>!!a),Fd(a=>{if(l6(a))return function fse(n,e,t){return 0===e.length&&!n.children[t]}(r,i,o)?kt([]):Xf(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,o,s,a){return function hse(n,e,t,r){return!!(ka(n)===r||r!==rn&&I0(e,t,n))&&("**"===n.path||_C(e,n,t).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s):Xf(i):Xf(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?d6(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Ii(s=>{const a=new Gn(s,{});return this.processSegment(e,t,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=_C(t,i,o);if(!a)return Xf(t);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?d6(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Ii(g=>this.processSegment(e,r,t,g.concat(u),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a;if("**"===r.path){const l=i.length>0?PF(i).parameters:{};a=kt({snapshot:new _0(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,p6(r),ka(r),r.component??r._loadedComponent??null,r,g6(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=ase(t,r,i,e).pipe(hn(({matched:l,consumedSegments:u,remainingSegments:c,parameters:d})=>l?{snapshot:new _0(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,p6(r),ka(r),r.component??r._loadedComponent??null,r,g6(r)),consumedSegments:u,remainingSegments:c}:null));return a.pipe(Jo(l=>null===l?Xf(t):this.getChildConfig(e=r._injector??e,r,i).pipe(Jo(({routes:u})=>{const c=r._loadedInjector??e,{snapshot:d,consumedSegments:g,remainingSegments:p}=l,{segmentGroup:b,slicedSegments:w}=h6(t,g,p,u);if(0===w.length&&b.hasChildren())return this.processChildren(c,u,b).pipe(hn(A=>null===A?null:[new uu(d,A)]));if(0===u.length&&0===w.length)return kt([new uu(d,[])]);const E=ka(r)===o;return this.processSegment(c,u,b,w,E?rn:o,!0).pipe(hn(A=>[new uu(d,A)]))}))))}getChildConfig(e,t,r){return t.children?kt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?kt({routes:t._loadedRoutes,injector:t._loadedInjector}):function nse(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?kt(!0):kt(i.map(s=>{const a=Zf(s,n);return dc(function zoe(n){return n&&Qm(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Jf(),u6())}(e,t,r).pipe(Ii(i=>i?this.configLoader.loadChildren(e,t).pipe(Oi(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function ose(n){return Gf(i6(!1,3))}())):kt({routes:[],injector:e})}}function _se(n){const e=n.value.routeConfig;return e&&""===e.path}function f6(n){const e=[],t=new Set;for(const r of n){if(!_se(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=f6(r.children);e.push(new uu(r.value,i))}return e.filter(r=>!t.has(r))}function p6(n){return n.data||{}}function g6(n){return n.resolve||{}}function m6(n){return"string"==typeof n.title||null===n.title}function vC(n){return Jo(e=>{const t=n(e);return t?ki(t).pipe(hn(()=>e)):kt(e)})}const ep=new at("ROUTES");let yC=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=lt(X4)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return kt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=dc(t.loadComponent()).pipe(hn(_6),Oi(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),eC(()=>{this.componentLoaders.delete(t)})),i=new JA(r,()=>new Zo).pipe(ZA());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return kt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function Ase(n,e,t,r){return dc(n.loadChildren()).pipe(hn(_6),Ii(i=>i instanceof o4||Array.isArray(i)?kt(i):ki(e.compileModuleAsync(i))),hn(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(ep,[],{optional:!0,self:!0}).flat()),{routes:s.map(gC),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(eC(()=>{this.childrenLoaders.delete(r)})),s=new JA(o,()=>new Zo).pipe(ZA());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function _6(n){return function Cse(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let E0=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Zo,this.transitionAbortSubject=new Zo,this.configLoader=lt(yC),this.environmentInjector=lt(na),this.urlSerializer=lt(Vm),this.rootContexts=lt(qm),this.inputBindingEnabled=null!==lt(v0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>kt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new _oe(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new moe(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new Ts({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:zm,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(cs(o=>0!==o.id),hn(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),Jo(o=>{this.currentTransition=o;let s=!1,a=!1;return kt(o).pipe(Oi(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Jo(l=>{const u=l.currentBrowserUrl.toString(),c=!t.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const g="";return this.events.next(new Kf(l.id,this.urlSerializer.serialize(l.rawUrl),g,0)),l.resolve(null),Ja}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return kt(l).pipe(Jo(g=>{const p=this.transitions?.getValue();return this.events.next(new g0(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),p!==this.transitions?.getValue()?Ja:Promise.resolve(g)}),function vse(n,e,t,r,i,o){return Ii(s=>function pse(n,e,t,r,i,o,s="emptyOnly"){return new gse(n,e,t,r,i,s,o).recognize()}(n,e,t,r,s.extractedUrl,i,o).pipe(hn(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Oi(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const p=new KF(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(p)}));if(c&&t.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:g,extractedUrl:p,source:b,restoredState:w,extras:E}=l,A=new g0(g,this.urlSerializer.serialize(p),b,w);this.events.next(A);const M=JF(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:M,urlAfterRedirects:p,extras:{...E,skipLocationChange:!1,replaceUrl:!1}},kt(o)}{const g="";return this.events.next(new Kf(l.id,this.urlSerializer.serialize(l.extractedUrl),g,1)),l.resolve(null),Ja}}),Oi(l=>{const u=new hoe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),hn(l=>(this.currentTransition=o={...l,guards:Foe(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function Koe(n,e){return Ii(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?kt({...t,guardsResult:!0}):function Qoe(n,e,t,r){return ki(n).pipe(Ii(i=>function tse(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?kt(o.map(a=>{const l=Hm(e)??i,u=Zf(a,l);return dc(function Goe(n){return n&&Qm(n.canDeactivate)}(u)?u.canDeactivate(n,e,t,r):l.runInContext(()=>u(n,e,t,r))).pipe(Ld())})).pipe(Jf()):kt(!0)}(i.component,i.route,t,e,r)),Ld(i=>!0!==i,!0))}(s,r,i,n).pipe(Ii(a=>a&&function joe(n){return"boolean"==typeof n}(a)?function Yoe(n,e,t,r){return ki(e).pipe(Om(i=>km(function Joe(n,e){return null!==n&&e&&e(new voe(n)),kt(!0)}(i.route.parent,r),function Zoe(n,e){return null!==n&&e&&e(new boe(n)),kt(!0)}(i.route,r),function ese(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Voe(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>a0(()=>kt(s.guards.map(l=>{const u=Hm(s.node)??t,c=Zf(l,u);return dc(function qoe(n){return n&&Qm(n.canActivateChild)}(c)?c.canActivateChild(r,n):u.runInContext(()=>c(r,n))).pipe(Ld())})).pipe(Jf())));return kt(o).pipe(Jf())}(n,i.path,t),function Xoe(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return kt(!0);const i=r.map(o=>a0(()=>{const s=Hm(e)??t,a=Zf(o,s);return dc(function $oe(n){return n&&Qm(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Ld())}));return kt(i).pipe(Jf())}(n,i.route,t))),Ld(i=>!0!==i,!0))}(r,o,n,e):kt(a)),hn(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Oi(l=>{if(o.guardsResult=l.guardsResult,Ud(l.guardsResult))throw r6(0,l.guardsResult);const u=new foe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),cs(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),vC(l=>{if(l.guards.canActivateChecks.length)return kt(l).pipe(Oi(u=>{const c=new poe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),Jo(u=>{let c=!1;return kt(u).pipe(function yse(n,e){return Ii(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return kt(t);let o=0;return ki(i).pipe(Om(s=>function bse(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!m6(i)&&(o[Lm]=i.title),function wse(n,e,t,r){const i=function Ise(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return kt({});const o={};return ki(i).pipe(Ii(s=>function Ese(n,e,t,r){const i=Hm(e)??r,o=Zf(n,i);return dc(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[s],e,t,r).pipe(Ld(),Oi(a=>{o[s]=a}))),XA(1),DF(o),Fd(s=>l6(s)?Ja:Gf(s)))}(o,n,e,r).pipe(hn(s=>(n._resolvedData=s,n.data=XF(n,t).resolve,i&&m6(i)&&(n.data[Lm]=i.title),null)))}(s.route,r,n,e)),Oi(()=>o++),XA(1),Ii(s=>o===i.length?kt(t):Ja))})}(t.paramsInheritanceStrategy,this.environmentInjector),Oi({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(u,"",2)}}))}),Oi(u=>{const c=new goe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}))}),vC(l=>{const u=c=>{const d=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(c.routeConfig).pipe(Oi(g=>{c.component=g}),hn(()=>{})));for(const g of c.children)d.push(...u(g));return d};return YA(u(l.targetSnapshot.root)).pipe(l0(),us(1))}),vC(()=>this.afterPreactivation()),hn(l=>{const u=function Toe(n,e,t){const r=Gm(n,e._root,t?t._root:void 0);return new ZF(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:u},o}),Oi(()=>{this.events.next(new sC)}),((n,e,t,r)=>hn(i=>(new Loe(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),us(1),Oi({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new hc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),function Fie(n){return Xr((e,t)=>{co(n).subscribe(ei(t,()=>t.complete(),bd)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(Oi(l=>{throw l}))),eC(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Fd(l=>{if(a=!0,o6(l))this.events.next(new $m(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function xoe(n){return o6(n)&&Ud(n.url)}(l)?this.events.next(new aC(l.url)):o.resolve(!1);else{this.events.next(new m0(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(l))}catch(u){o.reject(u)}}return Ja}))}))}cancelNavigationTransition(t,r,i){const o=new $m(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function v6(n){return n!==zm}let y6=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===rn);return r}getResolvedTitleForRoute(t){return t.data[Lm]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=vt({token:n,factory:function(){return lt(Tse)},providedIn:"root"})}}return n})(),Tse=(()=>{class n extends y6{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(pt(bF))}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Sse=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=vt({token:n,factory:function(){return lt(xse)},providedIn:"root"})}}return n})();class Dse{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let xse=(()=>{class n extends Dse{static{this.\u0275fac=function(){let t;return function(i){return(t||(t=Yi(n)))(i||n)}}()}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const A0=new at("",{providedIn:"root",factory:()=>({})});let Pse=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=vt({token:n,factory:function(){return lt(Nse)},providedIn:"root"})}}return n})(),Nse=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ym=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Ym||{});function b6(n,e){n.events.pipe(cs(t=>t instanceof hc||t instanceof $m||t instanceof m0||t instanceof Kf),hn(t=>t instanceof hc||t instanceof Kf?Ym.COMPLETE:t instanceof $m&&(0===t.code||1===t.code)?Ym.REDIRECTING:Ym.FAILED),cs(t=>t!==Ym.REDIRECTING),us(1)).subscribe(()=>{e()})}function Rse(n){throw n}function Mse(n,e,t){return e.parse("/")}const kse={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ose={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=lt(Z4),this.isNgZoneEnabled=!1,this._events=new Zo,this.options=lt(A0,{optional:!0})||{},this.pendingTasks=lt(J4),this.errorHandler=this.options.errorHandler||Rse,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Mse,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=lt(Pse),this.routeReuseStrategy=lt(Sse),this.titleStrategy=lt(y6),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=lt(ep,{optional:!0})?.flat()??[],this.navigationTransitions=lt(E0),this.urlSerializer=lt(Vm),this.location=lt(AA),this.componentInputBindingEnabled=!!lt(v0,{optional:!0}),this.eventsSubscription=new Mi,this.isNgZoneEnabled=lt(Un)instanceof Un&&Un.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Wf,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=JF(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(w6(r)&&this._events.next(r));if(r instanceof g0)v6(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Kf)this.rawUrlTree=i.rawUrl;else if(r instanceof KF){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof sC)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof $m)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof aC){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||v6(i.source)};this.scheduleNavigation(o,zm,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof m0&&this.restoreHistory(i,!0),r instanceof hc&&(this.navigated=!0),w6(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),zm,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(gC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s;let d,c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...o};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=o||null}null!==c&&(c=this.removeEmptyProps(c));try{d=jF(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return zF(d,t,c,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ud(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,zm,null,r)}navigate(t,r={skipLocationChange:!1}){return function Lse(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new ze(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...kse}:!1===r?{...Ose}:r,Ud(t))return RF(this.currentUrlTree,t,i);const o=this.parseUrl(t);return RF(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((d,g)=>{a=d,l=g});const c=this.pendingTasks.add();return b6(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function w6(n){return!(n instanceof sC||n instanceof aC)}let Zm=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Zo,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof hc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function sk(n,e,t){return function mQ(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?ok:ik}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(ke(jo),ke(Yf),function By(n){return function LW(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(JN(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(Qi(),n)}("tabindex"),ke(Xl),ke(Ns),ke(Od))}}static{this.\u0275dir=Gt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Le("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Ci("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",zf],skipLocationChange:["skipLocationChange","skipLocationChange",zf],replaceUrl:["replaceUrl","replaceUrl",zf],routerLink:"routerLink"},standalone:!0,features:[bO,rs]})}}return n})(),I6=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Jn,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof hc&&this.update()})}ngAfterContentInit(){kt(this.links.changes,kt(null)).pipe(Gh()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ki(t).pipe(Gh()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function Fse(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(ke(jo),ke(Ns),ke(Xl),ke(j1),ke(Zm,8))}}static{this.\u0275dir=Gt({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(1&r&&function N4(n,e,t,r){const i=An();if(i.firstCreatePass){const o=Qi();M4(i,new D4(e,t,r),o.index),function Eee(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}R4(i,Fe(),t)}(o,Zm,5),2&r){let s;eA(s=tA())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[rs]})}}return n})();class E6{}let Vse=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(cs(t=>t instanceof hc),Om(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=GE(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ki(i).pipe(Gh())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):kt(null);const o=i.pipe(Ii(s=>null===s?kt(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?ki([o,this.loader.loadComponent(r)]).pipe(Gh()):o})}static{this.\u0275fac=function(r){return new(r||n)(pt(jo),pt(X4),pt(na),pt(E6),pt(yC))}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const bC=new at("");let A6=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof g0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof hc?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Kf&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof QF&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new QF(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function Wk(){throw new Error("invalid")}()}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac})}}return n})();function cu(n,e){return{\u0275kind:n,\u0275providers:e}}function T6(){const n=lt(po);return e=>{const t=n.get(Md);if(e!==t.components[0])return;const r=n.get(jo),i=n.get(S6);1===n.get(wC)&&r.initialNavigation(),n.get(D6,null,fn.Optional)?.setUpPreloading(),n.get(bC,null,fn.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const S6=new at("",{factory:()=>new Zo}),wC=new at("",{providedIn:"root",factory:()=>1}),D6=new at("");function zse(n){return cu(0,[{provide:D6,useExisting:Vse},{provide:E6,useExisting:n}])}const x6=new at("ROUTER_FORROOT_GUARD"),qse=[AA,{provide:Vm,useClass:tC},jo,qm,{provide:Yf,useFactory:function C6(n){return n.routerState.root},deps:[jo]},yC,[]];function Gse(){return new sL("Router",jo)}let P6=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[qse,[],{provide:ep,multi:!0,useValue:t},{provide:x6,useFactory:Qse,deps:[[jo,new ta,new $y]]},{provide:A0,useValue:r||{}},r?.useHash?{provide:Od,useClass:ine}:{provide:Od,useClass:FL},{provide:bC,useFactory:()=>{const n=lt(wre),e=lt(Un),t=lt(A0),r=lt(E0),i=lt(Vm);return t.scrollOffset&&n.setOffset(t.scrollOffset),new A6(i,r,n,e,t)}},r?.preloadingStrategy?zse(r.preloadingStrategy).\u0275providers:[],{provide:sL,multi:!0,useFactory:Gse},r?.initialNavigation?Yse(r):[],r?.bindToComponentInputs?cu(8,[n6,{provide:v0,useExisting:n6}]).\u0275providers:[],[{provide:N6,useFactory:T6},{provide:pA,multi:!0,useExisting:N6}]]}}static forChild(t){return{ngModule:n,providers:[{provide:ep,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(pt(x6,8))}}static{this.\u0275mod=ts({type:n})}static{this.\u0275inj=Po({})}}return n})();function Qse(n){return"guarded"}function Yse(n){return["disabled"===n.initialNavigation?cu(3,[{provide:F1,multi:!0,useFactory:()=>{const e=lt(jo);return()=>{e.setUpLocationChangeListener()}}},{provide:wC,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?cu(2,[{provide:wC,useValue:0},{provide:F1,multi:!0,deps:[po],useFactory:e=>{const t=e.get(nne,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(jo),o=e.get(S6);b6(i,()=>{r(!0)}),e.get(E0).afterPreactivation=()=>(r(!0),o.closed?kt(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const N6=new at("");var re=As(467);const R6=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},M6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,u=l?n[i+2]:0;let g=(15&a)<<2|u>>6,p=63&u;l||(p=64,s||(g=64)),r.push(t[o>>2],t[(3&o)<<4|a>>4],t[g],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(R6(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const u=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==d)throw new tae;r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class tae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C0=function(n){return function(n){const e=R6(n);return M6.encodeByteArray(e,!0)}(n).replace(/\./g,"")},T0=function(n){try{return M6.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},S0=()=>{try{return function iae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&T0(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},O6=()=>{var n;return null===(n=S0())||void 0===n?void 0:n.config};class L6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Zi(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class du extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,du.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jm.prototype.create)}}class Jm{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function bae(n,e){return n.replace(wae,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new du(i,`${this.serviceName}: ${s} (${i}).`,r)}}const wae=/\{\$([^}]+)}/g;function Xm(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(B6(o)&&B6(s)){if(!Xm(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function B6(n){return null!==n&&"object"==typeof n}function EC(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Eae{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function Aae(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=AC),void 0===i.error&&(i.error=AC),void 0===i.complete&&(i.complete=AC);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AC(){}function Ji(n){return n&&n._delegate?n._delegate:n}class Bd{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const jd="[DEFAULT]";class Pae{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new L6;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Rae(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:jd})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=jd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,re.A)(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=jd){return this.instances.has(e)}getOptions(e=jd){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===jd?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=jd){return this.component?this.component.multipleInstances?e:jd:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Mae{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Pae(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const TC=[];var _n=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(_n||{});const j6={debug:_n.DEBUG,verbose:_n.VERBOSE,info:_n.INFO,warn:_n.WARN,error:_n.ERROR,silent:_n.SILENT},kae=_n.INFO,Oae={[_n.DEBUG]:"log",[_n.VERBOSE]:"log",[_n.INFO]:"info",[_n.WARN]:"warn",[_n.ERROR]:"error"},Lae=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Oae[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class SC{constructor(e){this.name=e,this._logLevel=kae,this._logHandler=Lae,this._userLogHandler=null,TC.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _n))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?j6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_n.DEBUG,...e),this._logHandler(this,_n.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_n.VERBOSE,...e),this._logHandler(this,_n.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_n.INFO,...e),this._logHandler(this,_n.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_n.WARN,...e),this._logHandler(this,_n.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_n.ERROR,...e),this._logHandler(this,_n.ERROR,...e)}}const Fae=(n,e)=>e.some(t=>n instanceof t);let z6,$6;const q6=new WeakMap,DC=new WeakMap,G6=new WeakMap,xC=new WeakMap,PC=new WeakMap;let NC={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return DC.get(n);if("objectStoreNames"===e)return n.objectStoreNames||G6.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fc(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function qae(n){return"function"==typeof n?function $ae(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Uae(){return $6||($6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(RC(this),e),fc(q6.get(this))}:function(...e){return fc(n.apply(RC(this),e))}:function(e,...t){const r=n.call(RC(this),e,...t);return G6.set(r,e.sort?e.sort():[e]),fc(r)}}(n):(n instanceof IDBTransaction&&function jae(n){if(DC.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});DC.set(n,e)}(n),Fae(n,function Vae(){return z6||(z6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,NC):n)}function fc(n){if(n instanceof IDBRequest)return function Bae(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(fc(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&q6.set(t,n)}).catch(()=>{}),PC.set(e,n),e}(n);if(xC.has(n))return xC.get(n);const e=qae(n);return e!==n&&(xC.set(n,e),PC.set(e,n)),e}const RC=n=>PC.get(n),Hae=["get","getKey","getAll","getAllKeys","count"],Wae=["put","add","delete","clear"],MC=new Map;function H6(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(MC.get(e))return MC.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Wae.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Hae.includes(t))return;const o=function(){var s=(0,re.A)(function*(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(yield Promise.all([c[t](...l),i&&u.done]))[0]});return function(l){return s.apply(this,arguments)}}();return MC.set(e,o),o}!function zae(n){NC=n(NC)}(n=>({...n,get:(e,t,r)=>H6(e,t)||n.get(e,t,r),has:(e,t)=>!!H6(e,t)||n.has(e,t)}));class Kae{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function Qae(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const x0="@firebase/app",kC="0.10.13",hu=new SC("@firebase/app"),P0="[DEFAULT]",Ele={[x0]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},zd=new Map,e_=new Map,t_=new Map;function W6(n,e){try{n.container.addComponent(e)}catch(t){hu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function tp(n){const e=n.name;if(t_.has(e))return hu.debug(`There were multiple attempts to register component ${e}.`),!1;t_.set(e,n);for(const t of zd.values())W6(t,n);for(const t of e_.values())W6(t,n);return!0}function $d(n){return void 0!==n.settings}const aa=new Jm("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Q6{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw aa.create("app-deleted",{appName:this._name})}}const N0="10.14.1";function Y6(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:P0,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw aa.create("bad-app-name",{appName:String(i)});if(t||(t=O6()),!t)throw aa.create("no-options");const o=zd.get(i);if(o){if(Xm(t,o.options)&&Xm(r,o.config))return o;throw aa.create("duplicate-app",{appName:i})}const s=new Mae(i);for(const l of t_.values())s.addComponent(l);const a=new Q6(t,r,s);return zd.set(i,a),a}function Z6(n=P0){const e=zd.get(n);if(!e&&n===P0&&O6())return Y6();if(!e)throw aa.create("no-app",{appName:n});return e}function J6(){return Array.from(zd.values())}function ks(n,e,t){var r;let i=null!==(r=Ele[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void hu.warn(a.join(" "))}tp(new Bd(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Dle="firebase-heartbeat-database",xle=1,n_="firebase-heartbeat-store";let LC=null;function X6(){return LC||(LC=function Gae(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=fc(s);return r&&s.addEventListener("upgradeneeded",l=>{r(fc(s.result),l.oldVersion,l.newVersion,fc(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}(Dle,xle,{upgrade:(n,e)=>{if(0===e)try{n.createObjectStore(n_)}catch(t){console.warn(t)}}}).catch(n=>{throw aa.create("idb-open",{originalErrorMessage:n.message})})),LC}function FC(){return(FC=(0,re.A)(function*(n){try{const t=(yield X6()).transaction(n_),r=yield t.objectStore(n_).get(t8(n));return yield t.done,r}catch(e){if(e instanceof du)hu.warn(e.message);else{const t=aa.create("idb-get",{originalErrorMessage:e?.message});hu.warn(t.message)}}})).apply(this,arguments)}function e8(n,e){return VC.apply(this,arguments)}function VC(){return(VC=(0,re.A)(function*(n,e){try{const r=(yield X6()).transaction(n_,"readwrite");yield r.objectStore(n_).put(e,t8(n)),yield r.done}catch(t){if(t instanceof du)hu.warn(t.message);else{const r=aa.create("idb-set",{originalErrorMessage:t?.message});hu.warn(r.message)}}})).apply(this,arguments)}function t8(n){return`${n.name}!${n.options.appId}`}class Mle{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ole(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return(0,re.A)(function*(){var t,r;try{const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=n8();return null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===s||e._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=2592e6}),e._storage.overwrite(e._heartbeatsCache))}catch(i){hu.warn(i)}})()}getHeartbeatsHeader(){var e=this;return(0,re.A)(function*(){var t;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=n8(),{heartbeatsToSend:i,unsentEntries:o}=function kle(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),r8(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),r8(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=C0(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s}catch(r){return hu.warn(r),""}})()}}function n8(){return(new Date).toISOString().substring(0,10)}class Ole{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,re.A)(function*(){return!!function V6(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function vae(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,re.A)(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function Ple(n){return FC.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return(0,re.A)(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return e8(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return(0,re.A)(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return e8(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function r8(n){return C0(JSON.stringify({version:2,heartbeats:n})).length}!function Lle(n){tp(new Bd("platform-logger",e=>new Kae(e),"PRIVATE")),tp(new Bd("heartbeat",e=>new Mle(e),"PRIVATE")),ks(x0,kC,n),ks(x0,kC,"esm2017"),ks("fire-js","")}(""),ks("firebase","10.14.1","app");class Ule extends Mi{constructor(e,t){super()}schedule(e,t=0){return this}}const R0={setInterval(n,e,...t){const{delegate:r}=R0;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=R0;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class i8 extends Ule{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return R0.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&R0.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Yu(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const o8={now:()=>(o8.delegate||Date).now(),delegate:void 0};class r_{constructor(e,t=r_.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}r_.now=o8.now;class s8 extends r_{constructor(e,t=r_.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const zle=new class jle extends s8{}(class Ble extends i8{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),UC=new s8(i8),$le=UC,BC=new Af("ANGULARFIRE2_VERSION");const jC=(n,e)=>{const t=e?[e]:J6(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class qle{constructor(){return jC(Gle)}}const Gle="app-check";function np(){}class l8{zone;delegate;constructor(e,t=zle){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},t,r)}}class Hle{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",np,{},np,np)),t.pipe(Oi({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let u8=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new l8(Zone.current)),this.insideAngular=t.run(()=>new l8(Zone.current,UC)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(pt(Un))};static \u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rp(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function qd(n){return rp().ngZone.run(()=>n())}function Kle(n){return function Qle(n){return function(t){return(t=t.lift(new Hle(n.ngZone))).pipe(my(n.outsideAngular),gy(n.insideAngular))}}(rp())(n)}const Yle=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),qd(()=>n.apply(void 0,r))},hl=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||=qd(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",np,{},np,np))),r[o]=Yle(r[o],t));const i=function Wle(n){return rp().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof or){const o=rp();return i.pipe(my(o.outsideAngular),gy(o.insideAngular))}return qd(()=>i)}return i instanceof or?i.pipe(Kle):i instanceof Promise?qd(()=>new Promise((o,s)=>i.then(a=>qd(()=>o(a)),a=>qd(()=>s(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:qd(()=>i)};class i_{constructor(e){return e}}class c8{constructor(){return J6()}}const zC=new at("angularfire2._apps"),Jle={provide:i_,useFactory:function Zle(n){return n&&1===n.length?n[0]:new i_(Z6())},deps:[[new ta,zC]]},Xle={provide:c8,deps:[[new ta,zC]]};function eue(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new i_(r)}}let tue=(()=>{class n{constructor(t){ks("angularfire",BC.full,"core"),ks("angularfire",BC.full,"app"),ks("angular",Ik.full,t.toString())}static \u0275fac=function(r){return new(r||n)(pt(Jl))};static \u0275mod=ts({type:n});static \u0275inj=Po({providers:[Jle,Xle]})}return n})();function nue(n,...e){return{ngModule:tue,providers:[{provide:zC,useFactory:eue(n),multi:!0,deps:[Un,po,u8,...e]}]}}const rue=hl(Y6,!0);const iue=function d8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},h8=new Jm("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),M0=new SC("@firebase/auth");function k0(n,...e){M0.logLevel<=_n.ERROR&&M0.error(`Auth (${N0}): ${n}`,...e)}function ds(n,...e){throw qC(n,...e)}function la(n,...e){return qC(n,...e)}function $C(n,e,t){const r=Object.assign(Object.assign({},iue()),{[e]:t});return new Jm("auth","Firebase",r).create(e,{appName:n.name})}function Li(n){return $C(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qC(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return h8.create(n,...e)}function Ye(n,e,...t){if(!n)throw qC(e,...t)}function fl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw k0(e),new Error(e)}function pc(n,e){n||fl(e)}function f8(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function sue(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function GC(){return"http:"===f8()||"https:"===f8()}()||function mae(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class s_{constructor(e,t){this.shortDelay=e,this.longDelay=t,pc(t>e,"Short delay should be less than long delay!"),this.isMobile=function hae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zi())}()||function _ae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return sue()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class p8{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void fl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void fl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void fl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},uue=new s_(3e4,6e4);function wr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ir(n,e,t,r){return WC.apply(this,arguments)}function WC(){return(WC=(0,re.A)(function*(n,e,t,r,i={}){return g8(n,i,(0,re.A)(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=EC(Object.assign({key:n.config.apiKey},s)).slice(1),l=yield n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const u=Object.assign({method:e,headers:l},o);return function gae(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(u.referrerPolicy="no-referrer"),p8.fetch()(m8(n,n.config.apiHost,t,a),u)}))})).apply(this,arguments)}function g8(n,e,t){return KC.apply(this,arguments)}function KC(){return(KC=(0,re.A)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},lue),e);try{const i=new due(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw a_(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw a_(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===l)throw a_(n,"email-already-in-use",s);if("USER_DISABLED"===l)throw a_(n,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw $C(n,c,u);ds(n,c)}}catch(i){if(i instanceof du)throw i;ds(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function m8(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function HC(n,e){pc(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class due{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(la(this.auth,"network-request-failed")),uue.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function a_(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=la(n,e,r);return i.customData._tokenResponse=t,i}function JC(){return(JC=(0,re.A)(function*(n,e){return Ir(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function w8(n,e){return e5.apply(this,arguments)}function e5(){return(e5=(0,re.A)(function*(n,e){return Ir(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function l_(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function t5(){return(t5=(0,re.A)(function*(n,e=!1){const t=Ji(n),r=yield t.getIdToken(e),i=O0(r);Ye(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:l_(n5(i.auth_time)),issuedAtTime:l_(n5(i.iat)),expirationTime:l_(n5(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function n5(n){return 1e3*Number(n)}function O0(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return k0("JWT malformed, contained fewer than 3 sections"),null;try{const i=T0(t);return i?JSON.parse(i):(k0("Failed to decode base64 JWT payload"),null)}catch(i){return k0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function I8(n){const e=O0(n);return Ye(e,"internal-error"),Ye(typeof e.exp<"u","internal-error"),Ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function pu(n,e){return r5.apply(this,arguments)}function r5(){return(r5=(0,re.A)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof du&&function mue({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class _ue{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,re.A)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,re.A)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class i5{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=l_(this.lastLoginAt),this.creationTime=l_(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function u_(n){return o5.apply(this,arguments)}function o5(){return(o5=(0,re.A)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield pu(n,w8(t,{idToken:r}));Ye(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?E8(o.providerUserInfo):[],a=function yue(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,s),c=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new i5(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(n,d)})).apply(this,arguments)}function s5(){return(s5=(0,re.A)(function*(n){const e=Ji(n);yield u_(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function E8(n){return n.map(e=>{var{providerId:t}=e,r=py(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function a5(){return(a5=(0,re.A)(function*(n,e){const t=yield g8(n,{},(0,re.A)(function*(){const r=EC({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=m8(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",p8.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function l5(){return(l5=(0,re.A)(function*(n,e){return Ir(n,"POST","/v2/accounts:revokeToken",wr(n,e))})).apply(this,arguments)}class op{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ye(e.idToken,"internal-error"),Ye(typeof e.idToken<"u","internal-error"),Ye(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):I8(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ye(0!==e.length,"internal-error");const t=I8(e);this.updateTokensAndExpiration(e,null,t)}getToken(e){var t=this;return(0,re.A)(function*(r,i=!1){return i||!t.accessToken||t.isExpired?(Ye(t.refreshToken,r,"user-token-expired"),t.refreshToken?(yield t.refresh(r,t.refreshToken),t.accessToken):null):t.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,re.A)(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function bue(n,e){return a5.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new op;return r&&(Ye("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(Ye("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(Ye("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new op,this.toJSON())}_performRefresh(){return fl("not implemented")}}function gc(n,e){Ye("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class gu{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=py(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _ue(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new i5(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,re.A)(function*(){const r=yield pu(t,t.stsTokenManager.getToken(t.auth,e));return Ye(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function gue(n){return t5.apply(this,arguments)}(this,e)}reload(){return function vue(n){return s5.apply(this,arguments)}(this)}_assign(e){this!==e&&(Ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e){var t=this;return(0,re.A)(function*(r,i=!1){let o=!1;r.idToken&&r.idToken!==t.stsTokenManager.accessToken&&(t.stsTokenManager.updateFromServerResponse(r),o=!0),i&&(yield u_(t)),yield t.auth._persistUserIfCurrent(t),o&&t.auth._notifyListenersIfCurrent(t)}).apply(this,arguments)}delete(){var e=this;return(0,re.A)(function*(){if($d(e.auth.app))return Promise.reject(Li(e.auth));const t=yield e.getIdToken();return yield pu(e,function fue(n,e){return JC.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,l,u,c;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,g=null!==(i=t.email)&&void 0!==i?i:void 0,p=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,b=null!==(s=t.photoURL)&&void 0!==s?s:void 0,w=null!==(a=t.tenantId)&&void 0!==a?a:void 0,E=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,A=null!==(u=t.createdAt)&&void 0!==u?u:void 0,M=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:B,emailVerified:F,isAnonymous:X,providerData:se,stsTokenManager:z}=t;Ye(B&&z,e,"internal-error");const D=op.fromJSON(this.name,z);Ye("string"==typeof B,e,"internal-error"),gc(d,e.name),gc(g,e.name),Ye("boolean"==typeof F,e,"internal-error"),Ye("boolean"==typeof X,e,"internal-error"),gc(p,e.name),gc(b,e.name),gc(w,e.name),gc(E,e.name),gc(A,e.name),gc(M,e.name);const S=new gu({uid:B,auth:e,email:g,emailVerified:F,displayName:d,isAnonymous:X,photoURL:b,phoneNumber:p,tenantId:w,stsTokenManager:D,createdAt:A,lastLoginAt:M});return se&&Array.isArray(se)&&(S.providerData=se.map(V=>Object.assign({},V))),E&&(S._redirectEventId=E),S}static _fromIdTokenResponse(e,t){return(0,re.A)(function*(r,i,o=!1){const s=new op;s.updateFromServerResponse(i);const a=new gu({uid:i.localId,auth:r,stsTokenManager:s,isAnonymous:o});return yield u_(a),a}).apply(this,arguments)}static _fromGetAccountInfoResponse(e,t,r){return(0,re.A)(function*(){const i=t.users[0];Ye(void 0!==i.localId,"internal-error");const o=void 0!==i.providerUserInfo?E8(i.providerUserInfo):[],s=!(i.email&&i.passwordHash||o?.length),a=new op;a.updateFromIdToken(r);const l=new gu({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new i5(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||o?.length)};return Object.assign(l,u),l})()}}const A8=new Map;function mu(n){pc(n instanceof Function,"Expected a class definition");let e=A8.get(n);return e?(pc(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,A8.set(n,e),e)}const C8=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,re.A)(function*(){return!0})()}_set(t,r){var i=this;return(0,re.A)(function*(){i.storage[t]=r})()}_get(t){var r=this;return(0,re.A)(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return(0,re.A)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function L0(n,e,t){return`firebase:${n}:${e}:${t}`}class sp{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=L0(this.userKey,i.apiKey,o),this.fullPersistenceKey=L0("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,re.A)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?gu._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,re.A)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t){return(0,re.A)(function*(r,i,o="authUser"){if(!i.length)return new sp(mu(C8),r,o);const s=(yield Promise.all(i.map(function(){var d=(0,re.A)(function*(g){if(yield g._isAvailable())return g});return function(g){return d.apply(this,arguments)}}()))).filter(d=>d);let a=s[0]||mu(C8);const l=L0(o,r.config.apiKey,r.name);let u=null;for(const d of i)try{const g=yield d._get(l);if(g){const p=gu._fromJSON(r,g);d!==a&&(u=p),a=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return a._shouldAllowMigration&&c.length?(a=c[0],u&&(yield a._set(l,u.toJSON())),yield Promise.all(i.map(function(){var d=(0,re.A)(function*(g){if(g!==a)try{yield g._remove(l)}catch{}});return function(g){return d.apply(this,arguments)}}())),new sp(a,r,o)):new sp(a,r,o)}).apply(this,arguments)}}function T8(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function P8(n=Zi()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function S8(n=Zi()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function R8(n=Zi()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function M8(n=Zi()){return/webos/i.test(n)}(e))return"Webos";if(function D8(n=Zi()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function x8(n=Zi()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function N8(n=Zi()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function k8(n,e=[]){let t;switch(n){case"Browser":t=T8(Zi());break;case"Worker":t=`${T8(Zi())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${N0}/${r}`}class Aue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,re.A)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function c5(){return(c5=(0,re.A)(function*(n,e={}){return Ir(n,"GET","/v2/passwordPolicy",wr(n,e))})).apply(this,arguments)}class Sue{constructor(e){var t,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=null===(t=l.meetsMinPasswordLength)||void 0===t||t),l.isValid&&(l.isValid=null===(r=l.meetsMaxPasswordLength)||void 0===r||r),l.isValid&&(l.isValid=null===(i=l.containsLowercaseLetter)||void 0===i||i),l.isValid&&(l.isValid=null===(o=l.containsUppercaseLetter)||void 0===o||o),l.isValid&&(l.isValid=null===(s=l.containsNumericCharacter)||void 0===s||s),l.isValid&&(l.isValid=null===(a=l.containsNonAlphanumericCharacter)||void 0===a||a),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class Due{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O8(this),this.idTokenSubscription=new O8(this),this.beforeStateQueue=new Aue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h8,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=mu(t)),this._initializationPromise=this.queue((0,re.A)(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield sp.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,re.A)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return(0,re.A)(function*(){try{const r=yield w8(t,{idToken:e}),i=yield gu._fromGetAccountInfoResponse(t,r,e);yield t.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return(0,re.A)(function*(){var r;if($d(t.app)){const a=t.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(a).then(l,l))}):t.directlySetCurrentUser(null)}const i=yield t.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=o?._redirectEventId,u=yield t.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(o=u.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return Ye(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return(0,re.A)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,re.A)(function*(){try{yield u_(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function aue(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,re.A)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,re.A)(function*(){if($d(t.app))return Promise.reject(Li(t));const r=e?Ji(e):null;return r&&Ye(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e){var t=this;return(0,re.A)(function*(r,i=!1){if(!t._deleted)return r&&Ye(t.tenantId===r.tenantId,t,"tenant-id-mismatch"),i||(yield t.beforeStateQueue.runMiddleware(r)),t.queue((0,re.A)(function*(){yield t.directlySetCurrentUser(r),t.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var e=this;return(0,re.A)(function*(){return $d(e.app)?Promise.reject(Li(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return $d(this.app)?Promise.reject(Li(this)):this.queue((0,re.A)(function*(){yield t.assertedPersistence.setPersistence(mu(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return(0,re.A)(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,re.A)(function*(){const t=yield function Cue(n){return c5.apply(this,arguments)}(e),r=new Sue(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jm("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return(0,re.A)(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function wue(n,e){return l5.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,re.A)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,re.A)(function*(){if(!t.redirectPersistenceManager){const r=e&&mu(e)||t._popupRedirectResolver;Ye(r,t,"argument-error"),t.redirectPersistenceManager=yield sp.create(t,[mu(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,re.A)(function*(){var r,i;return t._isInitialized&&(yield t.queue((0,re.A)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,re.A)(function*(){if(e===t.currentUser)return t.queue((0,re.A)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ye(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof t){const l=e.addObserver(t,r,i);return()=>{s=!0,l()}}{const l=e.addObserver(t);return()=>{s=!0,l()}}}directlySetCurrentUser(e){var t=this;return(0,re.A)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=k8(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,re.A)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return(0,re.A)(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function oue(n,...e){M0.logLevel<=_n.WARN&&M0.warn(`Auth (${N0}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class O8{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Iae(n,e){const t=new Eae(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let c_={loadJS:()=>(0,re.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};(function L8(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new s_(3e4,6e4),new s_(2e3,1e4),new s_(3e4,6e4),new s_(5e3,15e3),encodeURIComponent("fac");var gV="@firebase/auth";class Rde{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,re.A)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}S0(),function xue(n){c_=n}({loadJS:n=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=la("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",function Vde(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function kde(n){tp(new Bd("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ye(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k8(n)},u=new Due(r,i,o,l);return function Fue(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(mu);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),tp(new Bd("auth-internal",e=>{const t=function ii(n){return Ji(n)}(e.getProvider("auth").getImmediate());return new Rde(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ks(gV,"1.7.9",function Mde(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),ks(gV,"1.7.9","esm2017")}("Browser");class yV{constructor(){return jC("auth")}}var Wd,IV,bV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wV={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(z,D,S){S||(S=0);var V=Array(16);if("string"==typeof D)for(var C=0;16>C;++C)V[C]=D.charCodeAt(S++)|D.charCodeAt(S++)<<8|D.charCodeAt(S++)<<16|D.charCodeAt(S++)<<24;else for(C=0;16>C;++C)V[C]=D[S++]|D[S++]<<8|D[S++]<<16|D[S++]<<24;var x=z.g[3],P=(D=z.g[0])+(x^(S=z.g[1])&((C=z.g[2])^x))+V[0]+3614090360&4294967295;P=(S=(C=(x=(D=(S=(C=(x=(D=(S=(C=(x=(D=(S=(C=(x=(D=(S=(C=(x=(D=(S=(C=(x=(D=(S=(C=(x=(D=(S=(C=(x=(D=(S=(C=(x=(D=(S=(C=(x=(D=(S=(C=(x=(D=(S=(C=(x=(D=(S=(C=(x=(D=(S=(C=(x=(D=(S=(C=(x=(D=S+(P<<7&4294967295|P>>>25))+((P=x+(C^D&(S^C))+V[1]+3905402710&4294967295)<<12&4294967295|P>>>20))+((P=C+(S^x&(D^S))+V[2]+606105819&4294967295)<<17&4294967295|P>>>15))+((P=S+(D^C&(x^D))+V[3]+3250441966&4294967295)<<22&4294967295|P>>>10))+((P=D+(x^S&(C^x))+V[4]+4118548399&4294967295)<<7&4294967295|P>>>25))+((P=x+(C^D&(S^C))+V[5]+1200080426&4294967295)<<12&4294967295|P>>>20))+((P=C+(S^x&(D^S))+V[6]+2821735955&4294967295)<<17&4294967295|P>>>15))+((P=S+(D^C&(x^D))+V[7]+4249261313&4294967295)<<22&4294967295|P>>>10))+((P=D+(x^S&(C^x))+V[8]+1770035416&4294967295)<<7&4294967295|P>>>25))+((P=x+(C^D&(S^C))+V[9]+2336552879&4294967295)<<12&4294967295|P>>>20))+((P=C+(S^x&(D^S))+V[10]+4294925233&4294967295)<<17&4294967295|P>>>15))+((P=S+(D^C&(x^D))+V[11]+2304563134&4294967295)<<22&4294967295|P>>>10))+((P=D+(x^S&(C^x))+V[12]+1804603682&4294967295)<<7&4294967295|P>>>25))+((P=x+(C^D&(S^C))+V[13]+4254626195&4294967295)<<12&4294967295|P>>>20))+((P=C+(S^x&(D^S))+V[14]+2792965006&4294967295)<<17&4294967295|P>>>15))+((P=S+(D^C&(x^D))+V[15]+1236535329&4294967295)<<22&4294967295|P>>>10))+((P=D+(C^x&(S^C))+V[1]+4129170786&4294967295)<<5&4294967295|P>>>27))+((P=x+(S^C&(D^S))+V[6]+3225465664&4294967295)<<9&4294967295|P>>>23))+((P=C+(D^S&(x^D))+V[11]+643717713&4294967295)<<14&4294967295|P>>>18))+((P=S+(x^D&(C^x))+V[0]+3921069994&4294967295)<<20&4294967295|P>>>12))+((P=D+(C^x&(S^C))+V[5]+3593408605&4294967295)<<5&4294967295|P>>>27))+((P=x+(S^C&(D^S))+V[10]+38016083&4294967295)<<9&4294967295|P>>>23))+((P=C+(D^S&(x^D))+V[15]+3634488961&4294967295)<<14&4294967295|P>>>18))+((P=S+(x^D&(C^x))+V[4]+3889429448&4294967295)<<20&4294967295|P>>>12))+((P=D+(C^x&(S^C))+V[9]+568446438&4294967295)<<5&4294967295|P>>>27))+((P=x+(S^C&(D^S))+V[14]+3275163606&4294967295)<<9&4294967295|P>>>23))+((P=C+(D^S&(x^D))+V[3]+4107603335&4294967295)<<14&4294967295|P>>>18))+((P=S+(x^D&(C^x))+V[8]+1163531501&4294967295)<<20&4294967295|P>>>12))+((P=D+(C^x&(S^C))+V[13]+2850285829&4294967295)<<5&4294967295|P>>>27))+((P=x+(S^C&(D^S))+V[2]+4243563512&4294967295)<<9&4294967295|P>>>23))+((P=C+(D^S&(x^D))+V[7]+1735328473&4294967295)<<14&4294967295|P>>>18))+((P=S+(x^D&(C^x))+V[12]+2368359562&4294967295)<<20&4294967295|P>>>12))+((P=D+(S^C^x)+V[5]+4294588738&4294967295)<<4&4294967295|P>>>28))+((P=x+(D^S^C)+V[8]+2272392833&4294967295)<<11&4294967295|P>>>21))+((P=C+(x^D^S)+V[11]+1839030562&4294967295)<<16&4294967295|P>>>16))+((P=S+(C^x^D)+V[14]+4259657740&4294967295)<<23&4294967295|P>>>9))+((P=D+(S^C^x)+V[1]+2763975236&4294967295)<<4&4294967295|P>>>28))+((P=x+(D^S^C)+V[4]+1272893353&4294967295)<<11&4294967295|P>>>21))+((P=C+(x^D^S)+V[7]+4139469664&4294967295)<<16&4294967295|P>>>16))+((P=S+(C^x^D)+V[10]+3200236656&4294967295)<<23&4294967295|P>>>9))+((P=D+(S^C^x)+V[13]+681279174&4294967295)<<4&4294967295|P>>>28))+((P=x+(D^S^C)+V[0]+3936430074&4294967295)<<11&4294967295|P>>>21))+((P=C+(x^D^S)+V[3]+3572445317&4294967295)<<16&4294967295|P>>>16))+((P=S+(C^x^D)+V[6]+76029189&4294967295)<<23&4294967295|P>>>9))+((P=D+(S^C^x)+V[9]+3654602809&4294967295)<<4&4294967295|P>>>28))+((P=x+(D^S^C)+V[12]+3873151461&4294967295)<<11&4294967295|P>>>21))+((P=C+(x^D^S)+V[15]+530742520&4294967295)<<16&4294967295|P>>>16))+((P=S+(C^x^D)+V[2]+3299628645&4294967295)<<23&4294967295|P>>>9))+((P=D+(C^(S|~x))+V[0]+4096336452&4294967295)<<6&4294967295|P>>>26))+((P=x+(S^(D|~C))+V[7]+1126891415&4294967295)<<10&4294967295|P>>>22))+((P=C+(D^(x|~S))+V[14]+2878612391&4294967295)<<15&4294967295|P>>>17))+((P=S+(x^(C|~D))+V[5]+4237533241&4294967295)<<21&4294967295|P>>>11))+((P=D+(C^(S|~x))+V[12]+1700485571&4294967295)<<6&4294967295|P>>>26))+((P=x+(S^(D|~C))+V[3]+2399980690&4294967295)<<10&4294967295|P>>>22))+((P=C+(D^(x|~S))+V[10]+4293915773&4294967295)<<15&4294967295|P>>>17))+((P=S+(x^(C|~D))+V[1]+2240044497&4294967295)<<21&4294967295|P>>>11))+((P=D+(C^(S|~x))+V[8]+1873313359&4294967295)<<6&4294967295|P>>>26))+((P=x+(S^(D|~C))+V[15]+4264355552&4294967295)<<10&4294967295|P>>>22))+((P=C+(D^(x|~S))+V[6]+2734768916&4294967295)<<15&4294967295|P>>>17))+((P=S+(x^(C|~D))+V[13]+1309151649&4294967295)<<21&4294967295|P>>>11))+((x=(D=S+((P=D+(C^(S|~x))+V[4]+4149444226&4294967295)<<6&4294967295|P>>>26))+((P=x+(S^(D|~C))+V[11]+3174756917&4294967295)<<10&4294967295|P>>>22))^((C=x+((P=C+(D^(x|~S))+V[2]+718787259&4294967295)<<15&4294967295|P>>>17))|~D))+V[9]+3951481745&4294967295,z.g[0]=z.g[0]+D&4294967295,z.g[1]=z.g[1]+(C+(P<<21&4294967295|P>>>11))&4294967295,z.g[2]=z.g[2]+C&4294967295,z.g[3]=z.g[3]+x&4294967295}function s(z,D){this.h=D;for(var S=[],V=!0,C=z.length-1;0<=C;C--){var x=0|z[C];V&&x==D||(S[C]=x,V=!1)}this.g=S}(function e(z,D){function S(){}S.prototype=D.prototype,z.D=D.prototype,z.prototype=new S,z.prototype.constructor=z,z.C=function(V,C,x){for(var P=Array(arguments.length-2),te=2;te<arguments.length;te++)P[te-2]=arguments[te];return D.prototype[C].apply(V,P)}})(r,function t(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(z,D){void 0===D&&(D=z.length);for(var S=D-this.blockSize,V=this.B,C=this.h,x=0;x<D;){if(0==C)for(;x<=S;)i(this,z,x),x+=this.blockSize;if("string"==typeof z){for(;x<D;)if(V[C++]=z.charCodeAt(x++),C==this.blockSize){i(this,V),C=0;break}}else for(;x<D;)if(V[C++]=z[x++],C==this.blockSize){i(this,V),C=0;break}}this.h=C,this.o+=D},r.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var D=1;D<z.length-8;++D)z[D]=0;var S=8*this.o;for(D=z.length-8;D<z.length;++D)z[D]=255&S,S/=256;for(this.u(z),z=Array(16),D=S=0;4>D;++D)for(var V=0;32>V;V+=8)z[S++]=this.g[D]>>>V&255;return z};var a={};function l(z){return-128<=z&&128>z?function o(z,D){var S=a;return Object.prototype.hasOwnProperty.call(S,z)?S[z]:S[z]=D(z)}(z,function(D){return new s([0|D],0>D?-1:0)}):new s([0|z],0>z?-1:0)}function u(z){if(isNaN(z)||!isFinite(z))return d;if(0>z)return E(u(-z));for(var D=[],S=1,V=0;z>=S;V++)D[V]=z/S|0,S*=4294967296;return new s(D,0)}var d=l(0),g=l(1),p=l(16777216);function b(z){if(0!=z.h)return!1;for(var D=0;D<z.g.length;D++)if(0!=z.g[D])return!1;return!0}function w(z){return-1==z.h}function E(z){for(var D=z.g.length,S=[],V=0;V<D;V++)S[V]=~z.g[V];return new s(S,~z.h).add(g)}function A(z,D){return z.add(E(D))}function M(z,D){for(;(65535&z[D])!=z[D];)z[D+1]+=z[D]>>>16,z[D]&=65535,D++}function B(z,D){this.g=z,this.h=D}function F(z,D){if(b(D))throw Error("division by zero");if(b(z))return new B(d,d);if(w(z))return D=F(E(z),D),new B(E(D.g),E(D.h));if(w(D))return D=F(z,E(D)),new B(E(D.g),D.h);if(30<z.g.length){if(w(z)||w(D))throw Error("slowDivide_ only works with positive integers.");for(var S=g,V=D;0>=V.l(z);)S=X(S),V=X(V);var C=se(S,1),x=se(V,1);for(V=se(V,2),S=se(S,2);!b(V);){var P=x.add(V);0>=P.l(z)&&(C=C.add(S),x=P),V=se(V,1),S=se(S,1)}return D=A(z,C.j(D)),new B(C,D)}for(C=d;0<=z.l(D);){for(S=Math.max(1,Math.floor(z.m()/D.m())),V=48>=(V=Math.ceil(Math.log(S)/Math.LN2))?1:Math.pow(2,V-48),P=(x=u(S)).j(D);w(P)||0<P.l(z);)P=(x=u(S-=V)).j(D);b(x)&&(x=g),C=C.add(x),z=A(z,P)}return new B(C,z)}function X(z){for(var D=z.g.length+1,S=[],V=0;V<D;V++)S[V]=z.i(V)<<1|z.i(V-1)>>>31;return new s(S,z.h)}function se(z,D){var S=D>>5;D%=32;for(var V=z.g.length-S,C=[],x=0;x<V;x++)C[x]=0<D?z.i(x+S)>>>D|z.i(x+S+1)<<32-D:z.i(x+S);return new s(C,z.h)}(n=s.prototype).m=function(){if(w(this))return-E(this).m();for(var z=0,D=1,S=0;S<this.g.length;S++){var V=this.i(S);z+=(0<=V?V:4294967296+V)*D,D*=4294967296}return z},n.toString=function(z){if(2>(z=z||10)||36<z)throw Error("radix out of range: "+z);if(b(this))return"0";if(w(this))return"-"+E(this).toString(z);for(var D=u(Math.pow(z,6)),S=this,V="";;){var C=F(S,D).g,x=((0<(S=A(S,C.j(D))).g.length?S.g[0]:S.h)>>>0).toString(z);if(b(S=C))return x+V;for(;6>x.length;)x="0"+x;V=x+V}},n.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h},n.l=function(z){return w(z=A(this,z))?-1:b(z)?0:1},n.abs=function(){return w(this)?E(this):this},n.add=function(z){for(var D=Math.max(this.g.length,z.g.length),S=[],V=0,C=0;C<=D;C++){var x=V+(65535&this.i(C))+(65535&z.i(C)),P=(x>>>16)+(this.i(C)>>>16)+(z.i(C)>>>16);V=P>>>16,S[C]=(P&=65535)<<16|(x&=65535)}return new s(S,-2147483648&S[S.length-1]?-1:0)},n.j=function(z){if(b(this)||b(z))return d;if(w(this))return w(z)?E(this).j(E(z)):E(E(this).j(z));if(w(z))return E(this.j(E(z)));if(0>this.l(p)&&0>z.l(p))return u(this.m()*z.m());for(var D=this.g.length+z.g.length,S=[],V=0;V<2*D;V++)S[V]=0;for(V=0;V<this.g.length;V++)for(var C=0;C<z.g.length;C++){var x=this.i(V)>>>16,P=65535&this.i(V),te=z.i(C)>>>16,me=65535&z.i(C);S[2*V+2*C]+=P*me,M(S,2*V+2*C),S[2*V+2*C+1]+=x*me,M(S,2*V+2*C+1),S[2*V+2*C+1]+=P*te,M(S,2*V+2*C+1),S[2*V+2*C+2]+=x*te,M(S,2*V+2*C+2)}for(V=0;V<D;V++)S[V]=S[2*V+1]<<16|S[2*V];for(V=D;V<2*D;V++)S[V]=0;return new s(S,0)},n.A=function(z){return F(this,z).h},n.and=function(z){for(var D=Math.max(this.g.length,z.g.length),S=[],V=0;V<D;V++)S[V]=this.i(V)&z.i(V);return new s(S,this.h&z.h)},n.or=function(z){for(var D=Math.max(this.g.length,z.g.length),S=[],V=0;V<D;V++)S[V]=this.i(V)|z.i(V);return new s(S,this.h|z.h)},n.xor=function(z){for(var D=Math.max(this.g.length,z.g.length),S=[],V=0;V<D;V++)S[V]=this.i(V)^z.i(V);return new s(S,this.h^z.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,IV=wV.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=function c(z,D){if(0==z.length)throw Error("number format error: empty string");if(2>(D=D||10)||36<D)throw Error("radix out of range: "+D);if("-"==z.charAt(0))return E(c(z.substring(1),D));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=u(Math.pow(D,8)),V=d,C=0;C<z.length;C+=8){var x=Math.min(8,z.length-C),P=parseInt(z.substring(C,C+x),D);8>x?(x=u(Math.pow(D,x)),V=V.j(x).add(u(P))):V=(V=V.j(S)).add(u(P))}return V},Wd=wV.Integer=s}).apply(typeof bV<"u"?bV:typeof self<"u"?self:typeof window<"u"?window:{});var EV,v_,AV,Q0,eS,CV,TV,SV,K0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yu={};(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(f,y,T){return f==Array.prototype||f==Object.prototype||(f[y]=T.value),f},r=function t(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof K0&&K0];for(var y=0;y<f.length;++y){var T=f[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}(this);!function i(f,y){if(y)e:{var T=r;f=f.split(".");for(var $=0;$<f.length-1;$++){var ue=f[$];if(!(ue in T))break e;T=T[ue]}(y=y($=T[f=f[f.length-1]]))!=$&&null!=y&&e(T,f,{configurable:!0,writable:!0,value:y})}}("Array.prototype.values",function(f){return f||function(){return function o(f,y){f instanceof String&&(f+="");var T=0,$=!1,ue={next:function(){if(!$&&T<f.length){var be=T++;return{value:y(be,f[be]),done:!1}}return $=!0,{done:!0,value:void 0}}};return ue[Symbol.iterator]=function(){return ue},ue}(this,function(y,T){return T})}});var s=s||{},a=this||self;function l(f){var y=typeof f;return"array"==(y="object"!=y?y:f?Array.isArray(f)?"array":y:"null")||"object"==y&&"number"==typeof f.length}function u(f){var y=typeof f;return"object"==y&&null!=f||"function"==y}function c(f,y,T){return f.call.apply(f.bind,arguments)}function d(f,y,T){if(!f)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var ue=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ue,$),f.apply(y,ue)}}return function(){return f.apply(y,arguments)}}function g(f,y,T){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?c:d).apply(null,arguments)}function p(f,y){var T=Array.prototype.slice.call(arguments,1);return function(){var $=T.slice();return $.push.apply($,arguments),f.apply(this,$)}}function b(f,y){function T(){}T.prototype=y.prototype,f.aa=y.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function($,ue,be){for(var We=Array(arguments.length-2),Nn=2;Nn<arguments.length;Nn++)We[Nn-2]=arguments[Nn];return y.prototype[ue].apply($,We)}}function w(f){const y=f.length;if(0<y){const T=Array(y);for(let $=0;$<y;$++)T[$]=f[$];return T}return[]}function E(f,y){for(let T=1;T<arguments.length;T++){const $=arguments[T];if(l($)){const ue=f.length||0,be=$.length||0;f.length=ue+be;for(let We=0;We<be;We++)f[ue+We]=$[We]}else f.push($)}}function M(f){return/^[\s\xa0]*$/.test(f)}function B(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function F(f){return F[" "](f),f}F[" "]=function(){};var X=!(-1==B().indexOf("Gecko")||-1!=B().toLowerCase().indexOf("webkit")&&-1==B().indexOf("Edge")||-1!=B().indexOf("Trident")||-1!=B().indexOf("MSIE")||-1!=B().indexOf("Edge"));function se(f,y,T){for(const $ in f)y.call(T,f[$],$,f)}function D(f){const y={};for(const T in f)y[T]=f[T];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(f,y){let T,$;for(let ue=1;ue<arguments.length;ue++){for(T in $=arguments[ue],$)f[T]=$[T];for(let be=0;be<S.length;be++)T=S[be],Object.prototype.hasOwnProperty.call($,T)&&(f[T]=$[T])}}function C(f){var y=1;f=f.split(":");const T=[];for(;0<y&&f.length;)T.push(f.shift()),y--;return f.length&&T.push(f.join(":")),T}function x(f){a.setTimeout(()=>{throw f},0)}function P(){var f=Ce;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}var me=new class A{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}(()=>new Ae,f=>f.reset());class Ae{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,pe=!1,Ce=new class te{constructor(){this.h=this.g=null}add(y,T){const $=me.get();$.set(y,T),this.h?this.h.next=$:this.g=$,this.h=$}},Ge=()=>{const f=a.Promise.resolve(void 0);Ee=()=>{f.then(Oe)}};var Oe=()=>{for(var f;f=P();){try{f.h.call(f.g)}catch(T){x(T)}var y=me;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}pe=!1};function U(){this.s=this.s,this.C=this.C}function W(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},W.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};a.addEventListener("test",T,y),a.removeEventListener("test",T,y)}catch{}return f}();function ie(f,y){if(W.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,$=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(X){e:{try{F(y.nodeName);var ue=!0;break e}catch{}ue=!1}ue||(y=null)}}else"mouseover"==T?y=f.fromElement:"mouseout"==T&&(y=f.toElement);this.relatedTarget=y,$?(this.clientX=void 0!==$.clientX?$.clientX:$.pageX,this.clientY=void 0!==$.clientY?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType="string"==typeof f.pointerType?f.pointerType:le[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ie.aa.h.call(this)}}b(ie,W);var le={2:"touch",3:"pen",4:"mouse"};ie.prototype.h=function(){ie.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),ye=0;function Ie(f,y,T,$,ue){this.listener=f,this.proxy=null,this.src=y,this.type=T,this.capture=!!$,this.ha=ue,this.key=++ye,this.da=this.fa=!1}function Pe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function De(f){this.src=f,this.g={},this.h=0}function Qe(f,y){var T=y.type;if(T in f.g){var be,$=f.g[T],ue=Array.prototype.indexOf.call($,y,void 0);(be=0<=ue)&&Array.prototype.splice.call($,ue,1),be&&(Pe(y),0==f.g[T].length&&(delete f.g[T],f.h--))}}function Ke(f,y,T,$){for(var ue=0;ue<f.length;++ue){var be=f[ue];if(!be.da&&be.listener==y&&be.capture==!!T&&be.ha==$)return ue}return-1}De.prototype.add=function(f,y,T,$,ue){var be=f.toString();(f=this.g[be])||(f=this.g[be]=[],this.h++);var We=Ke(f,y,$,ue);return-1<We?(y=f[We],T||(y.fa=!1)):((y=new Ie(y,this.src,be,!!$,ue)).fa=T,f.push(y)),y};var Te="closure_lm_"+(1e6*Math.random()|0),J={};function sn(f,y,T,$,ue){if($&&$.once)return $e(f,y,T,$,ue);if(Array.isArray(y)){for(var be=0;be<y.length;be++)sn(f,y[be],T,$,ue);return null}return T=Ot(T),f&&f[de]?f.K(y,T,u($)?!!$.capture:!!$,ue):jt(f,y,T,!1,$,ue)}function jt(f,y,T,$,ue,be){if(!y)throw Error("Invalid event type");var We=u(ue)?!!ue.capture:!!ue,Nn=an(f);if(Nn||(f[Te]=Nn=new De(f)),(T=Nn.add(y,T,$,We,be)).proxy)return T;if($=function Dt(){const y=Et;return function f(T){return y.call(f.src,f.listener,T)}}(),T.proxy=$,$.src=f,$.listener=T,f.addEventListener)ee||(ue=We),void 0===ue&&(ue=!1),f.addEventListener(y.toString(),$,ue);else if(f.attachEvent)f.attachEvent(zt(y.toString()),$);else{if(!f.addListener||!f.removeListener)throw Error("addEventListener and attachEvent are unavailable.");f.addListener($)}return T}function $e(f,y,T,$,ue){if(Array.isArray(y)){for(var be=0;be<y.length;be++)$e(f,y[be],T,$,ue);return null}return T=Ot(T),f&&f[de]?f.L(y,T,u($)?!!$.capture:!!$,ue):jt(f,y,T,!0,$,ue)}function gt(f,y,T,$,ue){if(Array.isArray(y))for(var be=0;be<y.length;be++)gt(f,y[be],T,$,ue);else $=u($)?!!$.capture:!!$,T=Ot(T),f&&f[de]?(f=f.i,(y=String(y).toString())in f.g&&-1<(T=Ke(be=f.g[y],T,$,ue))&&(Pe(be[T]),Array.prototype.splice.call(be,T,1),0==be.length&&(delete f.g[y],f.h--))):f&&(f=an(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Ke(y,T,$,ue)),(T=-1<f?y[f]:null)&&Je(T))}function Je(f){if("number"!=typeof f&&f&&!f.da){var y=f.src;if(y&&y[de])Qe(y.i,f);else{var T=f.type,$=f.proxy;y.removeEventListener?y.removeEventListener(T,$,f.capture):y.detachEvent?y.detachEvent(zt(T),$):y.addListener&&y.removeListener&&y.removeListener($),(T=an(y))?(Qe(T,f),0==T.h&&(T.src=null,y[Te]=null)):Pe(f)}}}function zt(f){return f in J?J[f]:J[f]="on"+f}function Et(f,y){if(f.da)f=!0;else{y=new ie(y,this);var T=f.listener,$=f.ha||f.src;f.fa&&Je(f),f=T.call($,y)}return f}function an(f){return(f=f[Te])instanceof De?f:null}var Nt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ot(f){return"function"==typeof f?f:(f[Nt]||(f[Nt]=function(y){return f.handleEvent(y)}),f[Nt])}function Kt(){U.call(this),this.i=new De(this),this.M=this,this.F=null}function yt(f,y){var T,$=f.F;if($)for(T=[];$;$=$.F)T.push($);if(f=f.M,$=y.type||y,"string"==typeof y)y=new W(y,f);else if(y instanceof W)y.target=y.target||f;else{var ue=y;V(y=new W($,f),ue)}if(ue=!0,T)for(var be=T.length-1;0<=be;be--){var We=y.g=T[be];ue=ft(We,$,!0,y)&&ue}if(ue=ft(We=y.g=f,$,!0,y)&&ue,ue=ft(We,$,!1,y)&&ue,T)for(be=0;be<T.length;be++)ue=ft(We=y.g=T[be],$,!1,y)&&ue}function ft(f,y,T,$){if(!(y=f.i.g[String(y)]))return!0;y=y.concat();for(var ue=!0,be=0;be<y.length;++be){var We=y[be];if(We&&!We.da&&We.capture==T){var Nn=We.listener,zr=We.ha||We.src;We.fa&&Qe(f.i,We),ue=!1!==Nn.call(zr,$)&&ue}}return ue&&!$.defaultPrevented}function Rt(f,y,T){if("function"==typeof f)T&&(f=g(f,T));else{if(!f||"function"!=typeof f.handleEvent)throw Error("Invalid listener argument");f=g(f.handleEvent,f)}return 2147483647<Number(y)?-1:a.setTimeout(f,y||0)}function bt(f){f.g=Rt(()=>{f.g=null,f.i&&(f.i=!1,bt(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}b(Kt,U),Kt.prototype[de]=!0,Kt.prototype.removeEventListener=function(f,y,T,$){gt(this,f,y,T,$)},Kt.prototype.N=function(){if(Kt.aa.N.call(this),this.i){var y,f=this.i;for(y in f.g){for(var T=f.g[y],$=0;$<T.length;$++)Pe(T[$]);delete f.g[y],f.h--}}this.F=null},Kt.prototype.K=function(f,y,T,$){return this.i.add(String(f),y,!1,T,$)},Kt.prototype.L=function(f,y,T,$){return this.i.add(String(f),y,!0,T,$)};class Fn extends U{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:bt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dn(f){U.call(this),this.h=f,this.g={}}b(dn,U);var He=[];function Ct(f){se(f.g,function(y,T){this.g.hasOwnProperty(T)&&Je(y)},f),f.g={}}dn.prototype.N=function(){dn.aa.N.call(this),Ct(this)},dn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qt=a.JSON.stringify,Tt=a.JSON.parse,tn=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function wt(){}function Cr(){}wt.prototype.h=null;var wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mt(){W.call(this,"d")}function mn(){W.call(this,"c")}b(Mt,W),b(mn,W);var io={},Qr=null;function Co(){return Qr=Qr||new Kt}function $i(f){W.call(this,io.La,f)}function xt(f){const y=Co();yt(y,new $i(y))}function pa(f,y){W.call(this,io.STAT_EVENT,f),this.stat=y}function Tr(f){const y=Co();yt(y,new pa(y,f))}function Go(f,y){W.call(this,io.Ma,f),this.size=y}function qi(f,y){if("function"!=typeof f)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},y)}function tr(){this.g=!0}function ms(f,y,T,$){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+function Us(f,y){if(!f.g)return y;if(!y)return null;try{var T=JSON.parse(y);if(T)for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var $=T[f];if(!(2>$.length)){var ue=$[1];if(Array.isArray(ue)&&!(1>ue.length)){var be=ue[0];if("noop"!=be&&"stop"!=be&&"close"!=be)for(var We=1;We<ue.length;We++)ue[We]=""}}}return Qt(T)}catch{return y}}(f,T)+($?" "+$:"")})}io.La="serverreachability",b($i,W),io.STAT_EVENT="statevent",b(pa,W),io.Ma="timingevent",b(Go,W),tr.prototype.xa=function(){this.g=!1},tr.prototype.info=function(){};var Wo,Ho={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_s={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function oo(){}function To(f,y,T,$){this.j=f,this.i=y,this.l=T,this.R=$||1,this.U=new dn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bs}function Bs(){this.i=null,this.g="",this.h=!1}b(oo,wt),oo.prototype.g=function(){return new XMLHttpRequest},oo.prototype.i=function(){return{}},Wo=new oo;var Rl={},Ml={};function kl(f,y,T){f.L=1,f.v=Ou(zs(y)),f.m=T,f.P=!0,Pu(f,null)}function Pu(f,y){f.F=Date.now(),Nu(f),f.A=zs(f.v);var T=f.A,$=f.R;Array.isArray($)||($=[String($)]),Ag(T.i,"t",$),f.C=0,T=f.j.J,f.h=new Bs,f.g=jr(f.j,T?y:null,!f.m),0<f.O&&(f.M=new Fn(g(f.Y,f,f.g),f.O)),y=f.U,T=f.g,$=f.ca;var ue="readystatechange";Array.isArray(ue)||(ue&&(He[0]=ue.toString()),ue=He);for(var be=0;be<ue.length;be++){var We=sn(T,ue[be],$||y.handleEvent,!1,y.h||y);if(!We)break;y.g[We.key]=We}y=f.H?D(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),xt(),function bi(f,y,T,$,ue,be){f.info(function(){if(f.g)if(be)for(var We="",Nn=be.split("&"),zr=0;zr<Nn.length;zr++){var Pt=Nn[zr].split("=");if(1<Pt.length){var yr=Pt[0];Pt=Pt[1];var $r=yr.split("_");We=2<=$r.length&&"type"==$r[1]?We+(yr+"=")+Pt+"&":We+(yr+"=redacted&")}}else We=null;else We=be;return"XMLHTTP REQ ("+$+") [attempt "+ue+"]: "+y+"\n"+T+"\n"+We})}(f.i,f.u,f.A,f.l,f.R,f.m)}function wg(f){return!!f.g&&"GET"==f.u&&2!=f.L&&f.j.Ca}function xh(f,y){var T=f.C,$=y.indexOf("\n",T);return-1==$?Ml:(T=Number(y.substring(T,$)),isNaN(T)?Rl:($+=1)+T>y.length?Ml:(y=y.slice($,$+T),f.C=$+T,y))}function Nu(f){f.S=Date.now()+f.I,Ph(f,f.I)}function Ph(f,y){if(null!=f.B)throw Error("WatchDog timer not null");f.B=qi(g(f.ba,f),y)}function So(f){f.B&&(a.clearTimeout(f.B),f.B=null)}function ja(f){0==f.j.G||f.J||xn(f.j,f)}function ga(f){So(f);var y=f.M;y&&"function"==typeof y.ma&&y.ma(),f.M=null,Ct(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function Ru(f,y){try{var T=f.j;if(0!=T.G&&(T.g==f||Mh(T.h,f)))if(!f.K&&Mh(T.h,f)&&3==T.G){try{var $=T.Da.g.parse(y)}catch{$=null}if(Array.isArray($)&&3==$.length){var ue=$;if(0==ue[0]){e:if(!T.u){if(T.g){if(!(T.g.F+3e3<f.F))break e;Ft(T),zu(T)}st(T),Tr(18)}}else T.za=ue[1],0<T.za-T.T&&37500>ue[2]&&T.F&&0==T.v&&!T.C&&(T.C=qi(g(T.Za,T),6e3));if(1>=Mu(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else rr(T,11)}else if((f.K||T.g==f)&&Ft(T),!M(y))for(ue=T.Da.g.parse(y),y=0;y<ue.length;y++){let Pt=ue[y];if(T.T=Pt[0],Pt=Pt[1],2==T.G)if("c"==Pt[0]){T.K=Pt[1],T.ia=Pt[2];const yr=Pt[3];null!=yr&&(T.la=yr,T.j.info("VER="+T.la));const $r=Pt[4];null!=$r&&(T.Aa=$r,T.j.info("SVER="+T.Aa));const Wa=Pt[5];null!=Wa&&"number"==typeof Wa&&0<Wa&&(T.L=$=1.5*Wa,T.j.info("backChannelRequestTimeoutMs_="+$)),$=T;const Lr=f.g;if(Lr){const wa=Lr.g?Lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wa){var be=$.h;be.g||-1==wa.indexOf("spdy")&&-1==wa.indexOf("quic")&&-1==wa.indexOf("h2")||(be.j=be.l,be.g=new Set,be.h&&(Or(be,be.h),be.h=null))}if($.D){const qu=Lr.g?Lr.g.getResponseHeader("X-HTTP-Session-Id"):null;qu&&($.ya=qu,jn($.I,$.D,qu))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms"));var We=f;if(($=T).qa=Yr($,$.J?$.ia:null,$.W),We.K){kh($.h,We);var Nn=We,zr=$.L;zr&&(Nn.I=zr),Nn.B&&(So(Nn),Nu(Nn)),$.g=We}else Ve($);0<T.i.length&&R(T)}else"stop"!=Pt[0]&&"close"!=Pt[0]||rr(T,7);else 3==T.G&&("stop"==Pt[0]||"close"==Pt[0]?"stop"==Pt[0]?rr(T,7):Ha(T):"noop"!=Pt[0]&&T.l&&T.l.ta(Pt),T.v=0)}xt()}catch{}}function Nh(f){this.l=f||10,f=a.PerformanceNavigationTiming?0<(f=a.performance.getEntriesByType("navigation")).length&&("hq"==f[0].nextHopProtocol||"h2"==f[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rh(f){return!!f.h||!!f.g&&f.g.size>=f.j}function Mu(f){return f.h?1:f.g?f.g.size:0}function Mh(f,y){return f.h?f.h==y:!!f.g&&f.g.has(y)}function Or(f,y){f.g?f.g.add(y):f.h=y}function kh(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}function Oh(f){if(null!=f.h)return f.i.concat(f.h.D);if(null!=f.g&&0!==f.g.size){let y=f.i;for(const T of f.g.values())y=y.concat(T.D);return y}return w(f.i)}function vs(f,y){if(f.forEach&&"function"==typeof f.forEach)f.forEach(y,void 0);else if(l(f)||"string"==typeof f)Array.prototype.forEach.call(f,y,void 0);else for(var T=function ku(f){if(f.na&&"function"==typeof f.na)return f.na();if(!f.V||"function"!=typeof f.V){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||"string"==typeof f){var y=[];f=f.length;for(var T=0;T<f;T++)y.push(T);return y}y=[],T=0;for(const $ in f)y[T++]=$;return y}}}(f),$=function za(f){if(f.V&&"function"==typeof f.V)return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if("string"==typeof f)return f.split("");if(l(f)){for(var y=[],T=f.length,$=0;$<T;$++)y.push(f[$]);return y}for($ in y=[],T=0,f)y[T++]=f[$];return y}(f),ue=$.length,be=0;be<ue;be++)y.call(void 0,$[be],T&&T[be],f)}To.prototype.ca=function(f){f=f.target;const y=this.M;y&&3==bs(f)?y.j():this.Y(f)},To.prototype.Y=function(f){try{if(f==this.g)e:{const $r=bs(this.g);var y=this.g.Ba();if(this.g.Z(),!(3>$r)&&(3!=$r||this.g&&(this.h.h||this.g.oa()||ba(this.g)))){this.J||4!=$r||7==y||xt(),So(this);var T=this.g.Z();this.X=T;t:if(wg(this)){var $=ba(this.g);f="";var ue=$.length,be=4==bs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ga(this),ja(this);var We="";break t}this.h.i=new a.TextDecoder}for(y=0;y<ue;y++)this.h.h=!0,f+=this.h.i.decode($[y],{stream:!(be&&y==ue-1)});$.length=0,this.h.g+=f,this.C=0,We=this.h.g}else We=this.g.oa();if(this.o=200==T,function Di(f,y,T,$,ue,be,We){f.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+ue+"]: "+y+"\n"+T+"\n"+be+" "+We})}(this.i,this.u,this.A,this.l,this.R,$r,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Nn,zr=this.g;if((Nn=zr.g?zr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Nn)){var Pt=Nn;break t}}Pt=null}if(!(T=Pt)){this.o=!1,this.s=3,Tr(12),ga(this),ja(this);break e}ms(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ru(this,T)}if(this.P){let Lr;for(T=!0;!this.J&&this.C<We.length;){if(Lr=xh(this,We),Lr==Ml){4==$r&&(this.s=4,Tr(14),T=!1),ms(this.i,this.l,null,"[Incomplete Response]");break}if(Lr==Rl){this.s=4,Tr(15),ms(this.i,this.l,We,"[Invalid Chunk]"),T=!1;break}ms(this.i,this.l,Lr,null),Ru(this,Lr)}if(wg(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=$r||0!=We.length||this.h.h||(this.s=1,Tr(16),T=!1),this.o=this.o&&T,T){if(0<We.length&&!this.W){this.W=!0;var yr=this.j;yr.g==this&&yr.ba&&!yr.M&&(yr.j.info("Great, no buffering proxy detected. Bytes received: "+We.length),ht(yr),yr.M=!0,Tr(11))}}else ms(this.i,this.l,We,"[Invalid Chunked Response]"),ga(this),ja(this)}else ms(this.i,this.l,We,null),Ru(this,We);4==$r&&ga(this),this.o&&!this.J&&(4==$r?xn(this.j,this):(this.o=!1,Nu(this)))}else(function Ga(f){const y={};f=(f.g&&2<=bs(f)&&f.g.getAllResponseHeaders()||"").split("\r\n");for(let $=0;$<f.length;$++){if(M(f[$]))continue;var T=C(f[$]);const ue=T[0];if("string"!=typeof(T=T[1]))continue;T=T.trim();const be=y[ue]||[];y[ue]=be,be.push(T)}!function z(f,y){for(const T in f)y.call(void 0,f[T],T,f)}(y,function($){return $.join(", ")})})(this.g),400==T&&0<We.indexOf("Unknown SID")?(this.s=3,Tr(12)):(this.s=0,Tr(13)),ga(this),ja(this)}}}catch{}},To.prototype.cancel=function(){this.J=!0,ga(this)},To.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(function Nl(f,y){f.info(function(){return"TIMEOUT: "+y})}(this.i,this.A),2!=this.L&&(xt(),Tr(17)),ga(this),this.s=2,ja(this)):Ph(this,this.S-f)},Nh.prototype.cancel=function(){if(this.i=Oh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const f of this.g.values())f.cancel();this.g.clear()}};var Ol=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function js(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof js){this.h=f.h,Jc(this,f.j),this.o=f.o,this.g=f.g,Xc(this,f.s),this.l=f.l;var y=f.i,T=new Fu;T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),$s(this,T),this.m=f.m}else f&&(y=String(f).match(Ol))?(this.h=!1,Jc(this,y[1]||"",!0),this.o=ys(y[2]||""),this.g=ys(y[3]||"",!0),Xc(this,y[4]),this.l=ys(y[5]||"",!0),$s(this,y[6]||"",!0),this.m=ys(y[7]||"")):(this.h=!1,this.i=new Fu(null,this.h))}function zs(f){return new js(f)}function Jc(f,y,T){f.j=T?ys(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Xc(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function $s(f,y,T){y instanceof Fu?(f.i=y,function Wv(f,y){y&&!f.j&&(Do(f),f.i=null,f.g.forEach(function(T,$){var ue=$.toLowerCase();$!=ue&&(ed(this,$),Ag(this,ue,T))},f)),f.j=y}(f.i,f.h)):(T||(y=$a(y,Lu)),f.i=new Fu(y,f.h))}function jn(f,y,T){f.i.set(y,T)}function Ou(f){return jn(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ys(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function $a(f,y,T){return"string"==typeof f?(f=encodeURI(f).replace(y,Gv),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Gv(f){return"%"+((f=f.charCodeAt(0))>>4&15).toString(16)+(15&f).toString(16)}js.prototype.toString=function(){var f=[],y=this.j;y&&f.push($a(y,Eg,!0),":");var T=this.g;return(T||"file"==y)&&(f.push("//"),(y=this.o)&&f.push($a(y,Eg,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(T=this.s)&&f.push(":",String(T))),(T=this.l)&&(this.g&&"/"!=T.charAt(0)&&f.push("/"),f.push($a(T,"/"==T.charAt(0)?Lh:Hv,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",$a(T,Ll)),f.join("")};var f,Eg=/[#\/\?@]/g,Hv=/[#\?:]/g,Lh=/[#\?]/g,Lu=/[#\?@]/g,Ll=/#/g;function Fu(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Do(f){f.g||(f.g=new Map,f.h=0,f.i&&function Br(f,y){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var $=f[T].indexOf("="),ue=null;if(0<=$){var be=f[T].substring(0,$);ue=f[T].substring($+1)}else be=f[T];y(be,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}(f.i,function(y,T){f.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}function ed(f,y){Do(f),y=Fl(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function $t(f,y){return Do(f),y=Fl(f,y),f.g.has(y)}function Ag(f,y,T){ed(f,y),0<T.length&&(f.i=null,f.g.set(Fl(f,y),w(T)),f.h+=T.length)}function Fl(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Gi(f,y,T,$,ue){try{ue&&(ue.onload=null,ue.onerror=null,ue.onabort=null,ue.ontimeout=null),$(T)}catch{}}function Qv(){this.g=new tn}function Yv(f,y,T){const $=T||"";try{vs(f,function(ue,be){let We=ue;u(ue)&&(We=Qt(ue)),y.push($+be+"="+encodeURIComponent(We))})}catch(ue){throw y.push($+"type="+encodeURIComponent("_badmap")),ue}}function ma(f){this.l=f.Ub||null,this.j=f.eb||!1}function Vl(f,y){Kt.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ul(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}function _a(f){f.readyState=4,f.l=null,f.j=null,f.v=null,va(f)}function va(f){f.onreadystatechange&&f.onreadystatechange.call(f)}function Cg(f){let y="";return se(f,function(T,$){y+=$,y+=":",y+=T,y+="\r\n"}),y}function Vu(f,y,T){e:{for($ in T){var $=!1;break e}$=!0}$||(T=Cg(T),"string"==typeof f?null!=T&&encodeURIComponent(String(T)):jn(f,y,T))}function nr(f){Kt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=Fu.prototype).add=function(f,y){Do(this),this.i=null,f=Fl(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(y),this.h+=1,this},n.forEach=function(f,y){Do(this),this.g.forEach(function(T,$){T.forEach(function(ue){f.call(y,ue,$,this)},this)},this)},n.na=function(){Do(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),T=[];for(let $=0;$<y.length;$++){const ue=f[$];for(let be=0;be<ue.length;be++)T.push(y[$])}return T},n.V=function(f){Do(this);let y=[];if("string"==typeof f)$t(this,f)&&(y=y.concat(this.g.get(Fl(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)y=y.concat(f[T])}return y},n.set=function(f,y){return Do(this),this.i=null,$t(this,f=Fl(this,f))&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f&&0<(f=this.V(f)).length?String(f[0]):y},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var T=0;T<y.length;T++){var $=y[T];const be=encodeURIComponent(String($)),We=this.V($);for($=0;$<We.length;$++){var ue=be;""!==We[$]&&(ue+="="+encodeURIComponent(String(We[$]))),f.push(ue)}}return this.i=f.join("&")},b(ma,wt),ma.prototype.g=function(){return new Vl(this.l,this.j)},ma.prototype.i=(f={},function(){return f}),b(Vl,Kt),(n=Vl.prototype).open=function(f,y){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,va(this)},n.send=function(f){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_a(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,va(this)),this.g&&(this.readyState=3,va(this),this.g)))if("arraybuffer"===this.responseType)f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ul(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?_a(this):va(this),3==this.readyState&&Ul(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,_a(this))},n.Qa=function(f){this.g&&(this.response=f,_a(this))},n.ga=function(){this.g&&_a(this)},n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var T=y.next();!T.done;)f.push((T=T.value)[0]+": "+T[1]),T=y.next();return f.join("\r\n")},Object.defineProperty(Vl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(f){this.m=f?"include":"same-origin"}}),b(nr,Kt);var Uu=/^https?$/i,Bu=["POST","PUT"];function td(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,ju(f),ya(f)}function ju(f){f.A||(f.A=!0,yt(f,"complete"),yt(f,"error"))}function nd(f){if(f.h&&typeof s<"u"&&(!f.v[1]||4!=bs(f)||2!=f.Z()))if(f.u&&4==bs(f))Rt(f.Ea,0,f);else if(yt(f,"readystatechange"),4==bs(f)){f.h=!1;try{const We=f.Z();e:switch(We){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var $;if($=0===We){var ue=String(f.D).match(Ol)[1]||null;!ue&&a.self&&a.self.location&&(ue=a.self.location.protocol.slice(0,-1)),$=!Uu.test(ue?ue.toLowerCase():"")}T=$}if(T)yt(f,"complete"),yt(f,"success");else{f.m=6;try{var be=2<bs(f)?f.g.statusText:""}catch{be=""}f.l=be+" ["+f.Z()+"]",ju(f)}}finally{ya(f)}}}function ya(f,y){if(f.g){Fh(f);const T=f.g,$=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||yt(f,"ready");try{T.onreadystatechange=$}catch{}}}function Fh(f){f.I&&(a.clearTimeout(f.I),f.I=null)}function bs(f){return f.g?f.g.readyState:0}function ba(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Bl(f,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||y}function Vh(f){this.Aa=0,this.i=[],this.j=new tr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bl("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bl("baseRetryDelayMs",5e3,f),this.cb=Bl("retryDelaySeedMs",1e4,f),this.Wa=Bl("forwardChannelMaxRetries",2,f),this.wa=Bl("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Nh(f&&f.concurrentRequestLimit),this.Da=new Qv,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Ha(f){if(_(f),3==f.G){var y=f.U++,T=zs(f.I);if(jn(T,"SID",f.K),jn(T,"RID",y),jn(T,"TYPE","terminate"),ce(f,T),(y=new To(f,f.j,y)).L=2,y.v=Ou(zs(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!T&&a.Image&&((new Image).src=y.v,T=!0),T||(y.g=jr(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Nu(y)}Qn(f)}function zu(f){f.g&&(ht(f),f.g.cancel(),f.g=null)}function _(f){zu(f),f.u&&(a.clearTimeout(f.u),f.u=null),Ft(f),f.h.cancel(),f.s&&("number"==typeof f.s&&a.clearTimeout(f.s),f.s=null)}function R(f){if(!Rh(f.h)&&!f.s){f.s=!0;var y=f.Ga;Ee||Ge(),pe||(Ee(),pe=!0),Ce.add(y,f),f.B=0}}function ne(f,y){var T;T=y?y.l:f.U++;const $=zs(f.I);jn($,"SID",f.K),jn($,"RID",T),jn($,"AID",f.T),ce(f,$),f.m&&f.o&&Vu($,f.m,f.o),T=new To(f,f.j,T,f.B+1),null===f.m&&(T.H=f.o),y&&(f.i=y.D.concat(f.i)),y=Ne(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Or(f.h,T),kl(T,$,y)}function ce(f,y){f.H&&se(f.H,function(T,$){jn(y,$,T)}),f.l&&vs({},function(T,$){jn(y,$,T)})}function Ne(f,y,T){T=Math.min(f.i.length,T);var $=f.l?g(f.l.Na,f.l,f):null;e:{var ue=f.i;let be=-1;for(;;){const We=["count="+T];-1==be?0<T?(be=ue[0].g,We.push("ofs="+be)):be=0:We.push("ofs="+be);let Nn=!0;for(let zr=0;zr<T;zr++){let Pt=ue[zr].g;const yr=ue[zr].map;if(Pt-=be,0>Pt)be=Math.max(0,ue[zr].g-100),Nn=!1;else try{Yv(yr,We,"req"+Pt+"_")}catch{$&&$(yr)}}if(Nn){$=We.join("&");break e}}}return f=f.i.splice(0,T),y.D=f,$}function Ve(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;Ee||Ge(),pe||(Ee(),pe=!0),Ce.add(y,f),f.v=0}}function st(f){return!(f.g||f.u||3<=f.v||(f.Y++,f.u=qi(g(f.Fa,f),vr(f,f.v)),f.v++,0))}function ht(f){null!=f.A&&(a.clearTimeout(f.A),f.A=null)}function Lt(f){f.g=new To(f,f.j,"rpc",f.Y),null===f.m&&(f.g.H=f.o),f.g.O=0;var y=zs(f.qa);jn(y,"RID","rpc"),jn(y,"SID",f.K),jn(y,"AID",f.T),jn(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&jn(y,"TO",f.ja),jn(y,"TYPE","xmlhttp"),ce(f,y),f.m&&f.o&&Vu(y,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=Ou(zs(y)),T.m=null,T.P=!0,Pu(T,f)}function Ft(f){null!=f.C&&(a.clearTimeout(f.C),f.C=null)}function xn(f,y){var T=null;if(f.g==y){Ft(f),ht(f),f.g=null;var $=2}else{if(!Mh(f.h,y))return;T=y.D,kh(f.h,y),$=1}if(0!=f.G)if(y.o)if(1==$){T=y.m?y.m.length:0,y=Date.now()-y.F;var ue=f.B;yt($=Co(),new Go($,T)),R(f)}else Ve(f);else if(3==(ue=y.s)||0==ue&&0<y.X||!(1==$&&function K(f,y){return!(Mu(f.h)>=f.h.j-(f.s?1:0)||(f.s?(f.i=y.D.concat(f.i),0):1==f.G||2==f.G||f.B>=(f.Va?0:f.Wa)||(f.s=qi(g(f.Ga,f,y),vr(f,f.B)),f.B++,0)))}(f,y)||2==$&&st(f)))switch(T&&0<T.length&&(y=f.h,y.i=y.i.concat(T)),ue){case 1:rr(f,5);break;case 4:rr(f,10);break;case 3:rr(f,6);break;default:rr(f,2)}}function vr(f,y){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*y}function rr(f,y){if(f.j.info("Error code "+y),2==y){var T=g(f.fb,f),$=f.Xa;const ue=!$;$=new js($||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Jc($,"https"),Ou($),ue?function Kv(f,y){const T=new tr;if(a.Image){const $=new Image;$.onload=p(Gi,T,"TestLoadImage: loaded",!0,y,$),$.onerror=p(Gi,T,"TestLoadImage: error",!1,y,$),$.onabort=p(Gi,T,"TestLoadImage: abort",!1,y,$),$.ontimeout=p(Gi,T,"TestLoadImage: timeout",!1,y,$),a.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=f}else y(!1)}($.toString(),T):function qa(f,y){new tr;const $=new AbortController,ue=setTimeout(()=>{$.abort(),Gi(0,0,!1,y)},1e4);fetch(f,{signal:$.signal}).then(be=>{clearTimeout(ue),Gi(0,0,!!be.ok,y)}).catch(()=>{clearTimeout(ue),Gi(0,0,!1,y)})}($.toString(),T)}else Tr(2);f.G=0,f.l&&f.l.sa(y),Qn(f),_(f)}function Qn(f){if(f.G=0,f.ka=[],f.l){const y=Oh(f.h);(0!=y.length||0!=f.i.length)&&(E(f.ka,y),E(f.ka,f.i),f.h.i.length=0,w(f.i),f.i.length=0),f.l.ra()}}function Yr(f,y,T){var $=T instanceof js?zs(T):new js(T);if(""!=$.g)y&&($.g=y+"."+$.g),Xc($,$.s);else{var ue=a.location;$=ue.protocol,y=y?y+"."+ue.hostname:ue.hostname,ue=+ue.port;var be=new js(null);$&&Jc(be,$),y&&(be.g=y),ue&&Xc(be,ue),T&&(be.l=T),$=be}return y=f.ya,(T=f.D)&&y&&jn($,T,y),jn($,"VER",f.la),ce(f,$),$}function jr(f,y,T){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return(y=new nr(f.Ca&&!f.pa?new ma({eb:T}):f.pa)).Ha(f.J),y}function wi(){}function so(){}function ir(f,y){Kt.call(this),this.g=new Vh(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!M(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!M(y)&&(this.g.D=y,null!==(f=this.h)&&y in f&&y in(f=this.h)&&delete f[y]),this.j=new ws(this)}function Uh(f){Mt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const T in y){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,y=null!==y&&f in y?y[f]:void 0),this.data=y}else this.data=f}function $u(){mn.call(this),this.status=1}function ws(f){this.g=f}(n=nr.prototype).Ha=function(f){this.J=f},n.ea=function(f,y,T,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wo.g(),this.v=function Bn(f){return f.h||(f.h=f.i())}(this.o?this.o:Wo),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(be){return void td(this,be)}if(f=T||"",T=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var ue in $)T.set(ue,$[ue]);else{if("function"!=typeof $.keys||"function"!=typeof $.get)throw Error("Unknown input type for opt_headers: "+String($));for(const be of $.keys())T.set(be,$.get(be))}$=Array.from(T.keys()).find(be=>"content-type"==be.toLowerCase()),ue=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Bu,y,void 0))||$||ue||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[be,We]of T)this.g.setRequestHeader(be,We);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fh(this),this.u=!0,this.g.send(f),this.u=!1}catch(be){td(this,be)}},n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,yt(this,"complete"),yt(this,"abort"),ya(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ya(this,!0)),nr.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?nd(this):this.bb())},n.bb=function(){nd(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<bs(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&0==y.indexOf(f)&&(y=y.substring(f.length)),Tt(y)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=Vh.prototype).la=8,n.G=1,n.connect=function(f,y,T,$){Tr(0),this.W=f,this.H=y||{},T&&void 0!==$&&(this.H.OSID=T,this.H.OAID=$),this.F=this.X,this.I=Yr(this,null,this.W),R(this)},n.Ga=function(f){if(this.s)if(this.s=null,1==this.G){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ue=new To(this,this.j,f);let be=this.o;if(this.S&&(be?(be=D(be),V(be,this.S)):be=this.S),null!==this.m||this.O||(ue.H=be,be=null),this.P)e:{for(var y=0,T=0;T<this.i.length;T++){var $=this.i[T];if(void 0===($="__data__"in $.map&&"string"==typeof($=$.map.__data__)?$.length:void 0))break;if(4096<(y+=$)){y=T;break e}if(4096===y||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=Ne(this,ue,y),jn(T=zs(this.I),"RID",f),jn(T,"CVER",22),this.D&&jn(T,"X-HTTP-Session-Id",this.D),ce(this,T),be&&(this.O?y="headers="+encodeURIComponent(String(Cg(be)))+"&"+y:this.m&&Vu(T,this.m,be)),Or(this.h,ue),this.Ua&&jn(T,"TYPE","init"),this.P?(jn(T,"$req",y),jn(T,"SID","null"),ue.T=!0,kl(ue,T,null)):kl(ue,T,y),this.G=2}}else 3==this.G&&(f?ne(this,f):0==this.i.length||Rh(this.h)||ne(this))},n.Fa=function(){if(this.u=null,Lt(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=qi(g(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tr(10),zu(this),Lt(this))},n.Za=function(){null!=this.C&&(this.C=null,zu(this),st(this),Tr(19))},n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Tr(2)):(this.j.info("Failed to ping google.com"),Tr(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=wi.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},so.prototype.g=function(f,y){return new ir(f,y)},b(ir,Kt),ir.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ir.prototype.close=function(){Ha(this.g)},ir.prototype.o=function(f){var y=this.g;if("string"==typeof f){var T={};T.__data__=f,f=T}else this.u&&((T={}).__data__=Qt(f),f=T);y.i.push(new class{constructor(f,y){this.g=f,this.map=y}}(y.Ya++,f)),3==y.G&&R(y)},ir.prototype.N=function(){this.g.l=null,delete this.j,Ha(this.g),delete this.g,ir.aa.N.call(this)},b(Uh,Mt),b($u,mn),b(ws,wi),ws.prototype.ua=function(){yt(this.g,"a")},ws.prototype.ta=function(f){yt(this.g,new Uh(f))},ws.prototype.sa=function(f){yt(this.g,new $u)},ws.prototype.ra=function(){yt(this.g,"b")},so.prototype.createWebChannel=so.prototype.g,ir.prototype.send=ir.prototype.o,ir.prototype.open=ir.prototype.m,ir.prototype.close=ir.prototype.close,SV=yu.createWebChannelTransport=function(){return new so},TV=yu.getStatEventTarget=function(){return Co()},CV=yu.Event=io,eS=yu.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ho.NO_ERROR=0,Ho.TIMEOUT=8,Ho.HTTP_ERROR=6,Q0=yu.ErrorCode=Ho,_s.COMPLETE="complete",AV=yu.EventType=_s,Cr.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",Kt.prototype.listen=Kt.prototype.K,v_=yu.WebChannel=Cr,yu.FetchXmlHttpFactory=ma,nr.prototype.listenOnce=nr.prototype.L,nr.prototype.getLastError=nr.prototype.Ka,nr.prototype.getLastErrorCode=nr.prototype.Ba,nr.prototype.getStatus=nr.prototype.Z,nr.prototype.getResponseJson=nr.prototype.Oa,nr.prototype.getResponseText=nr.prototype.oa,nr.prototype.send=nr.prototype.ea,nr.prototype.setWithCredentials=nr.prototype.Ha,EV=yu.XhrIo=nr}).apply(typeof K0<"u"?K0:typeof self<"u"?self:typeof window<"u"?window:{});const DV="@firebase/firestore";class Fi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fi.UNAUTHENTICATED=new Fi(null),Fi.GOOGLE_CREDENTIALS=new Fi("google-credentials-uid"),Fi.FIRST_PARTY=new Fi("first-party-uid"),Fi.MOCK_USER=new Fi("mock-user");let lp="10.14.0";const mc=new SC("@firebase/firestore");function up(){return mc.logLevel}function Be(n,...e){if(mc.logLevel<=_n.DEBUG){const t=e.map(tS);mc.debug(`Firestore (${lp}): ${n}`,...t)}}function oi(n,...e){if(mc.logLevel<=_n.ERROR){const t=e.map(tS);mc.error(`Firestore (${lp}): ${n}`,...t)}}function ca(n,...e){if(mc.logLevel<=_n.WARN){const t=e.map(tS);mc.warn(`Firestore (${lp}): ${n}`,...t)}}function tS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ot(n="Unexpected state"){const e=`FIRESTORE (${lp}) INTERNAL ASSERTION FAILED: `+n;throw oi(e),new Error(e)}function ct(n,e){n||ot()}function Ze(n,e){return n}const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends du{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class xV{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $de{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fi.UNAUTHENTICATED))}shutdown(){}}class qde{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Gde{constructor(e){this.t=e,this.currentUser=Fi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;ct(void 0===this.o);let i=this.i;const o=u=>this.i!==i?(i=this.i,t(u)):Promise.resolve();let s=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vi,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable((0,re.A)(function*(){yield u.promise,yield o(r.currentUser)}))},l=u=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct("string"==typeof r.accessToken),new xV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(null===e||"string"==typeof e),new Fi(e)}}class Hde{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Fi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Wde{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Hde(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Fi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kde{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ct(void 0===this.o);const r=o=>{null!=o.error&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Be("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ct("string"==typeof t.token),this.R=t.token,new PV(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Qde(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class NV{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Qde(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function Ht(n,e){return n<e?-1:n>e?1:0}function cp(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Vr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new je(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new je(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new je(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vr.fromMillis(Date.now())}static fromDate(e){return Vr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Vr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new Vr(0,0))}static max(){return new It(new Vr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class y_{constructor(e,t,r){void 0===t?t=0:t>e.length&&ot(),void 0===r?r=e.length-t:r>e.length-t&&ot(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===y_.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof y_?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vn extends y_{construct(e,t,r){return new vn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new je(we.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new vn(t)}static emptyPath(){return new vn([])}}const Yde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pr extends y_{construct(e,t,r){return new Pr(e,t,r)}static isValidIdentifier(e){return Yde.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Pr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new je(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new je(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new je(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new je(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pr(t)}static emptyPath(){return new Pr([])}}class et{constructor(e){this.path=e}static fromPath(e){return new et(vn.fromString(e))}static fromName(e){return new et(vn.fromString(e).popFirst(5))}static empty(){return new et(vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return vn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new vn(e.slice()))}}function kV(n){return new Os(n.readTime,n.key,-1)}class Os{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Os(It.min(),et.empty(),-1)}static max(){return new Os(It.max(),et.empty(),-1)}}function rS(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=et.comparator(n.documentKey,e.documentKey),0!==t?t:Ht(n.largestBatchId,e.largestBatchId))}const OV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function _c(n){return iS.apply(this,arguments)}function iS(){return iS=(0,re.A)(function*(n){if(n.code!==we.FAILED_PRECONDITION||n.message!==OV)throw n;Be("LocalStore","Unexpectedly lost primary lease")}),iS.apply(this,arguments)}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,r)=>{t(e)})}static reject(e){return new fe((t,r)=>{r(e)})}static waitFor(e){return new fe((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=fe.resolve(!1);for(const r of e)t=t.next(i=>i?fe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new fe((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;t(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,t){return new fe((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}function vc(n){return"IndexedDbTransactionError"===n.name}let Ls=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function w_(n){return null==n}function I_(n){return 0===n&&1/n==-1/0}function HV(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function yc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function KV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class _r{constructor(e,t){this.comparator=e,this.root=t||Xi.EMPTY}insert(e,t){return new _r(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xi.BLACK,null,null))}remove(e){return new _r(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new J0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new J0(this.root,e,this.comparator,!1)}getReverseIterator(){return new J0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new J0(this.root,e,this.comparator,!0)}}class J0{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xi{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Xi.RED,this.left=i??Xi.EMPTY,this.right=o??Xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Xi(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Xi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}Xi.EMPTY=null,Xi.RED=!0,Xi.BLACK=!1,Xi.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Xi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class er{constructor(e){this.comparator=e,this.data=new _r(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new QV(this.data.getIterator())}getIteratorFrom(e){return new QV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof er)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new er(this.comparator);return t.data=e,t}}class QV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class hs{constructor(e){this.fields=e,e.sort(Pr.comparator)}static empty(){return new hs([])}unionWith(e){let t=new er(Pr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new hs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return cp(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class YV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new YV("Invalid base64 string: "+o):o}}(e);return new Wr(t)}static fromUint8Array(e){const t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Wr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wr.EMPTY_BYTE_STRING=new Wr("");const Ihe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bu(n){if(ct(!!n),"string"==typeof n){let e=0;const t=Ihe.exec(n);if(ct(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nr(n.seconds),nanos:Nr(n.nanos)}}function Nr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function wu(n){return"string"==typeof n?Wr.fromBase64String(n):Wr.fromUint8Array(n)}function X0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function eb(n){const e=n.mapValue.fields.__previous_value__;return X0(e)?eb(e):e}function E_(n){const e=bu(n.mapValue.fields.__local_write_time__.timestampValue);return new Vr(e.seconds,e.nanos)}class Ehe{constructor(e,t,r,i,o,s,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Zd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Zd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Zd&&e.projectId===this.projectId&&e.database===this.database}}const bc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?X0(n)?4:t7(n)?9007199254740991:ib(n)?10:11:ot()}function ml(n,e){if(n===e)return!0;const t=wc(n);if(t!==wc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return E_(n).isEqual(E_(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=bu(i.timestampValue),a=bu(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,wu(n.bytesValue).isEqual(wu(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Nr(i.geoPointValue.latitude)===Nr(o.geoPointValue.latitude)&&Nr(i.geoPointValue.longitude)===Nr(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Nr(i.integerValue)===Nr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Nr(i.doubleValue),a=Nr(o.doubleValue);return s===a?I_(s)===I_(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return cp(n.arrayValue.values||[],e.arrayValue.values||[],ml);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(HV(s)!==HV(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!ml(s[l],a[l])))return!1;return!0}(n,e);default:return ot()}var o}function A_(n,e){return void 0!==(n.values||[]).find(t=>ml(t,e))}function Ic(n,e){if(n===e)return 0;const t=wc(n),r=wc(e);if(t!==r)return Ht(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ht(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Nr(o.integerValue||o.doubleValue),l=Nr(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return ZV(n.timestampValue,e.timestampValue);case 4:return ZV(E_(n),E_(e));case 5:return Ht(n.stringValue,e.stringValue);case 6:return function(o,s){const a=wu(o),l=wu(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ht(a[u],l[u]);if(0!==c)return c}return Ht(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ht(Nr(o.latitude),Nr(s.latitude));return 0!==a?a:Ht(Nr(o.longitude),Nr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return JV(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const p=null===(a=(o.fields||{}).value)||void 0===a?void 0:a.arrayValue,b=null===(l=(s.fields||{}).value)||void 0===l?void 0:l.arrayValue,w=Ht((null===(u=p?.values)||void 0===u?void 0:u.length)||0,(null===(c=b?.values)||void 0===c?void 0:c.length)||0);return 0!==w?w:JV(p,b)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===bc.mapValue&&s===bc.mapValue)return 0;if(o===bc.mapValue)return 1;if(s===bc.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const g=Ht(l[d],c[d]);if(0!==g)return g;const p=Ic(a[l[d]],u[c[d]]);if(0!==p)return p}return Ht(l.length,c.length)}(n.mapValue,e.mapValue);default:throw ot()}}function ZV(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ht(n,e);const t=bu(n),r=bu(e),i=Ht(t.seconds,r.seconds);return 0!==i?i:Ht(t.nanos,r.nanos)}function JV(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Ic(t[i],r[i]);if(o)return o}return Ht(t.length,r.length)}function pp(n){return lS(n)}function lS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=bu(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?wu(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=lS(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${lS(t.fields[s])}`;return i+"}"}(n.mapValue):ot()}function Jd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function uS(n){return!!n&&"integerValue"in n}function C_(n){return!!n&&"arrayValue"in n}function XV(n){return!!n&&"nullValue"in n}function e7(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rb(n){return!!n&&"mapValue"in n}function ib(n){var e,t;return"__vector__"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function T_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return yc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=T_(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=T_(n.arrayValue.values[t]);return e}return Object.assign({},n)}function t7(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class eo{constructor(e){this.value=e}static empty(){return new eo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!rb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=T_(t)}setAll(e){let t=Pr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=T_(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());rb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ml(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];rb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){yc(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new eo(T_(this.value))}}function o7(n){const e=[];return yc(n.fields,(t,r)=>{const i=new Pr([t]);if(rb(r)){const o=o7(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new hs(e)}class Er{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Er(e,0,It.min(),It.min(),It.min(),eo.empty(),0)}static newFoundDocument(e,t,r,i){return new Er(e,1,t,It.min(),r,i,0)}static newNoDocument(e,t){return new Er(e,2,t,It.min(),It.min(),eo.empty(),0)}static newUnknownDocument(e,t){return new Er(e,3,t,It.min(),It.min(),eo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(It.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=eo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=eo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Er(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ec{constructor(e,t){this.position=e,this.inclusive=t}}function s7(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],s=n.position[i];if(r=o.field.isKeyField()?et.comparator(et.fromName(s.referenceValue),t.key):Ic(s,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function a7(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ml(n.position[t],e.position[t]))return!1;return!0}class S_{constructor(e,t="asc"){this.field=e,this.dir=t}}function The(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class l7{}class yn extends l7{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new She(e,t,r):"array-contains"===t?new Phe(e,r):"in"===t?new p7(e,r):"not-in"===t?new Nhe(e,r):"array-contains-any"===t?new Rhe(e,r):new yn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Dhe(e,r):new xhe(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ic(t,this.value)):null!==t&&wc(this.value)===wc(t)&&this.matchesComparison(Ic(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends l7{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Hn(e,t)}matches(e){return gp(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function gp(n){return"and"===n.op}function dS(n){return function u7(n){for(const e of n.filters)if(e instanceof Hn)return!1;return!0}(n)&&gp(n)}function hS(n){if(n instanceof yn)return n.field.canonicalString()+n.op.toString()+pp(n.value);if(dS(n))return n.filters.map(e=>hS(e)).join(",");{const e=n.filters.map(t=>hS(t)).join(",");return`${n.op}(${e})`}}function c7(n,e){return n instanceof yn?(r=n,(i=e)instanceof yn&&r.op===i.op&&r.field.isEqual(i.field)&&ml(r.value,i.value)):n instanceof Hn?function(r,i){return i instanceof Hn&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&c7(s,i.filters[a]),!0)}(n,e):void ot();var r,i}function h7(n){return n instanceof yn?`${(t=n).field.canonicalString()} ${t.op} ${pp(t.value)}`:n instanceof Hn?function(t){return t.op.toString()+" {"+t.getFilters().map(h7).join(" ,")+"}"}(n):"Filter";var t}class She extends yn{constructor(e,t,r){super(e,t,r),this.key=et.fromName(r.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.matchesComparison(t)}}class Dhe extends yn{constructor(e,t){super(e,"in",t),this.keys=f7(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class xhe extends yn{constructor(e,t){super(e,"not-in",t),this.keys=f7(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function f7(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>et.fromName(r.referenceValue))}class Phe extends yn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return C_(t)&&A_(t.arrayValue,this.value)}}class p7 extends yn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&A_(this.value.arrayValue,t)}}class Nhe extends yn{constructor(e,t){super(e,"not-in",t)}matches(e){if(A_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!A_(this.value.arrayValue,t)}}class Rhe extends yn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!C_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>A_(this.value.arrayValue,r))}}class Mhe{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function fS(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Mhe(n,e,t,r,i,o,s)}function Xd(n){const e=Ze(n);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>hS(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),w_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>pp(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>pp(r)).join(",")),e.ue=t}return e.ue}function D_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!The(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!c7(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!a7(n.startAt,e.startAt)&&a7(n.endAt,e.endAt)}function ob(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Iu{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null}}function mp(n){return new Iu(n)}function v7(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function pS(n){return null!==n.collectionGroup}function _p(n){const e=Ze(n);if(null===e.ce){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new er(Pr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new S_(o,r))}),t.has(Pr.keyField().canonicalString())||e.ce.push(new S_(Pr.keyField(),r))}return e.ce}function _o(n){const e=Ze(n);return e.le||(e.le=function b7(n,e){if("F"===n.limitType)return fS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new S_(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new Ec(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ec(n.startAt.position,n.startAt.inclusive):null;return fS(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,_p(n))),e.le}function gS(n,e){const t=n.filters.concat([e]);return new Iu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ab(n,e,t){return new Iu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function x_(n,e){return D_(_o(n),_o(e))&&n.limitType===e.limitType}function w7(n){return`${Xd(_o(n))}|lt:${n.limitType}`}function vp(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>h7(i)).join(", ")}]`),w_(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>pp(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>pp(i)).join(",")),`Target(${r})`}(_o(n))}; limitType=${n.limitType})`}function P_(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):et.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of _p(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(s,a,l){const u=s7(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,_p(r),i)||r.endAt&&!function(s,a,l){const u=s7(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,_p(r),i)));var r,i}function E7(n){return(e,t)=>{let r=!1;for(const i of _p(n)){const o=khe(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function khe(n,e,t){const r=n.field.isKeyField()?et.comparator(e.key,t.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return null!==l&&null!==u?Ic(l,u):ot()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}class Eu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yc(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return KV(this.inner)}size(){return this.innerSize}}const Ohe=new _r(et.comparator);function fs(){return Ohe}const A7=new _r(et.comparator);function N_(...n){let e=A7;for(const t of n)e=e.insert(t.key,t);return e}function C7(n){let e=A7;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function _l(){return R_()}function T7(){return R_()}function R_(){return new Eu(n=>n.toString(),(n,e)=>n.isEqual(e))}const Lhe=new _r(et.comparator),Fhe=new er(et.comparator);function on(...n){let e=Fhe;for(const t of n)e=e.add(t);return e}const Vhe=new er(Ht);function _S(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:I_(e)?"-0":e}}function S7(n){return{integerValue:""+n}}function D7(n,e){return function UV(n){return"number"==typeof n&&Number.isInteger(n)&&!I_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?S7(e):_S(n,e)}class lb{constructor(){this._=void 0}}function Uhe(n,e,t){return n instanceof yp?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&X0(o)&&(o=eb(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof eh?P7(n,e):n instanceof th?N7(n,e):function(i,o){const s=x7(i,o),a=R7(s)+R7(i.Pe);return uS(s)&&uS(i.Pe)?S7(a):_S(i.serializer,a)}(n,e)}function Bhe(n,e,t){return n instanceof eh?P7(n,e):n instanceof th?N7(n,e):t}function x7(n,e){return n instanceof bp?uS(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class yp extends lb{}class eh extends lb{constructor(e){super(),this.elements=e}}function P7(n,e){const t=M7(e);for(const r of n.elements)t.some(i=>ml(i,r))||t.push(r);return{arrayValue:{values:t}}}class th extends lb{constructor(e){super(),this.elements=e}}function N7(n,e){let t=M7(e);for(const r of n.elements)t=t.filter(i=>!ml(i,r));return{arrayValue:{values:t}}}class bp extends lb{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function R7(n){return Nr(n.integerValue||n.doubleValue)}function M7(n){return C_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class zhe{constructor(e,t){this.version=e,this.transformResults=t}}class Rr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ub(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class cb{}function k7(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ip(n.key,Rr.none()):new wp(n.key,n.data,Rr.none());{const t=n.data,r=eo.empty();let i=new er(Pr.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Au(n.key,r,new hs(i.toArray()),Rr.none())}}function $he(n,e,t){n instanceof wp?function(i,o,s){const a=i.value.clone(),l=F7(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Au?function(i,o,s){if(!ub(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=F7(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(L7(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function k_(n,e,t,r){return n instanceof wp?function(o,s,a,l){if(!ub(o.precondition,s))return a;const u=o.value.clone(),c=V7(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Au?function(o,s,a,l){if(!ub(o.precondition,s))return a;const u=V7(o.fieldTransforms,l,s),c=s.data;return c.setAll(L7(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(n,e,t,r):(a=t,ub(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function qhe(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=x7(r.transform,i||null);null!=o&&(null===t&&(t=eo.empty()),t.set(r.field,o))}return t||null}function O7(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&cp(r,i,(o,s)=>function jhe(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof eh&&i instanceof eh||r instanceof th&&i instanceof th?cp(r.elements,i.elements,ml):r instanceof bp&&i instanceof bp?ml(r.Pe,i.Pe):r instanceof yp&&i instanceof yp);var r,i}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class wp extends cb{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Au extends cb{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function L7(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function F7(n,e,t){const r=new Map;ct(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Bhe(s,a,t[i]))}return r}function V7(n,e,t){const r=new Map;for(const i of n){const o=i.transform,s=t.data.field(i.field);r.set(i.field,Uhe(o,s,e))}return r}class Ip extends cb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vS extends cb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yS{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&$he(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=k_(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=k_(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=T7();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const l=k7(s,a);null!==l&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(It.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),on())}isEqual(e){return this.batchId===e.batchId&&cp(this.mutations,e.mutations,(t,r)=>O7(t,r))&&cp(this.baseMutations,e.baseMutations,(t,r)=>O7(t,r))}}class bS{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ct(e.mutations.length===r.length);let i=Lhe;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new bS(e,t,r,i)}}class wS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ghe{constructor(e,t){this.count=e,this.unchangedNames=t}}var vi,Sn;function j7(n){if(void 0===n)return oi("GRPC error has no .code"),we.UNKNOWN;switch(n){case vi.OK:return we.OK;case vi.CANCELLED:return we.CANCELLED;case vi.UNKNOWN:return we.UNKNOWN;case vi.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case vi.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case vi.INTERNAL:return we.INTERNAL;case vi.UNAVAILABLE:return we.UNAVAILABLE;case vi.UNAUTHENTICATED:return we.UNAUTHENTICATED;case vi.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case vi.NOT_FOUND:return we.NOT_FOUND;case vi.ALREADY_EXISTS:return we.ALREADY_EXISTS;case vi.PERMISSION_DENIED:return we.PERMISSION_DENIED;case vi.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case vi.ABORTED:return we.ABORTED;case vi.OUT_OF_RANGE:return we.OUT_OF_RANGE;case vi.UNIMPLEMENTED:return we.UNIMPLEMENTED;case vi.DATA_LOSS:return we.DATA_LOSS;default:return ot()}}(Sn=vi||(vi={}))[Sn.OK=0]="OK",Sn[Sn.CANCELLED=1]="CANCELLED",Sn[Sn.UNKNOWN=2]="UNKNOWN",Sn[Sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sn[Sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sn[Sn.NOT_FOUND=5]="NOT_FOUND",Sn[Sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sn[Sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sn[Sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sn[Sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sn[Sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sn[Sn.ABORTED=10]="ABORTED",Sn[Sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sn[Sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sn[Sn.INTERNAL=13]="INTERNAL",Sn[Sn.UNAVAILABLE=14]="UNAVAILABLE",Sn[Sn.DATA_LOSS=15]="DATA_LOSS";const Hhe=new Wd([4294967295,4294967295],0);function $7(n){const e=function z7(){return new TextEncoder}().encode(n),t=new IV;return t.update(e),new Uint8Array(t.digest())}function q7(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Wd([t,r],0),new Wd([i,o],0)]}class IS{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new O_(`Invalid padding: ${t}`);if(r<0)throw new O_(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new O_(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new O_(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Wd.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Wd.fromNumber(r)));return 1===i.compare(Hhe)&&(i=new Wd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=$7(e),[r,i]=q7(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new IS(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Ie)return;const t=$7(e),[r,i]=q7(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class O_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class L_{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,F_.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new L_(It.min(),i,new _r(Ht),fs(),on())}}class F_{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new F_(r,t,on(),on(),on())}}class hb{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class G7{constructor(e,t){this.targetId=e,this.me=t}}class H7{constructor(e,t,r=Wr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class W7{constructor(){this.fe=0,this.ge=Q7(),this.pe=Wr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=on(),t=on(),r=on();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ot()}}),new F_(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=Q7()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ct(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Whe{constructor(e){this.Le=e,this.Be=new Map,this.ke=fs(),this.qe=K7(),this.Qe=new _r(Ht)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const o=i.target;if(ob(o))if(0===r){const s=new et(o.path);this.Ue(t,s,Er.newNoDocument(s,It.min()))}else ct(1===r);else{const s=this.Ye(t);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;0!==l&&(this.je(t),this.Qe=this.Qe.insert(t,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let s,a;try{s=wu(r).toUint8Array()}catch(l){if(l instanceof YV)return ca("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new IS(s,i,o)}catch(l){return ca(l instanceof O_?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Ie?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&ob(a.target)){const l=new et(a.target.path);null!==this.ke.get(l)||this.it(s,l)||this.Ue(s,l,Er.newNoDocument(l,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=on();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new L_(e,t,this.Qe,this.ke,r);return this.ke=fs(),this.qe=K7(),this.Qe=new _r(Ht),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new W7,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new er(Ht),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Be("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new W7),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function K7(){return new _r(et.comparator)}function Q7(){return new _r(et.comparator)}const Khe={asc:"ASCENDING",desc:"DESCENDING"},Qhe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yhe={and:"AND",or:"OR"};class Zhe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ES(n,e){return n.useProto3Json||w_(e)?e:{value:e}}function Ep(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Y7(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Jhe(n,e){return Ep(n,e.toTimestamp())}function si(n){return ct(!!n),It.fromTimestamp(function(t){const r=bu(t);return new Vr(r.seconds,r.nanos)}(n))}function AS(n,e){return CS(n,e).canonicalString()}function CS(n,e){const t=(i=n,new vn(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?t:t.child(e)}function Z7(n){const e=vn.fromString(n);return ct(lU(e)),e}function V_(n,e){return AS(n.databaseId,e.path)}function vl(n,e){const t=Z7(e);if(t.get(1)!==n.databaseId.projectId)throw new je(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new je(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(eU(t))}function J7(n,e){return AS(n.databaseId,e)}function TS(n){return new vn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function eU(n){return ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function tU(n,e,t){return{name:V_(n,e),fields:t.value.mapValue.fields}}function rU(n,e){return{documents:[J7(n,e.path)]}}function fb(n,e){const t={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=J7(n,i);const o=function(u){if(0!==u.length)return aU(Hn.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Ac((g=c).field),direction:rfe(g.dir)};var g})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const a=ES(n,e.limit);return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:i};var u}function oU(n){let e=function X7(n){const e=Z7(n);return 4===e.length?vn.emptyPath():eU(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ct(1===r);const c=t.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];t.where&&(o=function(d){const g=sU(d);return g instanceof Hn&&dS(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(g=>{return new S_(Ap((b=g).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let a=null;t.limit&&(a=function(d){let g;return g="object"==typeof d?d.value:d,w_(g)?null:g}(t.limit));let l=null;var d;t.startAt&&(l=new Ec((d=t.startAt).values||[],!!d.before));let u=null;return t.endAt&&(u=function(d){return new Ec(d.values||[],!d.before)}(t.endAt)),function _7(n,e,t,r,i,o,s,a){return new Iu(n,e,t,r,i,o,s,a)}(e,i,s,o,a,"F",l,u)}function sU(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ap(t.unaryFilter.field);return yn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ap(t.unaryFilter.field);return yn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ap(t.unaryFilter.field);return yn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ap(t.unaryFilter.field);return yn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(n):void 0!==n.fieldFilter?yn.create(Ap((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Hn.create(t.compositeFilter.filters.map(r=>sU(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ot()}}(t.compositeFilter.op))}(n):ot();var t}function rfe(n){return Khe[n]}function ife(n){return Qhe[n]}function ofe(n){return Yhe[n]}function Ac(n){return{fieldPath:n.canonicalString()}}function Ap(n){return Pr.fromServerFormat(n.fieldPath)}function aU(n){return n instanceof yn?function(t){if("=="===t.op){if(e7(t.value))return{unaryFilter:{field:Ac(t.field),op:"IS_NAN"}};if(XV(t.value))return{unaryFilter:{field:Ac(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(e7(t.value))return{unaryFilter:{field:Ac(t.field),op:"IS_NOT_NAN"}};if(XV(t.value))return{unaryFilter:{field:Ac(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ac(t.field),op:ife(t.op),value:t.value}}}(n):n instanceof Hn?function(t){const r=t.getFilters().map(i=>aU(i));return 1===r.length?r[0]:{compositeFilter:{op:ofe(t.op),filters:r}}}(n):ot()}function sfe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Cu{constructor(e,t,r,i,o=It.min(),s=It.min(),a=Wr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Cu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uU{constructor(e){this.ct=e}}function DS(n){const e=oU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ab(e,e.limit,"L"):e}class oh{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Nr(e.integerValue));else if("doubleValue"in e){const r=Nr(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),I_(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),"string"==typeof r&&(r=bu(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(wu(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?t7(e)?this.dt(t,Number.MAX_SAFE_INTEGER):ib(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ot()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const r=e.fields||{};this.dt(t,55);for(const i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;const o=e.fields||{};this.dt(t,53);const s="value",a=(null===(i=null===(r=o[s].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.dt(t,15),t.At(Nr(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){const r=e.values||[];this.dt(t,50);for(const i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),et.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}oh.vt=new oh;class gfe{constructor(){this.un=new kS}addToCollectionParentIndex(e,t){return this.un.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(Os.min())}updateCollectionGroup(e,t,r){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class kS{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new er(vn.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new er(vn.comparator)).toArray()}}new Uint8Array(0);class vo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new vo(e,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}vo.DEFAULT_COLLECTION_PERCENTILE=10,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vo.DEFAULT=new vo(41943040,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vo.DISABLED=new vo(-1,0,0);class ah{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ah(0)}static kn(){return new ah(-1)}}class RU{constructor(){this.changes=new Eu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Er.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?fe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Efe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class FU{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&k_(r.mutation,i,hs.empty(),Vr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,on()).next(()=>r))}getLocalViewOfDocuments(e,t,r=on()){const i=_l();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=N_();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=_l();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,on()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=fs();const s=R_(),a=R_();return t.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(void 0===c||c.mutation instanceof Au)?o=o.insert(u.key,u):void 0!==c?(s.set(u.key,c.mutation.getFieldMask()),k_(c.mutation,u,c.mutation.getFieldMask(),Vr.now())):s.set(u.key,hs.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),t.forEach((u,c)=>{var d;return a.set(u,new Efe(c,null!==(d=s.get(u))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=R_();let i=new _r((s,a)=>s-a),o=on();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=t.get(l);if(null===u)return;let c=r.get(l)||hs.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||on()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=T7();c.forEach(g=>{if(!o.has(g)){const p=k7(t.get(g),r.get(g));null!==p&&d.set(g,p),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return fe.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return et.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):pS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var s}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):fe.resolve(_l());let a=-1,l=o;return s.next(u=>fe.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?fe.resolve():this.remoteDocumentCache.getEntry(e,c).next(g=>{l=l.insert(c,g)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,on())).next(c=>({batchId:a,changes:C7(c)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new et(t)).next(r=>{let i=N_();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let s=N_();return this.indexManager.getCollectionParents(e,o).next(a=>fe.forEach(a,l=>{const u=(d=t,g=l.child(o),new Iu(g,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,g;return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,g)=>{s=s.insert(d,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Er.newInvalidDocument(c)))});let a=N_();return s.forEach((l,u)=>{const c=o.get(l);void 0!==c&&k_(c.mutation,u,hs.empty(),Vr.now()),P_(t,u)&&(a=a.insert(l,u))}),a})}}class Afe{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return fe.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,{id:(i=t).id,version:i.version,createTime:si(i.createTime)}),fe.resolve();var i}getNamedQuery(e,t){return fe.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,{name:(i=t).name,query:DS(i.bundledQuery),readTime:si(i.readTime)}),fe.resolve();var i}}class Cfe{constructor(){this.overlays=new _r(et.comparator),this.Ir=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=_l();return fe.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),fe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ir.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),fe.resolve()}getOverlaysForCollection(e,t,r){const i=_l(),o=t.length+1,s=new et(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new _r((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let c=o.get(u.largestBatchId);null===c&&(c=_l(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=_l(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return fe.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new wS(t,r));let o=this.Ir.get(t);void 0===o&&(o=on(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}}class Tfe{constructor(){this.sessionToken=Wr.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}class OS{constructor(){this.Tr=new er(Ui.Er),this.dr=new er(Ui.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new Ui(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Ui(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){const t=new et(new vn([])),r=new Ui(t,e),i=new Ui(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new et(new vn([])),r=new Ui(t,e),i=new Ui(t,e+1);let o=on();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Ui(e,0),r=this.Tr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ui{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return et.comparator(e.key,t.key)||Ht(e.wr,t.wr)}static Ar(e,t){return Ht(e.wr,t.wr)||et.comparator(e.key,t.key)}}class Sfe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new er(Ui.Er)}checkEmpty(e){return fe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.Sr;this.Sr++;const s=new yS(o,t,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Ui(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return fe.resolve(s)}lookupMutationBatch(e,t){return fe.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.vr(t+1),o=i<0?0:i;return fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ui(t,0),i=new Ui(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new er(Ht);return t.forEach(i=>{const o=new Ui(i,0),s=new Ui(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),fe.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;et.isDocumentKey(o)||(o=o.child(""));const s=new Ui(new et(o),0);let a=new er(Ht);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),fe.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(r=>{const i=this.Dr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ct(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.br;return fe.forEach(t.mutations,i=>{const o=new Ui(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){const r=new Ui(t,0),i=this.br.firstAfterOrEqual(r);return fe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return fe.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Dfe{constructor(e){this.Mr=e,this.docs=new _r(et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return fe.resolve(r?r.document.mutableCopy():Er.newInvalidDocument(t))}getEntries(e,t){let r=fs();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Er.newInvalidDocument(i))}),fe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=fs();const s=t.path,a=new et(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||rS(kV(c),r)<=0||(i.has(c.key)||P_(t,c))&&(o=o.insert(c.key,c.mutableCopy()))}return fe.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ot()}Or(e,t){return fe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new xfe(this)}getSize(e){return fe.resolve(this.size)}}class xfe extends RU{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),fe.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Pfe{constructor(e){this.persistence=e,this.Nr=new Eu(t=>Xd(t),D_),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Lr=0,this.Br=new OS,this.targetCount=0,this.kr=ah.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),fe.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new ah(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Kn(t),fe.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),fe.waitFor(o).next(()=>i)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return fe.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),fe.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),fe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return fe.resolve(r)}containsKey(e,t){return fe.resolve(this.Br.containsKey(t))}}class LS{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Ls(0),this.Kr=!1,this.Kr=!0,this.$r=new Tfe,this.referenceDelegate=e(this),this.Ur=new Pfe(this),this.indexManager=new gfe,this.remoteDocumentCache=new Dfe(r=>this.referenceDelegate.Wr(r)),this.serializer=new uU(t),this.Gr=new Afe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Cfe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new Sfe(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){Be("MemoryPersistence","Starting transaction:",e);const i=new Nfe(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return fe.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}}class Nfe extends LV{constructor(e){super(),this.currentSequenceNumber=e}}class wb{constructor(e){this.persistence=e,this.Jr=new OS,this.Yr=null}static Zr(e){return new wb(e)}get Xr(){if(this.Yr)return this.Yr;throw ot()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),fe.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Xr,r=>{const i=et.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,It.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return fe.or([()=>fe.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class BS{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=on(),i=on();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new BS(e,t.fromCache,r,i)}}class Mfe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class UU{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function F6(){return!function fae(){var n;const e=null===(n=S0())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function FV(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}(Zi())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Mfe;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(up()<=_n.DEBUG&&Be("QueryEngine","SDK will not create cache indexes for query:",vp(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),fe.resolve()):(up()<=_n.DEBUG&&Be("QueryEngine","Query:",vp(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(up()<=_n.DEBUG&&Be("QueryEngine","The SDK decides to create cache indexes for query:",vp(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_o(t))):fe.resolve())}Yi(e,t){if(v7(t))return fe.resolve(null);let r=_o(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=ab(t,null,"F"),r=_o(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=on(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(t,a);return this.ns(t,u,s,l.readTime)?this.Yi(e,ab(t,null,"F")):this.rs(e,u,t,l)}))})))}Zi(e,t,r,i){return v7(t)||i.isEqual(It.min())?fe.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(t,o);return this.ns(t,s,r,i)?fe.resolve(null):(up()<=_n.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vp(t)),this.rs(e,s,t,function MV(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=It.fromTimestamp(1e9===r?new Vr(t+1,0):new Vr(t,r));return new Os(i,et.empty(),e)}(i,-1)).next(a=>a))})}ts(e,t){let r=new er(E7(e));return t.forEach((i,o)=>{P_(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return up()<=_n.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",vp(t)),this.Ji.getDocumentsMatchingQuery(e,t,Os.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class kfe{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new _r(Ht),this._s=new Eu(o=>Xd(o),D_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FU(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function jU(n,e){return jS.apply(this,arguments)}function jS(){return jS=(0,re.A)(function*(n,e){const t=Ze(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=on();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return t.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}),jS.apply(this,arguments)}function zU(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function Ffe(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Pp(n,e,t){return zS.apply(this,arguments)}function zS(){return zS=(0,re.A)(function*(n,e,t){const r=Ze(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!vc(s))throw s;Be("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}),zS.apply(this,arguments)}function Ab(n,e,t){const r=Ze(n);let i=It.min(),o=on();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=Ze(l),g=d._s.get(c);return void 0!==g?fe.resolve(d.os.get(g)):d.Ur.getTargetData(u,c)}(r,s,_o(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:It.min(),t?o:on())).next(a=>(function HU(n,e,t){let r=n.us.get(e)||It.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}(r,function I7(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,Ts:o})))}class WS{constructor(){this.activeTargetIds=function mS(){return Vhe}()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QU{constructor(){this.so=new WS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new WS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Bfe{_o(e){}shutdown(){}}class YU{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Sb=null;function QS(){return null===Sb?Sb=268435456+Math.round(2147483648*Math.random()):Sb++,"0x"+Sb.toString(16)}const jfe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zfe{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const yo="WebChannelConnection";class $fe extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){const a=QS(),l=this.xo(t,r.toUriEncodedString());Be("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(t,l,u,i).then(c=>(Be("RestConnection",`Received RPC '${t}' ${a}: `,c),c),c=>{throw ca("RestConnection",`RPC '${t}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+lp,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){return`${this.Do}/v1/${r}:${jfe[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){const o=QS();return new Promise((s,a)=>{const l=new EV;l.setWithCredentials(!0),l.listenOnce(AV.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Q0.NO_ERROR:const c=l.getResponseJson();Be(yo,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case Q0.TIMEOUT:Be(yo,`RPC '${e}' ${o} timed out`),a(new je(we.DEADLINE_EXCEEDED,"Request time out"));break;case Q0.HTTP_ERROR:const d=l.getStatus();if(Be(yo,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const p=g?.error;if(p&&p.status&&p.message){const b=function(E){const A=E.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(A)>=0?A:we.UNKNOWN}(p.status);a(new je(b,p.message))}else a(new je(we.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new je(we.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Be(yo,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);Be(yo,`RPC '${e}' ${o} sending request:`,i),l.send(t,"POST",u,r,15)})}Bo(e,t,r){const i=QS(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=SV(),a=TV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const c=o.join("");Be(yo,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let g=!1,p=!1;const b=new zfe({Io:E=>{p?Be(yo,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(g||(Be(yo,`Opening RPC '${e}' stream ${i} transport.`),d.open(),g=!0),Be(yo,`RPC '${e}' stream ${i} sending:`,E),d.send(E))},To:()=>d.close()}),w=(E,A,M)=>{E.listen(A,B=>{try{M(B)}catch(F){setTimeout(()=>{throw F},0)}})};return w(d,v_.EventType.OPEN,()=>{p||(Be(yo,`RPC '${e}' stream ${i} transport opened.`),b.yo())}),w(d,v_.EventType.CLOSE,()=>{p||(p=!0,Be(yo,`RPC '${e}' stream ${i} transport closed`),b.So())}),w(d,v_.EventType.ERROR,E=>{p||(p=!0,ca(yo,`RPC '${e}' stream ${i} transport errored:`,E),b.So(new je(we.UNAVAILABLE,"The operation could not be completed")))}),w(d,v_.EventType.MESSAGE,E=>{var A;if(!p){const M=E.data[0];ct(!!M);const F=M.error||(null===(A=M[0])||void 0===A?void 0:A.error);if(F){Be(yo,`RPC '${e}' stream ${i} received error:`,F);const X=F.status;let se=function(S){const V=vi[S];if(void 0!==V)return j7(V)}(X),z=F.message;void 0===se&&(se=we.INTERNAL,z="Unknown error status: "+X+" with message "+F.message),p=!0,b.So(new je(se,z)),d.close()}else Be(yo,`RPC '${e}' stream ${i} received:`,M),b.bo(M)}}),w(a,CV.STAT_EVENT,E=>{E.stat===eS.PROXY?Be(yo,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===eS.NOPROXY&&Be(yo,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function Db(){return typeof document<"u"?document:null}function W_(n){return new Zhe(n,!0)}class YS{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&Be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class JU{constructor(e,t,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new YS(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,re.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,re.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){var r=this;return(0,re.A)(function*(){r.u_(),r.c_(),r.t_.cancel(),r.Yo++,4!==e?r.t_.reset():t&&t.code===we.RESOURCE_EXHAUSTED?(oi(t.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),r.t_.Wo()):t&&t.code===we.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.l_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.mo(t)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{const i=new je(we.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>1==++this.e_?this.E_(i):this.onNext(i))})}i_(){var e=this;this.state=5,this.t_.Go((0,re.A)(function*(){e.state=0,e.start()}))}I_(e){return Be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qfe extends JU{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function efe(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:ot(),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(ct(void 0===c||"string"==typeof c),Wr.fromBase64String(c||"")):(ct(void 0===c||c instanceof Buffer||c instanceof Uint8Array),Wr.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=void 0===u.code?we.UNKNOWN:j7(u.code);return new je(c,u.message||"")}(s);t=new H7(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=vl(n,r.document.name),o=si(r.document.updateTime),s=r.document.createTime?si(r.document.createTime):It.min(),a=new eo({mapValue:{fields:r.document.fields}}),l=Er.newFoundDocument(i,o,s,a);t=new hb(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=vl(n,r.document),o=r.readTime?si(r.readTime):It.min(),s=Er.newNoDocument(i,o);t=new hb([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=vl(n,r.document);t=new hb([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ot();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new Ghe(i,o);t=new G7(r.targetId,s)}}var u;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return It.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?It.min():s.readTime?si(s.readTime):It.min()}(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=TS(this.serializer),t.addTarget=function(o,s){let a;const l=s.target;if(a=ob(l)?{documents:rU(o,l)}:{query:fb(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Y7(o,s.resumeToken);const u=ES(o,s.expectedCount);null!==u&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(It.min())>0){a.readTime=Ep(o,s.snapshotVersion.toTimestamp());const u=ES(o,s.expectedCount);null!==u&&(a.expectedCount=u)}return a}(this.serializer,e);const r=function nfe(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=TS(this.serializer),t.removeTarget=e,this.a_(t)}}class Gfe extends JU{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return ct(!!e.streamToken),this.lastStreamToken=e.streamToken,ct(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function tfe(n,e){return n&&n.length>0?(ct(void 0!==e),n.map(t=>function(i,o){let s=si(i.updateTime?i.updateTime:o);return s.isEqual(It.min())&&(s=si(o)),new zhe(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=si(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=TS(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function U_(n,e){let t;if(e instanceof wp)t={update:tU(n,e.key,e.value)};else if(e instanceof Ip)t={delete:V_(n,e.key)};else if(e instanceof Au)t={update:tU(n,e.key,e.data),updateMask:sfe(e.fieldMask)};else{if(!(e instanceof vS))return ot();t={verify:V_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof yp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof eh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof th)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof bp)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ot()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Jhe(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ot()),t;var o}(this.serializer,r))};this.a_(t)}}class Hfe extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new je(we.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,CS(t,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new je(we.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,CS(t,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new je(we.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Wfe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(oi(t),this.D_=!1):Be("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Kfe{constructor(e,t,r,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget((0,re.A)(function*(){var l;Dc(s)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,re.A)(function*(c){const d=Ze(c);d.L_.add(4),yield Np(d),d.q_.set("Unknown"),d.L_.delete(4),yield K_(d)}),function u(c){return l.apply(this,arguments)})(s))}))}),this.q_=new Wfe(r,i)}}function K_(n){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,re.A)(function*(n){if(Dc(n))for(const e of n.B_)yield e(!0)}),ZS.apply(this,arguments)}function Np(n){return JS.apply(this,arguments)}function JS(){return JS=(0,re.A)(function*(n){for(const e of n.B_)yield e(!1)}),JS.apply(this,arguments)}function xb(n,e){const t=Ze(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),tD(t)?eD(t):kp(t).r_()&&XS(t,e))}function Rp(n,e){const t=Ze(n),r=kp(t);t.N_.delete(e),r.r_()&&XU(t,e),0===t.N_.size&&(r.r_()?r.o_():Dc(t)&&t.q_.set("Unknown"))}function XS(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(It.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}kp(n).A_(e)}function XU(n,e){n.Q_.xe(e),kp(n).R_(e)}function eD(n){n.Q_=new Whe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),kp(n).start(),n.q_.v_()}function tD(n){return Dc(n)&&!kp(n).n_()&&n.N_.size>0}function Dc(n){return 0===Ze(n).L_.size}function eB(n){n.Q_=void 0}function Qfe(n){return nD.apply(this,arguments)}function nD(){return nD=(0,re.A)(function*(n){n.q_.set("Online")}),nD.apply(this,arguments)}function Yfe(n){return rD.apply(this,arguments)}function rD(){return rD=(0,re.A)(function*(n){n.N_.forEach((e,t)=>{XS(n,e)})}),rD.apply(this,arguments)}function Zfe(n,e){return iD.apply(this,arguments)}function iD(){return iD=(0,re.A)(function*(n,e){eB(n),tD(n)?(n.q_.M_(e),eD(n)):n.q_.set("Unknown")}),iD.apply(this,arguments)}function Jfe(n,e,t){return oD.apply(this,arguments)}function oD(){return oD=(0,re.A)(function*(n,e,t){if(n.q_.set("Online"),e instanceof H7&&2===e.state&&e.cause)try{yield(r=(0,re.A)(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.N_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.N_.delete(l),o.Q_.removeTarget(l))}),function i(o,s){return r.apply(this,arguments)})(n,e)}catch(r){Be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Pb(n,r)}else if(e instanceof hb?n.Q_.Ke(e):e instanceof G7?n.Q_.He(e):n.Q_.We(e),!t.isEqual(It.min()))try{const r=yield zU(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(Wr.EMPTY_BYTE_STRING,c.snapshotVersion)),XU(o,l);const d=new Cu(c.target,l,u,c.sequenceNumber);XS(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){Be("RemoteStore","Failed to raise snapshot:",r),yield Pb(n,r)}var r}),oD.apply(this,arguments)}function Pb(n,e,t){return sD.apply(this,arguments)}function sD(){return sD=(0,re.A)(function*(n,e,t){if(!vc(e))throw e;n.L_.add(1),yield Np(n),n.q_.set("Offline"),t||(t=()=>zU(n.localStore)),n.asyncQueue.enqueueRetryable((0,re.A)(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield K_(n)}))}),sD.apply(this,arguments)}function tB(n,e){return e().catch(t=>Pb(n,t,e))}function Mp(n){return aD.apply(this,arguments)}function aD(){return aD=(0,re.A)(function*(n){const e=Ze(n),t=xc(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Xfe(e);)try{const i=yield Ffe(e.localStore,r);if(null===i){0===e.O_.length&&t.o_();break}r=i.batchId,epe(e,i)}catch(i){yield Pb(e,i)}nB(e)&&rB(e)}),aD.apply(this,arguments)}function Xfe(n){return Dc(n)&&n.O_.length<10}function epe(n,e){n.O_.push(e);const t=xc(n);t.r_()&&t.V_&&t.m_(e.mutations)}function nB(n){return Dc(n)&&!xc(n).n_()&&n.O_.length>0}function rB(n){xc(n).start()}function tpe(n){return lD.apply(this,arguments)}function lD(){return lD=(0,re.A)(function*(n){xc(n).p_()}),lD.apply(this,arguments)}function npe(n){return uD.apply(this,arguments)}function uD(){return uD=(0,re.A)(function*(n){const e=xc(n);for(const t of n.O_)e.m_(t.mutations)}),uD.apply(this,arguments)}function rpe(n,e,t){return cD.apply(this,arguments)}function cD(){return cD=(0,re.A)(function*(n,e,t){const r=n.O_.shift(),i=bS.from(r,e,t);yield tB(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Mp(n)}),cD.apply(this,arguments)}function ipe(n,e){return dD.apply(this,arguments)}function dD(){return dD=(0,re.A)(function*(n,e){var t;e&&xc(n).V_&&(yield(t=(0,re.A)(function*(i,o){if(function B7(n){switch(n){default:return ot();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0}}(a=o.code)&&a!==we.ABORTED){const s=i.O_.shift();xc(i).s_(),yield tB(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Mp(i)}var a}),function r(i,o){return t.apply(this,arguments)})(n,e)),nB(n)&&rB(n)}),dD.apply(this,arguments)}function iB(n,e){return hD.apply(this,arguments)}function hD(){return hD=(0,re.A)(function*(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const r=Dc(t);t.L_.add(3),yield Np(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield K_(t)}),hD.apply(this,arguments)}function pD(){return pD=(0,re.A)(function*(n,e){const t=Ze(n);e?(t.L_.delete(2),yield K_(t)):e||(t.L_.add(2),yield Np(t),t.q_.set("Unknown"))}),pD.apply(this,arguments)}function kp(n){return n.K_||(n.K_=function(t,r,i){const o=Ze(t);return o.w_(),new qfe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:Qfe.bind(null,n),Ro:Yfe.bind(null,n),mo:Zfe.bind(null,n),d_:Jfe.bind(null,n)}),n.B_.push(function(){var e=(0,re.A)(function*(t){t?(n.K_.s_(),tD(n)?eD(n):n.q_.set("Unknown")):(yield n.K_.stop(),eB(n))});return function(t){return e.apply(this,arguments)}}())),n.K_}function xc(n){return n.U_||(n.U_=function(t,r,i){const o=Ze(t);return o.w_(),new Gfe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:tpe.bind(null,n),mo:ipe.bind(null,n),f_:npe.bind(null,n),g_:rpe.bind(null,n)}),n.B_.push(function(){var e=(0,re.A)(function*(t){t?(n.U_.s_(),yield Mp(n)):(yield n.U_.stop(),n.O_.length>0&&(Be("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))});return function(t){return e.apply(this,arguments)}}())),n.U_}class gD{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new gD(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new je(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Op(n,e){if(oi("AsyncQueue",`${e}: ${n}`),vc(n))return new je(we.UNAVAILABLE,`${e}: ${n}`);throw n}class Lp{constructor(e){this.comparator=e?(t,r)=>e(t,r)||et.comparator(t.key,r.key):(t,r)=>et.comparator(t.key,r.key),this.keyedMap=N_(),this.sortedSet=new _r(this.comparator)}static emptySet(e){return new Lp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lp)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Lp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class oB{constructor(){this.W_=new _r(et.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?0!==e.type&&3===r.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==r.type?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.W_=this.W_.remove(t):1===e.type&&2===r.type?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ot():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Fp{constructor(e,t,r,i,o,s,a,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Fp(e,t,Lp.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&x_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class ope{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class spe{constructor(){this.queries=sB(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(t,r){const i=Ze(t),o=i.queries;i.queries=sB(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})}(this,new je(we.ABORTED,"Firestore shutting down"))}}function sB(){return new Eu(n=>w7(n),x_)}function _D(){return _D=(0,re.A)(function*(n,e){const t=Ze(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new ope,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){const a=Op(s,`Initialization of query '${vp(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&bD(t)}),_D.apply(this,arguments)}function yD(){return yD=(0,re.A)(function*(n,e){const t=Ze(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),0===o.j_.length?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}),yD.apply(this,arguments)}function ape(n,e){const t=Ze(n);let r=!1;for(const i of e){const s=t.queries.get(i.query);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&bD(t)}function lpe(n,e,t){const r=Ze(n),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(t);r.queries.delete(e)}function bD(n){n.Y_.forEach(e=>{e.next()})}var wD,aB;(aB=wD||(wD={})).ea="default",aB.Cache="cache";class ID{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Fp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=Fp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==wD.Cache}}class cB{constructor(e){this.key=e}}class dB{constructor(e){this.key=e}}class hB{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=on(),this.mutatedKeys=on(),this.Aa=E7(e),this.Ra=new Lp(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new oB,i=t?t.Ra:this.Ra;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const g=i.get(c),p=P_(this.query,d)?d:null,b=!!g&&this.mutatedKeys.has(g.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;g&&p?g.data.isEqual(p.data)?b!==w&&(r.track({type:3,doc:p}),E=!0):this.ga(g,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!g&&p?(r.track({type:0,doc:p}),E=!0):g&&!p&&(r.track({type:1,doc:g}),E=!0,(l||u)&&(a=!0)),E&&(p?(s=s.add(p),o=w?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const c="F"===this.query.limitType?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,d)=>function(p,b){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return w(p)-w(b)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=null!=i&&i;const a=t&&!i?this.ya():[],l=0===this.da.size&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,0!==s.length||u?{snapshot:new Fp(this.query,e.Ra,o,s,e.mutatedKeys,0===l,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new oB,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=on(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const t=[];return e.forEach(r=>{this.da.has(r)||t.push(new dB(r))}),this.da.forEach(r=>{e.has(r)||t.push(new cB(r))}),t}ba(e){this.Ta=e.Ts,this.da=on();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Fp.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class dpe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class hpe{constructor(e){this.key=e,this.va=!1}}class fpe{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Eu(a=>w7(a),x_),this.Ma=new Map,this.xa=new Set,this.Oa=new _r(et.comparator),this.Na=new Map,this.La=new OS,this.Ba={},this.ka=new Map,this.qa=ah.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function ppe(n,e){return ED.apply(this,arguments)}function ED(){return ED=(0,re.A)(function*(n,e,t=!0){const r=Nb(n);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield fB(r,e,t,!0),i}),ED.apply(this,arguments)}function gpe(n,e){return AD.apply(this,arguments)}function AD(){return AD=(0,re.A)(function*(n,e){const t=Nb(n);yield fB(t,e,!0,!1)}),AD.apply(this,arguments)}function fB(n,e,t,r){return CD.apply(this,arguments)}function CD(){return CD=(0,re.A)(function*(n,e,t,r){const i=yield function xp(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,fe.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new Cu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.os.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}(n.localStore,_o(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t);let a;return r&&(a=yield function TD(n,e,t,r,i){return SD.apply(this,arguments)}(n,e,o,"current"===s,i.resumeToken)),n.isPrimaryClient&&t&&xb(n.remoteStore,i),a}),CD.apply(this,arguments)}function SD(){return SD=(0,re.A)(function*(n,e,t,r,i){n.Ka=(d,g,p)=>{return(b=(0,re.A)(function*(E,A,M,B){let F=A.view.ma(M);F.ns&&(F=yield Ab(E.localStore,A.query,!1).then(({documents:D})=>A.view.ma(D,F)));const X=B&&B.targetChanges.get(A.targetId),se=B&&null!=B.targetMismatches.get(A.targetId),z=A.view.applyChanges(F,E.isPrimaryClient,X,se);return VD(E,A.targetId,z.wa),z.snapshot}),function w(E,A,M,B){return b.apply(this,arguments)})(n,d,g,p);var b};const o=yield Ab(n.localStore,e,!0),s=new hB(e,o.Ts),a=s.ma(o.documents),l=F_.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),u=s.applyChanges(a,n.isPrimaryClient,l);VD(n,t,u.wa);const c=new dpe(e,t,s);return n.Fa.set(e,c),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot}),SD.apply(this,arguments)}function mpe(n,e,t){return DD.apply(this,arguments)}function DD(){return DD=(0,re.A)(function*(n,e,t){const r=Ze(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!x_(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Pp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Rp(r.remoteStore,i.targetId),Vp(r,i.targetId)}).catch(_c))):(Vp(r,i.targetId),yield Pp(r.localStore,i.targetId,!0))}),DD.apply(this,arguments)}function _pe(n,e){return xD.apply(this,arguments)}function xD(){return xD=(0,re.A)(function*(n,e){const t=Ze(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&1===i.length&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Rp(t.remoteStore,r.targetId))}),xD.apply(this,arguments)}function PD(){return PD=(0,re.A)(function*(n,e,t){const r=function QD(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bpe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wpe.bind(null,e),e}(n);try{const i=yield function(s,a){const l=Ze(s),u=Vr.now(),c=a.reduce((p,b)=>p.add(b.key),on());let d,g;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let b=fs(),w=on();return l.cs.getEntries(p,c).next(E=>{b=E,b.forEach((A,M)=>{M.isValidDocument()||(w=w.add(A))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,b)).next(E=>{d=E;const A=[];for(const M of a){const B=qhe(M,d.get(M.key).overlayedDocument);null!=B&&A.push(new Au(M.key,B,o7(B.value.mapValue),Rr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,A,a)}).next(E=>{g=E;const A=E.applyToLocalDocumentSet(d,w);return l.documentOverlayCache.saveOverlays(p,E.batchId,A)})}).then(()=>({batchId:g.batchId,changes:C7(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new _r(Ht)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Tu(r,i.changes),yield Mp(r.remoteStore)}catch(i){const o=Op(i,"Failed to persist write");t.reject(o)}}),PD.apply(this,arguments)}function pB(n,e){return ND.apply(this,arguments)}function ND(){return ND=(0,re.A)(function*(n,e){const t=Ze(n);try{const r=yield function Lfe(n,e){const t=Ze(n),r=e.snapshotVersion;let i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;const a=[];e.targetChanges.forEach((c,d)=>{const g=i.get(d);if(!g)return;a.push(t.Ur.removeMatchingKeys(o,c.removedDocuments,d).next(()=>t.Ur.addMatchingKeys(o,c.addedDocuments,d)));let p=g.withSequenceNumber(o.currentSequenceNumber);var w,E,A;null!==e.targetMismatches.get(d)?p=p.withResumeToken(Wr.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),E=p,A=c,(0===(w=g).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0)&&a.push(t.Ur.updateTargetData(o,p))});let l=fs(),u=on();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(function $U(n,e,t){let r=on(),i=on();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=fs();return t.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(It.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||0===l.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Be("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}(o,s,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(It.min())){const c=t.Ur.getLastRemoteSnapshotVersion(o).next(d=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return fe.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(t.os=i,o))}(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.Na.get(o);s&&(ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?ct(s.va):i.removedDocuments.size>0&&(ct(s.va),s.va=!1))}),yield Tu(t,r,e)}catch(r){yield _c(r)}}),ND.apply(this,arguments)}function gB(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ze(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const g of d.j_)g.Z_(a)&&(u=!0)}),u&&bD(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ype(n,e,t){return RD.apply(this,arguments)}function RD(){return RD=(0,re.A)(function*(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new _r(et.comparator);s=s.insert(o,Er.newNoDocument(o,It.min()));const a=on().add(o),l=new L_(It.min(),new Map,new _r(Ht),s,a);yield pB(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),UD(r)}else yield Pp(r.localStore,e,!1).then(()=>Vp(r,e,t)).catch(_c)}),RD.apply(this,arguments)}function bpe(n,e){return MD.apply(this,arguments)}function MD(){return MD=(0,re.A)(function*(n,e){const t=Ze(n),r=e.batch.batchId;try{const i=yield function Ofe(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,g=d.keys();let p=fe.resolve();return g.forEach(b=>{p=p.next(()=>c.getEntry(l,b)).next(w=>{const E=u.docVersions.get(b);ct(null!==E),w.version.compareTo(E)<0&&(d.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),c.addEntry(w)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=on();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);FD(t,r,null),LD(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Tu(t,i)}catch(i){yield _c(i)}}),MD.apply(this,arguments)}function wpe(n,e,t){return kD.apply(this,arguments)}function kD(){return kD=(0,re.A)(function*(n,e,t){const r=Ze(n);try{const i=yield function(s,a){const l=Ze(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(ct(null!==d),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);FD(r,e,t),LD(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Tu(r,i)}catch(i){yield _c(i)}}),kD.apply(this,arguments)}function LD(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function FD(n,e,t){const r=Ze(n);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Vp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||mB(n,r)})}function mB(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);null!==t&&(Rp(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),UD(n))}function VD(n,e,t){for(const r of t)r instanceof cB?(n.La.addReference(r.key,e),Epe(n,r)):r instanceof dB?(Be("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||mB(n,r.key)):ot()}function Epe(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(Be("SyncEngine","New document in limbo: "+t),n.xa.add(r),UD(n))}function UD(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new et(vn.fromString(e)),r=n.qa.next();n.Na.set(r,new hpe(t)),n.Oa=n.Oa.insert(t,r),xb(n.remoteStore,new Cu(_o(mp(t.path)),r,"TargetPurposeLimboResolution",Ls.oe))}}function Tu(n,e,t){return BD.apply(this,arguments)}function BD(){return BD=(0,re.A)(function*(n,e,t){const r=Ze(n),i=[],o=[],s=[];var a;r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,t).then(u=>{var c;if((u||t)&&r.isPrimaryClient){const d=u?!u.fromCache:null===(c=t?.targetChanges.get(l.targetId))||void 0===c?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=BS.Wi(l.targetId,u);o.push(d)}}))}),yield Promise.all(s),r.Ca.d_(i),yield(a=(0,re.A)(function*(u,c){const d=Ze(u);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>fe.forEach(c,p=>fe.forEach(p.$i,b=>d.persistence.referenceDelegate.addReference(g,p.targetId,b)).next(()=>fe.forEach(p.Ui,b=>d.persistence.referenceDelegate.removeReference(g,p.targetId,b)))))}catch(g){if(!vc(g))throw g;Be("LocalStore","Failed to update sequence numbers: "+g)}for(const g of c){const p=g.targetId;if(!g.fromCache){const b=d.os.get(p),E=b.withLastLimboFreeSnapshotVersion(b.snapshotVersion);d.os=d.os.insert(p,E)}}}),function l(u,c){return a.apply(this,arguments)})(r.localStore,o))}),BD.apply(this,arguments)}function Ape(n,e){return jD.apply(this,arguments)}function jD(){return jD=(0,re.A)(function*(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){Be("SyncEngine","User change. New user:",e.toKey());const r=yield jU(t.localStore,e);t.currentUser=e,(o=t).ka.forEach(a=>{a.forEach(l=>{l.reject(new je(we.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ka.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Tu(t,r.hs)}var o}),jD.apply(this,arguments)}function Cpe(n,e){const t=Ze(n),r=t.Na.get(e);if(r&&r.va)return on().add(r.key);{let i=on();const o=t.Ma.get(e);if(!o)return i;for(const s of o){const a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function Nb(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=pB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cpe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ype.bind(null,e),e.Ca.d_=ape.bind(null,e.eventManager),e.Ca.$a=lpe.bind(null,e.eventManager),e}let Up=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){var r=this;return(0,re.A)(function*(){r.serializer=W_(t.databaseInfo.databaseId),r.sharedClientState=r.Wa(t),r.persistence=r.Ga(t),yield r.persistence.start(),r.localStore=r.za(t),r.gcScheduler=r.ja(t,r.localStore),r.indexBackfillerScheduler=r.Ha(t,r.localStore)})()}ja(t,r){return null}Ha(t,r){return null}za(t){return function BU(n,e,t,r){return new kfe(n,e,t,r)}(this.persistence,new UU,t.initialUser,this.serializer)}Ga(t){return new LS(wb.Zr,this.serializer)}Wa(t){return new QU}terminate(){var t=this;return(0,re.A)(function*(){var r,i;null===(r=t.gcScheduler)||void 0===r||r.stop(),null===(i=t.indexBackfillerScheduler)||void 0===i||i.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}return n.provider={build:()=>new n},n})(),Bp=(()=>{class n{initialize(t,r){var i=this;return(0,re.A)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(r),i.remoteStore=i.createRemoteStore(r),i.eventManager=i.createEventManager(r),i.syncEngine=i.createSyncEngine(r,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=o=>gB(i.syncEngine,o,1),i.remoteStore.remoteSyncer.handleCredentialChange=Ape.bind(null,i.syncEngine),yield function fD(n,e){return pD.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new spe}createDatastore(t){const r=W_(t.databaseInfo.databaseId),i=new $fe(t.databaseInfo);return new Hfe(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return i=this.localStore,o=this.datastore,s=t.asyncQueue,a=r=>gB(this.syncEngine,r,0),l=YU.D()?new YU:new Bfe,new Kfe(i,o,s,a,l);var i,o,s,a,l}createSyncEngine(t,r){return function(o,s,a,l,u,c,d){const g=new fpe(o,s,a,l,u,c);return d&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){var t=this;return(0,re.A)(function*(){var r,i,o;yield(o=(0,re.A)(function*(a){const l=Ze(a);Be("RemoteStore","RemoteStore shutting down."),l.L_.add(5),yield Np(l),l.k_.shutdown(),l.q_.set("Unknown")}),function s(a){return o.apply(this,arguments)})(t.remoteStore),null===(r=t.datastore)||void 0===r||r.terminate(),null===(i=t.eventManager)||void 0===i||i.terminate()})()}}return n.provider={build:()=>new n},n})();class Rb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class Vpe{constructor(e,t,r,i,o){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Fi.UNAUTHENTICATED,this.clientId=NV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,function(){var a=(0,re.A)(function*(l){Be("FirestoreClient","Received user=",l.uid),yield s.authCredentialListener(l),s.user=l});return function(l){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>(Be("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,re.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Op(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function ZD(n,e){return JD.apply(this,arguments)}function JD(){return JD=(0,re.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,re.A)(function*(o){r.isEqual(o)||(yield jU(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),JD.apply(this,arguments)}function wB(n,e){return XD.apply(this,arguments)}function XD(){return XD=(0,re.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function ex(n){return tx.apply(this,arguments)}(n);Be("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>iB(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>iB(e.remoteStore,i)),n._onlineComponents=e}),XD.apply(this,arguments)}function tx(){return tx=(0,re.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Be("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ZD(n,n._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(i=e).name?i.code===we.FAILED_PRECONDITION||i.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw e;ca("Error using user provided cache. Falling back to memory cache: "+e),yield ZD(n,new Up)}}else Be("FirestoreClient","Using default OfflineComponentProvider"),yield ZD(n,new Up);var i;return n._offlineComponents}),tx.apply(this,arguments)}function Mb(n){return nx.apply(this,arguments)}function nx(){return nx=(0,re.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Be("FirestoreClient","Using user provided OnlineComponentProvider"),yield wB(n,n._uninitializedComponentsProvider._online)):(Be("FirestoreClient","Using default OnlineComponentProvider"),yield wB(n,new Bp))),n._onlineComponents}),nx.apply(this,arguments)}function zp(n){return ix.apply(this,arguments)}function ix(){return ix=(0,re.A)(function*(n){const e=yield Mb(n),t=e.eventManager;return t.onListen=ppe.bind(null,e.syncEngine),t.onUnlisten=mpe.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=gpe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_pe.bind(null,e.syncEngine),t}),ix.apply(this,arguments)}function SB(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const DB=new Map;function ox(n,e,t){if(!t)throw new je(we.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xB(n){if(!et.isDocumentKey(n))throw new je(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function PB(n){if(et.isDocumentKey(n))throw new je(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":ot()}function gn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new je(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kb(n);throw new je(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class RB{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new je(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new je(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Ype(n,e,t,r){if(!0===e&&!0===r)throw new je(we.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=SB(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new je(we.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new je(we.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new je(we.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Q_{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RB({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new je(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new je(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RB(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new $de;switch(r.type){case"firstParty":return new Wde(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new je(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,re.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=DB.get(t);r&&(Be("ComponentProvider","Removing Datastore"),DB.delete(t),r.terminate())}(this),Promise.resolve()}}class to{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new to(this.firestore,e,this._query)}}class ai{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ai(this.firestore,e,this._key)}}class yl extends to{constructor(e,t,r){super(e,t,mp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ai(this.firestore,null,new et(e))}withConverter(e){return new yl(this.firestore,e,this._path)}}function Jpe(n,e,...t){if(n=Ji(n),ox("collection","path",e),n instanceof Q_){const r=vn.fromString(e,...t);return PB(r),new yl(n,null,r)}{if(!(n instanceof ai||n instanceof yl))throw new je(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vn.fromString(e,...t));return PB(r),new yl(n.firestore,null,r)}}function MB(n,e,...t){if(n=Ji(n),1===arguments.length&&(e=NV.newId()),ox("doc","path",e),n instanceof Q_){const r=vn.fromString(e,...t);return xB(r),new ai(n,null,new et(r))}{if(!(n instanceof ai||n instanceof yl))throw new je(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vn.fromString(e,...t));return xB(r),new ai(n.firestore,n instanceof yl?n.converter:null,new et(r))}}class OB{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new YS(this,"async_queue_retry"),this.Vu=()=>{const r=Db();r&&Be("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=Db();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Db();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Vi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,re.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(t){if(!vc(t))throw t;Be("AsyncQueue","Operation failed with retryable error: "+t)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{throw this.Eu=r,this.du=!1,oi("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=gD.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ot()}verifyOperationInProgress(){}wu(){var e=this;return(0,re.A)(function*(){let t;do{t=e.mu,yield t}while(t!==e.mu)})()}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function sx(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(n)}class ar extends Q_{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new OB,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,re.A)(function*(){if(e._firestoreClient){const t=e._firestoreClient.terminate();e._queue=new OB(t),e._firestoreClient=void 0,yield t}})()}}function ege(n,e){const r="string"==typeof n?n:e||"(default)",i=function K6(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}("object"==typeof n?n:Z6(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(n=>{const e=(n=>{var e,t;return null===(t=null===(e=S0())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]})(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})("firestore");o&&function Zpe(n,e,t,r={}){var i;const o=(n=gn(n,Q_))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=Fi.MOCK_USER;else{a=function dae(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[C0(JSON.stringify({alg:"none",type:"JWT"})),C0(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new je(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Fi(u)}n._authCredentials=new qde(new xV(a,l))}}(i,...o)}return i}function Ur(n){if(n._terminated)throw new je(we.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||function LB(n){var e,t,r;const i=n._freezeSettings(),o=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Ehe(n._databaseId,l,n._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,SB(c.experimentalLongPollingOptions),c.useFetchStreams));var l,c;n._componentsProvider||!(null===(t=i.localCache)||void 0===t)&&t._offlineComponentProvider&&!(null===(r=i.localCache)||void 0===r)&&r._onlineComponentProvider&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Vpe(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}(n),n._firestoreClient}class uh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uh(Wr.fromBase64String(e))}catch(t){throw new je(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new uh(Wr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ch{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new je(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $p{constructor(e){this._methodName=e}}class lx{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new je(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new je(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}class Ob{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}const nge=/^__.*__$/;class rge{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Au(e,this.data,this.fieldMask,t,this.fieldTransforms):new wp(e,this.data,t,this.fieldTransforms)}}class VB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Au(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function UB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class Lb{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Lb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ub(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(UB(this.Cu)&&nge.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class ige{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||W_(e)}Qu(e,t,r,i=!1){return new Lb({Cu:e,methodName:t,qu:r,path:Pr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dh(n){const e=n._freezeSettings(),t=W_(n._databaseId);return new ige(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Fb(n,e,t,r,i,o={}){const s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);gx("Data must be an object, but it was:",s,r);const a=zB(r,s);let l,u;if(o.merge)l=new hs(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const g=J_(e,d,t);if(!s.contains(g))throw new je(we.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);qB(c,g)||c.push(g)}l=new hs(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new rge(new eo(a),l,u)}class Z_ extends $p{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Z_}}function hh(n,e){if($B(n=Ji(n)))return gx("Unsupported field value:",e,n),zB(n,e);if(n instanceof $p)return function(r,i){if(!UB(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=hh(a,i.Lu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if(null===(r=Ji(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return D7(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=Vr.fromDate(r);return{timestampValue:Ep(i.serializer,o)}}if(r instanceof Vr){const o=new Vr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ep(i.serializer,o)}}if(r instanceof lx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof uh)return{bytesValue:Y7(i.serializer,r._byteString)};if(r instanceof ai){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:AS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ob)return a=i,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:r.toArray().map(l=>{if("number"!=typeof l)throw a.Bu("VectorValues must only contain numeric values.");return _S(a.serializer,l)})}}}}};var a;throw i.Bu(`Unsupported field value: ${kb(r)}`)}(n,e)}function zB(n,e){const t={};return KV(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yc(n,(r,i)=>{const o=hh(i,e.Mu(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function $B(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Vr||n instanceof lx||n instanceof uh||n instanceof ai||n instanceof $p||n instanceof Ob)}function gx(n,e,t){if(!$B(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=kb(t);throw e.Bu("an object"===r?n+" a custom object":n+" "+r)}var i}function J_(n,e,t){if((e=Ji(e))instanceof ch)return e._internalPath;if("string"==typeof e)return Vb(n,e);throw Ub("Field path arguments must be of type string or ",n,!1,void 0,t)}const oge=new RegExp("[~\\*/\\[\\]]");function Vb(n,e,t){if(e.search(oge)>=0)throw Ub(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ch(...e.split("."))._internalPath}catch{throw Ub(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ub(n,e,t,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new je(we.INVALID_ARGUMENT,a+n+l)}function qB(n,e){return n.some(t=>t.isEqual(e))}class X_{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ai(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sge(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sge extends X_{data(){return super.data()}}function Bb(n,e){return"string"==typeof e?Vb(n,e):e instanceof ch?e._internalPath:e._delegate._internalPath}class mx{}class ev extends mx{}function age(n,e,...t){let r=[];e instanceof mx&&r.push(e),r=r.concat(t),function(o){const s=o.filter(l=>l instanceof qp).length,a=o.filter(l=>l instanceof tv).length;if(s>1||s>0&&a>0)throw new je(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class tv extends ev{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new tv(e,t,r)}_apply(e){const t=this._parse(e);return QB(e._query,t),new to(e.firestore,e.converter,gS(e._query,t))}_parse(e){const t=dh(e.firestore);return function(o,s,a,l,u,c,d){let g;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new je(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){KB(d,c);const p=[];for(const b of d)p.push(WB(l,o,b));g={arrayValue:{values:p}}}else g=WB(l,o,d)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||KB(d,c),g=function jB(n,e,t,r=!1){return hh(t,n.Qu(r?4:3,e))}(a,"where",d,"in"===c||"not-in"===c);return yn.create(u,c,g)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class qp extends mx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new qp(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Hn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)QB(s,l),s=gS(s,l)}(e._query,t),new to(e.firestore,e.converter,gS(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class _x extends ev{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new _x(e,t)}_apply(e){const t=function(i,o,s){if(null!==i.startAt)throw new je(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new je(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new S_(o,s)}(e._query,this._field,this._direction);return new to(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Iu(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function lge(n,e="asc"){const t=e,r=Bb("orderBy",n);return _x._create(r,t)}function WB(n,e,t){if("string"==typeof(t=Ji(t))){if(""===t)throw new je(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pS(e)&&-1!==t.indexOf("/"))throw new je(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(vn.fromString(t));if(!et.isDocumentKey(r))throw new je(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jd(n,new et(r))}if(t instanceof ai)return Jd(n,t._key);throw new je(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kb(t)}.`)}function KB(n,e){if(!Array.isArray(n)||0===n.length)throw new je(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QB(n,e){const t=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new je(we.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class ZB{convertValue(e,t="none"){switch(wc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ot()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return yc(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=null===(i=null===(r=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.map(s=>Nr(s.doubleValue));return new Ob(o)}convertGeoPoint(e){return new lx(Nr(e.latitude),Nr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=eb(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(E_(e));default:return null}}convertTimestamp(e){const t=bu(e);return new Vr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=vn.fromString(e);ct(lU(r));const i=new Zd(r.get(1),r.get(3)),o=new et(r.popFirst(5));return i.isEqual(t)||oi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class fh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gp extends X_{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Bb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Gb extends Gp{data(e={}){return super.data(e)}}class Hp{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new fh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Gb(this._firestore,this._userDataWriter,r.key,r,new fh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new je(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Gb(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new Gb(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return 0!==a.type&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:dge(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function dge(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}class Pc extends ZB{constructor(e){super(),this.firestore=e}convertBytes(e){return new uh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ai(this.firestore,null,t)}}function hge(n,e,t,...r){n=gn(n,ai);const i=gn(n.firestore,ar),o=dh(i);let s;return s="string"==typeof(e=Ji(e))||e instanceof ch?function px(n,e,t,r,i,o){const s=n.Qu(1,e,t),a=[J_(e,r,t)],l=[i];if(o.length%2!=0)throw new je(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(J_(e,o[g])),l.push(o[g+1]);const u=[],c=eo.empty();for(let g=a.length-1;g>=0;--g)if(!qB(u,a[g])){const p=a[g];let b=l[g];b=Ji(b);const w=s.Nu(p);if(b instanceof Z_)u.push(p);else{const E=hh(b,w);null!=E&&(u.push(p),c.set(p,E))}}const d=new hs(u);return new VB(c,d,s.fieldTransforms)}(o,"updateDoc",n._key,e,t,r):function fx(n,e,t,r){const i=n.Qu(1,e,t);gx("Data must be an object, but it was:",i,r);const o=[],s=eo.empty();yc(r,(l,u)=>{const c=Vb(e,l,t);u=Ji(u);const d=i.Nu(c);if(u instanceof Z_)o.push(c);else{const g=hh(u,d);null!=g&&(o.push(c),s.set(c,g))}});const a=new hs(o);return new VB(s,a,i.fieldTransforms)}(o,"updateDoc",n._key,e),nv(i,[s.toMutation(n._key,Rr.exists(!0))])}function fge(n){return nv(gn(n.firestore,ar),[new Ip(n._key,Rr.none())])}function pge(n,e){const t=gn(n.firestore,ar),r=MB(n),i=function qb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return nv(t,[Fb(dh(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Rr.exists(!1))]).then(()=>r)}function nv(n,e){return function(r,i){const o=new Vi;return r.asyncQueue.enqueueAndForget((0,re.A)(function*(){return function vpe(n,e,t){return PD.apply(this,arguments)}(yield function rx(n){return Mb(n).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(Ur(n),e)}!function(e,t=!0){lp=N0,tp(new Bd("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ar(new Gde(r.getProvider("auth-internal")),new Kde(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new je(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zd(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ks(DV,"4.7.3",e),ks(DV,"4.7.3","esm2017")}();var Wb=function(){return Wb=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Wb.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Dge={includeMetadataChanges:!1};function wx(n,e){return void 0===e&&(e=Dge),new or(function(t){var r=function gge(n,...e){var t,r,i;n=Ji(n);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof e[s]||sx(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(sx(e[s])){const d=e[s];e[s]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[s+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[s+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let l,u,c;if(n instanceof ai)u=gn(n.firestore,ar),c=mp(n._key.path),l={next:d=>{e[s]&&e[s](function vx(n,e,t){const r=t.docs.get(e._key),i=new Pc(n);return new Gp(n,i,e._key,r,new fh(t.hasPendingWrites,t.fromCache),e.converter)}(u,n,d))},error:e[s+1],complete:e[s+2]};else{const d=gn(n,to);u=gn(d.firestore,ar),c=d._query;const g=new Pc(u);l={next:p=>{e[s]&&e[s](new Hp(u,g,d,p))},error:e[s+1],complete:e[s+2]},function GB(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new je(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(g,p,b,w){const E=new Rb(w),A=new ID(p,E,b);return g.asyncQueue.enqueueAndForget((0,re.A)(function*(){return function mD(n,e){return _D.apply(this,arguments)}(yield zp(g),A)})),()=>{E.Za(),g.asyncQueue.enqueueAndForget((0,re.A)(function*(){return function vD(n,e){return yD.apply(this,arguments)}(yield zp(g),A)}))}}(Ur(u),c,a,l)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Oge(n,e){return void 0===e&&(e={}),function kge(n){return wx(n,{includeMetadataChanges:!0}).pipe(hn(function(e){return e.docs}))}(n).pipe(hn(function(t){return t.map(function(r){return function t9(n,e){var t;void 0===e&&(e={});var r=n.data(e);return n.exists()&&"object"==typeof r&&null!==r&&e.idField?Wb(Wb({},r),((t={})[e.idField]=n.id,t)):r}(r,e)})}))}class Wp{constructor(e){return e}}const o9="firestore",Ax=new at("angularfire2.firestore-instances");function Uge(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Wp(r)}}const Bge={provide:class Fge{constructor(){return jC(o9)}},deps:[[new ta,Ax]]},jge={provide:Wp,useFactory:function Vge(n,e){const t=function a8(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(o9,n,e);return t&&new Wp(t)},deps:[[new ta,Ax],i_]};let zge=(()=>{class n{constructor(){ks("angularfire",BC.full,"fst")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ts({type:n});static \u0275inj=Po({providers:[jge,Bge]})}return n})();function $ge(n,...e){return{ngModule:zge,providers:[{provide:Ax,useFactory:Uge(n),multi:!0,deps:[Un,po,u8,c8,[new ta,yV],[new ta,qle],...e]}]}}const Cx=hl(Oge,!0),Tx=hl(pge,!0),Kp=hl(Jpe,!0),s9=hl(fge,!0),Kb=hl(MB,!0),qge=hl(ege,!0),a9=hl(lge,!0),l9=hl(age,!0),u9=hl(hge,!0);function Qb(n,e){const t="object"==typeof e;return new Promise((r,i)=>{const o=new qh({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Mm)}});n.subscribe(o)})}let Yb=(()=>{class n{constructor(t){this.firestore=t,this.collectionName="giocatori"}getGiocatoriObservable(){const t=Kp(this.firestore,this.collectionName),r=l9(t,a9("numeroMaglia","asc"));return Cx(r,{idField:"id"})}getGiocatori(){var t=this;return(0,re.A)(function*(){return yield Qb(t.getGiocatoriObservable())})()}addGiocatore(t){var r=this;return(0,re.A)(function*(){const i=Kp(r.firestore,r.collectionName),o=r.normalizeGiocatore(t);yield Tx(i,o)})()}updateGiocatore(t,r){var i=this;return(0,re.A)(function*(){const o=Kb(i.firestore,i.collectionName,t),s=i.normalizeGiocatore(r);yield u9(o,s)})()}deleteGiocatore(t){var r=this;return(0,re.A)(function*(){const i=Kb(r.firestore,r.collectionName,t);yield s9(i)})()}addMultipleGiocatori(t){var r=this;return(0,re.A)(function*(){const i=Kp(r.firestore,r.collectionName);for(const o of t){const s=r.normalizeGiocatore(o);yield Tx(i,s)}})()}migrateFromLocalStorage(){var t=this;return(0,re.A)(function*(){const r=localStorage.getItem("giocatori");if(r){const i=JSON.parse(r);yield t.addMultipleGiocatori(i),console.log(`Migrati ${i.length} giocatori da localStorage a Firestore`)}})()}normalizeGiocatore(t){return{...t,nome:t.nome?t.nome.toLowerCase():"",cognome:t.cognome?t.cognome.toLowerCase():""}}static{this.\u0275fac=function(r){return new(r||n)(pt(Wp))}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Rc=(()=>{class n{constructor(t){this.giocatoriService=t,this.STORAGE_KEY="currentUser";const r=localStorage.getItem(this.STORAGE_KEY);this.currentUserSubject=new Ts(r?JSON.parse(r):null),this.currentUser=this.currentUserSubject.asObservable()}get currentUserValue(){return this.currentUserSubject.value}login(t){var r=this;return(0,re.A)(function*(){const o=(yield r.giocatoriService.getGiocatori()).find(s=>s.codiceFiscale&&s.codiceFiscale.toUpperCase()===t.toUpperCase());return!!o&&(localStorage.setItem(r.STORAGE_KEY,JSON.stringify(o)),r.currentUserSubject.next(o),!0)})()}logout(){localStorage.removeItem(this.STORAGE_KEY),this.currentUserSubject.next(null)}isAuthenticated(){return null!==this.currentUserValue}hasEditPermission(){const t=this.currentUserValue;return!!t&&("Amministratore"===t.profilo||"Staff"===t.profilo)}isCurrentUser(t){const r=this.currentUserValue;return!(!r||!t)&&r.nome===t.nome&&r.cognome===t.cognome}static{this.\u0275fac=function(r){return new(r||n)(pt(Yb))}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),c9=(()=>{class n{constructor(t){this.firestore=t,this.collectionName="partite"}getPartiteObservable(){const t=Kp(this.firestore,this.collectionName),r=l9(t,a9("numeroGara","asc"));return Cx(r,{idField:"id"})}getPartite(){var t=this;return(0,re.A)(function*(){return yield Qb(t.getPartiteObservable())})()}addPartita(t){var r=this;return(0,re.A)(function*(){const i=Kp(r.firestore,r.collectionName);yield Tx(i,t)})()}updatePartita(t,r){var i=this;return(0,re.A)(function*(){const o=Kb(i.firestore,i.collectionName,t);yield u9(o,r)})()}deletePartita(t){var r=this;return(0,re.A)(function*(){const i=Kb(r.firestore,r.collectionName,t);yield s9(i)})()}static{this.\u0275fac=function(r){return new(r||n)(pt(Wp))}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Gge(n,e){1&n&&(N(0,"a",37),ge(1,"img",38),N(2,"div",39)(3,"h4",21),H(4,"Punto Volley Thunders 2025/2026"),k(),N(5,"small",40),ge(6,"i",41),H(7," Clicca per vedere la squadra "),k()()())}function Hge(n,e){1&n&&(N(0,"div"),ge(1,"img",42),N(2,"div",39)(3,"h4",21),H(4,"Punto Volley Thunders 2025/2026"),k()()())}function Wge(n,e){if(1&n&&(N(0,"div",45)(1,"div",46)(2,"div")(3,"small",47),H(4),Xn(5,"date"),k(),N(6,"p",21),H(7),k()(),N(8,"span",48),H(9),k()()()),2&n){const t=e.$implicit,r=tt(2);Bt("border-success",r.isVittoria(t))("border-danger",!r.isVittoria(t)),Z(4),rt(Vo(5,12,t.data,"dd/MM/yyyy")),Z(3),ru("",t.ospitante," vs ",t.ospite,""),Z(1),Bt("bg-success",r.isVittoria(t))("bg-danger",!r.isVittoria(t)),Z(1),pr(" ",t.risultato," ")}}function Kge(n,e){if(1&n&&(N(0,"div",43),it(1,Wge,10,15,"div",44),k()),2&n){const t=tt();Z(1),Se("ngForOf",t.ultimiRisultati)}}function Qge(n,e){1&n&&(N(0,"div",49),ge(1,"i",50),H(2," Nessun risultato disponibile "),k())}function Yge(n,e){if(1&n&&(N(0,"div",52)(1,"div",53)(2,"div")(3,"small",47),H(4),Xn(5,"date"),k(),N(6,"p",54),H(7),k(),N(8,"small",47),ge(9,"i",55),H(10),ge(11,"i",56),H(12),k()()()()),2&n){const t=e.$implicit,r=e.first;Bt("bg-warning",r)("bg-opacity-10",r)("bg-light",!r),Z(4),rt(Vo(5,11,t.data,"EEEE dd/MM/yyyy")),Z(3),ru("",t.ospitante," vs ",t.ospite,""),Z(3),pr("",t.ora||"TBD"," "),Z(2),pr("",t.indirizzo||"Da definire"," ")}}function Zge(n,e){if(1&n&&(N(0,"div",43),it(1,Yge,13,14,"div",51),k()),2&n){const t=tt();Z(1),Se("ngForOf",t.prossimiAppuntamenti)}}function Jge(n,e){1&n&&(N(0,"div",49),ge(1,"i",50),H(2," Nessuna partita in programma "),k())}let Xge=(()=>{class n{constructor(t,r){this.authService=t,this.calendarioService=r,this.ultimiRisultati=[],this.prossimiAppuntamenti=[]}ngOnInit(){this.calendarioService.getPartiteObservable().subscribe(t=>{const r=new Date;r.setHours(0,0,0,0);const i=t.filter(s=>{if(!s.data)return!1;const a=new Date(s.data);return a.setHours(0,0,0,0),s.risultato&&a<r}).sort((s,a)=>{const l=new Date(s.data);return new Date(a.data).getTime()-l.getTime()});this.ultimiRisultati=i.slice(0,3);const o=t.filter(s=>{if(!s.data)return!1;const a=new Date(s.data);return a.setHours(0,0,0,0),a>=r}).sort((s,a)=>{const l=new Date(s.data),u=new Date(a.data);return l.getTime()-u.getTime()});this.prossimiAppuntamenti=o.slice(0,3)})}isVittoria(t){if(!t.risultato)return!1;const[r,i]=t.risultato.split("-").map(s=>parseInt(s.trim()));return t.ospitante.toLowerCase().includes("thunders")?r>i:i>r}static{this.\u0275fac=function(r){return new(r||n)(ke(Rc),ke(c9))}}static{this.\u0275cmp=es({type:n,selectors:[["app-homepage"]],decls:73,vars:6,consts:[[1,"container-fluid","px-4","mt-3"],[1,"row","d-none","d-md-block","mb-4"],[1,"col-12","text-center"],[1,"fw-bold","text-primary","mb-0"],[1,"bi","bi-lightning-fill"],[1,"row","g-4"],[1,"col-12","col-lg-6"],[1,"card","shadow","rounded-4","overflow-hidden","h-100"],[1,"position-relative"],["routerLink","/squadra","class","text-decoration-none d-block",4,"ngIf"],[4,"ngIf"],[1,"card","shadow","h-100"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"bi","bi-calendar3","me-2"],[1,"card-body"],[1,"d-flex","flex-column","gap-3"],[1,"p-3","bg-light","rounded"],[1,"d-flex","align-items-center","justify-content-between"],[1,"text-primary","mb-1"],[1,"bi","bi-calendar-week","me-2"],[1,"mb-0","fw-bold"],[1,"bi","bi-clock-fill","text-primary","fs-2"],[1,"mt-2"],["href","https://www.google.com/maps?q=Via+Ercolano+11,+Castel+Gandolfo,+Italy","target","_blank",1,"text-decoration-none","d-block"],[1,"bg-primary","bg-opacity-10","rounded","p-3"],[1,"text-muted","mb-1"],[1,"bi","bi-geo-alt-fill","me-1"],[1,"mb-0","small","text-primary","fw-semibold"],[1,"bi","bi-graph-up","me-2"],["class","d-flex flex-column gap-2",4,"ngIf"],["class","text-center text-muted py-4",4,"ngIf"],[1,"mt-3","text-center"],["routerLink","/calendario",1,"btn","btn-outline-primary","btn-sm"],[1,"bi","bi-calendar-check","me-1"],[1,"bi","bi-calendar-event","me-2"],[1,"bi","bi-calendar3","me-1"],["routerLink","/squadra",1,"text-decoration-none","d-block"],["src","assets/images/thunders.JPG","alt","Punto Volley CR ASD Thunders",1,"img-fluid","w-100","team-image-enhanced","clickable-image"],[1,"position-absolute","bottom-0","start-0","end-0","bg-dark","bg-opacity-75","text-white","text-center","py-3"],[1,"opacity-75"],[1,"bi","bi-arrow-right-circle","me-1"],["src","assets/images/thunders.JPG","alt","Punto Volley CR ASD Thunders",1,"img-fluid","w-100","team-image-enhanced"],[1,"d-flex","flex-column","gap-2"],["class","p-3 border-start border-4 bg-light rounded",3,"border-success","border-danger",4,"ngFor","ngForOf"],[1,"p-3","border-start","border-4","bg-light","rounded"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-muted"],[1,"badge","fs-6"],[1,"text-center","text-muted","py-4"],[1,"bi","bi-calendar-x","fs-2","d-block","mb-2"],["class","p-3 rounded",3,"bg-warning","bg-opacity-10","bg-light",4,"ngFor","ngForOf"],[1,"p-3","rounded"],[1,"d-flex","justify-content-between","align-items-start"],[1,"mb-1","fw-bold"],[1,"bi","bi-clock","me-1"],[1,"bi","bi-geo-alt","ms-2","me-1"]],template:function(r,i){1&r&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),H(4," PuntoVolley Thunders "),ge(5,"i",4),k()()(),N(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),it(10,Gge,8,0,"a",9),it(11,Hge,5,0,"div",10),k()()(),N(12,"div",6)(13,"div",11)(14,"div",12)(15,"h5",13),ge(16,"i",14),H(17," Allenamenti "),k()(),N(18,"div",15)(19,"div",16)(20,"div",17)(21,"div",18)(22,"div")(23,"h6",19),ge(24,"i",20),H(25,"Marted\xec "),k(),N(26,"p",21),H(27,"20:30 - 22:30"),k()(),ge(28,"i",22),k()(),N(29,"div",17)(30,"div",18)(31,"div")(32,"h6",19),ge(33,"i",20),H(34,"Venerd\xec "),k(),N(35,"p",21),H(36,"20:15 - 22:15"),k()(),ge(37,"i",22),k()(),N(38,"div",23)(39,"a",24)(40,"div",25)(41,"p",26),ge(42,"i",27),N(43,"strong"),H(44,"Palestra Paolo VI"),k()(),N(45,"p",28),H(46,"Via Ercolano 11, Castel Gandolfo"),k()()()()()()()(),N(47,"div",6)(48,"div",11)(49,"div",12)(50,"h5",13),ge(51,"i",29),H(52," Ultimi Risultati "),k()(),N(53,"div",15),it(54,Kge,2,1,"div",30),it(55,Qge,3,0,"div",31),N(56,"div",32)(57,"a",33),ge(58,"i",34),H(59," Vedi tutti i risultati "),k()()()()(),N(60,"div",6)(61,"div",11)(62,"div",12)(63,"h5",13),ge(64,"i",35),H(65," Prossime Partite "),k()(),N(66,"div",15),it(67,Zge,2,1,"div",30),it(68,Jge,3,0,"div",31),N(69,"div",32)(70,"a",33),ge(71,"i",36),H(72," Vedi calendario completo "),k()()()()()()()),2&r&&(Z(10),Se("ngIf",i.authService.hasEditPermission()),Z(1),Se("ngIf",!i.authService.hasEditPermission()),Z(43),Se("ngIf",i.ultimiRisultati.length>0),Z(1),Se("ngIf",0===i.ultimiRisultati.length),Z(12),Se("ngIf",i.prossimiAppuntamenti.length>0),Z(1),Se("ngIf",0===i.prossimiAppuntamenti.length))},dependencies:[qf,ul,Zm,Pm],styles:[".team-image-enhanced[_ngcontent-%COMP%]{object-fit:cover;height:400px;max-height:50vh;object-position:center;transition:transform .3s ease,filter .3s ease}.clickable-image[_ngcontent-%COMP%]:hover{transform:scale(1.02);filter:brightness(1.1);cursor:pointer}.maps-link[_ngcontent-%COMP%]{transition:all .3s ease}.maps-link[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026;background-color:var(--bs-primary)!important;background-opacity:.2!important}@media (max-width: 768px){.team-image-enhanced[_ngcontent-%COMP%]{height:300px;max-height:45vh}.maps-link[_ngcontent-%COMP%]:hover{transform:none}}@media (max-width: 480px){.team-image-enhanced[_ngcontent-%COMP%]{height:250px;max-height:40vh}.clickable-image[_ngcontent-%COMP%]:hover{transform:none}}"]})}}return n})(),d9=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(ke(Xl),ke(Ns))}}static{this.\u0275dir=Gt({type:n})}}return n})(),ph=(()=>{class n extends d9{static{this.\u0275fac=function(){let t;return function(i){return(t||(t=Yi(n)))(i||n)}}()}static{this.\u0275dir=Gt({type:n,features:[qn]})}}return n})();const bl=new at("NgValueAccessor"),tme={provide:bl,useExisting:dr(()=>Sx),multi:!0};let Sx=(()=>{class n extends ph{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=Yi(n)))(i||n)}}()}static{this.\u0275dir=Gt({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&Le("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[xr([tme]),qn]})}}return n})();const nme={provide:bl,useExisting:dr(()=>wl),multi:!0},ime=new at("CompositionEventMode");let wl=(()=>{class n extends d9{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rme(){const n=uc()?uc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(ke(Xl),ke(Ns),ke(ime,8))}}static{this.\u0275dir=Gt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Le("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[xr([nme]),qn]})}}return n})();function Mc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function h9(n){return null!=n&&"number"==typeof n.length}const bo=new at("NgValidators"),kc=new at("NgAsyncValidators"),ome=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Bi{static min(e){return f9(e)}static max(e){return p9(e)}static required(e){return g9(e)}static requiredTrue(e){return function m9(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function _9(n){return Mc(n.value)||ome.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function v9(n){return e=>Mc(e.value)||!h9(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return y9(e)}static pattern(e){return function b9(n){if(!n)return Zb;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Mc(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return T9(e)}static composeAsync(e){return S9(e)}}function f9(n){return e=>{if(Mc(e.value)||Mc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function p9(n){return e=>{if(Mc(e.value)||Mc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function g9(n){return Mc(n.value)?{required:!0}:null}function y9(n){return e=>h9(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Zb(n){return null}function w9(n){return null!=n}function I9(n){return mm(n)?ki(n):n}function E9(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function A9(n,e){return e.map(t=>t(n))}function C9(n){return n.map(e=>function sme(n){return!n.validate}(e)?e:t=>e.validate(t))}function T9(n){if(!n)return null;const e=n.filter(w9);return 0==e.length?null:function(t){return E9(A9(t,e))}}function Dx(n){return null!=n?T9(C9(n)):null}function S9(n){if(!n)return null;const e=n.filter(w9);return 0==e.length?null:function(t){return function eme(...n){const e=VN(n),{args:t,keys:r}=AF(n),i=new or(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,u=s;for(let c=0;c<s;c++){let d=!1;co(t[c]).subscribe(ei(o,g=>{d||(d=!0,u--),a[c]=g},()=>l--,void 0,()=>{(!l||!d)&&(u||o.next(r?CF(r,a):a),o.complete())}))}});return e?i.pipe(QA(e)):i}(A9(t,e).map(I9)).pipe(hn(E9))}}function xx(n){return null!=n?S9(C9(n)):null}function D9(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function x9(n){return n._rawValidators}function P9(n){return n._rawAsyncValidators}function Px(n){return n?Array.isArray(n)?n:[n]:[]}function Jb(n,e){return Array.isArray(n)?n.includes(e):n===e}function N9(n,e){const t=Px(e);return Px(n).forEach(i=>{Jb(t,i)||t.push(i)}),t}function R9(n,e){return Px(e).filter(t=>!Jb(n,t))}class M9{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Dx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class zo extends M9{get formDirective(){return null}get path(){return null}}class Oc extends M9{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class k9{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Lc=(()=>{class n extends k9{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(ke(Oc,2))}}static{this.\u0275dir=Gt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Bt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[qn]})}}return n})(),rv=(()=>{class n extends k9{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(ke(zo,10))}}static{this.\u0275dir=Gt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Bt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[qn]})}}return n})();const iv="VALID",e2="INVALID",Qp="PENDING",ov="DISABLED";function Mx(n){return(t2(n)?n.validators:n)||null}function kx(n,e){return(t2(e)?e.asyncValidators:n)||null}function t2(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function L9(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new ze(1e3,"");if(!r[t])throw new ze(1001,"")}function F9(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new ze(1002,"")})}class n2{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===iv}get invalid(){return this.status===e2}get pending(){return this.status==Qp}get disabled(){return this.status===ov}get enabled(){return this.status!==ov}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(N9(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(N9(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(R9(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(R9(e,this._rawAsyncValidators))}hasValidator(e){return Jb(this._rawValidators,e)}hasAsyncValidator(e){return Jb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Qp,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ov,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=iv,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===iv||this.status===Qp)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ov:iv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Qp,this._hasOwnPendingAsyncValidator=!0;const t=I9(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Jn,this.statusChanges=new Jn}_calculateStatus(){return this._allControlsDisabled()?ov:this.errors?e2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qp)?Qp:this._anyControlsHaveStatus(e2)?e2:iv}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){t2(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function cme(n){return Array.isArray(n)?Dx(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function dme(n){return Array.isArray(n)?xx(n):n||null}(this._rawAsyncValidators)}}class sv extends n2{constructor(e,t,r){super(Mx(t),kx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){F9(this,0,e),Object.keys(e).forEach(r=>{L9(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class V9 extends sv{}const gh=new at("CallSetDisabledState",{providedIn:"root",factory:()=>av}),av="always";function r2(n,e){return[...e.path,n]}function lv(n,e,t=av){Ox(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function fme(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&U9(n,e)})}(n,e),function gme(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function pme(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&U9(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function hme(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function i2(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),s2(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function o2(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ox(n,e){const t=x9(n);null!==e.validator?n.setValidators(D9(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=P9(n);null!==e.asyncValidator?n.setAsyncValidators(D9(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();o2(e._rawValidators,i),o2(e._rawAsyncValidators,i)}function s2(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=x9(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=P9(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return o2(e._rawValidators,r),o2(e._rawAsyncValidators,r),t}function U9(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function B9(n,e){Ox(n,e)}function Fx(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function j9(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Vx(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===wl?t=o:function vme(n){return Object.getPrototypeOf(n.constructor)===ph}(o)?r=o:i=o}),i||r||t||null}const bme={provide:zo,useExisting:dr(()=>a2)},uv=(()=>Promise.resolve())();let a2=(()=>{class n extends zo{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Jn,this.form=new sv({},Dx(t),xx(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){uv.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),lv(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){uv.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){uv.then(()=>{const r=this._findContainer(t.path),i=new sv({});B9(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){uv.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){uv.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,j9(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(ke(bo,10),ke(kc,10),ke(gh,8))}}static{this.\u0275dir=Gt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Le("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xr([bme]),qn]})}}return n})();function z9(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function $9(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const cv=class extends n2{constructor(e=null,t,r){super(Mx(t),kx(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),t2(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=$9(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){z9(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){z9(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){$9(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Eme={provide:Oc,useExisting:dr(()=>Yp)},H9=(()=>Promise.resolve())();let Yp=(()=>{class n extends Oc{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new cv,this._registered=!1,this.name="",this.update=new Jn,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Vx(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Fx(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){lv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){H9.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&zf(r);H9.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?r2(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(ke(zo,9),ke(bo,10),ke(kc,10),ke(bl,10),ke(j1,8),ke(gh,8))}}static{this.\u0275dir=Gt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[xr([Eme]),qn,rs]})}}return n})(),dv=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Gt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();const Ame={provide:bl,useExisting:dr(()=>l2),multi:!0};let l2=(()=>{class n extends ph{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=Yi(n)))(i||n)}}()}static{this.\u0275dir=Gt({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&Le("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[xr([Ame]),qn]})}}return n})(),W9=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ts({type:n})}static{this.\u0275inj=Po({})}}return n})();const Ux=new at("NgModelWithFormControlWarning"),xme={provide:zo,useExisting:dr(()=>Zp)};let Zp=(()=>{class n extends zo{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Jn,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(s2(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return lv(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){i2(t.control||null,t,!1),function yme(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,j9(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(i2(r||null,t),(n=>n instanceof cv)(i)&&(lv(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);B9(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function mme(n,e){return s2(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ox(this.form,this),this._oldForm&&s2(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(r){return new(r||n)(ke(bo,10),ke(kc,10),ke(gh,8))}}static{this.\u0275dir=Gt({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Le("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xr([xme]),qn,rs]})}}return n})();const Rme={provide:Oc,useExisting:dr(()=>hv)};let hv=(()=>{class n extends Oc{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Jn,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Vx(0,o)}ngOnChanges(t){this._added||this._setUpControl(),Fx(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return r2(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(ke(zo,13),ke(bo,10),ke(kc,10),ke(bl,10),ke(Ux,8))}}static{this.\u0275dir=Gt({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[xr([Rme]),qn,rs]})}}return n})();const Mme={provide:bl,useExisting:dr(()=>fv),multi:!0};function J9(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let fv=(()=>{class n extends ph{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=J9(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function kme(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=Yi(n)))(i||n)}}()}static{this.\u0275dir=Gt({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&Le("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[xr([Mme]),qn]})}}return n})(),zx=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(J9(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(ke(Ns),ke(Xl),ke(fv,9))}}static{this.\u0275dir=Gt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();const Ome={provide:bl,useExisting:dr(()=>$x),multi:!0};function X9(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let $x=(()=>{class n extends ph{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const u=this._getOptionValue(s[a].value);i.push(u)}}else{const s=r.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Lme(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=Yi(n)))(i||n)}}()}static{this.\u0275dir=Gt({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&Le("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[xr([Ome]),qn]})}}return n})(),qx=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(X9(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(X9(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(ke(Ns),ke(Xl),ke($x,9))}}static{this.\u0275dir=Gt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function tj(n){return"number"==typeof n?n:parseFloat(n)}let mh=(()=>{class n{constructor(){this._validator=Zb}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Zb,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Gt({type:n,features:[rs]})}}return n})();const Fme={provide:bo,useExisting:dr(()=>Gx),multi:!0};let Gx=(()=>{class n extends mh{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>tj(t),this.createValidator=t=>p9(t)}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=Yi(n)))(i||n)}}()}static{this.\u0275dir=Gt({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Ci("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[xr([Fme]),qn]})}}return n})();const Vme={provide:bo,useExisting:dr(()=>Hx),multi:!0};let Hx=(()=>{class n extends mh{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>tj(t),this.createValidator=t=>f9(t)}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=Yi(n)))(i||n)}}()}static{this.\u0275dir=Gt({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Ci("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[xr([Vme]),qn]})}}return n})();const Ume={provide:bo,useExisting:dr(()=>u2),multi:!0};let u2=(()=>{class n extends mh{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=zf,this.createValidator=t=>g9}enabled(t){return t}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=Yi(n)))(i||n)}}()}static{this.\u0275dir=Gt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Ci("required",i._enabled?"":null)},inputs:{required:"required"},features:[xr([Ume]),qn]})}}return n})();const $me={provide:bo,useExisting:dr(()=>pv),multi:!0};let pv=(()=>{class n extends mh{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function ej(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>y9(t)}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=Yi(n)))(i||n)}}()}static{this.\u0275dir=Gt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Ci("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[xr([$me]),qn]})}}return n})(),sj=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ts({type:n})}static{this.\u0275inj=Po({imports:[W9]})}}return n})();class aj extends n2{constructor(e,t,r){super(Mx(t),kx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){F9(this,0,e),e.forEach((r,i)=>{L9(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function lj(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Wx=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let o={};return lj(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new sv(i,o)}record(t,r=null){const i=this._reduceControls(t);return new V9(i,r)}control(t,r,i){let o={};return this.useNonNullable?(lj(r)?o=r:(o.validators=r,o.asyncValidators=i),new cv(t,{...o,nonNullable:!0})):new cv(t,r,i)}array(t,r,i){const o=t.map(s=>this._createControl(s));return new aj(o,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof cv||t instanceof n2?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Gme=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:gh,useValue:t.callSetDisabledState??av}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ts({type:n})}static{this.\u0275inj=Po({imports:[sj]})}}return n})(),Hme=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ux,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:gh,useValue:t.callSetDisabledState??av}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ts({type:n})}static{this.\u0275inj=Po({imports:[sj]})}}return n})(),Oa=(()=>{class n{static{this.PROFILI_UTENTE={amministratore:{value:"amministratore",label:"Amministratore"},giocatore:{value:"giocatore",label:"Giocatore"},staff:{value:"staff",label:"Staff"}}}static{this.RUOLI={schiacciatore:{value:"schiacciatore",label:"Schiacciatore"},palleggiatore:{value:"palleggiatore",label:"Palleggiatore"},centrale:{value:"centrale",label:"Centrale"},libero:{value:"libero",label:"Libero"},opposto:{value:"opposto",label:"Opposto"},allenatore:{value:"allenatore",label:"Allenatore"},dirigente:{value:"dirigente",label:"Dirigente"}}}static{this.ADDETTO_DEFIBRILLATORE_THUNDERS={nome:"Emanuele",cognome:"Peroni",codiceFiscale:"PRNMNL97L08D972O",dataDiNascita:"1997-07-08",luogoNascita:"Genzano di Roma",residenza:"Via Napoli 55, Albano Laziale"}}static{this.TITOLO_PDF="SETTORE DI ATTIVIT\xc0 PALLAVOLO UISP LAZIO SUD EST"}static{this.PRIMO_SOTTOTITOLO="LISTA PARTECIPANTI ALLA GARA"}static{this.SECONDO_SOTTOTITOLO="DENOMINAZIONE DELLA SQUADRA"}static{this.NOME_SQUADRA="PUNTO VOLLEY CR ASD THUNDERS"}static{this.TITOLO_DEFIBRILLATORE="DA COMPILARE DA PARTE DELLA SOLA SQUADRA OSPITANTE"}static{this.SOTTOTITOLO_DEFIBRILLATORE="AUTOCERTIFICAZIONE DELL'ADDETTO ALL'UTILIZZO DEL DEFIBRILLATORE (ART. 45 E 46 DPR 28 DICEMBRE 2000 N. 445)"}static{this.TESTO_DICHIARAZIONE_DEFIBRILLATORE="CONSAPEVOLE della responsabilit\xe0 penale e civile derivante da dichiarazioni mendaci, DICHIARA che nella struttura sportiva ove si svolge la gara \xe8 presente un defibrillatore semiautomatico esterno conforme alla vigente normativa e che \xe8 presente una persona adeguatamente formata al suo utilizzo."}}return n})();function Wme(n,e){if(1&n&&(N(0,"option",40),H(1),k()),2&n){const t=e.$implicit;Se("value",t.label),Z(1),rt(t.label)}}function Kme(n,e){if(1&n&&(N(0,"option",40),H(1),k()),2&n){const t=e.$implicit;Se("value",t.label),Z(1),rt(t.label)}}function Qme(n,e){if(1&n&&(N(0,"div",9)(1,"label",41),H(2,"Profilo *"),k(),N(3,"select",42)(4,"option",22),H(5,"Seleziona un profilo"),k(),it(6,Kme,2,2,"option",23),k(),N(7,"div",12),H(8,"Il profilo \xe8 obbligatorio"),k()()),2&n){const t=tt();let r;Z(3),Bt("is-invalid",(null==(r=t.giocatoreForm.get("profilo"))?null:r.invalid)&&(null==(r=t.giocatoreForm.get("profilo"))?null:r.touched)),Z(3),Se("ngForOf",t.profili)}}function Yme(n,e){1&n&&(N(0,"div",43),ge(1,"input",44),N(2,"label",45),H(3," Capitano "),k()())}let Zme=(()=>{class n{constructor(t,r){this.fb=t,this.authService=r,this.giocatore=null,this.isEditMode=!1,this.onSave=new Jn,this.onClose=new Jn,this.ruoli=[],this.profili=[]}ngOnInit(){this.ruoli=Object.values(Oa.RUOLI),this.profili=Object.values(Oa.PROFILI_UTENTE),this.giocatoreForm=this.fb.group({id:[null],nome:["",Bi.required],cognome:["",Bi.required],numeroMaglia:[""],dataDiNascita:["",Bi.required],ruolo:["",Bi.required],tesseraUisp:["",Bi.required],capitano:[!1],codiceFiscale:[""],profilo:["",Bi.required],email:["",[Bi.email]],tagliaDivisa:[""],scadenzaCertificatoMedico:[""]})}ngOnChanges(t){t.giocatore&&this.giocatoreForm&&(this.giocatore?this.giocatoreForm.patchValue(this.giocatore):this.giocatoreForm.reset())}salvaGiocatore(){if(this.giocatoreForm.valid){const t=this.giocatoreForm.value;t.tagliaDivisa&&(t.tagliaDivisa=t.tagliaDivisa.toUpperCase()),this.onSave.emit(t),this.giocatoreForm.reset({nome:"",cognome:"",numeroMaglia:"",dataDiNascita:"",ruolo:"",tesseraUisp:"",capitano:!1,codiceFiscale:"",profilo:"",email:"",tagliaDivisa:"",scadenzaCertificatoMedico:""})}}onCancel(){this.giocatoreForm.reset(),this.onClose.emit()}static{this.\u0275fac=function(r){return new(r||n)(ke(Wx),ke(Rc))}}static{this.\u0275cmp=es({type:n,selectors:[["app-dialog-giocatore"]],inputs:{giocatore:"giocatore",isEditMode:"isEditMode"},outputs:{onSave:"onSave",onClose:"onClose"},features:[rs],decls:78,vars:20,consts:[["id","giocatoreModal","tabindex","-1","aria-labelledby","giocatoreModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","giocatoreModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"row","mb-3"],[1,"col-6"],["for","nome",1,"form-label"],["type","text","id","nome","formControlName","nome",1,"form-control"],[1,"invalid-feedback"],["for","cognome",1,"form-label"],["type","text","id","cognome","formControlName","cognome",1,"form-control"],["for","numeroMaglia",1,"form-label"],["type","number","id","numeroMaglia","formControlName","numeroMaglia",1,"form-control"],["for","dataDiNascita",1,"form-label"],["type","date","id","dataDiNascita","formControlName","dataDiNascita",1,"form-control"],[1,"col-12"],["for","ruolo",1,"form-label"],["id","ruolo","formControlName","ruolo",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"ngClass"],["for","tesseraUisp",1,"form-label"],["type","text","id","tesseraUisp","formControlName","tesseraUisp",1,"form-control"],["class","col-6",4,"ngIf"],["for","codiceFiscale",1,"form-label"],["type","text","id","codiceFiscale","formControlName","codiceFiscale","maxlength","16",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","esempio@email.it",1,"form-control"],["for","tagliaDivisa",1,"form-label"],["type","text","id","tagliaDivisa","formControlName","tagliaDivisa","placeholder","Es: M, L, XL",1,"form-control",2,"text-transform","uppercase"],["for","scadenzaCertificatoMedico",1,"form-label"],["type","date","id","scadenzaCertificatoMedico","formControlName","scadenzaCertificatoMedico",1,"form-control"],["class","form-check mb-3",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[3,"value"],["for","profilo",1,"form-label"],["id","profilo","formControlName","profilo",1,"form-select"],[1,"form-check","mb-3"],["type","checkbox","id","capitano","formControlName","capitano",1,"form-check-input"],["for","capitano",1,"form-check-label"]],template:function(r,i){if(1&r&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),H(5),k(),ge(6,"button",5),k(),N(7,"div",6)(8,"form",7)(9,"div",8)(10,"div",9)(11,"label",10),H(12,"Nome *"),k(),ge(13,"input",11),N(14,"div",12),H(15,"Il nome \xe8 obbligatorio"),k()(),N(16,"div",9)(17,"label",13),H(18,"Cognome *"),k(),ge(19,"input",14),N(20,"div",12),H(21,"Il cognome \xe8 obbligatorio"),k()()(),N(22,"div",8)(23,"div",9)(24,"label",15),H(25,"Numero Maglia"),k(),ge(26,"input",16),k(),N(27,"div",9)(28,"label",17),H(29,"Data di Nascita *"),k(),ge(30,"input",18),N(31,"div",12),H(32,"La data di nascita \xe8 obbligatoria"),k()()(),N(33,"div",8)(34,"div",19)(35,"label",20),H(36,"Ruolo *"),k(),N(37,"select",21)(38,"option",22),H(39,"Seleziona un ruolo"),k(),it(40,Wme,2,2,"option",23),k(),N(41,"div",12),H(42,"Il ruolo \xe8 obbligatorio"),k()()(),N(43,"div",8)(44,"div",24)(45,"label",25),H(46,"Tessera UISP *"),k(),ge(47,"input",26),N(48,"div",12),H(49,"La tessera UISP \xe8 obbligatoria"),k()(),it(50,Qme,9,3,"div",27),k(),N(51,"div",8)(52,"div",19)(53,"label",28),H(54,"Codice Fiscale"),k(),ge(55,"input",29),k()(),N(56,"div",8)(57,"div",19)(58,"label",30),H(59,"Email"),k(),ge(60,"input",31),N(61,"div",12),H(62,"Inserisci un indirizzo email valido"),k()()(),N(63,"div",8)(64,"div",9)(65,"label",32),H(66,"Taglia Divisa"),k(),ge(67,"input",33),k(),N(68,"div",9)(69,"label",34),H(70,"Scadenza Certificato Medico"),k(),ge(71,"input",35),k()(),it(72,Yme,4,0,"div",36),k()(),N(73,"div",37)(74,"button",38),Le("click",function(){return i.onCancel()}),H(75,"Annulla"),k(),N(76,"button",39),Le("click",function(){return i.salvaGiocatore()}),H(77),k()()()()()),2&r){let o,s,a,l,u,c;Z(5),rt(i.isEditMode?"Modifica Giocatore":"Aggiungi Giocatore"),Z(3),Se("formGroup",i.giocatoreForm),Z(5),Bt("is-invalid",(null==(o=i.giocatoreForm.get("nome"))?null:o.invalid)&&(null==(o=i.giocatoreForm.get("nome"))?null:o.touched)),Z(6),Bt("is-invalid",(null==(s=i.giocatoreForm.get("cognome"))?null:s.invalid)&&(null==(s=i.giocatoreForm.get("cognome"))?null:s.touched)),Z(11),Bt("is-invalid",(null==(a=i.giocatoreForm.get("dataDiNascita"))?null:a.invalid)&&(null==(a=i.giocatoreForm.get("dataDiNascita"))?null:a.touched)),Z(7),Bt("is-invalid",(null==(l=i.giocatoreForm.get("ruolo"))?null:l.invalid)&&(null==(l=i.giocatoreForm.get("ruolo"))?null:l.touched)),Z(3),Se("ngForOf",i.ruoli),Z(4),Se("ngClass",i.authService.hasEditPermission()?"col-6":"col-12"),Z(3),Bt("is-invalid",(null==(u=i.giocatoreForm.get("tesseraUisp"))?null:u.invalid)&&(null==(u=i.giocatoreForm.get("tesseraUisp"))?null:u.touched)),Z(3),Se("ngIf",i.authService.hasEditPermission()),Z(10),Bt("is-invalid",(null==(c=i.giocatoreForm.get("email"))?null:c.invalid)&&(null==(c=i.giocatoreForm.get("email"))?null:c.touched)),Z(12),Se("ngIf",i.authService.hasEditPermission()),Z(4),Se("disabled",i.giocatoreForm.invalid),Z(1),pr(" ",i.isEditMode?"Salva Modifiche":"Aggiungi"," ")}},dependencies:[n0,qf,ul,dv,zx,qx,wl,l2,Sx,fv,Lc,rv,pv,Zp,hv]})}}return n})(),Kx=(()=>{class n{transform(t){return t?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():""}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275pipe=No({name:"capitalize",type:n,pure:!0})}}return n})();function Jme(n,e){if(1&n&&(N(0,"div",37)(1,"span",38),H(2),k()()),2&n){const t=tt();Z(2),pr("",t.numeroGiocatori," giocatori")}}function Xme(n,e){if(1&n&&(N(0,"span",45),H(1),Xn(2,"date"),k()),2&n){const t=tt().$implicit;Se("ngClass",tt().getCertificatoClass(t.scadenzaCertificatoMedico)),Z(1),pr(" ",Vo(2,2,t.scadenzaCertificatoMedico,"dd/MM/yyyy")," ")}}function e_e(n,e){1&n&&(N(0,"span"),H(1,"-"),k())}function t_e(n,e){if(1&n){const t=Gr();N(0,"tr")(1,"td")(2,"span",38),H(3),k()(),N(4,"td"),H(5),Xn(6,"capitalize"),k(),N(7,"td"),H(8),Xn(9,"capitalize"),k(),N(10,"td"),H(11),Xn(12,"date"),k(),N(13,"td"),H(14),k(),N(15,"td"),H(16),k(),N(17,"td"),H(18),k(),N(19,"td"),H(20),k(),N(21,"td"),H(22),k(),N(23,"td"),H(24),k(),N(25,"td"),it(26,Xme,3,5,"span",39),it(27,e_e,2,0,"span",31),k(),N(28,"td",40)(29,"button",41),Le("click",function(){const o=Cn(t).$implicit;return Tn(tt().openDialog(o))}),ge(30,"i",42),k(),N(31,"button",43),Le("click",function(){const o=Cn(t).$implicit;return Tn(tt().eliminaGiocatore(o))}),ge(32,"i",44),k()()()}if(2&n){const t=e.$implicit;Z(3),rt(t.numeroMaglia||"-"),Z(2),rt(as(6,12,t.cognome)),Z(3),rt(as(9,14,t.nome)),Z(3),rt(Vo(12,16,t.dataDiNascita,"dd/MM/yyyy")),Z(3),rt(t.ruolo),Z(2),rt(t.tesseraUisp),Z(2),rt(t.codiceFiscale||"-"),Z(2),rt(t.profilo),Z(2),rt(t.email||"-"),Z(2),rt(t.tagliaDivisa||"-"),Z(2),Se("ngIf",t.scadenzaCertificatoMedico),Z(1),Se("ngIf",!t.scadenzaCertificatoMedico)}}function n_e(n,e){if(1&n&&(N(0,"tr")(1,"td",46),ge(2,"i",47),H(3),k()()),2&n){const t=tt();Z(3),pr(" ",0===t.giocatori.length?"Nessun giocatore presente":"Nessun risultato trovato"," ")}}function r_e(n,e){1&n&&(N(0,"div",48),H(1," Nessun giocatore presente "),k())}function i_e(n,e){1&n&&(N(0,"span",38),H(1,"K"),k())}function o_e(n,e){if(1&n&&(N(0,"span",66),H(1),Xn(2,"date"),k()),2&n){const t=tt().$implicit;Se("ngClass",tt().getCertificatoClass(t.scadenzaCertificatoMedico)),Z(1),pr(" ",Vo(2,2,t.scadenzaCertificatoMedico,"dd/MM/yyyy")," ")}}function s_e(n,e){1&n&&(N(0,"span",60),H(1,"-"),k())}function a_e(n,e){if(1&n){const t=Gr();N(0,"div",49)(1,"h2",50)(2,"button",51)(3,"span",52),H(4),k(),N(5,"span",53),H(6),Xn(7,"capitalize"),Xn(8,"capitalize"),k(),it(9,i_e,2,0,"span",54),k()(),N(10,"div",55)(11,"div",56)(12,"div",57)(13,"div",58)(14,"span",59),H(15,"Data di Nascita"),k(),N(16,"span",60),H(17),Xn(18,"date"),k()(),N(19,"div",58)(20,"span",59),H(21,"Ruolo"),k(),N(22,"span",60),H(23),k()(),N(24,"div",58)(25,"span",59),H(26,"Tessera UISP"),k(),N(27,"span",60),H(28),k()(),N(29,"div",58)(30,"span",59),H(31,"Codice Fiscale"),k(),N(32,"span",60),H(33),k()(),N(34,"div",58)(35,"span",59),H(36,"Profilo"),k(),N(37,"span",60),H(38),k()(),N(39,"div",58)(40,"span",59),H(41,"Email"),k(),N(42,"span",60),H(43),k()(),N(44,"div",58)(45,"span",59),H(46,"Taglia Divisa"),k(),N(47,"span",60),H(48),k()(),N(49,"div",58)(50,"span",59),H(51,"Certificato Medico"),k(),it(52,o_e,3,5,"span",61),it(53,s_e,2,0,"span",62),k()(),N(54,"div",63)(55,"button",64),Le("click",function(){const o=Cn(t).$implicit;return Tn(tt().openDialog(o))}),ge(56,"i",42),H(57," Modifica "),k(),N(58,"button",65),Le("click",function(){const o=Cn(t).$implicit;return Tn(tt().eliminaGiocatore(o))}),ge(59,"i",44),H(60," Elimina "),k()()()()()}if(2&n){const t=e.$implicit,r=e.index;Z(1),Ci("id","headingGiocatore"+r),Z(1),Ci("data-bs-target","#collapseGiocatore"+r)("aria-controls","collapseGiocatore"+r),Z(2),rt(t.numeroMaglia||"-"),Z(2),ru("",as(7,18,t.cognome)," ",as(8,20,t.nome),""),Z(3),Se("ngIf",t.capitano),Z(1),Ci("id","collapseGiocatore"+r)("aria-labelledby","headingGiocatore"+r),Z(7),rt(Vo(18,22,t.dataDiNascita,"dd/MM/yyyy")),Z(6),rt(t.ruolo),Z(5),rt(t.tesseraUisp),Z(5),rt(t.codiceFiscale||"-"),Z(5),rt(t.profilo),Z(5),rt(t.email||"-"),Z(5),rt(t.tagliaDivisa||"-"),Z(4),Se("ngIf",t.scadenzaCertificatoMedico),Z(1),Se("ngIf",!t.scadenzaCertificatoMedico)}}const La=function(n,e,t){return{"bi-arrow-down":n,"bi-arrow-up":e,"bi-arrow-down-up":t}};let l_e=(()=>{class n{constructor(t){this.giocatoriService=t,this.giocatori=[],this.filteredGiocatori=[],this.selectedGiocatore=null,this.isEditMode=!1,this.filters={numeroMaglia:"",cognome:"",nome:"",dataDiNascita:"",ruolo:"",tesseraUisp:"",codiceFiscale:"",profilo:"",email:"",tagliaDivisa:"",scadenzaCertificatoMedico:""},this.sortColumn="cognome",this.sortDirection="asc"}ngOnInit(){this.giocatoriSubscription=this.giocatoriService.getGiocatoriObservable().subscribe(t=>{this.giocatori=t,this.applyFilters()})}ngOnDestroy(){this.giocatoriSubscription&&this.giocatoriSubscription.unsubscribe()}get giocatoriOrdinati(){return this.filteredGiocatori}applyFilters(){let t=[...this.giocatori];Object.keys(this.filters).forEach(r=>{const i=this.filters[r].toLowerCase().trim();i&&(t=t.filter(o=>{let s=o[r];if("dataDiNascita"===r&&s){const a=new Date(s);s=`${a.getDate().toString().padStart(2,"0")}/${(a.getMonth()+1).toString().padStart(2,"0")}/${a.getFullYear()}`}return s?.toString().toLowerCase().includes(i)}))}),t.sort((r,i)=>{let o=r[this.sortColumn],s=i[this.sortColumn];return"dataDiNascita"===this.sortColumn||"scadenzaCertificatoMedico"===this.sortColumn?(o=o?new Date(o).getTime():0,s=s?new Date(s).getTime():0):"numeroMaglia"===this.sortColumn?(o=parseInt(o)||0,s=parseInt(s)||0):(o=o?.toString().toLowerCase()||"",s=s?.toString().toLowerCase()||""),o<s?"asc"===this.sortDirection?-1:1:o>s?"asc"===this.sortDirection?1:-1:0}),this.filteredGiocatori=t}onFilterChange(){this.applyFilters()}sortBy(t){this.sortColumn===t?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=t,this.sortDirection="asc"),this.applyFilters()}clearFilters(){this.filters={numeroMaglia:"",cognome:"",nome:"",dataDiNascita:"",ruolo:"",tesseraUisp:"",codiceFiscale:"",profilo:"",email:"",tagliaDivisa:"",scadenzaCertificatoMedico:""},this.applyFilters()}get numeroGiocatori(){return this.giocatori.filter(t=>{const r=(t.ruolo||"").toLowerCase();return!r.includes("allenatore")&&!r.includes("dirigente")}).length}getCertificatoClass(t){if(!t)return"";const r=new Date,o=new Date(t).getTime()-r.getTime(),s=Math.ceil(o/864e5);return s>30?"badge bg-success":s>14?"badge bg-warning text-dark":"badge bg-danger"}openDialog(t){void 0!==t?(this.selectedGiocatore={...t},this.isEditMode=!0):(this.selectedGiocatore=null,this.isEditMode=!1)}handleSave(t){var r=this;return(0,re.A)(function*(){try{if(r.isEditMode&&r.selectedGiocatore){const i=r.selectedGiocatore.id,{id:o,...s}=t;yield r.giocatoriService.updateGiocatore(i,s)}else yield r.giocatoriService.addGiocatore(t);r.closeModal(),r.handleClose()}catch(i){console.error("Errore nel salvataggio del giocatore:",i),alert("Errore nel salvataggio. Riprova.")}})()}handleClose(){this.selectedGiocatore=null,this.isEditMode=!1}eliminaGiocatore(t){var r=this;return(0,re.A)(function*(){if(confirm("Sei sicuro di voler eliminare questo giocatore?"))try{const i=t.id;yield r.giocatoriService.deleteGiocatore(i)}catch(i){console.error("Errore nell'eliminazione del giocatore:",i),alert("Errore nell'eliminazione. Riprova.")}})()}closeModal(){const t=document.getElementById("giocatoreModal");if(t){const r=bootstrap.Modal.getInstance(t);r&&r.hide()}}handleFileUpload(t){var r=this;const i=t.target.files[0];if(!i)return;if(!i.name.endsWith(".json"))return alert("Seleziona un file JSON valido."),void(t.target.value="");const o=new FileReader;o.onload=function(){var s=(0,re.A)(function*(a){try{const l=JSON.parse(a.target.result);if(!Array.isArray(l))return alert("Il file JSON deve contenere un array di giocatori."),void(t.target.value="");const u=yield r.giocatoriService.getGiocatori(),c=[];let d=0;if(l.forEach(g=>{const p=(g.nome||"").toLowerCase(),b=(g.cognome||"").toLowerCase();u.some(E=>E.nome.toLowerCase()===p&&E.cognome.toLowerCase()===b)?d++:c.push({...g,nome:p,cognome:b,capitano:g.capitano||!1})}),c.length>0)try{yield r.giocatoriService.addMultipleGiocatori(c);let g=`${c.length} giocatori caricati con successo!`;d>0&&(g+=`\n${d} giocatori gi\xe0 presenti sono stati ignorati.`),alert(g)}catch(g){console.error("Errore nel caricamento dei giocatori:",g),alert("Errore nel caricamento. Riprova.")}else d>0?alert(`Nessun giocatore caricato.\n${d} giocatori erano gi\xe0 presenti.`):alert("Nessun giocatore valido trovato nel file");t.target.value=""}catch(l){console.error("Errore nel parsing del file JSON:",l),alert("Errore nel parsing del file JSON. Assicurati che il formato sia corretto."),t.target.value=""}});return function(a){return s.apply(this,arguments)}}(),o.readAsText(i)}exportToJSON(){if(0===this.giocatori.length)return void alert("Nessun giocatore da esportare.");const t=this.giocatori.map(l=>{const{id:u,...c}=l;return c}),r=JSON.stringify(t,null,2),i=new Blob([r],{type:"application/json"}),o=window.URL.createObjectURL(i),s=document.createElement("a");s.href=o;const a=(new Date).toISOString().split("T")[0];s.download=`giocatori_${a}.json`,s.click(),window.URL.revokeObjectURL(o)}static{this.\u0275fac=function(r){return new(r||n)(ke(Yb))}}static{this.\u0275cmp=es({type:n,selectors:[["app-giocatori"]],decls:121,vars:73,consts:[[1,"container-fluid","px-3","custom-spacing"],[1,"row","mb-2"],[1,"col-12","d-flex","justify-content-between","align-items-center","flex-wrap"],[1,"mb-2","mb-md-0"],[1,"mb-0"],[1,"badge","bg-primary","fs-4","text-uppercase"],["class","mt-2",4,"ngIf"],[1,"d-flex","gap-2"],["type","file","accept",".json",1,"file-input-hidden",3,"change"],["fileInput",""],["title","Importa giocatori da JSON",1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi-upload"],[1,"d-none","d-lg-inline"],["title","Esporta giocatori in JSON",1,"btn","btn-sm","btn-success",3,"click"],[1,"bi","bi-download"],["data-bs-toggle","modal","data-bs-target","#giocatoreModal",1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi-plus-circle"],[1,"table-container","d-none","d-md-block"],[1,"table-wrapper"],[1,"table","table-hover","modern-table"],[1,"table-header","sticky-header"],[1,"sortable",3,"click"],[1,"th-content"],[1,"bi",3,"ngClass"],[1,"actions-column"],["title","Pulisci filtri",1,"btn","btn-sm","btn-link","text-white",3,"click"],[1,"bi","bi-x-circle"],[1,"filter-row"],["type","text","placeholder","Filtra...",1,"form-control","form-control-sm","filter-input",3,"ngModel","ngModelChange","input"],["type","text","placeholder","gg/mm/aaaa",1,"form-control","form-control-sm","filter-input",3,"ngModel","ngModelChange","input"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"d-md-none"],["class","text-center text-muted py-4",4,"ngIf"],["id","giocatoriAccordion",1,"accordion"],["class","accordion-item",4,"ngFor","ngForOf"],[3,"giocatore","isEditMode","onSave","onClose"],[1,"mt-2"],[1,"badge","bg-primary"],[3,"ngClass",4,"ngIf"],[1,"actions-cell"],["data-bs-toggle","modal","data-bs-target","#giocatoreModal","title","Modifica",1,"btn","btn-sm","btn-primary","me-1",3,"click"],[1,"bi","bi-pencil"],["title","Elimina",1,"btn","btn-sm","btn-danger",3,"click"],[1,"bi","bi-trash"],[3,"ngClass"],["colspan","12",1,"text-center","text-muted","py-4"],[1,"bi","bi-inbox","fs-1","d-block","mb-2"],[1,"text-center","text-muted","py-4"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"accordion-button","collapsed"],[1,"badge","bg-primary","me-2","numero-maglia-badge"],[1,"flex-grow-1"],["class","badge bg-primary",4,"ngIf"],["data-bs-parent","#giocatoriAccordion",1,"accordion-collapse","collapse"],[1,"accordion-body"],[1,"player-info-grid"],[1,"info-item"],[1,"info-label"],[1,"info-value"],["class","info-value",3,"ngClass",4,"ngIf"],["class","info-value",4,"ngIf"],[1,"mt-3","d-flex","flex-wrap","gap-2","justify-content-end"],["data-bs-toggle","modal","data-bs-target","#giocatoreModal",1,"btn","btn-primary","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"info-value",3,"ngClass"]],template:function(r,i){if(1&r){const o=Gr();N(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4)(5,"span",5),H(6,"Giocatori"),k()(),it(7,Jme,3,1,"div",6),k(),N(8,"div",7)(9,"input",8,9),Le("change",function(a){return i.handleFileUpload(a)}),k(),N(11,"button",10),Le("click",function(){return Cn(o),Tn(DE(10).click())}),ge(12,"i",11),N(13,"span",12),H(14,"Importa"),k()(),N(15,"button",13),Le("click",function(){return i.exportToJSON()}),ge(16,"i",14),N(17,"span",12),H(18,"Esporta"),k()(),N(19,"button",15),Le("click",function(){return i.openDialog()}),ge(20,"i",16),N(21,"span",12),H(22,"Aggiungi"),k()()()()(),N(23,"div",17)(24,"div",18)(25,"table",19)(26,"thead",20)(27,"tr")(28,"th",21),Le("click",function(){return i.sortBy("numeroMaglia")}),N(29,"div",22)(30,"span"),H(31,"N. Maglia"),k(),ge(32,"i",23),k()(),N(33,"th",21),Le("click",function(){return i.sortBy("cognome")}),N(34,"div",22)(35,"span"),H(36,"Cognome"),k(),ge(37,"i",23),k()(),N(38,"th",21),Le("click",function(){return i.sortBy("nome")}),N(39,"div",22)(40,"span"),H(41,"Nome"),k(),ge(42,"i",23),k()(),N(43,"th",21),Le("click",function(){return i.sortBy("dataDiNascita")}),N(44,"div",22)(45,"span"),H(46,"Data di Nascita"),k(),ge(47,"i",23),k()(),N(48,"th",21),Le("click",function(){return i.sortBy("ruolo")}),N(49,"div",22)(50,"span"),H(51,"Ruolo"),k(),ge(52,"i",23),k()(),N(53,"th",21),Le("click",function(){return i.sortBy("tesseraUisp")}),N(54,"div",22)(55,"span"),H(56,"Tessera UISP"),k(),ge(57,"i",23),k()(),N(58,"th",21),Le("click",function(){return i.sortBy("codiceFiscale")}),N(59,"div",22)(60,"span"),H(61,"Codice Fiscale"),k(),ge(62,"i",23),k()(),N(63,"th",21),Le("click",function(){return i.sortBy("profilo")}),N(64,"div",22)(65,"span"),H(66,"Profilo"),k(),ge(67,"i",23),k()(),N(68,"th",21),Le("click",function(){return i.sortBy("email")}),N(69,"div",22)(70,"span"),H(71,"Email"),k(),ge(72,"i",23),k()(),N(73,"th",21),Le("click",function(){return i.sortBy("tagliaDivisa")}),N(74,"div",22)(75,"span"),H(76,"Taglia Divisa"),k(),ge(77,"i",23),k()(),N(78,"th",21),Le("click",function(){return i.sortBy("scadenzaCertificatoMedico")}),N(79,"div",22)(80,"span"),H(81,"Scadenza Cert. Medico"),k(),ge(82,"i",23),k()(),N(83,"th",24)(84,"div",22)(85,"span"),H(86,"Azioni"),k(),N(87,"button",25),Le("click",function(){return i.clearFilters()}),ge(88,"i",26),k()()()(),N(89,"tr",27)(90,"th")(91,"input",28),Le("ngModelChange",function(a){return i.filters.numeroMaglia=a})("input",function(){return i.onFilterChange()}),k()(),N(92,"th")(93,"input",28),Le("ngModelChange",function(a){return i.filters.cognome=a})("input",function(){return i.onFilterChange()}),k()(),N(94,"th")(95,"input",28),Le("ngModelChange",function(a){return i.filters.nome=a})("input",function(){return i.onFilterChange()}),k()(),N(96,"th")(97,"input",29),Le("ngModelChange",function(a){return i.filters.dataDiNascita=a})("input",function(){return i.onFilterChange()}),k()(),N(98,"th")(99,"input",28),Le("ngModelChange",function(a){return i.filters.ruolo=a})("input",function(){return i.onFilterChange()}),k()(),N(100,"th")(101,"input",28),Le("ngModelChange",function(a){return i.filters.tesseraUisp=a})("input",function(){return i.onFilterChange()}),k()(),N(102,"th")(103,"input",28),Le("ngModelChange",function(a){return i.filters.codiceFiscale=a})("input",function(){return i.onFilterChange()}),k()(),N(104,"th")(105,"input",28),Le("ngModelChange",function(a){return i.filters.profilo=a})("input",function(){return i.onFilterChange()}),k()(),N(106,"th")(107,"input",28),Le("ngModelChange",function(a){return i.filters.email=a})("input",function(){return i.onFilterChange()}),k()(),N(108,"th")(109,"input",28),Le("ngModelChange",function(a){return i.filters.tagliaDivisa=a})("input",function(){return i.onFilterChange()}),k()(),N(110,"th")(111,"input",29),Le("ngModelChange",function(a){return i.filters.scadenzaCertificatoMedico=a})("input",function(){return i.onFilterChange()}),k()(),ge(112,"th"),k()(),N(113,"tbody"),it(114,t_e,33,19,"tr",30),it(115,n_e,4,1,"tr",31),k()()()(),N(116,"div",32),it(117,r_e,2,0,"div",33),N(118,"div",34),it(119,a_e,61,25,"div",35),k()()(),N(120,"app-dialog-giocatore",36),Le("onSave",function(a){return i.handleSave(a)})("onClose",function(){return i.handleClose()}),k()}2&r&&(Z(7),Se("ngIf",i.giocatori.length),Z(25),Se("ngClass",gi(29,La,"numeroMaglia"===i.sortColumn&&"asc"===i.sortDirection,"numeroMaglia"===i.sortColumn&&"desc"===i.sortDirection,"numeroMaglia"!==i.sortColumn)),Z(5),Se("ngClass",gi(33,La,"cognome"===i.sortColumn&&"asc"===i.sortDirection,"cognome"===i.sortColumn&&"desc"===i.sortDirection,"cognome"!==i.sortColumn)),Z(5),Se("ngClass",gi(37,La,"nome"===i.sortColumn&&"asc"===i.sortDirection,"nome"===i.sortColumn&&"desc"===i.sortDirection,"nome"!==i.sortColumn)),Z(5),Se("ngClass",gi(41,La,"dataDiNascita"===i.sortColumn&&"asc"===i.sortDirection,"dataDiNascita"===i.sortColumn&&"desc"===i.sortDirection,"dataDiNascita"!==i.sortColumn)),Z(5),Se("ngClass",gi(45,La,"ruolo"===i.sortColumn&&"asc"===i.sortDirection,"ruolo"===i.sortColumn&&"desc"===i.sortDirection,"ruolo"!==i.sortColumn)),Z(5),Se("ngClass",gi(49,La,"tesseraUisp"===i.sortColumn&&"asc"===i.sortDirection,"tesseraUisp"===i.sortColumn&&"desc"===i.sortDirection,"tesseraUisp"!==i.sortColumn)),Z(5),Se("ngClass",gi(53,La,"codiceFiscale"===i.sortColumn&&"asc"===i.sortDirection,"codiceFiscale"===i.sortColumn&&"desc"===i.sortDirection,"codiceFiscale"!==i.sortColumn)),Z(5),Se("ngClass",gi(57,La,"profilo"===i.sortColumn&&"asc"===i.sortDirection,"profilo"===i.sortColumn&&"desc"===i.sortDirection,"profilo"!==i.sortColumn)),Z(5),Se("ngClass",gi(61,La,"email"===i.sortColumn&&"asc"===i.sortDirection,"email"===i.sortColumn&&"desc"===i.sortDirection,"email"!==i.sortColumn)),Z(5),Se("ngClass",gi(65,La,"tagliaDivisa"===i.sortColumn&&"asc"===i.sortDirection,"tagliaDivisa"===i.sortColumn&&"desc"===i.sortDirection,"tagliaDivisa"!==i.sortColumn)),Z(5),Se("ngClass",gi(69,La,"scadenzaCertificatoMedico"===i.sortColumn&&"asc"===i.sortDirection,"scadenzaCertificatoMedico"===i.sortColumn&&"desc"===i.sortDirection,"scadenzaCertificatoMedico"!==i.sortColumn)),Z(9),Se("ngModel",i.filters.numeroMaglia),Z(2),Se("ngModel",i.filters.cognome),Z(2),Se("ngModel",i.filters.nome),Z(2),Se("ngModel",i.filters.dataDiNascita),Z(2),Se("ngModel",i.filters.ruolo),Z(2),Se("ngModel",i.filters.tesseraUisp),Z(2),Se("ngModel",i.filters.codiceFiscale),Z(2),Se("ngModel",i.filters.profilo),Z(2),Se("ngModel",i.filters.email),Z(2),Se("ngModel",i.filters.tagliaDivisa),Z(2),Se("ngModel",i.filters.scadenzaCertificatoMedico),Z(3),Se("ngForOf",i.giocatoriOrdinati),Z(1),Se("ngIf",0===i.filteredGiocatori.length),Z(2),Se("ngIf",0===i.giocatori.length),Z(2),Se("ngForOf",i.giocatoriOrdinati),Z(1),Se("giocatore",i.selectedGiocatore)("isEditMode",i.isEditMode))},dependencies:[n0,qf,ul,wl,Lc,Yp,Zme,Pm,Kx],styles:[".file-input-hidden[_ngcontent-%COMP%]{display:none}.custom-spacing[_ngcontent-%COMP%]{margin-top:-20px}.numero-maglia-badge[_ngcontent-%COMP%]{min-width:40px;text-align:center}.table-container[_ngcontent-%COMP%]{background:white;border-radius:8px;box-shadow:0 1px 3px #00000014;overflow:hidden;margin-bottom:2rem}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;max-height:calc(100vh - 200px)}.modern-table[_ngcontent-%COMP%]{margin-bottom:0;font-size:.9rem}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10}.table-header[_ngcontent-%COMP%]{background-color:#cfe2ff;color:#084298}.table-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#cfe2ff!important}.table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.75rem;font-weight:600;white-space:nowrap;background-color:#cfe2ff!important}.sortable[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:background-color .2s}.sortable[_ngcontent-%COMP%]:hover{background-color:#0842981a}.th-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.5rem}.th-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem;opacity:.7}.filter-row[_ngcontent-%COMP%]{background-color:#cfe2ff}.filter-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem;background-color:#cfe2ff;border-top:none}.filter-input[_ngcontent-%COMP%]{font-size:.85rem;border:1px solid #dee2e6;border-radius:4px;padding:.375rem .5rem}.filter-input[_ngcontent-%COMP%]:focus{border-color:#6ea8fe;box-shadow:0 0 0 .2rem #6ea8fe40}.table-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{color:#084298;opacity:.8}.table-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{color:#052c65;opacity:1}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .15s;border-bottom:1px solid #f8f9fa}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#0d6efd0a}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;vertical-align:middle}.actions-column[_ngcontent-%COMP%]{min-width:120px;text-align:center}.actions-cell[_ngcontent-%COMP%]{white-space:nowrap;text-align:center}.actions-cell[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem}.actions-cell[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0}.modern-table[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.875rem;padding:.35rem .65rem;font-weight:500}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.375rem}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:last-child{margin-right:0}@media (max-width: 1400px){.modern-table[_ngcontent-%COMP%]{font-size:.85rem}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem}}@media (max-width: 768px){.table-container[_ngcontent-%COMP%]{display:none}}.player-info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:.5rem 1rem}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.5rem;background-color:#f8f9fa;border-radius:6px}.info-label[_ngcontent-%COMP%]{font-weight:600;color:#6c757d;font-size:.75rem;text-transform:uppercase;margin-bottom:.25rem}.info-value[_ngcontent-%COMP%]{font-weight:500;color:#212529;font-size:.9rem}.accordion-button[_ngcontent-%COMP%]:after{display:none}"]})}}return n})(),uj=(()=>{class n{constructor(){this.onSave=new Jn,this.onClose=new Jn,this.ospitanteRis=null,this.ospiteRis=null}open(){this.ospitanteRis=null,this.ospiteRis=null;const t=document.getElementById("risultatoModal");t&&(this.modalInstance=new bootstrap.Modal(t),this.modalInstance.show())}salva(){null==this.ospitanteRis||null==this.ospiteRis||(this.onSave.emit({ospitante:this.ospitanteRis,ospite:this.ospiteRis}),this.chiudi())}chiudi(){this.modalInstance&&this.modalInstance.hide(),this.onClose.emit()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=es({type:n,selectors:[["app-dialog-risultato"]],inputs:{partita:"partita"},outputs:{onSave:"onSave",onClose:"onClose"},decls:22,vars:5,consts:[["id","risultatoModal","tabindex","-1","aria-labelledby","dialogRisultatoLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","dialogRisultatoLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["autocomplete","off",3,"ngSubmit"],[1,"mb-3","d-flex","align-items-center","justify-content-between"],[1,"form-label","mb-0"],["type","number","name","ospitanteRis","min","0","max","3","required","",1,"form-control","w-auto","ms-2",3,"ngModel","ngModelChange"],["type","number","name","ospiteRis","min","0","max","3","required","",1,"form-control","w-auto","ms-2",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-success",3,"disabled","click"]],template:function(r,i){1&r&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),H(5,"Inserisci Risultato"),k(),N(6,"button",5),Le("click",function(){return i.chiudi()}),k()(),N(7,"div",6)(8,"form",7),Le("ngSubmit",function(){return i.salva()}),N(9,"div",8)(10,"label",9),H(11),k(),N(12,"input",10),Le("ngModelChange",function(s){return i.ospitanteRis=s}),k()(),N(13,"div",8)(14,"label",9),H(15),k(),N(16,"input",11),Le("ngModelChange",function(s){return i.ospiteRis=s}),k()()()(),N(17,"div",12)(18,"button",13),Le("click",function(){return i.chiudi()}),H(19,"Annulla"),k(),N(20,"button",14),Le("click",function(){return i.salva()}),H(21,"Salva"),k()()()()()),2&r&&(Z(11),rt(null==i.partita?null:i.partita.ospitante),Z(1),Se("ngModel",i.ospitanteRis),Z(3),rt(null==i.partita?null:i.partita.ospite),Z(1),Se("ngModel",i.ospiteRis),Z(4),Se("disabled",null==i.ospitanteRis||null==i.ospiteRis||i.ospitanteRis<0||i.ospitanteRis>3||i.ospiteRis<0||i.ospiteRis>3))},dependencies:[dv,wl,l2,Lc,rv,u2,Hx,Gx,Yp,a2]})}}return n})();function Wn(n){return Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wn(n)}var Kn=Uint8Array,$o=Uint16Array,gv=Int32Array,Jp=new Kn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Xp=new Kn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),mv=new Kn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),dj=function(n,e){for(var t=new $o(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];var i=new gv(t[30]);for(r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)i[o]=o-t[r]<<5|r;return{b:t,r:i}},hj=dj(Jp,2),c2=hj.r;hj.b[28]=258,c2[258]=28;for(var Yx=dj(Xp,0).r,_v=new $o(32768),Ar=0;Ar<32768;++Ar){var Fc=(43690&Ar)>>1|(21845&Ar)<<1;_v[Ar]=((65280&(Fc=(61680&(Fc=(52428&Fc)>>2|(13107&Fc)<<2))>>4|(3855&Fc)<<4))>>8|(255&Fc)<<8)>>1}var Il=function(n,e,t){for(var r=n.length,i=0,o=new $o(e);i<r;++i)n[i]&&++o[n[i]-1];var a,s=new $o(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;if(t){a=new $o(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var u=i<<4|n[i],c=e-n[i],d=s[n[i]-1]++<<c,g=d|(1<<c)-1;d<=g;++d)a[_v[d]>>l]=u}else for(a=new $o(r),i=0;i<r;++i)n[i]&&(a[i]=_v[s[n[i]-1]++]>>15-n[i]);return a},Vc=new Kn(288);for(Ar=0;Ar<144;++Ar)Vc[Ar]=8;for(Ar=144;Ar<256;++Ar)Vc[Ar]=9;for(Ar=256;Ar<280;++Ar)Vc[Ar]=7;for(Ar=280;Ar<288;++Ar)Vc[Ar]=8;var vv=new Kn(32);for(Ar=0;Ar<32;++Ar)vv[Ar]=5;var gj=Il(Vc,9,0),_j=Il(vv,5,0),yv=function(n){return(n+7)/8|0},El=function(n,e,t){var r=e/8|0;n[r]|=t<<=7&e,n[r+1]|=t>>8},eg=function(n,e,t){var r=e/8|0;n[r]|=t<<=7&e,n[r+1]|=t>>8,n[r+2]|=t>>16},p2=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,o=t.slice();if(!i)return{t:eP,l:0};if(1==i){var s=new Kn(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(X,se){return X.f-se.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],u=0,c=1,d=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=i-1;)a=t[t[u].f<t[d].f?u++:d++],l=t[u!=c&&t[u].f<t[d].f?u++:d++],t[c++]={s:-1,f:a.f+l.f,l:a,r:l};var g=o[0].s;for(r=1;r<i;++r)o[r].s>g&&(g=o[r].s);var p=new $o(g+1),b=g2(t[c-1],p,0);if(b>e){r=0;var w=0,E=b-e,A=1<<E;for(o.sort(function(se,z){return p[z.s]-p[se.s]||se.f-z.f});r<i;++r){var M=o[r].s;if(!(p[M]>e))break;w+=A-(1<<b-p[M]),p[M]=e}for(w>>=E;w>0;){var B=o[r].s;p[B]<e?w-=1<<e-p[B]++-1:++r}for(;r>=0&&w;--r){var F=o[r].s;p[F]==e&&(--p[F],++w)}b=e}return{t:new Kn(p),l:b}},g2=function(n,e,t){return-1==n.s?Math.max(g2(n.l,e,t+1),g2(n.r,e,t+1)):e[n.s]=t},Zx=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new $o(++e),r=0,i=n[0],o=1,s=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=n[a]}return{c:t.subarray(0,r),n:e}},tg=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},Jx=function(n,e,t){var r=t.length,i=yv(e+2);n[i]=255&r,n[i+1]=r>>8,n[i+2]=255^n[i],n[i+3]=255^n[i+1];for(var o=0;o<r;++o)n[i+o+4]=t[o];return 8*(i+4+r)},Xx=function(n,e,t,r,i,o,s,a,l,u,c){El(e,c++,t),++i[256];for(var d=p2(i,15),g=d.t,p=d.l,b=p2(o,15),w=b.t,E=b.l,A=Zx(g),M=A.c,B=A.n,F=Zx(w),X=F.c,se=F.n,z=new $o(19),D=0;D<M.length;++D)++z[31&M[D]];for(D=0;D<X.length;++D)++z[31&X[D]];for(var S=p2(z,7),V=S.t,C=S.l,x=19;x>4&&!V[mv[x-1]];--x);var Ae,Ee,pe,Ce,P=u+5<<3,te=tg(i,Vc)+tg(o,vv)+s,me=tg(i,g)+tg(o,w)+s+14+3*x+tg(z,V)+2*z[16]+3*z[17]+7*z[18];if(l>=0&&P<=te&&P<=me)return Jx(e,c,n.subarray(l,l+u));if(El(e,c,1+(me<te)),c+=2,me<te){Ae=Il(g,p,0),Ee=g,pe=Il(w,E,0),Ce=w;var Ge=Il(V,C,0);for(El(e,c,B-257),El(e,c+5,se-1),El(e,c+10,x-4),c+=14,D=0;D<x;++D)El(e,c+3*D,V[mv[D]]);c+=3*x;for(var Oe=[M,X],U=0;U<2;++U){var W=Oe[U];for(D=0;D<W.length;++D)El(e,c,Ge[ee=31&W[D]]),c+=V[ee],ee>15&&(El(e,c,W[D]>>5&127),c+=W[D]>>12)}}else Ae=gj,Ee=Vc,pe=_j,Ce=vv;for(D=0;D<a;++D){var ie=r[D];if(ie>255){var ee;eg(e,c,Ae[257+(ee=ie>>18&31)]),c+=Ee[ee+257],ee>7&&(El(e,c,ie>>23&31),c+=Jp[ee]);var le=31&ie;eg(e,c,pe[le]),c+=Ce[le],le>3&&(eg(e,c,ie>>5&8191),c+=Xp[le])}else eg(e,c,Ae[ie]),c+=Ee[ie]}return eg(e,c,Ae[256]),c+Ee[256]},bj=new gv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),eP=new Kn(0),wj=function(n,e,t,r,i,o){var s=o.z||n.length,a=new Kn(r+s+5*(1+Math.ceil(s/7e3))+i),l=a.subarray(r,a.length-i),u=o.l,c=7&(o.r||0);if(e){c&&(l[0]=o.r>>3);for(var d=bj[e-1],g=d>>13,p=8191&d,b=(1<<t)-1,w=o.p||new $o(32768),E=o.h||new $o(b+1),A=Math.ceil(t/3),M=2*A,B=function(Te){return(n[Te]^n[Te+1]<<A^n[Te+2]<<M)&b},F=new gv(25e3),X=new $o(288),se=new $o(32),z=0,D=0,S=o.i||0,V=0,C=o.w||0,x=0;S+2<s;++S){var P=B(S),te=32767&S,me=E[P];if(w[te]=me,E[P]=te,C<=S){var Ae=s-S;if((z>7e3||V>24576)&&(Ae>423||!u)){c=Xx(n,l,0,F,X,se,D,V,x,S-x,c),V=z=D=0,x=S;for(var Ee=0;Ee<286;++Ee)X[Ee]=0;for(Ee=0;Ee<30;++Ee)se[Ee]=0}var pe=2,Ce=0,Ge=p,Oe=te-me&32767;if(Ae>2&&P==B(S-Oe))for(var U=Math.min(g,Ae)-1,W=Math.min(32767,S),ee=Math.min(258,Ae);Oe<=W&&--Ge&&te!=me;){if(n[S+pe]==n[S+pe-Oe]){for(var ie=0;ie<ee&&n[S+ie]==n[S+ie-Oe];++ie);if(ie>pe){if(pe=ie,Ce=Oe,ie>U)break;var le=Math.min(Oe,ie-2),de=0;for(Ee=0;Ee<le;++Ee){var ye=S-Oe+Ee&32767,Pe=ye-w[ye]&32767;Pe>de&&(de=Pe,me=ye)}}}Oe+=(te=me)-(me=w[te])&32767}if(Ce){F[V++]=268435456|c2[pe]<<18|Yx[Ce];var De=31&c2[pe],Qe=31&Yx[Ce];D+=Jp[De]+Xp[Qe],++X[257+De],++se[Qe],C=S+pe,++z}else F[V++]=n[S],++X[n[S]]}}for(S=Math.max(S,C);S<s;++S)F[V++]=n[S],++X[n[S]];c=Xx(n,l,u,F,X,se,D,V,x,S-x,c),u||(o.r=7&c|l[c/8|0]<<3,c-=7,o.h=E,o.p=w,o.i=S,o.w=C)}else{for(S=o.w||0;S<s+u;S+=65535){var Ke=S+65535;Ke>=s&&(l[c/8|0]=u,Ke=s),c=Jx(l,c+1,n.subarray(S,Ke))}o.i=s}return function(n,e,t){return(null==e||e<0)&&(e=0),(null==t||t>n.length)&&(t=n.length),new Kn(n.subarray(e,t))}(a,0,r+yv(c)+i)},tP=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,o=0|t.length,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=t[s];r=(65535&r)+15*(r>>16),i=(65535&i)+15*(i>>16)}n=r,e=i},d:function(){return(255&(n%=65521))<<24|(65280&n)<<8|(255&(e%=65521))<<8|e>>8}}},_2=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new Kn(o.length+n.length);s.set(o),s.set(n,o.length),n=s,i.w=o.length}return wj(n,null==e.level?6:e.level,null==e.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(n.length)))):20:12+e.mem,t,r,i)},Mr=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},xj=function(n,e){var t=e.level,r=0==t?0:t<6?1:9==t?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=tP();i.p(e.dictionary),Mr(n,2,i.d())}};function wv(n,e){e||(e={});var t=tP();t.p(n);var r=_2(n,e,e.dictionary?6:2,4);return xj(r,e),Mr(r,r.length-4,t.d()),r}var uP=typeof TextDecoder<"u"&&new TextDecoder;try{uP.decode(eP,{stream:!0})}catch{}function Fj(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function Vj(n,e){return function I_e(n){if(Array.isArray(n))return n}(n)||function E_e(n,e){var t=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}(n,e)||function A_e(n,e){if(n){if("string"==typeof n)return Fj(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Fj(n,e):void 0}}(n,e)||function C_e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uj(n,e="utf8"){return new TextDecoder(e).decode(n)}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;const T_e=new TextEncoder,x_e=(()=>{const n=new Uint8Array(4);return!((new Uint32Array(n.buffer)[0]=1)&n[0])})(),cP={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Ev{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=8192,t={}){let r=!1;"number"==typeof e?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,o=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof Ev)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),this.lastWrittenByte=r?o:0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=2*(this.offset+e),i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=cP[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+r);if(this.littleEndian===x_e&&"uint8"!==t&&"int8"!==t){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new cP[t](a.buffer);return this.offset+=r,l.reverse(),l}const s=new cP[t](o);return this.offset+=r,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return Uj(this.readBytes(e))}decodeText(e=1,t="utf8"){return Uj(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(function S_e(n){return T_e.encode(n)}(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function rg(n){let e=n.length;for(;--e>=0;)n[e]=0}const gP=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),A2=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),F_e=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Wj=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Su=new Array(576);rg(Su);const Tv=new Array(60);rg(Tv);const Sv=new Array(512);rg(Sv);const Dv=new Array(256);rg(Dv);const mP=new Array(29);rg(mP);const C2=new Array(30);function _P(n,e,t,r,i){this.static_tree=n,this.extra_bits=e,this.extra_base=t,this.elems=r,this.max_length=i,this.has_stree=n&&n.length}let Kj,Qj,Yj;function vP(n,e){this.dyn_tree=n,this.max_code=0,this.stat_desc=e}rg(C2);const Zj=n=>n<256?Sv[n]:Sv[256+(n>>>7)],xv=(n,e)=>{n.pending_buf[n.pending++]=255&e,n.pending_buf[n.pending++]=e>>>8&255},ps=(n,e,t)=>{n.bi_valid>16-t?(n.bi_buf|=e<<n.bi_valid&65535,xv(n,n.bi_buf),n.bi_buf=e>>16-n.bi_valid,n.bi_valid+=t-16):(n.bi_buf|=e<<n.bi_valid&65535,n.bi_valid+=t)},Al=(n,e,t)=>{ps(n,t[2*e],t[2*e+1])},Jj=(n,e)=>{let t=0;do{t|=1&n,n>>>=1,t<<=1}while(--e>0);return t>>>1},Xj=(n,e,t)=>{const r=new Array(16);let o,s,i=0;for(o=1;o<=15;o++)i=i+t[o-1]<<1,r[o]=i;for(s=0;s<=e;s++){let a=n[2*s+1];0!==a&&(n[2*s]=Jj(r[a]++,a))}},ez=n=>{let e;for(e=0;e<286;e++)n.dyn_ltree[2*e]=0;for(e=0;e<30;e++)n.dyn_dtree[2*e]=0;for(e=0;e<19;e++)n.bl_tree[2*e]=0;n.dyn_ltree[512]=1,n.opt_len=n.static_len=0,n.sym_next=n.matches=0},tz=n=>{n.bi_valid>8?xv(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},nz=(n,e,t,r)=>{const i=2*e,o=2*t;return n[i]<n[o]||n[i]===n[o]&&r[e]<=r[t]},yP=(n,e,t)=>{const r=n.heap[t];let i=t<<1;for(;i<=n.heap_len&&(i<n.heap_len&&nz(e,n.heap[i+1],n.heap[i],n.depth)&&i++,!nz(e,r,n.heap[i],n.depth));)n.heap[t]=n.heap[i],t=i,i<<=1;n.heap[t]=r},rz=(n,e,t)=>{let r,i,s,a,o=0;if(0!==n.sym_next)do{r=255&n.pending_buf[n.sym_buf+o++],r+=(255&n.pending_buf[n.sym_buf+o++])<<8,i=n.pending_buf[n.sym_buf+o++],0===r?Al(n,i,e):(s=Dv[i],Al(n,s+256+1,e),a=gP[s],0!==a&&(i-=mP[s],ps(n,i,a)),r--,s=Zj(r),Al(n,s,t),a=A2[s],0!==a&&(r-=C2[s],ps(n,r,a)))}while(o<n.sym_next);Al(n,256,e)},bP=(n,e)=>{const t=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems;let s,a,u,l=-1;for(n.heap_len=0,n.heap_max=573,s=0;s<o;s++)0!==t[2*s]?(n.heap[++n.heap_len]=l=s,n.depth[s]=0):t[2*s+1]=0;for(;n.heap_len<2;)u=n.heap[++n.heap_len]=l<2?++l:0,t[2*u]=1,n.depth[u]=0,n.opt_len--,i&&(n.static_len-=r[2*u+1]);for(e.max_code=l,s=n.heap_len>>1;s>=1;s--)yP(n,t,s);u=o;do{s=n.heap[1],n.heap[1]=n.heap[n.heap_len--],yP(n,t,1),a=n.heap[1],n.heap[--n.heap_max]=s,n.heap[--n.heap_max]=a,t[2*u]=t[2*s]+t[2*a],n.depth[u]=(n.depth[s]>=n.depth[a]?n.depth[s]:n.depth[a])+1,t[2*s+1]=t[2*a+1]=u,n.heap[1]=u++,yP(n,t,1)}while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],((n,e)=>{const t=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length;let u,c,d,g,p,b,w=0;for(g=0;g<=15;g++)n.bl_count[g]=0;for(t[2*n.heap[n.heap_max]+1]=0,u=n.heap_max+1;u<573;u++)c=n.heap[u],g=t[2*t[2*c+1]+1]+1,g>l&&(g=l,w++),t[2*c+1]=g,!(c>r)&&(n.bl_count[g]++,p=0,c>=a&&(p=s[c-a]),b=t[2*c],n.opt_len+=b*(g+p),o&&(n.static_len+=b*(i[2*c+1]+p)));if(0!==w){do{for(g=l-1;0===n.bl_count[g];)g--;n.bl_count[g]--,n.bl_count[g+1]+=2,n.bl_count[l]--,w-=2}while(w>0);for(g=l;0!==g;g--)for(c=n.bl_count[g];0!==c;)d=n.heap[--u],!(d>r)&&(t[2*d+1]!==g&&(n.opt_len+=(g-t[2*d+1])*t[2*d],t[2*d+1]=g),c--)}})(n,e),Xj(t,l,n.bl_count)},iz=(n,e,t)=>{let r,o,i=-1,s=e[1],a=0,l=7,u=4;for(0===s&&(l=138,u=3),e[2*(t+1)+1]=65535,r=0;r<=t;r++)o=s,s=e[2*(r+1)+1],!(++a<l&&o===s)&&(a<u?n.bl_tree[2*o]+=a:0!==o?(o!==i&&n.bl_tree[2*o]++,n.bl_tree[32]++):a<=10?n.bl_tree[34]++:n.bl_tree[36]++,a=0,i=o,0===s?(l=138,u=3):o===s?(l=6,u=3):(l=7,u=4))},oz=(n,e,t)=>{let r,o,i=-1,s=e[1],a=0,l=7,u=4;for(0===s&&(l=138,u=3),r=0;r<=t;r++)if(o=s,s=e[2*(r+1)+1],!(++a<l&&o===s)){if(a<u)do{Al(n,o,n.bl_tree)}while(0!=--a);else 0!==o?(o!==i&&(Al(n,o,n.bl_tree),a--),Al(n,16,n.bl_tree),ps(n,a-3,2)):a<=10?(Al(n,17,n.bl_tree),ps(n,a-3,3)):(Al(n,18,n.bl_tree),ps(n,a-11,7));a=0,i=o,0===s?(l=138,u=3):o===s?(l=6,u=3):(l=7,u=4)}};let sz=!1;const az=(n,e,t,r)=>{ps(n,0+(r?1:0),3),tz(n),xv(n,t),xv(n,~t),t&&n.pending_buf.set(n.window.subarray(e,e+t),n.pending),n.pending+=t};var eve={_tr_init:n=>{sz||((()=>{let n,e,t,r,i;const o=new Array(16);for(t=0,r=0;r<28;r++)for(mP[r]=t,n=0;n<1<<gP[r];n++)Dv[t++]=r;for(Dv[t-1]=r,i=0,r=0;r<16;r++)for(C2[r]=i,n=0;n<1<<A2[r];n++)Sv[i++]=r;for(i>>=7;r<30;r++)for(C2[r]=i<<7,n=0;n<1<<A2[r]-7;n++)Sv[256+i++]=r;for(e=0;e<=15;e++)o[e]=0;for(n=0;n<=143;)Su[2*n+1]=8,n++,o[8]++;for(;n<=255;)Su[2*n+1]=9,n++,o[9]++;for(;n<=279;)Su[2*n+1]=7,n++,o[7]++;for(;n<=287;)Su[2*n+1]=8,n++,o[8]++;for(Xj(Su,287,o),n=0;n<30;n++)Tv[2*n+1]=5,Tv[2*n]=Jj(n,5);Kj=new _P(Su,gP,257,286,15),Qj=new _P(Tv,A2,0,30,15),Yj=new _P(new Array(0),F_e,0,19,7)})(),sz=!0),n.l_desc=new vP(n.dyn_ltree,Kj),n.d_desc=new vP(n.dyn_dtree,Qj),n.bl_desc=new vP(n.bl_tree,Yj),n.bi_buf=0,n.bi_valid=0,ez(n)},_tr_stored_block:az,_tr_flush_block:(n,e,t,r)=>{let i,o,s=0;n.level>0?(2===n.strm.data_type&&(n.strm.data_type=(n=>{let t,e=4093624447;for(t=0;t<=31;t++,e>>>=1)if(1&e&&0!==n.dyn_ltree[2*t])return 0;if(0!==n.dyn_ltree[18]||0!==n.dyn_ltree[20]||0!==n.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==n.dyn_ltree[2*t])return 1;return 0})(n)),bP(n,n.l_desc),bP(n,n.d_desc),s=(n=>{let e;for(iz(n,n.dyn_ltree,n.l_desc.max_code),iz(n,n.dyn_dtree,n.d_desc.max_code),bP(n,n.bl_desc),e=18;e>=3&&0===n.bl_tree[2*Wj[e]+1];e--);return n.opt_len+=3*(e+1)+5+5+4,e})(n),i=n.opt_len+3+7>>>3,o=n.static_len+3+7>>>3,o<=i&&(i=o)):i=o=t+5,t+4<=i&&-1!==e?az(n,e,t,r):4===n.strategy||o===i?(ps(n,2+(r?1:0),3),rz(n,Su,Tv)):(ps(n,4+(r?1:0),3),((n,e,t,r)=>{let i;for(ps(n,e-257,5),ps(n,t-1,5),ps(n,r-4,4),i=0;i<r;i++)ps(n,n.bl_tree[2*Wj[i]+1],3);oz(n,n.dyn_ltree,e-1),oz(n,n.dyn_dtree,t-1)})(n,n.l_desc.max_code+1,n.d_desc.max_code+1,s+1),rz(n,n.dyn_ltree,n.dyn_dtree)),ez(n),r&&tz(n)},_tr_tally:(n,e,t)=>(n.pending_buf[n.sym_buf+n.sym_next++]=e,n.pending_buf[n.sym_buf+n.sym_next++]=e>>8,n.pending_buf[n.sym_buf+n.sym_next++]=t,0===e?n.dyn_ltree[2*t]++:(n.matches++,e--,n.dyn_ltree[2*(Dv[t]+256+1)]++,n.dyn_dtree[2*Zj(e)]++),n.sym_next===n.sym_end),_tr_align:n=>{ps(n,2,3),Al(n,256,Su),(n=>{16===n.bi_valid?(xv(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=255&n.bi_buf,n.bi_buf>>=8,n.bi_valid-=8)})(n)}},Pv=(n,e,t,r)=>{let i=65535&n|0,o=n>>>16&65535|0,s=0;for(;0!==t;){s=t>2e3?2e3:t,t-=s;do{i=i+e[r++]|0,o=o+i|0}while(--s);i%=65521,o%=65521}return i|o<<16|0};const nve=new Uint32Array((()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=1&n?3988292384^n>>>1:n>>>1;e[t]=n}return e})());var ji=(n,e,t,r)=>{const i=nve,o=r+t;n^=-1;for(let s=r;s<o;s++)n=n>>>8^i[255&(n^e[s])];return-1^n},vh={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},yh={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:rve,_tr_stored_block:wP,_tr_flush_block:ive,_tr_tally:jc,_tr_align:ove}=eve,{Z_NO_FLUSH:zc,Z_PARTIAL_FLUSH:sve,Z_FULL_FLUSH:ave,Z_FINISH:ha,Z_BLOCK:lz,Z_OK:ro,Z_STREAM_END:uz,Z_STREAM_ERROR:Cl,Z_DATA_ERROR:lve,Z_BUF_ERROR:IP,Z_DEFAULT_COMPRESSION:uve,Z_FILTERED:cve,Z_HUFFMAN_ONLY:T2,Z_RLE:dve,Z_FIXED:hve,Z_DEFAULT_STRATEGY:fve,Z_UNKNOWN:pve,Z_DEFLATED:S2}=yh,Tl=262,Ih=(n,e)=>(n.msg=vh[e],e),cz=n=>2*n-(n>4?9:0),qc=n=>{let e=n.length;for(;--e>=0;)n[e]=0},Cve=n=>{let e,t,r,i=n.w_size;e=n.hash_size,r=e;do{t=n.head[--r],n.head[r]=t>=i?t-i:0}while(--e);e=i,r=e;do{t=n.prev[--r],n.prev[r]=t>=i?t-i:0}while(--e)};let Gc=(n,e,t)=>(e<<n.hash_shift^t)&n.hash_mask;const Fs=n=>{const e=n.state;let t=e.pending;t>n.avail_out&&(t=n.avail_out),0!==t&&(n.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+t),n.next_out),n.next_out+=t,e.pending_out+=t,n.total_out+=t,n.avail_out-=t,e.pending-=t,0===e.pending&&(e.pending_out=0))},Vs=(n,e)=>{ive(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,e),n.block_start=n.strstart,Fs(n.strm)},Ln=(n,e)=>{n.pending_buf[n.pending++]=e},Rv=(n,e)=>{n.pending_buf[n.pending++]=e>>>8&255,n.pending_buf[n.pending++]=255&e},xP=(n,e,t,r)=>{let i=n.avail_in;return i>r&&(i=r),0===i?0:(n.avail_in-=i,e.set(n.input.subarray(n.next_in,n.next_in+i),t),1===n.state.wrap?n.adler=Pv(n.adler,e,i,t):2===n.state.wrap&&(n.adler=ji(n.adler,e,i,t)),n.next_in+=i,n.total_in+=i,i)},dz=(n,e)=>{let i,o,t=n.max_chain_length,r=n.strstart,s=n.prev_length,a=n.nice_match;const l=n.strstart>n.w_size-Tl?n.strstart-(n.w_size-Tl):0,u=n.window,c=n.w_mask,d=n.prev,g=n.strstart+258;let p=u[r+s-1],b=u[r+s];n.prev_length>=n.good_match&&(t>>=2),a>n.lookahead&&(a=n.lookahead);do{if(i=e,u[i+s]===b&&u[i+s-1]===p&&u[i]===u[r]&&u[++i]===u[r+1]){r+=2,i++;do{}while(u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&r<g);if(o=258-(g-r),r=g-258,o>s){if(n.match_start=e,s=o,o>=a)break;p=u[r+s-1],b=u[r+s]}}}while((e=d[e&c])>l&&0!=--t);return s<=n.lookahead?s:n.lookahead},lg=n=>{const e=n.w_size;let t,r,i;do{if(r=n.window_size-n.lookahead-n.strstart,n.strstart>=e+(e-Tl)&&(n.window.set(n.window.subarray(e,e+e-r),0),n.match_start-=e,n.strstart-=e,n.block_start-=e,n.insert>n.strstart&&(n.insert=n.strstart),Cve(n),r+=e),0===n.strm.avail_in)break;if(t=xP(n.strm,n.window,n.strstart+n.lookahead,r),n.lookahead+=t,n.lookahead+n.insert>=3)for(i=n.strstart-n.insert,n.ins_h=n.window[i],n.ins_h=Gc(n,n.ins_h,n.window[i+1]);n.insert&&(n.ins_h=Gc(n,n.ins_h,n.window[i+3-1]),n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,n.insert--,!(n.lookahead+n.insert<3)););}while(n.lookahead<Tl&&0!==n.strm.avail_in)},hz=(n,e)=>{let r,i,o,t=n.pending_buf_size-5>n.w_size?n.w_size:n.pending_buf_size-5,s=0,a=n.strm.avail_in;do{if(r=65535,o=n.bi_valid+42>>3,n.strm.avail_out<o||(o=n.strm.avail_out-o,i=n.strstart-n.block_start,r>i+n.strm.avail_in&&(r=i+n.strm.avail_in),r>o&&(r=o),r<t&&(0===r&&e!==ha||e===zc||r!==i+n.strm.avail_in)))break;s=e===ha&&r===i+n.strm.avail_in?1:0,wP(n,0,0,s),n.pending_buf[n.pending-4]=r,n.pending_buf[n.pending-3]=r>>8,n.pending_buf[n.pending-2]=~r,n.pending_buf[n.pending-1]=~r>>8,Fs(n.strm),i&&(i>r&&(i=r),n.strm.output.set(n.window.subarray(n.block_start,n.block_start+i),n.strm.next_out),n.strm.next_out+=i,n.strm.avail_out-=i,n.strm.total_out+=i,n.block_start+=i,r-=i),r&&(xP(n.strm,n.strm.output,n.strm.next_out,r),n.strm.next_out+=r,n.strm.avail_out-=r,n.strm.total_out+=r)}while(0===s);return a-=n.strm.avail_in,a&&(a>=n.w_size?(n.matches=2,n.window.set(n.strm.input.subarray(n.strm.next_in-n.w_size,n.strm.next_in),0),n.strstart=n.w_size,n.insert=n.strstart):(n.window_size-n.strstart<=a&&(n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,n.insert>n.strstart&&(n.insert=n.strstart)),n.window.set(n.strm.input.subarray(n.strm.next_in-a,n.strm.next_in),n.strstart),n.strstart+=a,n.insert+=a>n.w_size-n.insert?n.w_size-n.insert:a),n.block_start=n.strstart),n.high_water<n.strstart&&(n.high_water=n.strstart),s?4:e!==zc&&e!==ha&&0===n.strm.avail_in&&n.strstart===n.block_start?2:(o=n.window_size-n.strstart,n.strm.avail_in>o&&n.block_start>=n.w_size&&(n.block_start-=n.w_size,n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,o+=n.w_size,n.insert>n.strstart&&(n.insert=n.strstart)),o>n.strm.avail_in&&(o=n.strm.avail_in),o&&(xP(n.strm,n.window,n.strstart,o),n.strstart+=o,n.insert+=o>n.w_size-n.insert?n.w_size-n.insert:o),n.high_water<n.strstart&&(n.high_water=n.strstart),o=n.bi_valid+42>>3,o=n.pending_buf_size-o>65535?65535:n.pending_buf_size-o,t=o>n.w_size?n.w_size:o,i=n.strstart-n.block_start,(i>=t||(i||e===ha)&&e!==zc&&0===n.strm.avail_in&&i<=o)&&(r=i>o?o:i,s=e===ha&&0===n.strm.avail_in&&r===i?1:0,wP(n,n.block_start,r,s),n.block_start+=r,Fs(n.strm)),s?3:1)},PP=(n,e)=>{let t,r;for(;;){if(n.lookahead<Tl){if(lg(n),n.lookahead<Tl&&e===zc)return 1;if(0===n.lookahead)break}if(t=0,n.lookahead>=3&&(n.ins_h=Gc(n,n.ins_h,n.window[n.strstart+3-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),0!==t&&n.strstart-t<=n.w_size-Tl&&(n.match_length=dz(n,t)),n.match_length>=3)if(r=jc(n,n.strstart-n.match_start,n.match_length-3),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=3){n.match_length--;do{n.strstart++,n.ins_h=Gc(n,n.ins_h,n.window[n.strstart+3-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart}while(0!=--n.match_length);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=Gc(n,n.ins_h,n.window[n.strstart+1]);else r=jc(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(r&&(Vs(n,!1),0===n.strm.avail_out))return 1}return n.insert=n.strstart<2?n.strstart:2,e===ha?(Vs(n,!0),0===n.strm.avail_out?3:4):n.sym_next&&(Vs(n,!1),0===n.strm.avail_out)?1:2},ug=(n,e)=>{let t,r,i;for(;;){if(n.lookahead<Tl){if(lg(n),n.lookahead<Tl&&e===zc)return 1;if(0===n.lookahead)break}if(t=0,n.lookahead>=3&&(n.ins_h=Gc(n,n.ins_h,n.window[n.strstart+3-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=2,0!==t&&n.prev_length<n.max_lazy_match&&n.strstart-t<=n.w_size-Tl&&(n.match_length=dz(n,t),n.match_length<=5&&(n.strategy===cve||3===n.match_length&&n.strstart-n.match_start>4096)&&(n.match_length=2)),n.prev_length>=3&&n.match_length<=n.prev_length){i=n.strstart+n.lookahead-3,r=jc(n,n.strstart-1-n.prev_match,n.prev_length-3),n.lookahead-=n.prev_length-1,n.prev_length-=2;do{++n.strstart<=i&&(n.ins_h=Gc(n,n.ins_h,n.window[n.strstart+3-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart)}while(0!=--n.prev_length);if(n.match_available=0,n.match_length=2,n.strstart++,r&&(Vs(n,!1),0===n.strm.avail_out))return 1}else if(n.match_available){if(r=jc(n,0,n.window[n.strstart-1]),r&&Vs(n,!1),n.strstart++,n.lookahead--,0===n.strm.avail_out)return 1}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(r=jc(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<2?n.strstart:2,e===ha?(Vs(n,!0),0===n.strm.avail_out?3:4):n.sym_next&&(Vs(n,!1),0===n.strm.avail_out)?1:2};function Sl(n,e,t,r,i){this.good_length=n,this.max_lazy=e,this.nice_length=t,this.max_chain=r,this.func=i}const Mv=[new Sl(0,0,0,0,hz),new Sl(4,4,8,4,PP),new Sl(4,5,16,8,PP),new Sl(4,6,32,32,PP),new Sl(4,4,16,16,ug),new Sl(8,16,32,32,ug),new Sl(8,16,128,128,ug),new Sl(8,32,128,256,ug),new Sl(32,128,258,1024,ug),new Sl(32,258,258,4096,ug)];function xve(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),qc(this.dyn_ltree),qc(this.dyn_dtree),qc(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),qc(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),qc(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const kv=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||42!==e.status&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&113!==e.status&&666!==e.status?1:0},fz=n=>{if(kv(n))return Ih(n,Cl);n.total_in=n.total_out=0,n.data_type=pve;const e=n.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?42:113,n.adler=2===e.wrap?0:1,e.last_flush=-2,rve(e),ro},pz=n=>{const e=fz(n);return e===ro&&(n=>{n.window_size=2*n.w_size,qc(n.head),n.max_lazy_match=Mv[n.level].max_lazy,n.good_match=Mv[n.level].good_length,n.nice_match=Mv[n.level].nice_length,n.max_chain_length=Mv[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0})(n.state),e},gz=(n,e,t,r,i,o)=>{if(!n)return Cl;let s=1;if(e===uve&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>9||t!==S2||r<8||r>15||e<0||e>9||o<0||o>hve||8===r&&1!==s)return Ih(n,Cl);8===r&&(r=9);const a=new xve;return n.state=a,a.strm=n,a.status=42,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=e,a.strategy=o,a.method=t,pz(n)};var Ov={deflateInit:(n,e)=>gz(n,e,S2,15,8,fve),deflateInit2:gz,deflateReset:pz,deflateResetKeep:fz,deflateSetHeader:(n,e)=>kv(n)||2!==n.state.wrap?Cl:(n.state.gzhead=e,ro),deflate:(n,e)=>{if(kv(n)||e>lz||e<0)return n?Ih(n,Cl):Cl;const t=n.state;if(!n.output||0!==n.avail_in&&!n.input||666===t.status&&e!==ha)return Ih(n,0===n.avail_out?IP:Cl);const r=t.last_flush;if(t.last_flush=e,0!==t.pending){if(Fs(n),0===n.avail_out)return t.last_flush=-1,ro}else if(0===n.avail_in&&cz(e)<=cz(r)&&e!==ha)return Ih(n,IP);if(666===t.status&&0!==n.avail_in)return Ih(n,IP);if(42===t.status&&0===t.wrap&&(t.status=113),42===t.status){let i=S2+(t.w_bits-8<<4)<<8,o=-1;if(o=t.strategy>=T2||t.level<2?0:t.level<6?1:6===t.level?2:3,i|=o<<6,0!==t.strstart&&(i|=32),i+=31-i%31,Rv(t,i),0!==t.strstart&&(Rv(t,n.adler>>>16),Rv(t,65535&n.adler)),n.adler=1,t.status=113,Fs(n),0!==t.pending)return t.last_flush=-1,ro}if(57===t.status)if(n.adler=0,Ln(t,31),Ln(t,139),Ln(t,8),t.gzhead)Ln(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),Ln(t,255&t.gzhead.time),Ln(t,t.gzhead.time>>8&255),Ln(t,t.gzhead.time>>16&255),Ln(t,t.gzhead.time>>24&255),Ln(t,9===t.level?2:t.strategy>=T2||t.level<2?4:0),Ln(t,255&t.gzhead.os),t.gzhead.extra&&t.gzhead.extra.length&&(Ln(t,255&t.gzhead.extra.length),Ln(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(n.adler=ji(n.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=69;else if(Ln(t,0),Ln(t,0),Ln(t,0),Ln(t,0),Ln(t,0),Ln(t,9===t.level?2:t.strategy>=T2||t.level<2?4:0),Ln(t,3),t.status=113,Fs(n),0!==t.pending)return t.last_flush=-1,ro;if(69===t.status){if(t.gzhead.extra){let i=t.pending,o=(65535&t.gzhead.extra.length)-t.gzindex;for(;t.pending+o>t.pending_buf_size;){let a=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>i&&(n.adler=ji(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex+=a,Fs(n),0!==t.pending)return t.last_flush=-1,ro;i=0,o-=a}let s=new Uint8Array(t.gzhead.extra);t.pending_buf.set(s.subarray(t.gzindex,t.gzindex+o),t.pending),t.pending+=o,t.gzhead.hcrc&&t.pending>i&&(n.adler=ji(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=73}if(73===t.status){if(t.gzhead.name){let o,i=t.pending;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(n.adler=ji(n.adler,t.pending_buf,t.pending-i,i)),Fs(n),0!==t.pending)return t.last_flush=-1,ro;i=0}o=t.gzindex<t.gzhead.name.length?255&t.gzhead.name.charCodeAt(t.gzindex++):0,Ln(t,o)}while(0!==o);t.gzhead.hcrc&&t.pending>i&&(n.adler=ji(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=91}if(91===t.status){if(t.gzhead.comment){let o,i=t.pending;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(n.adler=ji(n.adler,t.pending_buf,t.pending-i,i)),Fs(n),0!==t.pending)return t.last_flush=-1,ro;i=0}o=t.gzindex<t.gzhead.comment.length?255&t.gzhead.comment.charCodeAt(t.gzindex++):0,Ln(t,o)}while(0!==o);t.gzhead.hcrc&&t.pending>i&&(n.adler=ji(n.adler,t.pending_buf,t.pending-i,i))}t.status=103}if(103===t.status){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(Fs(n),0!==t.pending))return t.last_flush=-1,ro;Ln(t,255&n.adler),Ln(t,n.adler>>8&255),n.adler=0}if(t.status=113,Fs(n),0!==t.pending)return t.last_flush=-1,ro}if(0!==n.avail_in||0!==t.lookahead||e!==zc&&666!==t.status){let i=0===t.level?hz(t,e):t.strategy===T2?((n,e)=>{let t;for(;;){if(0===n.lookahead&&(lg(n),0===n.lookahead)){if(e===zc)return 1;break}if(n.match_length=0,t=jc(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,t&&(Vs(n,!1),0===n.strm.avail_out))return 1}return n.insert=0,e===ha?(Vs(n,!0),0===n.strm.avail_out?3:4):n.sym_next&&(Vs(n,!1),0===n.strm.avail_out)?1:2})(t,e):t.strategy===dve?((n,e)=>{let t,r,i,o;const s=n.window;for(;;){if(n.lookahead<=258){if(lg(n),n.lookahead<=258&&e===zc)return 1;if(0===n.lookahead)break}if(n.match_length=0,n.lookahead>=3&&n.strstart>0&&(i=n.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=n.strstart+258;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);n.match_length=258-(o-i),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=3?(t=jc(n,1,n.match_length-3),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(t=jc(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),t&&(Vs(n,!1),0===n.strm.avail_out))return 1}return n.insert=0,e===ha?(Vs(n,!0),0===n.strm.avail_out?3:4):n.sym_next&&(Vs(n,!1),0===n.strm.avail_out)?1:2})(t,e):Mv[t.level].func(t,e);if((3===i||4===i)&&(t.status=666),1===i||3===i)return 0===n.avail_out&&(t.last_flush=-1),ro;if(2===i&&(e===sve?ove(t):e!==lz&&(wP(t,0,0,!1),e===ave&&(qc(t.head),0===t.lookahead&&(t.strstart=0,t.block_start=0,t.insert=0))),Fs(n),0===n.avail_out))return t.last_flush=-1,ro}return e!==ha?ro:t.wrap<=0?uz:(2===t.wrap?(Ln(t,255&n.adler),Ln(t,n.adler>>8&255),Ln(t,n.adler>>16&255),Ln(t,n.adler>>24&255),Ln(t,255&n.total_in),Ln(t,n.total_in>>8&255),Ln(t,n.total_in>>16&255),Ln(t,n.total_in>>24&255)):(Rv(t,n.adler>>>16),Rv(t,65535&n.adler)),Fs(n),t.wrap>0&&(t.wrap=-t.wrap),0!==t.pending?ro:uz)},deflateEnd:n=>{if(kv(n))return Cl;const e=n.state.status;return n.state=null,113===e?Ih(n,lve):ro},deflateSetDictionary:(n,e)=>{let t=e.length;if(kv(n))return Cl;const r=n.state,i=r.wrap;if(2===i||1===i&&42!==r.status||r.lookahead)return Cl;if(1===i&&(n.adler=Pv(n.adler,e,t,0)),r.wrap=0,t>=r.w_size){0===i&&(qc(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(e.subarray(t-r.w_size,t),0),e=l,t=r.w_size}const o=n.avail_in,s=n.next_in,a=n.input;for(n.avail_in=t,n.next_in=0,n.input=e,lg(r);r.lookahead>=3;){let l=r.strstart,u=r.lookahead-2;do{r.ins_h=Gc(r,r.ins_h,r.window[l+3-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++}while(--u);r.strstart=l,r.lookahead=2,lg(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,n.next_in=s,n.input=a,n.avail_in=o,r.wrap=i,ro},deflateInfo:"pako deflate (from Nodeca project)"};const qve=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var D2={assign:function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if("object"!=typeof t)throw new TypeError(t+"must be non-object");for(const r in t)qve(t,r)&&(n[r]=t[r])}}return n},flattenChunks:n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,o=n.length;r<o;r++){let s=n[r];t.set(s,i),i+=s.length}return t}};let mz=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{mz=!1}const Lv=new Uint8Array(256);for(let n=0;n<256;n++)Lv[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Lv[254]=Lv[254]=1;var Fv={string2buf:n=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(n);let e,t,r,i,o,s=n.length,a=0;for(i=0;i<s;i++)t=n.charCodeAt(i),55296==(64512&t)&&i+1<s&&(r=n.charCodeAt(i+1),56320==(64512&r)&&(t=65536+(t-55296<<10)+(r-56320),i++)),a+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)t=n.charCodeAt(i),55296==(64512&t)&&i+1<s&&(r=n.charCodeAt(i+1),56320==(64512&r)&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|63&t):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|63&t):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|63&t);return e},buf2string:(n,e)=>{const t=e||n.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(n.subarray(0,e));let r,i;const o=new Array(2*t);for(i=0,r=0;r<t;){let s=n[r++];if(s<128){o[i++]=s;continue}let a=Lv[s];if(a>4)o[i++]=65533,r+=a-1;else{for(s&=2===a?31:3===a?15:7;a>1&&r<t;)s=s<<6|63&n[r++],a--;a>1?o[i++]=65533:s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|1023&s)}}return((n,e)=>{if(e<65534&&n.subarray&&mz)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t})(o,i)},utf8border:(n,e)=>{(e=e||n.length)>n.length&&(e=n.length);let t=e-1;for(;t>=0&&128==(192&n[t]);)t--;return t<0||0===t?e:t+Lv[n[t]]>e?t:e}},_z=function Zve(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const vz=Object.prototype.toString,{Z_NO_FLUSH:Jve,Z_SYNC_FLUSH:Xve,Z_FULL_FLUSH:eye,Z_FINISH:tye,Z_OK:x2,Z_STREAM_END:nye,Z_DEFAULT_COMPRESSION:rye,Z_DEFAULT_STRATEGY:iye,Z_DEFLATED:oye}=yh;function Vv(n){this.options=D2.assign({level:rye,method:oye,chunkSize:16384,windowBits:15,memLevel:8,strategy:iye},n||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _z,this.strm.avail_out=0;let t=Ov.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==x2)throw new Error(vh[t]);if(e.header&&Ov.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(r="string"==typeof e.dictionary?Fv.string2buf(e.dictionary):"[object ArrayBuffer]"===vz.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,t=Ov.deflateSetDictionary(this.strm,r),t!==x2)throw new Error(vh[t]);this._dict_set=!0}}function NP(n,e){const t=new Vv(e);if(t.push(n,!0),t.err)throw t.msg||vh[t.err];return t.result}Vv.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=e===~~e?e:!0===e?tye:Jve,t.input="string"==typeof n?Fv.string2buf(n):"[object ArrayBuffer]"===vz.call(n)?new Uint8Array(n):n,t.next_in=0,t.avail_in=t.input.length;;)if(0===t.avail_out&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),(o===Xve||o===eye)&&t.avail_out<=6)this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;else{if(i=Ov.deflate(t,o),i===nye)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),i=Ov.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===x2;if(0!==t.avail_out){if(o>0&&t.next_out>0)this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;else if(0===t.avail_in)break}else this.onData(t.output)}return!0},Vv.prototype.onData=function(n){this.chunks.push(n)},Vv.prototype.onEnd=function(n){n===x2&&(this.result=D2.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};var fye={Deflate:Vv,deflate:NP,deflateRaw:function sye(n,e){return(e=e||{}).raw=!0,NP(n,e)},gzip:function aye(n,e){return(e=e||{}).gzip=!0,NP(n,e)},constants:yh};const P2=16209;var gye=function(e,t){let r,i,o,s,a,l,u,c,d,g,p,b,w,E,A,M,B,F,X,se,z,D,S,V;const C=e.state;r=e.next_in,S=e.input,i=r+(e.avail_in-5),o=e.next_out,V=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),l=C.dmax,u=C.wsize,c=C.whave,d=C.wnext,g=C.window,p=C.hold,b=C.bits,w=C.lencode,E=C.distcode,A=(1<<C.lenbits)-1,M=(1<<C.distbits)-1;e:do{b<15&&(p+=S[r++]<<b,b+=8,p+=S[r++]<<b,b+=8),B=w[p&A];t:for(;;){if(F=B>>>24,p>>>=F,b-=F,F=B>>>16&255,0===F)V[o++]=65535&B;else{if(!(16&F)){if(64&F){if(32&F){C.mode=16191;break e}e.msg="invalid literal/length code",C.mode=P2;break e}B=w[(65535&B)+(p&(1<<F)-1)];continue t}for(X=65535&B,F&=15,F&&(b<F&&(p+=S[r++]<<b,b+=8),X+=p&(1<<F)-1,p>>>=F,b-=F),b<15&&(p+=S[r++]<<b,b+=8,p+=S[r++]<<b,b+=8),B=E[p&M];;){if(F=B>>>24,p>>>=F,b-=F,F=B>>>16&255,16&F){if(se=65535&B,F&=15,b<F&&(p+=S[r++]<<b,b+=8,b<F&&(p+=S[r++]<<b,b+=8)),se+=p&(1<<F)-1,se>l){e.msg="invalid distance too far back",C.mode=P2;break e}if(p>>>=F,b-=F,F=o-s,se>F){if(F=se-F,F>c&&C.sane){e.msg="invalid distance too far back",C.mode=P2;break e}if(z=0,D=g,0===d){if(z+=u-F,F<X){X-=F;do{V[o++]=g[z++]}while(--F);z=o-se,D=V}}else if(d<F){if(z+=u+d-F,F-=d,F<X){X-=F;do{V[o++]=g[z++]}while(--F);if(z=0,d<X){F=d,X-=F;do{V[o++]=g[z++]}while(--F);z=o-se,D=V}}}else if(z+=d-F,F<X){X-=F;do{V[o++]=g[z++]}while(--F);z=o-se,D=V}for(;X>2;)V[o++]=D[z++],V[o++]=D[z++],V[o++]=D[z++],X-=3;X&&(V[o++]=D[z++],X>1&&(V[o++]=D[z++]))}else{z=o-se;do{V[o++]=V[z++],V[o++]=V[z++],V[o++]=V[z++],X-=3}while(X>2);X&&(V[o++]=V[z++],X>1&&(V[o++]=V[z++]))}break}if(64&F){e.msg="invalid distance code",C.mode=P2;break e}B=E[(65535&B)+(p&(1<<F)-1)]}}break}}while(r<i&&o<a);X=b>>3,r-=X,b-=X<<3,p&=(1<<b)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<a?a-o+257:257-(o-a),C.hold=p,C.bits=b};const mye=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),_ye=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),vye=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),yye=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Uv=(n,e,t,r,i,o,s,a)=>{const l=a.bits;let B,F,X,se,z,S,u=0,c=0,d=0,g=0,p=0,b=0,w=0,E=0,A=0,M=0,D=null;const V=new Uint16Array(16),C=new Uint16Array(16);let P,te,me,x=null;for(u=0;u<=15;u++)V[u]=0;for(c=0;c<r;c++)V[e[t+c]]++;for(p=l,g=15;g>=1&&0===V[g];g--);if(p>g&&(p=g),0===g)return i[o++]=20971520,i[o++]=20971520,a.bits=1,0;for(d=1;d<g&&0===V[d];d++);for(p<d&&(p=d),E=1,u=1;u<=15;u++)if(E<<=1,E-=V[u],E<0)return-1;if(E>0&&(0===n||1!==g))return-1;for(C[1]=0,u=1;u<15;u++)C[u+1]=C[u]+V[u];for(c=0;c<r;c++)0!==e[t+c]&&(s[C[e[t+c]]++]=c);if(0===n?(D=x=s,S=20):1===n?(D=mye,x=_ye,S=257):(D=vye,x=yye,S=0),M=0,c=0,u=d,z=o,b=p,w=0,X=-1,A=1<<p,se=A-1,1===n&&A>852||2===n&&A>592)return 1;for(;;){P=u-w,s[c]+1<S?(te=0,me=s[c]):s[c]>=S?(te=x[s[c]-S],me=D[s[c]-S]):(te=96,me=0),B=1<<u-w,F=1<<b,d=F;do{F-=B,i[z+(M>>w)+F]=P<<24|te<<16|me|0}while(0!==F);for(B=1<<u-1;M&B;)B>>=1;if(0!==B?(M&=B-1,M+=B):M=0,c++,0==--V[u]){if(u===g)break;u=e[t+s[c]]}if(u>p&&(M&se)!==X){for(0===w&&(w=p),z+=d,b=u-w,E=1<<b;b+w<g&&(E-=V[b+w],!(E<=0));)b++,E<<=1;if(A+=1<<b,1===n&&A>852||2===n&&A>592)return 1;X=M&se,i[X]=p<<24|b<<16|z-o|0}}return 0!==M&&(i[z+M]=u-w<<24|64<<16|0),a.bits=p,0};const{Z_FINISH:Cz,Z_BLOCK:wye,Z_TREES:N2,Z_OK:Eh,Z_STREAM_END:Iye,Z_NEED_DICT:Eye,Z_STREAM_ERROR:fa,Z_DATA_ERROR:Tz,Z_MEM_ERROR:Sz,Z_BUF_ERROR:Aye,Z_DEFLATED:Dz}=yh,R2=16180,M2=16190,Du=16191,k2=16199,O2=16200,kr=16209,Jz=n=>(n>>>24&255)+(n>>>8&65280)+((65280&n)<<8)+((255&n)<<24);function Dye(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ah=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<R2||e.mode>16211?1:0},Xz=n=>{if(Ah(n))return fa;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=1&e.wrap),e.mode=R2,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,Eh},e$=n=>{if(Ah(n))return fa;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,Xz(n)},t$=(n,e)=>{let t;if(Ah(n))return fa;const r=n.state;return e<0?(t=0,e=-e):(t=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?fa:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,e$(n))},n$=(n,e)=>{if(!n)return fa;const t=new Dye;n.state=t,t.strm=n,t.window=null,t.mode=R2;const r=t$(n,e);return r!==Eh&&(n.state=null),r};let LP,FP,r$=!0;const Pye=n=>{if(r$){LP=new Int32Array(512),FP=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Uv(1,n.lens,0,288,LP,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Uv(2,n.lens,0,32,FP,0,n.work,{bits:5}),r$=!1}n.lencode=LP,n.lenbits=9,n.distcode=FP,n.distbits=5},i$=(n,e,t,r)=>{let i;const o=n.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(t-r,t-r+i),o.wnext),(r-=i)?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var xu={inflateReset:e$,inflateReset2:t$,inflateResetKeep:Xz,inflateInit:n=>n$(n,15),inflateInit2:n$,inflate:(n,e)=>{let t,r,i,o,s,a,l,u,c,d,g,p,b,w,A,M,B,F,X,se,z,D,E=0;const S=new Uint8Array(4);let V,C;const x=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ah(n)||!n.output||!n.input&&0!==n.avail_in)return fa;t=n.state,t.mode===Du&&(t.mode=16192),s=n.next_out,i=n.output,l=n.avail_out,o=n.next_in,r=n.input,a=n.avail_in,u=t.hold,c=t.bits,d=a,g=l,D=Eh;e:for(;;)switch(t.mode){case R2:if(0===t.wrap){t.mode=16192;break}for(;c<16;){if(0===a)break e;a--,u+=r[o++]<<c,c+=8}if(2&t.wrap&&35615===u){0===t.wbits&&(t.wbits=15),t.check=0,S[0]=255&u,S[1]=u>>>8&255,t.check=ji(t.check,S,2,0),u=0,c=0,t.mode=16181;break}if(t.head&&(t.head.done=!1),!(1&t.wrap)||(((255&u)<<8)+(u>>8))%31){n.msg="incorrect header check",t.mode=kr;break}if((15&u)!==Dz){n.msg="unknown compression method",t.mode=kr;break}if(u>>>=4,c-=4,z=8+(15&u),0===t.wbits&&(t.wbits=z),z>15||z>t.wbits){n.msg="invalid window size",t.mode=kr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=512&u?16189:Du,u=0,c=0;break;case 16181:for(;c<16;){if(0===a)break e;a--,u+=r[o++]<<c,c+=8}if(t.flags=u,(255&t.flags)!==Dz){n.msg="unknown compression method",t.mode=kr;break}if(57344&t.flags){n.msg="unknown header flags set",t.mode=kr;break}t.head&&(t.head.text=u>>8&1),512&t.flags&&4&t.wrap&&(S[0]=255&u,S[1]=u>>>8&255,t.check=ji(t.check,S,2,0)),u=0,c=0,t.mode=16182;case 16182:for(;c<32;){if(0===a)break e;a--,u+=r[o++]<<c,c+=8}t.head&&(t.head.time=u),512&t.flags&&4&t.wrap&&(S[0]=255&u,S[1]=u>>>8&255,S[2]=u>>>16&255,S[3]=u>>>24&255,t.check=ji(t.check,S,4,0)),u=0,c=0,t.mode=16183;case 16183:for(;c<16;){if(0===a)break e;a--,u+=r[o++]<<c,c+=8}t.head&&(t.head.xflags=255&u,t.head.os=u>>8),512&t.flags&&4&t.wrap&&(S[0]=255&u,S[1]=u>>>8&255,t.check=ji(t.check,S,2,0)),u=0,c=0,t.mode=16184;case 16184:if(1024&t.flags){for(;c<16;){if(0===a)break e;a--,u+=r[o++]<<c,c+=8}t.length=u,t.head&&(t.head.extra_len=u),512&t.flags&&4&t.wrap&&(S[0]=255&u,S[1]=u>>>8&255,t.check=ji(t.check,S,2,0)),u=0,c=0}else t.head&&(t.head.extra=null);t.mode=16185;case 16185:if(1024&t.flags&&(p=t.length,p>a&&(p=a),p&&(t.head&&(z=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+p),z)),512&t.flags&&4&t.wrap&&(t.check=ji(t.check,r,p,o)),a-=p,o+=p,t.length-=p),t.length))break e;t.length=0,t.mode=16186;case 16186:if(2048&t.flags){if(0===a)break e;p=0;do{z=r[o+p++],t.head&&z&&t.length<65536&&(t.head.name+=String.fromCharCode(z))}while(z&&p<a);if(512&t.flags&&4&t.wrap&&(t.check=ji(t.check,r,p,o)),a-=p,o+=p,z)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=16187;case 16187:if(4096&t.flags){if(0===a)break e;p=0;do{z=r[o+p++],t.head&&z&&t.length<65536&&(t.head.comment+=String.fromCharCode(z))}while(z&&p<a);if(512&t.flags&&4&t.wrap&&(t.check=ji(t.check,r,p,o)),a-=p,o+=p,z)break e}else t.head&&(t.head.comment=null);t.mode=16188;case 16188:if(512&t.flags){for(;c<16;){if(0===a)break e;a--,u+=r[o++]<<c,c+=8}if(4&t.wrap&&u!==(65535&t.check)){n.msg="header crc mismatch",t.mode=kr;break}u=0,c=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Du;break;case 16189:for(;c<32;){if(0===a)break e;a--,u+=r[o++]<<c,c+=8}n.adler=t.check=Jz(u),u=0,c=0,t.mode=M2;case M2:if(0===t.havedict)return n.next_out=s,n.avail_out=l,n.next_in=o,n.avail_in=a,t.hold=u,t.bits=c,Eye;n.adler=t.check=1,t.mode=Du;case Du:if(e===wye||e===N2)break e;case 16192:if(t.last){u>>>=7&c,c-=7&c,t.mode=16206;break}for(;c<3;){if(0===a)break e;a--,u+=r[o++]<<c,c+=8}switch(t.last=1&u,u>>>=1,c-=1,3&u){case 0:t.mode=16193;break;case 1:if(Pye(t),t.mode=k2,e===N2){u>>>=2,c-=2;break e}break;case 2:t.mode=16196;break;case 3:n.msg="invalid block type",t.mode=kr}u>>>=2,c-=2;break;case 16193:for(u>>>=7&c,c-=7&c;c<32;){if(0===a)break e;a--,u+=r[o++]<<c,c+=8}if((65535&u)!=(u>>>16^65535)){n.msg="invalid stored block lengths",t.mode=kr;break}if(t.length=65535&u,u=0,c=0,t.mode=16194,e===N2)break e;case 16194:t.mode=16195;case 16195:if(p=t.length,p){if(p>a&&(p=a),p>l&&(p=l),0===p)break e;i.set(r.subarray(o,o+p),s),a-=p,o+=p,l-=p,s+=p,t.length-=p;break}t.mode=Du;break;case 16196:for(;c<14;){if(0===a)break e;a--,u+=r[o++]<<c,c+=8}if(t.nlen=257+(31&u),u>>>=5,c-=5,t.ndist=1+(31&u),u>>>=5,c-=5,t.ncode=4+(15&u),u>>>=4,c-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=kr;break}t.have=0,t.mode=16197;case 16197:for(;t.have<t.ncode;){for(;c<3;){if(0===a)break e;a--,u+=r[o++]<<c,c+=8}t.lens[x[t.have++]]=7&u,u>>>=3,c-=3}for(;t.have<19;)t.lens[x[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,V={bits:t.lenbits},D=Uv(0,t.lens,0,19,t.lencode,0,t.work,V),t.lenbits=V.bits,D){n.msg="invalid code lengths set",t.mode=kr;break}t.have=0,t.mode=16198;case 16198:for(;t.have<t.nlen+t.ndist;){for(;E=t.lencode[u&(1<<t.lenbits)-1],A=E>>>24,M=E>>>16&255,B=65535&E,!(A<=c);){if(0===a)break e;a--,u+=r[o++]<<c,c+=8}if(B<16)u>>>=A,c-=A,t.lens[t.have++]=B;else{if(16===B){for(C=A+2;c<C;){if(0===a)break e;a--,u+=r[o++]<<c,c+=8}if(u>>>=A,c-=A,0===t.have){n.msg="invalid bit length repeat",t.mode=kr;break}z=t.lens[t.have-1],p=3+(3&u),u>>>=2,c-=2}else if(17===B){for(C=A+3;c<C;){if(0===a)break e;a--,u+=r[o++]<<c,c+=8}u>>>=A,c-=A,z=0,p=3+(7&u),u>>>=3,c-=3}else{for(C=A+7;c<C;){if(0===a)break e;a--,u+=r[o++]<<c,c+=8}u>>>=A,c-=A,z=0,p=11+(127&u),u>>>=7,c-=7}if(t.have+p>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=kr;break}for(;p--;)t.lens[t.have++]=z}}if(t.mode===kr)break;if(0===t.lens[256]){n.msg="invalid code -- missing end-of-block",t.mode=kr;break}if(t.lenbits=9,V={bits:t.lenbits},D=Uv(1,t.lens,0,t.nlen,t.lencode,0,t.work,V),t.lenbits=V.bits,D){n.msg="invalid literal/lengths set",t.mode=kr;break}if(t.distbits=6,t.distcode=t.distdyn,V={bits:t.distbits},D=Uv(2,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,V),t.distbits=V.bits,D){n.msg="invalid distances set",t.mode=kr;break}if(t.mode=k2,e===N2)break e;case k2:t.mode=O2;case O2:if(a>=6&&l>=258){n.next_out=s,n.avail_out=l,n.next_in=o,n.avail_in=a,t.hold=u,t.bits=c,gye(n,g),s=n.next_out,i=n.output,l=n.avail_out,o=n.next_in,r=n.input,a=n.avail_in,u=t.hold,c=t.bits,t.mode===Du&&(t.back=-1);break}for(t.back=0;E=t.lencode[u&(1<<t.lenbits)-1],A=E>>>24,M=E>>>16&255,B=65535&E,!(A<=c);){if(0===a)break e;a--,u+=r[o++]<<c,c+=8}if(M&&!(240&M)){for(F=A,X=M,se=B;E=t.lencode[se+((u&(1<<F+X)-1)>>F)],A=E>>>24,M=E>>>16&255,B=65535&E,!(F+A<=c);){if(0===a)break e;a--,u+=r[o++]<<c,c+=8}u>>>=F,c-=F,t.back+=F}if(u>>>=A,c-=A,t.back+=A,t.length=B,0===M){t.mode=16205;break}if(32&M){t.back=-1,t.mode=Du;break}if(64&M){n.msg="invalid literal/length code",t.mode=kr;break}t.extra=15&M,t.mode=16201;case 16201:if(t.extra){for(C=t.extra;c<C;){if(0===a)break e;a--,u+=r[o++]<<c,c+=8}t.length+=u&(1<<t.extra)-1,u>>>=t.extra,c-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=16202;case 16202:for(;E=t.distcode[u&(1<<t.distbits)-1],A=E>>>24,M=E>>>16&255,B=65535&E,!(A<=c);){if(0===a)break e;a--,u+=r[o++]<<c,c+=8}if(!(240&M)){for(F=A,X=M,se=B;E=t.distcode[se+((u&(1<<F+X)-1)>>F)],A=E>>>24,M=E>>>16&255,B=65535&E,!(F+A<=c);){if(0===a)break e;a--,u+=r[o++]<<c,c+=8}u>>>=F,c-=F,t.back+=F}if(u>>>=A,c-=A,t.back+=A,64&M){n.msg="invalid distance code",t.mode=kr;break}t.offset=B,t.extra=15&M,t.mode=16203;case 16203:if(t.extra){for(C=t.extra;c<C;){if(0===a)break e;a--,u+=r[o++]<<c,c+=8}t.offset+=u&(1<<t.extra)-1,u>>>=t.extra,c-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=kr;break}t.mode=16204;case 16204:if(0===l)break e;if(p=g-l,t.offset>p){if(p=t.offset-p,p>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=kr;break}p>t.wnext?(p-=t.wnext,b=t.wsize-p):b=t.wnext-p,p>t.length&&(p=t.length),w=t.window}else w=i,b=s-t.offset,p=t.length;p>l&&(p=l),l-=p,t.length-=p;do{i[s++]=w[b++]}while(--p);0===t.length&&(t.mode=O2);break;case 16205:if(0===l)break e;i[s++]=t.length,l--,t.mode=O2;break;case 16206:if(t.wrap){for(;c<32;){if(0===a)break e;a--,u|=r[o++]<<c,c+=8}if(g-=l,n.total_out+=g,t.total+=g,4&t.wrap&&g&&(n.adler=t.check=t.flags?ji(t.check,i,g,s-g):Pv(t.check,i,g,s-g)),g=l,4&t.wrap&&(t.flags?u:Jz(u))!==t.check){n.msg="incorrect data check",t.mode=kr;break}u=0,c=0}t.mode=16207;case 16207:if(t.wrap&&t.flags){for(;c<32;){if(0===a)break e;a--,u+=r[o++]<<c,c+=8}if(4&t.wrap&&u!==(4294967295&t.total)){n.msg="incorrect length check",t.mode=kr;break}u=0,c=0}t.mode=16208;case 16208:D=Iye;break e;case kr:D=Tz;break e;case 16210:return Sz;default:return fa}return n.next_out=s,n.avail_out=l,n.next_in=o,n.avail_in=a,t.hold=u,t.bits=c,(t.wsize||g!==n.avail_out&&t.mode<kr&&(t.mode<16206||e!==Cz))&&i$(n,n.output,n.next_out,g-n.avail_out),d-=n.avail_in,g-=n.avail_out,n.total_in+=d,n.total_out+=g,t.total+=g,4&t.wrap&&g&&(n.adler=t.check=t.flags?ji(t.check,i,g,n.next_out-g):Pv(t.check,i,g,n.next_out-g)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Du?128:0)+(t.mode===k2||16194===t.mode?256:0),(0===d&&0===g||e===Cz)&&D===Eh&&(D=Aye),D},inflateEnd:n=>{if(Ah(n))return fa;let e=n.state;return e.window&&(e.window=null),n.state=null,Eh},inflateGetHeader:(n,e)=>{if(Ah(n))return fa;const t=n.state;return 2&t.wrap?(t.head=e,e.done=!1,Eh):fa},inflateSetDictionary:(n,e)=>{const t=e.length;let r,i,o;return Ah(n)||(r=n.state,0!==r.wrap&&r.mode!==M2)?fa:r.mode===M2&&(i=1,i=Pv(i,e,t,0),i!==r.check)?Tz:(o=i$(n,e,t,t),o?(r.mode=16210,Sz):(r.havedict=1,Eh))},inflateInfo:"pako inflate (from Nodeca project)"},Hye=function Gye(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const o$=Object.prototype.toString,{Z_NO_FLUSH:Wye,Z_FINISH:Kye,Z_OK:Bv,Z_STREAM_END:VP,Z_NEED_DICT:UP,Z_STREAM_ERROR:Qye,Z_DATA_ERROR:s$,Z_MEM_ERROR:Yye}=yh;function jv(n){this.options=D2.assign({chunkSize:65536,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _z,this.strm.avail_out=0;let t=xu.inflateInit2(this.strm,e.windowBits);if(t!==Bv)throw new Error(vh[t]);if(this.header=new Hye,xu.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Fv.string2buf(e.dictionary):"[object ArrayBuffer]"===o$.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=xu.inflateSetDictionary(this.strm,e.dictionary),t!==Bv)))throw new Error(vh[t])}function BP(n,e){const t=new jv(e);if(t.push(n),t.err)throw t.msg||vh[t.err];return t.result}jv.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(s=e===~~e?e:!0===e?Kye:Wye,t.input="[object ArrayBuffer]"===o$.call(n)?new Uint8Array(n):n,t.next_in=0,t.avail_in=t.input.length;;){for(0===t.avail_out&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=xu.inflate(t,s),o===UP&&i&&(o=xu.inflateSetDictionary(t,i),o===Bv?o=xu.inflate(t,s):o===s$&&(o=UP));t.avail_in>0&&o===VP&&t.state.wrap>0&&0!==n[t.next_in];)xu.inflateReset(t),o=xu.inflate(t,s);switch(o){case Qye:case s$:case UP:case Yye:return this.onEnd(o),this.ended=!0,!1}if(a=t.avail_out,t.next_out&&(0===t.avail_out||o===VP))if("string"===this.options.to){let l=Fv.utf8border(t.output,t.next_out),u=t.next_out-l,c=Fv.buf2string(t.output,l);t.next_out=u,t.avail_out=r-u,u&&t.output.set(t.output.subarray(l,l+u),0),this.onData(c)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(o!==Bv||0!==a){if(o===VP)return o=xu.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===t.avail_in)break}}return!0},jv.prototype.onData=function(n){this.chunks.push(n)},jv.prototype.onEnd=function(n){n===Bv&&(this.result="string"===this.options.to?this.chunks.join(""):D2.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};var r1e={Inflate:jv,inflate:BP,inflateRaw:function Zye(n,e){return(e=e||{}).raw=!0,BP(n,e)},ungzip:BP,constants:yh};const{Inflate:l1e,inflate:u1e}=r1e;var jP=l1e,l$=u1e;const u$=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;u$[n]=e}const c$=4294967295;function h$(n,e,t){const r=n.readUint32(),i=function d$(n,e){return(function v1e(n,e,t){let r=n;for(let i=0;i<t;i++)r=u$[255&(r^e[i])]^r>>>8;return r}(c$,n,e)^c$)>>>0}(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`)}function f$(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function p$(n,e,t,r){let i=0;for(;i<r;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-r]&255}function g$(n,e,t,r){let i=0;if(0===t.length)for(;i<r;i++)e[i]=n[i];else for(;i<r;i++)e[i]=n[i]+t[i]&255}function m$(n,e,t,r,i){let o=0;if(0===t.length){for(;o<i;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-i]>>1)&255}else{for(;o<i;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-i]+t[o]>>1)&255}}function _$(n,e,t,r,i){let o=0;if(0===t.length){for(;o<i;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-i]&255}else{for(;o<i;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+y1e(e[o-i],t[o],t[o-i])&255}}function y1e(n,e,t){const r=n+e-t,i=Math.abs(r-n),o=Math.abs(r-e),s=Math.abs(r-t);return i<=o&&i<=s?n:o<=s?e:t}function b1e(n,e,t,r,i,o){switch(n){case 0:f$(e,t,i);break;case 1:p$(e,t,i,o);break;case 2:g$(e,t,r,i);break;case 3:m$(e,t,r,i,o);break;case 4:_$(e,t,r,i,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const w1e=new Uint16Array([255]),I1e=255===new Uint8Array(w1e.buffer)[0];function A1e(n){return(255&n)<<8|n>>8&255}const C1e=new Uint16Array([255]),T1e=255===new Uint8Array(C1e.buffer)[0],S1e=new Uint8Array(0);function v$(n){const{data:e,width:t,height:r,channels:i,depth:o}=n,s=Math.ceil(o/8)*i,a=Math.ceil(o/8*i*t),l=new Uint8Array(r*a);let d,g,u=S1e,c=0;for(let p=0;p<r;p++){switch(d=e.subarray(c+1,c+1+a),g=l.subarray(p*a,(p+1)*a),e[c]){case 0:f$(d,g,a);break;case 1:p$(d,g,a,s);break;case 2:g$(d,g,u,a);break;case 3:m$(d,g,u,a,s);break;case 4:_$(d,g,u,a,s);break;default:throw new Error(`Unsupported filter: ${e[c]}`)}u=g,c+=a+1}if(16===o){const p=new Uint16Array(l.buffer);if(T1e)for(let b=0;b<p.length;b++)p[b]=D1e(p[b]);return p}return l}function D1e(n){return(255&n)<<8|n>>8&255}const zv=Uint8Array.of(137,80,78,71,13,10,26,10);function y$(n){if(!function P1e(n){if(n.length<zv.length)return!1;for(let e=0;e<zv.length;e++)if(n[e]!==zv[e])return!1;return!0}(n.readBytes(zv.length)))throw new Error("wrong PNG signature")}const w$=0,I$=new TextDecoder("latin1");function E$(n){if(function A$(n){if(!N1e.test(n))throw new Error("invalid latin1 text")}(n),0===n.length||n.length>79)throw new Error("keyword length must be between 1 and 79")}const N1e=/^[\u0000-\u00FF]*$/;function C$(n){for(n.mark();n.readByte()!==w$;);const e=n.offset;n.reset();const t=I$.decode(n.readBytes(e-n.offset-1));return n.skip(1),E$(t),t}class O1e extends Ev{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new jP,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=-1,this._filterMethod=-1,this._interlaceMethod=-1,this._colorType=-1,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(y$(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(y$(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case"tEXt":!function R1e(n,e,t){const r=C$(e);n[r]=function k1e(n,e){return I$.decode(n.readBytes(e))}(e,t-r.length-1)}(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e)}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?h$(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch("fdAT"!==t&&"IDAT"!==t&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?h$(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=function L1e(n){if(1!==n&&2!==n&&4!==n&&8!==n&&16!==n)throw new Error(`invalid bit depth: ${n}`);return n}(this.readUint8());const t=this.readUint8();let r;switch(this._colorType=t,t){case 0:case 3:r=1;break;case 2:r=3;break;case 4:r=2;break;case 6:r=4;break;default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),0!==this._compressionMethod)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!=0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<t;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){if(this._writingDataChunks=!0,this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case 0:case 2:if(e%2!=0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break;case 3:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=C$(this),r=this.readUint8();if(0!==r)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:l$(i)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=v$({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===e||0===r.xOffset&&0===r.yOffset&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case 0:break;case 1:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const s=(i*e.width+o)*this._png.channels;for(let a=0;a<this._png.channels;a++)r.data[s+a]=0}break;case 2:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,i=(o,s)=>({index:((o+t.yOffset)*this._png.width+t.xOffset+s)*this._png.channels,frameIndex:(o*t.width+s)*this._png.channels});switch(t.blendOp){case 0:for(let o=0;o<t.height;o++)for(let s=0;s<t.width;s++){const{index:a,frameIndex:l}=i(o,s);for(let u=0;u<this._png.channels;u++)e.data[a+u]=t.data[l+u]}break;case 1:for(let o=0;o<t.height;o++)for(let s=0;s<t.width;s++){const{index:a,frameIndex:l}=i(o,s);for(let u=0;u<this._png.channels;u++){const c=t.data[l+this._png.channels-1]/r,g=Math.floor(c*(u%(this._png.channels-1)==0?1:t.data[l+u])+(1-c)*e.data[a+u]);e.data[a+u]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(0!==this._filterMethod)throw new Error(`Filter method ${this._filterMethod} not supported`);if(0===this._interlaceMethod)this._png.data=v$({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(1!==this._interlaceMethod)throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._png.data=function E1e(n){const{data:e,width:t,height:r,channels:i,depth:o}=n,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(o/8)*i,l=new Uint8Array(r*t*a);let u=0;for(let c=0;c<7;c++){const d=s[c],g=Math.ceil((t-d.x)/d.xStep),p=Math.ceil((r-d.y)/d.yStep);if(g<=0||p<=0)continue;const b=g*a,w=new Uint8Array(b);for(let E=0;E<p;E++){const A=e[u++],M=e.subarray(u,u+b);u+=b;const B=new Uint8Array(b);b1e(A,M,B,w,b,a),w.set(B);for(let F=0;F<g;F++){const X=d.x+F*d.xStep,se=d.y+E*d.yStep;if(!(X>=t||se>=r))for(let z=0;z<a;z++)l[(se*t+X)*a+z]=B[F*a+z]}}}if(16===o){const c=new Uint16Array(l.buffer);if(I1e)for(let d=0;d<c.length;d++)c[d]=A1e(c[d]);return c}return l}({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:0,blendOp:0,data:e}),this._inflator=new jP,this._writingDataChunks=!1}}var Wt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function qP(){Wt.console&&"function"==typeof Wt.console.log&&Wt.console.log.apply(Wt.console,arguments)}var lr={log:qP,warn:function(n){Wt.console&&("function"==typeof Wt.console.warn?Wt.console.warn.apply(Wt.console,arguments):qP.call(null,arguments))},error:function(n){Wt.console&&("function"==typeof Wt.console.error?Wt.console.error.apply(Wt.console,arguments):qP(n))}};function GP(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Ch(r.response,e,t)},r.onerror=function(){lr.error("could not download file")},r.send()}function S$(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function V2(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Ch=Wt.saveAs||("object"!==(typeof window>"u"?"undefined":Wn(window))||window!==Wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Wt.URL||Wt.webkitURL,i=document.createElement("a");i.download=e=e||n.name||"download",i.rel="noopener","string"==typeof n?(i.href=n,i.origin!==location.origin?S$(i.href)?GP(n,e,t):V2(i,i.target="_blank"):V2(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){V2(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download","string"==typeof n)if(S$(n))GP(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){V2(r)})}else navigator.msSaveOrOpenBlob((i=n,void 0===(o=t)?o={autoBom:!1}:"object"!==Wn(o)&&(lr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i),e);var i,o}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof n)return GP(n,e,t);var i="application/octet-stream"===n.type,o=/constructor/i.test(Wt.HTMLElement)||Wt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&"object"===(typeof FileReader>"u"?"undefined":Wn(FileReader))){var a=new FileReader;a.onloadend=function(){var c=a.result;c=s?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},a.readAsDataURL(n)}else{var l=Wt.URL||Wt.webkitURL,u=l.createObjectURL(n);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});function D$(n){var e;n=n||"",this.ok=!1,"#"==n.charAt(0)&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var o=t[r].process,s=t[r].re.exec(n);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return 1==a.length&&(a="0"+a),1==l.length&&(l="0"+l),1==u.length&&(u="0"+u),"#"+a+l+u}}var U2=Wt.atob.bind(Wt),x$=Wt.btoa.bind(Wt);function HP(n,e){var t=n[0],r=n[1],i=n[2],o=n[3];t=wo(t,r,i,o,e[0],7,-680876936),o=wo(o,t,r,i,e[1],12,-389564586),i=wo(i,o,t,r,e[2],17,606105819),r=wo(r,i,o,t,e[3],22,-1044525330),t=wo(t,r,i,o,e[4],7,-176418897),o=wo(o,t,r,i,e[5],12,1200080426),i=wo(i,o,t,r,e[6],17,-1473231341),r=wo(r,i,o,t,e[7],22,-45705983),t=wo(t,r,i,o,e[8],7,1770035416),o=wo(o,t,r,i,e[9],12,-1958414417),i=wo(i,o,t,r,e[10],17,-42063),r=wo(r,i,o,t,e[11],22,-1990404162),t=wo(t,r,i,o,e[12],7,1804603682),o=wo(o,t,r,i,e[13],12,-40341101),i=wo(i,o,t,r,e[14],17,-1502002290),t=Io(t,r=wo(r,i,o,t,e[15],22,1236535329),i,o,e[1],5,-165796510),o=Io(o,t,r,i,e[6],9,-1069501632),i=Io(i,o,t,r,e[11],14,643717713),r=Io(r,i,o,t,e[0],20,-373897302),t=Io(t,r,i,o,e[5],5,-701558691),o=Io(o,t,r,i,e[10],9,38016083),i=Io(i,o,t,r,e[15],14,-660478335),r=Io(r,i,o,t,e[4],20,-405537848),t=Io(t,r,i,o,e[9],5,568446438),o=Io(o,t,r,i,e[14],9,-1019803690),i=Io(i,o,t,r,e[3],14,-187363961),r=Io(r,i,o,t,e[8],20,1163531501),t=Io(t,r,i,o,e[13],5,-1444681467),o=Io(o,t,r,i,e[2],9,-51403784),i=Io(i,o,t,r,e[7],14,1735328473),t=Eo(t,r=Io(r,i,o,t,e[12],20,-1926607734),i,o,e[5],4,-378558),o=Eo(o,t,r,i,e[8],11,-2022574463),i=Eo(i,o,t,r,e[11],16,1839030562),r=Eo(r,i,o,t,e[14],23,-35309556),t=Eo(t,r,i,o,e[1],4,-1530992060),o=Eo(o,t,r,i,e[4],11,1272893353),i=Eo(i,o,t,r,e[7],16,-155497632),r=Eo(r,i,o,t,e[10],23,-1094730640),t=Eo(t,r,i,o,e[13],4,681279174),o=Eo(o,t,r,i,e[0],11,-358537222),i=Eo(i,o,t,r,e[3],16,-722521979),r=Eo(r,i,o,t,e[6],23,76029189),t=Eo(t,r,i,o,e[9],4,-640364487),o=Eo(o,t,r,i,e[12],11,-421815835),i=Eo(i,o,t,r,e[15],16,530742520),t=Ao(t,r=Eo(r,i,o,t,e[2],23,-995338651),i,o,e[0],6,-198630844),o=Ao(o,t,r,i,e[7],10,1126891415),i=Ao(i,o,t,r,e[14],15,-1416354905),r=Ao(r,i,o,t,e[5],21,-57434055),t=Ao(t,r,i,o,e[12],6,1700485571),o=Ao(o,t,r,i,e[3],10,-1894986606),i=Ao(i,o,t,r,e[10],15,-1051523),r=Ao(r,i,o,t,e[1],21,-2054922799),t=Ao(t,r,i,o,e[8],6,1873313359),o=Ao(o,t,r,i,e[15],10,-30611744),i=Ao(i,o,t,r,e[6],15,-1560198380),r=Ao(r,i,o,t,e[13],21,1309151649),t=Ao(t,r,i,o,e[4],6,-145523070),o=Ao(o,t,r,i,e[11],10,-1120210379),i=Ao(i,o,t,r,e[2],15,718787259),r=Ao(r,i,o,t,e[9],21,-343485551),n[0]=Wc(t,n[0]),n[1]=Wc(r,n[1]),n[2]=Wc(i,n[2]),n[3]=Wc(o,n[3])}function B2(n,e,t,r,i,o){return e=Wc(Wc(e,n),Wc(r,o)),Wc(e<<i|e>>>32-i,t)}function wo(n,e,t,r,i,o,s){return B2(e&t|~e&r,n,e,i,o,s)}function Io(n,e,t,r,i,o,s){return B2(e&r|t&~r,n,e,i,o,s)}function Eo(n,e,t,r,i,o,s){return B2(e^t^r,n,e,i,o,s)}function Ao(n,e,t,r,i,o,s){return B2(t^(e|~r),n,e,i,o,s)}function P$(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)HP(r,q1e(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(HP(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,HP(r,i),r}function q1e(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var N$="0123456789abcdef".split("");function G1e(n){for(var e="",t=0;t<4;t++)e+=N$[n>>8*t+4&15]+N$[n>>8*t&15];return e}function H1e(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function WP(n){return P$(n).map(H1e).join("")}var W1e="5d41402abc4b2a76b9719d911017c592"!=function(n){for(var e=0;e<n.length;e++)n[e]=G1e(n[e]);return n.join("")}(P$("hello"));function Wc(n,e){if(W1e){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function KP(n,e){var t,r,i;if(n!==t){for(var s=(i=n,new Array(1+(256/n.length|0)+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var c=a[l];u=(u+c+s.charCodeAt(l))%256,a[l]=a[u],a[u]=c}t=n,r=a}else a=r;var d=e.length,g=0,p=0,b="";for(l=0;l<d;l++)p=(p+(c=a[g=(g+1)%256]))%256,a[g]=a[p],a[p]=c,s=a[(a[g]+a[p])%256],b+=String.fromCharCode(e.charCodeAt(l)^s);return b}var R$={print:4,modify:8,copy:16,"annot-forms":32};function hg(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(void 0!==R$.perm)throw new Error("Invalid permission: "+a);i+=R$[a]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var o=(e+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=WP(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=KP(this.encryptionKey,this.padding)}function fg(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function M$(n){if("object"!==Wn(n))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,"string"!=typeof t||"function"!=typeof r||"boolean"!=typeof i)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!i],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],0===Object.keys(e[r]).length&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[t]){var s=e[t][o];try{s[0].apply(n,r)}catch(a){Wt.console&&lr.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function j2(n){if(!(this instanceof j2))return new j2(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function k$(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Th(n,e,t,r,i){if(!(this instanceof Th))return new Th(n,e,t,r,i);this.type="axial"===n?2:3,this.coords=e,this.colors=t,k$.call(this,r,i)}function pg(n,e,t,r,i){if(!(this instanceof pg))return new pg(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,k$.call(this,r,i)}function At(n){var e,t="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,l=16,u="S",c=null;"object"===Wn(n=n||{})&&(t=n.orientation,r=n.unit||r,i=n.format||i,o=n.compress||n.compressPdf||o,null!==(c=n.encryption||null)&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),a="number"==typeof n.userUnit?Math.abs(n.userUnit):1,void 0!==n.precision&&(e=n.precision),void 0!==n.floatPrecision&&(l=n.floatPrecision),u=n.defaultPathOperation||"S"),s=n.filters||(!0===o?["FlateEncode"]:s),r=r||"mm",t=(""+(t||"P")).toLowerCase();var d=n.putOnlyUsedFonts||!1,g={},p={internal:{},__private__:{}};p.__private__.PubSub=M$;var b="1.3",w=p.__private__.getPdfVersion=function(){return b};p.__private__.setPdfVersion=function(_){b=_};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return E};var A=p.__private__.getPageFormat=function(_){return E[_]};i=i||"a4";var M="compat",B="advanced",F=M;function X(){this.saveGraphicsState(),J(new xt(Rt,0,0,-Rt,0,Ha()*Rt).toString()+" cm"),this.setFontSize(this.getFontSize()/Rt),u="n",F=B}function se(){this.restoreGraphicsState(),u="S",F=M}var z=p.__private__.combineFontStyleAndFontWeight=function(_,R){if("bold"==_&&"normal"==R||"bold"==_&&400==R||"normal"==_&&"italic"==R||"bold"==_&&"italic"==R)throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(_=400==R||"normal"===R?"italic"===_?"italic":"normal":700!=R&&"bold"!==R||"normal"!==_?(700==R?"bold":R)+""+_:"bold"),_};p.advancedAPI=function(_){var R=F===M;return R&&X.call(this),"function"!=typeof _||(_(this),R&&se.call(this)),this},p.compatAPI=function(_){var R=F===B;return R&&se.call(this),"function"!=typeof _||(_(this),R&&X.call(this)),this},p.isAdvancedAPI=function(){return F===B};var D,S=function(_){if(F!==B)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=p.roundToPrecision=p.__private__.roundToPrecision=function(_,R){var K=e||R;if(isNaN(_)||isNaN(K))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(K).replace(/0+$/,"")};D=p.hpf=p.__private__.hpf="number"==typeof l?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return V(_,l)}:"smart"===l?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return V(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return V(_,16)};var C=p.f2=p.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return V(_,2)},x=p.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return V(_,3)},P=p.scale=p.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return F===M?_*Rt:F===B?_:void 0},te=function(_){return P((R=_,F===M?Ha()-R:F===B?R:void 0));var R};p.__private__.setPrecision=p.setPrecision=function(_){"number"==typeof parseInt(_,10)&&(e=parseInt(_,10))};var me,Ae="00000000000000000000000000000000",Ee=p.__private__.getFileId=function(){return Ae},pe=p.__private__.setFileId=function(_){return Ae=void 0!==_&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():Ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==c&&(Br=new hg(c.userPermissions,c.userPassword,c.ownerPassword,Ae)),Ae};p.setFileId=function(_){return pe(_),this},p.getFileId=function(){return Ee()};var Ce=p.__private__.convertDateToPDFDate=function(_){var R=_.getTimezoneOffset(),K=R<0?"+":"-",ne=Math.floor(Math.abs(R/60)),ce=Math.abs(R%60),Ne=[K,ee(ne),"'",ee(ce),"'"].join("");return["D:",_.getFullYear(),ee(_.getMonth()+1),ee(_.getDate()),ee(_.getHours()),ee(_.getMinutes()),ee(_.getSeconds()),Ne].join("")},Ge=p.__private__.convertPDFDateToDate=function(_){var R=parseInt(_.substr(2,4),10),K=parseInt(_.substr(6,2),10)-1,ne=parseInt(_.substr(8,2),10),ce=parseInt(_.substr(10,2),10),Ne=parseInt(_.substr(12,2),10),Ve=parseInt(_.substr(14,2),10);return new Date(R,K,ne,ce,Ne,Ve,0)},Oe=p.__private__.setCreationDate=function(_){var R;if(void 0===_&&(_=new Date),_ instanceof Date)R=Ce(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=_}return me=R},U=p.__private__.getCreationDate=function(_){var R=me;return"jsDate"===_&&(R=Ge(me)),R};p.setCreationDate=function(_){return Oe(_),this},p.getCreationDate=function(_){return U(_)};var W,ee=p.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},ie=p.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},le=0,de=[],ye=[],Ie=0,Pe=[],De=[],Qe=!1,Ke=ye;p.__private__.setCustomOutputDestination=function(_){Qe=!0,Ke=_};var Te=function(_){Qe||(Ke=_)};p.__private__.resetCustomOutputDestination=function(){Qe=!1,Ke=ye};var J=p.__private__.out=function(_){return _=_.toString(),Ie+=_.length+1,Ke.push(_),Ke},sn=p.__private__.write=function(_){return J(1===arguments.length?_.toString():Array.prototype.join.call(arguments," "))},jt=p.__private__.getArrayBuffer=function(_){for(var R=_.length,K=new ArrayBuffer(R),ne=new Uint8Array(K);R--;)ne[R]=_.charCodeAt(R);return K},Dt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Dt};var $e=n.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(_){return $e=F===B?_/Rt:_,this};var gt,Je=p.__private__.getFontSize=p.getFontSize=function(){return F===M?$e:$e*Rt},zt=n.R2L||!1;p.__private__.setR2L=p.setR2L=function(_){return zt=_,this},p.__private__.getR2L=p.getR2L=function(){return zt};var Et,an=p.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))gt=_;else if(isNaN(_)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');gt=_}else gt=parseInt(_,10)};p.__private__.getZoomMode=function(){return gt};var Nt,Ot=p.__private__.setPageMode=function(_){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');Et=_};p.__private__.getPageMode=function(){return Et};var Kt=p.__private__.setLayoutMode=function(_){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Nt=_};p.__private__.getLayoutMode=function(){return Nt},p.__private__.setDisplayMode=p.setDisplayMode=function(_,R,K){return an(_),Kt(R),Ot(K),this};var yt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(_){if(-1===Object.keys(yt).indexOf(_))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return yt[_]},p.__private__.getDocumentProperties=function(){return yt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(_){for(var R in yt)yt.hasOwnProperty(R)&&_[R]&&(yt[R]=_[R]);return this},p.__private__.setDocumentProperty=function(_,R){if(-1===Object.keys(yt).indexOf(_))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return yt[_]=R};var ft,Rt,bt,Fn,dn,He={},Ct={},Qt=[],Tt={},tn={},wt={},Bn={},Cr=null,wn=0,Mt=[],mn=new M$(p),io=n.hotfixes||[],Qr={},Co={},$i=[],xt=function _(R,K,ne,ce,Ne,Ve){if(!(this instanceof _))return new _(R,K,ne,ce,Ne,Ve);isNaN(R)&&(R=1),isNaN(K)&&(K=0),isNaN(ne)&&(ne=0),isNaN(ce)&&(ce=1),isNaN(Ne)&&(Ne=0),isNaN(Ve)&&(Ve=0),this._matrix=[R,K,ne,ce,Ne,Ve]};Object.defineProperty(xt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(xt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(xt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(xt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(xt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(xt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(xt.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(xt.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(xt.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(xt.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(xt.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(xt.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(xt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(xt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(xt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(xt.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),xt.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(_)},xt.prototype.multiply=function(_){return new xt(_.sx*this.sx+_.shy*this.shx,_.sx*this.shy+_.shy*this.sy,_.shx*this.sx+_.sy*this.shx,_.shx*this.shy+_.sy*this.sy,_.tx*this.sx+_.ty*this.shx+this.tx,_.tx*this.shy+_.ty*this.sy+this.ty)},xt.prototype.decompose=function(){var _=this.sx,R=this.shy,K=this.shx,ne=this.sy,ce=this.tx,Ne=this.ty,Ve=Math.sqrt(_*_+R*R),st=(_/=Ve)*K+(R/=Ve)*ne;K-=_*st,ne-=R*st;var ht=Math.sqrt(K*K+ne*ne);return st/=ht,_*(ne/=ht)<R*(K/=ht)&&(_=-_,R=-R,st=-st,Ve=-Ve),{scale:new xt(Ve,0,0,ht,0,0),translate:new xt(1,0,0,1,ce,Ne),rotate:new xt(_,R,-R,_,0,0),skew:new xt(1,0,st,1,0,0)}},xt.prototype.toString=function(_){return this.join(" ")},xt.prototype.inversed=function(){var _=this.sx,R=this.shy,K=this.shx,ne=this.sy,ce=this.tx,Ne=this.ty,Ve=1/(_*ne-R*K),st=ne*Ve,ht=-R*Ve,Lt=-K*Ve,Ft=_*Ve;return new xt(st,ht,Lt,Ft,-st*ce-Lt*Ne,-ht*ce-Ft*Ne)},xt.prototype.applyToPoint=function(_){return new Bu(_.x*this.sx+_.y*this.shx+this.tx,_.x*this.shy+_.y*this.sy+this.ty)},xt.prototype.applyToRectangle=function(_){var R=this.applyToPoint(_),K=this.applyToPoint(new Bu(_.x+_.w,_.y+_.h));return new td(R.x,R.y,K.x-R.x,K.y-R.y)},xt.prototype.clone=function(){return new xt(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},p.Matrix=xt;var pa=p.matrixMult=function(_,R){return R.multiply(_)},Tr=new xt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Tr;var Go=function(_,R){if(!tn[_]){var K=(R instanceof Th?"Sh":"P")+(Object.keys(Tt).length+1).toString(10);R.id=K,tn[_]=K,Tt[K]=R,mn.publish("addPattern",R)}};p.ShadingPattern=Th,p.TilingPattern=pg,p.addShadingPattern=function(_,R){return S("addShadingPattern()"),Go(_,R),this},p.beginTilingPattern=function(_){S("beginTilingPattern()"),nd(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},p.endTilingPattern=function(_,R){S("endTilingPattern()"),R.stream=De[W].join("\n"),Go(_,R),mn.publish("endTilingPattern",R),$i.pop().restore()};var qi,tr=p.__private__.newObject=function(){var _=bi();return Di(_,!0),_},bi=p.__private__.newObjectDeferred=function(){return le++,de[le]=function(){return Ie},le},Di=function(_,R){return R="boolean"==typeof R&&R,de[_]=Ie,R&&J(_+" 0 obj"),_},ms=p.__private__.newAdditionalObject=function(){var _={objId:bi(),content:""};return Pe.push(_),_},Nl=bi(),Us=bi(),Ho=p.__private__.decodeColorString=function(_){var R=_.split(" ");if(2!==R.length||"g"!==R[1]&&"G"!==R[1])5!==R.length||"k"!==R[4]&&"K"!==R[4]||(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var K=parseFloat(R[0]);R=[K,K,K,"r"]}for(var ne="#",ce=0;ce<3;ce++)ne+=("0"+Math.floor(255*parseFloat(R[ce])).toString(16)).slice(-2);return ne},_s=p.__private__.encodeColorString=function(_){var R;"string"==typeof _&&(_={ch1:_});var K=_.ch1,ne=_.ch2,ce=_.ch3,Ne=_.ch4,Ve="draw"===_.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof K&&"#"!==K.charAt(0)){var st=new D$(K);if(st.ok)K=st.toHex();else if(!/^\d*\.?\d*$/.test(K))throw new Error('Invalid color "'+K+'" passed to jsPDF.encodeColorString.')}if("string"==typeof K&&/^#[0-9A-Fa-f]{3}$/.test(K)&&(K="#"+K[1]+K[1]+K[2]+K[2]+K[3]+K[3]),"string"==typeof K&&/^#[0-9A-Fa-f]{6}$/.test(K)){var ht=parseInt(K.substr(1),16);K=ht>>16&255,ne=ht>>8&255,ce=255&ht}if(void 0===ne||void 0===Ne&&K===ne&&ne===ce)R="string"==typeof K?K+" "+Ve[0]:2===_.precision?C(K/255)+" "+Ve[0]:x(K/255)+" "+Ve[0];else if(void 0===Ne||"object"===Wn(Ne)){if(Ne&&!isNaN(Ne.a)&&0===Ne.a)return["1.","1.","1.",Ve[1]].join(" ");R="string"==typeof K?[K,ne,ce,Ve[1]].join(" "):2===_.precision?[C(K/255),C(ne/255),C(ce/255),Ve[1]].join(" "):[x(K/255),x(ne/255),x(ce/255),Ve[1]].join(" ")}else R="string"==typeof K?[K,ne,ce,Ne,Ve[2]].join(" "):2===_.precision?[C(K),C(ne),C(ce),C(Ne),Ve[2]].join(" "):[x(K),x(ne),x(ce),x(Ne),Ve[2]].join(" ");return R},Wo=p.__private__.getFilters=function(){return s},oo=p.__private__.putStream=function(_){var R=(_=_||{}).data||"",K=_.filters||Wo(),ne=_.alreadyAppliedFilters||[],ce=_.addLength1||!1,Ne=R.length,Ve=_.objectId,st=function(Yr){return Yr};if(null!==c&&void 0===Ve)throw new Error("ObjectId must be passed to putStream for file encryption");null!==c&&(st=Br.encryptor(Ve,0));var ht={};!0===K&&(K=["FlateEncode"]);var Lt=_.additionalKeyValues||[],Ft=(ht=void 0!==At.API.processDataByFilters?At.API.processDataByFilters(R,K):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(ne)?ne.join(" "):ne.toString());if(0!==ht.data.length&&(Lt.push({key:"Length",value:ht.data.length}),!0===ce&&Lt.push({key:"Length1",value:Ne})),0!=Ft.length)if(Ft.split("/").length-1==1)Lt.push({key:"Filter",value:Ft});else{Lt.push({key:"Filter",value:"["+Ft+"]"});for(var xn=0;xn<Lt.length;xn+=1)if("DecodeParms"===Lt[xn].key){for(var vr=[],rr=0;rr<ht.reverseChain.split("/").length-1;rr+=1)vr.push("null");vr.push(Lt[xn].value),Lt[xn].value="["+vr.join(" ")+"]"}}J("<<");for(var Qn=0;Qn<Lt.length;Qn++)J("/"+Lt[Qn].key+" "+Lt[Qn].value);J(">>"),0!==ht.data.length&&(J("stream"),J(st(ht.data)),J("endstream"))},To=p.__private__.putPage=function(_){var R=_.number,K=_.data,ne=_.objId,ce=_.contentsObjId;Di(ne,!0),J("<</Type /Page"),J("/Parent "+_.rootDictionaryObjId+" 0 R"),J("/Resources "+_.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(D(_.mediaBox.bottomLeftX))+" "+parseFloat(D(_.mediaBox.bottomLeftY))+" "+D(_.mediaBox.topRightX)+" "+D(_.mediaBox.topRightY)+"]"),null!==_.cropBox&&J("/CropBox ["+D(_.cropBox.bottomLeftX)+" "+D(_.cropBox.bottomLeftY)+" "+D(_.cropBox.topRightX)+" "+D(_.cropBox.topRightY)+"]"),null!==_.bleedBox&&J("/BleedBox ["+D(_.bleedBox.bottomLeftX)+" "+D(_.bleedBox.bottomLeftY)+" "+D(_.bleedBox.topRightX)+" "+D(_.bleedBox.topRightY)+"]"),null!==_.trimBox&&J("/TrimBox ["+D(_.trimBox.bottomLeftX)+" "+D(_.trimBox.bottomLeftY)+" "+D(_.trimBox.topRightX)+" "+D(_.trimBox.topRightY)+"]"),null!==_.artBox&&J("/ArtBox ["+D(_.artBox.bottomLeftX)+" "+D(_.artBox.bottomLeftY)+" "+D(_.artBox.topRightX)+" "+D(_.artBox.topRightY)+"]"),"number"==typeof _.userUnit&&1!==_.userUnit&&J("/UserUnit "+_.userUnit),mn.publish("putPage",{objId:ne,pageContext:Mt[R],pageNumber:R,page:K}),J("/Contents "+ce+" 0 R"),J(">>"),J("endobj");var Ne=K.join("\n");return F===B&&(Ne+="\nQ"),Di(ce,!0),oo({data:Ne,filters:Wo(),objectId:ce}),J("endobj"),ne},Bs=p.__private__.putPages=function(){var _,R,K=[];for(_=1;_<=wn;_++)Mt[_].objId=bi(),Mt[_].contentsObjId=bi();for(_=1;_<=wn;_++)K.push(To({number:_,data:De[_],objId:Mt[_].objId,contentsObjId:Mt[_].contentsObjId,mediaBox:Mt[_].mediaBox,cropBox:Mt[_].cropBox,bleedBox:Mt[_].bleedBox,trimBox:Mt[_].trimBox,artBox:Mt[_].artBox,userUnit:Mt[_].userUnit,rootDictionaryObjId:Nl,resourceDictionaryObjId:Us}));Di(Nl,!0),J("<</Type /Pages");var ne="/Kids [";for(R=0;R<wn;R++)ne+=K[R]+" 0 R ";J(ne+"]"),J("/Count "+wn),J(">>"),J("endobj"),mn.publish("postPutPages")},Rl=function(_){mn.publish("putFont",{font:_,out:J,newObject:tr,putStream:oo}),!0!==_.isAlreadyPutted&&(_.objectNumber=tr(),J("<<"),J("/Type /Font"),J("/BaseFont /"+fg(_.postScriptName)),J("/Subtype /Type1"),"string"==typeof _.encoding&&J("/Encoding /"+_.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},Ml=function(_){_.objectNumber=tr();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[D(_.x),D(_.y),D(_.x+_.width),D(_.y+_.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var K=_.pages[1].join("\n");oo({data:K,additionalKeyValues:R,objectId:_.objectNumber}),J("endobj")},kl=function(_,R){R||(R=21);var K=tr(),ne=function(Ve,st){var ht,Lt=[],Ft=1/(st-1);for(ht=0;ht<1;ht+=Ft)Lt.push(ht);Lt.push(1),0!=Ve[0].offset&&Ve.unshift({offset:0,color:Ve[0].color}),1!=Ve[Ve.length-1].offset&&Ve.push({offset:1,color:Ve[Ve.length-1].color});for(var rr="",Qn=0,Yr=0;Yr<Lt.length;Yr++){for(ht=Lt[Yr];ht>Ve[Qn+1].offset;)Qn++;var jr=Ve[Qn].offset,wi=(ht-jr)/(Ve[Qn+1].offset-jr),so=Ve[Qn].color,ir=Ve[Qn+1].color;rr+=ie(Math.round((1-wi)*so[0]+wi*ir[0]).toString(16))+ie(Math.round((1-wi)*so[1]+wi*ir[1]).toString(16))+ie(Math.round((1-wi)*so[2]+wi*ir[2]).toString(16))}return rr.trim()}(_.colors,R),ce=[];ce.push({key:"FunctionType",value:"0"}),ce.push({key:"Domain",value:"[0.0 1.0]"}),ce.push({key:"Size",value:"["+R+"]"}),ce.push({key:"BitsPerSample",value:"8"}),ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),oo({data:ne,additionalKeyValues:ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:K}),J("endobj"),_.objectNumber=tr(),J("<< /ShadingType "+_.type),J("/ColorSpace /DeviceRGB");var Ne="/Coords ["+D(parseFloat(_.coords[0]))+" "+D(parseFloat(_.coords[1]))+" ";Ne+=2===_.type?D(parseFloat(_.coords[2]))+" "+D(parseFloat(_.coords[3])):D(parseFloat(_.coords[2]))+" "+D(parseFloat(_.coords[3]))+" "+D(parseFloat(_.coords[4]))+" "+D(parseFloat(_.coords[5])),J(Ne+="]"),_.matrix&&J("/Matrix ["+_.matrix.toString()+"]"),J("/Function "+K+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Pu=function(_,R){var K=bi(),ne=tr();R.push({resourcesOid:K,objectOid:ne}),_.objectNumber=ne;var ce=[];ce.push({key:"Type",value:"/Pattern"}),ce.push({key:"PatternType",value:"1"}),ce.push({key:"PaintType",value:"1"}),ce.push({key:"TilingType",value:"1"}),ce.push({key:"BBox",value:"["+_.boundingBox.map(D).join(" ")+"]"}),ce.push({key:"XStep",value:D(_.xStep)}),ce.push({key:"YStep",value:D(_.yStep)}),ce.push({key:"Resources",value:K+" 0 R"}),_.matrix&&ce.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),oo({data:_.stream,additionalKeyValues:ce,objectId:_.objectNumber}),J("endobj")},wg=function(_){for(var R in _.objectNumber=tr(),J("<<"),_)switch(R){case"opacity":J("/ca "+C(_[R]));break;case"stroke-opacity":J("/CA "+C(_[R]))}J(">>"),J("endobj")},xh=function(_){Di(_.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var R in J("/Font <<"),He)He.hasOwnProperty(R)&&(!1===d||!0===d&&g.hasOwnProperty(R))&&J("/"+R+" "+He[R].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(Tt).length>0){for(var R in J("/Shading <<"),Tt)Tt.hasOwnProperty(R)&&Tt[R]instanceof Th&&Tt[R].objectNumber>=0&&J("/"+R+" "+Tt[R].objectNumber+" 0 R");mn.publish("putShadingPatternDict"),J(">>")}}(),function(R){if(Object.keys(Tt).length>0){for(var K in J("/Pattern <<"),Tt)Tt.hasOwnProperty(K)&&Tt[K]instanceof p.TilingPattern&&Tt[K].objectNumber>=0&&Tt[K].objectNumber<R&&J("/"+K+" "+Tt[K].objectNumber+" 0 R");mn.publish("putTilingPatternDict"),J(">>")}}(_.objectOid),function(){if(Object.keys(wt).length>0){var R;for(R in J("/ExtGState <<"),wt)wt.hasOwnProperty(R)&&wt[R].objectNumber>=0&&J("/"+R+" "+wt[R].objectNumber+" 0 R");mn.publish("putGStateDict"),J(">>")}}(),function(){for(var R in J("/XObject <<"),Qr)Qr.hasOwnProperty(R)&&Qr[R].objectNumber>=0&&J("/"+R+" "+Qr[R].objectNumber+" 0 R");mn.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},Nu=function(_){Ct[_.fontName]=Ct[_.fontName]||{},Ct[_.fontName][_.fontStyle]=_.id},Ph=function(_,R,K,ne,ce){var Ne={id:"F"+(Object.keys(He).length+1).toString(10),postScriptName:_,fontName:R,fontStyle:K,encoding:ne,isStandardFont:ce||!1,metadata:{}};return mn.publish("addFont",{font:Ne,instance:this}),He[Ne.id]=Ne,Nu(Ne),Ne.id},So=p.__private__.pdfEscape=p.pdfEscape=function(_,R){return function(K,ne){var ce,Ne,Ve,st,ht,Lt,Ft,xn,vr;if(Ve=(ne=ne||{}).sourceEncoding||"Unicode",ht=ne.outputEncoding,(ne.autoencode||ht)&&He[ft].metadata&&He[ft].metadata[Ve]&&He[ft].metadata[Ve].encoding&&(st=He[ft].metadata[Ve].encoding,!ht&&He[ft].encoding&&(ht=He[ft].encoding),!ht&&st.codePages&&(ht=st.codePages[0]),"string"==typeof ht&&(ht=st[ht]),ht)){for(Ft=!1,Lt=[],ce=0,Ne=K.length;ce<Ne;ce++)(xn=ht[K.charCodeAt(ce)])?Lt.push(String.fromCharCode(xn)):Lt.push(K[ce]),Lt[ce].charCodeAt(0)>>8&&(Ft=!0);K=Lt.join("")}for(ce=K.length;void 0===Ft&&0!==ce;)K.charCodeAt(ce-1)>>8&&(Ft=!0),ce--;if(!Ft)return K;for(Lt=ne.noBOM?[]:[254,255],ce=0,Ne=K.length;ce<Ne;ce++){if((vr=(xn=K.charCodeAt(ce))>>8)>>8)throw new Error("Character at position "+ce+" of string '"+K+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Lt.push(vr),Lt.push(xn-(vr<<8))}return String.fromCharCode.apply(void 0,Lt)}(_,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ja=p.__private__.beginPage=function(_){De[++wn]=[],Mt[wn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},Ig(wn),Te(De[W])},ga=function(_,R){var K,ne,ce;switch(t=R||t,"string"==typeof _&&(K=A(_.toLowerCase()),Array.isArray(K)&&(ne=K[0],ce=K[1])),Array.isArray(_)&&(ne=_[0]*Rt,ce=_[1]*Rt),isNaN(ne)&&(ne=i[0],ce=i[1]),(ne>14400||ce>14400)&&(lr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ne=Math.min(14400,ne),ce=Math.min(14400,ce)),i=[ne,ce],t.substr(0,1)){case"l":ce>ne&&(i=[ce,ne]);break;case"p":ne>ce&&(i=[ce,ne])}ja(i),Ag(ed),J(ma),0!==Vu&&J(Vu+" J"),0!==nr&&J(nr+" j"),mn.publish("addPage",{pageNumber:wn})},Ru=function(_){_>0&&_<=wn&&(De.splice(_,1),Mt.splice(_,1),wn--,W>wn&&(W=wn),this.setPage(W))},Ig=function(_){_>0&&_<=wn&&(W=_)},Nh=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return De.length-1},Rh=function(_,R,K){var ne,ce=void 0;return K=K||{},R=void 0!==R?R:He[ft].fontStyle,ne=(_=void 0!==_?_:He[ft].fontName).toLowerCase(),void 0!==Ct[ne]&&void 0!==Ct[ne][R]?ce=Ct[ne][R]:void 0!==Ct[_]&&void 0!==Ct[_][R]?ce=Ct[_][R]:!1===K.disableWarning&&lr.warn("Unable to look up font label for font '"+_+"', '"+R+"'. Refer to getFontList() for available fonts."),ce||K.noFallback||null==(ce=Ct.times[R])&&(ce=Ct.times.normal),ce},Mu=p.__private__.putInfo=function(){var _=tr(),R=function(ne){return ne};for(var K in null!==c&&(R=Br.encryptor(_,0)),J("<<"),J("/Producer ("+So(R("jsPDF "+At.version))+")"),yt)yt.hasOwnProperty(K)&&yt[K]&&J("/"+K.substr(0,1).toUpperCase()+K.substr(1)+" ("+So(R(yt[K]))+")");J("/CreationDate ("+So(R(me))+")"),J(">>"),J("endobj")},Mh=p.__private__.putCatalog=function(_){var R=(_=_||{}).rootDictionaryObjId||Nl;switch(tr(),J("<<"),J("/Type /Catalog"),J("/Pages "+R+" 0 R"),gt||(gt="fullwidth"),gt){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var K=""+gt;"%"===K.substr(K.length-1)&&(gt=parseInt(gt)/100),"number"==typeof gt&&J("/OpenAction [3 0 R /XYZ null null "+C(gt)+"]")}switch(Nt||(Nt="continuous"),Nt){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}Et&&J("/PageMode /"+Et),mn.publish("putCatalog"),J(">>"),J("endobj")},Or=p.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(le+1)),J("/Root "+le+" 0 R"),J("/Info "+(le-1)+" 0 R"),null!==c&&J("/Encrypt "+Br.oid+" 0 R"),J("/ID [ <"+Ae+"> <"+Ae+"> ]"),J(">>")},kh=p.__private__.putHeader=function(){J("%PDF-"+b),J("%\xba\xdf\xac\xe0")},Oh=p.__private__.putXRef=function(){var _="0000000000";J("xref"),J("0 "+(le+1)),J("0000000000 65535 f ");for(var R=1;R<=le;R++)J("function"==typeof de[R]?(_+de[R]()).slice(-10)+" 00000 n ":void 0!==de[R]?(_+de[R]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},za=p.__private__.buildDocument=function(){var _;le=0,Ie=0,ye=[],de=[],Pe=[],Nl=bi(),Us=bi(),Te(ye),mn.publish("buildDocument"),kh(),Bs(),function(){mn.publish("putAdditionalObjects");for(var K=0;K<Pe.length;K++){var ne=Pe[K];Di(ne.objId,!0),J(ne.content),J("endobj")}mn.publish("postPutAdditionalObjects")}(),_=[],function(){for(var K in He)He.hasOwnProperty(K)&&(!1===d||!0===d&&g.hasOwnProperty(K))&&Rl(He[K])}(),function(){var K;for(K in wt)wt.hasOwnProperty(K)&&wg(wt[K])}(),function(){for(var K in Qr)Qr.hasOwnProperty(K)&&Ml(Qr[K])}(),function(K){var ne;for(ne in Tt)Tt.hasOwnProperty(ne)&&(Tt[ne]instanceof Th?kl(Tt[ne]):Tt[ne]instanceof pg&&Pu(Tt[ne],K))}(_),mn.publish("putResources"),_.forEach(xh),xh({resourcesOid:Us,objectOid:Number.MAX_SAFE_INTEGER}),mn.publish("postPutResources"),null!==c&&(Br.oid=tr(),J("<<"),J("/Filter /Standard"),J("/V "+Br.v),J("/R "+Br.r),J("/U <"+Br.toHexString(Br.U)+">"),J("/O <"+Br.toHexString(Br.O)+">"),J("/P "+Br.P),J(">>"),J("endobj")),Mu(),Mh();var R=Ie;return Oh(),Or(),J("startxref"),J(""+R),J("%%EOF"),Te(De[W]),ye.join("\n")},ku=p.__private__.getBlob=function(_){return new Blob([jt(_)],{type:"application/pdf"})},vs=p.output=p.__private__.output=((qi=function(_,R){switch("string"==typeof(R=R||{})?R={filename:R}:R.filename=R.filename||"generated.pdf",_){case void 0:return za();case"save":p.save(R.filename);break;case"arraybuffer":return jt(za());case"blob":return ku(za());case"bloburi":case"bloburl":if(void 0!==Wt.URL&&"function"==typeof Wt.URL.createObjectURL)return Wt.URL&&Wt.URL.createObjectURL(ku(za()))||void 0;lr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var K="",ne=za();try{K=x$(ne)}catch{K=x$(unescape(encodeURIComponent(ne)))}return"data:application/pdf;filename="+R.filename+";base64,"+K;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Wt)){var ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ne=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(ce=R.pdfObjectUrl,Ne="");var Ve='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ce+'"'+Ne+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",st=Wt.open();return null!==st&&st.document.write(Ve),st}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Wt)){var ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',Lt=Wt.open();if(null!==Lt){Lt.document.write(ht);var Ft=this;Lt.document.documentElement.querySelector("#pdfViewer").onload=function(){Lt.document.title=R.filename,Lt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ft.output("bloburl"))}}return Lt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Wt))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var xn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',vr=Wt.open();if(null!==vr&&(vr.document.write(xn),vr.document.title=R.filename),vr||typeof safari>"u")return vr;break;case"datauri":case"dataurl":return Wt.document.location.href=this.output("datauristring",R);default:return null}}).foo=function(){try{return qi.apply(this,arguments)}catch(K){var _=K.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var R="Error in function "+_.split("\n")[0].split("<")[0]+": "+K.message;if(!Wt.console)throw new Error(R);Wt.console.error(R,K),Wt.alert&&alert(R)}},qi.foo.bar=qi,qi.foo),Ol=function(_){return!0===Array.isArray(io)&&io.indexOf(_)>-1};switch(r){case"pt":Rt=1;break;case"mm":Rt=72/25.4;break;case"cm":Rt=72/2.54;break;case"in":Rt=72;break;case"px":Rt=1==Ol("px_scaling")?.75:96/72;break;case"pc":case"em":Rt=12;break;case"ex":Rt=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);Rt=r}var Br=null;Oe(),pe();var js=p.__private__.getPageInfo=p.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Mt[_].objId,pageNumber:_,pageContext:Mt[_]}},zs=p.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in Mt)if(Mt[R].objId===_)break;return js(R)},Jc=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Mt[W].objId,pageNumber:W,pageContext:Mt[W]}};p.addPage=function(){return ga.apply(this,arguments),this},p.setPage=function(){return Ig.apply(this,arguments),Te.call(this,De[W]),this},p.insertPage=function(_){return this.addPage(),this.movePage(W,_),this},p.movePage=function(_,R){var K,ne;if(_>R){K=De[_],ne=Mt[_];for(var ce=_;ce>R;ce--)De[ce]=De[ce-1],Mt[ce]=Mt[ce-1];De[R]=K,Mt[R]=ne,this.setPage(R)}else if(_<R){K=De[_],ne=Mt[_];for(var Ne=_;Ne<R;Ne++)De[Ne]=De[Ne+1],Mt[Ne]=Mt[Ne+1];De[R]=K,Mt[R]=ne,this.setPage(R)}return this},p.deletePage=function(){return Ru.apply(this,arguments),this},p.__private__.text=p.text=function(_,R,K,ne,ce){var Ne,Ve,st,ht,Lt,Ft,xn,vr,rr,Qn=(ne=ne||{}).scope||this;if("number"==typeof _&&"number"==typeof R&&("string"==typeof K||Array.isArray(K))){var Yr=K;K=R,R=_,_=Yr}if(arguments[3]instanceof xt==0?(st=arguments[4],ht=arguments[5],"object"===Wn(xn=arguments[3])&&null!==xn||("string"==typeof st&&(ht=st,st=null),"string"==typeof xn&&(ht=xn,xn=null),"number"==typeof xn&&(st=xn,xn=null),ne={flags:xn,angle:st,align:ht})):(S("The transform parameter of text() with a Matrix value"),rr=ce),isNaN(R)||isNaN(K)||null==_)throw new Error("Invalid arguments passed to jsPDF.text");if(0===_.length)return Qn;var jr,wi="",so="number"==typeof ne.lineHeightFactor?ne.lineHeightFactor:Do,ir=Qn.internal.scaleFactor;function Uh(zn){return zn=zn.split("\t").join(Array(ne.TabLen||9).join(" ")),So(zn,xn)}function $u(zn){for(var ur,hi=zn.concat(),xi=[],Hu=hi.length;Hu--;)"string"==typeof(ur=hi.shift())?xi.push(ur):Array.isArray(zn)&&(1===ur.length||void 0===ur[1]&&void 0===ur[2])?xi.push(ur[0]):xi.push([ur[0],ur[1],ur[2]]);return xi}function ws(zn,ur){var hi;if("string"==typeof zn)hi=ur(zn)[0];else if(Array.isArray(zn)){for(var xi,Hu,ry=zn.concat(),Sg=[],X2=ry.length;X2--;)"string"==typeof(xi=ry.shift())?Sg.push(ur(xi)[0]):Array.isArray(xi)&&"string"==typeof xi[0]&&(Hu=ur(xi[0],xi[1],xi[2]),Sg.push([Hu[0],Hu[1],Hu[2]]));hi=Sg}return hi}var f=!1,y=!0;if("string"==typeof _)f=!0;else if(Array.isArray(_)){var T=_.concat();Ve=[];for(var $,ue=T.length;ue--;)("string"!=typeof($=T.shift())||Array.isArray($)&&"string"!=typeof $[0])&&(y=!1);f=y}if(!1===f)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');"string"==typeof _&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var be=$e/Qn.internal.scaleFactor,We=be*(so-1);switch(ne.baseline){case"bottom":K-=We;break;case"top":K+=be-We;break;case"hanging":K+=be-2*We;break;case"middle":K+=be/2-We}if((Ft=ne.maxWidth||0)>0&&("string"==typeof _?_=Qn.splitTextToSize(_,Ft):"[object Array]"===Object.prototype.toString.call(_)&&(_=_.reduce(function(zn,ur){return zn.concat(Qn.splitTextToSize(ur,Ft))},[]))),mn.publish("preProcessText",Ne={text:_,x:R,y:K,options:ne,mutex:{pdfEscape:So,activeFontKey:ft,fonts:He,activeFontSize:$e}}),_=Ne.text,st=(ne=Ne.options).angle,rr instanceof xt==0&&st&&"number"==typeof st){st*=Math.PI/180,0===ne.rotationDirection&&(st=-st),F===B&&(st=-st);var Nn=Math.cos(st),zr=Math.sin(st);rr=new xt(Nn,zr,-zr,Nn,0,0)}else st&&st instanceof xt&&(rr=st);F!==B||rr||(rr=Tr),void 0!==(Lt=ne.charSpace||va)&&(wi+=D(P(Lt))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(vr=ne.horizontalScale)&&(wi+=D(100*vr)+" Tz\n");var Pt=-1,yr=void 0!==ne.renderingMode?ne.renderingMode:ne.stroke,$r=Qn.internal.getCurrentPageInfo().pageContext;switch(yr){case 0:case!1:case"fill":Pt=0;break;case 1:case!0:case"stroke":Pt=1;break;case 2:case"fillThenStroke":Pt=2;break;case 3:case"invisible":Pt=3;break;case 4:case"fillAndAddForClipping":Pt=4;break;case 5:case"strokeAndAddPathForClipping":Pt=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Pt=6;break;case 7:case"addToPathForClipping":Pt=7}-1!==Pt?wi+=Pt+" Tr\n":-1!==(void 0!==$r.usedRenderingMode?$r.usedRenderingMode:-1)&&(wi+="0 Tr\n"),-1!==Pt&&($r.usedRenderingMode=Pt),ht=ne.align||"left";var Lr,wa=$e*so,qu=Qn.internal.pageSize.getWidth(),Zv=He[ft];Lt=ne.charSpace||va,Ft=ne.maxWidth||0,xn=Object.assign({autoencode:!0,noBOM:!0},ne.flags);var rd=[],Bh=function(zn){return Qn.getStringUnitWidth(zn,{font:Zv,charSpace:Lt,fontSize:$e,doKerning:!1})*$e/ir};if("[object Array]"===Object.prototype.toString.call(_)){var qs;Ve=$u(_),"left"!==ht&&(Lr=Ve.map(Bh));var Gs,id=0;if("right"===ht){R-=Lr[0],_=[],ue=Ve.length;for(var Gu=0;Gu<ue;Gu++)0===Gu?(Gs=qa(R),qs=Gi(K)):(Gs=P(id-Lr[Gu]),qs=-wa),_.push([Ve[Gu],Gs,qs]),id=Lr[Gu]}else if("center"===ht){R-=Lr[0]/2,_=[],ue=Ve.length;for(var od=0;od<ue;od++)0===od?(Gs=qa(R),qs=Gi(K)):(Gs=P((id-Lr[od])/2),qs=-wa),_.push([Ve[od],Gs,qs]),id=Lr[od]}else if("left"===ht){_=[],ue=Ve.length;for(var Jv=0;Jv<ue;Jv++)_.push(Ve[Jv])}else if("justify"===ht&&"Identity-H"===Zv.encoding){_=[],ue=Ve.length,Ft=0!==Ft?Ft:qu;for(var Tg=0,di=0;di<ue;di++)if(qs=0===di?Gi(K):-wa,Gs=0===di?qa(R):Tg,di<ue-1){var J2=P((Ft-Lr[di])/(Ve[di].split(" ").length-1)),jl=Ve[di].split(" ");_.push([jl[0]+" ",Gs,qs]),Tg=0;for(var zl=1;zl<jl.length;zl++){var Xv=(Bh(jl[zl-1]+" "+jl[zl])-Bh(jl[zl]))*ir+J2;_.push(zl==jl.length-1?[jl[zl],Xv,0]:[jl[zl]+" ",Xv,0]),Tg-=Xv}}else _.push([Ve[di],Gs,qs]);_.push(["",Tg,0])}else{if("justify"!==ht)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],ue=Ve.length,Ft=0!==Ft?Ft:qu,di=0;di<ue;di++){qs=0===di?Gi(K):-wa,Gs=0===di?qa(R):0;var ey=Ve[di].split(" ").length-1;rd.push(di<ue-1?D(P(ey>0?(Ft-Lr[di])/ey:0)):0),_.push([Ve[di],Gs,qs])}}}!0===("boolean"==typeof ne.R2L?ne.R2L:zt)&&(_=ws(_,function(zn,ur,hi){return[zn.split("").reverse().join(""),ur,hi]})),mn.publish("postProcessText",Ne={text:_,x:R,y:K,options:ne,mutex:{pdfEscape:So,activeFontKey:ft,fonts:He,activeFontSize:$e}}),_=Ne.text,jr=Ne.mutex.isHex||!1;var ny=He[ft].encoding;"WinAnsiEncoding"!==ny&&"StandardEncoding"!==ny||(_=ws(_,function(zn,ur,hi){return[Uh(zn),ur,hi]})),Ve=$u(_),_=[];for(var sd,ad,ld,jh=Array.isArray(Ve[0])?1:0,ud="",zh=function(zn,ur,hi){var xi="";return hi instanceof xt?(hi="number"==typeof ne.angle?pa(hi,new xt(1,0,0,1,zn,ur)):pa(new xt(1,0,0,1,zn,ur),hi),F===B&&(hi=pa(new xt(1,0,0,-1,0,0),hi)),xi=hi.join(" ")+" Tm\n"):xi=D(zn)+" "+D(ur)+" Td\n",xi},Ia=0;Ia<Ve.length;Ia++){switch(ud="",jh){case 1:ld=(jr?"<":"(")+Ve[Ia][0]+(jr?">":")"),sd=parseFloat(Ve[Ia][1]),ad=parseFloat(Ve[Ia][2]);break;case 0:ld=(jr?"<":"(")+Ve[Ia]+(jr?">":")"),sd=qa(R),ad=Gi(K)}void 0!==rd&&void 0!==rd[Ia]&&(ud=rd[Ia]+" Tw\n"),0===Ia?_.push(ud+zh(sd,ad,rr)+ld):0===jh?_.push(ud+ld):1===jh&&_.push(ud+zh(sd,ad,rr)+ld)}_=_.join(0===jh?" Tj\nT* ":" Tj\n"),_+=" Tj\n";var $l="BT\n/";return $l+=ft+" "+$e+" Tf\n",$l+=D($e*so)+" TL\n",$l+=Ul+"\n",$l+=wi,$l+=_,J($l+="ET"),g[ft]=!0,Qn};var Xc=p.__private__.clip=p.clip=function(_){return J("evenodd"===_?"W*":"W"),this};p.clipEvenOdd=function(){return Xc("evenodd")},p.__private__.discardPath=p.discardPath=function(){return J("n"),this};var $s=p.__private__.isValidStyle=function(_){var R=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)&&(R=!0),R};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(_){return $s(_)&&(u=_),this};var jn=p.__private__.getStyle=p.getStyle=function(_){var R=u;switch(_){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=_}return R},Ou=p.close=function(){return J("h"),this};p.stroke=function(){return J("S"),this},p.fill=function(_){return ys("f",_),this},p.fillEvenOdd=function(_){return ys("f*",_),this},p.fillStroke=function(_){return ys("B",_),this},p.fillStrokeEvenOdd=function(_){return ys("B*",_),this};var ys=function(_,R){"object"===Wn(R)?Eg(R,_):J(_)},$a=function(_){null===_||F===B&&void 0===_||(_=jn(_),J(_))};function Gv(_,R,K,ne,ce){var Ne=new pg(R||this.boundingBox,K||this.xStep,ne||this.yStep,this.gState,ce||this.matrix);Ne.stream=this.stream;var Ve=_+"$$"+this.cloneIndex+++"$$";return Go(Ve,Ne),Ne}var Eg=function(_,R){var K=tn[_.key],ne=Tt[K];if(ne instanceof Th)J("q"),J(Hv(R)),ne.gState&&p.setGState(ne.gState),J(_.matrix.toString()+" cm"),J("/"+K+" sh"),J("Q");else if(ne instanceof pg){var ce=new xt(1,0,0,-1,0,Ha());_.matrix&&(ce=ce.multiply(_.matrix||Tr),K=Gv.call(ne,_.key,_.boundingBox,_.xStep,_.yStep,ce).id),J("q"),J("/Pattern cs"),J("/"+K+" scn"),ne.gState&&p.setGState(ne.gState),J(R),J("Q")}},Hv=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Lh=p.moveTo=function(_,R){return J(D(P(_))+" "+D(te(R))+" m"),this},Lu=p.lineTo=function(_,R){return J(D(P(_))+" "+D(te(R))+" l"),this},Ll=p.curveTo=function(_,R,K,ne,ce,Ne){return J([D(P(_)),D(te(R)),D(P(K)),D(te(ne)),D(P(ce)),D(te(Ne)),"c"].join(" ")),this};p.__private__.line=p.line=function(_,R,K,ne,ce){if(isNaN(_)||isNaN(R)||isNaN(K)||isNaN(ne)||!$s(ce))throw new Error("Invalid arguments passed to jsPDF.line");return F===M?this.lines([[K-_,ne-R]],_,R,[1,1],ce||"S"):this.lines([[K-_,ne-R]],_,R,[1,1]).stroke()},p.__private__.lines=p.lines=function(_,R,K,ne,ce,Ne){var Ve,st,ht,Lt,Ft,Yr,jr,wi;if("number"==typeof _&&(wi=K,K=R,R=_,_=wi),ne=ne||[1,1],Ne=Ne||!1,isNaN(R)||isNaN(K)||!Array.isArray(_)||!Array.isArray(ne)||!$s(ce)||"boolean"!=typeof Ne)throw new Error("Invalid arguments passed to jsPDF.lines");for(Lh(R,K),Ve=ne[0],st=ne[1],Lt=_.length,Yr=R,jr=K,ht=0;ht<Lt;ht++)2===(Ft=_[ht]).length?Lu(Yr=Ft[0]*Ve+Yr,jr=Ft[1]*st+jr):Ll(Ft[0]*Ve+Yr,Ft[1]*st+jr,Ft[2]*Ve+Yr,Ft[3]*st+jr,Yr=Ft[4]*Ve+Yr,jr=Ft[5]*st+jr);return Ne&&Ou(),$a(ce),this},p.path=function(_){for(var R=0;R<_.length;R++){var K=_[R],ne=K.c;switch(K.op){case"m":Lh(ne[0],ne[1]);break;case"l":Lu(ne[0],ne[1]);break;case"c":Ll.apply(this,ne);break;case"h":Ou()}}return this},p.__private__.rect=p.rect=function(_,R,K,ne,ce){if(isNaN(_)||isNaN(R)||isNaN(K)||isNaN(ne)||!$s(ce))throw new Error("Invalid arguments passed to jsPDF.rect");return F===M&&(ne=-ne),J([D(P(_)),D(te(R)),D(P(K)),D(P(ne)),"re"].join(" ")),$a(ce),this},p.__private__.triangle=p.triangle=function(_,R,K,ne,ce,Ne,Ve){if(isNaN(_)||isNaN(R)||isNaN(K)||isNaN(ne)||isNaN(ce)||isNaN(Ne)||!$s(Ve))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[K-_,ne-R],[ce-K,Ne-ne],[_-ce,R-Ne]],_,R,[1,1],Ve,!0),this},p.__private__.roundedRect=p.roundedRect=function(_,R,K,ne,ce,Ne,Ve){if(isNaN(_)||isNaN(R)||isNaN(K)||isNaN(ne)||isNaN(ce)||isNaN(Ne)||!$s(Ve))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var st=4/3*(Math.SQRT2-1);return ce=Math.min(ce,.5*K),Ne=Math.min(Ne,.5*ne),this.lines([[K-2*ce,0],[ce*st,0,ce,Ne-Ne*st,ce,Ne],[0,ne-2*Ne],[0,Ne*st,-ce*st,Ne,-ce,Ne],[2*ce-K,0],[-ce*st,0,-ce,-Ne*st,-ce,-Ne],[0,2*Ne-ne],[0,-Ne*st,ce*st,-Ne,ce,-Ne]],_+ce,R,[1,1],Ve,!0),this},p.__private__.ellipse=p.ellipse=function(_,R,K,ne,ce){if(isNaN(_)||isNaN(R)||isNaN(K)||isNaN(ne)||!$s(ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ne=4/3*(Math.SQRT2-1)*K,Ve=4/3*(Math.SQRT2-1)*ne;return Lh(_+K,R),Ll(_+K,R-Ve,_+Ne,R-ne,_,R-ne),Ll(_-Ne,R-ne,_-K,R-Ve,_-K,R),Ll(_-K,R+Ve,_-Ne,R+ne,_,R+ne),Ll(_+Ne,R+ne,_+K,R+Ve,_+K,R),$a(ce),this},p.__private__.circle=p.circle=function(_,R,K,ne){if(isNaN(_)||isNaN(R)||isNaN(K)||!$s(ne))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,R,K,K,ne)},p.setFont=function(_,R,K){return K&&(R=z(R,K)),ft=Rh(_,R,{disableWarning:!1}),this};var Fu=p.__private__.getFont=p.getFont=function(){return He[Rh.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var _,R,K={};for(_ in Ct)if(Ct.hasOwnProperty(_))for(R in K[_]=[],Ct[_])Ct[_].hasOwnProperty(R)&&K[_].push(R);return K},p.addFont=function(_,R,K,ne,ce){var Ne=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==Ne.indexOf(arguments[3])?ce=arguments[3]:arguments[3]&&-1==Ne.indexOf(arguments[3])&&(K=z(K,ne)),Ph.call(this,_,R,K,ce=ce||"Identity-H")};var Do,ed=n.lineWidth||.200025,$t=p.__private__.getLineWidth=p.getLineWidth=function(){return ed},Ag=p.__private__.setLineWidth=p.setLineWidth=function(_){return ed=_,J(D(P(_))+" w"),this};p.__private__.setLineDash=At.API.setLineDash=At.API.setLineDashPattern=function(_,R){if(_=_||[],R=R||0,isNaN(R)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(K){return D(P(K))}).join(" "),R=D(P(R)),J("["+_+"] "+R+" d"),this};var Fl=p.__private__.getLineHeight=p.getLineHeight=function(){return $e*Do};p.__private__.getLineHeight=p.getLineHeight=function(){return $e*Do};var Wv=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(_){return"number"==typeof(_=_||1.15)&&(Do=_),this},Kv=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Do};Wv(n.lineHeight);var qa=p.__private__.getHorizontalCoordinate=function(_){return P(_)},Gi=p.__private__.getVerticalCoordinate=function(_){return F===B?_:Mt[W].mediaBox.topRightY-Mt[W].mediaBox.bottomLeftY-P(_)},Qv=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(_){return D(qa(_))},Yv=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(_){return D(Gi(_))},ma=n.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Ho(ma)},p.__private__.setStrokeColor=p.setDrawColor=function(_,R,K,ne){return ma=_s({ch1:_,ch2:R,ch3:K,ch4:ne,pdfColorType:"draw",precision:2}),J(ma),this};var Vl=n.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Ho(Vl)},p.__private__.setFillColor=p.setFillColor=function(_,R,K,ne){return Vl=_s({ch1:_,ch2:R,ch3:K,ch4:ne,pdfColorType:"fill",precision:2}),J(Vl),this};var Ul=n.textColor||"0 g",_a=p.__private__.getTextColor=p.getTextColor=function(){return Ho(Ul)};p.__private__.setTextColor=p.setTextColor=function(_,R,K,ne){return Ul=_s({ch1:_,ch2:R,ch3:K,ch4:ne,pdfColorType:"text",precision:3}),this};var va=n.charSpace,Cg=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(va||0)};p.__private__.setCharSpace=p.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return va=_,this};var Vu=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(_){var R=p.CapJoinStyles[_];if(void 0===R)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vu=R,J(R+" J"),this};var nr=0;p.__private__.setLineJoin=p.setLineJoin=function(_){var R=p.CapJoinStyles[_];if(void 0===R)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return nr=R,J(R+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(D(P(_))+" M"),this},p.GState=j2,p.setGState=function(_){(_="string"==typeof _?wt[Bn[_]]:Uu(null,_)).equals(Cr)||(J("/"+_.id+" gs"),Cr=_)};var Uu=function(_,R){if(!_||!Bn[_]){var K=!1;for(var ne in wt)if(wt.hasOwnProperty(ne)&&wt[ne].equals(R)){K=!0;break}if(K)R=wt[ne];else{var ce="GS"+(Object.keys(wt).length+1).toString(10);wt[ce]=R,R.id=ce}return _&&(Bn[_]=R.id),mn.publish("addGState",R),R}};p.addGState=function(_,R){return Uu(_,R),this},p.saveGraphicsState=function(){return J("q"),Qt.push({key:ft,size:$e,color:Ul}),this},p.restoreGraphicsState=function(){J("Q");var _=Qt.pop();return ft=_.key,$e=_.size,Ul=_.color,Cr=null,this},p.setCurrentTransformationMatrix=function(_){return J(_.toString()+" cm"),this},p.comment=function(_){return J("#"+_),this};var Bu=function(_,R){var K=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return K},set:function(Ne){isNaN(Ne)||(K=parseFloat(Ne))}});var ne=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ne},set:function(Ne){isNaN(Ne)||(ne=parseFloat(Ne))}});var ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ce},set:function(Ne){ce=Ne.toString()}}),this},td=function(_,R,K,ne){Bu.call(this,_,R),this.type="rect";var ce=K||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ce},set:function(Ve){isNaN(Ve)||(ce=parseFloat(Ve))}});var Ne=ne||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ne},set:function(Ve){isNaN(Ve)||(Ne=parseFloat(Ve))}}),this},ju=function(){this.page=wn,this.currentPage=W,this.pages=De.slice(0),this.pagesContext=Mt.slice(0),this.x=bt,this.y=Fn,this.matrix=dn,this.width=Fh(W),this.height=ba(W),this.outputDestination=Ke,this.id="",this.objectNumber=-1};ju.prototype.restore=function(){wn=this.page,Mt=this.pagesContext,De=this.pages,bt=this.x,Fn=this.y,dn=this.matrix,bs(W=this.currentPage,this.width),Ga(W,this.height),Ke=this.outputDestination};var nd=function(_,R,K,ne,ce){$i.push(new ju),wn=W=0,De=[],bt=_,Fn=R,dn=ce,ja([K,ne])};for(var ya in p.beginFormObject=function(_,R,K,ne,ce){return nd(_,R,K,ne,ce),this},p.endFormObject=function(_){return function(R){if(Co[R])$i.pop().restore();else{var K=new ju,ne="Xo"+(Object.keys(Qr).length+1).toString(10);K.id=ne,Co[R]=ne,Qr[ne]=K,mn.publish("addFormObject",K),$i.pop().restore()}}(_),this},p.doFormObject=function(_,R){var K=Qr[Co[_]];return J("q"),J(R.toString()+" cm"),J("/"+K.id+" Do"),J("Q"),this},p.getFormObject=function(_){var R=Qr[Co[_]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},p.save=function(_,R){return _=_||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,!1===R.returnPromise?(Ch(ku(za()),_),"function"==typeof Ch.unload&&Wt.setTimeout&&setTimeout(Ch.unload,911),this):new Promise(function(K,ne){try{var ce=Ch(ku(za()),_);"function"==typeof Ch.unload&&Wt.setTimeout&&setTimeout(Ch.unload,911),K(ce)}catch(Ne){ne(Ne.message)}})},At.API)At.API.hasOwnProperty(ya)&&("events"===ya&&At.API.events.length?function(_,R){var ne,ce;for(ce=R.length-1;-1!==ce;ce--)_.subscribe.apply(_,[R[ce][0]].concat("function"==typeof(ne=R[ce][1])?[ne]:ne))}(mn,At.API.events):p[ya]=At.API[ya]);function Fh(_){return Mt[_].mediaBox.topRightX-Mt[_].mediaBox.bottomLeftX}function bs(_,R){Mt[_].mediaBox.topRightX=R+Mt[_].mediaBox.bottomLeftX}function ba(_){return Mt[_].mediaBox.topRightY-Mt[_].mediaBox.bottomLeftY}function Ga(_,R){Mt[_].mediaBox.topRightY=R+Mt[_].mediaBox.bottomLeftY}var Bl=p.getPageWidth=function(_){return Fh(_=_||W)/Rt},Vh=p.setPageWidth=function(_,R){bs(_,R*Rt)},Ha=p.getPageHeight=function(_){return ba(_=_||W)/Rt},zu=p.setPageHeight=function(_,R){Ga(_,R*Rt)};return p.internal={pdfEscape:So,getStyle:jn,getFont:Fu,getFontSize:Je,getCharSpace:Cg,getTextColor:_a,getLineHeight:Fl,getLineHeightFactor:Kv,getLineWidth:$t,write:sn,getHorizontalCoordinate:qa,getVerticalCoordinate:Gi,getCoordinateString:Qv,getVerticalCoordinateString:Yv,collections:{},newObject:tr,newAdditionalObject:ms,newObjectDeferred:bi,newObjectDeferredBegin:Di,getFilters:Wo,putStream:oo,events:mn,scaleFactor:Rt,pageSize:{getWidth:function(){return Bl(W)},setWidth:function(_){Vh(W,_)},getHeight:function(){return Ha(W)},setHeight:function(_){zu(W,_)}},encryptionOptions:c,encryption:Br,getEncryptor:function(_){return null!==c?Br.encryptor(_,0):function(R){return R}},output:vs,getNumberOfPages:Nh,pages:De,out:J,f2:C,f3:x,getPageInfo:js,getPageInfoByObjId:zs,getCurrentPageInfo:Jc,getPDFVersion:w,Point:Bu,Rectangle:td,Matrix:xt,hasHotfix:Ol},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Bl(W)},set:function(_){Vh(W,_)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ha(W)},set:function(_){zu(W,_)},enumerable:!0,configurable:!0}),function(_){for(var R=0,K=Dt.length;R<K;R++){var ne=Ph.call(this,_[R][0],_[R][1],_[R][2],Dt[R][3],!0);!1===d&&(g[ne]=!0);var ce=_[R][0].split("-");Nu({id:ne,fontName:ce[0],fontStyle:ce[1]||""})}mn.publish("addFonts",{fonts:He,dictionary:Ct})}.call(p,Dt),ft="F1",ga(i,t),mn.publish("initialized"),p}hg.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},hg.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},hg.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},hg.prototype.processOwnerPassword=function(n,e){return KP(WP(e).substr(0,5),n)},hg.prototype.encryptor=function(n,e){var t=WP(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return KP(t,r)}},j2.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Wn(n)!==Wn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return 0===r},At.API={events:[]},At.version="3.0.3";var Kr=At.API,QP=1,Sh=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gg=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Xt=function(n){return n.toFixed(2)},Kc=function(n){return n.toFixed(5)};Kr.__acroform__={};var gs=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},O$=function(n){return n*QP},Dl=function(n){var e=new F$,t=dt.internal.getHeight(n)||0,r=dt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Xt(r)),Number(Xt(t))],e},K1e=Kr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},Q1e=Kr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},Y1e=Kr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},li=Kr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Y1e(n,e-1)},ui=Kr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return K1e(n,e-1)},ci=Kr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Q1e(n,e-1)},Z1e=Kr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],o=n[1],s=n[2],a=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(o+a)||0,l.upperRight_X=t(i+s)||0,l.upperRight_Y=r(o)||0,[Number(Xt(l.lowerLeft_X)),Number(Xt(l.lowerLeft_Y)),Number(Xt(l.upperRight_X)),Number(Xt(l.upperRight_Y))]},J1e=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],r=YP(n,n._V||n.DV),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Xt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Dl(n);return o.scope=n.scope,o.stream=e.join("\n"),o}},YP=function(n,e){var t=0===n.fontSize?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" ");i=i.map(n.multiline?function(C){return C.split("\n")}:function(C){return[C]});var o=t,s=dt.internal.getHeight(n)||0;s=s<0?-s:s;var C,a=dt.internal.getWidth(n)||0;a=a<0?-a:a,o++;e:for(;o>0;){e="",o--;var u,c,d=z2("3",n,o).height,g=n.multiline?s-o:(s-d)/2,p=g+=2,b=0,w=0,E=0;if(o<=0){e="(...) Tj\n",e+="% Width of Text: "+z2(e,n,o=12).width+", FieldWidth:"+a+"\n";break}for(var A="",M=0,B=0;B<i.length;B++)if(i.hasOwnProperty(B)){var F=!1;if(1!==i[B].length&&E!==i[B].length-1){if((d+2)*(M+2)+2>s)continue e;A+=i[B][E],F=!0,w=B,B--}else{A=" "==(A+=i[B][E]+" ").substr(A.length-1)?A.substr(0,A.length-1):A;var X=parseInt(B),se=(C=X)+1<i.length&&z2(A+" "+i[C+1][0],n,o).width<=a-4,z=B>=i.length-1;if(se&&!z){A+=" ",E=0;continue}if(se||z){if(z)w=X;else if(n.multiline&&(d+2)*(M+2)+2>s)continue e}else{if(!n.multiline||(d+2)*(M+2)+2>s)continue e;w=X}}for(var D="",S=b;S<=w;S++){var V=i[S];if(n.multiline){if(S===w){D+=V[E]+" ",E=(E+1)%V.length;continue}if(S===b){D+=V[V.length-1]+" ";continue}}D+=V[0]+" "}switch(D=" "==D.substr(D.length-1)?D.substr(0,D.length-1):D,c=z2(D,n,o).width,n.textAlign){case"right":u=a-c-2;break;case"center":u=(a-c)/2;break;default:u=2}e+=Xt(u)+" "+Xt(p)+" Td\n",e+="("+Sh(D)+") Tj\n",e+=-Xt(u)+" 0 Td\n",p=-(o+2),c=0,b=F?w:w+1,M++,A=""}break}return r.text=e,r.fontSize=o,r},z2=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},X1e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},e0e=function(n,e){var t={type:"reference",object:n};void 0===e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},L$=Kr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(s){return s};if(Array.isArray(n)){for(var i="[",o=0;o<n.length;o++)switch(0!==o&&(i+=" "),Wn(n[o])){case"boolean":case"number":case"object":i+=n[o].toString();break;case"string":"/"!==n[o].substr(0,1)?(void 0!==e&&t&&(r=t.internal.getEncryptor(e)),i+="("+Sh(r(n[o].toString()))+")"):i+=n[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ZP=function(n,e,t){var r=function(i){return i};return void 0!==e&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Sh(r(n))+")"},xl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};xl.prototype.toString=function(){return this.objId+" 0 R"},xl.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},xl.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return"content"!=o&&"appearanceStreamContent"!=o&&"scope"!=o&&"objId"!=o&&"_"!=o.substring(0,1)});for(var t in e)if(!1===Object.getOwnPropertyDescriptor(this,e[t]).configurable){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:L$(i,this.objId,this.scope)}):i instanceof xl?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&n.push({key:r,value:i}))}return n};var F$=function(){xl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};gs(F$,xl);var V$=function(){xl.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Sh(t(n))+")"}},set:function(t){n=t}})};gs(V$,xl);var Va=function n(){xl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute F supplied.');e=A}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!li(e,3)},set:function(A){this.F=A?ui(e,3):ci(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute Ff supplied.');t=A}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(A){r=void 0!==A?A:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(A){r[0]=A}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(A){r[1]=A}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(A){r[2]=A}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(A){r[3]=A}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(A){switch(A){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=A;break;default:throw new Error('Invalid value "'+A+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof G2)return;o="FieldObject"+n.FieldNum++}var A=function(M){return M};return this.scope&&(A=this.scope.internal.getEncryptor(this.objId)),"("+Sh(A(o))+")"},set:function(A){o=A.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(A){o=A}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(A){s=A}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(A){a=A}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(A){l=A}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===u?50/QP:u},set:function(A){u=A}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(A){c=A}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof G2||this instanceof Dh))return ZP(d,this.objId,this.scope)},set:function(A){A=A.toString(),d=A}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof zi==0?ZP(g,this.objId,this.scope):g},set:function(A){A=A.toString(),g=this instanceof zi==0?"("===A.substr(0,1)?gg(A.substr(1,A.length-2)):gg(A):A}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof zi==1?gg(g.substr(1,g.length-1)):g},set:function(A){A=A.toString(),g=this instanceof zi==1?"/"+A:A}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(A){this.V=A}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof zi==0?ZP(p,this.objId,this.scope):p},set:function(A){A=A.toString(),p=this instanceof zi==0?"("===A.substr(0,1)?gg(A.substr(1,A.length-2)):gg(A):A}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof zi==1?gg(p.substr(1,p.length-1)):p},set:function(A){A=A.toString(),p=this instanceof zi==1?"/"+A:A}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(A){w=A=!!A}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(A){b=A}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,1)},set:function(A){this.Ff=A?ui(this.Ff,1):ci(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,2)},set:function(A){this.Ff=A?ui(this.Ff,2):ci(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,3)},set:function(A){this.Ff=A?ui(this.Ff,3):ci(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==E)return E},set:function(A){if(-1===[0,1,2].indexOf(A))throw new Error('Invalid value "'+A+'" for attribute Q supplied.');E=A}}),Object.defineProperty(this,"textAlign",{get:function(){var A;switch(E){case 0:default:A="left";break;case 1:A="center";break;case 2:A="right"}return A},configurable:!0,enumerable:!0,set:function(A){switch(A){case"right":case 2:E=2;break;case"center":case 1:E=1;break;default:E=0}}})};gs(Va,xl);var mg=function(){Va.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return L$(e,this.objId,this.scope)},set:function(t){var r,i;i=[],"string"==typeof(r=t)&&(i=function(o,s,a){a||(a=1);for(var l,u=[];l=s.exec(o);)u.push(l[a]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==r););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,18)},set:function(t){this.Ff=t?ui(this.Ff,18):ci(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,19)},set:function(t){!0===this.combo&&(this.Ff=t?ui(this.Ff,19):ci(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,20)},set:function(t){t?(this.Ff=ui(this.Ff,20),e.sort()):this.Ff=ci(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,22)},set:function(t){this.Ff=t?ui(this.Ff,22):ci(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,23)},set:function(t){this.Ff=t?ui(this.Ff,23):ci(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,27)},set:function(t){this.Ff=t?ui(this.Ff,27):ci(this.Ff,27)}}),this.hasAppearanceStream=!1};gs(mg,Va);var _g=function(){mg.call(this),this.fontName="helvetica",this.combo=!1};gs(_g,mg);var vg=function(){_g.call(this),this.combo=!0};gs(vg,_g);var $2=function(){vg.call(this),this.edit=!0};gs($2,vg);var zi=function(){Va.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,15)},set:function(t){this.Ff=t?ui(this.Ff,15):ci(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,16)},set:function(t){this.Ff=t?ui(this.Ff,16):ci(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,17)},set:function(t){this.Ff=t?ui(this.Ff,17):ci(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,26)},set:function(t){this.Ff=t?ui(this.Ff,26):ci(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(e).length){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Sh(t(e[r]))+")");return i.push(">>"),i.join("\n")}},set:function(t){"object"===Wn(t)&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){"string"==typeof t&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};gs(zi,Va);var q2=function(){zi.call(this),this.pushButton=!0};gs(q2,zi);var yg=function(){zi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=void 0!==e?e:[]}})};gs(yg,zi);var G2=function(){var n,e;Va.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+Sh(i(r[o]))+")");return s.push(">>"),s.join("\n")},set:function(i){"object"===Wn(i)&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){"string"==typeof i&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};gs(G2,Va),yg.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},yg.prototype.createOption=function(n){var e=new G2;return e.Parent=this,e.optionName=n,this.Kids.push(e),n0e.call(this.scope,e),e};var H2=function(){zi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=dt.CheckBox.createAppearanceStream()};gs(H2,zi);var Dh=function(){Va.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,13)},set:function(e){this.Ff=e?ui(this.Ff,13):ci(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,21)},set:function(e){this.Ff=e?ui(this.Ff,21):ci(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,23)},set:function(e){this.Ff=e?ui(this.Ff,23):ci(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,24)},set:function(e){this.Ff=e?ui(this.Ff,24):ci(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,25)},set:function(e){this.Ff=e?ui(this.Ff,25):ci(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,26)},set:function(e){this.Ff=e?ui(this.Ff,26):ci(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};gs(Dh,Va);var W2=function(){Dh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!li(this.Ff,14)},set:function(n){this.Ff=n?ui(this.Ff,14):ci(this.Ff,14)}}),this.password=!0};gs(W2,Dh);var dt={CheckBox:{createAppearanceStream:function(){return{N:{On:dt.CheckBox.YesNormal},D:{On:dt.CheckBox.YesPushDown,Off:dt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Dl(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),o=YP(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Xt(dt.internal.getWidth(n))+" "+Xt(dt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Xt(o.fontSize)+" Tf "+i),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join("\n"),e},YesNormal:function(n){var e=Dl(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],o=dt.internal.getHeight(n),s=dt.internal.getWidth(n),a=YP(n,n.caption);return i.push("1 g"),i.push("0 0 "+Xt(s)+" "+Xt(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Xt(s-1)+" "+Xt(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Xt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(n){var e=Dl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Xt(dt.internal.getWidth(n))+" "+Xt(dt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:dt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=dt.RadioButton.Circle.YesNormal,e.D[n]=dt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Dl(n);e.scope=n.scope;var t=[],r=dt.internal.getWidth(n)<=dt.internal.getHeight(n)?dt.internal.getWidth(n)/4:dt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var o=Number((r*dt.internal.Bezier_C).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Kc(dt.internal.getWidth(n)/2)+" "+Kc(dt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(n){var e=Dl(n);e.scope=n.scope;var t=[],r=dt.internal.getWidth(n)<=dt.internal.getHeight(n)?dt.internal.getWidth(n)/4:dt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*dt.internal.Bezier_C).toFixed(5)),s=Number((r*dt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Kc(dt.internal.getWidth(n)/2)+" "+Kc(dt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Kc(dt.internal.getWidth(n)/2)+" "+Kc(dt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},OffPushDown:function(n){var e=Dl(n);e.scope=n.scope;var t=[],r=dt.internal.getWidth(n)<=dt.internal.getHeight(n)?dt.internal.getWidth(n)/4:dt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*dt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Kc(dt.internal.getWidth(n)/2)+" "+Kc(dt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:dt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=dt.RadioButton.Cross.YesNormal,e.D[n]=dt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Dl(n);e.scope=n.scope;var t=[],r=dt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Xt(dt.internal.getWidth(n)-2)+" "+Xt(dt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Xt(r.x1.x)+" "+Xt(r.x1.y)+" m"),t.push(Xt(r.x2.x)+" "+Xt(r.x2.y)+" l"),t.push(Xt(r.x4.x)+" "+Xt(r.x4.y)+" m"),t.push(Xt(r.x3.x)+" "+Xt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(n){var e=Dl(n);e.scope=n.scope;var t=dt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Xt(dt.internal.getWidth(n))+" "+Xt(dt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Xt(dt.internal.getWidth(n)-2)+" "+Xt(dt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Xt(t.x1.x)+" "+Xt(t.x1.y)+" m"),r.push(Xt(t.x2.x)+" "+Xt(t.x2.y)+" l"),r.push(Xt(t.x4.x)+" "+Xt(t.x4.y)+" m"),r.push(Xt(t.x3.x)+" "+Xt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(n){var e=Dl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Xt(dt.internal.getWidth(n))+" "+Xt(dt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join("\n"),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};dt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=dt.internal.getWidth(n),t=dt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},dt.internal.getWidth=function(n){var e=0;return"object"===Wn(n)&&(e=O$(n.Rect[2])),e},dt.internal.getHeight=function(n){var e=0;return"object"===Wn(n)&&(e=O$(n.Rect[3])),e};var n0e=Kr.addField=function(n){if(function(n,e){if(e.scope=n,void 0!==n.internal&&(void 0===n.internal.acroformPlugin||!1===n.internal.acroformPlugin.isInitialized)){if(Va.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(X1e)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");QP=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new V$,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){var t;(t=n).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),n.internal.events.subscribe("buildDocument",function(){!function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&e0e(o,t)}}(n)}),n.internal.events.subscribe("putCatalog",function(){!function(t){if(void 0===t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(n)}),n.internal.events.subscribe("postPutPages",function(t){!function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var a=r[s],l=[],u=a.Rect;if(a.Rect&&(a.Rect=Z1e(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=dt.createDefaultAppearanceStream(a),"object"===Wn(a)&&"function"==typeof a.getKeyValueListForStream&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var c=J1e(a);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(a.appearanceStreamContent){var d="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var p=a.appearanceStreamContent[g];if(d+="/"+g+" ",d+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var b=p[s];"function"==typeof b&&(b=b.call(i,a)),d+="/"+s+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else"function"==typeof(b=p)&&(b=b.call(i,a)),d+="/"+s+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);d+=">>"}l.push({key:"AP",value:"<<\n"+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}o&&function(w,E){for(var A in w)if(w.hasOwnProperty(A)){var M=A,B=w[A];E.internal.newObjectDeferredBegin(B.objId,!0),"object"===Wn(B)&&"function"==typeof B.putStream&&B.putStream(),delete w[M]}}(i.internal.acroformPlugin.xForms,i)}(t,n)}),n.internal.acroformPlugin.isInitialized=!0}}(this,n),!(n instanceof Va))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};function U$(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}Kr.AcroFormChoiceField=mg,Kr.AcroFormListBox=_g,Kr.AcroFormComboBox=vg,Kr.AcroFormEditBox=$2,Kr.AcroFormButton=zi,Kr.AcroFormPushButton=q2,Kr.AcroFormRadioButton=yg,Kr.AcroFormCheckBox=H2,Kr.AcroFormTextField=Dh,Kr.AcroFormPasswordField=W2,Kr.AcroFormAppearance=dt,Kr.AcroForm={ChoiceField:mg,ListBox:_g,ComboBox:vg,EditBox:$2,Button:zi,PushButton:q2,RadioButton:yg,CheckBox:H2,TextField:Dh,PasswordField:W2,Appearance:dt},At.AcroForm={ChoiceField:mg,ListBox:_g,ComboBox:vg,EditBox:$2,Button:zi,PushButton:q2,RadioButton:yg,CheckBox:H2,TextField:Dh,PasswordField:W2,Appearance:dt},function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(C,x){var P,te,me,Ae,Ee,pe=t;if("RGBA"===(x=x||t)||void 0!==C.data&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(se(C))for(Ee in r)for(me=r[Ee],P=0;P<me.length;P+=1){for(Ae=!0,te=0;te<me[P].length;te+=1)if(void 0!==me[P][te]&&me[P][te]!==C[te]){Ae=!1;break}if(!0===Ae){pe=Ee;break}}else for(Ee in r)for(me=r[Ee],P=0;P<me.length;P+=1){for(Ae=!0,te=0;te<me[P].length;te+=1)if(void 0!==me[P][te]&&me[P][te]!==C.charCodeAt(te)){Ae=!1;break}if(!0===Ae){pe=Ee;break}}return pe===t&&x!==t&&(pe=x),pe},o=function C(x){for(var P=this.internal.write,te=this.internal.putStream,me=(0,this.internal.getFilters)();-1!==me.indexOf("FlateEncode");)me.splice(me.indexOf("FlateEncode"),1);x.objectId=this.internal.newObject();var Ae=[];if(Ae.push({key:"Type",value:"/XObject"}),Ae.push({key:"Subtype",value:"/Image"}),Ae.push({key:"Width",value:x.width}),Ae.push({key:"Height",value:x.height}),x.colorSpace===A.INDEXED?Ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(x.palette.length/3-1)+" "+("sMask"in x&&void 0!==x.sMask?x.objectId+2:x.objectId+1)+" 0 R]"}):(Ae.push({key:"ColorSpace",value:"/"+x.colorSpace}),x.colorSpace===A.DEVICE_CMYK&&Ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ae.push({key:"BitsPerComponent",value:x.bitsPerComponent}),"decodeParameters"in x&&void 0!==x.decodeParameters&&Ae.push({key:"DecodeParms",value:"<<"+x.decodeParameters+">>"}),"transparency"in x&&Array.isArray(x.transparency)&&x.transparency.length>0){for(var Ee="",pe=0,Ce=x.transparency.length;pe<Ce;pe++)Ee+=x.transparency[pe]+" "+x.transparency[pe]+" ";Ae.push({key:"Mask",value:"["+Ee+"]"})}if(void 0!==x.sMask&&Ae.push({key:"SMask",value:x.objectId+1+" 0 R"}),te({data:x.data,additionalKeyValues:Ae,alreadyAppliedFilters:void 0!==x.filter?["/"+x.filter]:void 0,objectId:x.objectId}),P("endobj"),"sMask"in x&&void 0!==x.sMask){var Oe,U=null!==(Oe=x.sMaskBitsPerComponent)&&void 0!==Oe?Oe:x.bitsPerComponent,W={width:x.width,height:x.height,colorSpace:"DeviceGray",bitsPerComponent:U,data:x.sMask};"filter"in x&&(W.decodeParameters="/Predictor ".concat(x.predictor," /Colors 1 /BitsPerComponent ").concat(U," /Columns ").concat(x.width),W.filter=x.filter),C.call(this,W)}if(x.colorSpace===A.INDEXED){var ee=this.internal.newObject();te({data:D(new Uint8Array(x.palette)),objectId:ee}),P("endobj")}},s=function(){var C=this.internal.collections[e+"images"];for(var x in C)o.call(this,C[x])},a=function(){var C,x=this.internal.collections[e+"images"],P=this.internal.write;for(var te in x)P("/I"+(C=x[te]).index,C.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var C=this.internal.collections[e+"images"];return l.call(this),C},c=function(){return Object.keys(this.internal.collections[e+"images"]).length},d=function(C){return"function"==typeof n["process"+C.toUpperCase()]},g=function(C){return"object"===Wn(C)&&1===C.nodeType},p=function(C,x){if("IMG"===C.nodeName&&C.hasAttribute("src")){var P=""+C.getAttribute("src");if(0===P.indexOf("data:image/"))return U2(unescape(P).split("base64,").pop());var te=n.loadFile(P,!0);if(void 0!==te)return te}if("CANVAS"===C.nodeName){if(0===C.width||0===C.height)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var me;switch(x){case"PNG":me="image/png";break;case"WEBP":me="image/webp";break;default:me="image/jpeg"}return U2(C.toDataURL(me,1).split("base64,").pop())}},b=function(C){var x=this.internal.collections[e+"images"];if(x)for(var P in x)if(C===x[P].alias)return x[P]},w=function(C,x,P){return C||x||(C=-96,x=-96),C<0&&(C=-1*P.width*72/C/this.internal.scaleFactor),x<0&&(x=-1*P.height*72/x/this.internal.scaleFactor),0===C&&(C=x*P.width/P.height),0===x&&(x=C*P.height/P.width),[C,x]},E=function(C,x,P,te,me,Ae){var Ee=w.call(this,P,te,me),pe=this.internal.getCoordinateString,Ce=this.internal.getVerticalCoordinateString,Ge=u.call(this);if(P=Ee[0],te=Ee[1],Ge[me.index]=me,Ae){Ae*=Math.PI/180;var Oe=Math.cos(Ae),U=Math.sin(Ae),W=function(ie){return ie.toFixed(4)},ee=[W(Oe),W(U),W(-1*U),W(Oe),0,0,"cm"]}this.internal.write("q"),Ae?(this.internal.write([1,"0","0",1,pe(C),Ce(x+te),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([pe(P),"0","0",pe(te),"0","0","cm"].join(" "))):this.internal.write([pe(P),"0","0",pe(te),pe(C),Ce(x+te),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+me.index+" Do"),this.internal.write("Q")},A=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var M=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},B=n.__addimage__.sHashCode=function(C){var x,P,te=0;if("string"==typeof C)for(P=C.length,x=0;x<P;x++)te=(te<<5)-te+C.charCodeAt(x),te|=0;else if(se(C))for(P=C.byteLength/2,x=0;x<P;x++)te=(te<<5)-te+C[x],te|=0;return te},F=n.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var x=!0;return 0===C.length&&(x=!1),C.length%4!=0&&(x=!1),!1===/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))&&(x=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))&&(x=!1),x},X=n.__addimage__.extractImageFromDataUrl=function(C){if(null==C||!(C=C.trim()).startsWith("data:"))return null;var x=C.indexOf(",");return x<0?null:C.substring(0,x).trim().endsWith("base64")?C.substring(x+1):null};n.__addimage__.isArrayBuffer=function(C){return C instanceof ArrayBuffer};var se=n.__addimage__.isArrayBufferView=function(C){return C instanceof Int8Array||C instanceof Uint8Array||C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array},z=n.__addimage__.binaryStringToUint8Array=function(C){for(var x=C.length,P=new Uint8Array(x),te=0;te<x;te++)P[te]=C.charCodeAt(te);return P},D=n.__addimage__.arrayBufferToBinaryString=function(C){for(var x="",P=se(C)?C:new Uint8Array(C),te=0;te<P.length;te+=8192)x+=String.fromCharCode.apply(null,P.subarray(te,te+8192));return x};n.addImage=function(){var C,x,P,te,me,Ae,Ee,pe,Ce;if("number"==typeof arguments[1]?(x=t,P=arguments[1],te=arguments[2],me=arguments[3],Ae=arguments[4],Ee=arguments[5],pe=arguments[6],Ce=arguments[7]):(x=arguments[1],P=arguments[2],te=arguments[3],me=arguments[4],Ae=arguments[5],Ee=arguments[6],pe=arguments[7],Ce=arguments[8]),"object"===Wn(C=arguments[0])&&!g(C)&&"imageData"in C){var Ge=C;C=Ge.imageData,x=Ge.format||x||t,P=Ge.x||P||0,te=Ge.y||te||0,me=Ge.w||Ge.width||me,Ae=Ge.h||Ge.height||Ae,Ee=Ge.alias||Ee,pe=Ge.compression||pe,Ce=Ge.rotation||Ge.angle||Ce}var Oe=this.internal.getFilters();if(void 0===pe&&-1!==Oe.indexOf("FlateEncode")&&(pe="SLOW"),isNaN(P)||isNaN(te))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var U=S.call(this,C,x,Ee,pe);return E.call(this,P,te,me,Ae,U,Ce),this};var S=function(C,x,P,te){var me,Ae,Ee,Ce;if("string"==typeof C&&i(C)===t){C=unescape(C);var pe=V(C,!1);(""!==pe||void 0!==(pe=n.loadFile(C,!0)))&&(C=pe)}if(g(C)&&(C=p(C,x)),x=i(C,x),!d(x))throw new Error("addImage does not support files of type '"+x+"', please ensure that a plugin for '"+x+"' support is added.");if((null==(Ee=P)||0===Ee.length)&&(P="string"==typeof(Ce=C)||se(Ce)?B(Ce):se(Ce.data)?B(Ce.data):null),(me=b.call(this,P))||(C instanceof Uint8Array||"RGBA"===x||(Ae=C,C=z(C)),me=this["process"+x.toUpperCase()](C,c.call(this),P,function(Ce){return Ce&&"string"==typeof Ce&&(Ce=Ce.toUpperCase()),Ce in n.image_compression?Ce:M.NONE}(te),Ae)),!me)throw new Error("An unknown error occurred whilst processing the image.");return me},V=n.__addimage__.convertBase64ToBinaryString=function(C,x){x="boolean"!=typeof x||x;var P,te="";if("string"==typeof C){var me;P=null!==(me=X(C))&&void 0!==me?me:C;try{te=U2(P)}catch(Ae){if(x)throw F(P)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return te};n.getImageProperties=function(C){var x,P,te="";if(g(C)&&(C=p(C)),"string"==typeof C&&i(C)===t&&(""===(te=V(C,!1))&&(te=n.loadFile(C)||""),C=te),P=i(C),!d(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(C instanceof Uint8Array||(C=z(C)),!(x=this["process"+P.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return x.fileType=P,x}}(At.API),
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(t){if(void 0!==t&&""!=t)return!0};At.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),u=t.pageContext.annotations,c=!1,d=0;d<u.length&&!c;d++)switch((r=u[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){r=u[g];var p=this.internal.pdfEscape,b=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),A=this.internal.getEncryptor(w.objId),M=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(A(r.contents))+")",o+=" /Popup "+E.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+p(A(M))+") >>",w.content=o;var B=w.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+B,r.open&&(o+=" /Open true"),E.content=o+=" >>",this.internal.write(w.objId,"0 R",E.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var F=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(b(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",o+=" /Border [0 0 0]",this.internal.write(o+=" >>");break;case"link":if(r.options.name){var X=this.annotations._nameMap[r.options.name];r.options.pageNumber=X.page,r.options.top=X.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var se=a(r.options.top);r.options.left=r.options.left||0,void 0===r.options.zoom&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+se+" "+r.options.zoom+"]"}""!=o&&this.internal.write(o+=" >>")}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:u(r),w:l(t+i),h:u(r+o)},options:s,type:"link"})},n.textWithLink=function(t,r,i,o){var s,a,l=this.getTextWidth(t),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==o.maxWidth){var c=this.splitTextToSize(t,a=o.maxWidth).length;s=Math.ceil(u*c)}else a=l,s=u;return this.text(t,r,i,o),"center"===o.align&&(r-=l/2),"right"===o.align&&(r-=l),this.link(r,(i+=.2*u)-u,a,s,o),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(At.API),
/**
         * @license
         * Copyright (c) 2017 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(w){return void 0!==e[w.charCodeAt(0)]},s=n.__arabicParser__.isArabicLetter=function(w){return"string"==typeof w&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},a=n.__arabicParser__.isArabicEndLetter=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(w){return s(w)&&i.indexOf(w.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length>=1};var u=n.__arabicParser__.arabicLetterHasFinalForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length>=3};var c=n.__arabicParser__.arabicLetterHasMedialForm=function(w){return s(w)&&o(w)&&4==e[w.charCodeAt(0)].length},d=n.__arabicParser__.resolveLigatures=function(w){var E=0,A=t,M="",B=0;for(E=0;E<w.length;E+=1)void 0!==A[w.charCodeAt(E)]?(B++,"number"==typeof(A=A[w.charCodeAt(E)])&&(M+=String.fromCharCode(A),A=t,B=0),E===w.length-1&&(A=t,M+=w.charAt(E-(B-1)),E-=B-1,B=0)):(A=t,M+=w.charAt(E-B),E-=B,B=0);return M};n.__arabicParser__.isArabicDiacritic=function(w){return void 0!==w&&void 0!==r[w.charCodeAt(0)]};var g=n.__arabicParser__.getCorrectForm=function(w,E,A){return s(w)?!1===o(w)?-1:!u(w)||!s(E)&&!s(A)||!s(A)&&a(E)||a(w)&&!s(E)||a(w)&&l(E)||a(w)&&a(E)?0:c(w)&&s(E)&&!a(E)&&s(A)&&u(A)?3:a(w)||!s(A)?1:2:-1},p=function(w){var E=0,A=0,M=0,B="",F="",X="",se=(w=w||"").split("\\s+"),z=[];for(E=0;E<se.length;E+=1){for(z.push(""),A=0;A<se[E].length;A+=1)F=se[E][A-1],X=se[E][A+1],s(B=se[E][A])?(M=g(B,F,X),z[E]+=-1!==M?String.fromCharCode(e[B.charCodeAt(0)][M]):B):z[E]+=B;z[E]=d(z[E])}return z.join(" ")},b=n.__arabicParser__.processArabic=n.processArabic=function(){var w,E="string"==typeof arguments[0]?arguments[0]:arguments[0].text,A=[];if(Array.isArray(E)){var M=0;for(A=[],M=0;M<E.length;M+=1)Array.isArray(E[M])?A.push([p(E[M][0]),E[M][1],E[M][2]]):A.push([p(E[M])]);w=A}else w=p(E);return"string"==typeof arguments[0]?w:(arguments[0].text=w,arguments[0])};n.events.push(["preProcessText",b])}(At.API),At.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform","javascript"===n.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||!1===Number.isInteger(a)||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||!1===Number.isInteger(a)||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if("2d"!==(t=t||"2d"))return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(At.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(w){l=w}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(w){b=w}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof l?l:void 0,this},n.getTextDimensions=function(l,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),d=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,p=0,b=0,w=0,E=this;if(!Array.isArray(l)&&"string"!=typeof l){if("number"!=typeof l)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var A=u.maxWidth;A>0?"string"==typeof l?l=this.splitTextToSize(l,A):"[object Array]"===Object.prototype.toString.call(l)&&(l=l.reduce(function(B,F){return B.concat(E.splitTextToSize(F,A))},[])):l=Array.isArray(l)?l:[l];for(var M=0;M<l.length;M++)p<(w=this.getStringUnitWidth(l[M],{font:d})*c)&&(p=w);return 0!==p&&(b=l.length),{w:p/=g,h:Math.max((b*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/g,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=n.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return void 0!==u.lineNumber&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,p&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=u.y+u.height||l.y),void 0!==l.text[0]&&(this.rect(l.x,l.y,l.width,l.height,!0===t?"FD":void 0),"right"===l.align?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):"center"===l.align?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};n.table=function(l,u,c,d,g){if(r.call(this),!c)throw new Error("No data for PDF table.");var p,b,w,E,A=[],M=[],B=[],F={},X={},se=[],z=[],D=(g=g||{}).autoSize||!1,S=!1!==g.printHeaders,V=g.css&&void 0!==g.css["font-size"]?16*g.css["font-size"]:g.fontSize||12,C=g.margins||Object.assign({width:this.getPageWidth()},e),x="number"==typeof g.padding?g.padding:3,P=g.headerBackgroundColor||"#c8c8c8",te=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=V,this.internal.__cell__.padding=x,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=te,this.setFontSize(V),null==d)M=A=Object.keys(c[0]),B=A.map(function(){return"left"});else if(Array.isArray(d)&&"object"===Wn(d[0]))for(A=d.map(function(Ge){return Ge.name}),M=d.map(function(Ge){return Ge.prompt||Ge.name||""}),B=d.map(function(Ge){return Ge.align||"left"}),p=0;p<d.length;p+=1)X[d[p].name]=.7499990551181103*d[p].width;else Array.isArray(d)&&"string"==typeof d[0]&&(M=A=d,B=A.map(function(){return"left"}));if(D||Array.isArray(d)&&"string"==typeof d[0])for(p=0;p<A.length;p+=1){for(F[E=A[p]]=c.map(function(Ge){return Ge[E]}),this.setFont(void 0,"bold"),se.push(this.getTextDimensions(M[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=F[E],this.setFont(void 0,"normal"),w=0;w<b.length;w+=1)se.push(this.getTextDimensions(b[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);X[E]=Math.max.apply(null,se)+x+x,se=[]}if(S){var me={};for(p=0;p<A.length;p+=1)me[A[p]]={},me[A[p]].text=M[p],me[A[p]].align=B[p];var Ae=a.call(this,me,X);z=A.map(function(Ge){return new o(l,u,X[Ge],Ae,me[Ge].text,void 0,me[Ge].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var Ee=d.reduce(function(Ge,Oe){return Ge[Oe.name]=Oe.align,Ge},{});for(p=0;p<c.length;p+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:p,data:c[p]},this);var pe=a.call(this,c[p],X);for(w=0;w<A.length;w+=1){var Ce=c[p][A[w]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:p,col:w,data:Ce},this),s.call(this,new o(l,u,X[A[w]],pe,Ce,p+2,Ee[A[w]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var c=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(p){var b=l[p];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,u[p]-c-c)},this).map(function(p){return this.getLineHeightFactor()*p.length*d/g+c+c},this).reduce(function(p,b){return Math.max(p,b)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(t=!0,"function"==typeof this.internal.__cell__.headerFunction){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){c=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,g.push(c)),c.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,c),this.setTextColor(b)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),t=!1}}(At.API);var B$={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},j$=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],JP=U$(j$),z$=[100,200,300,400,500,600,700,800,900],r0e=U$(z$);function XP(n){var o,e=n.family.replace(/"|'/g,"").toLowerCase(),t=B$[o=(o=n.style)||"normal"]?o:"normal",r=function(o){return o?"number"==typeof o?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):"bold"===o?700:400:400}(n.weight),i=function(o){return"number"==typeof JP[o=o||"normal"]?o:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function $$(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var i0e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},q$={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function G$(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function H$(n){return n.trimLeft()}function o0e(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function s0e(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===e?null:[e[0],n.substring(e[0].length)]}var K2,W$,K$,bg,Q2,Q$,Y$,Z$,eN=["times"];function J$(n,e,t,r,i){var o=4,s=eq;switch(i){case At.API.image_compression.FAST:o=1,s=X$;break;case At.API.image_compression.MEDIUM:o=6,s=tq;break;case At.API.image_compression.SLOW:o=9,s=nq}var a=wv(n=function(l,u,c,d){for(var g,p=l.length/u,b=new Uint8Array(l.length+p),w=[a0e,X$,eq,tq,nq],E=0;E<p;E+=1){var A=E*u,M=l.subarray(A,A+u);if(d)b.set(d(M,c,g),A+E);else{for(var B=w.length,F=[],X=0;X<B;X+=1)F[X]=w[X](M,c,g);var se=u0e(F.concat());b.set(F[se],A+E)}g=M}return b}(n,e,Math.ceil(t*r/8),s),{level:o});return At.API.__addimage__.arrayBufferToBinaryString(a)}function a0e(n){var e=Array.apply([],n);return e.unshift(0),e}function X$(n,e){var t=n.length,r=[];r[0]=1;for(var i=0;i<t;i+=1)r[i+1]=n[i]-(n[i-e]||0)+256&255;return r}function eq(n,e,t){var r=n.length,i=[];i[0]=2;for(var o=0;o<r;o+=1)i[o+1]=n[o]-(t&&t[o]||0)+256&255;return i}function tq(n,e,t){var r=n.length,i=[];i[0]=3;for(var o=0;o<r;o+=1)i[o+1]=n[o]+256-((n[o-e]||0)+(t&&t[o]||0)>>>1)&255;return i}function nq(n,e,t){var r=n.length,i=[];i[0]=4;for(var o=0;o<r;o+=1){var s=l0e(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);i[o+1]=n[o]-s+256&255}return i}function l0e(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),i=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=i&&r<=o?n:i<=o?e:t}function u0e(n){var e=n.map(function(t){return t.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function tN(n,e,t){var r=e*t,i=Math.floor(r/8),o=16-(r-8*i+t),s=(1<<t)-1;return iq(n,i)>>o&s}function rq(n,e,t,r){var u,c,d,i=t*r,o=Math.floor(i/8),s=16-(i-8*o+r),a=(1<<r)-1,l=(e&a)<<s;u=n,c=o,d=iq(n,o)&~(a<<s)&65535|l,c+1<u.byteLength?u.setUint16(c,d,!1):u.setUint8(c,d>>8&255)}function iq(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function c0e(n){var e=0;if(71!==n[e++]||73!==n[e++]||70!==n[e++]||56!==n[e++]||56!=(n[e++]+1&253)||97!==n[e++])throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=1<<1+(7&i);e++,e++;var a=null,l=null;i>>7&&(a=e,l=s,e+=3*s);var u=!0,c=[],d=0,g=null,p=0,b=null;for(this.width=t,this.height=r;u&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(11!==n[e]||78==n[e+1]&&69==n[e+2]&&84==n[e+3]&&83==n[e+4]&&67==n[e+5]&&65==n[e+6]&&80==n[e+7]&&69==n[e+8]&&50==n[e+9]&&46==n[e+10]&&48==n[e+11]&&3==n[e+12]&&1==n[e+13]&&0==n[e+16])e+=14,b=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((C=n[e++])>=0))throw Error("Invalid block size");if(0===C)break;e+=C}break;case 249:if(4!==n[e++]||0!==n[e+4])throw new Error("Invalid graphics extension block.");var w=n[e++];d=n[e++]|n[e++]<<8,g=n[e++],1&w||(g=null),p=w>>2&7,e++;break;case 254:for(;;){if(!((C=n[e++])>=0))throw Error("Invalid block size");if(0===C)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var E=n[e++]|n[e++]<<8,A=n[e++]|n[e++]<<8,M=n[e++]|n[e++]<<8,B=n[e++]|n[e++]<<8,F=n[e++],X=F>>6&1,se=1<<1+(7&F),z=a,D=l,S=!1;F>>7&&(S=!0,z=e,D=se,e+=3*se);var V=e;for(e++;;){var C;if(!((C=n[e++])>=0))throw Error("Invalid block size");if(0===C)break;e+=C}c.push({x:E,y:A,width:M,height:B,has_local_palette:S,palette_offset:z,palette_size:D,data_offset:V,data_length:e-V,transparent_index:g,interlaced:!!X,delay:d,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return b},this.frameInfo=function(x){if(x<0||x>=c.length)throw new Error("Frame index out of range.");return c[x]},this.decodeAndBlitFrameBGRA=function(x,P){var te=this.frameInfo(x),me=te.width*te.height,Ae=new Uint8Array(me);oq(n,te.data_offset,Ae,me);var Ee=te.palette_offset,pe=te.transparent_index;null===pe&&(pe=256);var Ce=te.width,Ge=t-Ce,Oe=Ce,U=4*(te.y*t+te.x),W=4*((te.y+te.height)*t+te.x),ee=U,ie=4*Ge;!0===te.interlaced&&(ie+=4*t*7);for(var le=8,de=0,ye=Ae.length;de<ye;++de){var Ie=Ae[de];if(0===Oe&&(Oe=Ce,(ee+=ie)>=W&&(ie=4*Ge+4*t*(le-1),ee=U+(Ce+Ge)*(le<<1),le>>=1)),Ie===pe)ee+=4;else{var Pe=n[Ee+3*Ie],De=n[Ee+3*Ie+1];P[ee++]=n[Ee+3*Ie+2],P[ee++]=De,P[ee++]=Pe,P[ee++]=255}--Oe}},this.decodeAndBlitFrameRGBA=function(x,P){var te=this.frameInfo(x),me=te.width*te.height,Ae=new Uint8Array(me);oq(n,te.data_offset,Ae,me);var Ee=te.palette_offset,pe=te.transparent_index;null===pe&&(pe=256);var Ce=te.width,Ge=t-Ce,Oe=Ce,U=4*(te.y*t+te.x),W=4*((te.y+te.height)*t+te.x),ee=U,ie=4*Ge;!0===te.interlaced&&(ie+=4*t*7);for(var le=8,de=0,ye=Ae.length;de<ye;++de){var Ie=Ae[de];if(0===Oe&&(Oe=Ce,(ee+=ie)>=W&&(ie=4*Ge+4*t*(le-1),ee=U+(Ce+Ge)*(le<<1),le>>=1)),Ie===pe)ee+=4;else{var De=n[Ee+3*Ie+1],Qe=n[Ee+3*Ie+2];P[ee++]=n[Ee+3*Ie],P[ee++]=De,P[ee++]=Qe,P[ee++]=255}--Oe}}}function oq(n,e,t,r){for(var i=n[e++],o=1<<i,s=o+1,a=s+1,l=i+1,u=(1<<l)-1,c=0,d=0,g=0,p=n[e++],b=new Int32Array(4096),w=null;;){for(;c<16&&0!==p;)d|=n[e++]<<c,c+=8,1===p?p=n[e++]:--p;if(c<l)break;var E=d&u;if(d>>=l,c-=l,E!==o){if(E===s)break;for(var A=E<a?E:w,M=0,B=A;B>o;)B=b[B]>>8,++M;var F=B;if(g+M+(A!==E?1:0)>r)return void lr.log("Warning, gif stream longer than expected.");t[g++]=F;var X=g+=M;for(A!==E&&(t[g++]=F),B=A;M--;)t[--X]=255&(B=b[B]),B>>=8;null!==w&&a<4096&&(b[a++]=w<<8|F,a>=u+1&&l<12&&(++l,u=u<<1|1)),w=E}else a=s+1,u=(1<<(l=i+1))-1,w=null}return g!==r&&lr.log("Warning, gif stream shorter than expected."),t}function nN(n){var e,t,r,i,o,s=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),d=new Array(65535),g=new Array(65535),p=new Array(64),b=new Array(64),w=[],E=0,A=7,M=new Array(64),B=new Array(64),F=new Array(64),X=new Array(256),se=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],x=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],me=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ae(U,W){for(var ee=0,ie=0,le=new Array,de=1;de<=16;de++){for(var ye=1;ye<=U[de];ye++)le[W[ie]]=[],le[W[ie]][0]=ee,le[W[ie]][1]=de,ie++,ee++;ee*=2}return le}function Ee(U){for(var W=U[0],ee=U[1]-1;ee>=0;)W&1<<ee&&(E|=1<<A),ee--,--A<0&&(255==E?(pe(255),pe(0)):pe(E),A=7,E=0)}function pe(U){w.push(U)}function Ce(U){pe(U>>8&255),pe(255&U)}function Ge(U,W,ee,ie,le){for(var de,ye=le[0],Ie=le[240],Pe=function($e,gt){var Je,zt,Et,an,Nt,Ot,Kt,yt,ft,Rt,bt=0;for(ft=0;ft<8;++ft){var Fn=(Je=$e[bt])+(yt=$e[bt+7]),dn=Je-yt,He=(zt=$e[bt+1])+(Kt=$e[bt+6]),Ct=zt-Kt,Qt=(Et=$e[bt+2])+(Ot=$e[bt+5]),Tt=Et-Ot,tn=(an=$e[bt+3])+(Nt=$e[bt+4]),wt=an-Nt,Bn=Fn+tn,Cr=Fn-tn,wn=He+Qt,Mt=He-Qt;$e[bt]=Bn+wn,$e[bt+4]=Bn-wn;var mn=.707106781*(Mt+Cr);$e[bt+2]=Cr+mn,$e[bt+6]=Cr-mn;var io=.382683433*((Bn=wt+Tt)-(Mt=Ct+dn)),Qr=.5411961*Bn+io,Co=1.306562965*Mt+io,$i=.707106781*(wn=Tt+Ct),xt=dn+$i,pa=dn-$i;$e[bt+5]=pa+Qr,$e[bt+3]=pa-Qr,$e[bt+1]=xt+Co,$e[bt+7]=xt-Co,bt+=8}for(bt=0,ft=0;ft<8;++ft){var Tr=(Je=$e[bt])+(yt=$e[bt+56]),Go=Je-yt,qi=(zt=$e[bt+8])+(Kt=$e[bt+48]),tr=zt-Kt,bi=(Et=$e[bt+16])+(Ot=$e[bt+40]),Di=Et-Ot,ms=(an=$e[bt+24])+(Nt=$e[bt+32]),Nl=an-Nt,Us=Tr+ms,Ho=Tr-ms,_s=qi+bi,Wo=qi-bi;$e[bt]=Us+_s,$e[bt+32]=Us-_s;var oo=.707106781*(Wo+Ho);$e[bt+16]=Ho+oo,$e[bt+48]=Ho-oo;var To=.382683433*((Us=Nl+Di)-(Wo=tr+Go)),Bs=.5411961*Us+To,Rl=1.306562965*Wo+To,Ml=.707106781*(_s=Di+tr),kl=Go+Ml,Pu=Go-Ml;$e[bt+40]=Pu+Bs,$e[bt+24]=Pu-Bs,$e[bt+8]=kl+Rl,$e[bt+56]=kl-Rl,bt++}for(ft=0;ft<64;++ft)p[ft]=(Rt=$e[ft]*gt[ft])>0?Rt+.5|0:Rt-.5|0;return p}(U,W),De=0;De<64;++De)b[z[De]]=Pe[De];var Qe=b[0]-ee;ee=b[0],0==Qe?Ee(ie[0]):(Ee(ie[g[de=32767+Qe]]),Ee(d[de]));for(var Ke=63;Ke>0&&0==b[Ke];)Ke--;if(0==Ke)return Ee(ye),ee;for(var Te,J=1;J<=Ke;){for(var sn=J;0==b[J]&&J<=Ke;)++J;var jt=J-sn;if(jt>=16){Te=jt>>4;for(var Dt=1;Dt<=Te;++Dt)Ee(Ie);jt&=15}Ee(le[(jt<<4)+g[de=32767+b[J]]]),Ee(d[de]),J++}return 63!=Ke&&Ee(ye),ee}function Oe(U){U=Math.min(Math.max(U,1),100),o!=U&&(function(W){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var le=s((ee[ie]*W+50)/100);le=Math.min(Math.max(le,1),255),a[z[ie]]=le}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ye=0;ye<64;ye++){var Ie=s((de[ye]*W+50)/100);Ie=Math.min(Math.max(Ie,1),255),l[z[ye]]=Ie}for(var Pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],De=0,Qe=0;Qe<8;Qe++)for(var Ke=0;Ke<8;Ke++)u[De]=1/(a[z[De]]*Pe[Qe]*Pe[Ke]*8),c[De]=1/(l[z[De]]*Pe[Qe]*Pe[Ke]*8),De++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),o=U)}this.encode=function(U,W){var zt,Et;W&&Oe(W),w=new Array,E=0,A=7,Ce(65496),Ce(65504),Ce(16),pe(74),pe(70),pe(73),pe(70),pe(0),pe(1),pe(1),pe(0),Ce(1),Ce(1),pe(0),pe(0),function(){Ce(65499),Ce(132),pe(0);for(var zt=0;zt<64;zt++)pe(a[zt]);pe(1);for(var Et=0;Et<64;Et++)pe(l[Et])}(),zt=U.width,Et=U.height,Ce(65472),Ce(17),pe(8),Ce(Et),Ce(zt),pe(3),pe(1),pe(17),pe(0),pe(2),pe(17),pe(1),pe(3),pe(17),pe(1),function(){Ce(65476),Ce(418),pe(0);for(var zt=0;zt<16;zt++)pe(D[zt+1]);for(var Et=0;Et<=11;Et++)pe(S[Et]);pe(16);for(var an=0;an<16;an++)pe(V[an+1]);for(var Nt=0;Nt<=161;Nt++)pe(C[Nt]);pe(1);for(var Ot=0;Ot<16;Ot++)pe(x[Ot+1]);for(var Kt=0;Kt<=11;Kt++)pe(P[Kt]);pe(17);for(var yt=0;yt<16;yt++)pe(te[yt+1]);for(var ft=0;ft<=161;ft++)pe(me[ft])}(),Ce(65498),Ce(12),pe(3),pe(1),pe(0),pe(2),pe(17),pe(3),pe(17),pe(0),pe(63),pe(0);var ee=0,ie=0,le=0;E=0,A=7,this.encode.displayName="_encode_";for(var de,ye,Ie,Pe,De,Qe,Ke,Te,J,sn=U.data,Dt=U.height,$e=4*U.width,gt=0;gt<Dt;){for(de=0;de<$e;){for(De=$e*gt+de,Ke=-1,Te=0,J=0;J<64;J++)Qe=De+(Te=J>>3)*$e+(Ke=4*(7&J)),gt+Te>=Dt&&(Qe-=$e*(gt+1+Te-Dt)),de+Ke>=$e&&(Qe-=de+Ke-$e+4),ye=sn[Qe++],Ie=sn[Qe++],Pe=sn[Qe++],M[J]=(se[ye]+se[Ie+256|0]+se[Pe+512|0]>>16)-128,B[J]=(se[ye+768|0]+se[Ie+1024|0]+se[Pe+1280|0]>>16)-128,F[J]=(se[ye+1280|0]+se[Ie+1536|0]+se[Pe+1792|0]>>16)-128;ee=Ge(M,u,ee,e,r),ie=Ge(B,c,ie,t,i),le=Ge(F,c,le,t,i),de+=32}gt+=8}if(A>=0){var Je=[];Je[1]=A+1,Je[0]=(1<<A+1)-1,Ee(Je)}return Ce(65497),new Uint8Array(w)},n=n||50,function(){for(var U=String.fromCharCode,W=0;W<256;W++)X[W]=U(W)}(),e=Ae(D,S),t=Ae(x,P),r=Ae(V,C),i=Ae(te,me),function(){for(var U=1,W=2,ee=1;ee<=15;ee++){for(var ie=U;ie<W;ie++)g[32767+ie]=ee,d[32767+ie]=[],d[32767+ie][1]=ee,d[32767+ie][0]=ie;for(var le=-(W-1);le<=-U;le++)g[32767+le]=ee,d[32767+le]=[],d[32767+le][1]=ee,d[32767+le][0]=W-1+le;U<<=1,W<<=1}}(),function(){for(var U=0;U<256;U++)se[U]=19595*U,se[U+256|0]=38470*U,se[U+512|0]=7471*U+32768,se[U+768|0]=-11059*U,se[U+1024|0]=-21709*U,se[U+1280|0]=32768*U+8421375,se[U+1536|0]=-27439*U,se[U+1792|0]=-5329*U}(),Oe(n)}function Ua(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function sq(n){function e(S){if(!S)throw Error("assert :P")}function t(S,V,C){for(var x=0;4>x;x++)if(S[V+x]!=C.charCodeAt(x))return!0;return!1}function r(S,V,C,x,P){for(var te=0;te<P;te++)S[V+te]=C[x+te]}function i(S,V,C,x){for(var P=0;P<x;P++)S[V+P]=C}function o(S){return new Int32Array(S)}function s(S,V){for(var C=[],x=0;x<S;x++)C.push(new V);return C}function a(S,V){var C=[];return function x(P,te,me){for(var Ae=me[te],Ee=0;Ee<Ae&&(P.push(me.length>te+1?[]:new V),!(me.length<te+1));Ee++)x(P[Ee],te+1,me)}(C,0,S),C}var l=function(){var S=this;function V(h,m){for(var v=1<<m-1>>>0;h&v;)v>>>=1;return v?(h&v-1)+v:h}function C(h,m,v,I,O){e(!(I%v));do{h[m+(I-=v)]=O}while(0<I)}function x(h,m,v,I,O){if(e(2328>=O),512>=O)var L=o(512);else if(null==(L=o(O)))return 0;return function(j,q,G,Q,oe,ve){var Y,ae,he=q,xe=1<<G,_e=o(16),Re=o(16);for(e(0!=oe),e(null!=Q),e(null!=j),e(0<G),ae=0;ae<oe;++ae){if(15<Q[ae])return 0;++_e[Q[ae]]}if(_e[0]==oe)return 0;for(Re[1]=0,Y=1;15>Y;++Y){if(_e[Y]>1<<Y)return 0;Re[Y+1]=Re[Y]+_e[Y]}for(ae=0;ae<oe;++ae)Y=Q[ae],0<Q[ae]&&(ve[Re[Y]++]=ae);if(1==Re[15])return(Q=new P).g=0,Q.value=ve[0],C(j,he,1,xe,Q),xe;var Me,qe=-1,Ue=xe-1,St=0,ut=1,ln=1,mt=1<<G;for(ae=0,Y=1,oe=2;Y<=G;++Y,oe<<=1){if(ut+=ln<<=1,0>(ln-=_e[Y]))return 0;for(;0<_e[Y];--_e[Y])(Q=new P).g=Y,Q.value=ve[ae++],C(j,he+St,oe,mt,Q),St=V(St,Y)}for(Y=G+1,oe=2;15>=Y;++Y,oe<<=1){if(ut+=ln<<=1,0>(ln-=_e[Y]))return 0;for(;0<_e[Y];--_e[Y]){if(Q=new P,(St&Ue)!=qe){for(he+=mt,Me=1<<(qe=Y)-G;15>qe&&!(0>=(Me-=_e[qe]));)++qe,Me<<=1;xe+=mt=1<<(Me=qe-G),j[q+(qe=St&Ue)].g=Me+G,j[q+qe].value=he-q-qe}Q.g=Y-G,Q.value=ve[ae++],C(j,he+(St>>G),oe,mt,Q),St=V(St,Y)}}return ut!=2*Re[15]-1?0:xe}(h,m,v,I,O,L)}function P(){this.value=this.g=0}function te(){this.value=this.g=0}function me(){this.G=s(5,P),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Bh,te)}function Ae(h,m,v,I){e(null!=h),e(null!=m),e(2147483648>I),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=m,h.pa=v,h.Jd=m,h.Yc=v+I,h.Zc=4<=I?v+I-4+1:v,ye(h)}function Ee(h,m){for(var v=0;0<m--;)v|=Pe(h,128)<<m;return v}function pe(h,m){var v=Ee(h,m);return Ie(h)?-v:v}function Ce(h,m,v,I){var O,L=0;for(e(null!=h),e(null!=m),e(4294967288>I),h.Sb=I,h.Ra=0,h.u=0,h.h=0,4<I&&(I=4),O=0;O<I;++O)L+=m[v+O]<<8*O;h.Ra=L,h.bb=I,h.oa=m,h.pa=v}function Ge(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<id-8>>>0,++h.bb,h.u-=8;ie(h)&&(h.h=1,h.u=0)}function Oe(h,m){if(e(0<=m),!h.h&&m<=Gs){var v=ee(h)&qs[m];return h.u+=m,Ge(h),v}return h.h=1,h.u=0}function U(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(h){return h.Ra>>>(h.u&id-1)>>>0}function ie(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>id}function le(h,m){h.u=m,h.h=ie(h)}function de(h){h.u>=Gu&&(e(h.u>=Gu),Ge(h))}function ye(h){e(null!=h&&null!=h.oa),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(null!=h&&null!=h.oa),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function Ie(h){return Ee(h,1)}function Pe(h,m){var v=h.Ca;0>h.b&&ye(h);var I=h.b,O=v*m>>>8,L=(h.I>>>I>O)+0;for(L?(v-=O,h.I-=O+1<<I>>>0):v=O+1,I=v,O=0;256<=I;)O+=8,I>>=8;return h.b-=I=7^O+od[I],h.Ca=(v<<I)-1,L}function De(h,m,v){h[m+0]=v>>24&255,h[m+1]=v>>16&255,h[m+2]=v>>8&255,h[m+3]=255&v}function Qe(h,m){return h[m+0]|h[m+1]<<8}function Ke(h,m){return Qe(h,m)|h[m+2]<<16}function Te(h,m){return Qe(h,m)|Qe(h,m+2)<<16}function J(h,m){var v=1<<m;return e(null!=h),e(0<m),h.X=o(v),null==h.X?0:(h.Mb=32-m,h.Xa=m,1)}function sn(h,m){e(null!=h),e(null!=m),e(h.Xa==m.Xa),r(m.X,0,h.X,0,1<<m.Xa)}function jt(){this.X=[],this.Xa=this.Mb=0}function Dt(h,m,v,I){e(null!=v),e(null!=I);var O=v[0],L=I[0];return 0==O&&(O=(h*L+m/2)/m),0==L&&(L=(m*O+h/2)/h),0>=O||0>=L?0:(v[0]=O,I[0]=L,1)}function $e(h,m){return h+(1<<m)-1>>>m}function gt(h,m){return((4278255360&h)+(4278255360&m)>>>0&4278255360)+((16711935&h)+(16711935&m)>>>0&16711935)>>>0}function Je(h,m){S[m]=function(v,I,O,L,j,q,G){var Q;for(Q=0;Q<j;++Q){var oe=S[h](q[G+Q-1],O,L+Q);q[G+Q]=gt(v[I+Q],oe)}}}function zt(){this.ud=this.hd=this.jd=0}function Et(h,m){return((4278124286&(h^m))>>>1)+(h&m)>>>0}function an(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function Nt(h,m){return an(h+(h-m+.5>>1))}function Ot(h,m,v){return Math.abs(m-v)-Math.abs(h-v)}function Kt(h,m,v,I,O,L,j){for(I=L[j-1],v=0;v<O;++v)L[j+v]=I=gt(h[m+v],I)}function yt(h,m,v,I,O){var L;for(L=0;L<v;++L){var j=h[m+L],q=j>>8&255,G=16711935&(G=(G=16711935&j)+((q<<16)+q));I[O+L]=(4278255360&j)+G>>>0}}function ft(h,m){m.jd=255&h,m.hd=h>>8&255,m.ud=h>>16&255}function Rt(h,m,v,I,O,L){var j;for(j=0;j<I;++j){var q=m[v+j],G=q>>>8,Q=q,oe=255&(oe=(oe=q>>>16)+((h.jd<<24>>24)*(G<<24>>24)>>>5));Q=255&(Q=(Q+=(h.hd<<24>>24)*(G<<24>>24)>>>5)+((h.ud<<24>>24)*(oe<<24>>24)>>>5)),O[L+j]=(4278255360&q)+(oe<<16)+Q}}function bt(h,m,v,I,O){S[m]=function(L,j,q,G,Q,oe,ve,Y,ae){for(G=ve;G<Y;++G)for(ve=0;ve<ae;++ve)Q[oe++]=O(q[I(L[j++])])},S[h]=function(L,j,q,G,Q,oe,ve){var Y=8>>L.b,ae=L.Ea,he=L.K[0],xe=L.w;if(8>Y)for(L=(1<<L.b)-1,xe=(1<<Y)-1;j<q;++j){var _e,Re=0;for(_e=0;_e<ae;++_e)_e&L||(Re=I(G[Q++])),oe[ve++]=O(he[Re&xe]),Re>>=Y}else S["VP8LMapColor"+v](G,Q,he,xe,oe,ve,j,q,ae)}}function Fn(h,m,v,I,O){for(v=m+v;m<v;){var L=h[m++];I[O++]=L>>16&255,I[O++]=L>>8&255,I[O++]=255&L}}function dn(h,m,v,I,O){for(v=m+v;m<v;){var L=h[m++];I[O++]=L>>16&255,I[O++]=L>>8&255,I[O++]=255&L,I[O++]=L>>24&255}}function He(h,m,v,I,O){for(v=m+v;m<v;){var L=(j=h[m++])>>16&240|j>>12&15,j=240&j|j>>28&15;I[O++]=L,I[O++]=j}}function Ct(h,m,v,I,O){for(v=m+v;m<v;){var L=(j=h[m++])>>16&248|j>>13&7,j=j>>5&224|j>>3&31;I[O++]=L,I[O++]=j}}function Qt(h,m,v,I,O){for(v=m+v;m<v;){var L=h[m++];I[O++]=255&L,I[O++]=L>>8&255,I[O++]=L>>16&255}}function Tt(h,m,v,I,O,L){if(0==L)for(v=m+v;m<v;)De(I,((L=h[m++])[0]>>24|L[1]>>8&65280|L[2]<<8&16711680|L[3]<<24)>>>0),O+=32;else r(I,O,h,m,v)}function tn(h,m){S[m][0]=S[h+"0"],S[m][1]=S[h+"1"],S[m][2]=S[h+"2"],S[m][3]=S[h+"3"],S[m][4]=S[h+"4"],S[m][5]=S[h+"5"],S[m][6]=S[h+"6"],S[m][7]=S[h+"7"],S[m][8]=S[h+"8"],S[m][9]=S[h+"9"],S[m][10]=S[h+"10"],S[m][11]=S[h+"11"],S[m][12]=S[h+"12"],S[m][13]=S[h+"13"],S[m][14]=S[h+"0"],S[m][15]=S[h+"0"]}function wt(h){return h==sN||h==aN||h==ow||h==lN}function Bn(){this.eb=[],this.size=this.A=this.fb=0}function Cr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function wn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Bn,this.f.kb=new Cr,this.sd=null}function Mt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function mn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function io(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Qr(h,m){var v=h.T,I=m.ba.f.RGBA,O=I.eb,L=I.fb+h.ka*I.A,j=Aa[m.ba.S],q=h.y,G=h.O,Q=h.f,oe=h.N,ve=h.ea,Y=h.W,ae=m.cc,he=m.dc,xe=m.Mc,_e=m.Nc,Re=h.ka,Me=h.ka+h.T,qe=h.U,Ue=qe+1>>1;for(0==Re?j(q,G,null,null,Q,oe,ve,Y,Q,oe,ve,Y,O,L,null,null,qe):(j(m.ec,m.fc,q,G,ae,he,xe,_e,Q,oe,ve,Y,O,L-I.A,O,L,qe),++v);Re+2<Me;Re+=2)j(q,(G+=2*h.fa)-h.fa,q,G,ae=Q,he=oe,xe=ve,_e=Y,Q,oe+=h.Rc,ve,Y+=h.Rc,O,(L+=2*I.A)-I.A,O,L,qe);return G+=h.fa,h.j+Me<h.o?(r(m.ec,m.fc,q,G,qe),r(m.cc,m.dc,Q,oe,Ue),r(m.Mc,m.Nc,ve,Y,Ue),v--):1&Me||j(q,G,null,null,Q,oe,ve,Y,Q,oe,ve,Y,O,L+I.A,null,null,qe),v}function Co(h,m,v){var I=h.F,O=[h.J];if(null!=I){var L=h.U,j=m.ba.S,q=j==iw||j==ow;m=m.ba.f.RGBA;var G=[0],Q=h.ka;G[0]=h.T,h.Kb&&(0==Q?--G[0]:(--Q,O[0]-=h.width),h.j+h.ka+h.T==h.o&&(G[0]=h.o-h.j-Q));var oe=m.eb;h=Cq(I,O[0],h.width,L,G,oe,(Q=m.fb+Q*m.A)+(q?0:3),m.A),e(v==G),h&&wt(j)&&iy(oe,Q,q,L,G,m.A)}return 0}function $i(h){var m=h.ma,v=m.ba.S,I=11>v,O=v==nw||v==rw||v==iw||v==oN||12==v||wt(v);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!qu(m.Oa,h,O?11:12))return 0;if(O&&wt(v)&&Uh(),h.da)alert("todo:use_scaling");else{if(I){if(m.Ib=io,h.Kb){if(m.memory=o(h.U+2*(v=h.U+1>>1)),null==m.memory)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+h.U,m.Mc=m.cc,m.Nc=m.dc+v,m.Ib=Qr,Uh()}}else alert("todo:EmitYUV");O&&(m.Jb=Co,I&&so())}if(I&&!zq){for(h=0;256>h;++h)m2e[h]=89858*(h-128)+aw>>sw,y2e[h]=-22014*(h-128)+aw,v2e[h]=-45773*(h-128),_2e[h]=113618*(h-128)+aw>>sw;for(h=sy;h<dN;++h)b2e[h-sy]=Pt(m=76283*(h-16)+aw>>sw,255),w2e[h-sy]=Pt(m+8>>4,15);zq=1}return 1}function xt(h){var m=h.ma,v=h.U,I=h.T;return e(!(1&h.ka)),0>=v||0>=I?0:(v=m.Ib(h,m),null!=m.Jb&&m.Jb(h,m,v),m.Dc+=v,1)}function pa(h){h.ma.memory=null}function Tr(h,m,v,I){return 47!=Oe(h,8)?0:(m[0]=Oe(h,14)+1,v[0]=Oe(h,14)+1,I[0]=Oe(h,1),0!=Oe(h,3)?0:!h.h)}function Go(h,m){if(4>h)return h+1;var v=h-2>>1;return(2+(1&h)<<v)+Oe(m,v)+1}function qi(h,m){return 120<m?m-120:1<=(v=((v=n2e[m-1])>>4)*h+(8-(15&v)))?v:1;var v}function tr(h,m,v){var I=ee(v),O=h[m+=255&I].g-8;return 0<O&&(le(v,v.u+8),I=ee(v),m+=h[m].value,m+=I&(1<<O)-1),le(v,v.u+h[m].g),h[m].value}function bi(h,m,v){return v.g+=h.g,v.value+=h.value<<m>>>0,e(8>=v.g),h.g}function Di(h,m,v){var I=h.xc;return e((m=0==I?0:h.vc[h.md*(v>>I)+(m>>I)])<h.Wb),h.Ya[m]}function ms(h,m,v,I){var O=h.ab,L=h.c*m,j=h.C;m=j+m;var q=v,G=I;for(I=h.Ta,v=h.Ua;0<O--;){var Q=h.gc[O],oe=j,ve=m,Y=q,ae=G,he=(G=I,q=v,Q.Ea);switch(e(oe<ve),e(ve<=Q.nc),Q.hc){case 2:di(Y,ae,(ve-oe)*he,G,q);break;case 0:var xe=oe,_e=ve,Re=G,Me=q,qe=(mt=Q).Ea;0==xe&&(Jv(Y,ae,null,null,1,Re,Me),Kt(Y,ae+1,0,0,qe-1,Re,Me+1),ae+=qe,Me+=qe,++xe);for(var Ue=1<<mt.b,St=Ue-1,ut=$e(qe,mt.b),ln=mt.K,mt=mt.w+(xe>>mt.b)*ut;xe<_e;){var In=ln,Pi=mt,un=1;for(Tg(Y,ae,Re,Me-qe,1,Re,Me);un<qe;){var _t=(un&~St)+Ue;_t>qe&&(_t=qe),(0,ey[In[Pi++]>>8&15])(Y,ae+ +un,Re,Me+un-qe,_t-un,Re,Me+un),un=_t}ae+=qe,Me+=qe,++xe&St||(mt+=ut)}ve!=Q.nc&&r(G,q-he,G,q+(ve-oe-1)*he,he);break;case 1:for(he=Y,_e=ae,qe=(Y=Q.Ea)-(Me=Y&~(Re=(ae=1<<Q.b)-1)),xe=$e(Y,Q.b),Ue=Q.K,Q=Q.w+(oe>>Q.b)*xe;oe<ve;){for(St=Ue,ut=Q,ln=new zt,mt=_e+Me,In=_e+Y;_e<mt;)ft(St[ut++],ln),ty(ln,he,_e,ae,G,q),_e+=ae,q+=ae;_e<In&&(ft(St[ut++],ln),ty(ln,he,_e,qe,G,q),_e+=qe,q+=qe),++oe&Re||(Q+=xe)}break;case 3:if(Y==G&&ae==q&&0<Q.b){for(_e=G,Y=he=q+(ve-oe)*he-(Me=(ve-oe)*$e(Q.Ea,Q.b)),ae=G,Re=q,xe=[],Me=(qe=Me)-1;0<=Me;--Me)xe[Me]=ae[Re+Me];for(Me=qe-1;0<=Me;--Me)_e[Y+Me]=xe[Me];J2(Q,oe,ve,G,he,G,q)}else J2(Q,oe,ve,Y,ae,G,q)}q=I,G=v}G!=v&&r(I,v,q,G,L)}function Nl(h,m){var v=h.V,I=h.Ba+h.c*h.C,O=m-h.C;if(e(m<=h.l.o),e(16>=O),0<O){var L=h.l,j=h.Ta,q=h.Ua,G=L.width;if(ms(h,O,v,I),O=q=[q],e((v=h.C)<(I=m)),e(L.v<L.va),I>L.o&&(I=L.o),v<L.j){var Q=L.j-v;v=L.j,O[0]+=Q*G}if(v>=I?v=0:(O[0]+=4*L.v,L.ka=v-L.j,L.U=L.va-L.v,L.T=I-v,v=1),v){if(q=q[0],11>(v=h.ca).S){var oe=v.f.RGBA,ve=(I=v.S,O=L.U,L=L.T,Q=oe.eb,oe.A),Y=L;for(oe=oe.fb+h.Ma*oe.A;0<Y--;){var ae=j,he=q,xe=O,_e=Q,Re=oe;switch(I){case tw:ny(ae,he,xe,_e,Re);break;case nw:sd(ae,he,xe,_e,Re);break;case sN:sd(ae,he,xe,_e,Re),iy(_e,Re,0,xe,1,0);break;case Rq:jh(ae,he,xe,_e,Re);break;case rw:Tt(ae,he,xe,_e,Re,1);break;case aN:Tt(ae,he,xe,_e,Re,1),iy(_e,Re,0,xe,1,0);break;case iw:Tt(ae,he,xe,_e,Re,0);break;case ow:Tt(ae,he,xe,_e,Re,0),iy(_e,Re,1,xe,1,0);break;case oN:ad(ae,he,xe,_e,Re);break;case lN:ad(ae,he,xe,_e,Re),Aq(_e,Re,xe,1,0);break;case Mq:ld(ae,he,xe,_e,Re);break;default:e(0)}q+=G,oe+=ve}h.Ma+=L}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=v.height)}}h.C=m,e(h.C<=h.i)}function Us(h){var m;if(0<h.ua)return 0;for(m=0;m<h.Wb;++m){var v=h.Ya[m].G,I=h.Ya[m].H;if(0<v[1][I[1]+0].g||0<v[2][I[2]+0].g||0<v[3][I[3]+0].g)return 0}return 1}function Ho(h,m,v,I,O,L){if(0!=h.Z){var j=h.qd,q=h.rd;for(e(null!=dd[h.Z]);m<v;++m)dd[h.Z](j,q,I,O,I,O,L),j=I,q=O,O+=L;h.qd=j,h.rd=q}}function _s(h,m){var v=h.l.ma,I=0==v.Z||1==v.Z?h.l.j:h.C;if(I=h.C<I?I:h.C,e(m<=h.l.o),m>I){var O=h.l.width,L=v.ca,j=v.tb+O*I,q=h.V,G=h.Ba+h.c*I,Q=h.gc;e(1==h.ab),e(3==Q[0].hc),zl(Q[0],I,m,q,G,L,j),Ho(v,I,m,L,j,O)}h.C=h.Ma=m}function Wo(h,m,v,I,O,L,j){var q=h.$/I,G=h.$%I,Q=h.m,oe=h.s,ve=v+h.$,Y=ve;O=v+I*O;var ae=v+I*L,he=280+oe.ua,xe=h.Pb?q:16777216,_e=0<oe.ua?oe.Wa:null,Re=oe.wc,Me=ve<ae?Di(oe,G,q):null;e(h.C<L),e(ae<=O);var qe=!1;e:for(;;){for(;qe||ve<ae;){var Ue=0;if(q>=xe){var St=ve-v;e((xe=h).Pb),xe.wd=xe.m,xe.xd=St,0<xe.s.ua&&sn(xe.s.Wa,xe.s.vb),xe=q+i2e}if(G&Re||(Me=Di(oe,G,q)),e(null!=Me),Me.Qb&&(m[ve]=Me.qb,qe=!0),!qe)if(de(Q),Me.jc){St=m;var ut=ve,ln=Me.pd[ee(Ue=Q)&Bh-1];e(Me.jc),256>ln.g?(le(Ue,Ue.u+ln.g),St[ut]=ln.value,Ue=0):(le(Ue,Ue.u+ln.g-256),e(256<=ln.value),Ue=ln.value),0==Ue&&(qe=!0)}else Ue=tr(Me.G[0],Me.H[0],Q);if(Q.h)break;if(qe||256>Ue){if(!qe)if(Me.nd)m[ve]=(Me.qb|Ue<<8)>>>0;else{if(de(Q),qe=tr(Me.G[1],Me.H[1],Q),de(Q),St=tr(Me.G[2],Me.H[2],Q),ut=tr(Me.G[3],Me.H[3],Q),Q.h)break;m[ve]=(ut<<24|qe<<16|Ue<<8|St)>>>0}if(qe=!1,++ve,++G>=I&&(G=0,++q,null!=j&&q<=L&&!(q%16)&&j(h,q),null!=_e))for(;Y<ve;)Ue=m[Y++],_e.X[(506832829*Ue&4294967295)>>>_e.Mb]=Ue}else if(280>Ue){if(Ue=Go(Ue-256,Q),St=tr(Me.G[4],Me.H[4],Q),de(Q),St=qi(I,St=Go(St,Q)),Q.h)break;if(ve-v<St||O-ve<Ue)break e;for(ut=0;ut<Ue;++ut)m[ve+ut]=m[ve+ut-St];for(ve+=Ue,G+=Ue;G>=I;)G-=I,++q,null!=j&&q<=L&&!(q%16)&&j(h,q);if(e(ve<=O),G&Re&&(Me=Di(oe,G,q)),null!=_e)for(;Y<ve;)Ue=m[Y++],_e.X[(506832829*Ue&4294967295)>>>_e.Mb]=Ue}else{if(!(Ue<he))break e;for(qe=Ue-280,e(null!=_e);Y<ve;)Ue=m[Y++],_e.X[(506832829*Ue&4294967295)>>>_e.Mb]=Ue;Ue=ve,e(!(qe>>>(St=_e).Xa)),m[Ue]=St.X[qe],qe=!0}qe||e(Q.h==ie(Q))}if(h.Pb&&Q.h&&ve<O)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&sn(h.s.vb,h.s.Wa);else{if(Q.h)break e;j?.(h,q>L?L:q),h.a=0,h.$=ve-v}return 1}return h.a=3,0}function oo(h){e(null!=h),h.vc=null,h.yc=null,h.Ya=null;var m=h.Wa;null!=m&&(m.X=null),h.vb=null,e(null!=h)}function To(){var h=new ht;return null==h?null:(h.a=0,h.xb=Lq,tn("Predictor","VP8LPredictors"),tn("Predictor","VP8LPredictors_C"),tn("PredictorAdd","VP8LPredictorsAdd"),tn("PredictorAdd","VP8LPredictorsAdd_C"),di=yt,ty=Rt,ny=Fn,sd=dn,ad=He,ld=Ct,jh=Qt,S.VP8LMapColor32b=jl,S.VP8LMapColor8b=Xv,h)}function Bs(h,m,v,I,O){var L=1,j=[h],q=[m],G=I.m,Q=I.s,oe=null,ve=0;e:for(;;){if(v)for(;L&&Oe(G,1);){var Y=j,ae=q,he=I,xe=1,_e=he.m,Re=he.gc[he.ab],Me=Oe(_e,2);if(he.Oc&1<<Me)L=0;else{switch(he.Oc|=1<<Me,Re.hc=Me,Re.Ea=Y[0],Re.nc=ae[0],Re.K=[null],++he.ab,e(4>=he.ab),Me){case 0:case 1:Re.b=Oe(_e,3)+2,xe=Bs($e(Re.Ea,Re.b),$e(Re.nc,Re.b),0,he,Re.K),Re.K=Re.K[0];break;case 3:var qe,Ue=Oe(_e,8)+1,St=16<Ue?0:4<Ue?1:2<Ue?2:3;if(Y[0]=$e(Re.Ea,St),Re.b=St,qe=xe=Bs(Ue,1,0,he,Re.K)){var ut,ln=Ue,mt=Re,In=1<<(8>>mt.b),Pi=o(In);if(null==Pi)qe=0;else{var un=mt.K[0],_t=mt.w;for(Pi[0]=mt.K[0][0],ut=1;ut<1*ln;++ut)Pi[ut]=gt(un[_t+ut],Pi[ut-1]);for(;ut<4*In;++ut)Pi[ut]=0;mt.K[0]=null,mt.K[0]=Pi,qe=1}}xe=qe;break;case 2:break;default:e(0)}L=xe}}if(j=j[0],q=q[0],L&&Oe(G,1)&&!(L=1<=(ve=Oe(G,4))&&11>=ve)){I.a=3;break e}var Xe;if(Xe=L)t:{var fi,nn,Pn,Sr=I,ao=j,Ko=q,Zr=ve,xo=v,Qo=Sr.m,Ni=Sr.s,Rn=[null],Yn=1,Jr=0,Zn=r2e[Zr];n:for(;;){if(xo&&Oe(Qo,1)){var lo=Oe(Qo,3)+2,Qa=$e(ao,lo),pi=$e(Ko,lo),Is=Qa*pi;if(!Bs(Qa,pi,0,Sr,Rn))break n;for(Rn=Rn[0],Ni.xc=lo,fi=0;fi<Is;++fi){var cr=Rn[fi]>>8&65535;Rn[fi]=cr,cr>=Yn&&(Yn=cr+1)}}if(Qo.h)break n;for(nn=0;5>nn;++nn){var Ri=kq[nn];!nn&&0<Zr&&(Ri+=1<<Zr),Jr<Ri&&(Jr=Ri)}var Ws=s(Yn*Zn,P),Yo=Yn,Ks=s(Yo,me);if(null==Ks)var Qs=null;else e(65536>=Yo),Qs=Ks;var Es=o(Jr);if(null==Qs||null==Es||null==Ws){Sr.a=1;break n}var Ys=Ws;for(fi=Pn=0;fi<Yn;++fi){var br=Qs[fi],Zs=br.G,Ya=br.H,$h=0,Ku=1,uo=0;for(nn=0;5>nn;++nn){Ri=kq[nn],Zs[nn]=Ys,Ya[nn]=Pn,!nn&&0<Zr&&(Ri+=1<<Zr);i:{var uw,hN=Ri,cw=Sr,ay=Es,A2e=Ys,C2e=Pn,fN=0,hd=cw.m,T2e=Oe(hd,1);if(i(ay,0,0,hN),T2e){var S2e=Oe(hd,1)+1,D2e=Oe(hd,1),Gq=Oe(hd,0==D2e?1:8);ay[Gq]=1,2==S2e&&(ay[Gq=Oe(hd,8)]=1);var dw=1}else{var Hq=o(19),Wq=Oe(hd,4)+4;if(19<Wq){cw.a=3;var hw=0;break i}for(uw=0;uw<Wq;++uw)Hq[t2e[uw]]=Oe(hd,3);var pN=void 0,ly=void 0,Kq=cw,x2e=Hq,fw=hN,Qq=ay,gN=0,fd=Kq.m,Yq=8,Zq=s(128,P);r:for(;x(Zq,0,7,x2e,19);){if(Oe(fd,1)){var P2e=2+2*Oe(fd,3);if((pN=2+Oe(fd,P2e))>fw)break r}else pN=fw;for(ly=0;ly<fw&&pN--;){de(fd);var Jq=Zq[0+(127&ee(fd))];le(fd,fd.u+Jq.g);var Dg=Jq.value;if(16>Dg)Qq[ly++]=Dg,0!=Dg&&(Yq=Dg);else{var N2e=16==Dg,Xq=Dg-16,R2e=Xbe[Xq],eG=Oe(fd,Jbe[Xq])+R2e;if(ly+eG>fw)break r;for(var M2e=N2e?Yq:0;0<eG--;)Qq[ly++]=M2e}}gN=1;break r}gN||(Kq.a=3),dw=gN}(dw=dw&&!hd.h)&&(fN=x(A2e,C2e,8,ay,hN)),dw&&0!=fN?hw=fN:(cw.a=3,hw=0)}if(0==hw)break n;if(Ku&&1==e2e[nn]&&(Ku=0==Ys[Pn].g),$h+=Ys[Pn].g,Pn+=hw,3>=nn){var uy,mN=Es[0];for(uy=1;uy<Ri;++uy)Es[uy]>mN&&(mN=Es[uy]);uo+=mN}}if(br.nd=Ku,br.Qb=0,Ku&&(br.qb=(Zs[3][Ya[3]+0].value<<24|Zs[1][Ya[1]+0].value<<16|Zs[2][Ya[2]+0].value)>>>0,0==$h&&256>Zs[0][Ya[0]+0].value&&(br.Qb=1,br.qb+=Zs[0][Ya[0]+0].value<<8)),br.jc=!br.Qb&&6>uo,br.jc){var pw,Qu=br;for(pw=0;pw<Bh;++pw){var pd=pw,gd=Qu.pd[pd],gw=Qu.G[0][Qu.H[0]+pd];256<=gw.value?(gd.g=gw.g+256,gd.value=gw.value):(gd.g=0,gd.value=0,pd>>=bi(gw,8,gd),pd>>=bi(Qu.G[1][Qu.H[1]+pd],16,gd),pd>>=bi(Qu.G[2][Qu.H[2]+pd],0,gd),bi(Qu.G[3][Qu.H[3]+pd],24,gd))}}}Ni.vc=Rn,Ni.Wb=Yn,Ni.Ya=Qs,Ni.yc=Ws,Xe=1;break t}Xe=0}if(!(L=Xe)){I.a=3;break e}if(0<ve){if(Q.ua=1<<ve,!J(Q.Wa,ve)){I.a=1,L=0;break e}}else Q.ua=0;var _N=I,tG=j,k2e=q,vN=_N.s,yN=vN.xc;if(_N.c=tG,_N.i=k2e,vN.md=$e(tG,yN),vN.wc=0==yN?-1:(1<<yN)-1,v){I.xb=d2e;break e}if(null==(oe=o(j*q))){I.a=1,L=0;break e}L=(L=Wo(I,oe,0,j,q,q,null))&&!G.h;break e}return L?(null!=O?O[0]=oe:(e(null==oe),e(v)),I.$=0,v||oo(Q)):oo(Q),L}function Rl(h,m){var v=h.c*h.i,I=v+m+16*m;return e(h.c<=m),h.V=o(I),null==h.V?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+v+m,1)}function Ml(h,m){var v=h.C,I=m-v,O=h.V,L=h.Ba+h.c*v;for(e(m<=h.l.o);0<I;){var j=16<I?16:I,q=h.l.ma,G=h.l.width,Q=G*j,oe=q.ca,ve=q.tb+G*v,Y=h.Ta,ae=h.Ua;ms(h,j,O,L),Tq(Y,ae,oe,ve,Q),Ho(q,v,v+j,oe,ve,G),I-=j,O+=j*h.c,v+=j}e(v==m),h.C=h.Ma=m}function kl(){this.ub=this.yd=this.td=this.Rb=0}function Pu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function wg(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function xh(){var h;this.Yb=(function m(v,I,O){for(var L=O[I],j=0;j<L&&(v.push(O.length>I+1?[]:0),!(O.length<I+1));j++)m(v[j],I+1,O)}(h=[],0,[3,11]),h)}function Nu(){this.jb=o(3),this.Wc=a([4,8],xh),this.Xc=a([4,17],xh)}function Ph(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function So(){this.ld=this.La=this.dd=this.tc=0}function ja(){this.Na=this.la=0}function ga(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ru(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ig(){this.uc=this.M=this.Nb=0,this.wa=Array(new So),this.Y=0,this.ya=Array(new Ru),this.aa=0,this.l=new Mu}function Nh(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Rh(){this.cb=this.a=0,this.sc="",this.m=new U,this.Od=new kl,this.Kc=new Pu,this.ed=new Ph,this.Qa=new wg,this.Ic=this.$c=this.Aa=0,this.D=new Ig,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,U),this.ia=0,this.pb=s(4,ga),this.Pa=new Nu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Nh),this.Hd=0,this.rb=Array(new ja),this.sb=0,this.wa=Array(new So),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ru),this.L=this.aa=0,this.gd=a([4,2],So),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Mu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Mh(){var h=new Rh;return null!=h&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,oy||(oy=za)),h}function Or(h,m,v){return 0==h.a&&(h.a=m,h.sc=v,h.cb=0),0}function kh(h,m,v){return 3<=v&&157==h[m+0]&&1==h[m+1]&&42==h[m+2]}function Oh(h,m){if(null==h)return 0;if(h.a=0,h.sc="OK",null==m)return Or(h,2,"null VP8Io passed to VP8GetHeaders()");var v=m.data,I=m.w,O=m.ha;if(4>O)return Or(h,7,"Truncated header.");var L=v[I+0]|v[I+1]<<8|v[I+2]<<16,j=h.Od;if(j.Rb=!(1&L),j.td=L>>1&7,j.yd=L>>4&1,j.ub=L>>5,3<j.td)return Or(h,3,"Incorrect keyframe parameters.");if(!j.yd)return Or(h,4,"Frame not displayable.");I+=3,O-=3;var q=h.Kc;if(j.Rb){if(7>O)return Or(h,7,"cannot parse picture header");if(!kh(v,I,O))return Or(h,3,"Bad code word");q.c=16383&(v[I+4]<<8|v[I+3]),q.Td=v[I+4]>>6,q.i=16383&(v[I+6]<<8|v[I+5]),q.Ud=v[I+6]>>6,I+=7,O-=7,h.za=q.c+15>>4,h.Ub=q.i+15>>4,m.width=q.c,m.height=q.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,i((L=h.Pa).jb,0,255,L.jb.length),e(null!=(L=h.Qa)),L.Cb=0,L.Bb=0,L.Fb=1,i(L.Zb,0,0,L.Zb.length),i(L.Lb,0,0,L.Lb)}if(j.ub>O)return Or(h,7,"bad partition length");Ae(L=h.m,v,I,j.ub),I+=j.ub,O-=j.ub,j.Rb&&(q.Ld=Ie(L),q.Kd=Ie(L)),q=h.Qa;var G,Q=h.Pa;if(e(null!=L),e(null!=q),q.Cb=Ie(L),q.Cb){if(q.Bb=Ie(L),Ie(L)){for(q.Fb=Ie(L),G=0;4>G;++G)q.Zb[G]=Ie(L)?pe(L,7):0;for(G=0;4>G;++G)q.Lb[G]=Ie(L)?pe(L,6):0}if(q.Bb)for(G=0;3>G;++G)Q.jb[G]=Ie(L)?Ee(L,8):255}else q.Bb=0;if(L.Ka)return Or(h,3,"cannot parse segment header");if((q=h.ed).zd=Ie(L),q.Tb=Ee(L,6),q.wb=Ee(L,3),q.Pc=Ie(L),q.Pc&&Ie(L)){for(Q=0;4>Q;++Q)Ie(L)&&(q.vd[Q]=pe(L,6));for(Q=0;4>Q;++Q)Ie(L)&&(q.od[Q]=pe(L,6))}if(h.L=0==q.Tb?0:q.zd?1:2,L.Ka)return Or(h,3,"cannot parse filter header");var oe=O;if(O=G=I,I=G+oe,q=oe,h.Xb=(1<<Ee(h.m,2))-1,oe<3*(Q=h.Xb))v=7;else{for(G+=3*Q,q-=3*Q,oe=0;oe<Q;++oe){var ve=v[O+0]|v[O+1]<<8|v[O+2]<<16;ve>q&&(ve=q),Ae(h.Jc[+oe],v,G,ve),G+=ve,q-=ve,O+=3}Ae(h.Jc[+Q],v,G,q),v=G<I?0:5}if(0!=v)return Or(h,v,"cannot parse partitions");for(v=Ee(G=h.m,7),O=Ie(G)?pe(G,4):0,I=Ie(G)?pe(G,4):0,q=Ie(G)?pe(G,4):0,Q=Ie(G)?pe(G,4):0,G=Ie(G)?pe(G,4):0,oe=h.Qa,ve=0;4>ve;++ve){if(oe.Cb){var Y=oe.Zb[ve];oe.Fb||(Y+=v)}else{if(0<ve){h.pb[ve]=h.pb[0];continue}Y=v}var ae=h.pb[ve];ae.Sc[0]=uN[Pt(Y+O,127)],ae.Sc[1]=cN[Pt(Y+0,127)],ae.Eb[0]=2*uN[Pt(Y+I,127)],ae.Eb[1]=101581*cN[Pt(Y+q,127)]>>16,8>ae.Eb[1]&&(ae.Eb[1]=8),ae.Qc[0]=uN[Pt(Y+Q,117)],ae.Qc[1]=cN[Pt(Y+G,127)],ae.lc=Y+G}if(!j.Rb)return Or(h,4,"Not a key frame.");for(Ie(L),j=h.Pa,v=0;4>v;++v){for(O=0;8>O;++O)for(I=0;3>I;++I)for(q=0;11>q;++q)Q=Pe(L,u2e[v][O][I][q])?Ee(L,8):a2e[v][O][I][q],j.Wc[v][O].Yb[I][q]=Q;for(O=0;17>O;++O)j.Xc[v][O]=j.Wc[v][c2e[O]]}return h.kc=Ie(L),h.kc&&(h.Bd=Ee(L,8)),h.cb=1}function za(h,m,v,I,O,L,j){var q=m[O].Yb[v];for(v=0;16>O;++O){if(!Pe(h,q[v+0]))return O;for(;!Pe(h,q[v+1]);)if(q=m[++O].Yb[0],v=0,16==O)return 16;var G=m[O+1].Yb;if(Pe(h,q[v+2])){var Q=h,oe=0;if(Pe(Q,(Y=q)[(ve=v)+3]))if(Pe(Q,Y[ve+6])){for(q=0,ve=2*(oe=Pe(Q,Y[ve+8]))+(Y=Pe(Q,Y[ve+9+oe])),oe=0,Y=o2e[ve];Y[q];++q)oe+=oe+Pe(Q,Y[q]);oe+=3+(8<<ve)}else Pe(Q,Y[ve+7])?(oe=7+2*Pe(Q,165),oe+=Pe(Q,145)):oe=5+Pe(Q,159);else oe=Pe(Q,Y[ve+4])?3+Pe(Q,Y[ve+5]):2;q=G[2]}else oe=1,q=G[1];G=j+s2e[O],0>(Q=h).b&&ye(Q);var ve,Y=Q.b,ae=(ve=Q.Ca>>1)-(Q.I>>Y)>>31;--Q.b,Q.Ca+=ae,Q.Ca|=1,Q.I-=(ve+1&ae)<<Y,L[G]=((oe^ae)-ae)*I[(0<O)+0]}return 16}function ku(h){var m=h.rb[h.sb-1];m.la=0,m.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function vs(h,m,v,I,O){h[m+v+32*I]=-256&(O=h[m+v+32*I]+(O>>3))?0>O?0:255:O}function Ol(h,m,v,I,O,L){vs(h,m,0,v,I+O),vs(h,m,1,v,I+L),vs(h,m,2,v,I-L),vs(h,m,3,v,I-O)}function Br(h){return(20091*h>>16)+h}function js(h,m,v,I){var O,L=0,j=o(16);for(O=0;4>O;++O){var q=h[m+0]+h[m+8],G=h[m+0]-h[m+8],Q=(35468*h[m+4]>>16)-Br(h[m+12]),oe=Br(h[m+4])+(35468*h[m+12]>>16);j[L+0]=q+oe,j[L+1]=G+Q,j[L+2]=G-Q,j[L+3]=q-oe,L+=4,m++}for(O=L=0;4>O;++O)q=(h=j[L+0]+4)+j[L+8],G=h-j[L+8],Q=(35468*j[L+4]>>16)-Br(j[L+12]),vs(v,I,0,0,q+(oe=Br(j[L+4])+(35468*j[L+12]>>16))),vs(v,I,1,0,G+Q),vs(v,I,2,0,G-Q),vs(v,I,3,0,q-oe),L++,I+=32}function zs(h,m,v,I){var O=h[m+0]+4,L=35468*h[m+4]>>16,j=Br(h[m+4]),q=35468*h[m+1]>>16;Ol(v,I,0,O+j,h=Br(h[m+1]),q),Ol(v,I,1,O+L,h,q),Ol(v,I,2,O-L,h,q),Ol(v,I,3,O-j,h,q)}function Jc(h,m,v,I,O){js(h,m,v,I),O&&js(h,m+16,v,I+4)}function Xc(h,m,v,I){zh(h,m+0,v,I,1),zh(h,m+32,v,I+128,1)}function $s(h,m,v,I){var O;for(h=h[m+0]+4,O=0;4>O;++O)for(m=0;4>m;++m)vs(v,I,m,O,h)}function jn(h,m,v,I){h[m+0]&&zn(h,m+0,v,I),h[m+16]&&zn(h,m+16,v,I+4),h[m+32]&&zn(h,m+32,v,I+128),h[m+48]&&zn(h,m+48,v,I+128+4)}function Ou(h,m,v,I){var O,L=o(16);for(O=0;4>O;++O){var j=h[m+0+O]+h[m+12+O],q=h[m+4+O]+h[m+8+O],G=h[m+4+O]-h[m+8+O],Q=h[m+0+O]-h[m+12+O];L[0+O]=j+q,L[8+O]=j-q,L[4+O]=Q+G,L[12+O]=Q-G}for(O=0;4>O;++O)j=(h=L[0+4*O]+3)+L[3+4*O],G=L[1+4*O]-L[2+4*O],Q=h-L[3+4*O],v[I+0]=j+(q=L[1+4*O]+L[2+4*O])>>3,v[I+16]=Q+G>>3,v[I+32]=j-q>>3,v[I+48]=Q-G>>3,I+=64}function ys(h,m,v){var I,O=m-32,L=Hs,j=255-h[O-1];for(I=0;I<v;++I){var q,G=L,Q=j+h[m-1];for(q=0;q<v;++q)h[m+q]=G[Q+h[O+q]];m+=32}}function $a(h,m){ys(h,m,4)}function Gv(h,m){ys(h,m,8)}function Eg(h,m){ys(h,m,16)}function Hv(h,m){var v;for(v=0;16>v;++v)r(h,m+32*v,h,m-32,16)}function Lh(h,m){var v;for(v=16;0<v;--v)i(h,m,h[m-1],16),m+=32}function Lu(h,m,v){var I;for(I=0;16>I;++I)i(m,v+32*I,h,16)}function Ll(h,m){var v,I=16;for(v=0;16>v;++v)I+=h[m-1+32*v]+h[m+v-32];Lu(I>>5,h,m)}function Fu(h,m){var v,I=8;for(v=0;16>v;++v)I+=h[m-1+32*v];Lu(I>>4,h,m)}function Do(h,m){var v,I=8;for(v=0;16>v;++v)I+=h[m+v-32];Lu(I>>4,h,m)}function ed(h,m){Lu(128,h,m)}function $t(h,m,v){return h+2*m+v+2>>2}function Ag(h,m){var v,I=m-32;for(I=new Uint8Array([$t(h[I-1],h[I+0],h[I+1]),$t(h[I+0],h[I+1],h[I+2]),$t(h[I+1],h[I+2],h[I+3]),$t(h[I+2],h[I+3],h[I+4])]),v=0;4>v;++v)r(h,m+32*v,I,0,I.length)}function Fl(h,m){var v=h[m-1],I=h[m-1+32],O=h[m-1+64],L=h[m-1+96];De(h,m+0,16843009*$t(h[m-1-32],v,I)),De(h,m+32,16843009*$t(v,I,O)),De(h,m+64,16843009*$t(I,O,L)),De(h,m+96,16843009*$t(O,L,L))}function Wv(h,m){var v,I=4;for(v=0;4>v;++v)I+=h[m+v-32]+h[m-1+32*v];for(I>>=3,v=0;4>v;++v)i(h,m+32*v,I,4)}function Kv(h,m){var v=h[m-1+0],I=h[m-1+32],O=h[m-1+64],L=h[m-1-32],j=h[m+0-32],q=h[m+1-32],G=h[m+2-32],Q=h[m+3-32];h[m+0+96]=$t(I,O,h[m-1+96]),h[m+1+96]=h[m+0+64]=$t(v,I,O),h[m+2+96]=h[m+1+64]=h[m+0+32]=$t(L,v,I),h[m+3+96]=h[m+2+64]=h[m+1+32]=h[m+0+0]=$t(j,L,v),h[m+3+64]=h[m+2+32]=h[m+1+0]=$t(q,j,L),h[m+3+32]=h[m+2+0]=$t(G,q,j),h[m+3+0]=$t(Q,G,q)}function qa(h,m){var v=h[m+1-32],I=h[m+2-32],O=h[m+3-32],L=h[m+4-32],j=h[m+5-32],q=h[m+6-32],G=h[m+7-32];h[m+0+0]=$t(h[m+0-32],v,I),h[m+1+0]=h[m+0+32]=$t(v,I,O),h[m+2+0]=h[m+1+32]=h[m+0+64]=$t(I,O,L),h[m+3+0]=h[m+2+32]=h[m+1+64]=h[m+0+96]=$t(O,L,j),h[m+3+32]=h[m+2+64]=h[m+1+96]=$t(L,j,q),h[m+3+64]=h[m+2+96]=$t(j,q,G),h[m+3+96]=$t(q,G,G)}function Gi(h,m){var v=h[m-1+0],I=h[m-1+32],O=h[m-1+64],L=h[m-1-32],j=h[m+0-32],q=h[m+1-32],G=h[m+2-32],Q=h[m+3-32];h[m+0+0]=h[m+1+64]=L+j+1>>1,h[m+1+0]=h[m+2+64]=j+q+1>>1,h[m+2+0]=h[m+3+64]=q+G+1>>1,h[m+3+0]=G+Q+1>>1,h[m+0+96]=$t(O,I,v),h[m+0+64]=$t(I,v,L),h[m+0+32]=h[m+1+96]=$t(v,L,j),h[m+1+32]=h[m+2+96]=$t(L,j,q),h[m+2+32]=h[m+3+96]=$t(j,q,G),h[m+3+32]=$t(q,G,Q)}function Qv(h,m){var v=h[m+0-32],I=h[m+1-32],O=h[m+2-32],L=h[m+3-32],j=h[m+4-32],q=h[m+5-32],G=h[m+6-32],Q=h[m+7-32];h[m+0+0]=v+I+1>>1,h[m+1+0]=h[m+0+64]=I+O+1>>1,h[m+2+0]=h[m+1+64]=O+L+1>>1,h[m+3+0]=h[m+2+64]=L+j+1>>1,h[m+0+32]=$t(v,I,O),h[m+1+32]=h[m+0+96]=$t(I,O,L),h[m+2+32]=h[m+1+96]=$t(O,L,j),h[m+3+32]=h[m+2+96]=$t(L,j,q),h[m+3+64]=$t(j,q,G),h[m+3+96]=$t(q,G,Q)}function Yv(h,m){var v=h[m-1+0],I=h[m-1+32],O=h[m-1+64],L=h[m-1+96];h[m+0+0]=v+I+1>>1,h[m+2+0]=h[m+0+32]=I+O+1>>1,h[m+2+32]=h[m+0+64]=O+L+1>>1,h[m+1+0]=$t(v,I,O),h[m+3+0]=h[m+1+32]=$t(I,O,L),h[m+3+32]=h[m+1+64]=$t(O,L,L),h[m+3+64]=h[m+2+64]=h[m+0+96]=h[m+1+96]=h[m+2+96]=h[m+3+96]=L}function ma(h,m){var v=h[m-1+0],I=h[m-1+32],O=h[m-1+64],L=h[m-1+96],j=h[m-1-32],q=h[m+0-32],G=h[m+1-32],Q=h[m+2-32];h[m+0+0]=h[m+2+32]=v+j+1>>1,h[m+0+32]=h[m+2+64]=I+v+1>>1,h[m+0+64]=h[m+2+96]=O+I+1>>1,h[m+0+96]=L+O+1>>1,h[m+3+0]=$t(q,G,Q),h[m+2+0]=$t(j,q,G),h[m+1+0]=h[m+3+32]=$t(v,j,q),h[m+1+32]=h[m+3+64]=$t(I,v,j),h[m+1+64]=h[m+3+96]=$t(O,I,v),h[m+1+96]=$t(L,O,I)}function Vl(h,m){var v;for(v=0;8>v;++v)r(h,m+32*v,h,m-32,8)}function Ul(h,m){var v;for(v=0;8>v;++v)i(h,m,h[m-1],8),m+=32}function _a(h,m,v){var I;for(I=0;8>I;++I)i(m,v+32*I,h,8)}function va(h,m){var v,I=8;for(v=0;8>v;++v)I+=h[m+v-32]+h[m-1+32*v];_a(I>>4,h,m)}function Cg(h,m){var v,I=4;for(v=0;8>v;++v)I+=h[m+v-32];_a(I>>3,h,m)}function Vu(h,m){var v,I=4;for(v=0;8>v;++v)I+=h[m-1+32*v];_a(I>>3,h,m)}function nr(h,m){_a(128,h,m)}function Uu(h,m,v){var I=h[m-v],O=h[m+0],L=3*(O-I)+iN[1020+h[m-2*v]-h[m+v]],j=ew[112+(L+4>>3)];h[m-v]=Hs[255+I+ew[112+(L+3>>3)]],h[m+0]=Hs[255+O-j]}function Bu(h,m,v,I){return Ea[255+h[m-2*v]-h[m-v]]>I||Ea[255+h[m+v]-h[m+0]]>I}function td(h,m,v,I){return 4*Ea[255+h[m-v]-h[m+0]]+Ea[255+h[m-2*v]-h[m+v]]<=I}function ju(h,m,v,I,O){var L=h[m-3*v],j=h[m-2*v],q=h[m-v],G=h[m+0],Q=h[m+v],oe=h[m+2*v];return 4*Ea[255+q-G]+Ea[255+j-Q]>I?0:Ea[255+h[m-4*v]-L]<=O&&Ea[255+L-j]<=O&&Ea[255+j-q]<=O&&Ea[255+h[m+3*v]-oe]<=O&&Ea[255+oe-Q]<=O&&Ea[255+Q-G]<=O}function nd(h,m,v,I){var O=2*I+1;for(I=0;16>I;++I)td(h,m+I,v,O)&&Uu(h,m+I,v)}function ya(h,m,v,I){var O=2*I+1;for(I=0;16>I;++I)td(h,m+I*v,1,O)&&Uu(h,m+I*v,1)}function Fh(h,m,v,I){var O;for(O=3;0<O;--O)nd(h,m+=4*v,v,I)}function bs(h,m,v,I){var O;for(O=3;0<O;--O)ya(h,m+=4,v,I)}function ba(h,m,v,I,O,L,j,q){for(L=2*L+1;0<O--;){if(ju(h,m,v,L,j))if(Bu(h,m,v,q))Uu(h,m,v);else{var G=h,Q=m,oe=v,ve=G[Q-2*oe],Y=G[Q-oe],ae=G[Q+0],he=G[Q+oe],xe=G[Q+2*oe],_e=27*(Me=iN[1020+3*(ae-Y)+iN[1020+ve-he]])+63>>7,Re=18*Me+63>>7,Me=9*Me+63>>7;G[Q-3*oe]=Hs[255+G[Q-3*oe]+Me],G[Q-2*oe]=Hs[255+ve+Re],G[Q-oe]=Hs[255+Y+_e],G[Q+0]=Hs[255+ae-_e],G[Q+oe]=Hs[255+he-Re],G[Q+2*oe]=Hs[255+xe-Me]}m+=I}}function Ga(h,m,v,I,O,L,j,q){for(L=2*L+1;0<O--;){if(ju(h,m,v,L,j))if(Bu(h,m,v,q))Uu(h,m,v);else{var G=h,Q=m,oe=v,ve=G[Q-oe],Y=G[Q+0],ae=G[Q+oe],he=ew[112+(4+(xe=3*(Y-ve))>>3)],xe=ew[112+(xe+3>>3)],_e=he+1>>1;G[Q-2*oe]=Hs[255+G[Q-2*oe]+_e],G[Q-oe]=Hs[255+ve+xe],G[Q+0]=Hs[255+Y-he],G[Q+oe]=Hs[255+ae-_e]}m+=I}}function Bl(h,m,v,I,O,L){ba(h,m,v,1,16,I,O,L)}function Vh(h,m,v,I,O,L){ba(h,m,1,v,16,I,O,L)}function Ha(h,m,v,I,O,L){var j;for(j=3;0<j;--j)Ga(h,m+=4*v,v,1,16,I,O,L)}function zu(h,m,v,I,O,L){var j;for(j=3;0<j;--j)Ga(h,m+=4,1,v,16,I,O,L)}function _(h,m,v,I,O,L,j,q){ba(h,m,O,1,8,L,j,q),ba(v,I,O,1,8,L,j,q)}function R(h,m,v,I,O,L,j,q){ba(h,m,1,O,8,L,j,q),ba(v,I,1,O,8,L,j,q)}function K(h,m,v,I,O,L,j,q){Ga(h,m+4*O,O,1,8,L,j,q),Ga(v,I+4*O,O,1,8,L,j,q)}function ne(h,m,v,I,O,L,j,q){Ga(h,m+4,1,O,8,L,j,q),Ga(v,I+4,1,O,8,L,j,q)}function ce(){this.ba=new wn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new mn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ne(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ve(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function st(){this.ua=0,this.Wa=new jt,this.vb=new jt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new me,this.yc=new P}function ht(){this.xb=this.a=0,this.l=new Mu,this.ca=new wn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new st,this.ab=0,this.gc=s(4,Ve),this.Oc=0}function Lt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Mu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ft(h,m,v,I,O,L,j){for(h=null==h?0:h[m+0],m=0;m<j;++m)O[L+m]=h+v[I+m]&255,h=O[L+m]}function xn(h,m,v,I,O,L,j){var q;if(null==h)Ft(null,null,v,I,O,L,j);else for(q=0;q<j;++q)O[L+q]=h[m+q]+v[I+q]&255}function vr(h,m,v,I,O,L,j){if(null==h)Ft(null,null,v,I,O,L,j);else{var q,G=h[m+0],Q=G,oe=G;for(q=0;q<j;++q)Q=oe+(G=h[m+q])-Q,oe=v[I+q]+(-256&Q?0>Q?0:255:Q)&255,Q=G,O[L+q]=oe}}function rr(h,m,v,I){var O=m.width,L=m.o;if(e(null!=h&&null!=m),0>v||0>=I||v+I>L)return null;if(!h.Cc){if(null==h.ga){var j;if(h.ga=new Lt,(j=null==h.ga)||(j=m.width*m.o,e(0==h.Gb.length),h.Gb=o(j),h.Uc=0,null==h.Gb?j=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,j=1),j=!j),!j){var q=h.Fa,G=h.P,Q=h.qc,oe=h.mb,ve=h.nb,Y=G+1,ae=Q-1,he=(j=h.ga).l;if(e(null!=q&&null!=oe&&null!=m),dd[0]=null,dd[1]=Ft,dd[2]=xn,dd[3]=vr,j.ca=oe,j.tb=ve,j.c=m.width,j.i=m.height,e(0<j.c&&0<j.i),1>=Q)m=0;else if(j.$a=3&q[G+0],j.Z=q[G+0]>>2&3,j.Lc=q[G+0]>>4&3,G=q[G+0]>>6&3,0>j.$a||1<j.$a||4<=j.Z||1<j.Lc||G)m=0;else if(he.put=xt,he.ac=$i,he.bc=pa,he.ma=j,he.width=m.width,he.height=m.height,he.Da=m.Da,he.v=m.v,he.va=m.va,he.j=m.j,he.o=m.o,j.$a)e:{e(1==j.$a),m=To();t:for(;;){if(null==m){m=0;break e}if(e(null!=j),j.mc=m,m.c=j.c,m.i=j.i,m.l=j.l,m.l.ma=j,m.l.width=j.c,m.l.height=j.i,m.a=0,Ce(m.m,q,Y,ae),!Bs(j.c,j.i,1,m,null)||(1==m.ab&&3==m.gc[0].hc&&Us(m.s)?(j.ic=1,q=m.c*m.i,m.Ta=null,m.Ua=0,m.V=o(q),m.Ba=0,null==m.V?(m.a=1,m=0):m=1):(j.ic=0,m=Rl(m,j.c)),!m))break t;m=1;break e}j.mc=null,m=0}else m=ae>=j.c*j.i;j=!m}if(j)return null;1!=h.ga.Lc?h.Ga=0:I=L-v}e(null!=h.ga),e(v+I<=L);e:{if(m=(q=h.ga).c,L=q.l.o,0==q.$a){if(Y=h.rc,ae=h.Vc,he=h.Fa,Q=h.mb,oe=h.nb+v*m,e((G=h.P+1+v*m)<=h.P+h.qc),0!=q.Z)for(e(null!=dd[q.Z]),j=0;j<I;++j)dd[q.Z](Y,ae,he,G,Q,oe,m),Y=Q,ae=oe,oe+=m,G+=m;else for(j=0;j<I;++j)r(Q,oe,he,G,m),Y=Q,ae=oe,oe+=m,G+=m;h.rc=Y,h.Vc=ae}else{if(e(null!=q.mc),m=v+I,e(null!=(j=q.mc)),e(m<=j.i),j.C>=m)m=1;else if(q.ic||so(),q.ic){q=j.V,Y=j.Ba;var xe=j.i,_e=(he=1,G=j.$/(ae=j.c),Q=j.$%ae,oe=j.m,ve=j.s,j.$),Re=ae*xe,Me=ae*m,qe=ve.wc,Ue=_e<Me?Di(ve,Q,G):null;e(_e<=Re),e(m<=xe),e(Us(ve));t:for(;;){for(;!oe.h&&_e<Me;){if(Q&qe||(Ue=Di(ve,Q,G)),e(null!=Ue),de(oe),256>(xe=tr(Ue.G[0],Ue.H[0],oe)))q[Y+_e]=xe,++_e,++Q>=ae&&(Q=0,++G<=m&&!(G%16)&&_s(j,G));else{if(!(280>xe)){he=0;break t}xe=Go(xe-256,oe);var St,ut=tr(Ue.G[4],Ue.H[4],oe);if(de(oe),!(_e>=(ut=qi(ae,ut=Go(ut,oe)))&&Re-_e>=xe)){he=0;break t}for(St=0;St<xe;++St)q[Y+_e+St]=q[Y+_e+St-ut];for(_e+=xe,Q+=xe;Q>=ae;)Q-=ae,++G<=m&&!(G%16)&&_s(j,G);_e<Me&&Q&qe&&(Ue=Di(ve,Q,G))}e(oe.h==ie(oe))}_s(j,G>m?m:G);break t}!he||oe.h&&_e<Re?(he=0,j.a=oe.h?5:3):j.$=_e,m=he}else m=Wo(j,j.V,j.Ba,j.c,j.i,m,Ml);if(!m){I=0;break e}}v+I>=L&&(h.Cc=1),I=1}if(!I)return null;if(h.Cc&&(null!=(I=h.ga)&&(I.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+v*O}function Qn(h,m,v,I,O,L){for(;0<O--;){var j,q=h,G=m+(v?1:0),Q=h,oe=m+(v?0:3);for(j=0;j<I;++j){var ve=Q[oe+4*j];255!=ve&&(q[G+4*j+0]=q[G+4*j+0]*(ve*=32897)>>23,q[G+4*j+1]=q[G+4*j+1]*ve>>23,q[G+4*j+2]=q[G+4*j+2]*ve>>23)}m+=L}}function Yr(h,m,v,I,O){for(;0<I--;){var L;for(L=0;L<v;++L){var j=h[m+2*L+0],q=15&(Q=h[m+2*L+1]),G=4369*q,Q=(240&Q|Q>>4)*G>>16;h[m+2*L+0]=(240&j|j>>4)*G>>16&240|(15&j|j<<4)*G>>16>>4&15,h[m+2*L+1]=240&Q|q}m+=O}}function jr(h,m,v,I,O,L,j,q){var G,Q,oe=255;for(Q=0;Q<O;++Q){for(G=0;G<I;++G){var ve=h[m+G];L[j+4*G]=ve,oe&=ve}m+=v,j+=q}return 255!=oe}function wi(h,m,v,I,O){var L;for(L=0;L<O;++L)v[I+L]=h[m+L]>>8}function so(){iy=Qn,Aq=Yr,Cq=jr,Tq=wi}function ir(h,m,v){S[h]=function(I,O,L,j,q,G,Q,oe,ve,Y,ae,he,xe,_e,Re,Me,qe){var Ue,St=qe-1>>1,ut=q[G+0]|Q[oe+0]<<16,ln=ve[Y+0]|ae[he+0]<<16;e(null!=I);var mt=3*ut+ln+131074>>2;for(m(I[O+0],255&mt,mt>>16,xe,_e),null!=L&&m(L[j+0],255&(mt=3*ln+ut+131074>>2),mt>>16,Re,Me),Ue=1;Ue<=St;++Ue){var In=q[G+Ue]|Q[oe+Ue]<<16,Pi=ve[Y+Ue]|ae[he+Ue]<<16,un=ut+In+ln+Pi+524296,_t=un+2*(In+ln)>>3;mt=_t+ut>>1,ut=(un=un+2*(ut+Pi)>>3)+In>>1,m(I[O+2*Ue-1],255&mt,mt>>16,xe,_e+(2*Ue-1)*v),m(I[O+2*Ue-0],255&ut,ut>>16,xe,_e+(2*Ue-0)*v),null!=L&&(ut=_t+Pi>>1,m(L[j+2*Ue-1],255&(mt=un+ln>>1),mt>>16,Re,Me+(2*Ue-1)*v),m(L[j+2*Ue+0],255&ut,ut>>16,Re,Me+(2*Ue+0)*v)),ut=In,ln=Pi}1&qe||(m(I[O+qe-1],255&(mt=3*ut+ln+131074>>2),mt>>16,xe,_e+(qe-1)*v),null!=L&&m(L[j+qe-1],255&(mt=3*ln+ut+131074>>2),mt>>16,Re,Me+(qe-1)*v))}}function Uh(){Aa[tw]=h2e,Aa[nw]=Fq,Aa[Rq]=f2e,Aa[rw]=Vq,Aa[iw]=Uq,Aa[oN]=Bq,Aa[Mq]=p2e,Aa[sN]=Fq,Aa[aN]=Vq,Aa[ow]=Uq,Aa[lN]=Bq}function $u(h){return h&~g2e?0>h?0:255:h>>jq}function ws(h,m){return $u((19077*h>>8)+(26149*m>>8)-14234)}function f(h,m,v){return $u((19077*h>>8)-(6419*m>>8)-(13320*v>>8)+8708)}function y(h,m){return $u((19077*h>>8)+(33050*m>>8)-17685)}function T(h,m,v,I,O){I[O+0]=ws(h,v),I[O+1]=f(h,m,v),I[O+2]=y(h,m)}function $(h,m,v,I,O){I[O+0]=y(h,m),I[O+1]=f(h,m,v),I[O+2]=ws(h,v)}function ue(h,m,v,I,O){var L=f(h,m,v);m=L<<3&224|y(h,m)>>3,I[O+0]=248&ws(h,v)|L>>5,I[O+1]=m}function be(h,m,v,I,O){var L=240&y(h,m)|15;I[O+0]=240&ws(h,v)|f(h,m,v)>>4,I[O+1]=L}function We(h,m,v,I,O){I[O+0]=255,T(h,m,v,I,O+1)}function Nn(h,m,v,I,O){$(h,m,v,I,O),I[O+3]=255}function zr(h,m,v,I,O){T(h,m,v,I,O),I[O+3]=255}function Pt(h,m){return 0>h?0:h>m?m:h}function yr(h,m,v){S[h]=function(I,O,L,j,q,G,Q,oe,ve){for(var Y=oe+(-2&ve)*v;oe!=Y;)m(I[O+0],L[j+0],q[G+0],Q,oe),m(I[O+1],L[j+0],q[G+0],Q,oe+v),O+=2,++j,++G,oe+=2*v;1&ve&&m(I[O+0],L[j+0],q[G+0],Q,oe)}}function $r(h,m,v){return 0==v?0==h?0==m?6:5:0==m?4:0:v}function Wa(h,m,v,I,O){switch(h>>>30){case 3:zh(m,v,I,O,0);break;case 2:Ia(m,v,I,O);break;case 1:zn(m,v,I,O)}}function Lr(h,m){var v,I,O=m.M,L=m.Nb,j=h.oc,q=h.pc+40,G=h.oc,Q=h.pc+584,oe=h.oc,ve=h.pc+600;for(v=0;16>v;++v)j[q+32*v-1]=129;for(v=0;8>v;++v)G[Q+32*v-1]=129,oe[ve+32*v-1]=129;for(0<O?j[q-1-32]=G[Q-1-32]=oe[ve-1-32]=129:(i(j,q-32-1,127,21),i(G,Q-32-1,127,9),i(oe,ve-32-1,127,9)),I=0;I<h.za;++I){var Y=m.ya[m.aa+I];if(0<I){for(v=-1;16>v;++v)r(j,q+32*v-4,j,q+32*v+12,4);for(v=-1;8>v;++v)r(G,Q+32*v-4,G,Q+32*v+4,4),r(oe,ve+32*v-4,oe,ve+32*v+4,4)}var ae=h.Gd,he=h.Hd+I,xe=Y.ad,_e=Y.Hc;if(0<O&&(r(j,q-32,ae[he].y,0,16),r(G,Q-32,ae[he].f,0,8),r(oe,ve-32,ae[he].ea,0,8)),Y.Za){var Re=j,Me=q-32+16;for(0<O&&(I>=h.za-1?i(Re,Me,ae[he].y[15],4):r(Re,Me,ae[he+1].y,0,4)),v=0;4>v;v++)Re[Me+128+v]=Re[Me+256+v]=Re[Me+384+v]=Re[Me+0+v];for(v=0;16>v;++v,_e<<=2)Ka[Y.Ob[v]](Re=j,Me=q+$q[v]),Wa(_e,xe,16*+v,Re,Me)}else if(Re=$r(I,O,Y.Ob[0]),cd[Re](j,q),0!=_e)for(v=0;16>v;++v,_e<<=2)Wa(_e,xe,16*+v,j,q+$q[v]);for(v=Y.Gc,Re=$r(I,O,Y.Dd),Wu[Re](G,Q),Wu[Re](oe,ve),_e=xe,Re=G,Me=Q,255&(Y=0|v)&&(170&Y?$l(_e,256,Re,Me):ur(_e,256,Re,Me)),Y=oe,_e=ve,255&(v>>=8)&&(170&v?$l(xe,320,Y,_e):ur(xe,320,Y,_e)),O<h.Ub-1&&(r(ae[he].y,0,j,q+480,16),r(ae[he].f,0,G,Q+224,8),r(ae[he].ea,0,oe,ve+224,8)),ae=h.sa,he=h.ta+16*I+16*L*h.R,xe=h.qa,Y=h.ra+8*I+(v=8*L*h.B),_e=h.Ha,Re=h.Ia+8*I+v,v=0;16>v;++v)r(ae,he+v*h.R,j,q+32*v,16);for(v=0;8>v;++v)r(xe,Y+v*h.B,G,Q+32*v,8),r(_e,Re+v*h.B,oe,ve+32*v,8)}}function wa(h,m,v,I,O,L,j,q,G){var Q=[0],oe=[0],ve=0,Y=null!=G?G.kd:0,ae=G??new Ne;if(null==h||12>v)return 7;ae.data=h,ae.w=m,ae.ha=v,m=[m],v=[v],ae.gb=[ae.gb];e:{var he=m,xe=v,_e=ae.gb;if(e(null!=h),e(null!=xe),e(null!=_e),_e[0]=0,12<=xe[0]&&!t(h,he[0],"RIFF")){if(t(h,he[0]+8,"WEBP")){_e=3;break e}var Re=Te(h,he[0]+4);if(12>Re||4294967286<Re){_e=3;break e}if(Y&&Re>xe[0]-8){_e=7;break e}_e[0]=Re,he[0]+=12,xe[0]-=12}_e=0}if(0!=_e)return _e;for(Re=0<ae.gb[0],v=v[0];;){e:{var Me=h;xe=m,_e=v;var qe=Q,Ue=oe,St=he=[0];if((mt=ve=[ve])[0]=0,8>_e[0])_e=7;else{if(!t(Me,xe[0],"VP8X")){if(10!=Te(Me,xe[0]+4)){_e=3;break e}if(18>_e[0]){_e=7;break e}var ut=Te(Me,xe[0]+8),ln=1+Ke(Me,xe[0]+12);if(2147483648<=ln*(Me=1+Ke(Me,xe[0]+15))){_e=3;break e}null!=St&&(St[0]=ut),null!=qe&&(qe[0]=ln),null!=Ue&&(Ue[0]=Me),xe[0]+=18,_e[0]-=18,mt[0]=1}_e=0}}if(ve=ve[0],0!=_e)return _e;if(xe=!!(2&(he=he[0])),!Re&&ve)return 3;if(null!=L&&(L[0]=!!(16&he)),null!=j&&(j[0]=xe),null!=q&&(q[0]=0),j=Q[0],he=oe[0],ve&&xe&&null==G){_e=0;break}if(4>v){_e=7;break}if(Re&&ve||!Re&&!ve&&!t(h,m[0],"ALPH")){v=[v],ae.na=[ae.na],ae.P=[ae.P],ae.Sa=[ae.Sa];e:{_e=m,Re=v;var mt=ae.gb;qe=ae.na,Ue=ae.P,St=ae.Sa,ln=22,e(null!=(ut=h)),e(null!=Re),Me=_e[0];var In=Re[0];for(e(null!=qe),e(null!=St),qe[0]=null,Ue[0]=null,St[0]=0;;){if(_e[0]=Me,Re[0]=In,8>In){_e=7;break e}var Pi=Te(ut,Me+4);if(4294967286<Pi){_e=3;break e}var un=8+Pi+1&-2;if(ln+=un,0<mt&&ln>mt){_e=3;break e}if(!t(ut,Me,"VP8 ")||!t(ut,Me,"VP8L")){_e=0;break e}if(In[0]<un){_e=7;break e}t(ut,Me,"ALPH")||(qe[0]=ut,Ue[0]=Me+8,St[0]=Pi),Me+=un,In-=un}}if(v=v[0],ae.na=ae.na[0],ae.P=ae.P[0],ae.Sa=ae.Sa[0],0!=_e)break}v=[v],ae.Ja=[ae.Ja],ae.xa=[ae.xa];e:if(mt=h,_e=m,Re=v,qe=ae.gb[0],Ue=ae.Ja,St=ae.xa,ut=_e[0],Me=!t(mt,ut,"VP8 "),ln=!t(mt,ut,"VP8L"),e(null!=mt),e(null!=Re),e(null!=Ue),e(null!=St),8>Re[0])_e=7;else{if(Me||ln){if(mt=Te(mt,ut+4),12<=qe&&mt>qe-12){_e=3;break e}if(Y&&mt>Re[0]-8){_e=7;break e}Ue[0]=mt,_e[0]+=8,Re[0]-=8,St[0]=ln}else St[0]=5<=Re[0]&&47==mt[ut+0]&&!(mt[ut+4]>>5),Ue[0]=Re[0];_e=0}if(v=v[0],ae.Ja=ae.Ja[0],ae.xa=ae.xa[0],m=m[0],0!=_e)break;if(4294967286<ae.Ja)return 3;if(null==q||xe||(q[0]=ae.xa?2:1),j=[j],he=[he],ae.xa){if(5>v){_e=7;break}q=j,Y=he,xe=L,null==h||5>v?h=0:5<=v&&47==h[m+0]&&!(h[m+4]>>5)?(Re=[0],mt=[0],qe=[0],Ce(Ue=new W,h,m,v),Tr(Ue,Re,mt,qe)?(null!=q&&(q[0]=Re[0]),null!=Y&&(Y[0]=mt[0]),null!=xe&&(xe[0]=qe[0]),h=1):h=0):h=0}else{if(10>v){_e=7;break}q=he,null==h||10>v||!kh(h,m+3,v-3)?h=0:(Y=h[m+0]|h[m+1]<<8|h[m+2]<<16,xe=16383&(h[m+7]<<8|h[m+6]),h=16383&(h[m+9]<<8|h[m+8]),1&Y||3<(Y>>1&7)||!(Y>>4&1)||Y>>5>=ae.Ja||!xe||!h?h=0:(j&&(j[0]=xe),q&&(q[0]=h),h=1))}if(!h||(j=j[0],he=he[0],ve&&(Q[0]!=j||oe[0]!=he)))return 3;null!=G&&(G[0]=ae,G.offset=m-G.w,e(4294967286>m-G.w),e(G.offset==G.ha-v));break}return 0==_e||7==_e&&ve&&null==G?(null!=L&&(L[0]|=null!=ae.na&&0<ae.na.length),null!=I&&(I[0]=j),null!=O&&(O[0]=he),0):_e}function qu(h,m,v){var I=m.width,O=m.height,L=0,j=0,q=I,G=O;if(m.Da=null!=h&&0<h.Da,m.Da&&(q=h.cd,G=h.bd,L=h.v,j=h.j,11>v||(L&=-2,j&=-2),0>L||0>j||0>=q||0>=G||L+q>I||j+G>O))return 0;if(m.v=L,m.j=j,m.va=L+q,m.o=j+G,m.U=q,m.T=G,m.da=null!=h&&0<h.da,m.da){if(!Dt(q,G,v=[h.ib],L=[h.hb]))return 0;m.ib=v[0],m.hb=L[0]}return m.ob=null!=h&&h.ob,m.Kb=null==h||!h.Sd,m.da&&(m.ob=m.ib<3*I/4&&m.hb<3*O/4,m.Kb=0),1}function Zv(h){if(null==h)return 2;if(11>h.S){var m=h.f.RGBA;m.fb+=(h.height-1)*m.A,m.A=-m.A}else(m=h.f.kb).O+=((h=h.height)-1)*m.fa,m.fa=-m.fa,m.N+=(h-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(h-1>>1)*m.Db,m.Db=-m.Db,null!=m.F&&(m.J+=(h-1)*m.lb,m.lb=-m.lb);return 0}function rd(h,m,v,I){if(null==I||0>=h||0>=m)return 2;if(null!=v){if(v.Da){var O=v.cd,L=v.bd,j=-2&v.v,q=-2&v.j;if(0>j||0>q||0>=O||0>=L||j+O>h||q+L>m)return 2;h=O,m=L}if(v.da){if(!Dt(h,m,O=[v.ib],L=[v.hb]))return 2;h=O[0],m=L[0]}}I.width=h,I.height=m;e:{var G=I.width,Q=I.height;if(h=I.S,0>=G||0>=Q||!(h>=tw&&13>h))h=2;else{if(0>=I.Rd&&null==I.sd){j=L=O=m=0;var oe=(q=G*qq[h])*Q;if(11>h||(L=(Q+1)/2*(m=(G+1)/2),12==h&&(j=(O=G)*Q)),null==(Q=o(oe+2*L+j))){h=1;break e}I.sd=Q,11>h?((G=I.f.RGBA).eb=Q,G.fb=0,G.A=q,G.size=oe):((G=I.f.kb).y=Q,G.O=0,G.fa=q,G.Fd=oe,G.f=Q,G.N=0+oe,G.Ab=m,G.Cd=L,G.ea=Q,G.W=0+oe+L,G.Db=m,G.Ed=L,12==h&&(G.F=Q,G.J=0+oe+2*L),G.Tc=j,G.lb=O)}if(m=1,L=I.width,j=I.height,(O=I.S)>=tw&&13>O)if(11>O)h=I.f.RGBA,m&=(q=Math.abs(h.A))*(j-1)+L<=h.size,m&=q>=L*qq[O],m&=null!=h.eb;else{h=I.f.kb,q=(L+1)/2,oe=(j+1)/2,G=Math.abs(h.fa),Q=Math.abs(h.Ab);var ve=Math.abs(h.Db),Y=Math.abs(h.lb);m&=G*(j-1)+L<=h.Fd,m&=Q*(oe-1)+q<=h.Cd,m=(m&=ve*(oe-1)+q<=h.Ed)&G>=L&Q>=q&ve>=q,m&=null!=h.y,m&=null!=h.f,m&=null!=h.ea,12==O&&(m&=Y>=L,m&=Y*(j-1)+L<=h.Tc,m&=null!=h.F)}else m=0;h=m?0:2}}return 0!=h||null!=v&&v.fd&&(h=Zv(I)),h}var Bh=64,qs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Gs=24,id=32,Gu=8,od=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Je("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(h){return h},S.Predictor2=function(h,m,v){return m[v+0]},S.Predictor3=function(h,m,v){return m[v+1]},S.Predictor4=function(h,m,v){return m[v-1]},S.Predictor5=function(h,m,v){return Et(Et(h,m[v+1]),m[v+0])},S.Predictor6=function(h,m,v){return Et(h,m[v-1])},S.Predictor7=function(h,m,v){return Et(h,m[v+0])},S.Predictor8=function(h,m,v){return Et(m[v-1],m[v+0])},S.Predictor9=function(h,m,v){return Et(m[v+0],m[v+1])},S.Predictor10=function(h,m,v){return Et(Et(h,m[v-1]),Et(m[v+0],m[v+1]))},S.Predictor11=function(h,m,v){var I=m[v+0];return 0>=Ot(I>>24&255,h>>24&255,(m=m[v-1])>>24&255)+Ot(I>>16&255,h>>16&255,m>>16&255)+Ot(I>>8&255,h>>8&255,m>>8&255)+Ot(255&I,255&h,255&m)?I:h},S.Predictor12=function(h,m,v){var I=m[v+0];return(an((h>>24&255)+(I>>24&255)-((m=m[v-1])>>24&255))<<24|an((h>>16&255)+(I>>16&255)-(m>>16&255))<<16|an((h>>8&255)+(I>>8&255)-(m>>8&255))<<8|an((255&h)+(255&I)-(255&m)))>>>0},S.Predictor13=function(h,m,v){var I=m[v-1];return(Nt((h=Et(h,m[v+0]))>>24&255,I>>24&255)<<24|Nt(h>>16&255,I>>16&255)<<16|Nt(h>>8&255,I>>8&255)<<8|Nt(255&h,255&I))>>>0};var Jv=S.PredictorAdd0;S.PredictorAdd1=Kt,Je("Predictor2","PredictorAdd2"),Je("Predictor3","PredictorAdd3"),Je("Predictor4","PredictorAdd4"),Je("Predictor5","PredictorAdd5"),Je("Predictor6","PredictorAdd6"),Je("Predictor7","PredictorAdd7"),Je("Predictor8","PredictorAdd8"),Je("Predictor9","PredictorAdd9"),Je("Predictor10","PredictorAdd10"),Je("Predictor11","PredictorAdd11"),Je("Predictor12","PredictorAdd12"),Je("Predictor13","PredictorAdd13");var Tg=S.PredictorAdd2;bt("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),bt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var di,J2=S.ColorIndexInverseTransform,jl=S.MapARGB,zl=S.VP8LColorIndexInverseTransformAlpha,Xv=S.MapAlpha,ey=S.VP8LPredictorsAdd=[];ey.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var ty,ny,sd,ad,ld,jh,ud,zh,Ia,$l,zn,ur,hi,xi,Hu,ry,Sg,X2,vq,yq,bq,wq,Iq,Eq,iy,Aq,Cq,Tq,Sq=o(511),Dq=o(2041),xq=o(225),Pq=o(767),Nq=0,iN=Dq,ew=xq,Hs=Pq,Ea=Sq,tw=0,nw=1,Rq=2,rw=3,iw=4,oN=5,Mq=6,sN=7,aN=8,ow=9,lN=10,Jbe=[2,3,7],Xbe=[3,3,11],kq=[280,256,256,256,40],e2e=[0,1,1,1,0],t2e=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],n2e=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],r2e=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],i2e=8,uN=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],cN=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],oy=null,o2e=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],s2e=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Oq=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],a2e=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],l2e=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],u2e=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],c2e=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],cd=[],Ka=[],Wu=[],d2e=1,Lq=2,dd=[],Aa=[];ir("UpsampleRgbLinePair",T,3),ir("UpsampleBgrLinePair",$,3),ir("UpsampleRgbaLinePair",zr,4),ir("UpsampleBgraLinePair",Nn,4),ir("UpsampleArgbLinePair",We,4),ir("UpsampleRgba4444LinePair",be,2),ir("UpsampleRgb565LinePair",ue,2);var h2e=S.UpsampleRgbLinePair,f2e=S.UpsampleBgrLinePair,Fq=S.UpsampleRgbaLinePair,Vq=S.UpsampleBgraLinePair,Uq=S.UpsampleArgbLinePair,Bq=S.UpsampleRgba4444LinePair,p2e=S.UpsampleRgb565LinePair,sw=16,aw=1<<sw-1,sy=-227,dN=482,jq=6,g2e=(256<<jq)-1,zq=0,m2e=o(256),_2e=o(256),v2e=o(256),y2e=o(256),b2e=o(dN-sy),w2e=o(dN-sy);yr("YuvToRgbRow",T,3),yr("YuvToBgrRow",$,3),yr("YuvToRgbaRow",zr,4),yr("YuvToBgraRow",Nn,4),yr("YuvToArgbRow",We,4),yr("YuvToRgba4444Row",be,2),yr("YuvToRgb565Row",ue,2);var $q=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],lw=[0,2,8],I2e=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(h,m,v,I,O){var L=nw,j=new ce,q=new wn;j.ba=q,q.S=L,q.width=[q.width],q.height=[q.height];var G=q.width,Q=q.height,oe=new Mt;if(null==oe||null==h)var ve=2;else e(null!=oe),ve=wa(h,m,v,oe.width,oe.height,oe.Pd,oe.Qd,oe.format,null);if(0!=ve?G=0:(null!=G&&(G[0]=oe.width[0]),null!=Q&&(Q[0]=oe.height[0]),G=1),G){q.width=q.width[0],q.height=q.height[0],null!=I&&(I[0]=q.width),null!=O&&(O[0]=q.height);e:{if(I=new Mu,(O=new Ne).data=h,O.w=m,O.ha=v,O.kd=1,m=[0],e(null!=O),(0==(h=wa(O.data,O.w,O.ha,null,null,null,m,null,O))||7==h)&&m[0]&&(h=4),0==(m=h)){if(e(null!=j),I.data=O.data,I.w=O.w+O.offset,I.ha=O.ha-O.offset,I.put=xt,I.ac=$i,I.bc=pa,I.ma=j,O.xa){if(null==(h=To())){j=1;break e}if(function(Y,ae){var he=[0],xe=[0],_e=[0];t:for(;;){if(null==Y)return 0;if(null==ae)return Y.a=2,0;if(Y.l=ae,Y.a=0,Ce(Y.m,ae.data,ae.w,ae.ha),!Tr(Y.m,he,xe,_e)){Y.a=3;break t}if(Y.xb=Lq,ae.width=he[0],ae.height=xe[0],!Bs(he[0],xe[0],1,Y,null))break t;return 1}return e(0!=Y.a),0}(h,I)){if(I=0==(m=rd(I.width,I.height,j.Oa,j.ba))){t:{I=h;n:for(;;){if(null==I){I=0;break t}if(e(null!=I.s.yc),e(null!=I.s.Ya),e(0<I.s.Wb),e(null!=(v=I.l)),e(null!=(O=v.ma)),0!=I.xb){if(I.ca=O.ba,I.tb=O.tb,e(null!=I.ca),!qu(O.Oa,v,rw)){I.a=2;break n}if(!Rl(I,v.width)||v.da)break n;if((v.da||wt(I.ca.S))&&so(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=I.ca.f.kb.F&&so()),I.Pb&&0<I.s.ua&&null==I.s.vb.X&&!J(I.s.vb,I.s.Wa.Xa)){I.a=1;break n}I.xb=0}if(!Wo(I,I.V,I.Ba,I.c,I.i,v.o,Nl))break n;O.Dc=I.Ma,I=1;break t}e(0!=I.a),I=0}I=!I}I&&(m=h.a)}else m=h.a}else{if(null==(h=new Mh)){j=1;break e}if(h.Fa=O.na,h.P=O.P,h.qc=O.Sa,Oh(h,I)){if(0==(m=rd(I.width,I.height,j.Oa,j.ba))){if(h.Aa=0,v=j.Oa,e(null!=(O=h)),null!=v){if(0<(G=0>(G=v.Md)?0:100<G?255:255*G/100)){for(Q=oe=0;4>Q;++Q)12>(ve=O.pb[Q]).lc&&(ve.ia=G*I2e[0>ve.lc?0:ve.lc]>>3),oe|=ve.ia;oe&&(alert("todo:VP8InitRandom"),O.ia=1)}O.Ga=v.Id,100<O.Ga?O.Ga=100:0>O.Ga&&(O.Ga=0)}(function(Y,ae){if(null==Y)return 0;if(null==ae)return Or(Y,2,"NULL VP8Io parameter in VP8Decode().");if(!Y.cb&&!Oh(Y,ae))return 0;if(e(Y.cb),null==ae.ac||ae.ac(ae)){ae.ob&&(Y.L=0);var he=lw[Y.L];if(2==Y.L?(Y.yb=0,Y.zb=0):(Y.yb=ae.v-he>>4,Y.zb=ae.j-he>>4,0>Y.yb&&(Y.yb=0),0>Y.zb&&(Y.zb=0)),Y.Va=ae.o+15+he>>4,Y.Hb=ae.va+15+he>>4,Y.Hb>Y.za&&(Y.Hb=Y.za),Y.Va>Y.Ub&&(Y.Va=Y.Ub),0<Y.L){var xe=Y.ed;for(he=0;4>he;++he){var _e;if(Y.Qa.Cb){var Re=Y.Qa.Lb[he];Y.Qa.Fb||(Re+=xe.Tb)}else Re=xe.Tb;for(_e=0;1>=_e;++_e){var Me=Y.gd[he][_e],qe=Re;if(xe.Pc&&(qe+=xe.vd[0],_e&&(qe+=xe.od[0])),0<(qe=0>qe?0:63<qe?63:qe)){var Ue=qe;0<xe.wb&&(Ue=4<xe.wb?Ue>>2:Ue>>1)>9-xe.wb&&(Ue=9-xe.wb),1>Ue&&(Ue=1),Me.dd=Ue,Me.tc=2*qe+Ue,Me.ld=40<=qe?2:15<=qe?1:0}else Me.tc=0;Me.La=_e}}}he=0}else Or(Y,6,"Frame setup failed"),he=Y.a;if(he=0==he){if(he){Y.$c=0,0<Y.Aa||(Y.Ic=1);t:{xe=4*(Ue=Y.za);var St=32*Ue,ut=Ue+1,ln=0<Y.L?Ue*(0<Y.Aa?2:1):0,mt=(2==Y.Aa?2:1)*Ue;if((Me=xe+832+(_e=3*(16*(he=Y.Ic)+lw[Y.L])/2*St)+(Re=null!=Y.Fa&&0<Y.Fa.length?Y.Kc.c*Y.Kc.i:0))!=Me)he=0;else{if(Me>Y.Vb){if(Y.Vb=0,Y.Ec=o(Me),Y.Fc=0,null==Y.Ec){he=Or(Y,1,"no memory during frame initialization.");break t}Y.Vb=Me}qe=Y.Fc,Y.Ac=Me=Y.Ec,Y.Bc=qe,qe+=xe,Y.Gd=s(St,Nh),Y.Hd=0,Y.rb=s(ut+1,ja),Y.sb=1,Y.wa=ln?s(ln,So):null,Y.Y=0,Y.D.Nb=0,Y.D.wa=Y.wa,Y.D.Y=Y.Y,0<Y.Aa&&(Y.D.Y+=Ue),e(!0),Y.oc=Me,Y.pc=qe,qe+=832,Y.ya=s(mt,Ru),Y.aa=0,Y.D.ya=Y.ya,Y.D.aa=Y.aa,2==Y.Aa&&(Y.D.aa+=Ue),Y.R=16*Ue,Y.B=8*Ue,Ue=(St=lw[Y.L])*Y.R,St=St/2*Y.B,Y.sa=Me,Y.ta=qe+Ue,Y.qa=Y.sa,Y.ra=Y.ta+16*he*Y.R+St,Y.Ha=Y.qa,Y.Ia=Y.ra+8*he*Y.B+St,Y.$c=0,qe+=_e,Y.mb=Re?Me:null,Y.nb=Re?qe:null,e(qe+Re<=Y.Fc+Y.Vb),ku(Y),i(Y.Ac,Y.Bc,0,xe),he=1}}if(he){if(ae.ka=0,ae.y=Y.sa,ae.O=Y.ta,ae.f=Y.qa,ae.N=Y.ra,ae.ea=Y.Ha,ae.Vd=Y.Ia,ae.fa=Y.R,ae.Rc=Y.B,ae.F=null,ae.J=0,!Nq){for(he=-255;255>=he;++he)Sq[255+he]=0>he?-he:he;for(he=-1020;1020>=he;++he)Dq[1020+he]=-128>he?-128:127<he?127:he;for(he=-112;112>=he;++he)xq[112+he]=-16>he?-16:15<he?15:he;for(he=-255;510>=he;++he)Pq[255+he]=0>he?0:255<he?255:he;Nq=1}ud=Ou,zh=Jc,$l=Xc,zn=$s,ur=jn,Ia=zs,hi=Bl,xi=Vh,Hu=_,ry=R,Sg=Ha,X2=zu,vq=K,yq=ne,bq=nd,wq=ya,Iq=Fh,Eq=bs,Ka[0]=Wv,Ka[1]=$a,Ka[2]=Ag,Ka[3]=Fl,Ka[4]=Kv,Ka[5]=Gi,Ka[6]=qa,Ka[7]=Qv,Ka[8]=ma,Ka[9]=Yv,cd[0]=Ll,cd[1]=Eg,cd[2]=Hv,cd[3]=Lh,cd[4]=Fu,cd[5]=Do,cd[6]=ed,Wu[0]=va,Wu[1]=Gv,Wu[2]=Vl,Wu[3]=Ul,Wu[4]=Vu,Wu[5]=Cg,Wu[6]=nr,he=1}else he=0}he&&(he=function(In,Pi){for(In.M=0;In.M<In.Va;++In.M){var un,_t=In.Jc[In.M&In.Xb],Xe=In.m,fi=In;for(un=0;un<fi.za;++un){var nn=Xe,Pn=fi,Sr=Pn.Ac,ao=Pn.Bc+4*un,Ko=Pn.zc,Zr=Pn.ya[Pn.aa+un];if(Zr.$b=Pn.Qa.Bb?Pe(nn,Pn.Pa.jb[0])?2+Pe(nn,Pn.Pa.jb[2]):Pe(nn,Pn.Pa.jb[1]):0,Pn.kc&&(Zr.Ad=Pe(nn,Pn.Bd)),Zr.Za=!Pe(nn,145)+0,Zr.Za){var xo=Zr.Ob,Qo=0;for(Pn=0;4>Pn;++Pn){var Ni,Rn=Ko[0+Pn];for(Ni=0;4>Ni;++Ni){for(var Yn=Oq[Pe(nn,(Rn=l2e[Sr[ao+Ni]][Rn])[0])];0<Yn;)Yn=Oq[2*Yn+Pe(nn,Rn[Yn])];Sr[ao+Ni]=Rn=-Yn}r(xo,Qo,Sr,ao,4),Qo+=4,Ko[0+Pn]=Rn}}else Rn=Pe(nn,156)?Pe(nn,128)?1:3:Pe(nn,163)?2:0,Zr.Ob[0]=Rn,i(Sr,ao,Rn,4),i(Ko,0,Rn,4);Zr.Dd=Pe(nn,142)?Pe(nn,114)?Pe(nn,183)?1:3:2:0}if(fi.m.Ka)return Or(In,7,"Premature end-of-partition0 encountered.");for(;In.ja<In.za;++In.ja){if(fi=_t,nn=(Xe=In).rb[Xe.sb-1],Sr=Xe.rb[Xe.sb+Xe.ja],un=Xe.ya[Xe.aa+Xe.ja],ao=Xe.kc?un.Ad:0)nn.la=Sr.la=0,un.Za||(nn.Na=Sr.Na=0),un.Hc=0,un.Gc=0,un.ia=0;else{var Jr,Zn;if(nn=Sr,Sr=fi,ao=Xe.Pa.Xc,Zr=Xe.pb[(Ko=Xe.ya[Xe.aa+Xe.ja]).$b],Qo=Xe.rb[Xe.sb-1],Rn=Ni=0,i(Pn=Ko.ad,xo=0,0,384),Ko.Za)var lo=0,Qa=ao[3];else{Yn=o(16);var pi=nn.Na+Qo.Na;if(pi=oy(Sr,ao[1],pi,Zr.Eb,0,Yn,0),nn.Na=Qo.Na=(0<pi)+0,1<pi)ud(Yn,0,Pn,xo);else{var Is=Yn[0]+3>>3;for(Yn=0;256>Yn;Yn+=16)Pn[xo+Yn]=Is}lo=1,Qa=ao[0]}var cr=15&nn.la,Ri=15&Qo.la;for(Yn=0;4>Yn;++Yn){var Ws=1&Ri;for(Is=Zn=0;4>Is;++Is)cr=cr>>1|(Ws=(pi=oy(Sr,Qa,pi=Ws+(1&cr),Zr.Sc,lo,Pn,xo))>lo)<<7,Zn=Zn<<2|(3<pi?3:1<pi?2:0!=Pn[xo+0]),xo+=16;cr>>=4,Ri=Ri>>1|Ws<<7,Ni=(Ni<<8|Zn)>>>0}for(Qa=cr,lo=Ri>>4,Jr=0;4>Jr;Jr+=2){for(Zn=0,cr=nn.la>>4+Jr,Ri=Qo.la>>4+Jr,Yn=0;2>Yn;++Yn){for(Ws=1&Ri,Is=0;2>Is;++Is)cr=cr>>1|(Ws=0<(pi=oy(Sr,ao[2],pi=Ws+(1&cr),Zr.Qc,0,Pn,xo)))<<3,Zn=Zn<<2|(3<pi?3:1<pi?2:0!=Pn[xo+0]),xo+=16;cr>>=2,Ri=Ri>>1|Ws<<5}Rn|=Zn<<4*Jr,Qa|=cr<<4<<Jr,lo|=(240&Ri)<<Jr}nn.la=Qa,Qo.la=lo,Ko.Hc=Ni,Ko.Gc=Rn,Ko.ia=43690&Rn?0:Zr.ia,ao=!(Ni|Rn)}if(0<Xe.L&&(Xe.wa[Xe.Y+Xe.ja]=Xe.gd[un.$b][un.Za],Xe.wa[Xe.Y+Xe.ja].La|=!ao),fi.Ka)return Or(In,7,"Premature end-of-file encountered.")}if(ku(In),Xe=Pi,fi=1,un=(_t=In).D,nn=0<_t.L&&_t.M>=_t.zb&&_t.M<=_t.Va,0==_t.Aa)t:{if(un.M=_t.M,un.uc=nn,Lr(_t,un),fi=1,un=(Zn=_t.D).Nb,nn=(Rn=lw[_t.L])*_t.R,ao=_t.sa,Ko=_t.ta-nn+(Yn=16*un*_t.R),Zr=_t.qa,Pn=_t.ra-(Sr=Rn/2*_t.B)+(Is=8*un*_t.B),xo=_t.Ha,Qo=_t.Ia-Sr+Is,Ri=0==(cr=Zn.M),Ni=cr>=_t.Va-1,2==_t.Aa&&Lr(_t,Zn),Zn.uc)for(Ws=(pi=_t).D.M,e(pi.D.uc),Zn=pi.yb;Zn<pi.Hb;++Zn){Qa=Ws;var Yo=(Ks=(uo=pi).D).Nb,Ks=Ks.wa[Ks.Y+(lo=Zn)],Qs=uo.sa,Es=uo.ta+16*Yo*(Jr=uo.R)+16*lo,Ys=Ks.dd,br=Ks.tc;if(0!=br)if(e(3<=br),1==uo.L)0<lo&&wq(Qs,Es,Jr,br+4),Ks.La&&Eq(Qs,Es,Jr,br),0<Qa&&bq(Qs,Es,Jr,br+4),Ks.La&&Iq(Qs,Es,Jr,br);else{var Zs=uo.B,Ya=uo.qa,$h=uo.ra+8*Yo*Zs+8*lo,Ku=uo.Ha,uo=uo.Ia+8*Yo*Zs+8*lo;Yo=Ks.ld,0<lo&&(xi(Qs,Es,Jr,br+4,Ys,Yo),ry(Ya,$h,Ku,uo,Zs,br+4,Ys,Yo)),Ks.La&&(X2(Qs,Es,Jr,br,Ys,Yo),yq(Ya,$h,Ku,uo,Zs,br,Ys,Yo)),0<Qa&&(hi(Qs,Es,Jr,br+4,Ys,Yo),Hu(Ya,$h,Ku,uo,Zs,br+4,Ys,Yo)),Ks.La&&(Sg(Qs,Es,Jr,br,Ys,Yo),vq(Ya,$h,Ku,uo,Zs,br,Ys,Yo))}}if(_t.ia&&alert("todo:DitherRow"),null!=Xe.put){if(Zn=16*cr,cr=16*(cr+1),Ri?(Xe.y=_t.sa,Xe.O=_t.ta+Yn,Xe.f=_t.qa,Xe.N=_t.ra+Is,Xe.ea=_t.Ha,Xe.W=_t.Ia+Is):(Zn-=Rn,Xe.y=ao,Xe.O=Ko,Xe.f=Zr,Xe.N=Pn,Xe.ea=xo,Xe.W=Qo),Ni||(cr-=Rn),cr>Xe.o&&(cr=Xe.o),Xe.F=null,Xe.J=null,null!=_t.Fa&&0<_t.Fa.length&&Zn<cr&&(Xe.J=rr(_t,Xe,Zn,cr-Zn),Xe.F=_t.mb,null==Xe.F&&0==Xe.F.length)){fi=Or(_t,3,"Could not decode alpha data.");break t}Zn<Xe.j&&(Rn=Xe.j-Zn,Zn=Xe.j,e(!(1&Rn)),Xe.O+=_t.R*Rn,Xe.N+=_t.B*(Rn>>1),Xe.W+=_t.B*(Rn>>1),null!=Xe.F&&(Xe.J+=Xe.width*Rn)),Zn<cr&&(Xe.O+=Xe.v,Xe.N+=Xe.v>>1,Xe.W+=Xe.v>>1,null!=Xe.F&&(Xe.J+=Xe.v),Xe.ka=Zn-Xe.j,Xe.U=Xe.va-Xe.v,Xe.T=cr-Zn,fi=Xe.put(Xe))}un+1!=_t.Ic||Ni||(r(_t.sa,_t.ta-nn,ao,Ko+16*_t.R,nn),r(_t.qa,_t.ra-Sr,Zr,Pn+8*_t.B,Sr),r(_t.Ha,_t.Ia-Sr,xo,Qo+8*_t.B,Sr))}if(!fi)return Or(In,6,"Output aborted.")}return 1}(Y,ae)),null!=ae.bc&&ae.bc(ae),he&=1}return he?(Y.cb=0,he):0})(h,I)||(m=h.a)}}else m=h.a}0==m&&null!=j.Oa&&j.Oa.fd&&(m=Zv(j.ba))}j=m}L=0!=j?null:11>L?q.f.RGBA.eb:q.f.kb.y}else L=null;return L};var qq=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(S,V){for(var C="",x=0;x<4;x++)C+=String.fromCharCode(S[V++]);return C}function c(S,V){return S[V+0]|S[V+1]<<8}function d(S,V){return(S[V+0]|S[V+1]<<8|S[V+2]<<16)>>>0}function g(S,V){return(S[V+0]|S[V+1]<<8|S[V+2]<<16|S[V+3]<<24)>>>0}new l;var p=[0],b=[0],w=[],E=new l,A=n,M=function(S,V){var C={},x=0,P=!1,te=0,me=0;if(C.frames=[],!
/** @license
               * Copyright (c) 2017 Dominik Homberger
              Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
              The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
              THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
              https://webpjs.appspot.com
              WebPRiffParser dominikhlbg@gmail.com
              */
function(U,W){for(var ee=0;ee<4;ee++)if(U[W+ee]!="RIFF".charCodeAt(ee))return!0;return!1}(S,V)){for(g(S,V+=4),V+=8;V<S.length;){var Ae=u(S,V),Ee=g(S,V+=4);V+=4;var pe=Ee+(1&Ee);switch(Ae){case"VP8 ":case"VP8L":void 0===C.frames[x]&&(C.frames[x]={}),(Oe=C.frames[x]).src_off=P?me:V-8,Oe.src_size=te+Ee+8,x++,P&&(P=!1,te=0,me=0);break;case"VP8X":(Oe=C.header={}).feature_flags=S[V];var Ce=V+4;Oe.canvas_width=1+d(S,Ce),Oe.canvas_height=1+d(S,Ce+=3),Ce+=3;break;case"ALPH":P=!0,te=pe+8,me=V-8;break;case"ANIM":(Oe=C.header).bgcolor=g(S,V),Oe.loop_count=c(S,Ce=V+4),Ce+=2;break;case"ANMF":var Ge,Oe;(Oe=C.frames[x]={}).offset_x=2*d(S,V),Oe.offset_y=2*d(S,V+=3),Oe.width=1+d(S,V+=3),Oe.height=1+d(S,V+=3),Oe.duration=d(S,V+=3),V+=3,Ge=S[V++],Oe.dispose=1&Ge,Oe.blend=Ge>>1&1}"ANMF"!=Ae&&(V+=pe)}return C}}(A,0);M.response=A,M.rgbaoutput=!0,M.dataurl=!1;var B=M.header?M.header:null,F=M.frames?M.frames:null;if(B){B.loop_counter=B.loop_count,p=[B.canvas_height],b=[B.canvas_width];for(var X=0;X<F.length&&0!=F[X].blend;X++);}var se=F[0],z=E.WebPDecodeRGBA(A,se.src_off,se.src_size,b,p);se.rgba=z,se.imgwidth=b[0],se.imgheight=p[0];for(var D=0;D<b[0]*p[0]*4;D++)w[D]=z[D];return this.width=b,this.height=p,this.data=w,this}(function(n){var e,t,r,i,o,s,a,l,u,c=function(U){return this.isStrokeTransparent=(U=U||{}).isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=void 0!==U.transform?U.transform.clone():new l,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new s,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new s,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof U.ignoreClearRect||U.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var d=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=U;Object.defineProperty(this,"pdf",{get:function(){return W}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(Te){ee=!!Te}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(Te){ie=!!Te}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(Te){isNaN(Te)||(le=Te)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(Te){isNaN(Te)||(de=Te)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Te){var J;"number"==typeof Te?J=[Te,Te,Te,Te]:((J=new Array(4))[0]=Te[0],J[1]=Te.length>=2?Te[1]:J[0],J[2]=Te.length>=3?Te[2]:J[0],J[3]=Te.length>=4?Te[3]:J[1]),u.margin=J}});var ye=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ye},set:function(Te){ye=Te}});var Ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ie},set:function(Te){Ie=Te}});var Pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Pe},set:function(Te){Pe=Te}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Te){Te instanceof c&&(u=Te)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Te){u.path=Te}});var De=[];Object.defineProperty(this,"ctxStack",{get:function(){return De},set:function(Te){De=Te}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Te){var J;J=g(Te),this.ctx.fillStyle=J.style,this.ctx.isFillTransparent=0===J.a,this.ctx.fillOpacity=J.a,this.pdf.setFillColor(J.r,J.g,J.b,{a:J.a}),this.pdf.setTextColor(J.r,J.g,J.b,{a:J.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Te){var J=g(Te);this.ctx.strokeStyle=J.style,this.ctx.isStrokeTransparent=0===J.a,this.ctx.strokeOpacity=J.a,0===J.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(J.r,J.g,J.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Te){-1!==["butt","round","square"].indexOf(Te)&&(this.ctx.lineCap=Te,this.pdf.setLineCap(Te))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Te){isNaN(Te)||(this.ctx.lineWidth=Te,this.pdf.setLineWidth(Te))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Te){-1!==["bevel","round","miter"].indexOf(Te)&&(this.ctx.lineJoin=Te,this.pdf.setLineJoin(Te))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Te){isNaN(Te)||(this.ctx.miterLimit=Te,this.pdf.setMiterLimit(Te))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Te){this.ctx.textBaseline=Te}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Te){-1!==["right","end","center","left","start"].indexOf(Te)&&(this.ctx.textAlign=Te)}});var Qe=null,Ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ke},set:function(Te){Qe=null,Ke=Te}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Te){var J;if(this.ctx.font=Te,null!==(J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Te))){var sn=J[1],jt=J[3],Dt=J[4],$e=J[6],gt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Dt)[2];Dt=Math.floor("px"===gt?parseFloat(Dt)*this.pdf.internal.scaleFactor:"em"===gt?parseFloat(Dt)*this.pdf.getFontSize():parseFloat(Dt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Dt);var Je=function(Rt){var bt,Fn,dn=[],He=Rt.trim();if(""===He)return eN;if(He in q$)return[q$[He]];for(;""!==He;){switch(Fn=null,bt=(He=H$(He)).charAt(0)){case'"':case"'":Fn=o0e(He.substring(1),bt);break;default:Fn=s0e(He)}if(null===Fn||(dn.push(Fn[0]),""!==(He=H$(Fn[1]))&&","!==He.charAt(0)))return eN;He=He.replace(/^,/,"")}return dn}($e);if(this.fontFaces){var an=function(Rt,bt,Fn){for(var dn=(Fn=Fn||{}).defaultFontFamily||"times",He=Object.assign({},i0e,Fn.genericFontFamilies||{}),Ct=null,Qt=null,Tt=0;Tt<bt.length;++Tt)if(He[(Ct=XP(bt[Tt])).family]&&(Ct.family=He[Ct.family]),Rt.hasOwnProperty(Ct.family)){Qt=Rt[Ct.family];break}if(!(Qt=Qt||Rt[dn]))throw new Error("Could not find a font-family for the rule '"+G$(Ct)+"' and default family '"+dn+"'.");if(Qt=function(tn,wt){if(wt[tn])return wt[tn];var Bn=JP[tn],wn=$$(wt,j$,Bn,Bn<=JP.normal?-1:1);if(!wn)throw new Error("Could not find a matching font-stretch value for "+tn);return wn}(Ct.stretch,Qt),Qt=function(tn,wt){if(wt[tn])return wt[tn];for(var Bn=B$[tn],Cr=0;Cr<Bn.length;++Cr)if(wt[Bn[Cr]])return wt[Bn[Cr]];throw new Error("Could not find a matching font-style for "+tn)}(Ct.style,Qt),!(Qt=function(tn,wt){if(wt[tn])return wt[tn];if(400===tn&&wt[500])return wt[500];if(500===tn&&wt[400])return wt[400];var Cr=$$(wt,z$,r0e[tn],tn<400?-1:1);if(!Cr)throw new Error("Could not find a matching font-weight for value "+tn);return Cr}(Ct.weight,Qt)))throw new Error("Failed to resolve a font for the rule '"+G$(Ct)+"'.");return Qt}(function(Rt,bt){if(null===Qe){var Fn=(dn=Rt.getFontList(),He=[],Object.keys(dn).forEach(function(Ct){dn[Ct].forEach(function(Qt){var Tt=null;switch(Qt){case"bold":Tt={family:Ct,weight:"bold"};break;case"italic":Tt={family:Ct,style:"italic"};break;case"bolditalic":Tt={family:Ct,weight:"bold",style:"italic"};break;case"":case"normal":Tt={family:Ct}}null!==Tt&&(Tt.ref={name:Ct,style:Qt},He.push(Tt))})}),He);Qe=function(dn){for(var He={},Ct=0;Ct<dn.length;++Ct){var Qt=XP(dn[Ct]),Tt=Qt.family,tn=Qt.stretch,wt=Qt.style,Bn=Qt.weight;He[Tt]=He[Tt]||{},He[Tt][tn]=He[Tt][tn]||{},He[Tt][tn][wt]=He[Tt][tn][wt]||{},He[Tt][tn][wt][Bn]=Qt}return He}(Fn.concat(bt))}var dn,He;return Qe}(this.pdf,this.fontFaces),Je.map(function(Rt){return{family:Rt,stretch:"normal",weight:jt,style:sn}}));this.pdf.setFont(an.ref.name,an.ref.style)}else{var Nt="";("bold"===jt||parseInt(jt,10)>=700||"bold"===sn)&&(Nt="bold"),"italic"===sn&&(Nt+="italic"),0===Nt.length&&(Nt="normal");for(var Ot="",Kt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},yt=0;yt<Je.length;yt++){if(void 0!==this.pdf.internal.getFont(Je[yt],Nt,{noFallback:!0,disableWarning:!0})){Ot=Je[yt];break}if("bolditalic"===Nt&&void 0!==this.pdf.internal.getFont(Je[yt],"bold",{noFallback:!0,disableWarning:!0}))Ot=Je[yt],Nt="bold";else if(void 0!==this.pdf.internal.getFont(Je[yt],"normal",{noFallback:!0,disableWarning:!0})){Ot=Je[yt],Nt="normal";break}}if(""===Ot)for(var ft=0;ft<Je.length;ft++)if(Kt[Je[ft]]){Ot=Kt[Je[ft]];break}this.pdf.setFont(Ot=""===Ot?"Times":Ot,Nt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Te){this.ctx.globalCompositeOperation=Te}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Te){this.ctx.globalAlpha=Te}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Te){this.ctx.lineDashOffset=Te,Oe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Te){this.ctx.lineDash=Te,Oe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Te){this.ctx.ignoreClearRect=!!Te}})};d.prototype.setLineDash=function(U){this.lineDash=U},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){F.call(this,"fill",!1)},d.prototype.stroke=function(){F.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(U,W){if(isNaN(U)||isNaN(W))throw lr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new s(U,W));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new s(U,W)},d.prototype.closePath=function(){var U=new s(0,0),W=0;for(W=this.path.length-1;-1!==W;W--)if("begin"===this.path[W].type&&"object"===Wn(this.path[W+1])&&"number"==typeof this.path[W+1].x){U=new s(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(U.x,U.y)},d.prototype.lineTo=function(U,W){if(isNaN(U)||isNaN(W))throw lr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new s(U,W));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new s(ee.x,ee.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},d.prototype.quadraticCurveTo=function(U,W,ee,ie){if(isNaN(ee)||isNaN(ie)||isNaN(U)||isNaN(W))throw lr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new s(ee,ie)),de=this.ctx.transform.applyToPoint(new s(U,W));this.path.push({type:"qct",x1:de.x,y1:de.y,x:le.x,y:le.y}),this.ctx.lastPoint=new s(le.x,le.y)},d.prototype.bezierCurveTo=function(U,W,ee,ie,le,de){if(isNaN(le)||isNaN(de)||isNaN(U)||isNaN(W)||isNaN(ee)||isNaN(ie))throw lr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ye=this.ctx.transform.applyToPoint(new s(le,de)),Ie=this.ctx.transform.applyToPoint(new s(U,W)),Pe=this.ctx.transform.applyToPoint(new s(ee,ie));this.path.push({type:"bct",x1:Ie.x,y1:Ie.y,x2:Pe.x,y2:Pe.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new s(ye.x,ye.y)},d.prototype.arc=function(U,W,ee,ie,le,de){if(isNaN(U)||isNaN(W)||isNaN(ee)||isNaN(ie)||isNaN(le))throw lr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var ye=this.ctx.transform.applyToPoint(new s(U,W));U=ye.x,W=ye.y;var Ie=this.ctx.transform.applyToPoint(new s(0,ee)),Pe=this.ctx.transform.applyToPoint(new s(0,0));ee=Math.sqrt(Math.pow(Ie.x-Pe.x,2)+Math.pow(Ie.y-Pe.y,2))}Math.abs(le-ie)>=2*Math.PI&&(ie=0,le=2*Math.PI),this.path.push({type:"arc",x:U,y:W,radius:ee,startAngle:ie,endAngle:le,counterclockwise:de})},d.prototype.arcTo=function(U,W,ee,ie,le){throw new Error("arcTo not implemented.")},d.prototype.rect=function(U,W,ee,ie){if(isNaN(U)||isNaN(W)||isNaN(ee)||isNaN(ie))throw lr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,W),this.lineTo(U+ee,W),this.lineTo(U+ee,W+ie),this.lineTo(U,W+ie),this.lineTo(U,W),this.lineTo(U+ee,W),this.lineTo(U,W)},d.prototype.fillRect=function(U,W,ee,ie){if(isNaN(U)||isNaN(W)||isNaN(ee)||isNaN(ie))throw lr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var le={};"butt"!==this.lineCap&&(le.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,W,ee,ie),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},d.prototype.strokeRect=function(U,W,ee,ie){if(isNaN(U)||isNaN(W)||isNaN(ee)||isNaN(ie))throw lr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(U,W,ee,ie),this.stroke())},d.prototype.clearRect=function(U,W,ee,ie){if(isNaN(U)||isNaN(W)||isNaN(ee)||isNaN(ie))throw lr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,W,ee,ie))},d.prototype.save=function(U){U="boolean"!=typeof U||U;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},d.prototype.restore=function(U){U="boolean"!=typeof U||U;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(W),U&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(U){var W,ee,ie,le;if(!0===U.isCanvasGradient&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))W=0,ee=0,ie=0,le=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(null!==de)W=parseInt(de[1]),ee=parseInt(de[2]),ie=parseInt(de[3]),le=1;else if(null!==(de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U)))W=parseInt(de[1]),ee=parseInt(de[2]),ie=parseInt(de[3]),le=parseFloat(de[4]);else{if(le=1,"string"==typeof U&&"#"!==U.charAt(0)){var ye=new D$(U);U=ye.ok?ye.toHex():"#000000"}4===U.length?(W=U.substring(1,2),W+=W,ee=U.substring(2,3),ee+=ee,ie=U.substring(3,4),ie+=ie):(W=U.substring(1,3),ee=U.substring(3,5),ie=U.substring(5,7)),W=parseInt(W,16),ee=parseInt(ee,16),ie=parseInt(ie,16)}}return{r:W,g:ee,b:ie,a:le,style:U}},p=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},b=function(){return!(!this.ctx.isStrokeTransparent&&0!=this.globalAlpha)};d.prototype.fillText=function(U,W,ee,ie){if(isNaN(W)||isNaN(ee)||"string"!=typeof U)throw lr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!p.call(this)){var le=pe(this.ctx.transform.rotation);x.call(this,{text:U,x:W,y:ee,scale:this.ctx.transform.scaleX,angle:le,align:this.textAlign,maxWidth:ie})}},d.prototype.strokeText=function(U,W,ee,ie){if(isNaN(W)||isNaN(ee)||"string"!=typeof U)throw lr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){ie=isNaN(ie)?void 0:ie;var le=pe(this.ctx.transform.rotation);x.call(this,{text:U,x:W,y:ee,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:ie})}},d.prototype.measureText=function(U){if("string"!=typeof U)throw lr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,ee=this.pdf.internal.scaleFactor,ie=W.internal.getFontSize(),le=W.getStringUnitWidth(U)*ie/W.internal.scaleFactor;return new function(de){var ye=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ye}}),this}({width:le*=Math.round(96*ee/72*1e4)/1e4})},d.prototype.scale=function(U,W){if(isNaN(U)||isNaN(W))throw lr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new l(U,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},d.prototype.rotate=function(U){if(isNaN(U))throw lr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new l(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},d.prototype.translate=function(U,W){if(isNaN(U)||isNaN(W))throw lr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new l(1,0,0,1,U,W);this.ctx.transform=this.ctx.transform.multiply(ee)},d.prototype.transform=function(U,W,ee,ie,le,de){if(isNaN(U)||isNaN(W)||isNaN(ee)||isNaN(ie)||isNaN(le)||isNaN(de))throw lr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ye=new l(U,W,ee,ie,le,de);this.ctx.transform=this.ctx.transform.multiply(ye)},d.prototype.setTransform=function(U,W,ee,ie,le,de){U=isNaN(U)?1:U,W=isNaN(W)?0:W,ee=isNaN(ee)?0:ee,ie=isNaN(ie)?1:ie,le=isNaN(le)?0:le,de=isNaN(de)?0:de,this.ctx.transform=new l(U,W,ee,ie,le,de)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(U,W,ee,ie,le,de,ye,Ie,Pe){var De=this.pdf.getImageProperties(U),Qe=1,Ke=1,Te=1,J=1;void 0!==ie&&void 0!==Ie&&(Te=Ie/ie,J=Pe/le,Qe=De.width/ie*Ie/ie,Ke=De.height/le*Pe/le),void 0===de&&(de=W,ye=ee,W=0,ee=0),void 0!==ie&&void 0===Ie&&(Ie=ie,Pe=le),void 0===ie&&void 0===Ie&&(Ie=De.width,Pe=De.height);for(var sn,jt=this.ctx.transform.decompose(),Dt=pe(jt.rotate.shx),$e=new l,gt=($e=($e=($e=$e.multiply(jt.translate)).multiply(jt.skew)).multiply(jt.scale)).applyToRectangle(new a(de-W*Te,ye-ee*J,ie*Qe,le*Ke)),Je=E.call(this,gt),zt=[],Et=0;Et<Je.length;Et+=1)-1===zt.indexOf(Je[Et])&&zt.push(Je[Et]);if(B(zt),this.autoPaging)for(var an=zt[0],Nt=zt[zt.length-1],Ot=an;Ot<Nt+1;Ot++){this.pdf.setPage(Ot);var Kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],yt=1===Ot?this.posY+this.margin[0]:this.margin[0],Rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=1===Ot?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Ot-2)*Rt;if(0!==this.ctx.clip_path.length){var Fn=this.path;sn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(sn,this.posX+this.margin[3],-bt+yt+this.ctx.prevPageLastElemOffset),X.call(this,"fill",!0),this.path=Fn}var dn=JSON.parse(JSON.stringify(gt));dn=M([dn],this.posX+this.margin[3],-bt+yt+this.ctx.prevPageLastElemOffset)[0];var He=(Ot>an||Ot<Nt)&&w.call(this);He&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Kt,Rt,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",dn.x,dn.y,dn.w,dn.h,null,null,Dt),He&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",gt.x,gt.y,gt.w,gt.h,null,null,Dt)};var E=function(U,W,ee){var ie=[];W=W||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":ie.push(Math.floor((U.y+le)/ee)+1);break;case"arc":ie.push(Math.floor((U.y+le-U.radius)/ee)+1),ie.push(Math.floor((U.y+le+U.radius)/ee)+1);break;case"qct":var de=Ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);ie.push(Math.floor((de.y+le)/ee)+1),ie.push(Math.floor((de.y+de.h+le)/ee)+1);break;case"bct":var ye=Ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);ie.push(Math.floor((ye.y+le)/ee)+1),ie.push(Math.floor((ye.y+ye.h+le)/ee)+1);break;case"rect":ie.push(Math.floor((U.y+le)/ee)+1),ie.push(Math.floor((U.y+U.h+le)/ee)+1)}for(var Ie=0;Ie<ie.length;Ie+=1)for(;this.pdf.internal.getNumberOfPages()<ie[Ie];)A.call(this);return ie},A=function(){var U=this.fillStyle,W=this.strokeStyle,ee=this.font,ie=this.lineCap,le=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=W,this.font=ee,this.lineCap=ie,this.lineWidth=le,this.lineJoin=de},M=function(U,W,ee){for(var ie=0;ie<U.length;ie++)switch(U[ie].type){case"bct":U[ie].x2+=W,U[ie].y2+=ee;case"qct":U[ie].x1+=W,U[ie].y1+=ee;default:U[ie].x+=W,U[ie].y+=ee}return U},B=function(U){return U.sort(function(W,ee){return W-ee})},F=function(U,W){for(var ee,ie,le=this.fillStyle,de=this.strokeStyle,ye=this.lineCap,Ie=this.lineWidth,Pe=Math.abs(Ie*this.ctx.transform.scaleX),De=this.lineJoin,Qe=JSON.parse(JSON.stringify(this.path)),Ke=JSON.parse(JSON.stringify(this.path)),Te=[],J=0;J<Ke.length;J++)if(void 0!==Ke[J].x)for(var sn=E.call(this,Ke[J]),jt=0;jt<sn.length;jt+=1)-1===Te.indexOf(sn[jt])&&Te.push(sn[jt]);for(var Dt=0;Dt<Te.length;Dt++)for(;this.pdf.internal.getNumberOfPages()<Te[Dt];)A.call(this);if(B(Te),this.autoPaging)for(var $e=Te[0],gt=Te[Te.length-1],Je=$e;Je<gt+1;Je++){this.pdf.setPage(Je),this.fillStyle=le,this.strokeStyle=de,this.lineCap=ye,this.lineWidth=Pe,this.lineJoin=De;var zt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Et=1===Je?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ot=1===Je?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Je-2)*Nt;if(0!==this.ctx.clip_path.length){var Kt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(ee,this.posX+this.margin[3],-Ot+Et+this.ctx.prevPageLastElemOffset),X.call(this,U,!0),this.path=Kt}if(ie=JSON.parse(JSON.stringify(Qe)),this.path=M(ie,this.posX+this.margin[3],-Ot+Et+this.ctx.prevPageLastElemOffset),!1===W||0===Je){var yt=(Je>$e||Je<gt)&&w.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],zt,Nt,null).clip().discardPath()),X.call(this,U,W),yt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ie}else this.lineWidth=Pe,X.call(this,U,W),this.lineWidth=Ie;this.path=Qe},X=function(U,W){if(("stroke"!==U||W||!b.call(this))&&("stroke"===U||W||!p.call(this))){for(var ee,ie,le=[],de=this.path,ye=0;ye<de.length;ye++){var Ie=de[ye];switch(Ie.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:Ie,deltas:[],abs:[]});break;case"lt":var Pe=le.length;if(de[ye-1]&&!isNaN(de[ye-1].x)&&(ee=[Ie.x-de[ye-1].x,Ie.y-de[ye-1].y],Pe>0))for(;Pe>=0;Pe--)if(!0!==le[Pe-1].close&&!0!==le[Pe-1].begin){le[Pe-1].deltas.push(ee),le[Pe-1].abs.push(Ie);break}break;case"bct":le[le.length-1].deltas.push(ee=[Ie.x1-de[ye-1].x,Ie.y1-de[ye-1].y,Ie.x2-de[ye-1].x,Ie.y2-de[ye-1].y,Ie.x-de[ye-1].x,Ie.y-de[ye-1].y]);break;case"qct":le[le.length-1].deltas.push(ee=[de[ye-1].x+2/3*(Ie.x1-de[ye-1].x)-de[ye-1].x,de[ye-1].y+2/3*(Ie.y1-de[ye-1].y)-de[ye-1].y,Ie.x+2/3*(Ie.x1-Ie.x)-de[ye-1].x,Ie.y+2/3*(Ie.y1-Ie.y)-de[ye-1].y,Ie.x-de[ye-1].x,Ie.y-de[ye-1].y]);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(Ie)}}ie=W?null:"stroke"===U?"stroke":"fill";for(var jt=!1,Dt=0;Dt<le.length;Dt++)if(le[Dt].arc)for(var $e=le[Dt].abs,gt=0;gt<$e.length;gt++){var Je=$e[gt];"arc"===Je.type?D.call(this,Je.x,Je.y,Je.radius,Je.startAngle,Je.endAngle,Je.counterclockwise,void 0,W,!jt):P.call(this,Je.x,Je.y),jt=!0}else!0===le[Dt].close?(this.pdf.internal.out("h"),jt=!1):!0!==le[Dt].begin&&(te.call(this,le[Dt].deltas,le[Dt].start.x,le[Dt].start.y),jt=!0);ie&&S.call(this,ie),W&&V.call(this)}},se=function(U){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-ee;case"top":return U+W-ee;case"hanging":return U+W-2*ee;case"middle":return U+W/2-ee;default:return U}},z=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(W,ee){this.colorStops.push([W,ee])},U.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(U,W,ee,ie,le,de,ye,Ie,Pe){for(var De=Ae.call(this,ee,ie,le,de),Qe=0;Qe<De.length;Qe++){var Ke=De[Qe];0===Qe&&(Pe?C.call(this,Ke.x1+U,Ke.y1+W):P.call(this,Ke.x1+U,Ke.y1+W)),me.call(this,U,W,Ke.x2,Ke.y2,Ke.x3,Ke.y3,Ke.x4,Ke.y4)}Ie?V.call(this):S.call(this,ye)},S=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},V=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(U,W){this.pdf.internal.out(t(U)+" "+r(W)+" m")},x=function(U){var W;switch(U.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var ee=this.pdf.getTextDimensions(U.text),ie=se.call(this,U.y),le=z.call(this,ie)-ee.h,de=this.ctx.transform.applyToPoint(new s(U.x,ie)),ye=this.ctx.transform.decompose(),Ie=new l;Ie=(Ie=(Ie=Ie.multiply(ye.translate)).multiply(ye.skew)).multiply(ye.scale);for(var Pe,De,Qe,Ke=this.ctx.transform.applyToRectangle(new a(U.x,ie,ee.w,ee.h)),Te=Ie.applyToRectangle(new a(U.x,le,ee.w,ee.h)),J=E.call(this,Te),sn=[],jt=0;jt<J.length;jt+=1)-1===sn.indexOf(J[jt])&&sn.push(J[jt]);if(B(sn),this.autoPaging)for(var Dt=sn[0],$e=sn[sn.length-1],gt=Dt;gt<$e+1;gt++){this.pdf.setPage(gt);var Je=1===gt?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.margin[2],an=Et-this.margin[0],Nt=this.pdf.internal.pageSize.width-this.margin[1],Ot=Nt-this.margin[3],Kt=1===gt?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(gt-2)*an;if(0!==this.ctx.clip_path.length){var yt=this.path;Pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(Pe,this.posX+this.margin[3],-1*Kt+Je),X.call(this,"fill",!0),this.path=yt}var ft=M([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-Kt+Je+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*U.scale),this.lineWidth=(Qe=this.lineWidth)*U.scale);var Rt="text"!==this.autoPaging;if(Rt||ft.y+ft.h<=Et){if(Rt||ft.y>=Je&&ft.x<=Nt){var bt=Rt?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||Nt-ft.x)[0],Fn=M([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-Kt+Je+this.ctx.prevPageLastElemOffset)[0],dn=Rt&&(gt>Dt||gt<$e)&&w.call(this);dn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ot,an,null).clip().discardPath()),this.pdf.text(bt,Fn.x,Fn.y,{angle:U.angle,align:W,renderingMode:U.renderingMode}),dn&&this.pdf.restoreGraphicsState()}}else ft.y<Et&&(this.ctx.prevPageLastElemOffset+=Et-ft.y);U.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=Qe)}else U.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*U.scale),this.lineWidth=(Qe=this.lineWidth)*U.scale),this.pdf.text(U.text,de.x+this.posX,de.y+this.posY,{angle:U.angle,align:W,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=Qe)},P=function(U,W,ee,ie){ie=ie||0,this.pdf.internal.out(t(U+(ee=ee||0))+" "+r(W+ie)+" l")},te=function(U,W,ee){return this.pdf.lines(U,W,ee,null,null)},me=function(U,W,ee,ie,le,de,ye,Ie){this.pdf.internal.out([e(i(ee+U)),e(o(ie+W)),e(i(le+U)),e(o(de+W)),e(i(ye+U)),e(o(Ie+W)),"c"].join(" "))},Ae=function(U,W,ee,ie){for(var le=2*Math.PI,de=Math.PI/2;W>ee;)W-=le;var ye=Math.abs(ee-W);ye<le&&ie&&(ye=le-ye);for(var Ie=[],Pe=ie?-1:1,De=W;ye>1e-5;){var Qe=De+Pe*Math.min(ye,de);Ie.push(Ee.call(this,U,De,Qe)),ye-=Math.abs(Qe-De),De=Qe}return Ie},Ee=function(U,W,ee){var ie=(ee-W)/2,le=U*Math.cos(ie),de=U*Math.sin(ie),ye=le,Ie=-de,Pe=ye*ye+Ie*Ie,De=Pe+ye*le+Ie*de,Qe=4/3*(Math.sqrt(2*Pe*De)-De)/(ye*de-Ie*le),Ke=ye-Qe*Ie,Te=Ie+Qe*ye,J=Ke,sn=-Te,jt=ie+W,Dt=Math.cos(jt),$e=Math.sin(jt);return{x1:U*Math.cos(W),y1:U*Math.sin(W),x2:Ke*Dt-Te*$e,y2:Ke*$e+Te*Dt,x3:J*Dt-sn*$e,y3:J*$e+sn*Dt,x4:U*Math.cos(ee),y4:U*Math.sin(ee)}},pe=function(U){return 180*U/Math.PI},Ce=function(U,W,ee,ie,le,de){var ye=U+.5*(ee-U),Ie=W+.5*(ie-W),Pe=le+.5*(ee-le),De=de+.5*(ie-de),Qe=Math.min(U,le,ye,Pe),Ke=Math.max(U,le,ye,Pe),Te=Math.min(W,de,Ie,De),J=Math.max(W,de,Ie,De);return new a(Qe,Te,Ke-Qe,J-Te)},Ge=function(U,W,ee,ie,le,de,ye,Ie){var Pe,De,Qe,Ke,Te,J,sn,jt,Dt,$e,gt,Je,zt,Et,an=ee-U,Nt=ie-W,Ot=le-ee,Kt=de-ie,yt=ye-le,ft=Ie-de;for(De=0;De<41;De++)Dt=(sn=(Qe=U+(Pe=De/40)*an)+Pe*((Te=ee+Pe*Ot)-Qe))+Pe*(Te+Pe*(le+Pe*yt-Te)-sn),$e=(jt=(Ke=W+Pe*Nt)+Pe*((J=ie+Pe*Kt)-Ke))+Pe*(J+Pe*(de+Pe*ft-J)-jt),0==De?(gt=Dt,Je=$e,zt=Dt,Et=$e):(gt=Math.min(gt,Dt),Je=Math.min(Je,$e),zt=Math.max(zt,Dt),Et=Math.max(Et,$e));return new a(Math.round(gt),Math.round(Je),Math.round(zt-gt),Math.round(Et-Je))},Oe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var ee=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(At.API),
/**
         * @license
         * jsPDF filters PlugIn
         * Copyright (c) 2014 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(s){var a,l,u,c,d,g,p,b,w,E;for(/[^\x00-\xFF]/.test(s),l=[],u=0,c=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;c>u;u+=4)0!==(d=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))?(g=(d=((d=((d=((d=(d-(E=d%85))/85)-(w=d%85))/85)-(b=d%85))/85)-(p=d%85))/85)%85,l.push(g+33,p+33,b+33,w+33,E+33)):l.push(122);return function(A,M){for(var B=M;B>0;B--)A.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},t=function(s){var a,l,u,c,d,g=String,p="length",b=255,w="charCodeAt",E="slice",A="replace";for(s[E](-2),s=s[E](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),u=[],c=0,d=(s+=a="uuuuu"[E](s[p]%5||5))[p];d>c;c+=5)l=52200625*(s[w](c)-33)+614125*(s[w](c+1)-33)+7225*(s[w](c+2)-33)+85*(s[w](c+3)-33)+(s[w](c+4)-33),u.push(b&l>>24,b&l>>16,b&l>>8,b&l);return function(M,B){for(var F=B;F>0;F--)M.pop()}(u,a[p]),g.fromCharCode.apply(g,u)},r=function(s){return s.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(s=s.replace(/\s/g,"")).indexOf(">")&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),!1===a.test(s))return"";for(var l="",u=0;u<s.length;u+=2)l+=String.fromCharCode("0x"+(s[u]+s[u+1]));return l},o=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return(a=wv(a)).reduce(function(u,c){return u+String.fromCharCode(c)},"")};n.processDataByFilters=function(s,a){var l=0,u=s||"",c=[];for("string"==typeof(a=a||[])&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=o(u),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:c.reverse().join(" ")}}}(At.API),
/**
         * @license
         * jsPDF fileloading PlugIn
         * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.loadFile=function(e,t,r){return function(i,o,s){o=!1!==o,s="function"==typeof s?s:function(){};var a=void 0;try{a=function(l,u,c){var d=new XMLHttpRequest,g=0,p=function(b){var w=b.length,E=[],A=String.fromCharCode;for(g=0;g<w;g+=1)E.push(A(255&b.charCodeAt(g)));return E.join("")};if(d.open("GET",l,!u),d.overrideMimeType("text/plain; charset=x-user-defined"),!1===u&&(d.onload=function(){c(200===d.status?p(this.responseText):void 0)}),d.send(null),u&&200===d.status)return p(d.responseText)}(i,o,s)}catch{}return a}(e,t,r)},n.loadImageFile=n.loadFile}(At.API),function(n){function e(){return(Wt.html2canvas?Promise.resolve(Wt.html2canvas):As.e(239).then(As.t.bind(As,7239,23))).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(Wt.DOMPurify?Promise.resolve(Wt.DOMPurify):As.e(627).then(As.bind(As,627))).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=Wn(a);return"undefined"===l?"undefined":"string"===l||a instanceof String?"string":"number"===l||a instanceof Number?"number":"function"===l||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&1===a.nodeType?"element":"object"===l?"object":"unknown"},i=function(a,l){var u=document.createElement(a);for(var c in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[c]=l.style[c];return u},o=function a(l,u){for(var c=3===l.nodeType?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)!0!==u&&1===d.nodeType&&"SCRIPT"===d.nodeName||c.appendChild(a(d,u));return 1===l.nodeType&&("CANVAS"===l.nodeName?(c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0)):"TEXTAREA"!==l.nodeName&&"SELECT"!==l.nodeName||(c.value=l.value),c.addEventListener("load",function(){c.scrollTop=l.scrollTop,c.scrollLeft=l.scrollLeft},!0)),c},s=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),u);return(c=c.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return"canvas"===u.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(t).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===l.tagName&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(l){var u=this.opt.jsPDF,c=this.opt.fontFaces,d="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var b=c[p],w=b.src.find(function(E){return"truetype"===E.format});w&&u.addFont(w.url,b.ref.name,b.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=0==g.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,u){return"img"===(u=u||"pdf").toLowerCase()||"image"===u.toLowerCase()?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if("object"!==r(a))return this;var l=Object.keys(a||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var u=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(2===a.length&&(a=[a[0],a[1],a[0],a[1]]),4===a.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(u,c){return Math.floor(u*c/72*96)}return this.then(function(){(a=a||At.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,u,c){return null!=a&&(this.progress.val=a),null!=l&&(this.progress.state=l),null!=u&&(this.progress.n=u),null!=c&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,u,c){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(c,d){return u.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,c),g}).then(c,d).then(function(g){return u.updateProgress(1),g})})},s.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then;var c=this;a&&(a=a.bind(c)),l&&(l=l.bind(c));var d=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?c:s.convert(Object.assign({},c),Promise.prototype),g=u.call(d,a,l);return s.convert(g,c.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,At.getPageSize=function(a,l,u){if("object"===Wn(a)){var c=a;a=c.orientation,l=c.unit||l,u=c.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var d,g=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var b,w=0,E=0;if(p.hasOwnProperty(g))w=p[g][1]/d,E=p[g][0]/d;else try{w=u[1],E=u[0]}catch{throw new Error("Invalid format: "+u)}if("p"===a||"portrait"===a)a="p",E>w&&(b=E,E=w,w=b);else{if("l"!==a&&"landscape"!==a)throw"Invalid orientation: "+a;a="l",w>E&&(b=E,E=w,w=b)}return{width:E,height:w,unit:l,k:d,orientation:a}},n.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(XP):null;var u=new s(l);return l.worker?u:u.from(a).doCallback()}}(At.API),At.API.addJS=function(n){return K$=n,this.internal.events.subscribe("postPutResources",function(){K2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(K2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),W$=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+K$+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==K2&&void 0!==W$&&this.internal.out("/Names <</JavaScript "+K2+" 0 R>>")}),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=r.exec(s);null!=a&&t.internal.newObjectDeferredBegin(a[1],!1),t.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(o=0;o<u;o++){var d=t.internal.newObject();c.push(d);var g=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var p=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<c.length;o++)t.internal.write("(page_"+(o+1)+")"+c[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+p+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return null==r&&(r=this.root),r.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},t.outline.line=function(r){this.ctx.val+=r+"\r\n"},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+="\r\n"+r.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])}(At.API),
/**
         * @license
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,o,s,a){var l,u=this.decode.DCT_DECODE,c=null;if("string"==typeof t||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=this.__addimage__.isArrayBuffer(t=s||t)?new Uint8Array(t):t,(l=function(d){for(var g,p=256*d.charCodeAt(4)+d.charCodeAt(5),b=d.length,w={width:0,height:0,numcomponents:1},E=4;E<b;E+=2){if(-1!==e.indexOf(d.charCodeAt((E+=p)+1))){g=256*d.charCodeAt(E+5)+d.charCodeAt(E+6),w={width:256*d.charCodeAt(E+7)+d.charCodeAt(E+8),height:g,numcomponents:d.charCodeAt(E+9)};break}p=256*d.charCodeAt(E+2)+d.charCodeAt(E+3)}return w}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}}(At.API),At.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,d,g,p,o=function $1e(n,e){return new O1e(n,e).decode()}(n,{checkCrc:!0}),s=o.width,a=o.height,l=o.channels,c=o.depth,w=(i=o.palette&&1===l?function(D){for(var S=D.width,V=D.height,C=D.data,x=D.palette,P=D.depth,te=!1,me=[],Ae=[],Ee=void 0,pe=!1,Ce=0,Ge=0;Ge<x.length;Ge++){var Oe=Vj(x[Ge],4),ie=Oe[3];me.push(Oe[0],Oe[1],Oe[2]),null!=ie&&(0===ie?(Ce++,Ae.length<1&&Ae.push(Ge)):ie<255&&(pe=!0))}if(pe||Ce>1){te=!0,Ae=void 0;var le=S*V;Ee=new Uint8Array(le);for(var de=new DataView(C.buffer),ye=0;ye<le;ye++){var Pe=Vj(x[tN(de,ye,P)],4)[3];Ee[ye]=Pe}}else 0===Ce&&(Ae=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:te?8:void 0,colorBytes:C,alphaBytes:Ee,needSMask:te,palette:me,mask:Ae}}(o):2===l||4===l?function(D){for(var S=D.data,x=D.channels,P=D.depth,te=2===x?"DeviceGray":"DeviceRGB",me=x-1,Ae=D.width*D.height,Ee=me,Ce=1*Ae,Ge=Math.ceil(Ae*Ee*P/8),Oe=Math.ceil(Ce*P/8),U=new Uint8Array(Ge),W=new Uint8Array(Oe),ee=new DataView(S.buffer),ie=new DataView(U.buffer),le=new DataView(W.buffer),de=!1,ye=0;ye<Ae;ye++){for(var Ie=ye*x,Pe=0;Pe<Ee;Pe++)rq(ie,tN(ee,Ie+Pe,P),ye*Ee+Pe,P);var De=tN(ee,Ie+Ee,P);De<(1<<P)-1&&(de=!0),rq(le,De,1*ye,P)}return{colorSpace:te,colorsPerPixel:me,sMaskBitsPerComponent:de?P:void 0,colorBytes:U,alphaBytes:W,needSMask:de}}(o):{colorSpace:V=1===(D=o).channels?"DeviceGray":"DeviceRGB",colorsPerPixel:"DeviceGray"===V?1:3,colorBytes:(S=D.data)instanceof Uint16Array?function(C){for(var x=C.length,P=new Uint8Array(2*x),te=new DataView(P.buffer,P.byteOffset,P.byteLength),me=0;me<x;me++)te.setUint16(2*me,C[me],!1);return P}(S):S,needSMask:!1}).colorSpace,E=i.colorsPerPixel,A=i.sMaskBitsPerComponent,M=i.colorBytes,B=i.alphaBytes,F=i.needSMask,X=i.palette,se=i.mask,z=null;return r!==At.API.image_compression.NONE?(z=function(D){var S;switch(D){case At.API.image_compression.FAST:S=11;break;case At.API.image_compression.MEDIUM:S=13;break;case At.API.image_compression.SLOW:S=14;break;default:S=12}return S}(r),d=this.decode.FLATE_DECODE,g="/Predictor ".concat(z," /Colors ").concat(E," /BitsPerComponent ").concat(c," /Columns ").concat(s),n=J$(M,Math.ceil(s*E*c/8),E,c,r),F&&(p=J$(B,Math.ceil(s*A/8),1,A,r))):(d=void 0,g=void 0,n=M,F&&(p=B)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:t,data:n,index:e,filter:d,decodeParameters:g,transparency:se,palette:X,sMask:p,predictor:z,width:s,height:a,bitsPerComponent:c,sMaskBitsPerComponent:A,colorSpace:w}}var D,S,V},function(n){n.processGIF89A=function(e,t,r,i){var o=new c0e(e),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:s,height:a},c=new nN(100).encode(u,100);return n.processJPEG.call(this,c,t,r,i)},n.processGIF87A=n.processGIF89A}(At.API),Ua.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ua.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[n]()}catch(t){lr.log("bit decode error:"+t)}},Ua.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}0!==t&&(this.pos+=4-t)}},Ua.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,l=15&o,u=this.palette[o>>4];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;this.data[s+4]=(u=this.palette[l]).blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}0!==e&&(this.pos+=4-e)}},Ua.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!==n&&(this.pos+=4-n)}},Ua.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,u=o>>15?255:0,c=r*this.width*4+4*i;this.data[c]=(o>>10&e)/e*255|0,this.data[c+1]=a,this.data[c+2]=s,this.data[c+3]=u}this.pos+=n}},Ua.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&t)/t*255|0,c=i*this.width*4+4*o;this.data[c]=(s>>11)/e*255|0,this.data[c+1]=l,this.data[c+2]=a,this.data[c+3]=255}this.pos+=n}},Ua.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*t;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Ua.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},Ua.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2018 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.processBMP=function(e,t,r,i){var o=new Ua(e,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},u=new nN(100).encode(l,100);return n.processJPEG.call(this,u,t,r,i)}}(At.API),sq.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2019 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.processWEBP=function(e,t,r,i){var o=new sq(e),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},u=new nN(100).encode(l,100);return n.processJPEG.call(this,u,t,r,i)}}(At.API),At.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var d=r[u+1],g=r[u+2],p=r[u+3];o[a++]=r[u],o[a++]=d,o[a++]=g,s[l++]=p}var b=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:b,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},At.API.setLanguage=function(n){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]&&(this.internal.languageSettings.languageCode=n,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Q2=(bg=At.API).getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,d=!1!==e.doKerning,g=0,p=n.length,b=0,w=a[0]||l,E=[];for(t=0;t<p;t++)r=n.charCodeAt(t),"function"==typeof i.metadata.widthOfString?E.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(g=d&&"object"===Wn(u[r])&&!isNaN(parseInt(u[r][b],10))?u[r][b]/c:0,E.push((a[r]||w)/l+g)),b=r;return E},Q$=bg.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return bg.processArabic&&(n=bg.processArabic(n)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(n,t,i)/t:Q2.apply(this,arguments).reduce(function(o,s){return o+s},0)},Y$=function(n,e,t,r){for(var i=[],o=0,s=n.length,a=0;o!==s&&a+e[o]<t;)a+=e[o],o++;i.push(n.slice(0,o));var l=o;for(a=0;o!==s;)a+e[o]>r&&(i.push(n.slice(l,o)),a=0,l=o),a+=e[o],o++;return l!==o&&i.push(n.slice(l,o)),i},Z$=function(n,e,t){t||(t={});var r,i,o,s,a,l,c=[],d=[c],g=t.textIndent||0,p=0,b=0,w=n.split(" "),E=Q2.apply(this,[" ",t])[0];if(l=-1===t.lineIndent?w[0].length+2:t.lineIndent||0){var A=Array(l).join(" "),M=[];w.map(function(F){(F=F.split(/\s*\n/)).length>1?M=M.concat(F.map(function(X,se){return(se&&X.length?"\n":"")+X})):M.push(F[0])}),w=M,l=Q$.apply(this,[A,t])}for(o=0,s=w.length;o<s;o++){var B=0;if(r=w[o],l&&"\n"==r[0]&&(r=r.substr(1),B=1),g+p+(b=(i=Q2.apply(this,[r,t])).reduce(function(F,X){return F+X},0))>e||B){if(b>e){for(a=Y$.apply(this,[r,i,e-(g+p),e]),c.push(a.shift()),c=[a.pop()];a.length;)d.push([a.shift()]);b=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(F,X){return F+X},0)}else c=[r];d.push(c),g=b+l,p=E}else c.push(r),g+=p+b,p=E}return d.map(l?function(F,X){return(X?A:"")+F.join(" ")}:function(F){return F.join(" ")})},bg.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),o=function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var d=this.internal.getFont(c.fontName,c.fontStyle),g="Unicode";return d.metadata[g]?{widths:d.metadata[g].widths||{0:1},kerning:d.metadata[g].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=t.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(Z$.apply(this,[r[a],s,o]));return u},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},i={},o=0;o<16;o++)r[t[o]]=e[o],i[e[o]]=t[o];var s=function(g){return"0x"+parseInt(g,10).toString(16)},a=n.__fontmetrics__.compress=function(g){var p,b,w,E,A=["{"];for(var M in g){if(p=g[M],isNaN(parseInt(M,10))?b="'"+M+"'":(M=parseInt(M,10),b=(b=s(M).slice(2)).slice(0,-1)+i[b.slice(-1)]),"number"==typeof p)p<0?(w=s(p).slice(3),E="-"):(w=s(p).slice(2),E=""),w=E+w.slice(0,-1)+i[w.slice(-1)];else{if("object"!==Wn(p))throw new Error("Don't know what to do with value type "+Wn(p)+".");w=a(p)}A.push(b+w)}return A.push("}"),A.join("")},l=n.__fontmetrics__.uncompress=function(g){if("string"!=typeof g)throw new Error("Invalid argument passed to uncompress.");for(var p,b,w,E,A={},M=1,B=A,F=[],X="",se="",z=g.length-1,D=1;D<z;D+=1)"'"==(E=g[D])?p?(w=p.join(""),p=void 0):p=[]:p?p.push(E):"{"==E?(F.push([B,w]),B={},w=void 0):"}"==E?((b=F.pop())[0][b[1]]=B,w=void 0,B=b[0]):"-"==E?M=-1:void 0===w?r.hasOwnProperty(E)?(X+=r[E],w=parseInt(X,16)*M,M=1,X=""):X+=E:r.hasOwnProperty(E)?(se+=r[E],B[w]=parseInt(se,16)*M,M=1,w=void 0,se=""):se+=E;return A},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(g){var p=g.font,b=d.Unicode[p.postScriptName];b&&(p.metadata.Unicode={},p.metadata.Unicode.widths=b.widths,p.metadata.Unicode.kerning=b.kerning);var w=c.Unicode[p.postScriptName];w&&(p.metadata.Unicode.encoding=w,p.encoding=w.codePages[0])}])}(At.API),
/**
         * @license
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=t.charCodeAt(o);return i};n.API.events.push(["addFont",function(t){var s,a,r=void 0,i=t.font,o=t.instance;if(!i.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===o.existsFileInVFS(i.postScriptName)?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");s=i,a=/^\x00\x01\x00\x00/.test(a=r)?e(a):e(U2(a)),s.metadata=n.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]}}])}(At),At.API.addSvgAsImage=function(n,e,t,r,i,o,s,a){if(isNaN(e)||isNaN(t))throw lr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw lr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(Wt.canvg?Promise.resolve(Wt.canvg):As.e(842).then(As.bind(As,3842))).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(u,n,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(c)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),e,t,r,i,s,a)})},At.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},At.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],u=0,c=0,d=0;function g(b,w){var E,A=!1;for(E=0;E<b.length;E+=1)b[E]===w&&(A=!0);return A}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,"reset"===n||!0===e){var p=a.length;for(d=0;d<p;d+=1)t[a[d]].value=t[a[d]].defaultValue,t[a[d]].explicitSet=!1}if("object"===Wn(n))for(i in n)if(o=n[i],g(a,i)&&void 0!==o){if("boolean"===t[i].type&&"boolean"==typeof o)t[i].value=o;else if("name"===t[i].type&&g(t[i].valueSet,o))t[i].value=o;else if("integer"===t[i].type&&Number.isInteger(o))t[i].value=o;else if("array"===t[i].type){for(u=0;u<o.length;u+=1)if(r=!0,1===o[u].length&&"number"==typeof o[u][0])l.push(String(o[u]-1));else if(o[u].length>1){for(c=0;c<o[u].length;c+=1)"number"!=typeof o[u][c]&&(r=!1);!0===r&&l.push([o[u][0]-1,o[u][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var b,w=[];for(b in t)!0===t[b].explicitSet&&w.push("name"===t[b].type?"/"+b+" /"+t[b].value:"/"+b+" "+t[b].value);0!==w.length&&this.internal.write("/ViewerPreferences\n<<\n"+w.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},
/** ====================================================================
         * @license
         * jsPDF XMP metadata plugin
         * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
         *
         * Permission is hereby granted, free of charge, to any person obtaining
         * a copy of this software and associated documentation files (the
         * "Software"), to deal in the Software without restriction, including
         * without limitation the rights to use, copy, modify, merge, publish,
         * distribute, sublicense, and/or sell copies of the Software, and to
         * permit persons to whom the Software is furnished to do so, subject to
         * the following conditions:
         *
         * The above copyright notice and this permission notice shall be
         * included in all copies or substantial portions of the Software.
         *
         * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
         * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
         * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
         * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
         * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
         * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
         * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
         * ====================================================================
         */
function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=o.length+s.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(At.API),function(n){var e=n.API,t=e.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],d=0,g=o.length;d<g;++d){if(a=s.metadata.characterToGlyph(o.charCodeAt(d)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(d),-1==l.indexOf(a)&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),"0"==a)return c.join("");a=a.toString(16),c.push(u[4-a.length],a)}return c.join("")},r=function(o){var s,a,l,u,c,d,g;for(c="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",l=[],d=0,g=(a=Object.keys(o).sort(function(p,b){return p-b})).length;d<g;d++)s=a[d],l.length>=100&&(c+="\n"+l.length+" beginbfchar\n"+l.join("\n")+"\nendbfchar",l=[]),null!=o[s]&&"function"==typeof o[s].toString&&(u=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+u+">"));return l.length&&(c+="\n"+l.length+" beginbfchar\n"+l.join("\n")+"\nendbfchar\n"),c+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(o){!function(s){var a=s.font,l=s.out,u=s.newObject,c=s.putStream;if(a.metadata instanceof n.API.TTFFont&&"Identity-H"===a.encoding){for(var d=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",b=0;b<g.length;b++)p+=String.fromCharCode(g[b]);var w=u();c({data:p,addLength1:!0,objectId:w}),l("endobj");var E=u();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:E}),l("endobj");var A=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+fg(a.fontName)),l("/FontFile2 "+w+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var M=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+fg(a.fontName)),l("/FontDescriptor "+A+" 0 R"),l("/W "+n.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+E+" 0 R"),l("/BaseFont /"+fg(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+M+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}}(o)}]),e.events.push(["putFont",function(o){!function(s){var a=s.font,l=s.out,u=s.newObject,c=s.putStream;if(a.metadata instanceof n.API.TTFFont&&"WinAnsiEncoding"===a.encoding){for(var d=a.metadata.rawData,g="",p=0;p<d.length;p++)g+=String.fromCharCode(d[p]);var b=u();c({data:g,addLength1:!0,objectId:b}),l("endobj");var w=u();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var E=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+fg(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var A=0;A<a.metadata.hmtx.widths.length;A++)a.metadata.hmtx.widths[A]=parseInt(a.metadata.hmtx.widths[A]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+fg(a.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}}(o)}]);var i=function(o){var s,a=o.text||"",l=o.x,u=o.y,c=o.options||{},d=o.mutex||{},g=d.pdfEscape,p=d.activeFontKey,b=d.fonts,w=p,E="",A=0,M="",B=b[w].encoding;if("Identity-H"!==b[w].encoding)return{text:a,x:l,y:u,options:c,mutex:d};for(M=a,w=p,Array.isArray(a)&&(M=a[0]),A=0;A<M.length;A+=1)b[w].metadata.hasOwnProperty("cmap")&&(s=b[w].metadata.cmap.unicode.codeMap[M[A].charCodeAt(0)]),s||M[A].charCodeAt(0)<256&&b[w].metadata.hasOwnProperty("Unicode")?E+=M[A]:E+="";var F="";return parseInt(w.slice(1))<14||"WinAnsiEncoding"===B?F=g(E,w).split("").map(function(X){return X.charCodeAt(0).toString(16)}).join(""):"Identity-H"===B&&(F=t(E,b[w])),d.isHex=!0,{text:F,x:l,y:u,options:c,mutex:d}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&3===s[u].length?a.push([i(Object.assign({},l,{text:s[u][0]})).text,s[u][1],s[u][2]]):a.push(i(Object.assign({},l,{text:s[u]})).text);o.text=a}else o.text=i(Object.assign({},l,{text:s})).text}])}(At),
/**
         * @license
         * jsPDF virtual FileSystem functionality
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null}}(At.API),
/**
         * @license
         * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
         * MIT License
         */
function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,o,s,a,l,u,c,d=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],A=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),M=!1,B=0;this.__bidiEngine__={};var F=function(C){var x=C.charCodeAt(),P=x>>8,te=w[P];return void 0!==te?d[256*te+(255&x)]:252===P||253===P?"AL":A.test(P)?"L":8===P?"R":"N"},X=function(C){for(var x,P=0;P<C.length;P++){if("L"===(x=F(C.charAt(P))))return!1;if("R"===x)return!0}return!1},se=function(C,x,P,te){var me,Ae,Ee,pe,Ce=x[te];switch(Ce){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":M=!1;break;case"N":case"AN":break;case"EN":M&&(Ce="AN");break;case"AL":M=!0,Ce="R";break;case"WS":case"BN":Ce="N";break;case"CS":te<1||te+1>=x.length||"EN"!==(me=P[te-1])&&"AN"!==me||"EN"!==(Ae=x[te+1])&&"AN"!==Ae?Ce="N":M&&(Ae="AN"),Ce=Ae===me?Ae:"N";break;case"ES":Ce="EN"===(me=te>0?P[te-1]:"B")&&te+1<x.length&&"EN"===x[te+1]?"EN":"N";break;case"ET":if(te>0&&"EN"===P[te-1]){Ce="EN";break}if(M){Ce="N";break}for(Ee=te+1,pe=x.length;Ee<pe&&"ET"===x[Ee];)Ee++;Ce=Ee<pe&&"EN"===x[Ee]?"EN":"N";break;case"NSM":if(s&&!a){for(pe=x.length,Ee=te+1;Ee<pe&&"NSM"===x[Ee];)Ee++;if(Ee<pe){var Ge=C[te];if(me=x[Ee],(Ge>=1425&&Ge<=2303||64286===Ge)&&("R"===me||"AL"===me)){Ce="R";break}}}Ce=te<1||"B"===(me=x[te-1])?"N":P[te-1];break;case"B":M=!1,i=!0,Ce=B;break;case"S":o=!0,Ce="N"}return Ce},z=function(C,x,P){var te=C.split("");return P&&D(te,P,{hiLevel:B}),te.reverse(),x&&x.reverse(),te.join("")},D=function(C,x,P){var te,me,Ae,Ee,pe,Ce=-1,Ge=C.length,Oe=0,U=[],W=B?p:g,ee=[];for(M=!1,i=!1,o=!1,me=0;me<Ge;me++)ee[me]=F(C[me]);for(Ae=0;Ae<Ge;Ae++){if(pe=Oe,U[Ae]=se(C,ee,U,Ae),te=240&(Oe=W[pe][b[U[Ae]]]),x[Ae]=Ee=W[Oe&=15][5],te>0)if(16===te){for(me=Ce;me<Ae;me++)x[me]=1;Ce=-1}else Ce=-1;if(W[Oe][6])-1===Ce&&(Ce=Ae);else if(Ce>-1){for(me=Ce;me<Ae;me++)x[me]=Ee;Ce=-1}"B"===ee[Ae]&&(x[Ae]=0),P.hiLevel|=Ee}o&&function(ie,le,de){for(var ye=0;ye<de;ye++)if("S"===ie[ye]){le[ye]=B;for(var Ie=ye-1;Ie>=0&&"WS"===ie[Ie];Ie--)le[Ie]=B}}(ee,x,Ge)},S=function(C,x,P,te,me){if(!(me.hiLevel<C)){if(1===C&&1===B&&!i)return x.reverse(),void(P&&P.reverse());for(var Ae,Ee,pe,Ce,Ge=x.length,Oe=0;Oe<Ge;){if(te[Oe]>=C){for(pe=Oe+1;pe<Ge&&te[pe]>=C;)pe++;for(Ce=Oe,Ee=pe-1;Ce<Ee;Ce++,Ee--)Ae=x[Ce],x[Ce]=x[Ee],x[Ee]=Ae,P&&(Ae=P[Ce],P[Ce]=P[Ee],P[Ee]=Ae);Oe=pe}Oe++}}},V=function(C,x,P){var te=C.split(""),me={hiLevel:B};return P||(P=[]),D(te,P,me),function(Ae,Ee,pe){if(0!==pe.hiLevel&&c)for(var Ce,Ge=0;Ge<Ae.length;Ge++)1===Ee[Ge]&&(Ce=E.indexOf(Ae[Ge]))>=0&&(Ae[Ge]=E[Ce+1])}(te,P,me),S(2,te,x,P,me),S(1,te,x,P,me),te.join("")};return this.__bidiEngine__.doBidiReorder=function(C,x,P){if(function(me,Ae){if(Ae)for(var Ee=0;Ee<me.length;Ee++)Ae[Ee]=Ee;void 0===a&&(a=X(me)),void 0===u&&(u=X(me))}(C,x),s||!l||u)if(s&&l&&a^u)B=a?1:0,C=z(C,x,P);else if(!s&&l&&u)B=a?1:0,C=V(C,x,P),C=z(C,x);else if(!s||a||l||u){if(s&&!l&&a^u)C=z(C,x),a?(B=0,C=V(C,x,P)):(B=1,C=V(C,x,P),C=z(C,x));else if(s&&a&&!l&&u)B=1,C=V(C,x,P),C=z(C,x);else if(!s&&!l&&a^u){var te=c;a?(B=1,C=V(C,x,P),B=0,c=!1,C=V(C,x,P),c=te):(B=0,C=V(C,x,P),C=z(C,x),B=1,c=!1,C=V(C,x,P),c=te,C=z(C,x))}}else B=0,C=V(C,x,P);else B=a?1:0,C=V(C,x,P);return C},this.__bidiEngine__.setOptions=function(C){C&&(s=C.isInputVisual,l=C.isOutputVisual,a=C.isInputRtl,u=C.isOutputRtl,c=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text,o=r.options||{},s=[];if(o.isInputVisual="boolean"!=typeof o.isInputVisual||o.isInputVisual,t.setOptions(o),"[object Array]"===Object.prototype.toString.call(i)){var a=0;for(s=[],a=0;a<i.length;a+=1)"[object Array]"===Object.prototype.toString.call(i[a])?s.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([t.doBidiReorder(i[a])]);r.text=s}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(At),At.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Qc(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new C0e(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new d0e(this.contents),this.head=new f0e(this),this.name=new v0e(this),this.cmap=new lq(this),this.toUnicode={},this.hhea=new p0e(this),this.maxp=new y0e(this),this.hmtx=new b0e(this),this.post=new m0e(this),this.os2=new g0e(this),this.loca=new A0e(this),this.glyf=new w0e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var s,a,l,u;for(u=[],s=0,a=(l=this.bbox).length;s<a;s++)u.push(Math.round(l[s]*this.scaleFactor));return u}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(o=this.familyClass)||2===o||3===o||4===o||5===o||7===o,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return s*(t/1e3)},n.prototype.lineHeight=function(e,t){return null==t&&(t=!1),(this.ascender+(t?this.lineGap:0)-this.decender)/1e3*e},n}();var Ba,Qc=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,o,s,a,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*o+65536*s+256*a+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var r,i,o;for(o=[],r=0,i=e.length;r<i;r++)o.push(this.writeByte(e[r]));return o},n}(),d0e=function(){var n;function e(t){var r,i,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,a,l,u,c,d,g,p,b,w;for(w in p=Object.keys(t).length,l=Math.log(2),d=16*Math.floor(Math.log(p)/l),s=Math.floor(d/l),c=16*p-d,(i=new Qc).writeInt(this.scalarType),i.writeShort(p),i.writeShort(d),i.writeShort(s),i.writeShort(c),u=i.pos+16*p,a=null,b=[],t)for(g=t[w],i.writeString(w),i.writeInt(n(g)),i.writeInt(u),i.writeInt(g.length),b=b.concat(g),"head"===w&&(a=u),u+=g.length;u%4;)b.push(0),u++;return i.write(b),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,o,s;for(t=uq.call(t);t.length%4;)t.push(0);for(o=new Qc(t),i=0,r=0,s=t.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},e}(),h0e={}.hasOwnProperty,Pl=function(n,e){for(var t in e)h0e.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Ba=function(){function n(e){var t;this.file=e,this.exists=!!(t=this.file.directory.tables[this.tag]),t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var f0e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Pl(n,Ba),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Qc).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n}(),aq=function(){function n(e,t){var r,i,o,s,a,l,u,c,d,g,p,b,w,E,A,M,B;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),g=p/2,e.pos+=6,o=function(){var F,X;for(X=[],l=F=0;0<=g?F<g:F>g;l=0<=g?++F:--F)X.push(e.readUInt16());return X}(),e.pos+=2,w=function(){var F,X;for(X=[],l=F=0;0<=g?F<g:F>g;l=0<=g?++F:--F)X.push(e.readUInt16());return X}(),u=function(){var F,X;for(X=[],l=F=0;0<=g?F<g:F>g;l=0<=g?++F:--F)X.push(e.readUInt16());return X}(),c=function(){var F,X;for(X=[],l=F=0;0<=g?F<g:F>g;l=0<=g?++F:--F)X.push(e.readUInt16());return X}(),i=(this.length-e.pos+this.offset)/2,a=function(){var F,X;for(X=[],l=F=0;0<=i?F<i:F>i;l=0<=i?++F:--F)X.push(e.readUInt16());return X}(),l=A=0,B=o.length;A<B;l=++A)for(E=o[l],r=M=b=w[l];b<=E?M<=E:M>=E;r=b<=E?++M:--M)0===c[l]?s=r+u[l]:0!==(s=a[c[l]/2+(r-b)-(g-l)]||0)&&(s+=u[l]),this.codeMap[r]=65535&s}e.pos=d}return n.encode=function(e,t){var r,i,o,s,a,l,u,c,d,g,p,b,w,E,A,M,B,X,se,z,D,S,V,C,x,P,te,me,Ae,Ee,pe,Ce,Ge,Oe,U,W,ee,ie,le,de,ye,Ie,Pe,De,Qe;switch(te=new Qc,s=Object.keys(e).sort(function(Ke,Te){return Ke-Te}),t){case"macroman":for(w=0,E=function(){var Ke=[];for(b=0;b<256;++b)Ke.push(0);return Ke}(),M={0:0},o={},me=0,Ce=s.length;me<Ce;me++)null==M[Ie=e[i=s[me]]]&&(M[Ie]=++w),o[i]={old:e[i],new:M[e[i]]},E[i]=M[e[i]];return te.writeUInt16(1),te.writeUInt16(0),te.writeUInt32(12),te.writeUInt16(0),te.writeUInt16(262),te.writeUInt16(0),te.write(E),{charMap:o,subtable:te.data,maxGlyphID:w+1};case"unicode":for(x=[],d=[],B=0,M={},r={},A=u=null,Ae=0,Ge=s.length;Ae<Ge;Ae++)null==M[X=e[i=s[Ae]]]&&(M[X]=++B),r[i]={old:X,new:M[X]},a=M[X]-i,null!=A&&a===u||(A&&d.push(A),x.push(i),u=a),A=i;for(A&&d.push(A),d.push(65535),x.push(65535),V=2*(S=x.length),D=2*Math.pow(Math.log(S)/Math.LN2,2),g=Math.log(D/2)/Math.LN2,z=2*S-D,l=[],se=[],p=[],b=Ee=0,Oe=x.length;Ee<Oe;b=++Ee){if(c=d[b],65535===(C=x[b])){l.push(0),se.push(0);break}if(C-(P=r[C].new)>=32768)for(l.push(0),se.push(2*(p.length+S-b)),i=pe=C;C<=c?pe<=c:pe>=c;i=C<=c?++pe:--pe)p.push(r[i].new);else l.push(P-C),se.push(0)}for(te.writeUInt16(3),te.writeUInt16(1),te.writeUInt32(12),te.writeUInt16(4),te.writeUInt16(16+8*S+2*p.length),te.writeUInt16(0),te.writeUInt16(V),te.writeUInt16(D),te.writeUInt16(g),te.writeUInt16(z),de=0,U=d.length;de<U;de++)te.writeUInt16(i=d[de]);for(te.writeUInt16(0),ye=0,W=x.length;ye<W;ye++)te.writeUInt16(i=x[ye]);for(Pe=0,ee=l.length;Pe<ee;Pe++)te.writeUInt16(a=l[Pe]);for(De=0,ie=se.length;De<ie;De++)te.writeUInt16(se[De]);for(Qe=0,le=p.length;Qe<le;Qe++)te.writeUInt16(w=p[Qe]);return{charMap:r,subtable:te.data,maxGlyphID:B+1}}},n}(),lq=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Pl(n,Ba),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new aq(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},n.encode=function(e,t){var r,i;return null==t&&(t="macroman"),r=aq.encode(e,t),(i=new Qc).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n}(),p0e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Pl(n,Ba),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n}(),g0e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Pl(n,Ba),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r}(),this.charRange=function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n}(),m0e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Pl(n,Ba),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var s,a,l;for(l=[],o=s=0,a=this.file.maxp.numGlyphs;0<=a?s<a:s>a;o=0<=a?++s:--s)l.push(e.readUInt32());return l}.call(this)}},n}(),_0e=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},v0e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Pl(n,Ba),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,i,o,s,a,l,u,c,d,g;for(e.pos=this.offset,e.readShort(),t=e.readShort(),a=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},o=c=0,d=r.length;c<d;o=++c)e.pos=(i=r[o]).offset,u=e.readString(i.length),s=new _0e(u,i),null==l[g=i.nameID]&&(l[g]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},n}(),y0e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Pl(n,Ba),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n}(),b0e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Pl(n,Ba),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,i,s,a,l;for(e.pos=this.offset,this.metrics=[],t=0,a=this.file.hhea.numberOfMetrics;0<=a?t<a:t>a;t=0<=a?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,c;for(c=[],t=u=0;0<=i?u<i:u>i;t=0<=i?++u:--u)c.push(e.readInt16());return c}(),this.widths=function(){var u,c,d,g;for(g=[],u=0,c=(d=this.metrics).length;u<c;u++)g.push(d[u].advance);return g}.call(this),r=this.widths[this.widths.length-1],l=[],t=s=0;0<=i?s<i:s>i;t=0<=i?++s:--s)l.push(this.widths.push(r));return l},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n}(),uq=[].slice,w0e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Pl(n,Ba),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,i,o,s,a,l,u,c,d;return e in this.cache?this.cache[e]:(t=this.file.contents,r=(o=this.file.loca).indexOf(e),0===(i=o.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+r,s=(a=new Qc(t.read(i))).readShort(),u=a.readShort(),d=a.readShort(),l=a.readShort(),c=a.readShort(),this.cache[e]=-1===s?new E0e(a,u,d,l,c):new I0e(a,s,u,d,l,c),this.cache[e]))},n.prototype.encode=function(e,t,r){var i,o,s,a,l;for(s=[],o=[],a=0,l=t.length;a<l;a++)i=e[t[a]],o.push(s.length),i&&(s=s.concat(i.encode(r)));return o.push(s.length),{table:s,offsets:o}},n}(),I0e=function(){function n(e,t,r,i,o,s){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),E0e=function(){function n(e,t,r,i,o){var s,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Qc(uq.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),A0e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Pl(n,Ba),n.prototype.tag="loca",n.prototype.parse=function(e){var r;return e.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=2)o.push(2*e.readUInt16());return o}.call(this):function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=4)o.push(e.readUInt32());return o}.call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,o=0,s=0;s<r.length;++s)if(r[s]=i,o<t.length&&t[o]==s){++o,r[s]=i;var l=this.offsets[s+1]-this.offsets[s];l>0&&(i+=l)}for(var u=new Array(4*r.length),c=0;c<r.length;++c)u[4*c+3]=255&r[c],u[4*c+2]=(65280&r[c])>>8,u[4*c+1]=(16711680&r[c])>>16,u[4*c]=(4278190080&r[c])>>24;return u},n}(),C0e=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,i,o;for(t in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)e[t]=i[o[t]];return e},n.prototype.glyphsFor=function(e){var t,r,i,o,s,a,l;for(i={},s=0,a=e.length;s<a;s++)i[o=e[s]]=this.font.glyf.glyphFor(o);for(o in t=[],i)null!=(r=i[o])&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in l=this.glyphsFor(t))i[o]=r=l[o];return i},n.prototype.encode=function(e,t){var r,i,o,s,l,u,c,d,g,p,b,w,E,A;for(i in r=lq.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),p={0:0},A=r.charMap)p[(l=A[i]).old]=l.new;for(b in g=r.maxGlyphID,s)b in p||(p[b]=g++);return c=function(M){var B,F;for(B in F={},M)F[M[B]]=B;return F}(p),d=Object.keys(c).sort(function(M,B){return M-B}),w=function(){var M,B,F;for(F=[],M=0,B=d.length;M<B;M++)F.push(c[d[M]]);return F}(),o=this.font.glyf.encode(s,w,p),u=this.font.loca.encode(o.offsets,w),E={cmap:this.font.cmap.raw(),glyf:o.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},n}();At.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var i,o;if(Array.isArray(t))return"["+function(){var a,l,u;for(u=[],a=0,l=t.length;a<l;a++)u.push(e.convert(t[a]));return u}().join(" ")+"]";if("string"==typeof t)return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(t)){for(i in o=["<<"],t)o.push("/"+i+" "+e.convert(t[i]));return o.push(">>"),o.join("\n")}return""+t},e}();class T0e{static ordinaGiocatoriPerCognome(e){return[...e].sort((t,r)=>{const i=(t.cognome||"").toLowerCase(),o=(r.cognome||"").toLowerCase();if(i<o)return-1;if(i>o)return 1;const s=(t.nome||"").toLowerCase(),a=(r.nome||"").toLowerCase();return s<a?-1:s>a?1:0})}}let S0e=(()=>{class n{constructor(t){this.giocatoriService=t}generaListaGara(t){var r=this;return(0,re.A)(function*(){const i=new At,o=i.internal.pageSize.width,s=[0,128,0],l=[0,0,0];let u=15;try{const He=yield r.loadImageAsBase64("assets/images/uisp1.png"),Ct=yield r.loadImageAsBase64("assets/images/uisp2.png"),Qt=yield r.loadImageAsBase64("assets/images/uisp3.jpg");i.addImage(He,"PNG",20,5,20,20),i.addImage(Ct,"PNG",o/2-10,5,20,20),i.addImage(Qt,"JPG",o-40,5,20,20)}catch(He){console.error("Errore nel caricamento delle immagini:",He),i.setFontSize(8),i.setTextColor(...l),i.text("UISP",25,u),i.text("COMITATO TERRITORIALE",o/2-30,u),i.text("LOGO PALLAVOLO",o-60,u)}u+=22,i.setFontSize(12),i.setFont("helvetica","normal"),i.setTextColor(...s);const c=Oa.TITOLO_PDF,d=i.getTextWidth(c);i.text(c,(o-d)/2,u),u+=10,i.setFontSize(9),i.setFont("helvetica","bold");const g=Oa.PRIMO_SOTTOTITOLO,p=i.getTextWidth(g);i.rect(20,u-6,o-40,8),i.text(g,(o-p)/2,u),u+=12,i.setFontSize(9),i.setTextColor(...s),i.rect(20,u-6,o-40,8),i.text(Oa.SECONDO_SOTTOTITOLO,22,u);const w=22+i.getTextWidth(Oa.SECONDO_SOTTOTITOLO)+4;i.setTextColor(...l),i.setFont("helvetica","bold"),i.text(Oa.NOME_SQUADRA,w,u),u+=12;const E=20,A=o-40;i.setFontSize(9),i.setFont("helvetica","bold");const M=u,F=[.2*A,.4*A,.4*A];let X=E;F.forEach(He=>{i.rect(X,M-4,He,6),X+=He}),X=E,i.setFontSize(8),i.setFont("helvetica","bold"),i.setTextColor(...s);const se="N\xb0 GARA";i.text(se,X+2,M);const z=i.getTextWidth(se);i.setTextColor(...l),i.text(`    ${t.numeroGara}`,X+2+z,M),X+=F[0],i.setTextColor(...s);const D="OSPITANTE";i.text(D,X+2,M);const S=i.getTextWidth(D);i.setTextColor(...l),i.text(`    ${t.ospitante}`,X+2+S,M),X+=F[1],i.setTextColor(...s);const V="OSPITE";i.text(V,X+2,M);const C=i.getTextWidth(V);i.setTextColor(...l),i.text(`    ${t.ospite}`,X+2+C,M),u+=6;const x=u,P=[.7*A,.3*A];X=E,P.forEach(He=>{i.rect(X,x-4,He,6),X+=He}),X=E;const te=t.indirizzo.length>50?t.indirizzo.substring(0,32)+"...":t.indirizzo;i.setTextColor(...s);const me="INDIRIZZO";i.text(me,X+2,x);const Ae=i.getTextWidth(me);i.setTextColor(...l),i.text(`     ${te}`,X+2+Ae,x),X+=P[0],i.setTextColor(...s);const Ee="DATA E ORA";i.text(Ee,X+2,x);const pe=i.getTextWidth(Ee);i.setTextColor(...l);const Ce=r.formatDate(t.data);i.text(`    ${Ce} ${t.ora}`,X+2+pe,x),u+=6;const Ge=u;i.rect(E,Ge-4,A,6),i.setTextColor(...s);const Oe="CAMPIONATO";i.text(Oe,22,Ge);const U=i.getTextWidth(Oe);i.setTextColor(...l),i.text(`    ${t.campionato}`,22+U,Ge),u+=12;const W=yield r.giocatoriService.getGiocatori(),ee=r.filtraEOrdinaGiocatori(W),ie=W.filter(He=>"allenatore"===(He.ruolo||"").toLowerCase()),le=W.filter(He=>"dirigente"===(He.ruolo||"").toLowerCase()),ye=[.0625*A,.3125*A,3/12.8*A,3/12.8*A,2/12.8*A],Ie=u;i.setFontSize(9),i.setFont("helvetica","bold"),i.setTextColor(...s);let De=E;["N\xb0","COGNOME E NOME","DATA DI NASCITA","TESSERA UISP","DOCUMENTO"].forEach((He,Ct)=>{i.rect(De,Ie-4,ye[Ct],6);const Qt=i.getTextWidth(He);i.text(He,De+(ye[Ct]-Qt)/2,Ie),De+=ye[Ct]}),u+=6,i.setFontSize(9),i.setFont("helvetica","bold"),i.setTextColor(...l),ee.forEach((He,Ct)=>{De=E,ye.forEach($i=>{i.rect(De,u-4,$i,6),De+=$i}),De=E;const Tt=`${He.numeroMaglia||Ct+1}`,tn=i.getTextWidth(Tt);i.text(Tt,De+(ye[0]-tn)/2,u),De+=ye[0];let wt=`${He.cognome?.toUpperCase()||""} ${He.nome?.toUpperCase()||""}`.trim();const Bn=He.capitano?"K":"libero"===He.ruolo?.toLowerCase()?"L":"",Cr=Bn?i.getTextWidth(Bn):0,Mt=ye[1]-2-(Bn?Cr+4:0);if(i.getTextWidth(wt)>Mt){for(;i.getTextWidth(wt+"...")>Mt&&wt.length>0;)wt=wt.slice(0,-1);wt+="..."}i.text(wt,De+2,u),Bn&&i.text(Bn,De+ye[1]-2-Cr,u),De+=ye[1];const mn=r.formatDate(He.dataDiNascita||""),io=i.getTextWidth(mn);i.text(mn,De+(ye[2]-io)/2,u),De+=ye[2];const Qr=He.tesseraUisp||"",Co=i.getTextWidth(Qr);i.text(Qr,De+(ye[3]-Co)/2,u),De+=ye[3],u+=6}),u+=4;const Ke=[3/12.8*A,4.8/12.8*A,3/12.8*A,2/12.8*A];i.setFontSize(8),i.setFont("helvetica","bold"),["1\xb0 ALLENATORE","2\xb0 ALLENATORE","DIRIGENTE"].forEach(He=>{De=E,Ke.forEach(wt=>{i.rect(De,u-4,wt,6),De+=wt}),De=E,i.setTextColor(...s);const Ct=i.getTextWidth(He);i.text(He,De+(Ke[0]-Ct)/2,u),De+=Ke[0],i.setTextColor(...l);let Qt=null;He.startsWith("1\xb0")&&ie.length>0?Qt=ie[0]:He.startsWith("2\xb0")&&ie.length>1?Qt=ie[1]:"DIRIGENTE"===He&&le.length>0&&(Qt=le[0]);const Tt=Qt?`${(Qt.cognome||"").toUpperCase()} ${(Qt.nome||"").toUpperCase()}`.trim():"",tn=Qt&&Qt.tesseraUisp||"";if(Tt&&i.text(Tt,De+2,u),De+=Ke[1],tn){const wt=i.getTextWidth(tn);i.text(tn,De+(Ke[2]-wt)/2,u)}De+=Ke[2],u+=6}),u+=4,i.rect(20,u-4,o-40,6),i.setFontSize(10),i.setFont("helvetica","bold"),i.setTextColor(139,0,0);const jt=Oa.TITOLO_DEFIBRILLATORE,Dt=i.getTextWidth(jt);i.text(jt,(o-Dt)/2,u),u+=6,i.setFontSize(9);const Je=i.splitTextToSize(Oa.SOTTOTITOLO_DEFIBRILLATORE,o-48),Et=4*Je.length+2;i.rect(20,u-4,o-40,Et),Je.forEach((He,Ct)=>{const Qt=i.getTextWidth(He);i.text(He,(o-Qt)/2,u+4*Ct)}),u+=Et+4;const an=(t.ospitante||"").toUpperCase().includes("THUNDERS"),Nt=Oa.ADDETTO_DEFIBRILLATORE_THUNDERS;i.setFontSize(9),i.setFont("helvetica","bold"),i.setTextColor(...l);const Ot=an?`${Nt.cognome.toUpperCase()} ${Nt.nome.toUpperCase()}`:"",Kt=an?Nt.codiceFiscale:"";i.text(`IL/LA SOTTOSCRITTO/A: ${Ot||"_______________________"}`,20,u),i.text(`CODICE FISCALE: ${Kt||"_______________"}`,125,u),u+=6;const yt=an?r.formatDate(Nt.dataDiNascita):"",ft=an?Nt.luogoNascita:"__________",Rt=an?Nt.residenza:"_______________";i.text(`NATO/A IL: ${yt||"__________"}`,20,u),i.text(`A: ${ft}`,75,u),i.text(`RESIDENTE IN: ${Rt}`,125,u),u+=7,i.setFontSize(8);const Fn=i.splitTextToSize(Oa.TESTO_DICHIARAZIONE_DEFIBRILLATORE,o-40);i.text(Fn,20,u),u+=2.5*Fn.length+8,i.setFontSize(9),i.text("DATA_______________",20,u),i.text("FIRMA_______________________",80,u),i.setFont("helvetica","bold"),i.text("IL CAPITANO_____________________",140,u);const dn=`Lista_Gara_${t.numeroGara}_${t.data.replace(/-/g,"")}.pdf`;i.save(dn)})()}formatDate(t){if(!t)return"";const r=new Date(t);return isNaN(r.getTime())?t:`${r.getDate().toString().padStart(2,"0")}/${(r.getMonth()+1).toString().padStart(2,"0")}/${r.getFullYear()}`}loadImageAsBase64(t){return(0,re.A)(function*(){const i=yield(yield fetch(t)).blob();return new Promise((o,s)=>{const a=new FileReader;a.onloadend=()=>o(a.result),a.onerror=s,a.readAsDataURL(i)})})()}filtraEOrdinaGiocatori(t){const r=t.filter(i=>{const o=(i.ruolo||"").toLowerCase();return"allenatore"!==o&&"dirigente"!==o});return T0e.ordinaGiocatoriPerCognome(r)}static{this.\u0275fac=function(r){return new(r||n)(pt(Yb))}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),D0e=(()=>{class n{constructor(t){this.fb=t,this.partita=null,this.isEditMode=!1,this.onSave=new Jn,this.onClose=new Jn}ngOnInit(){this.partitaForm=this.fb.group({id:[null],numeroGara:["",Bi.required],data:["",Bi.required],ora:["",Bi.required],campionato:["",Bi.required],indirizzo:["",Bi.required],ospitante:["",Bi.required],ospite:["",Bi.required],risultato:["",[Bi.pattern(/^([0-3]-[0-3])$/)]]})}ngOnChanges(t){t.partita&&this.partitaForm&&(this.partita?this.partitaForm.patchValue(this.partita):this.partitaForm.reset())}salvaPartita(){this.partitaForm.valid&&(this.onSave.emit(this.partitaForm.value),this.partitaForm.reset())}onCancel(){this.partitaForm.reset(),this.onClose.emit()}static{this.\u0275fac=function(r){return new(r||n)(ke(Wx))}}static{this.\u0275cmp=es({type:n,selectors:[["app-dialog-calendario"]],inputs:{partita:"partita",isEditMode:"isEditMode"},outputs:{onSave:"onSave",onClose:"onClose"},features:[rs],decls:67,vars:20,consts:[["id","calendarioModal","tabindex","-1","aria-labelledby","calendarioModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","calendarioModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"row","mb-3"],[1,"col-md-4"],["for","numeroGara",1,"form-label"],["type","text","id","numeroGara","formControlName","numeroGara",1,"form-control"],[1,"invalid-feedback"],["for","data",1,"form-label"],["type","date","id","data","formControlName","data",1,"form-control"],["for","ora",1,"form-label"],["type","time","id","ora","formControlName","ora",1,"form-control"],[1,"col-md-12"],["for","campionato",1,"form-label"],["type","text","id","campionato","formControlName","campionato",1,"form-control"],["for","indirizzo",1,"form-label"],["type","text","id","indirizzo","formControlName","indirizzo",1,"form-control"],[1,"col-md-6"],["for","ospitante",1,"form-label"],["type","text","id","ospitante","formControlName","ospitante",1,"form-control"],["for","ospite",1,"form-label"],["type","text","id","ospite","formControlName","ospite",1,"form-control"],["for","risultato",1,"form-label"],["type","text","id","risultato","placeholder","es. 3-2","formControlName","risultato",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(r,i){if(1&r&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),H(5),k(),ge(6,"button",5),k(),N(7,"div",6)(8,"form",7)(9,"div",8)(10,"div",9)(11,"label",10),H(12,"Numero Gara *"),k(),ge(13,"input",11),N(14,"div",12),H(15,"Il numero gara \xe8 obbligatorio"),k()(),N(16,"div",9)(17,"label",13),H(18,"Data *"),k(),ge(19,"input",14),N(20,"div",12),H(21,"La data \xe8 obbligatoria"),k()(),N(22,"div",9)(23,"label",15),H(24,"Ora *"),k(),ge(25,"input",16),N(26,"div",12),H(27,"L'ora \xe8 obbligatoria"),k()()(),N(28,"div",8)(29,"div",17)(30,"label",18),H(31,"Campionato *"),k(),ge(32,"input",19),N(33,"div",12),H(34,"Il campionato \xe8 obbligatorio"),k()()(),N(35,"div",8)(36,"div",17)(37,"label",20),H(38,"Indirizzo *"),k(),ge(39,"input",21),N(40,"div",12),H(41,"L'indirizzo \xe8 obbligatorio"),k()()(),N(42,"div",8)(43,"div",22)(44,"label",23),H(45,"Ospitante *"),k(),ge(46,"input",24),N(47,"div",12),H(48,"L'ospitante \xe8 obbligatorio"),k()(),N(49,"div",22)(50,"label",25),H(51,"Ospite *"),k(),ge(52,"input",26),N(53,"div",12),H(54,"L'ospite \xe8 obbligatorio"),k()()(),N(55,"div",8)(56,"div",9)(57,"label",27),H(58,"Risultato (opzionale)"),k(),ge(59,"input",28),N(60,"div",12),H(61,"Formato non valido (usa X-Y con valori 0-3)"),k()()()()(),N(62,"div",29)(63,"button",30),Le("click",function(){return i.onCancel()}),H(64,"Annulla"),k(),N(65,"button",31),Le("click",function(){return i.salvaPartita()}),H(66),k()()()()()),2&r){let o,s,a,l,u,c,d,g;Z(5),rt(i.isEditMode?"Modifica Partita":"Aggiungi Partita"),Z(3),Se("formGroup",i.partitaForm),Z(5),Bt("is-invalid",(null==(o=i.partitaForm.get("numeroGara"))?null:o.invalid)&&(null==(o=i.partitaForm.get("numeroGara"))?null:o.touched)),Z(6),Bt("is-invalid",(null==(s=i.partitaForm.get("data"))?null:s.invalid)&&(null==(s=i.partitaForm.get("data"))?null:s.touched)),Z(6),Bt("is-invalid",(null==(a=i.partitaForm.get("ora"))?null:a.invalid)&&(null==(a=i.partitaForm.get("ora"))?null:a.touched)),Z(7),Bt("is-invalid",(null==(l=i.partitaForm.get("campionato"))?null:l.invalid)&&(null==(l=i.partitaForm.get("campionato"))?null:l.touched)),Z(7),Bt("is-invalid",(null==(u=i.partitaForm.get("indirizzo"))?null:u.invalid)&&(null==(u=i.partitaForm.get("indirizzo"))?null:u.touched)),Z(7),Bt("is-invalid",(null==(c=i.partitaForm.get("ospitante"))?null:c.invalid)&&(null==(c=i.partitaForm.get("ospitante"))?null:c.touched)),Z(6),Bt("is-invalid",(null==(d=i.partitaForm.get("ospite"))?null:d.invalid)&&(null==(d=i.partitaForm.get("ospite"))?null:d.touched)),Z(7),Bt("is-invalid",(null==(g=i.partitaForm.get("risultato"))?null:g.invalid)&&(null==(g=i.partitaForm.get("risultato"))?null:g.touched)),Z(6),Se("disabled",i.partitaForm.invalid),Z(1),pr(" ",i.isEditMode?"Salva Modifiche":"Aggiungi"," ")}},dependencies:[dv,wl,Lc,rv,Zp,hv]})}}return n})();function x0e(n,e){if(1&n&&(N(0,"div",29)(1,"span",30),H(2),k()()),2&n){const t=tt();Z(2),pr("",t.partiteRimanenti," partite rimanenti")}}function P0e(n,e){if(1&n){const t=Gr();N(0,"div",31)(1,"input",32,33),Le("change",function(i){return Cn(t),Tn(tt().handleFileUpload(i))}),k(),N(3,"button",34),Le("click",function(){return Cn(t),Tn(DE(2).click())}),ge(4,"i",35),N(5,"span",36),H(6,"Importa"),k()(),N(7,"button",37),Le("click",function(){return Cn(t),Tn(tt().exportToJSON())}),ge(8,"i",38),N(9,"span",36),H(10,"Esporta"),k()(),N(11,"button",39),Le("click",function(){return Cn(t),Tn(tt().openDialog())}),ge(12,"i",40),N(13,"span",36),H(14,"Aggiungi"),k()()()}}function N0e(n,e){1&n&&(N(0,"span",50),H(1,"-"),k())}function R0e(n,e){1&n&&(N(0,"span",52),ge(1,"i",53),k())}function M0e(n,e){1&n&&(N(0,"span",52),ge(1,"i",54),k())}function k0e(n,e){if(1&n&&(N(0,"span"),H(1),it(2,R0e,2,0,"span",51),it(3,M0e,2,0,"span",51),k()),2&n){const t=tt().$implicit,r=tt();Z(1),pr(" ",t.risultato," "),Z(1),Se("ngIf",!0===r.isVittoria(t)),Z(1),Se("ngIf",!1===r.isVittoria(t))}}function O0e(n,e){if(1&n){const t=Gr();N(0,"button",55),Le("click",function(){Cn(t);const i=tt().index;return Tn(tt().aggiungiAlCalendario(i))}),ge(1,"i",56),k()}}function L0e(n,e){if(1&n){const t=Gr();N(0,"button",57),Le("click",function(){Cn(t);const i=tt().index;return Tn(tt().apriDialogRisultato(i))}),ge(1,"i",58),k()}}function F0e(n,e){if(1&n){const t=Gr();N(0,"button",59),Le("click",function(){Cn(t);const i=tt().index;return Tn(tt().creaListaGara(i))}),ge(1,"i",60),k()}}function V0e(n,e){if(1&n){const t=Gr();N(0,"button",61),Le("click",function(){Cn(t);const i=tt().index;return Tn(tt().openDialog(i))}),ge(1,"i",62),k()}}function U0e(n,e){if(1&n){const t=Gr();N(0,"button",63),Le("click",function(){Cn(t);const i=tt().index;return Tn(tt().eliminaPartita(i))}),ge(1,"i",64),k()}}function B0e(n,e){if(1&n){const t=Gr();N(0,"tr")(1,"td")(2,"span",30),H(3),k()(),N(4,"td"),H(5),Xn(6,"date"),k(),N(7,"td"),H(8),k(),N(9,"td"),H(10),k(),N(11,"td")(12,"a",41),Le("click",function(){const o=Cn(t).$implicit;return Tn(tt().openMaps(o.indirizzo))}),ge(13,"i",42),H(14),k()(),N(15,"td"),H(16),k(),N(17,"td"),H(18),k(),N(19,"td"),it(20,N0e,2,0,"span",43),it(21,k0e,4,3,"span",22),k(),N(22,"td",44),it(23,O0e,2,0,"button",45),it(24,L0e,2,0,"button",46),it(25,F0e,2,0,"button",47),it(26,V0e,2,0,"button",48),it(27,U0e,2,0,"button",49),k()()}if(2&n){const t=e.$implicit,r=tt();Z(3),rt(t.numeroGara),Z(2),rt(Vo(6,14,t.data,"dd/MM/yyyy")),Z(3),rt(t.ora),Z(2),rt(t.campionato),Z(4),pr(" ",t.indirizzo," "),Z(2),rt(t.ospitante),Z(2),rt(t.ospite),Z(2),Se("ngIf",!t.risultato),Z(1),Se("ngIf",t.risultato),Z(2),Se("ngIf",!t.risultato),Z(1),Se("ngIf",r.authService.hasEditPermission()&&!t.risultato),Z(1),Se("ngIf",r.authService.hasEditPermission()&&!t.risultato),Z(1),Se("ngIf",r.authService.hasEditPermission()),Z(1),Se("ngIf",r.authService.hasEditPermission())}}function j0e(n,e){if(1&n&&(N(0,"tr")(1,"td",65),ge(2,"i",66),H(3),k()()),2&n){const t=tt();Z(3),pr(" ",0===t.partite.length?"Nessuna partita in calendario":"Nessun risultato trovato"," ")}}function z0e(n,e){1&n&&(N(0,"div",67),H(1," Nessuna partita in calendario "),k())}function $0e(n,e){1&n&&(N(0,"span",52),ge(1,"i",53),k())}function q0e(n,e){1&n&&(N(0,"span",52),ge(1,"i",54),k())}function G0e(n,e){if(1&n&&(N(0,"div",29)(1,"strong"),H(2,"Risultato:"),k(),H(3),it(4,$0e,2,0,"span",51),it(5,q0e,2,0,"span",51),k()),2&n){const t=tt().$implicit,r=tt();Z(3),pr(" ",t.risultato," "),Z(1),Se("ngIf",!0===r.isVittoria(t)),Z(1),Se("ngIf",!1===r.isVittoria(t))}}function H0e(n,e){if(1&n){const t=Gr();N(0,"button",80),Le("click",function(){Cn(t);const i=tt().index;return Tn(tt().aggiungiAlCalendario(i))}),ge(1,"i",81),H(2,"Calendario "),k()}}function W0e(n,e){if(1&n){const t=Gr();N(0,"button",89),Le("click",function(){Cn(t);const i=tt(2).index;return Tn(tt().apriDialogRisultato(i))}),ge(1,"i",90),H(2,"Risultato "),k()}}function K0e(n,e){if(1&n){const t=Gr();N(0,"button",91),Le("click",function(){Cn(t);const i=tt(2).index;return Tn(tt().creaListaGara(i))}),ge(1,"i",92),H(2,"Lista gara "),k()}}function Q0e(n,e){if(1&n){const t=Gr();N(0,"div",82),it(1,W0e,3,0,"button",83),it(2,K0e,3,0,"button",84),N(3,"button",85),Le("click",function(){Cn(t);const i=tt().index;return Tn(tt().openDialog(i))}),ge(4,"i",86),H(5,"Modifica "),k(),N(6,"button",87),Le("click",function(){Cn(t);const i=tt().index;return Tn(tt().eliminaPartita(i))}),ge(7,"i",88),H(8,"Elimina "),k()()}if(2&n){const t=tt().$implicit;Z(1),Se("ngIf",!t.risultato),Z(1),Se("ngIf",!t.risultato)}}function Y0e(n,e){if(1&n){const t=Gr();N(0,"div",68)(1,"h2",69)(2,"button",70)(3,"div",71)(4,"span",72),H(5),k(),N(6,"span",73),H(7),Xn(8,"date"),k(),N(9,"span",74),H(10),k()()()(),N(11,"div",75)(12,"div",76)(13,"div")(14,"strong"),H(15,"Campionato:"),k(),H(16),ge(17,"br"),N(18,"strong"),H(19,"Ospitante:"),k(),H(20),ge(21,"br"),N(22,"strong"),H(23,"Ospite:"),k(),H(24),ge(25,"br"),N(26,"strong"),H(27,"Indirizzo:"),k(),N(28,"a",41),Le("click",function(){const o=Cn(t).$implicit;return Tn(tt().openMaps(o.indirizzo))}),ge(29,"i",42),H(30),k(),it(31,G0e,6,3,"div",6),k(),N(32,"div",77),it(33,H0e,3,0,"button",78),k(),it(34,Q0e,9,2,"div",79),k()()()}if(2&n){const t=e.$implicit,r=e.index,i=tt();Z(1),Ci("id","heading"+r),Z(1),Ci("data-bs-target","#collapse"+r)("aria-controls","collapse"+r),Z(3),pr("Gara ",t.numeroGara,""),Z(2),rt(Vo(8,15,t.data,"dd/MM/yyyy")),Z(3),rt(t.ora),Z(1),Ci("id","collapse"+r)("aria-labelledby","heading"+r),Z(5),pr(" ",t.campionato,""),Z(4),pr(" ",t.ospitante,""),Z(4),pr(" ",t.ospite,""),Z(6),pr(" ",t.indirizzo," "),Z(1),Se("ngIf",t.risultato),Z(2),Se("ngIf",!t.risultato),Z(1),Se("ngIf",i.authService.hasEditPermission())}}const Yc=function(n,e,t){return{"bi-arrow-down":n,"bi-arrow-up":e,"bi-arrow-down-up":t}};let Z0e=(()=>{class n{constructor(t,r,i){this.calendarioService=t,this.pdfService=r,this.authService=i,this.partite=[],this.filteredPartite=[],this.selectedPartita=null,this.isEditMode=!1,this.selectedIndex=null,this.filters={numeroGara:"",data:"",ora:"",campionato:"",indirizzo:"",ospitante:"",ospite:"",risultato:""},this.sortColumn="numeroGara",this.sortDirection="asc"}shouldShowActionsColumn(){return!0}ngOnInit(){this.partiteSubscription=this.calendarioService.getPartiteObservable().subscribe(t=>{this.partite=t,this.applyFilters()})}ngOnDestroy(){this.partiteSubscription&&this.partiteSubscription.unsubscribe()}get partiteRimanenti(){return this.partite.filter(t=>!t.risultato||""===t.risultato.trim()).length}get partiteOrdinateEFiltrate(){return this.filteredPartite}applyFilters(){let t=[...this.partite];Object.keys(this.filters).forEach(r=>{const i=this.filters[r].toLowerCase().trim();i&&(t=t.filter(o=>{let s=o[r];if("data"===r&&s){const a=new Date(s);s=`${a.getDate().toString().padStart(2,"0")}/${(a.getMonth()+1).toString().padStart(2,"0")}/${a.getFullYear()}`}return s?.toString().toLowerCase().includes(i)}))}),t.sort((r,i)=>{let o=r[this.sortColumn],s=i[this.sortColumn];return"data"===this.sortColumn?(o=o?new Date(o).getTime():0,s=s?new Date(s).getTime():0):"numeroGara"===this.sortColumn?(o=parseInt(o)||0,s=parseInt(s)||0):(o=o?.toString().toLowerCase()||"",s=s?.toString().toLowerCase()||""),o<s?"asc"===this.sortDirection?-1:1:o>s?"asc"===this.sortDirection?1:-1:0}),this.filteredPartite=t}onFilterChange(){this.applyFilters()}sortBy(t){this.sortColumn===t?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=t,this.sortDirection="asc"),this.applyFilters()}clearFilters(){this.filters={numeroGara:"",data:"",ora:"",campionato:"",indirizzo:"",ospitante:"",ospite:"",risultato:""},this.applyFilters()}openDialog(t){void 0!==t?(this.selectedPartita={...this.filteredPartite[t]},this.selectedIndex=this.partite.findIndex(r=>r.id===this.filteredPartite[t].id),this.isEditMode=!0):(this.selectedPartita=null,this.selectedIndex=null,this.isEditMode=!1)}handleSave(t){var r=this;return(0,re.A)(function*(){try{if(r.isEditMode&&null!==r.selectedIndex){const i=r.partite[r.selectedIndex].id,{id:o,...s}=t;yield r.calendarioService.updatePartita(i,s)}else yield r.calendarioService.addPartita(t);r.closeModal(),r.handleClose()}catch(i){console.error("Errore nel salvataggio della partita:",i),alert("Errore nel salvataggio. Riprova.")}})()}handleClose(){this.selectedPartita=null,this.selectedIndex=null,this.isEditMode=!1}eliminaPartita(t){var r=this;return(0,re.A)(function*(){if(confirm("Sei sicuro di voler eliminare questa partita?"))try{const i=r.filteredPartite[t].id;yield r.calendarioService.deletePartita(i)}catch(i){console.error("Errore nell'eliminazione della partita:",i),alert("Errore nell'eliminazione. Riprova.")}})()}closeModal(){const t=document.getElementById("calendarioModal");if(t){const r=bootstrap.Modal.getInstance(t);r&&r.hide()}}isVittoria(t){if(!t.risultato)return null;const r=t.risultato.split("-");if(2!==r.length)return null;const i=parseInt(r[0].trim()),o=parseInt(r[1].trim());if(isNaN(i)||isNaN(o))return null;const s=t.ospitante.toLowerCase().includes("thunders"),a=t.ospite.toLowerCase().includes("thunders");return s||a?s?i>o:o>i:null}handleFileUpload(t){var r=this;const i=t.target.files[0];if(!i)return;if(!i.name.endsWith(".json"))return alert("Seleziona un file JSON valido."),void(t.target.value="");const o=new FileReader;o.onload=function(){var s=(0,re.A)(function*(a){try{const l=JSON.parse(a.target.result);if(!Array.isArray(l))return alert("Il file JSON deve contenere un array di partite."),void(t.target.value="");yield r.parsePartiteFromJSON(l),t.target.value=""}catch(l){console.error("Errore nel parsing del file JSON:",l),alert("Errore nel parsing del file JSON. Assicurati che il formato sia corretto."),t.target.value=""}});return function(a){return s.apply(this,arguments)}}(),o.readAsText(i)}parsePartiteFromJSON(t){var r=this;return(0,re.A)(function*(){const i=[];for(const o of t)if(o.numeroGara&&o.data&&o.ora&&o.campionato&&o.indirizzo&&o.ospitante&&o.ospite){const s={numeroGara:parseInt(o.numeroGara),data:o.data,ora:o.ora,campionato:o.campionato,indirizzo:o.indirizzo,ospitante:o.ospitante,ospite:o.ospite,risultato:o.risultato||""};i.push(s)}if(i.length>0)try{for(const o of i)yield r.calendarioService.addPartita(o);alert(`${i.length} partite caricate con successo!`)}catch(o){console.error("Errore nel caricamento delle partite:",o),alert("Errore nel caricamento. Riprova.")}else alert("Nessuna partita valida trovata nel file")})()}exportToJSON(){if(0===this.partite.length)return void alert("Nessuna partita da esportare.");const t=this.partite.map(l=>{const{id:u,...c}=l;return c}),r=JSON.stringify(t,null,2),i=new Blob([r],{type:"application/json"}),o=window.URL.createObjectURL(i),s=document.createElement("a");s.href=o;const a=(new Date).toISOString().split("T")[0];s.download=`partite_${a}.json`,s.click(),window.URL.revokeObjectURL(o)}apriDialogRisultato(t){this.selectedPartita=this.filteredPartite[t],this.dialogRisultatoComp&&this.dialogRisultatoComp.open()}chiudiDialogRisultato(){}salvaRisultato(t){var r=this;return(0,re.A)(function*(){if(null!=r.selectedPartita&&!(t.ospitante<0||t.ospitante>3||t.ospite<0||t.ospite>3))try{r.selectedPartita.risultato=`${t.ospitante}-${t.ospite}`;const i=r.selectedPartita.id,{id:o,...s}=r.selectedPartita;yield r.calendarioService.updatePartita(i,s)}catch(i){console.error("Errore nel salvataggio del risultato:",i),alert("Errore nel salvataggio. Riprova.")}})()}openMaps(t){const r=encodeURIComponent(t);/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?window.location.href=`https://maps.google.com/?q=${r}`:window.open(`https://www.google.com/maps?q=${r}`,"_blank")}creaListaGara(t){var r=this;return(0,re.A)(function*(){try{const i=r.filteredPartite[t];yield r.pdfService.generaListaGara(i)}catch(i){console.error("Errore nella generazione del PDF:",i),alert("Errore nella generazione del PDF. Riprova pi\xf9 tardi.")}})()}aggiungiAlCalendario(t){const r=this.filteredPartite[t],i=new Date(r.data),[o,s]=r.ora.split(":");i.setHours(parseInt(o),parseInt(s),0,0);const a=new Date(i);a.setHours(i.getHours()+2);const l=b=>`${b.getFullYear()}${String(b.getMonth()+1).padStart(2,"0")}${String(b.getDate()).padStart(2,"0")}T${String(b.getHours()).padStart(2,"0")}${String(b.getMinutes()).padStart(2,"0")}${String(b.getSeconds()).padStart(2,"0")}`,u=l(i),c=l(a),d=l(new Date),g=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//PuntoVolley Thunders//Calendario//IT","CALSCALE:GREGORIAN","METHOD:PUBLISH","BEGIN:VEVENT",`DTSTART:${u}`,`DTEND:${c}`,`DTSTAMP:${d}`,`UID:partita-${r.numeroGara}-${d}@thunders.it`,`SUMMARY:${r.ospitante} vs ${r.ospite}`,`DESCRIPTION:Partita ${r.campionato}\\nGara n. ${r.numeroGara}`,`LOCATION:${r.indirizzo}`,"STATUS:CONFIRMED","SEQUENCE:0","BEGIN:VALARM","TRIGGER:-PT1H","ACTION:DISPLAY","DESCRIPTION:Partita tra 1 ora","END:VALARM","END:VEVENT","END:VCALENDAR"].join("\r\n");if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){const b=new Blob([g],{type:"text/calendar;charset=utf-8"}),w=URL.createObjectURL(b);window.location.href=w,setTimeout(()=>URL.revokeObjectURL(w),1e3)}else{const b=new Blob([g],{type:"text/calendar;charset=utf-8"}),w=window.URL.createObjectURL(b),E=document.createElement("a");E.href=w,E.download=`partita-${r.numeroGara}.ics`,E.click(),window.URL.revokeObjectURL(w)}}static{this.\u0275fac=function(r){return new(r||n)(ke(c9),ke(S0e),ke(Rc))}}static{this.\u0275cmp=es({type:n,selectors:[["app-calendario"]],viewQuery:function(r,i){if(1&r&&function P4(n,e,t){const r=An();r.firstCreatePass&&(M4(r,new D4(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),R4(r,Fe(),e)}(uj,5),2&r){let o;eA(o=tA())&&(i.dialogRisultatoComp=o.first)}},decls:87,vars:57,consts:[[1,"container-fluid","px-3","custom-spacing"],[1,"row","mb-2"],[1,"col-12","d-flex","justify-content-between","align-items-center","flex-wrap"],[1,"mb-2","mb-md-0"],[1,"mb-0"],[1,"badge","bg-primary","fs-4","text-uppercase"],["class","mt-2",4,"ngIf"],["class","d-flex gap-2",4,"ngIf"],[1,"table-container","d-none","d-md-block"],[1,"table-wrapper"],[1,"table","table-hover","modern-table"],[1,"table-header","sticky-header"],[1,"sortable",3,"click"],[1,"th-content"],[1,"bi",3,"ngClass"],[1,"actions-column"],["title","Pulisci filtri",1,"btn","btn-sm","btn-link","text-white",3,"click"],[1,"bi","bi-x-circle"],[1,"filter-row"],["type","text","placeholder","Filtra...",1,"form-control","form-control-sm","filter-input",3,"ngModel","ngModelChange","input"],["type","text","placeholder","gg/mm/aaaa",1,"form-control","form-control-sm","filter-input",3,"ngModel","ngModelChange","input"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"d-md-none"],["class","text-center text-muted py-4",4,"ngIf"],["id","calendarioAccordion",1,"accordion"],["class","accordion-item",4,"ngFor","ngForOf"],[3,"partita","isEditMode","onSave","onClose"],[3,"partita","onSave","onClose"],[1,"mt-2"],[1,"badge","bg-primary"],[1,"d-flex","gap-2"],["type","file","accept",".json",1,"file-input-hidden",3,"change"],["fileInput",""],["title","Importa partite da JSON",1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi-upload"],[1,"d-none","d-lg-inline"],["title","Esporta partite in JSON",1,"btn","btn-sm","btn-success",3,"click"],[1,"bi","bi-download"],["data-bs-toggle","modal","data-bs-target","#calendarioModal",1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi-plus-circle"],["href","javascript:void(0)","title","Apri in Google Maps",1,"text-decoration-none","text-primary","d-inline-flex","align-items-center","maps-link",3,"click"],[1,"bi","bi-geo-alt-fill","me-1"],["class","text-muted",4,"ngIf"],[1,"actions-cell"],["class","btn btn-info btn-sm me-1","title","Aggiungi al calendario",3,"click",4,"ngIf"],["class","btn btn-success btn-sm me-1","title","Inserisci risultato",3,"click",4,"ngIf"],["class","btn btn-secondary btn-sm me-1","title","Crea lista gara",3,"click",4,"ngIf"],["class","btn btn-primary btn-sm me-1","data-bs-toggle","modal","data-bs-target","#calendarioModal","title","Modifica",3,"click",4,"ngIf"],["class","btn btn-danger btn-sm","title","Elimina",3,"click",4,"ngIf"],[1,"text-muted"],["class","ms-2",4,"ngIf"],[1,"ms-2"],[1,"bi","bi-check-circle-fill","text-success"],[1,"bi","bi-x-circle-fill","text-danger"],["title","Aggiungi al calendario",1,"btn","btn-info","btn-sm","me-1",3,"click"],[1,"bi","bi-calendar-plus"],["title","Inserisci risultato",1,"btn","btn-success","btn-sm","me-1",3,"click"],[1,"bi","bi-check2-square"],["title","Crea lista gara",1,"btn","btn-secondary","btn-sm","me-1",3,"click"],[1,"bi","bi-list-check"],["data-bs-toggle","modal","data-bs-target","#calendarioModal","title","Modifica",1,"btn","btn-primary","btn-sm","me-1",3,"click"],[1,"bi","bi-pencil"],["title","Elimina",1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],["colspan","9",1,"text-center","text-muted","py-4"],[1,"bi","bi-inbox","fs-1","d-block","mb-2"],[1,"text-center","text-muted","py-4"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"accordion-button","collapsed"],[1,"accordion-header-content"],[1,"gara-numero"],[1,"gara-data"],[1,"gara-ora"],["data-bs-parent","#calendarioAccordion",1,"accordion-collapse","collapse"],[1,"accordion-body"],[1,"mt-3","d-flex","flex-wrap","gap-2","justify-content-end"],["class","btn btn-info btn-sm",3,"click",4,"ngIf"],["class","mt-2 d-flex flex-wrap gap-2 justify-content-end",4,"ngIf"],[1,"btn","btn-info","btn-sm",3,"click"],[1,"bi","bi-calendar-plus","me-1"],[1,"mt-2","d-flex","flex-wrap","gap-2","justify-content-end"],["class","btn btn-success btn-sm",3,"click",4,"ngIf"],["class","btn btn-secondary btn-sm",3,"click",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#calendarioModal",1,"btn","btn-primary","btn-sm",3,"click"],[1,"bi","bi-pencil","me-1"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash","me-1"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"bi","bi-check2-square","me-1"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"bi","bi-list-check","me-1"]],template:function(r,i){1&r&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4)(5,"span",5),H(6,"Calendario"),k()(),it(7,x0e,3,1,"div",6),k(),it(8,P0e,15,0,"div",7),k()(),N(9,"div",8)(10,"div",9)(11,"table",10)(12,"thead",11)(13,"tr")(14,"th",12),Le("click",function(){return i.sortBy("numeroGara")}),N(15,"div",13)(16,"span"),H(17,"N. Gara"),k(),ge(18,"i",14),k()(),N(19,"th",12),Le("click",function(){return i.sortBy("data")}),N(20,"div",13)(21,"span"),H(22,"Data"),k(),ge(23,"i",14),k()(),N(24,"th",12),Le("click",function(){return i.sortBy("ora")}),N(25,"div",13)(26,"span"),H(27,"Ora"),k(),ge(28,"i",14),k()(),N(29,"th",12),Le("click",function(){return i.sortBy("campionato")}),N(30,"div",13)(31,"span"),H(32,"Campionato"),k(),ge(33,"i",14),k()(),N(34,"th",12),Le("click",function(){return i.sortBy("indirizzo")}),N(35,"div",13)(36,"span"),H(37,"Indirizzo"),k(),ge(38,"i",14),k()(),N(39,"th",12),Le("click",function(){return i.sortBy("ospitante")}),N(40,"div",13)(41,"span"),H(42,"Ospitante"),k(),ge(43,"i",14),k()(),N(44,"th",12),Le("click",function(){return i.sortBy("ospite")}),N(45,"div",13)(46,"span"),H(47,"Ospite"),k(),ge(48,"i",14),k()(),N(49,"th",12),Le("click",function(){return i.sortBy("risultato")}),N(50,"div",13)(51,"span"),H(52,"Risultato"),k(),ge(53,"i",14),k()(),N(54,"th",15)(55,"div",13)(56,"span"),H(57,"Azioni"),k(),N(58,"button",16),Le("click",function(){return i.clearFilters()}),ge(59,"i",17),k()()()(),N(60,"tr",18)(61,"th")(62,"input",19),Le("ngModelChange",function(s){return i.filters.numeroGara=s})("input",function(){return i.onFilterChange()}),k()(),N(63,"th")(64,"input",20),Le("ngModelChange",function(s){return i.filters.data=s})("input",function(){return i.onFilterChange()}),k()(),N(65,"th")(66,"input",19),Le("ngModelChange",function(s){return i.filters.ora=s})("input",function(){return i.onFilterChange()}),k()(),N(67,"th")(68,"input",19),Le("ngModelChange",function(s){return i.filters.campionato=s})("input",function(){return i.onFilterChange()}),k()(),N(69,"th")(70,"input",19),Le("ngModelChange",function(s){return i.filters.indirizzo=s})("input",function(){return i.onFilterChange()}),k()(),N(71,"th")(72,"input",19),Le("ngModelChange",function(s){return i.filters.ospitante=s})("input",function(){return i.onFilterChange()}),k()(),N(73,"th")(74,"input",19),Le("ngModelChange",function(s){return i.filters.ospite=s})("input",function(){return i.onFilterChange()}),k()(),N(75,"th")(76,"input",19),Le("ngModelChange",function(s){return i.filters.risultato=s})("input",function(){return i.onFilterChange()}),k()(),ge(77,"th"),k()(),N(78,"tbody"),it(79,B0e,28,17,"tr",21),it(80,j0e,4,1,"tr",22),k()()()(),N(81,"div",23),it(82,z0e,2,0,"div",24),N(83,"div",25),it(84,Y0e,35,18,"div",26),k()()(),N(85,"app-dialog-calendario",27),Le("onSave",function(s){return i.handleSave(s)})("onClose",function(){return i.handleClose()}),k(),N(86,"app-dialog-risultato",28),Le("onSave",function(s){return i.salvaRisultato(s)})("onClose",function(){return i.chiudiDialogRisultato()}),k()),2&r&&(Z(7),Se("ngIf",i.partite.length),Z(1),Se("ngIf",i.authService.hasEditPermission()),Z(10),Se("ngClass",gi(25,Yc,"numeroGara"===i.sortColumn&&"asc"===i.sortDirection,"numeroGara"===i.sortColumn&&"desc"===i.sortDirection,"numeroGara"!==i.sortColumn)),Z(5),Se("ngClass",gi(29,Yc,"data"===i.sortColumn&&"asc"===i.sortDirection,"data"===i.sortColumn&&"desc"===i.sortDirection,"data"!==i.sortColumn)),Z(5),Se("ngClass",gi(33,Yc,"ora"===i.sortColumn&&"asc"===i.sortDirection,"ora"===i.sortColumn&&"desc"===i.sortDirection,"ora"!==i.sortColumn)),Z(5),Se("ngClass",gi(37,Yc,"campionato"===i.sortColumn&&"asc"===i.sortDirection,"campionato"===i.sortColumn&&"desc"===i.sortDirection,"campionato"!==i.sortColumn)),Z(5),Se("ngClass",gi(41,Yc,"indirizzo"===i.sortColumn&&"asc"===i.sortDirection,"indirizzo"===i.sortColumn&&"desc"===i.sortDirection,"indirizzo"!==i.sortColumn)),Z(5),Se("ngClass",gi(45,Yc,"ospitante"===i.sortColumn&&"asc"===i.sortDirection,"ospitante"===i.sortColumn&&"desc"===i.sortDirection,"ospitante"!==i.sortColumn)),Z(5),Se("ngClass",gi(49,Yc,"ospite"===i.sortColumn&&"asc"===i.sortDirection,"ospite"===i.sortColumn&&"desc"===i.sortDirection,"ospite"!==i.sortColumn)),Z(5),Se("ngClass",gi(53,Yc,"risultato"===i.sortColumn&&"asc"===i.sortDirection,"risultato"===i.sortColumn&&"desc"===i.sortDirection,"risultato"!==i.sortColumn)),Z(9),Se("ngModel",i.filters.numeroGara),Z(2),Se("ngModel",i.filters.data),Z(2),Se("ngModel",i.filters.ora),Z(2),Se("ngModel",i.filters.campionato),Z(2),Se("ngModel",i.filters.indirizzo),Z(2),Se("ngModel",i.filters.ospitante),Z(2),Se("ngModel",i.filters.ospite),Z(2),Se("ngModel",i.filters.risultato),Z(3),Se("ngForOf",i.partiteOrdinateEFiltrate),Z(1),Se("ngIf",0===i.filteredPartite.length),Z(2),Se("ngIf",0===i.partite.length),Z(2),Se("ngForOf",i.partite),Z(1),Se("partita",i.selectedPartita)("isEditMode",i.isEditMode),Z(1),Se("partita",i.selectedPartita))},dependencies:[n0,qf,ul,wl,Lc,Yp,D0e,uj,Pm],styles:[".file-input-hidden[_ngcontent-%COMP%]{display:none}.custom-spacing[_ngcontent-%COMP%]{margin-top:-20px}.table-container[_ngcontent-%COMP%]{background:white;border-radius:8px;box-shadow:0 1px 3px #00000014;overflow:hidden;margin-bottom:2rem}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;max-height:calc(100vh - 200px)}.modern-table[_ngcontent-%COMP%]{margin-bottom:0;font-size:.9rem}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10}.table-header[_ngcontent-%COMP%]{background-color:#cfe2ff;color:#084298}.table-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#cfe2ff!important}.table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.75rem;font-weight:600;white-space:nowrap;background-color:#cfe2ff!important}.sortable[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:background-color .2s}.sortable[_ngcontent-%COMP%]:hover{background-color:#0842981a}.th-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.5rem}.th-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem;opacity:.7}.filter-row[_ngcontent-%COMP%]{background-color:#cfe2ff}.filter-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem;background-color:#cfe2ff;border-top:none}.filter-input[_ngcontent-%COMP%]{font-size:.85rem;border:1px solid #dee2e6;border-radius:4px;padding:.375rem .5rem}.filter-input[_ngcontent-%COMP%]:focus{border-color:#6ea8fe;box-shadow:0 0 0 .2rem #6ea8fe40}.table-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{color:#084298;opacity:.8}.table-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{color:#052c65;opacity:1}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .15s;border-bottom:1px solid #f8f9fa}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#0d6efd0a}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;vertical-align:middle}.actions-column[_ngcontent-%COMP%]{min-width:180px;text-align:center}.actions-cell[_ngcontent-%COMP%]{white-space:nowrap;text-align:center}.actions-cell[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem}.actions-cell[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0}.modern-table[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.875rem;padding:.35rem .65rem;font-weight:500}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.375rem}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:last-child{margin-right:0}.maps-link[_ngcontent-%COMP%]{transition:all .2s ease}.maps-link[_ngcontent-%COMP%]:hover{background-color:rgba(var(--bs-primary-rgb),.1);border-radius:4px;padding:2px 4px;transform:translate(2px)}.accordion-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;width:100%}.gara-numero[_ngcontent-%COMP%]{font-weight:600;min-width:65px;color:#0d6efd}.gara-data[_ngcontent-%COMP%]{font-weight:500;min-width:85px}.gara-ora[_ngcontent-%COMP%]{font-weight:400;color:#6c757d;min-width:50px}@media (max-width: 1400px){.modern-table[_ngcontent-%COMP%]{font-size:.85rem}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem}}@media (max-width: 768px){.table-container[_ngcontent-%COMP%]{display:none}.maps-link[_ngcontent-%COMP%]:hover{transform:none}}"]})}}return n})(),J0e=(()=>{class n{constructor(t){this.firestore=t,this.collectionName="classifica"}getStandingsDataObservable(){const t=Kp(this.firestore,this.collectionName);return Cx(t,{idField:"id"}).pipe(hn(r=>{if(r&&r.length>0){const i=r[0];return{lastUpdate:i.lastUpdate?.toDate?i.lastUpdate.toDate():new Date(i.lastUpdate),season:i.season,standings:i.standings||[]}}return null}))}getStandingsData(){var t=this;return(0,re.A)(function*(){return yield Qb(t.getStandingsDataObservable())})()}getClassificaObservable(){return this.getStandingsDataObservable().pipe(hn(t=>t&&t.standings?[...t.standings].sort((r,i)=>(i.punti||0)-(r.punti||0)):[]))}getClassifica(){var t=this;return(0,re.A)(function*(){return yield Qb(t.getClassificaObservable())})()}static{this.\u0275fac=function(r){return new(r||n)(pt(Wp))}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function X0e(n,e){if(1&n&&(N(0,"span",22),H(1),k()),2&n){const t=tt();Z(1),rt(t.season)}}function ebe(n,e){if(1&n&&(N(0,"small",23),ge(1,"i",24),H(2),Xn(3,"date"),k()),2&n){const t=tt();Z(2),pr("Aggiornato il ",Vo(3,1,t.lastUpdate,"dd/MM/yyyy HH:mm")," ")}}function tbe(n,e){if(1&n&&(N(0,"small",25),ge(1,"i",24),H(2),Xn(3,"date"),k()),2&n){const t=tt();Z(2),pr("Agg. ",Vo(3,1,t.lastUpdate,"dd/MM/yy HH:mm")," ")}}function nbe(n,e){if(1&n&&(N(0,"tr")(1,"td",26),H(2),k(),N(3,"td"),H(4),k(),N(5,"td",27),H(6),k(),N(7,"td",15),H(8),k(),N(9,"td",15),H(10),k(),N(11,"td",15),H(12),k(),N(13,"td",15),H(14),k(),N(15,"td",15),H(16),k(),N(17,"td",15),H(18),Xn(19,"percent"),k(),N(20,"td",15),H(21),k(),N(22,"td",15),H(23),k(),N(24,"td",15),H(25),Xn(26,"percent"),k()()),2&n){const t=e.$implicit,r=e.index,i=tt();Bt("table-primary",i.isThunders(t)),Z(2),rt(r+1),Z(1),Bt("fw-bold",i.isThunders(t))("fw-semibold",!i.isThunders(t)),Z(1),rt(t.squadra),Z(2),rt(t.punti),Z(1),Bt("fw-bold",i.isThunders(t)),Z(1),rt(t.partiteVinte+t.partitePerse),Z(1),Bt("fw-bold",i.isThunders(t)),Z(1),rt(t.partiteVinte),Z(1),Bt("fw-bold",i.isThunders(t)),Z(1),rt(t.partitePerse),Z(1),Bt("fw-bold",i.isThunders(t)),Z(1),rt(t.setVinti),Z(1),Bt("fw-bold",i.isThunders(t)),Z(1),rt(t.setPersi),Z(1),Bt("fw-bold",i.isThunders(t)),Z(1),rt(Vo(19,36,t.quozienteSet/100,"1.0-0")),Z(2),Bt("fw-bold",i.isThunders(t)),Z(1),rt(t.puntiFatti),Z(1),Bt("fw-bold",i.isThunders(t)),Z(1),rt(t.puntiSubiti),Z(1),Bt("fw-bold",i.isThunders(t)),Z(1),rt(Vo(26,39,t.quozientePunti/100,"1.2-2"))}}function rbe(n,e){1&n&&(N(0,"tr")(1,"td",28),ge(2,"i",29),H(3,"Nessun dato disponibile "),k()())}function ibe(n,e){1&n&&(N(0,"div",30),ge(1,"i",29),H(2,"Nessun dato disponibile "),k())}function obe(n,e){if(1&n&&(N(0,"div",31)(1,"h2",32)(2,"button",33)(3,"div",34),H(4),k(),N(5,"div",35),H(6),k(),N(7,"div",36)(8,"span",37),H(9),k()()()(),N(10,"div",38)(11,"div",39)(12,"div",40)(13,"div",41)(14,"span",42),H(15,"GIOCATE"),k(),N(16,"span",43),H(17),k()(),N(18,"div",41)(19,"span",42),H(20,"Vittorie"),k(),N(21,"span",43),H(22),k()(),N(23,"div",41)(24,"span",42),H(25,"Sconfitte"),k(),N(26,"span",43),H(27),k()()(),N(28,"div",40)(29,"div",41)(30,"span",42),H(31,"Set Vinti"),k(),N(32,"span",43),H(33),k()(),N(34,"div",41)(35,"span",42),H(36,"Set Persi"),k(),N(37,"span",43),H(38),k()(),N(39,"div",41)(40,"span",42),H(41,"Q. Set"),k(),N(42,"span",43),H(43),Xn(44,"percent"),k()()(),N(45,"div",40)(46,"div",41)(47,"span",42),H(48,"Pt. Fatti"),k(),N(49,"span",43),H(50),k()(),N(51,"div",41)(52,"span",42),H(53,"Pt. Subiti"),k(),N(54,"span",43),H(55),k()(),N(56,"div",41)(57,"span",42),H(58,"Q. Punti"),k(),N(59,"span",43),H(60),Xn(61,"percent"),k()()()()()()),2&n){const t=e.$implicit,r=e.index,i=tt();Bt("thunders-highlight",i.isThunders(t)),Z(1),Ci("id","heading"+r),Z(1),Ci("data-bs-target","#collapse"+r)("aria-controls","collapse"+r),Z(2),rt(r+1),Z(1),Bt("fw-bold",i.isThunders(t)),Z(1),pr(" ",t.squadra," "),Z(3),rt(t.punti),Z(1),Ci("id","collapse"+r)("aria-labelledby","heading"+r),Z(6),Bt("fw-bold",i.isThunders(t)),Z(1),rt(t.partiteVinte+t.partitePerse),Z(4),Bt("fw-bold",i.isThunders(t)),Z(1),rt(t.partiteVinte),Z(4),Bt("fw-bold",i.isThunders(t)),Z(1),rt(t.partitePerse),Z(5),Bt("fw-bold",i.isThunders(t)),Z(1),rt(t.setVinti),Z(4),Bt("fw-bold",i.isThunders(t)),Z(1),rt(t.setPersi),Z(4),Bt("fw-bold",i.isThunders(t)),Z(1),rt(Vo(44,39,t.quozienteSet/100,"1.0-0")),Z(6),Bt("fw-bold",i.isThunders(t)),Z(1),rt(t.puntiFatti),Z(4),Bt("fw-bold",i.isThunders(t)),Z(1),rt(t.puntiSubiti),Z(4),Bt("fw-bold",i.isThunders(t)),Z(1),rt(Vo(61,42,t.quozientePunti/100,"1.2-2"))}}let sbe=(()=>{class n{constructor(t){this.classificaService=t,this.classifica=[],this.standingsData=null,this.lastUpdate=null,this.season=""}ngOnInit(){this.standingsSubscription=this.classificaService.getStandingsDataObservable().subscribe(t=>{t?(this.standingsData=t,this.classifica=t.standings||[],this.lastUpdate=t.lastUpdate,this.season=t.season,this.classifica.sort((r,i)=>(i.punti||0)-(r.punti||0))):(this.classifica=[],this.lastUpdate=null,this.season="")})}ngOnDestroy(){this.standingsSubscription&&this.standingsSubscription.unsubscribe()}isThunders(t){return t.squadra?.toLowerCase().includes("thunders")||!1}static{this.\u0275fac=function(r){return new(r||n)(ke(J0e))}}static{this.\u0275cmp=es({type:n,selectors:[["app-classifica"]],decls:48,vars:7,consts:[[1,"container-fluid","py-4"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-header","bg-primary","text-white"],[1,"d-flex","justify-content-between","align-items-center","flex-wrap"],[1,"mb-0"],[1,"bi","bi-trophy-fill","me-2"],["class","badge bg-light text-primary ms-2",4,"ngIf"],["class","text-white-50 d-none d-md-block",4,"ngIf"],["class","text-white-50 d-md-none d-block mt-2",4,"ngIf"],[1,"card-body","p-0","d-none","d-md-block"],[1,"table-responsive"],[1,"table","table-hover","table-striped","mb-0"],[1,"table-light"],[1,"text-center"],[3,"table-primary",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"card-body","p-0","d-md-none"],["class","text-center text-muted py-4",4,"ngIf"],["id","classificaAccordion",1,"accordion","mobile-classifica"],["class","accordion-item mobile-squadra-card",3,"thunders-highlight",4,"ngFor","ngForOf"],[1,"badge","bg-light","text-primary","ms-2"],[1,"text-white-50","d-none","d-md-block"],[1,"bi","bi-clock","me-1"],[1,"text-white-50","d-md-none","d-block","mt-2"],[1,"text-center","fw-bold"],[1,"text-center","fw-bold","text-primary"],["colspan","12",1,"text-center","text-muted","py-4"],[1,"bi","bi-info-circle","me-2"],[1,"text-center","text-muted","py-4"],[1,"accordion-item","mobile-squadra-card"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"accordion-button","collapsed","mobile-squadra-header"],[1,"position-badge"],[1,"squadra-nome"],[1,"punti-badge"],[1,"punti-value"],["data-bs-parent","#classificaAccordion",1,"accordion-collapse","collapse"],[1,"accordion-body","mobile-squadra-stats"],[1,"stat-row"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value"]],template:function(r,i){1&r&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),ge(7,"i",7),H(8,"Classifica "),it(9,X0e,2,1,"span",8),k(),it(10,ebe,4,4,"small",9),k(),it(11,tbe,4,4,"small",10),k(),N(12,"div",11)(13,"div",12)(14,"table",13)(15,"thead",14)(16,"tr")(17,"th",15),H(18,"Pos"),k(),N(19,"th"),H(20,"Squadra"),k(),N(21,"th",15),H(22,"Punti"),k(),N(23,"th",15),H(24,"GIOCATE"),k(),N(25,"th",15),H(26,"V"),k(),N(27,"th",15),H(28,"P"),k(),N(29,"th",15),H(30,"Set V"),k(),N(31,"th",15),H(32,"Set P"),k(),N(33,"th",15),H(34,"Q. Set"),k(),N(35,"th",15),H(36,"Pt. F"),k(),N(37,"th",15),H(38,"Pt. S"),k(),N(39,"th",15),H(40,"Q. Pt."),k()()(),N(41,"tbody"),it(42,nbe,27,42,"tr",16),it(43,rbe,4,0,"tr",17),k()()()(),N(44,"div",18),it(45,ibe,3,0,"div",19),N(46,"div",20),it(47,obe,62,45,"div",21),k()()()()()()),2&r&&(Z(9),Se("ngIf",i.season),Z(1),Se("ngIf",i.lastUpdate),Z(1),Se("ngIf",i.lastUpdate),Z(31),Se("ngForOf",i.classifica),Z(1),Se("ngIf",0===i.classifica.length),Z(2),Se("ngIf",0===i.classifica.length),Z(2),Se("ngForOf",i.classifica))},dependencies:[qf,ul,XL,Pm],styles:['.card[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden}.card-header[_ngcontent-%COMP%]{padding:1rem 1.5rem}.table[_ngcontent-%COMP%]{margin-bottom:0}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;border-bottom:2px solid #dee2e6;padding:.75rem;font-size:.9rem}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;vertical-align:middle;font-size:.95rem}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#007bff0d}.mobile-classifica[_ngcontent-%COMP%]{padding:.5rem}.mobile-squadra-card[_ngcontent-%COMP%]{background:white;border:1px solid #dee2e6;border-radius:8px;margin-bottom:.75rem;overflow:hidden}.mobile-squadra-card.thunders-highlight[_ngcontent-%COMP%]{border:2px solid #0d6efd;background:linear-gradient(to bottom,rgba(13,110,253,.05) 0%,white 100%)}.mobile-squadra-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;background:linear-gradient(135deg,#f8f9fa 0%,#e9ecef 100%);border:none;width:100%;text-align:left;cursor:pointer}.accordion-button[_ngcontent-%COMP%]:after{display:none}.mobile-squadra-header[_ngcontent-%COMP%]:focus{box-shadow:none;outline:none}.mobile-squadra-header[_ngcontent-%COMP%]:after{content:"\\f282";font-family:bootstrap-icons;margin-left:auto;font-size:1rem;transition:transform .2s ease;flex-shrink:0}.mobile-squadra-header[_ngcontent-%COMP%]:not(.collapsed):after{transform:rotate(180deg)}.thunders-highlight[_ngcontent-%COMP%]   .mobile-squadra-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d6efd 0%,#0b5ed7 100%);color:#fff}.position-badge[_ngcontent-%COMP%]{background:#0d6efd;color:#fff;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.9rem;flex-shrink:0}.thunders-highlight[_ngcontent-%COMP%]   .position-badge[_ngcontent-%COMP%]{background:white;color:#0d6efd}.squadra-nome[_ngcontent-%COMP%]{flex:1;font-size:.95rem;font-weight:600;line-height:1.3}.thunders-highlight[_ngcontent-%COMP%]   .squadra-nome[_ngcontent-%COMP%]{color:#fff}.punti-badge[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background:white;padding:.25rem .75rem;border-radius:6px;border:1px solid #dee2e6;flex-shrink:0;margin-right:.5rem}.thunders-highlight[_ngcontent-%COMP%]   .punti-badge[_ngcontent-%COMP%]{background:rgba(255,255,255,.95);border-color:#fff}.punti-label[_ngcontent-%COMP%]{font-size:.7rem;color:#6c757d;text-transform:uppercase;font-weight:600}.punti-value[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#0d6efd;line-height:1}.mobile-squadra-stats[_ngcontent-%COMP%]{padding:.75rem 1rem;background:white}.stat-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:.5rem}.stat-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.stat-item[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;padding:.5rem;background:#f8f9fa;border-radius:6px;min-width:0}.thunders-highlight[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{background:rgba(13,110,253,.05)}.stat-label[_ngcontent-%COMP%]{font-size:.7rem;color:#6c757d;text-transform:uppercase;font-weight:600;margin-bottom:.25rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;text-align:center}.stat-value[_ngcontent-%COMP%]{font-size:1rem;color:#212529;font-weight:500}@media (max-width: 768px){.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem .25rem;font-size:.85rem}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 400px){.squadra-nome[_ngcontent-%COMP%]{font-size:.85rem}.stat-label[_ngcontent-%COMP%]{font-size:.65rem}.stat-value[_ngcontent-%COMP%]{font-size:.9rem}}']})}}return n})();function abe(n,e){if(1&n&&(N(0,"div",13),ge(1,"i",14),H(2),k()),2&n){const t=tt();Z(2),pr(" ",t.errorMessage," ")}}function lbe(n,e){1&n&&(N(0,"span"),ge(1,"i",15),H(2," Accedi "),k())}function ube(n,e){1&n&&(N(0,"span"),ge(1,"span",16),H(2," Accesso in corso... "),k())}let cbe=(()=>{class n{constructor(t,r,i){this.fb=t,this.authService=r,this.router=i,this.errorMessage="",this.loading=!1}ngOnInit(){this.authService.isAuthenticated()&&this.router.navigate(["/home"]),this.loginForm=this.fb.group({codiceFiscale:["",[Bi.required,Bi.minLength(16),Bi.maxLength(16)]]})}onLogin(){var t=this;return(0,re.A)(function*(){if(t.loginForm.invalid)return;t.loading=!0,t.errorMessage="";const r=t.loginForm.get("codiceFiscale")?.value;try{(yield t.authService.login(r))?t.router.navigate(["/home"]):t.errorMessage="Codice fiscale non riconosciuto. Accesso negato."}catch{t.errorMessage="Errore durante il login. Riprova."}finally{t.loading=!1}})()}onCodiceFiscaleInput(t){const i=t.target.value.toUpperCase();this.loginForm.get("codiceFiscale")?.setValue(i,{emitEvent:!1})}static{this.\u0275fac=function(r){return new(r||n)(ke(Wx),ke(Rc),ke(jo))}}static{this.\u0275cmp=es({type:n,selectors:[["app-login"]],decls:18,vars:7,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"bi","bi-lightning-fill","text-primary"],["autocomplete","on",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","codiceFiscale",1,"form-label"],["type","text","id","codiceFiscale","name","username","formControlName","codiceFiscale","maxlength","16","autocomplete","username",1,"form-control","form-control-lg",3,"input"],[1,"invalid-feedback"],["type","password","name","password","autocomplete","current-password","value","dummy",2,"display","none"],["class","alert alert-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-lg","w-100",3,"disabled"],[4,"ngIf"],[1,"alert","alert-danger"],[1,"bi","bi-exclamation-triangle-fill","me-2"],[1,"bi","bi-box-arrow-in-right","me-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"]],template:function(r,i){if(1&r&&(N(0,"div",0)(1,"div",1)(2,"div",2),ge(3,"i",3),N(4,"h2"),H(5,"PuntoVolley Thunders"),k()(),N(6,"form",4),Le("ngSubmit",function(){return i.onLogin()}),N(7,"div",5)(8,"label",6),H(9,"Codice Fiscale"),k(),N(10,"input",7),Le("input",function(s){return i.onCodiceFiscaleInput(s)}),k(),N(11,"div",8),H(12," Il codice fiscale deve essere di 16 caratteri "),k()(),ge(13,"input",9),it(14,abe,3,1,"div",10),N(15,"button",11),it(16,lbe,3,0,"span",12),it(17,ube,3,0,"span",12),k()()()()),2&r){let o;Z(6),Se("formGroup",i.loginForm),Z(4),Bt("is-invalid",(null==(o=i.loginForm.get("codiceFiscale"))?null:o.invalid)&&(null==(o=i.loginForm.get("codiceFiscale"))?null:o.touched)),Z(4),Se("ngIf",i.errorMessage),Z(1),Se("disabled",i.loginForm.invalid||i.loading),Z(1),Se("ngIf",!i.loading),Z(1),Se("ngIf",i.loading)}},dependencies:[ul,dv,wl,Lc,rv,pv,Zp,hv],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);padding:1rem}.login-card[_ngcontent-%COMP%]{background:white;border-radius:1rem;padding:2rem;box-shadow:0 10px 40px #0003;max-width:450px;width:100%}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.login-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;margin-bottom:.5rem;font-weight:700}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:.9rem}.form-control-lg[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:1rem}#codiceFiscale[_ngcontent-%COMP%]{text-transform:uppercase}.btn-lg[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:1rem}@media (max-width: 576px){.login-card[_ngcontent-%COMP%]{padding:1.5rem}.login-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}"]})}}return n})();function dbe(n,e){1&n&&(N(0,"div",15)(1,"div",29)(2,"div",17)(3,"div",18),ge(4,"i",30),N(5,"span"),H(6,"Capitano"),k()(),N(7,"div",20)(8,"span",31),H(9,"S\xec"),k()()()()())}function hbe(n,e){if(1&n&&(N(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"div",18),ge(5,"i",19),N(6,"span"),H(7,"Numero Maglia"),k()(),N(8,"div",20),H(9),k()()(),N(10,"div",16)(11,"div",17)(12,"div",18),ge(13,"i",21),N(14,"span"),H(15,"Data di Nascita"),k()(),N(16,"div",20),H(17),k()()()(),N(18,"div",15)(19,"div",16)(20,"div",17)(21,"div",18),ge(22,"i",22),N(23,"span"),H(24,"Ruolo"),k()(),N(25,"div",20),H(26),Xn(27,"capitalize"),k()()(),N(28,"div",16)(29,"div",17)(30,"div",18),ge(31,"i",23),N(32,"span"),H(33,"Tessera UISP"),k()(),N(34,"div",20),H(35),k()()()(),N(36,"div",15)(37,"div",16)(38,"div",17)(39,"div",18),ge(40,"i",24),N(41,"span"),H(42,"Email"),k()(),N(43,"div",20),H(44),k()()(),N(45,"div",16)(46,"div",17)(47,"div",18),ge(48,"i",25),N(49,"span"),H(50,"Codice Fiscale"),k()(),N(51,"div",20),H(52),k()()()(),N(53,"div",15)(54,"div",16)(55,"div",17)(56,"div",18),ge(57,"i",26),N(58,"span"),H(59,"Taglia Divisa"),k()(),N(60,"div",20),H(61),k()()(),N(62,"div",16)(63,"div",17)(64,"div",18),ge(65,"i",27),N(66,"span"),H(67,"Scadenza Certificato Medico"),k()(),N(68,"div",20),H(69),k()()()(),it(70,dbe,10,0,"div",28),k()),2&n){const t=tt(2);Z(9),rt(t.currentUser.numeroMaglia),Z(8),rt(t.formatDate(t.currentUser.dataDiNascita)),Z(9),rt(as(27,9,t.currentUser.ruolo)),Z(9),rt(t.currentUser.tesseraUisp),Z(9),rt(t.currentUser.email||"Non specificata"),Z(8),rt(t.currentUser.codiceFiscale||"Non specificato"),Z(9),rt(t.currentUser.tagliaDivisa||"Non specificata"),Z(8),rt(t.formatDate(t.currentUser.scadenzaCertificatoMedico)||"Non specificata"),Z(1),Se("ngIf",t.currentUser.capitano)}}function fbe(n,e){if(1&n){const t=Gr();N(0,"div",32)(1,"div",15)(2,"div",33)(3,"label",34),ge(4,"i",35),H(5,"Email "),k(),N(6,"input",36),Le("ngModelChange",function(i){return Cn(t),Tn(tt(2).editedUser.email=i)}),k()(),N(7,"div",33)(8,"label",34),ge(9,"i",37),H(10,"Codice Fiscale "),k(),N(11,"input",38),Le("ngModelChange",function(i){return Cn(t),Tn(tt(2).editedUser.codiceFiscale=i)}),k()()(),N(12,"div",15)(13,"div",33)(14,"label",34),ge(15,"i",39),H(16,"Data di Nascita "),k(),N(17,"input",40),Le("ngModelChange",function(i){return Cn(t),Tn(tt(2).editedUser.dataDiNascita=i)}),k()(),N(18,"div",33)(19,"label",34),ge(20,"i",41),H(21,"Numero Maglia "),k(),N(22,"input",42),Le("ngModelChange",function(i){return Cn(t),Tn(tt(2).editedUser.numeroMaglia=i)}),k()()(),N(23,"div",15)(24,"div",33)(25,"label",34),ge(26,"i",43),H(27,"Taglia Divisa "),k(),N(28,"select",44),Le("ngModelChange",function(i){return Cn(t),Tn(tt(2).editedUser.tagliaDivisa=i)}),N(29,"option",45),H(30,"Seleziona..."),k(),N(31,"option",46),H(32,"XS"),k(),N(33,"option",47),H(34,"S"),k(),N(35,"option",48),H(36,"M"),k(),N(37,"option",49),H(38,"L"),k(),N(39,"option",50),H(40,"XL"),k(),N(41,"option",51),H(42,"XXL"),k()()(),N(43,"div",33)(44,"label",34),ge(45,"i",52),H(46,"Scadenza Certificato Medico "),k(),N(47,"input",40),Le("ngModelChange",function(i){return Cn(t),Tn(tt(2).editedUser.scadenzaCertificatoMedico=i)}),k()()()()}if(2&n){const t=tt(2);Z(6),Se("ngModel",t.editedUser.email),Z(5),Se("ngModel",t.editedUser.codiceFiscale),Z(6),Se("ngModel",t.editedUser.dataDiNascita),Z(5),Se("ngModel",t.editedUser.numeroMaglia),Z(6),Se("ngModel",t.editedUser.tagliaDivisa),Z(19),Se("ngModel",t.editedUser.scadenzaCertificatoMedico)}}function pbe(n,e){if(1&n){const t=Gr();N(0,"button",53),Le("click",function(){return Cn(t),Tn(tt(2).toggleEditMode())}),ge(1,"i",54),H(2,"Modifica Dati "),k()}}function gbe(n,e){if(1&n){const t=Gr();N(0,"div",55)(1,"button",56),Le("click",function(){return Cn(t),Tn(tt(2).saveChanges())}),ge(2,"i",57),H(3,"Salva "),k(),N(4,"button",58),Le("click",function(){return Cn(t),Tn(tt(2).cancelEdit())}),ge(5,"i",59),H(6,"Annulla "),k()()}}function mbe(n,e){if(1&n&&(N(0,"div",2)(1,"div",3)(2,"div",4),ge(3,"i",5),k(),N(4,"h2",6),H(5),Xn(6,"capitalize"),Xn(7,"capitalize"),k(),N(8,"p",7),H(9),k()(),N(10,"div",8),it(11,hbe,71,11,"div",9),it(12,fbe,48,6,"div",10),k(),N(13,"div",11),it(14,pbe,3,0,"button",12),it(15,gbe,7,0,"div",13),k()()),2&n){const t=tt();Z(5),ru("",as(6,7,t.currentUser.nome)," ",as(7,9,t.currentUser.cognome),""),Z(4),rt(t.currentUser.profilo),Z(2),Se("ngIf",!t.isEditMode),Z(1),Se("ngIf",t.isEditMode&&t.editedUser),Z(2),Se("ngIf",!t.isEditMode),Z(1),Se("ngIf",t.isEditMode)}}let _be=(()=>{class n{constructor(t,r){this.authService=t,this.giocatoriService=r,this.currentUser=null,this.isEditMode=!1,this.editedUser=null}ngOnInit(){this.authService.currentUser.subscribe(t=>{this.currentUser=t,t&&(this.editedUser={...t})})}toggleEditMode(){this.isEditMode&&this.currentUser&&(this.editedUser={...this.currentUser}),this.isEditMode=!this.isEditMode}saveChanges(){var t=this;return(0,re.A)(function*(){if(t.editedUser&&t.currentUser)try{const r=t.editedUser.id;if(!r)return void alert("Impossibile salvare: ID giocatore non trovato");yield t.giocatoriService.updateGiocatore(r,t.editedUser),localStorage.setItem("currentUser",JSON.stringify(t.editedUser)),t.currentUser=t.editedUser,t.isEditMode=!1,alert("Dati aggiornati con successo!")}catch(r){console.error("Errore durante il salvataggio:",r),alert("Errore durante il salvataggio dei dati")}})()}cancelEdit(){this.currentUser&&(this.editedUser={...this.currentUser}),this.isEditMode=!1}formatDate(t){if(!t)return"Non specificata";if(t.includes("-")){const r=t.split("-");if(3===r.length)return`${r[2]}/${r[1]}/${r[0]}`}return t}static{this.\u0275fac=function(r){return new(r||n)(ke(Rc),ke(Yb))}}static{this.\u0275cmp=es({type:n,selectors:[["app-profilo"]],decls:2,vars:1,consts:[[1,"profilo-container"],["class","profilo-card",4,"ngIf"],[1,"profilo-card"],[1,"profilo-header"],[1,"user-avatar-large"],[1,"bi","bi-person-circle"],[1,"mt-3"],[1,"text-muted"],[1,"profilo-body"],["class","info-section",4,"ngIf"],["class","edit-section",4,"ngIf"],[1,"profilo-footer"],["class","btn btn-primary w-100",3,"click",4,"ngIf"],["class","d-flex gap-2",4,"ngIf"],[1,"info-section"],[1,"row"],[1,"col-md-6"],[1,"info-row"],[1,"info-label"],[1,"bi","bi-person-badge"],[1,"info-value"],[1,"bi","bi-calendar3"],[1,"bi","bi-trophy"],[1,"bi","bi-card-text"],[1,"bi","bi-envelope"],[1,"bi","bi-credit-card"],[1,"bi","bi-rulers"],[1,"bi","bi-file-medical"],["class","row",4,"ngIf"],[1,"col-12"],[1,"bi","bi-star-fill","text-warning"],[1,"badge","bg-warning"],[1,"edit-section"],[1,"col-md-6","mb-3"],[1,"form-label"],[1,"bi","bi-envelope","me-2"],["type","email","placeholder","esempio@email.com",1,"form-control",3,"ngModel","ngModelChange"],[1,"bi","bi-credit-card","me-2"],["type","text","maxlength","16","placeholder","RSSMRA80A01H501U",1,"form-control","text-uppercase",3,"ngModel","ngModelChange"],[1,"bi","bi-calendar3","me-2"],["type","date",1,"form-control",3,"ngModel","ngModelChange"],[1,"bi","bi-person-badge","me-2"],["type","text","placeholder","10",1,"form-control",3,"ngModel","ngModelChange"],[1,"bi","bi-rulers","me-2"],[1,"form-select",3,"ngModel","ngModelChange"],["value",""],["value","XS"],["value","S"],["value","M"],["value","L"],["value","XL"],["value","XXL"],[1,"bi","bi-file-medical","me-2"],[1,"btn","btn-primary","w-100",3,"click"],[1,"bi","bi-pencil","me-2"],[1,"d-flex","gap-2"],[1,"btn","btn-success","flex-fill",3,"click"],[1,"bi","bi-check-lg","me-2"],[1,"btn","btn-secondary","flex-fill",3,"click"],[1,"bi","bi-x-lg","me-2"]],template:function(r,i){1&r&&(N(0,"div",0),it(1,mbe,16,11,"div",1),k()),2&r&&(Z(1),Se("ngIf",i.currentUser))},dependencies:[ul,zx,qx,wl,fv,Lc,pv,Yp,Kx],styles:[".profilo-container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.profilo-card[_ngcontent-%COMP%]{background:white;border-radius:12px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.profilo-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--bs-primary) 0%,var(--bs-primary-dark, #0056b3) 100%);color:#fff;padding:40px 20px;text-align:center}.user-avatar-large[_ngcontent-%COMP%]{font-size:80px;color:#fff;margin-bottom:10px}.profilo-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:700}.profilo-body[_ngcontent-%COMP%]{padding:20px}.info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 0;border-bottom:1px solid #e9ecef}@media (min-width: 768px){.info-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{border-bottom:1px solid #e9ecef}.info-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:last-child{border-bottom:none}.info-section[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{border-bottom:none}.info-section[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]:first-child{border-right:1px solid #e9ecef;padding-right:20px}.info-section[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]:last-child{padding-left:20px}}.info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.info-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-weight:500;color:#495057}.info-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--bs-primary)}.info-value[_ngcontent-%COMP%]{font-weight:600;color:#212529}.profilo-footer[_ngcontent-%COMP%]{padding:20px;border-top:1px solid #e9ecef}.edit-section[_ngcontent-%COMP%]{padding-top:10px}@media (max-width: 768px){.profilo-container[_ngcontent-%COMP%]{padding:10px}.profilo-header[_ngcontent-%COMP%]{padding:30px 15px}.user-avatar-large[_ngcontent-%COMP%]{font-size:60px}.profilo-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.info-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.info-value[_ngcontent-%COMP%]{margin-left:32px}}"]})}}return n})(),$v=(()=>{class n{constructor(t,r){this.router=t,this.authService=r}canActivate(t,r){return!!this.authService.isAuthenticated()||(this.router.navigate(["/login"]),!1)}static{this.\u0275fac=function(r){return new(r||n)(pt(jo),pt(Rc))}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const vbe=[{path:"login",component:cbe},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"home",component:Xge,canActivate:[$v]},{path:"profilo",component:_be,canActivate:[$v]},{path:"squadra",component:l_e,canActivate:[$v]},{path:"calendario",component:Z0e,canActivate:[$v]},{path:"classifica",component:sbe,canActivate:[$v]}];let ybe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ts({type:n})}static{this.\u0275inj=Po({imports:[P6.forRoot(vbe),P6]})}}return n})();function bbe(n,e){if(1&n&&(N(0,"span",48),ge(1,"i",49),H(2),Xn(3,"capitalize"),Xn(4,"capitalize"),k()),2&n){const t=tt();Z(2),ru("",as(3,2,t.currentUser.nome)," ",as(4,4,t.currentUser.cognome)," ")}}function wbe(n,e){if(1&n&&(N(0,"a",50)(1,"div",51),ge(2,"i",52),k(),N(3,"div",53)(4,"p",54),H(5),Xn(6,"capitalize"),Xn(7,"capitalize"),k(),N(8,"small",55),H(9),k()(),ge(10,"i",56),k()),2&n){const t=tt();Z(5),ru("",as(6,3,t.currentUser.nome)," ",as(7,5,t.currentUser.cognome),""),Z(4),rt(t.currentUser.profilo)}}function Ibe(n,e){1&n&&(N(0,"li",16)(1,"a",57),ge(2,"i",58),N(3,"span"),H(4,"Squadra"),k(),ge(5,"i",19),k()())}function Ebe(n,e){if(1&n){const t=Gr();N(0,"a",59),Le("click",function(){return Cn(t),Tn(tt().toggleMenu())}),N(1,"div",51),ge(2,"i",52),k(),N(3,"div",53)(4,"p",54),H(5),Xn(6,"capitalize"),Xn(7,"capitalize"),k(),N(8,"small",55),H(9),k()(),ge(10,"i",56),k()}if(2&n){const t=tt();Z(5),ru("",as(6,3,t.currentUser.nome)," ",as(7,5,t.currentUser.cognome),""),Z(4),rt(t.currentUser.profilo)}}function Abe(n,e){if(1&n){const t=Gr();N(0,"li",16)(1,"a",60),Le("click",function(){return Cn(t),Tn(tt().toggleMenu())}),ge(2,"i",58),N(3,"span"),H(4,"Squadra"),k(),ge(5,"i",19),k()()}}function Cbe(n,e){if(1&n){const t=Gr();N(0,"div",61),Le("click",function(){return Cn(t),Tn(tt().toggleMenu())}),k()}2&n&&Bt("show",tt().menuOpen)}let Tbe=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.menuOpen=!1,this.currentUser=null}ngOnInit(){this.authService.currentUser.subscribe(t=>{this.currentUser=t})}toggleMenu(){this.menuOpen=!this.menuOpen}isAdmin(){return this.authService.hasEditPermission()}logout(){this.authService.logout(),this.menuOpen=!1,this.router.navigate(["/login"])}static{this.\u0275fac=function(r){return new(r||n)(ke(Rc),ke(jo))}}static{this.\u0275cmp=es({type:n,selectors:[["app-header"]],decls:93,vars:8,consts:[[1,"navbar","navbar-dark","bg-primary","d-md-none"],[1,"container-fluid"],["type","button",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["class","navbar-brand mx-auto",4,"ngIf"],["href","assets/files/elenco_tesserati_2526.pdf","download","",1,"btn","btn-light","download-btn","ms-auto"],[1,"bi","bi-download"],[1,"desktop-label"],[1,"sidebar","d-none","d-md-flex","flex-column"],[1,"sidebar-header","bg-primary","text-white","p-3"],[1,"mb-0","fw-bold"],[1,"bi","bi-list-ul","me-2"],[1,"sidebar-body","flex-grow-1","d-flex","flex-column"],[1,"user-info-section","p-3","bg-light","border-bottom"],["class","d-flex align-items-center text-decoration-none text-dark user-info-link","routerLink","/profilo","routerLinkActive","active",4,"ngIf"],[1,"nav","flex-column","menu-items"],[1,"nav-item"],["routerLink","/home","routerLinkActive","active",1,"nav-link","menu-link"],[1,"bi","bi-house-door-fill","me-3"],[1,"bi","bi-chevron-right","ms-auto"],["class","nav-item",4,"ngIf"],["routerLink","/calendario","routerLinkActive","active",1,"nav-link","menu-link"],[1,"bi","bi-calendar-event-fill","me-3"],["routerLink","/classifica","routerLinkActive","active",1,"nav-link","menu-link"],[1,"bi","bi-trophy-fill","me-3"],[1,"mt-auto","p-3"],["href","assets/files/elenco_tesserati_2526.pdf","download","",1,"btn","btn-primary","w-100","mb-3"],[1,"bi","bi-download","me-2"],[1,"p-3","border-top"],["routerLink","/impostazioni","routerLinkActive","active",1,"nav-link","menu-link"],[1,"bi","bi-gear-fill","me-3"],["href","https://www.instagram.com/thunders.team_/","target","_blank","rel","noopener noreferrer",1,"nav-link","menu-link","instagram-sidebar-link"],[1,"bi","bi-instagram","me-3"],[1,"bi","bi-box-arrow-up-right","ms-auto"],[1,"logout-section","p-3","bg-light","border-top"],[1,"nav-link","menu-link","logout-link",3,"click"],[1,"bi","bi-box-arrow-right","me-3"],["tabindex","-1",1,"offcanvas","offcanvas-start","d-md-none"],[1,"offcanvas-header","bg-primary","text-white"],[1,"offcanvas-title","fw-bold"],["type","button",1,"btn-close","btn-close-white",3,"click"],[1,"offcanvas-body","p-0"],["class","d-flex align-items-center text-decoration-none text-dark user-info-link","routerLink","/profilo","routerLinkActive","active",3,"click",4,"ngIf"],["routerLink","/home","routerLinkActive","active",1,"nav-link","menu-link",3,"click"],["routerLink","/calendario","routerLinkActive","active",1,"nav-link","menu-link",3,"click"],["routerLink","/classifica","routerLinkActive","active",1,"nav-link","menu-link",3,"click"],[1,"logout-section","mt-auto","p-3","border-top"],["class","offcanvas-backdrop fade d-md-none",3,"show","click",4,"ngIf"],[1,"navbar-brand","mx-auto"],[1,"bi","bi-person-fill","me-2"],["routerLink","/profilo","routerLinkActive","active",1,"d-flex","align-items-center","text-decoration-none","text-dark","user-info-link"],[1,"user-avatar","me-3"],[1,"bi","bi-person-circle"],[1,"flex-grow-1"],[1,"mb-0","fw-semibold"],[1,"text-muted"],[1,"bi","bi-chevron-right"],["routerLink","/squadra","routerLinkActive","active",1,"nav-link","menu-link"],[1,"bi","bi-people-fill","me-3"],["routerLink","/profilo","routerLinkActive","active",1,"d-flex","align-items-center","text-decoration-none","text-dark","user-info-link",3,"click"],["routerLink","/squadra","routerLinkActive","active",1,"nav-link","menu-link",3,"click"],[1,"offcanvas-backdrop","fade","d-md-none",3,"click"]],template:function(r,i){1&r&&(N(0,"nav",0)(1,"div",1)(2,"button",2),Le("click",function(){return i.toggleMenu()}),ge(3,"span",3),k(),it(4,bbe,5,6,"span",4),N(5,"a",5),ge(6,"i",6),N(7,"span",7),H(8,"Elenco tesserati"),k()()()(),N(9,"div",8)(10,"div",9)(11,"h5",10),ge(12,"i",11),H(13,"Menu "),k()(),N(14,"div",12)(15,"div",13),it(16,wbe,11,7,"a",14),k(),N(17,"ul",15)(18,"li",16)(19,"a",17),ge(20,"i",18),N(21,"span"),H(22,"Home"),k(),ge(23,"i",19),k()(),it(24,Ibe,6,0,"li",20),N(25,"li",16)(26,"a",21),ge(27,"i",22),N(28,"span"),H(29,"Calendario"),k(),ge(30,"i",19),k()(),N(31,"li",16)(32,"a",23),ge(33,"i",24),N(34,"span"),H(35,"Classifica"),k(),ge(36,"i",19),k()()(),N(37,"div",25)(38,"a",26),ge(39,"i",27),H(40," Elenco tesserati "),k()(),N(41,"div",28)(42,"a",29),ge(43,"i",30),N(44,"span"),H(45,"Impostazioni"),k(),ge(46,"i",19),k()(),N(47,"div",28)(48,"a",31),ge(49,"i",32),N(50,"span"),H(51,"Seguici su Instagram!"),k(),ge(52,"i",33),k()(),N(53,"div",34)(54,"a",35),Le("click",function(){return i.logout()}),ge(55,"i",36),N(56,"span"),H(57,"Logout"),k()()()()(),N(58,"div",37)(59,"div",38)(60,"h5",39),ge(61,"i",11),H(62,"Menu "),k(),N(63,"button",40),Le("click",function(){return i.toggleMenu()}),k()(),N(64,"div",41)(65,"div",13),it(66,Ebe,11,7,"a",42),k(),N(67,"ul",15)(68,"li",16)(69,"a",43),Le("click",function(){return i.toggleMenu()}),ge(70,"i",18),N(71,"span"),H(72,"Home"),k(),ge(73,"i",19),k()(),it(74,Abe,6,0,"li",20),N(75,"li",16)(76,"a",44),Le("click",function(){return i.toggleMenu()}),ge(77,"i",22),N(78,"span"),H(79,"Calendario"),k(),ge(80,"i",19),k()(),N(81,"li",16)(82,"a",45),Le("click",function(){return i.toggleMenu()}),ge(83,"i",24),N(84,"span"),H(85,"Classifica"),k(),ge(86,"i",19),k()()(),N(87,"div",46)(88,"a",35),Le("click",function(){return i.logout()}),ge(89,"i",36),N(90,"span"),H(91,"Logout"),k()()()()(),it(92,Cbe,1,2,"div",47)),2&r&&(Z(4),Se("ngIf",i.currentUser),Z(12),Se("ngIf",i.currentUser),Z(8),Se("ngIf",i.isAdmin()),Z(34),Bt("show",i.menuOpen),Z(8),Se("ngIf",i.currentUser),Z(8),Se("ngIf",i.isAdmin()),Z(18),Se("ngIf",i.menuOpen))},dependencies:[ul,Zm,I6,Kx],styles:['.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:280px;height:100vh;background-color:#fff;box-shadow:2px 0 5px #0000001a;z-index:1010;display:flex;flex-direction:column}.sidebar-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.sidebar-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;display:flex;flex-direction:column;min-height:0}.navbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1030}.navbar-brand[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);font-weight:700}.download-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.375rem .75rem;font-size:.875rem;background-color:transparent;border:1px solid rgba(255,255,255,.1);color:#fff;text-decoration:none;border-radius:.25rem;transition:all .15s ease-in-out}.download-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;border-color:#ffffff26;color:#fff}.download-btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .25rem #ffffff40}.download-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}@media (max-width: 767px){.desktop-label[_ngcontent-%COMP%]{display:none}.download-btn[_ngcontent-%COMP%]{padding:.375rem;min-width:auto}}.offcanvas[_ngcontent-%COMP%]{visibility:hidden;transform:translate(-100%);transition:transform .3s ease-in-out;width:280px;max-width:80vw}.offcanvas.show[_ngcontent-%COMP%]{visibility:visible;transform:translate(0)}.offcanvas-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#000;opacity:0;visibility:hidden;transition:opacity .3s ease-in-out}.offcanvas-backdrop.show[_ngcontent-%COMP%]{opacity:.5;visibility:visible}.offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.user-info-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa 0%,#e9ecef 100%)}.user-info-link[_ngcontent-%COMP%]{transition:background-color .2s ease;border-radius:8px;padding:4px;margin:-4px}.user-info-link[_ngcontent-%COMP%]:hover{background-color:#0000000d}.user-info-link.active[_ngcontent-%COMP%]{background-color:rgba(var(--bs-primary-rgb),.1)}.user-avatar[_ngcontent-%COMP%]{font-size:2.5rem;color:var(--bs-primary);line-height:1}.menu-items[_ngcontent-%COMP%]{flex-grow:1;padding:.5rem 0}.menu-link[_ngcontent-%COMP%]{color:#212529;padding:1rem 1.5rem;display:flex;align-items:center;transition:all .2s ease;border-left:3px solid transparent;font-weight:500;position:relative;overflow:hidden}.menu-link[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;height:100%;width:0;background:linear-gradient(90deg,rgba(13,110,253,.1) 0%,transparent 100%);transition:width .3s ease}.menu-link[_ngcontent-%COMP%]:hover:before{width:100%}.menu-link[_ngcontent-%COMP%]:hover{background-color:#0d6efd0d;border-left-color:var(--bs-primary);color:var(--bs-primary);transform:translate(5px)}.menu-link.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(13,110,253,.15) 0%,rgba(13,110,253,.05) 100%);border-left-color:var(--bs-primary);color:var(--bs-primary);font-weight:600}.menu-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:first-child{font-size:1.25rem;width:24px;text-align:center}.menu-link[_ngcontent-%COMP%]   i.bi-chevron-right[_ngcontent-%COMP%]{font-size:.875rem;opacity:.5;transition:transform .2s ease,opacity .2s ease}.menu-link[_ngcontent-%COMP%]:hover   i.bi-chevron-right[_ngcontent-%COMP%], .menu-link.active[_ngcontent-%COMP%]   i.bi-chevron-right[_ngcontent-%COMP%]{opacity:1;transform:translate(3px)}.logout-section[_ngcontent-%COMP%]{background-color:#f8f9fa}.logout-link[_ngcontent-%COMP%]{color:#dc3545;padding:.75rem 1rem;display:flex;align-items:center;transition:all .2s ease;border-radius:.375rem;font-weight:500}.logout-link[_ngcontent-%COMP%]:hover{background-color:#dc35451a;color:#bb2d3b;transform:translate(5px)}.logout-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}']})}}return n})(),Sbe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=es({type:n,selectors:[["app-footer"]],decls:7,vars:0,consts:[[1,"navbar","navbar-dark","bg-primary","fixed-bottom"],[1,"container-fluid"],[1,"navbar-brand","mx-auto"],[1,"bi","bi-lightning-fill"],["href","https://www.instagram.com/thunders.team_/","target","_blank","rel","noopener noreferrer",1,"instagram-link","ms-auto"],[1,"bi","bi-instagram"]],template:function(r,i){1&r&&(N(0,"nav",0)(1,"div",1)(2,"span",2),H(3,"PuntoVolley Thunders "),ge(4,"i",3),k(),N(5,"a",4),ge(6,"i",5),k()()())},styles:[".navbar[_ngcontent-%COMP%]{min-height:56px;padding-bottom:calc(.5rem + env(safe-area-inset-bottom));z-index:1000}@media (min-width: 768px){.navbar[_ngcontent-%COMP%]{display:none}}.navbar-brand[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);font-weight:700;font-size:1.25rem}.instagram-link[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-decoration:none;transition:all .15s ease-in-out;margin-right:.75rem;padding-right:env(safe-area-inset-right,0)}.instagram-link[_ngcontent-%COMP%]:hover{color:#fffc;transform:scale(1.1)}"]})}}return n})();function Dbe(n,e){1&n&&ge(0,"app-header")}function xbe(n,e){1&n&&ge(0,"app-footer")}let Pbe=(()=>{class n{constructor(t){this.authService=t,this.title="thunders-pwa"}static{this.\u0275fac=function(r){return new(r||n)(ke(Rc))}}static{this.\u0275cmp=es({type:n,selectors:[["app-root"]],decls:4,vars:4,consts:[[4,"ngIf"]],template:function(r,i){1&r&&(it(0,Dbe,1,0,"app-header",0),N(1,"div"),ge(2,"router-outlet"),k(),it(3,xbe,1,0,"app-footer",0)),2&r&&(Se("ngIf",i.authService.isAuthenticated()),Z(1),Bt("with-nav",i.authService.isAuthenticated()),Z(2),Se("ngIf",i.authService.isAuthenticated()))},dependencies:[ul,fC,Tbe,Sbe],styles:[".with-nav[_ngcontent-%COMP%]{padding-top:105px;padding-bottom:80px;min-height:calc(100vh - 141px)}@media (min-width: 768px){.with-nav[_ngcontent-%COMP%]{padding-top:40px;padding-left:280px;padding-bottom:0;min-height:100vh}}"]})}}return n})();const Nbe=["addListener","removeListener"],Rbe=["addEventListener","removeEventListener"],Mbe=["on","off"];function Y2(n,e,t,r){if(cn(t)&&(r=t,t=void 0),r)return Y2(n,e,t).pipe(QA(r));const[i,o]=function Lbe(n){return cn(n.addEventListener)&&cn(n.removeEventListener)}(n)?Rbe.map(s=>a=>n[s](e,a,t)):function kbe(n){return cn(n.addListener)&&cn(n.removeListener)}(n)?Nbe.map(cq(n,e)):function Obe(n){return cn(n.on)&&cn(n.off)}(n)?Mbe.map(cq(n,e)):[];if(!i&&Tw(n))return Ii(s=>Y2(s,e,t))(co(n));if(!i)throw new TypeError("Invalid event target");return new or(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function cq(n,e){return t=>r=>n[t](e,r)}const Zc=new or(bd),Vbe={connector:()=>new Zo};function dq(n,e=Vbe){const{connector:t}=e;return Xr((r,i)=>{const o=t();co(n(function Fbe(n){return new or(e=>n.subscribe(e))}(o))).subscribe(i),i.add(r.subscribe(o))})}function hq(n,e){return e?t=>km(e.pipe(us(1),function jbe(){return Xr((n,e)=>{n.subscribe(ei(e,bd))})}()),t.pipe(hq(n))):Ii((t,r)=>co(n(t,r)).pipe(us(1),DF(t)))}const qv="Service workers are disabled or not supported by this browser";class Z2{constructor(e){if(this.serviceWorker=e,e){const r=Y2(e,"controllerchange").pipe(hn(()=>e.controller)),o=km(a0(()=>kt(e.controller)),r);this.worker=o.pipe(cs(c=>!!c)),this.registration=this.worker.pipe(Jo(()=>e.getRegistration()));const u=Y2(e,"message").pipe(hn(c=>c.data)).pipe(cs(c=>c&&c.type)).pipe(function Bbe(n){return n?e=>dq(n)(e):e=>function Ube(n,e){const t=cn(n)?n:()=>n;return cn(e)?dq(e,{connector:t}):r=>new JA(r,t)}(new Zo)(e)}());u.connect(),this.events=u}else this.worker=this.events=this.registration=function Gbe(n){return a0(()=>Gf(new Error(n)))}(qv)}postMessage(e,t){return this.worker.pipe(us(1),Oi(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(cs(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(us(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(cs(t=>t.nonce===e),us(1),hn(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let fq=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new Zo,!t.isEnabled)return this.messages=Zc,this.notificationClicks=Zc,void(this.subscription=Zc);this.messages=this.sw.eventsOfType("PUSH").pipe(hn(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(hn(i=>i.data)),this.pushManager=this.sw.registration.pipe(hn(i=>i.pushManager));const r=this.pushManager.pipe(Jo(i=>i.getSubscription()));this.subscription=Dw(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(qv));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,this.pushManager.pipe(Jo(s=>s.subscribe(r)),us(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(us(1),Jo(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(qv))}decodeBase64(t){return atob(t)}static{this.\u0275fac=function(r){return new(r||n)(pt(Z2))}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac})}}return n})(),pq=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Zc,this.available=Zc,this.activated=Zc,void(this.unrecoverable=Zc);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(cs(r=>"VERSION_READY"===r.type),hn(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(qv));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(qv));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static{this.\u0275fac=function(r){return new(r||n)(pt(Z2))}}static{this.\u0275prov=vt({token:n,factory:n.\u0275fac})}}return n})();const gq=new at("NGSW_REGISTER_SCRIPT");function Hbe(n,e,t,r){return()=>{if(!tF(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)i=t.registrationStrategy();else{const[s,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=kt(null);break;case"registerWithDelay":i=mq(+a[0]||0);break;case"registerWhenStable":i=a[0]?Dw(_q(n),mq(+a[0])):_q(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(Un).runOutsideAngular(()=>i.pipe(us(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function mq(n){return kt(null).pipe(function qbe(n,e=UC){const t=function $be(n=0,e,t=$le){let r=-1;return null!=e&&(FN(e)?t=e:r=e),new or(i=>{let o=function zbe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(n,e);return hq(()=>t)}(n))}function _q(n){return n.get(Md).isStable.pipe(cs(t=>t))}function Wbe(n,e){return new Z2(tF(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class rN{}function Kbe(n,e={}){return function jI(n){return{\u0275providers:n}}([fq,pq,{provide:gq,useValue:n},{provide:rN,useValue:e},{provide:Z2,useFactory:Wbe,deps:[rN,Jl]},{provide:F1,useFactory:Hbe,deps:[po,gq,rN,Jl],multi:!0}])}let Qbe=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[Kbe(t,r)]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ts({type:n})}static{this.\u0275inj=Po({providers:[fq,pq]})}}return n})();const Ybe_firebase={apiKey:"AIzaSyAUbG_IDk6TFGtGbpkMVY4j2ZLvtvYee3A",authDomain:"thunders-pwa.firebaseapp.com",projectId:"thunders-pwa",storageBucket:"thunders-pwa.firebasestorage.app",messagingSenderId:"521968874196",appId:"1:521968874196:web:d279af17ffb90278814141"};let Zbe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ts({type:n,bootstrap:[Pbe]})}static{this.\u0275inj=Po({imports:[gie,ybe,Qbe.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"}),Hme,Gme,nue(()=>rue(Ybe_firebase)),$ge(()=>qge())]})}}return n})();fie().bootstrapModule(Zbe).catch(n=>console.error(n))},467:(cy,dy,As)=>{function cn(md,Yu,Mi,_d,vd,yd,Cs){try{var Za=md[yd](Cs),ql=Za.value}catch(bd){return void Mi(bd)}Za.done?Yu(ql):Promise.resolve(ql).then(_d,vd)}function xg(md){return function(){var Yu=this,Mi=arguments;return new Promise(function(_d,vd){var yd=md.apply(Yu,Mi);function Cs(ql){cn(yd,_d,vd,Cs,Za,"next",ql)}function Za(ql){cn(yd,_d,vd,Cs,Za,"throw",ql)}Cs(void 0)})}}As.d(dy,{A:()=>xg})}},cy=>{cy(cy.s=8049)}]);