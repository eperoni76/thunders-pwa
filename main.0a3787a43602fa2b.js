"use strict";(self.webpackChunkthunders_pwa=self.webpackChunkthunders_pwa||[]).push([[792],{4151:(Ky,Qy,ms)=>{function on(t){return"function"==typeof t}function mg(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const sd=mg(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function $l(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Ci{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(on(r))try{r()}catch(o){e=o instanceof sd?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{ld(o)}catch(s){e=e??[],s instanceof sd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new sd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)ld(e);else{if(e instanceof Ci){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&$l(n,e)}remove(e){const{_finalizers:n}=this;n&&$l(n,e),e instanceof Ci&&e._removeParent(this)}}Ci.EMPTY=(()=>{const t=new Ci;return t.closed=!0,t})();const ad=Ci.EMPTY;function ud(t){return t instanceof Ci||t&&"closed"in t&&on(t.remove)&&on(t.add)&&on(t.unsubscribe)}function ld(t){on(t)?t():t.unsubscribe()}const _s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},$a={setTimeout(t,e,...n){const{delegate:r}=$a;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=$a;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Fu(t){$a.setTimeout(()=>{const{onUnhandledError:e}=_s;if(!e)throw t;e(t)})}function cd(){}const Kq=o2("C",void 0,void 0);function o2(t,e,n){return{kind:t,value:e,error:n}}let dd=null;function Yy(t){if(_s.useDeprecatedSynchronousErrorHandling){const e=!dd;if(e&&(dd={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=dd;if(dd=null,n)throw r}}else t()}class s2 extends Ci{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ud(e)&&e.add(this)):this.destination=tH}static create(e,n,r){return new Mh(e,n,r)}next(e){this.isStopped?u2(function Yq(t){return o2("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?u2(function Qq(t){return o2("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?u2(Kq,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Jq=Function.prototype.bind;function a2(t,e){return Jq.call(t,e)}class Xq{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Zy(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Zy(r)}else Zy(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Zy(n)}}}class Mh extends s2{constructor(e,n,r){let i;if(super(),on(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&_s.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&a2(e.next,o),error:e.error&&a2(e.error,o),complete:e.complete&&a2(e.complete,o)}):i=e}this.destination=new Xq(i)}}function Zy(t){_s.useDeprecatedSynchronousErrorHandling?function Zq(t){_s.useDeprecatedSynchronousErrorHandling&&dd&&(dd.errorThrown=!0,dd.error=t)}(t):Fu(t)}function u2(t,e){const{onStoppedNotification:n}=_s;n&&$a.setTimeout(()=>n(t,e))}const tH={closed:!0,next:cd,error:function eH(t){throw t},complete:cd},l2="function"==typeof Symbol&&Symbol.observable||"@@observable";function ql(t){return t}function aP(t){return 0===t.length?ql:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Jn=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function iH(t){return t&&t instanceof s2||function rH(t){return t&&on(t.next)&&on(t.error)&&on(t.complete)}(t)&&ud(t)}(n)?n:new Mh(n,r,i);return Yy(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=uP(r))((i,o)=>{const s=new Mh({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[l2](){return this}pipe(...n){return aP(n)(this)}toPromise(n){return new(n=uP(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function uP(t){var e;return null!==(e=t??_s.Promise)&&void 0!==e?e:Promise}const oH=mg(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ho=(()=>{class t extends Jn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new lP(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new oH}next(n){Yy(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Yy(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Yy(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?ad:(this.currentObservers=null,o.push(n),new Ci(()=>{this.currentObservers=null,$l(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Jn;return n.source=this,n}}return t.create=(e,n)=>new lP(e,n),t})();class lP extends Ho{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:ad}}function cP(t){return on(t?.lift)}function Hr(t){return e=>{if(cP(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Gr(t,e,n,r,i){return new sH(t,e,n,r,i)}class sH extends s2{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function dn(t,e){return Hr((n,r)=>{let i=0;n.subscribe(Gr(r,o=>{r.next(t.call(e,o,i++))}))})}function Jy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Hl(t){return this instanceof Hl?(this.v=t,this):new Hl(t)}function pP(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function f2(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}(a,u,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const g2=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function gP(t){return on(t?.then)}function mP(t){return on(t[l2])}function _P(t){return Symbol.asyncIterator&&on(t?.[Symbol.asyncIterator])}function yP(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const vP=function RH(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function wP(t){return on(t?.[vP])}function bP(t){return function fP(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(p){return function(w){return Promise.resolve(w).then(p,d)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(p,w){r[p]&&(i[p]=function(b){return new Promise(function(E,T){o.push([p,b,E,T])>1||u(p,b)})},w&&(i[p]=w(i[p])))}function u(p,w){try{!function l(p){p.value instanceof Hl?Promise.resolve(p.value.v).then(c,d):m(o[0][2],p)}(r[p](w))}catch(b){m(o[0][3],b)}}function c(p){u("next",p)}function d(p){u("throw",p)}function m(p,w){p(w),o.shift(),o.length&&u(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Hl(n.read());if(i)return yield Hl(void 0);yield yield Hl(r)}}finally{n.releaseLock()}})}function IP(t){return on(t?.getReader)}function oo(t){if(t instanceof Jn)return t;if(null!=t){if(mP(t))return function kH(t){return new Jn(e=>{const n=t[l2]();if(on(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(g2(t))return function MH(t){return new Jn(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(gP(t))return function OH(t){return new Jn(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Fu)})}(t);if(_P(t))return EP(t);if(wP(t))return function LH(t){return new Jn(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(IP(t))return function FH(t){return EP(bP(t))}(t)}throw yP(t)}function EP(t){return new Jn(e=>{(function VH(t,e){var n,r,i,o;return function dP(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(c.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=pP(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Vu(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function gi(t,e,n=1/0){return on(e)?gi((r,i)=>dn((o,s)=>e(r,o,i,s))(oo(t(r,i))),n):("number"==typeof e&&(n=e),Hr((r,i)=>function UH(t,e,n,r,i,o,s,a){const u=[];let l=0,c=0,d=!1;const m=()=>{d&&!u.length&&!l&&e.complete()},p=b=>l<r?w(b):u.push(b),w=b=>{o&&e.next(b),l++;let E=!1;oo(n(b,c++)).subscribe(Gr(e,T=>{i?.(T),o?p(T):e.next(T)},()=>{E=!0},void 0,()=>{if(E)try{for(l--;u.length&&l<r;){const T=u.shift();s?Vu(e,s,()=>w(T)):w(T)}m()}catch(T){e.error(T)}}))};return t.subscribe(Gr(e,p,()=>{d=!0,m()})),()=>{a?.()}}(r,i,t,n)))}function Oh(t=1/0){return gi(ql,t)}const qa=new Jn(t=>t.complete());function AP(t){return t&&on(t.schedule)}function m2(t){return t[t.length-1]}function TP(t){return on(m2(t))?t.pop():void 0}function _g(t){return AP(m2(t))?t.pop():void 0}function Xy(t,e=0){return Hr((n,r)=>{n.subscribe(Gr(r,i=>Vu(r,t,()=>r.next(i),e),()=>Vu(r,t,()=>r.complete(),e),i=>Vu(r,t,()=>r.error(i),e)))})}function ev(t,e=0){return Hr((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function CP(t,e){if(!t)throw new Error("Iterable cannot be null");return new Jn(n=>{Vu(n,e,()=>{const r=t[Symbol.asyncIterator]();Vu(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Si(t,e){return e?function WH(t,e){if(null!=t){if(mP(t))return function zH(t,e){return oo(t).pipe(ev(e),Xy(e))}(t,e);if(g2(t))return function qH(t,e){return new Jn(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(gP(t))return function $H(t,e){return oo(t).pipe(ev(e),Xy(e))}(t,e);if(_P(t))return CP(t,e);if(wP(t))return function HH(t,e){return new Jn(n=>{let r;return Vu(n,e,()=>{r=t[vP](),Vu(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>on(r?.return)&&r.return()})}(t,e);if(IP(t))return function GH(t,e){return CP(bP(t),e)}(t,e)}throw yP(t)}(t,e):oo(t)}function _2(...t){const e=_g(t),n=function jH(t,e){return"number"==typeof m2(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?oo(r[0]):Oh(n)(Si(r,e)):qa}class qs extends Ho{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Nt(...t){return Si(t,_g(t))}function SP(t={}){const{connector:e=(()=>new Ho),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,u,l=0,c=!1,d=!1;const m=()=>{a?.unsubscribe(),a=void 0},p=()=>{m(),s=u=void 0,c=d=!1},w=()=>{const b=s;p(),b?.unsubscribe()};return Hr((b,E)=>{l++,!d&&!c&&m();const T=u=u??e();E.add(()=>{l--,0===l&&!d&&!c&&(a=y2(w,i))}),T.subscribe(E),!s&&l>0&&(s=new Mh({next:R=>T.next(R),error:R=>{d=!0,m(),a=y2(p,n,R),T.error(R)},complete:()=>{c=!0,m(),a=y2(p,r),T.complete()}}),oo(b).subscribe(s))})(o)}}function y2(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Mh({next:()=>{r.unsubscribe(),t()}});return oo(e(...n)).subscribe(r)}function Go(t,e){return Hr((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Gr(r,u=>{i?.unsubscribe();let l=0;const c=o++;oo(t(u,c)).subscribe(i=Gr(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function QH(t,e){return t===e}function Fn(t){for(let e in t)if(t[e]===Fn)return e;throw Error("Could not find renamed property on target object.")}function tv(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function mi(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(mi).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function v2(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const YH=Fn({__forward_ref__:Fn});function ir(t){return t.__forward_ref__=ir,t.toString=function(){return mi(this())},t}function Ut(t){return w2(t)?t():t}function w2(t){return"function"==typeof t&&t.hasOwnProperty(YH)&&t.__forward_ref__===ir}function b2(t){return t&&!!t.\u0275providers}const DP="https://g.co/ng/security#xss";class Ve extends Error{constructor(e,n){super(function nv(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Ht(t){return"string"==typeof t?t:null==t?"":String(t)}function I2(t,e){throw new Ve(-201,!1)}function Hs(t,e){null==t&&function Mt(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function bt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Co(t){return{providers:t.providers||[],imports:t.imports||[]}}function rv(t){return xP(t,ov)||xP(t,NP)}function xP(t,e){return t.hasOwnProperty(e)?t[e]:null}function iv(t){return t&&(t.hasOwnProperty(E2)||t.hasOwnProperty(iG))?t[E2]:null}const ov=Fn({\u0275prov:Fn}),E2=Fn({\u0275inj:Fn}),NP=Fn({ngInjectableDef:Fn}),iG=Fn({ngInjectorDef:Fn});var an=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(an||{});let A2;function Wo(t){const e=A2;return A2=t,e}function RP(t,e,n){const r=rv(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&an.Optional?null:void 0!==e?e:void I2(mi(t))}const or=globalThis;class tt{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=bt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const yg={},x2="__NG_DI_FLAG__",sv="ngTempTokenPath",aG=/\n/gm,MP="__source";let Lh;function Gl(t){const e=Lh;return Lh=t,e}function cG(t,e=an.Default){if(void 0===Lh)throw new Ve(-203,!1);return null===Lh?RP(t,void 0,e):Lh.get(t,e&an.Optional?null:void 0,e)}function It(t,e=an.Default){return(function PP(){return A2}()||cG)(Ut(t),e)}function nt(t,e=an.Default){return It(t,av(e))}function av(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function N2(t){const e=[];for(let n=0;n<t.length;n++){const r=Ut(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Ve(900,!1);let i,o=an.Default;for(let s=0;s<r.length;s++){const a=r[s],u=dG(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(It(i,o))}else e.push(It(r))}return e}function vg(t,e){return t[x2]=e,t.prototype[x2]=e,t}function dG(t){return t[x2]}function Uu(t){return{toString:t}.toString()}var uv=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(uv||{}),va=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(va||{});const Ha={},Cn=[],lv=Fn({\u0275cmp:Fn}),P2=Fn({\u0275dir:Fn}),R2=Fn({\u0275pipe:Fn}),LP=Fn({\u0275mod:Fn}),Bu=Fn({\u0275fac:Fn}),wg=Fn({__NG_ELEMENT_ID__:Fn}),FP=Fn({__NG_ENV_ID__:Fn});function VP(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function k2(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];BP(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function UP(t){return 3===t||4===t||6===t}function BP(t){return 64===t.charCodeAt(0)}function bg(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||jP(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function jP(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const zP="ng-template";function pG(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==VP(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function $P(t){return 4===t.type&&t.value!==zP}function gG(t,e,n){return e===(4!==t.type||n?t.value:zP)}function mG(t,e,n){let r=4;const i=t.attrs||[],o=function vG(t){for(let e=0;e<t.length;e++)if(UP(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!gG(t,u,n)||""===u&&1===e.length){if(wa(r))return!1;s=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!pG(t.attrs,l,n)){if(wa(r))return!1;s=!0}continue}const d=_G(8&r?"class":u,i,$P(t),n);if(-1===d){if(wa(r))return!1;s=!0;continue}if(""!==l){let m;m=d>o?"":i[d+1].toLowerCase();const p=8&r?m:null;if(p&&-1!==VP(p,l,0)||2&r&&l!==m){if(wa(r))return!1;s=!0}}}}else{if(!s&&!wa(r)&&!wa(u))return!1;if(s&&wa(u))continue;s=!1,r=u|1&r}}return wa(r)||s}function wa(t){return 0==(1&t)}function _G(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function wG(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function qP(t,e,n=!1){for(let r=0;r<e.length;r++)if(mG(t,e[r],n))return!0;return!1}function HP(t,e){return t?":not("+e.trim()+")":e}function IG(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!wa(s)&&(e+=HP(o,i),i=""),r=s,o=o||!wa(r);n++}return""!==i&&(e+=HP(o,i)),e}function Ga(t){return Uu(()=>{const e=WP(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===uv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||va.Emulated,styles:t.styles||Cn,_:null,schemas:t.schemas||null,tView:null,id:""};KP(n);const r=t.dependencies;return n.directiveDefs=cv(r,!1),n.pipeDefs=cv(r,!0),n.id=function NG(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function CG(t){return yn(t)||Bi(t)}function SG(t){return null!==t}function Ko(t){return Uu(()=>({type:t.type,bootstrap:t.bootstrap||Cn,declarations:t.declarations||Cn,imports:t.imports||Cn,exports:t.exports||Cn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function GP(t,e){if(null==t)return Ha;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function Bt(t){return Uu(()=>{const e=WP(t);return KP(e),e})}function So(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function yn(t){return t[lv]||null}function Bi(t){return t[P2]||null}function Do(t){return t[R2]||null}function vs(t,e){const n=t[LP]||null;if(!n&&!0===e)throw new Error(`Type ${mi(t)} does not have '\u0275mod' property.`);return n}function WP(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ha,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Cn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:GP(t.inputs,e),outputs:GP(t.outputs)}}function KP(t){t.features?.forEach(e=>e(t))}function cv(t,e){if(!t)return null;const n=e?Do:CG;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(SG)}const Fr=0,Je=1,Qt=2,wr=3,ba=4,Ig=5,so=6,Vh=7,Wr=8,Wl=9,Uh=10,Gt=11,Eg=12,QP=13,Bh=14,Kr=15,Ag=16,jh=17,Wa=18,Tg=19,YP=20,Kl=21,ju=22,Cg=23,Sg=24,un=25,M2=1,ZP=2,Ka=7,zh=9,ji=11;function Qo(t){return Array.isArray(t)&&"object"==typeof t[M2]}function xo(t){return Array.isArray(t)&&!0===t[M2]}function O2(t){return 0!=(4&t.flags)}function fd(t){return t.componentOffset>-1}function hv(t){return 1==(1&t.flags)}function Ia(t){return!!t.template}function L2(t){return 0!=(512&t[Qt])}function pd(t,e){return t.hasOwnProperty(Bu)?t[Bu]:null}let zi=null,fv=!1;function Gs(t){const e=zi;return zi=t,e}const eR={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function nR(t){if(!xg(t)||t.dirty){if(!t.producerMustRecompute(t)&&!oR(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function iR(t){t.dirty=!0,function rR(t){if(void 0===t.liveConsumerNode)return;const e=fv;fv=!0;try{for(const n of t.liveConsumerNode)n.dirty||iR(n)}finally{fv=e}}(t),t.consumerMarkedDirty?.(t)}function V2(t){return t&&(t.nextProducerIndex=0),Gs(t)}function U2(t,e){if(Gs(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(xg(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)pv(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function oR(t){$h(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(nR(n),r!==n.version))return!0}return!1}function sR(t){if($h(t),xg(t))for(let e=0;e<t.producerNode.length;e++)pv(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function pv(t,e){if(function uR(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),$h(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)pv(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];$h(i),i.producerIndexOfThis[r]=e}}function xg(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function $h(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let lR=null;const fR=()=>{},$G=(()=>({...eR,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:fR}))();class qG{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Yo(){return pR}function pR(t){return t.type.prototype.ngOnChanges&&(t.setInput=GG),HG}function HG(){const t=mR(this),e=t?.current;if(e){const n=t.previous;if(n===Ha)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function GG(t,e,n,r){const i=this.declaredInputs[n],o=mR(t)||function WG(t,e){return t[gR]=e}(t,{previous:Ha,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new qG(u&&u.currentValue,e,a===Ha),t[r]=e}Yo.ngInherit=!0;const gR="__ngSimpleChanges__";function mR(t){return t[gR]||null}const Qa=function(t,e,n){};function sr(t){for(;Array.isArray(t);)t=t[Fr];return t}function gv(t,e){return sr(e[t])}function Zo(t,e){return sr(e[t.index])}function vR(t,e){return t.data[e]}function qh(t,e){return t[e]}function ws(t,e){const n=e[t];return Qo(n)?n:n[Fr]}function Yl(t,e){return null==e?null:t[e]}function wR(t){t[jh]=0}function XG(t){1024&t[Qt]||(t[Qt]|=1024,IR(t,1))}function bR(t){1024&t[Qt]&&(t[Qt]&=-1025,IR(t,-1))}function IR(t,e){let n=t[wr];if(null===n)return;n[Ig]+=e;let r=n;for(n=n[wr];null!==n&&(1===e&&1===r[Ig]||-1===e&&0===r[Ig]);)n[Ig]+=e,r=n,n=n[wr]}const Ot={lFrame:kR(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function TR(){return Ot.bindingsEnabled}function Re(){return Ot.lFrame.lView}function vn(){return Ot.lFrame.tView}function Di(t){return Ot.lFrame.contextLView=t,t[Wr]}function xi(t){return Ot.lFrame.contextLView=null,t}function $i(){let t=CR();for(;null!==t&&64===t.type;)t=t.parent;return t}function CR(){return Ot.lFrame.currentTNode}function Ya(t,e){const n=Ot.lFrame;n.currentTNode=t,n.isParent=e}function q2(){return Ot.lFrame.isParent}function No(){const t=Ot.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function zu(){return Ot.lFrame.bindingIndex}function Gh(){return Ot.lFrame.bindingIndex++}function $u(t){const e=Ot.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function dW(t,e){const n=Ot.lFrame;n.bindingIndex=n.bindingRootIndex=t,G2(e)}function G2(t){Ot.lFrame.currentDirectiveIndex=t}function NR(){return Ot.lFrame.currentQueryIndex}function K2(t){Ot.lFrame.currentQueryIndex=t}function fW(t){const e=t[Je];return 2===e.type?e.declTNode:1===e.type?t[so]:null}function PR(t,e,n){if(n&an.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&an.Host||(i=fW(o),null===i||(o=o[Bh],10&i.type))););if(null===i)return!1;e=i,t=o}const r=Ot.lFrame=RR();return r.currentTNode=e,r.lView=t,!0}function Q2(t){const e=RR(),n=t[Je];Ot.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function RR(){const t=Ot.lFrame,e=null===t?null:t.child;return null===e?kR(t):e}function kR(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function MR(){const t=Ot.lFrame;return Ot.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const OR=MR;function Y2(){const t=MR();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Po(){return Ot.lFrame.selectedIndex}function gd(t){Ot.lFrame.selectedIndex=t}function Nr(){const t=Ot.lFrame;return vR(t.tView,t.selectedIndex)}let FR=!0;function mv(){return FR}function Zl(t){FR=t}function _v(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=c&&(t.destroyHooks??=[]).push(n,c)}}function yv(t,e,n){VR(t,e,3,n)}function vv(t,e,n,r){(3&t[Qt])===n&&VR(t,e,n,r)}function Z2(t,e){let n=t[Qt];(3&n)===e&&(n&=8191,n+=1,t[Qt]=n)}function VR(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&t[jh]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[jh]+=65536),(a<o||-1==o)&&(bW(t,n,e,u),t[jh]=(4294901760&t[jh])+u+2),u++}function UR(t,e){Qa(4,t,e);const n=Gs(null);try{e.call(t)}finally{Gs(n),Qa(5,t,e)}}function bW(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[Qt]>>13<t[jh]>>16&&(3&t[Qt])===e&&(t[Qt]+=8192,UR(a,o)):UR(a,o)}const Wh=-1;class Pg{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function X2(t){return t!==Wh}function Rg(t){return 32767&t}function kg(t,e){let n=function TW(t){return t>>16}(t),r=e;for(;n>0;)r=r[Bh],n--;return r}let eI=!0;function wv(t){const e=eI;return eI=t,e}const BR=255,jR=5;let CW=0;const Za={};function bv(t,e){const n=zR(t,e);if(-1!==n)return n;const r=e[Je];r.firstCreatePass&&(t.injectorIndex=e.length,tI(r.data,t),tI(e,null),tI(r.blueprint,null));const i=Iv(t,e),o=t.injectorIndex;if(X2(i)){const s=Rg(i),a=kg(i,e),u=a[Je].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function tI(t,e){t.push(0,0,0,0,0,0,0,0,e)}function zR(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Iv(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=QR(i),null===r)return Wh;if(n++,i=i[Bh],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Wh}function nI(t,e,n){!function SW(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(wg)&&(r=n[wg]),null==r&&(r=n[wg]=CW++);const i=r&BR;e.data[t+(i>>jR)]|=1<<i}(t,e,n)}function $R(t,e,n){if(n&an.Optional||void 0!==t)return t;I2()}function qR(t,e,n,r){if(n&an.Optional&&void 0===r&&(r=null),!(n&(an.Self|an.Host))){const i=t[Wl],o=Wo(void 0);try{return i?i.get(e,r,n&an.Optional):RP(e,r,n&an.Optional)}finally{Wo(o)}}return $R(r,0,n)}function HR(t,e,n,r=an.Default,i){if(null!==t){if(2048&e[Qt]&&!(r&an.Self)){const s=function kW(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[Qt]&&!(512&s[Qt]);){const a=GR(o,s,n,r|an.Self,Za);if(a!==Za)return a;let u=o.parent;if(!u){const l=s[YP];if(l){const c=l.get(n,Za,r);if(c!==Za)return c}u=QR(s),s=s[Bh]}o=u}return i}(t,e,n,r,Za);if(s!==Za)return s}const o=GR(t,e,n,r,Za);if(o!==Za)return o}return qR(e,n,r,i)}function GR(t,e,n,r,i){const o=function NW(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(wg)?t[wg]:void 0;return"number"==typeof e?e>=0?e&BR:RW:e}(n);if("function"==typeof o){if(!PR(e,t,r))return r&an.Host?$R(i,0,r):qR(e,n,r,i);try{let s;if(s=o(r),null!=s||r&an.Optional)return s;I2()}finally{OR()}}else if("number"==typeof o){let s=null,a=zR(t,e),u=Wh,l=r&an.Host?e[Kr][so]:null;for((-1===a||r&an.SkipSelf)&&(u=-1===a?Iv(t,e):e[a+8],u!==Wh&&KR(r,!1)?(s=e[Je],a=Rg(u),e=kg(u,e)):a=-1);-1!==a;){const c=e[Je];if(WR(o,a,c.data)){const d=xW(a,e,n,s,r,l);if(d!==Za)return d}u=e[a+8],u!==Wh&&KR(r,e[Je].data[a+8]===l)&&WR(o,a,e)?(s=c,a=Rg(u),e=kg(u,e)):a=-1}}return i}function xW(t,e,n,r,i,o){const s=e[Je],a=s.data[t+8],c=Ev(a,s,n,null==r?fd(a)&&eI:r!=s&&0!=(3&a.type),i&an.Host&&o===a);return null!==c?md(e,s,c,a):Za}function Ev(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,m=i?a+c:t.directiveEnd;for(let p=r?a:a+c;p<m;p++){const w=s[p];if(p<u&&n===w||p>=u&&w.type===n)return p}if(i){const p=s[u];if(p&&Ia(p)&&p.type===n)return u}return null}function md(t,e,n,r){let i=t[n];const o=e.data;if(function IW(t){return t instanceof Pg}(i)){const s=i;s.resolving&&function ZH(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Ve(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Rn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ht(t)}(o[n]));const a=wv(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Wo(s.injectImpl):null;PR(t,r,an.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function wW(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=pR(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==l&&Wo(l),wv(a),s.resolving=!1,OR()}}return i}function WR(t,e,n){return!!(n[e+(t>>jR)]&1<<t)}function KR(t,e){return!(t&an.Self||t&an.Host&&e)}class Ro{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return HR(this._tNode,this._lView,e,av(r),n)}}function RW(){return new Ro($i(),Re())}function qi(t){return Uu(()=>{const e=t.prototype.constructor,n=e[Bu]||rI(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Bu]||rI(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function rI(t){return w2(t)?()=>{const e=rI(Ut(t));return e&&e()}:pd(t)}function QR(t){const e=t[Je],n=e.type;return 2===n?e.declTNode:1===n?t[so]:null}const Qh="__parameters__";function Zh(t,e,n){return Uu(()=>{const r=function iI(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,l,c){const d=u.hasOwnProperty(Qh)?u[Qh]:Object.defineProperty(u,Qh,{value:[]})[Qh];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Xh(t,e){t.forEach(n=>Array.isArray(n)?Xh(n,e):e(n))}function ZR(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Tv(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bs(t,e,n){let r=ef(t,e);return r>=0?t[1|r]=n:(r=~r,function BW(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function oI(t,e){const n=ef(t,e);if(n>=0)return t[1|n]}function ef(t,e){return function JR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const Ks=vg(Zh("Optional"),8),Sv=vg(Zh("SkipSelf"),4);function Rv(t){return 128==(128&t.flags)}var Jl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Jl||{});const cI=new Map;let cK=0;const hI="__ngContext__";function ao(t,e){Qo(e)?(t[hI]=e[Tg],function hK(t){cI.set(t[Tg],t)}(e)):t[hI]=e}let fI;function pI(t,e){return fI(t,e)}function Ug(t){const e=t[wr];return xo(e)?e[wr]:e}function yk(t){return wk(t[Eg])}function vk(t){return wk(t[ba])}function wk(t){for(;null!==t&&!xo(t);)t=t[ba];return t}function rf(t,e,n,r,i){if(null!=r){let o,s=!1;xo(r)?o=r:Qo(r)&&(s=!0,r=r[Fr]);const a=sr(r);0===t&&null!==n?null==i?Ak(e,n,a):_d(e,n,a,i||null,!0):1===t&&null!==n?_d(e,n,a,i||null,!0):2===t?function Uv(t,e,n){const r=Fv(t,e);r&&function PK(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function MK(t,e,n,r,i){const o=n[Ka];o!==sr(n)&&rf(e,t,r,o,i);for(let a=ji;a<n.length;a++){const u=n[a];jg(u[Je],u,t,e,r,o)}}(e,t,o,n,i)}}function Ov(t,e,n){return t.createElement(e,n)}function Ik(t,e){const n=t[zh],r=n.indexOf(e);bR(e),n.splice(r,1)}function Lv(t,e){if(t.length<=ji)return;const n=ji+e,r=t[n];if(r){const i=r[Ag];null!==i&&i!==t&&Ik(i,r),e>0&&(t[n-1][ba]=r[ba]);const o=Tv(t,ji+e);!function EK(t,e){jg(t,e,e[Gt],2,null,null),e[Fr]=null,e[so]=null}(r[Je],r);const s=o[Wa];null!==s&&s.detachView(o[Je]),r[wr]=null,r[ba]=null,r[Qt]&=-129}return r}function mI(t,e){if(!(256&e[Qt])){const n=e[Gt];e[Cg]&&sR(e[Cg]),e[Sg]&&sR(e[Sg]),n.destroyNode&&jg(t,e,n,3,null,null),function CK(t){let e=t[Eg];if(!e)return _I(t[Je],t);for(;e;){let n=null;if(Qo(e))n=e[Eg];else{const r=e[ji];r&&(n=r)}if(!n){for(;e&&!e[ba]&&e!==t;)Qo(e)&&_I(e[Je],e),e=e[wr];null===e&&(e=t),Qo(e)&&_I(e[Je],e),n=e&&e[ba]}e=n}}(e)}}function _I(t,e){if(!(256&e[Qt])){e[Qt]&=-129,e[Qt]|=256,function NK(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Pg)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];Qa(4,a,u);try{u.call(a)}finally{Qa(5,a,u)}}else{Qa(4,i,o);try{o.call(i)}finally{Qa(5,i,o)}}}}}(t,e),function xK(t,e){const n=t.cleanup,r=e[Vh];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[Vh]=null);const i=e[Kl];if(null!==i){e[Kl]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[Je].type&&e[Gt].destroy();const n=e[Ag];if(null!==n&&xo(e[wr])){n!==e[wr]&&Ik(n,e);const r=e[Wa];null!==r&&r.detachView(t)}!function fK(t){cI.delete(t[Tg])}(e)}}function yI(t,e,n){return function Ek(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Fr];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===va.None||o===va.Emulated)return null}return Zo(r,n)}}(t,e.parent,n)}function _d(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Ak(t,e,n){t.appendChild(e,n)}function Tk(t,e,n,r,i){null!==r?_d(t,e,n,r,i):Ak(t,e,n)}function Fv(t,e){return t.parentNode(e)}let vI,EI,jv,Dk=function Sk(t,e,n){return 40&t.type?Zo(t,n):null};function Vv(t,e,n,r){const i=yI(t,r,e),o=e[Gt],a=function Ck(t,e,n){return Dk(t,e,n)}(r.parent||e[so],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Tk(o,i,n[u],a,!1);else Tk(o,i,n,a,!1);void 0!==vI&&vI(o,r,e,n,i)}function Bg(t,e){if(null!==e){const n=e.type;if(3&n)return Zo(e,t);if(4&n)return wI(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Bg(t,r);{const i=t[e.index];return xo(i)?wI(-1,i):sr(i)}}if(32&n)return pI(e,t)()||sr(t[e.index]);{const r=Nk(t,e);return null!==r?Array.isArray(r)?r[0]:Bg(Ug(t[Kr]),r):Bg(t,e.next)}}return null}function Nk(t,e){return null!==e?t[Kr][so].projection[e.projection]:null}function wI(t,e){const n=ji+t+1;if(n<e.length){const r=e[n],i=r[Je].firstChild;if(null!==i)return Bg(r,i)}return e[Ka]}function bI(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&ao(sr(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)bI(t,e,n.child,r,i,o,!1),rf(e,t,i,a,o);else if(32&u){const l=pI(n,r);let c;for(;c=l();)rf(e,t,i,c,o);rf(e,t,i,a,o)}else 16&u?Rk(t,e,r,n,i,o):rf(e,t,i,a,o);n=s?n.projectionNext:n.next}}function jg(t,e,n,r,i,o){bI(n,r,t.firstChild,e,i,o,!1)}function Rk(t,e,n,r,i,o){const s=n[Kr],u=s[so].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)rf(e,t,i,u[l],o);else{let l=u;const c=s[wr];Rv(r)&&(l.flags|=128),bI(t,e,l,c,i,o,!0)}}function kk(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Mk(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&k2(t,e,r),null!==i&&kk(t,e,i),null!==o&&function LK(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function Fk(t){return function AI(){if(void 0===jv&&(jv=null,or.trustedTypes))try{jv=or.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return jv}()?.createScriptURL(t)||t}class Vk{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${DP})`}}function Xl(t){return t instanceof Vk?t.changingThisBreaksApplicationSecurity:t}function zg(t,e){const n=function GK(t){return t instanceof Vk&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${DP})`)}return n===e}const YK=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var uf=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(uf||{});function Hk(t){const e=qg();return e?e.sanitize(uf.URL,t)||"":zg(t,"URL")?Xl(t):function TI(t){return(t=String(t)).match(YK)?t:"unsafe:"+t}(Ht(t))}function Gk(t){const e=qg();if(e)return Fk(e.sanitize(uf.RESOURCE_URL,t)||"");if(zg(t,"ResourceURL"))return Fk(Xl(t));throw new Ve(904,!1)}function qg(){const t=Re();return t&&t[Uh].sanitizer}const Hg=new tt("ENVIRONMENT_INITIALIZER"),Kk=new tt("INJECTOR",-1),Qk=new tt("INJECTOR_DEF_TYPES");class xI{get(e,n=yg){if(n===yg){const r=new Error(`NullInjectorError: No provider for ${mi(e)}!`);throw r.name="NullInjectorError",r}return n}}function lQ(...t){return{\u0275providers:Yk(0,t),\u0275fromNgModule:!0}}function Yk(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Xh(e,s=>{const a=s;$v(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Zk(i,o),n}function Zk(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];PI(i,o=>{e(o,r)})}}function $v(t,e,n,r){if(!(t=Ut(t)))return!1;let i=null,o=iv(t);const s=!o&&yn(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const u=t.ngModule;if(o=iv(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of u)$v(l,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{Xh(o.imports,c=>{$v(c,e,n,r)&&(l||=[],l.push(c))})}finally{}void 0!==l&&Zk(l,e)}if(!a){const l=pd(i)||(()=>new i);e({provide:i,useFactory:l,deps:Cn},i),e({provide:Qk,useValue:i,multi:!0},i),e({provide:Hg,useValue:()=>It(i),multi:!0},i)}const u=o.providers;if(null!=u&&!a){const l=t;PI(u,c=>{e(c,l)})}}}return i!==t&&void 0!==t.providers}function PI(t,e){for(let n of t)b2(n)&&(n=n.\u0275providers),Array.isArray(n)?PI(n,e):e(n)}const cQ=Fn({provide:String,useValue:Fn});function RI(t){return null!==t&&"object"==typeof t&&cQ in t}function yd(t){return"function"==typeof t}const kI=new tt("Set Injector scope."),qv={},hQ={};let MI;function Hv(){return void 0===MI&&(MI=new xI),MI}class Qs{}class lf extends Qs{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,LI(e,s=>this.processProvider(s)),this.records.set(Kk,cf(void 0,this)),i.has("environment")&&this.records.set(Qs,cf(void 0,this));const o=this.records.get(kI);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Qk.multi,Cn,an.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Gl(this),r=Wo(void 0);try{return e()}finally{Gl(n),Wo(r)}}get(e,n=yg,r=an.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(FP))return e[FP](this);r=av(r);const o=Gl(this),s=Wo(void 0);try{if(!(r&an.SkipSelf)){let u=this.records.get(e);if(void 0===u){const l=function _Q(t){return"function"==typeof t||"object"==typeof t&&t instanceof tt}(e)&&rv(e);u=l&&this.injectableDefInScope(l)?cf(OI(e),qv):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&an.Self?Hv():this.parent).get(e,n=r&an.Optional&&n===yg?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[sv]=a[sv]||[]).unshift(mi(e)),o)throw a;return function hG(t,e,n,r){const i=t[sv];throw e[MP]&&i.unshift(e[MP]),t.message=function fG(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=mi(e);if(Array.isArray(e))i=e.map(mi).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):mi(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(aG,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[sv]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Wo(s),Gl(o)}}resolveInjectorInitializers(){const e=Gl(this),n=Wo(void 0);try{const i=this.get(Hg.multi,Cn,an.Self);for(const o of i)o()}finally{Gl(e),Wo(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(mi(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ve(205,!1)}processProvider(e){let n=yd(e=Ut(e))?e:Ut(e&&e.provide);const r=function pQ(t){return RI(t)?cf(void 0,t.useValue):cf(eM(t),qv)}(e);if(yd(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=cf(void 0,qv,!0),i.factory=()=>N2(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===qv&&(n.value=hQ,n.value=n.factory()),"object"==typeof n.value&&n.value&&function mQ(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Ut(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function OI(t){const e=rv(t),n=null!==e?e.factory:pd(t);if(null!==n)return n;if(t instanceof tt)throw new Ve(204,!1);if(t instanceof Function)return function fQ(t){const e=t.length;if(e>0)throw function Lg(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new Ve(204,!1);const n=function rG(t){return t&&(t[ov]||t[NP])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Ve(204,!1)}function eM(t,e,n){let r;if(yd(t)){const i=Ut(t);return pd(i)||OI(i)}if(RI(t))r=()=>Ut(t.useValue);else if(function Xk(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...N2(t.deps||[]));else if(function Jk(t){return!(!t||!t.useExisting)}(t))r=()=>It(Ut(t.useExisting));else{const i=Ut(t&&(t.useClass||t.provide));if(!function gQ(t){return!!t.deps}(t))return pd(i)||OI(i);r=()=>new i(...N2(t.deps))}return r}function cf(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function LI(t,e){for(const n of t)Array.isArray(n)?LI(n,e):n&&b2(n)?LI(n.\u0275providers,e):e(n)}const Gv=new tt("AppId",{providedIn:"root",factory:()=>yQ}),yQ="ng",tM=new tt("Platform Initializer"),Hu=new tt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),nM=new tt("CSP nonce",{providedIn:"root",factory:()=>function af(){if(void 0!==EI)return EI;if(typeof document<"u")return document;throw new Ve(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let rM=(t,e,n)=>null;function qI(t,e,n=!1){return rM(t,e,n)}class DQ{}class sM{}class NQ{resolveComponentFactory(e){throw function xQ(t){const e=Error(`No component factory found for ${mi(t)}.`);return e.ngComponent=t,e}(e)}}let Jv=(()=>{class t{static{this.NULL=new NQ}}return t})();function PQ(){return ff($i(),Re())}function ff(t,e){return new Is(Zo(t,e))}let Is=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=PQ}}return t})();function RQ(t){return t instanceof Is?t.nativeElement:t}class uM{}let Gu=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function kQ(){const t=Re(),n=ws($i().index,t);return(Qo(n)?n:t)[Gt]}()}}return t})(),MQ=(()=>{class t{static{this.\u0275prov=bt({token:t,providedIn:"root",factory:()=>null})}}return t})();class pf{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const lM=new pf("16.2.12"),WI={};function fM(t,e=null,n=null,r){const i=pM(t,e,n,r);return i.resolveInjectorInitializers(),i}function pM(t,e=null,n=null,r,i=new Set){const o=[n||Cn,lQ(t)];return r=r||("object"==typeof t?void 0:mi(t)),new lf(o,e||Hv(),r||null,i)}let uo=(()=>{class t{static{this.THROW_IF_NOT_FOUND=yg}static{this.NULL=new xI}static create(n,r){if(Array.isArray(n))return fM({name:""},r,n,"");{const i=n.name??"";return fM({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=bt({token:t,providedIn:"any",factory:()=>It(Kk)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function QI(t){return t.ngOriginalError}class Wu{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&QI(e);for(;n&&QI(n);)n=QI(n);return n||null}}function YI(t){return e=>{setTimeout(t,void 0,e)}}const Gn=class zQ extends Ho{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=YI(o),i&&(i=YI(i)),s&&(s=YI(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ci&&e.add(a),a}};function mM(...t){}class kn{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gn(!1),this.onMicrotaskEmpty=new Gn(!1),this.onStable=new Gn(!1),this.onError=new Gn(!1),typeof Zone>"u")throw new Ve(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function $Q(){const t="function"==typeof or.requestAnimationFrame;let e=or[t?"requestAnimationFrame":"setTimeout"],n=or[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function GQ(t){const e=()=>{!function HQ(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(or,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,JI(t),t.isCheckStableRunning=!0,ZI(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),JI(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function KQ(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return _M(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),yM(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return _M(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),yM(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,JI(t),ZI(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!kn.isInAngularZone())throw new Ve(909,!1)}static assertNotInAngularZone(){if(kn.isInAngularZone())throw new Ve(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,qQ,mM,mM);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const qQ={};function ZI(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function JI(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function _M(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yM(t){t._nesting--,ZI(t)}class WQ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gn,this.onMicrotaskEmpty=new Gn,this.onStable=new Gn,this.onError=new Gn}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const vM=new tt("",{providedIn:"root",factory:wM});function wM(){const t=nt(kn);let e=!0;return _2(new Jn(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Jn(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{kn.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{kn.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(SP()))}function Ku(t){return t instanceof Function?t():t}let XI=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=bt({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Kg(t){for(;t;){t[Qt]|=64;const e=Ug(t);if(L2(t)&&!e)return t;t=e}return null}const TM=new tt("",{providedIn:"root",factory:()=>!1});let t0=null;function xM(t,e){return t[e]??RM()}function NM(t,e){const n=RM();n.producerNode?.length&&(t[e]=t0,n.lView=t,t0=PM())}const iY={...eR,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Kg(t.lView)},lView:null};function PM(){return Object.create(iY)}function RM(){return t0??=PM(),t0}const Wt={};function qe(t){kM(vn(),Re(),Po()+t,!1)}function kM(t,e,n,r){if(!r)if(3==(3&e[Qt])){const o=t.preOrderCheckHooks;null!==o&&yv(e,o,n)}else{const o=t.preOrderHooks;null!==o&&vv(e,o,0,n)}gd(n)}function Fe(t,e=an.Default){const n=Re();return null===n?It(t,e):HR($i(),n,Ut(t),e)}function n0(t,e,n,r,i,o,s,a,u,l,c){const d=e.blueprint.slice();return d[Fr]=i,d[Qt]=140|r,(null!==l||t&&2048&t[Qt])&&(d[Qt]|=2048),wR(d),d[wr]=d[Bh]=t,d[Wr]=n,d[Uh]=s||t&&t[Uh],d[Gt]=a||t&&t[Gt],d[Wl]=u||t&&t[Wl]||null,d[so]=o,d[Tg]=function dK(){return cK++}(),d[ju]=c,d[YP]=l,d[Kr]=2==e.type?t[Kr]:d,d}function _f(t,e,n,r,i){let o=t.data[e];if(null===o)o=function eE(t,e,n,r,i){const o=CR(),s=q2(),u=t.data[e]=function hY(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function Hh(){return null!==Ot.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(t,e,n,r,i),function cW(){return Ot.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Ng(){const t=Ot.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Ya(o,!0),o}function Qg(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function OM(t,e,n,r,i){const o=xM(e,Cg),s=Po(),a=2&r;try{gd(-1),a&&e.length>un&&kM(t,e,un,!1),Qa(a?2:0,i);const l=a?o:null,c=V2(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{U2(l,c)}}finally{a&&null===e[Cg]&&NM(e,Cg),gd(s),Qa(a?3:1,i)}}function tE(t,e,n){if(O2(e)){const r=Gs(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Gs(r)}}}function nE(t,e,n){TR()&&(function vY(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;fd(n)&&function CY(t,e,n){const r=Zo(e,t),i=LM(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=r0(t,n0(t,i,null,s,r,e,null,t[Uh].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||bv(n,e),ao(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const u=t.data[a],l=md(e,t,a,n);ao(l,e),null!==s&&SY(0,a-i,l,u,0,s),Ia(u)&&(ws(n.index,e)[Wr]=md(e,t,a,n))}}(t,e,n,Zo(n,e)),64==(64&n.flags)&&jM(t,e,n))}function rE(t,e,n=Zo){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function LM(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=iE(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function iE(t,e,n,r,i,o,s,a,u,l,c){const d=un+r,m=d+i,p=function sY(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Wt);return n}(d,m),w="function"==typeof l?l():l;return p[Je]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:w,incompleteFirstPass:!1,ssrId:c}}let FM=t=>null;function VM(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?UM(n,e,i,o):r.hasOwnProperty(i)&&UM(n,e,r[i],o)}return n}function UM(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function oE(t,e,n,r){if(TR()){const i=null===r?null:{"":-1},o=function bY(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(qP(e,s.selectors,!1))if(r||(r=[]),Ia(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),sE(t,e,a.length)}else r.unshift(s),sE(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&BM(t,e,n,s,i,a),i&&function IY(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new Ve(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=bg(n.mergedAttrs,n.attrs)}function BM(t,e,n,r,i,o){for(let l=0;l<r.length;l++)nI(bv(n,e),t,r[l].type);!function AY(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const c=r[l];c.providersResolver&&c.providersResolver(c)}let s=!1,a=!1,u=Qg(t,e,r.length,null);for(let l=0;l<r.length;l++){const c=r[l];n.mergedAttrs=bg(n.mergedAttrs,c.hostAttrs),TY(t,n,e,u,c),EY(u,c,i),null!==c.contentQueries&&(n.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(n.flags|=64);const d=c.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function fY(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let u=null,l=null;for(let c=e.directiveStart;c<i;c++){const d=o[c],m=n?n.get(d):null,w=m?m.outputs:null;u=VM(d.inputs,c,u,m?m.inputs:null),l=VM(d.outputs,c,l,w);const b=null===u||null===s||$P(e)?null:DY(u,c,s);a.push(b)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}(t,n,o)}function jM(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function hW(){return Ot.lFrame.currentDirectiveIndex}();try{gd(o);for(let a=r;a<i;a++){const u=t.data[a],l=e[a];G2(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&wY(u,l)}}finally{gd(-1),G2(s)}}function wY(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function sE(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function EY(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ia(e)&&(n[""]=t)}}function TY(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=pd(i.type)),s=new Pg(o,Ia(i),Fe);t.blueprint[r]=s,n[r]=s,function _Y(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function yY(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,Qg(t,n,i.hostVars,Wt),i)}function Ja(t,e,n,r,i,o){const s=Zo(t,e);!function aE(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?Ht(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[Gt],s,o,t.value,n,r,i)}function SY(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)zM(r,n,s[a++],s[a++],s[a++])}function zM(t,e,n,r,i){const o=Gs(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Gs(o)}}function DY(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function $M(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function qM(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];K2(n[r]),s.contentQueries(2,e[o],o)}}}function r0(t,e){return t[Eg]?t[QP][ba]=e:t[Eg]=e,t[QP]=e,e}function uE(t,e,n){K2(0);const r=Gs(null);try{e(t,n)}finally{Gs(r)}}function HM(t){return t[Vh]||(t[Vh]=[])}function GM(t){return t.cleanup||(t.cleanup=[])}function KM(t,e){const n=t[Wl],r=n?n.get(Wu,null):null;r&&r.handleError(e)}function lE(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];zM(t.data[s],e[s],r,a,i)}}function Qu(t,e,n){const r=gv(e,t);!function bk(t,e,n){t.setValue(e,n)}(t[Gt],r,n)}function xY(t,e){const n=ws(e,t),r=n[Je];!function NY(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Fr];null!==i&&null===n[ju]&&(n[ju]=qI(i,n[Wl])),cE(r,n,n[Wr])}function cE(t,e,n){Q2(e);try{const r=t.viewQuery;null!==r&&uE(1,r,n);const i=t.template;null!==i&&OM(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&qM(t,e),t.staticViewQueries&&uE(2,t.viewQuery,n);const o=t.components;null!==o&&function PY(t,e){for(let n=0;n<e.length;n++)xY(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Qt]&=-5,Y2()}}let QM=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function zG(t,e,n){const r=Object.create($G);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>iR(r),run:()=>{if(r.dirty=!1,r.hasRun&&!oR(r))return;r.hasRun=!0;const s=V2(r);try{r.cleanupFn(),r.cleanupFn=fR,r.fn(i)}finally{U2(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,l=>{this.all.has(l)&&this.queue.set(l,o)},i);let a;this.all.add(s),s.notify();const u=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=bt({token:t,providedIn:"root",factory:()=>new t})}}return t})();function o0(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=v2(i,a):2==o&&(r=v2(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Yg(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(sr(o)),xo(o)&&YM(o,r);const s=n.type;if(8&s)Yg(t,e,n.child,r);else if(32&s){const a=pI(n,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=Nk(e,n);if(Array.isArray(a))r.push(...a);else{const u=Ug(e[Kr]);Yg(u[Je],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function YM(t,e){for(let n=ji;n<t.length;n++){const r=t[n],i=r[Je].firstChild;null!==i&&Yg(r[Je],r,i,e)}t[Ka]!==t[Fr]&&e.push(t[Ka])}function s0(t,e,n,r=!0){const i=e[Uh],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{ZM(t,e,t.template,n)}catch(u){throw r&&KM(e,u),u}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function ZM(t,e,n,r){const i=e[Qt];if(256!=(256&i)){e[Uh].effectManager?.flush(),Q2(e);try{wR(e),function DR(t){return Ot.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&OM(t,e,n,2,r);const s=3==(3&i);if(s){const l=t.preOrderCheckHooks;null!==l&&yv(e,l,null)}else{const l=t.preOrderHooks;null!==l&&vv(e,l,0,null),Z2(e,0)}if(function MY(t){for(let e=yk(t);null!==e;e=vk(e)){if(!e[ZP])continue;const n=e[zh];for(let r=0;r<n.length;r++){XG(n[r])}}}(e),JM(e,2),null!==t.contentQueries&&qM(t,e),s){const l=t.contentCheckHooks;null!==l&&yv(e,l)}else{const l=t.contentHooks;null!==l&&vv(e,l,1),Z2(e,1)}!function oY(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=xM(e,Sg);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)gd(~o);else{const s=o,a=n[++i],u=n[++i];dW(a,s),r.dirty=!1;const l=V2(r);try{u(2,e[s])}finally{U2(r,l)}}}}finally{null===e[Sg]&&NM(e,Sg),gd(-1)}}(t,e);const a=t.components;null!==a&&eO(e,a,0);const u=t.viewQuery;if(null!==u&&uE(2,u,r),s){const l=t.viewCheckHooks;null!==l&&yv(e,l)}else{const l=t.viewHooks;null!==l&&vv(e,l,2),Z2(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Qt]&=-73,bR(e)}finally{Y2()}}}function JM(t,e){for(let n=yk(t);null!==n;n=vk(n))for(let r=ji;r<n.length;r++)XM(n[r],e)}function OY(t,e,n){XM(ws(e,t),n)}function XM(t,e){if(!function ZG(t){return 128==(128&t[Qt])}(t))return;const n=t[Je],r=t[Qt];if(80&r&&0===e||1024&r||2===e)ZM(n,t,n.template,t[Wr]);else if(t[Ig]>0){JM(t,1);const i=n.components;null!==i&&eO(t,i,1)}}function eO(t,e,n){for(let r=0;r<e.length;r++)OY(t,e[r],n)}class Zg{get rootNodes(){const e=this._lView,n=e[Je];return Yg(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wr]}set context(e){this._lView[Wr]=e}get destroyed(){return 256==(256&this._lView[Qt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[wr];if(xo(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Lv(e,r),Tv(n,r))}this._attachedToViewContainer=!1}mI(this._lView[Je],this._lView)}onDestroy(e){!function ER(t,e){if(256==(256&t[Qt]))throw new Ve(911,!1);null===t[Kl]&&(t[Kl]=[]),t[Kl].push(e)}(this._lView,e)}markForCheck(){Kg(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qt]&=-129}reattach(){this._lView[Qt]|=128}detectChanges(){s0(this._lView[Je],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ve(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function TK(t,e){jg(t,e,e[Gt],2,null,null)}(this._lView[Je],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ve(902,!1);this._appRef=e}}class LY extends Zg{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;s0(e[Je],e,e[Wr],!1)}checkNoChanges(){}get context(){return null}}class tO extends Jv{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=yn(e);return new Jg(n,this.ngModule)}}function nO(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class VY{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=av(r);const i=this.injector.get(e,WI,r);return i!==WI||n===WI?i:this.parentInjector.get(e,n,r)}}class Jg extends sM{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=nO(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return nO(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function EG(t){return t.map(IG).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof Qs?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new VY(e,o):e,a=s.get(uM,null);if(null===a)throw new Ve(407,!1);const d={rendererFactory:a,sanitizer:s.get(MQ,null),effectManager:s.get(QM,null),afterRenderEventManager:s.get(XI,null)},m=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",w=r?function aY(t,e,n,r){const o=r.get(TM,!1)||n===va.ShadowDom,s=t.selectRootElement(e,o);return function uY(t){FM(t)}(s),s}(m,r,this.componentDef.encapsulation,s):Ov(m,p,function FY(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(p)),T=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let R=null;null!==w&&(R=qI(w,s,!0));const V=iE(0,null,null,1,0,null,null,null,null,null,null),F=n0(null,V,null,T,null,null,d,m,s,null,R);let Q,ne;Q2(F);try{const B=this.componentDef;let D,S=null;B.findHostDirectiveDefs?(D=[],S=new Map,B.findHostDirectiveDefs(B,D,S),D.push(B)):D=[B];const O=function BY(t,e){const n=t[Je],r=un;return t[r]=e,_f(n,r,2,"#host",null)}(F,w),A=function jY(t,e,n,r,i,o,s){const a=i[Je];!function zY(t,e,n,r){for(const i of t)e.mergedAttrs=bg(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(o0(e,e.mergedAttrs,!0),null!==n&&Mk(r,n,e))}(r,t,e,s);let u=null;null!==e&&(u=qI(e,i[Wl]));const l=o.rendererFactory.createRenderer(e,n);let c=16;n.signals?c=4096:n.onPush&&(c=64);const d=n0(i,LM(n),null,c,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&sE(a,t,r.length-1),r0(i,d),i[t.index]=d}(O,w,B,D,F,d,m);ne=vR(V,un),w&&function qY(t,e,n,r){if(r)k2(t,n,["ng-version",lM.full]);else{const{attrs:i,classes:o}=function AG(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!wa(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&k2(t,n,i),o&&o.length>0&&kk(t,n,o.join(" "))}}(m,B,w,r),void 0!==n&&function HY(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(ne,this.ngContentSelectors,n),Q=function $Y(t,e,n,r,i,o){const s=$i(),a=i[Je],u=Zo(s,i);BM(a,i,s,n,null,r);for(let c=0;c<n.length;c++)ao(md(i,a,s.directiveStart+c,s),i);jM(a,i,s),u&&ao(u,i);const l=md(i,a,s.directiveStart+s.componentOffset,s);if(t[Wr]=i[Wr]=l,null!==o)for(const c of o)c(l,e);return tE(a,s,t),l}(A,B,D,S,F,[GY]),cE(V,F,null)}finally{Y2()}return new UY(this.componentType,Q,ff(ne,F),F,ne)}}class UY extends DQ{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new LY(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;lE(o[Je],o,i,e,n),this.previousInputValues.set(e,n),Kg(ws(this._tNode.index,o))}}get injector(){return new Ro(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function GY(){const t=$i();_v(Re()[Je],t)}function Vn(t){let e=function rO(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Ia(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ve(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=a0(t.inputs),s.inputTransforms=a0(t.inputTransforms),s.declaredInputs=a0(t.declaredInputs),s.outputs=a0(t.outputs);const a=i.hostBindings;a&&YY(t,a);const u=i.viewQuery,l=i.contentQueries;if(u&&KY(t,u),l&&QY(t,l),tv(t.inputs,i.inputs),tv(t.declaredInputs,i.declaredInputs),tv(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),tv(s.inputTransforms,i.inputTransforms)),Ia(i)&&i.data.animation){const c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Vn&&(n=!1)}}e=Object.getPrototypeOf(e)}!function WY(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=bg(i.hostAttrs,n=bg(n,i.hostAttrs))}}(r)}function a0(t){return t===Ha?{}:t===Cn?[]:t}function KY(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function QY(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function YY(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function aO(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function u0(t){return!!function dE(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Xa(t,e,n){return t[e]=n}function lo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function vd(t,e,n,r){const i=lo(t,e,n);return lo(t,e+1,r)||i}function co(t,e,n,r){const i=Re();return lo(i,Gh(),e)&&(vn(),Ja(Nr(),i,t,e,n,r)),co}function bf(t,e,n,r,i,o,s,a){const l=function l0(t,e,n,r,i){const o=vd(t,e,n,r);return lo(t,e+2,i)||o}(t,zu(),n,i,s);return $u(3),l?e+Ht(n)+r+Ht(i)+o+Ht(s)+a:Wt}function ui(t,e,n,r,i,o,s,a){const u=Re(),l=vn(),c=t+un,d=l.firstCreatePass?function bZ(t,e,n,r,i,o,s,a,u){const l=e.consts,c=_f(e,t,4,s||null,Yl(l,a));oE(e,n,c,Yl(l,u)),_v(e,c);const d=c.tView=iE(2,c,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,n,r,i,o,s):l.data[c];Ya(d,!1);const m=wO(l,u,d,t);mv()&&Vv(l,u,m,d),ao(m,u),r0(u,u[c]=$M(m,u,m,d)),hv(d)&&nE(l,u,d),null!=s&&rE(u,d,a)}let wO=function bO(t,e,n,r){return Zl(!0),e[Gt].createComment("")};function _E(t){return qh(function lW(){return Ot.lFrame.contextLView}(),un+t)}function Sn(t,e,n){const r=Re();return lo(r,Gh(),e)&&function Es(t,e,n,r,i,o,s,a){const u=Zo(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(lE(t,n,c,r,i),fd(e)&&function gY(t,e){const n=ws(e,t);16&n[Qt]||(n[Qt]|=64)}(n,e.index)):3&e.type&&(r=function pY(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}(vn(),Nr(),r,t,e,r[Gt],n,!1),Sn}function yE(t,e,n,r,i){const s=i?"class":"style";lE(t,n,e.inputs[s],s,r)}function de(t,e,n,r){const i=Re(),o=vn(),s=un+t,a=i[Gt],u=o.firstCreatePass?function TZ(t,e,n,r,i,o){const s=e.consts,u=_f(e,t,2,r,Yl(s,i));return oE(e,n,u,Yl(s,o)),null!==u.attrs&&o0(u,u.attrs,!1),null!==u.mergedAttrs&&o0(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,e,n,r):o.data[s],l=IO(o,i,u,a,e,t);i[s]=l;const c=hv(u);return Ya(u,!0),Mk(a,l,u),32!=(32&u.flags)&&mv()&&Vv(o,i,l,u),0===function tW(){return Ot.lFrame.elementDepthCount}()&&ao(l,i),function nW(){Ot.lFrame.elementDepthCount++}(),c&&(nE(o,i,u),tE(o,u,i)),null!==r&&rE(i,u),de}function he(){let t=$i();q2()?function H2(){Ot.lFrame.isParent=!1}():(t=t.parent,Ya(t,!1));const e=t;(function iW(t){return Ot.skipHydrationRootTNode===t})(e)&&function uW(){Ot.skipHydrationRootTNode=null}(),function rW(){Ot.lFrame.elementDepthCount--}();const n=vn();return n.firstCreatePass&&(_v(n,t),O2(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function EW(t){return 0!=(8&t.flags)}(e)&&yE(n,e,Re(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function AW(t){return 0!=(16&t.flags)}(e)&&yE(n,e,Re(),e.stylesWithoutHost,!1),he}function dt(t,e,n,r){return de(t,e,n,r),he(),dt}let IO=(t,e,n,r,i,o)=>(Zl(!0),Ov(r,i,function LR(){return Ot.lFrame.currentNamespace}()));function eu(){return Re()}function rm(t){return!!t&&"function"==typeof t.then}function TO(t){return!!t&&"function"==typeof t.subscribe}function St(t,e,n,r){const i=Re(),o=vn(),s=$i();return function SO(t,e,n,r,i,o,s){const a=hv(r),l=t.firstCreatePass&&GM(t),c=e[Wr],d=HM(e);let m=!0;if(3&r.type||s){const b=Zo(r,e),E=s?s(b):b,T=d.length,R=s?F=>s(sr(F[r.index])):r.index;let V=null;if(!s&&a&&(V=function PZ(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[Vh],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==V)(V.__ngLastListenerFn__||V).__ngNextListenerFn__=o,V.__ngLastListenerFn__=o,m=!1;else{o=xO(r,e,c,o,!1);const F=n.listen(E,i,o);d.push(o,F),l&&l.push(i,R,T,T+1)}}else o=xO(r,e,c,o,!1);const p=r.outputs;let w;if(m&&null!==p&&(w=p[i])){const b=w.length;if(b)for(let E=0;E<b;E+=2){const Q=e[w[E]][w[E+1]].subscribe(o),ne=d.length;d.push(o,Q),l&&l.push(i,r.index,ne,-(ne+1))}}}(o,i,i[Gt],s,t,e,r),St}function DO(t,e,n,r){try{return Qa(6,e,n),!1!==n(r)}catch(i){return KM(t,i),!1}finally{Qa(7,e,n)}}function xO(t,e,n,r,i){return function o(s){if(s===Function)return r;Kg(t.componentOffset>-1?ws(t.index,e):e);let u=DO(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)u=DO(e,n,l,s)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&s.preventDefault(),u}}function br(t=1){return function pW(t){return(Ot.lFrame.contextLView=function gW(t,e){for(;t>0;)e=e[Bh],t--;return e}(t,Ot.lFrame.contextLView))[Wr]}(t)}function f0(t,e){return t<<17|e<<2}function ec(t){return t>>17&32767}function IE(t){return 2|t}function wd(t){return(131068&t)>>2}function EE(t,e){return-131069&t|e<<2}function AE(t){return 1|t}function UO(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ec(o):wd(o),u=!1;for(;0!==a&&(!1===u||s);){const c=t[a+1];BZ(t[a],e)&&(u=!0,t[a+1]=r?AE(c):IE(c)),a=r?ec(c):wd(c)}u&&(t[n+1]=r?IE(o):AE(o))}function BZ(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ef(t,e)>=0}function vi(t,e){return function Ea(t,e,n,r){const i=Re(),o=vn(),s=$u(2);o.firstUpdatePass&&function KO(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Po()],s=function WO(t,e){return e>=t.expandoStartIndex}(t,n);(function JO(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function QZ(t,e,n,r){const i=function W2(t){const e=Ot.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=im(n=TE(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=TE(i,t,e,n,r),null===o){let u=function YZ(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==wd(r))return t[ec(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=TE(null,t,e,u[1],r),u=im(u,e.attrs,r),function ZZ(t,e,n,r){t[ec(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else o=function JZ(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=im(r,t[o].hostAttrs,n);return im(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function VZ(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ec(s),u=wd(s);t[r]=n;let c,l=!1;if(Array.isArray(n)?(c=n[1],(null===c||ef(n,c)>0)&&(l=!0)):c=n,i)if(0!==u){const m=ec(t[a+1]);t[r+1]=f0(m,a),0!==m&&(t[m+1]=EE(t[m+1],r)),t[a+1]=function LZ(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=f0(a,0),0!==a&&(t[a+1]=EE(t[a+1],r)),a=r;else t[r+1]=f0(u,0),0===a?a=r:t[u+1]=EE(t[u+1],r),u=r;l&&(t[r+1]=IE(t[r+1])),UO(t,c,r,!0),UO(t,c,r,!1),function UZ(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&ef(o,e)>=0&&(n[r+1]=AE(n[r+1]))}(e,c,t,r,o),s=f0(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==Wt&&lo(i,s,e)&&function YO(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,l=u[a+1],c=function FZ(t){return 1==(1&t)}(l)?ZO(u,e,n,i,wd(l),s):void 0;p0(c)||(p0(o)||function OZ(t){return 2==(2&t)}(l)&&(o=ZO(u,null,n,i,a,s)),function OK(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Jl.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Jl.Important),t.setStyle(n,r,i,o))}}(r,s,gv(Po(),n),i,o))}(o,o.data[Po()],i,i[Gt],t,i[s+1]=function nJ(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=mi(Xl(t)))),t}(e,n),r,s)}(t,e,null,!0),vi}function TE(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=im(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function im(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),bs(t,s,!!n||e[++o]))}return void 0===t?null:t}function ZO(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const u=t[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c;let m=n[i+1];m===Wt&&(m=d?Cn:void 0);let p=d?oI(m,r):c===r?m:void 0;if(l&&!p0(p)&&(p=oI(u,r)),p0(p)&&(a=p,s))return a;const w=t[i+1];i=s?ec(w):wd(w)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=oI(u,r))}return a}function p0(t){return void 0!==t}function Ce(t,e=""){const n=Re(),r=vn(),i=t+un,o=r.firstCreatePass?_f(r,i,1,e,null):r.data[i],s=XO(r,n,o,e,t);n[i]=s,mv()&&Vv(r,n,s,o),Ya(o,!1)}let XO=(t,e,n,r,i)=>(Zl(!0),function Mv(t,e){return t.createText(e)}(e[Gt],r));function Qr(t){return Hi("",t,""),Qr}function Hi(t,e,n){const r=Re(),i=function vf(t,e,n,r){return lo(t,Gh(),n)?e+Ht(n)+r:Wt}(r,t,e,n);return i!==Wt&&Qu(r,Po(),i),Hi}function CE(t,e,n,r,i){const o=Re(),s=function wf(t,e,n,r,i,o){const a=vd(t,zu(),n,i);return $u(2),a?e+Ht(n)+r+Ht(i)+o:Wt}(o,t,e,n,r,i);return s!==Wt&&Qu(o,Po(),s),CE}function SE(t,e,n,r,i,o,s){const a=Re(),u=bf(a,t,e,n,r,i,o,s);return u!==Wt&&Qu(a,Po(),u),SE}const bd=void 0;var AJ=["en",[["a","p"],["AM","PM"],bd],[["AM","PM"],bd,bd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bd,"{1} 'at' {0}",bd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function EJ(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Df={};function ko(t){const e=function TJ(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=y4(e);if(n)return n;const r=e.split("-")[0];if(n=y4(r),n)return n;if("en"===r)return AJ;throw new Ve(701,!1)}function y4(t){return t in Df||(Df[t]=or.ng&&or.ng.common&&or.ng.common.locales&&or.ng.common.locales[t]),Df[t]}var ar=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ar||{});const xf="en-US";let v4=xf;function NE(t,e,n,r,i){if(t=Ut(t),Array.isArray(t))for(let o=0;o<t.length;o++)NE(t[o],e,n,r,i);else{const o=vn(),s=Re(),a=$i();let u=yd(t)?t:Ut(t.provide);const l=eM(t),c=1048575&a.providerIndexes,d=a.directiveStart,m=a.providerIndexes>>20;if(yd(t)||!t.multi){const p=new Pg(l,i,Fe),w=RE(u,e,i?c:c+m,d);-1===w?(nI(bv(a,s),o,u),PE(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),s.push(p)):(n[w]=p,s[w]=p)}else{const p=RE(u,e,c+m,d),w=RE(u,e,c,c+m),E=w>=0&&n[w];if(i&&!E||!i&&!(p>=0&&n[p])){nI(bv(a,s),o,u);const T=function EX(t,e,n,r,i){const o=new Pg(t,n,Fe);return o.multi=[],o.index=e,o.componentProviders=0,q4(o,i,r&&!n),o}(i?IX:bX,n.length,i,r,l);!i&&E&&(n[w].providerFactory=T),PE(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),s.push(T)}else PE(o,t,p>-1?p:w,q4(n[i?w:p],l,!i&&r));!i&&r&&E&&n[w].componentProviders++}}}function PE(t,e,n,r){const i=yd(e),o=function dQ(t){return!!t.useClass}(e);if(i||o){const u=(o?Ut(e.useClass):e).prototype.ngOnDestroy;if(u){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const c=l.indexOf(n);-1===c?l.push(n,[r,u]):l[c+1].push(r,u)}else l.push(n,u)}}}function q4(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function RE(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function bX(t,e,n,r){return kE(this.multi,[])}function IX(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=md(n,n[Je],this.providerFactory.index,r);o=a.slice(0,s),kE(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],kE(i,o);return o}function kE(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ir(t,e=[]){return n=>{n.providersResolver=(r,i)=>function wX(t,e,n){const r=vn();if(r.firstCreatePass){const i=Ia(t);NE(n,r.data,r.blueprint,i,!0),NE(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Id{}class H4{}class ME extends Id{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tO(this);const i=vs(e);this._bootstrapComponents=Ku(i.bootstrap),this._r3Injector=pM(e,n,[{provide:Id,useValue:this},{provide:Jv,useValue:this.componentFactoryResolver},...r],mi(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class OE extends H4{constructor(e){super(),this.moduleType=e}create(e){return new ME(this.moduleType,e,[])}}class G4 extends Id{constructor(e){super(),this.componentFactoryResolver=new tO(this),this.instance=null;const n=new lf([...e.providers,{provide:Id,useValue:this},{provide:Jv,useValue:this.componentFactoryResolver}],e.parent||Hv(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function LE(t,e,n=null){return new G4({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let CX=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Yk(0,n.type),i=r.length>0?LE([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=bt({token:t,providedIn:"environment",factory:()=>new t(It(Qs))})}}return t})();function W4(t){t.getStandaloneInjector=e=>e.get(CX).getOrCreateStandaloneInjector(t)}function cm(t,e){const n=t[e];return n===Wt?void 0:n}function Yu(t,e){const n=vn();let r;const i=t+un;n.firstCreatePass?(r=function HX(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=pd(r.type)),a=Wo(Fe);try{const u=wv(!1),l=o();return wv(u),function AZ(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Re(),i,l),l}finally{Wo(a)}}function dm(t,e,n){const r=t+un,i=Re(),o=qh(i,r);return fm(i,r)?function eL(t,e,n,r,i,o){const s=e+n;return lo(t,s,i)?Xa(t,s+1,o?r.call(o,i):r(i)):cm(t,s+1)}(i,No(),e,o.transform,n,o):o.transform(n)}function hm(t,e,n,r){const i=t+un,o=Re(),s=qh(o,i);return fm(o,i)?function tL(t,e,n,r,i,o,s){const a=e+n;return vd(t,a,i,o)?Xa(t,a+2,s?r.call(s,i,o):r(i,o)):cm(t,a+2)}(o,No(),e,s.transform,n,r,s):s.transform(n,r)}function fm(t,e){return t[Je].data[e].pure}function QX(){return this._results[Symbol.iterator]()}class VE{get changes(){return this._changes||(this._changes=new Gn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=VE.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=QX)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function Ws(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function VW(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function ZX(t,e,n,r=!0){const i=e[Je];if(function SK(t,e,n,r){const i=ji+r,o=n.length;r>0&&(n[i-1][ba]=e),r<o-ji?(e[ba]=n[i],ZR(n,ji+r,e)):(n.push(e),e[ba]=null),e[wr]=n;const s=e[Ag];null!==s&&n!==s&&function DK(t,e){const n=t[zh];e[Kr]!==e[wr][wr][Kr]&&(t[ZP]=!0),null===n?t[zh]=[e]:n.push(e)}(s,e);const a=e[Wa];null!==a&&a.insertView(t),e[Qt]|=128}(i,e,t,n),r){const o=wI(n,t),s=e[Gt],a=Fv(s,t[Ka]);null!==a&&function AK(t,e,n,r,i,o){r[Fr]=i,r[so]=e,jg(t,r,n,1,i,o)}(i,t[so],s,e,a,o)}}let Zu=(()=>{class t{static{this.__NG_ELEMENT_ID__=eee}}return t})();const JX=Zu,XX=class extends JX{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function YX(t,e,n,r){const i=e.tView,a=n0(t,i,n,4096&t[Qt]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Ag]=t[e.index];const l=t[Wa];return null!==l&&(a[Wa]=l.createEmbeddedView(i)),cE(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Zg(i)}};function eee(){return v0($i(),Re())}function v0(t,e){return 4&t.type?new XX(e,t,ff(t,e)):null}let Ta=(()=>{class t{static{this.__NG_ELEMENT_ID__=see}}return t})();function see(){return dL($i(),Re())}const aee=Ta,lL=class extends aee{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ff(this._hostTNode,this._hostLView)}get injector(){return new Ro(this._hostTNode,this._hostLView)}get parentInjector(){const e=Iv(this._hostTNode,this._hostLView);if(X2(e)){const n=kg(e,this._hostLView),r=Rg(e);return new Ro(n[Je].data[r+8],n)}return new Ro(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=cL(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-ji}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function Og(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const b=n||{};a=b.index,r=b.injector,i=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}const u=s?e:new Jg(yn(e)),l=r||this.parentInjector;if(!o&&null==u.ngModule){const E=(s?l:this.parentInjector).get(Qs,null);E&&(o=E)}yn(u.componentType??{});const p=u.create(l,i,null,o);return this.insertImpl(p.hostView,a,false),p}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function JG(t){return xo(t[wr])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const l=i[wr],c=new lL(l,l[so],l[wr]);c.detach(c.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return ZX(a,i,s,!r),e.attachToViewContainerRef(),ZR(UE(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=cL(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Lv(this._lContainer,n);r&&(Tv(UE(this._lContainer),n),mI(r[Je],r))}detach(e){const n=this._adjustIndex(e,-1),r=Lv(this._lContainer,n);return r&&null!=Tv(UE(this._lContainer),n)?new Zg(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function cL(t){return t[8]}function UE(t){return t[8]||(t[8]=[])}function dL(t,e){let n;const r=e[t.index];return xo(r)?n=r:(n=$M(r,e,null,t),e[t.index]=n,r0(e,n)),hL(n,e,t,r),new lL(n,t,e)}let hL=function fL(t,e,n,r){if(t[Ka])return;let i;i=8&n.type?sr(r):function uee(t,e){const n=t[Gt],r=n.createComment(""),i=Zo(e,t);return _d(n,Fv(n,i),r,function RK(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Ka]=i};class BE{constructor(e){this.queryList=e,this.matches=null}clone(){return new BE(this.queryList)}setDirty(){this.queryList.setDirty()}}class jE{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new jE(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==wL(e,n).matches&&this.queries[n].setDirty()}}class pL{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class zE{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new zE(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class $E{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new $E(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,dee(n,o)),this.matchTNodeWithReadOption(e,n,Ev(n,e,o,!1,!1))}else r===Zu?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Ev(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Is||i===Ta||i===Zu&&4&n.type)this.addMatch(n.index,-2);else{const o=Ev(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function dee(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function fee(t,e,n,r){return-1===n?function hee(t,e){return 11&t.type?ff(t,e):4&t.type?v0(t,e):null}(e,t):-2===n?function pee(t,e,n){return n===Is?ff(e,t):n===Zu?v0(e,t):n===Ta?dL(e,t):void 0}(t,e,r):md(t,t[Je],n,e)}function gL(t,e,n,r){const i=e[Wa].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let u=0;u<s.length;u+=2){const l=s[u];a.push(l<0?null:fee(e,o[l],s[u+1],n.metadata.read))}i.matches=a}return i.matches}function qE(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=gL(t,e,i,n);for(let a=0;a<o.length;a+=2){const u=o[a];if(u>0)r.push(s[a/2]);else{const l=o[a+1],c=e[-u];for(let d=ji;d<c.length;d++){const m=c[d];m[Ag]===m[wr]&&qE(m[Je],m,l,r)}if(null!==c[zh]){const d=c[zh];for(let m=0;m<d.length;m++){const p=d[m];qE(p[Je],p,l,r)}}}}}return r}function HE(t){const e=Re(),n=vn(),r=NR();K2(r+1);const i=wL(n,r);if(t.dirty&&function YG(t){return 4==(4&t[Qt])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?qE(n,e,r,[]):gL(n,e,i,r);t.reset(o,RQ),t.notifyOnChanges()}return!0}return!1}function mL(t,e,n){const r=vn();r.firstCreatePass&&(function vL(t,e,n){null===t.queries&&(t.queries=new zE),t.queries.track(new $E(e,n))}(r,new pL(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function yL(t,e,n){const r=new VE(4==(4&n));(function dY(t,e,n,r){const i=HM(e);i.push(n),t.firstCreatePass&&GM(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Wa]&&(e[Wa]=new jE),e[Wa].queries.push(new BE(r))}(r,Re(),e)}function wL(t,e){return t.queries.getByIndex(e)}const I0=new tt("Application Initializer");let JE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=nt(I0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(rm(o))n.push(o);else if(TO(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),FL=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const Ju=new tt("LocaleId",{providedIn:"root",factory:()=>nt(Ju,an.Optional|an.SkipSelf)||function Vee(){return typeof $localize<"u"&&$localize.locale||xf}()});let VL=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new qs(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class jee{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let UL=(()=>{class t{compileModuleSync(n){return new OE(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Ku(vs(n).declarations).reduce((s,a)=>{const u=yn(a);return u&&s.push(new Jg(u)),s},[]);return new jee(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const $L=new tt(""),A0=new tt("");let rA,tA=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,rA||(function lte(t){rA=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{kn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static{this.\u0275fac=function(r){return new(r||t)(It(kn),It(nA),It(A0))}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac})}}return t})(),nA=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return rA?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),tc=null;const qL=new tt("AllowMultipleToken"),iA=new tt("PlatformDestroyListeners"),oA=new tt("appBootstrapListener");class GL{constructor(e,n){this.name=e,this.token=n}}function KL(t,e,n=[]){const r=`Platform: ${e}`,i=new tt(r);return(o=[])=>{let s=sA();if(!s||s.injector.get(qL,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function hte(t){if(tc&&!tc.get(qL,!1))throw new Ve(400,!1);(function HL(){!function FG(t){lR=t}(()=>{throw new Ve(600,!1)})})(),tc=t;const e=t.get(YL);(function WL(t){t.get(tM,null)?.forEach(n=>n())})(t)}(function QL(t=[],e){return uo.create({name:e,providers:[{provide:kI,useValue:"platform"},{provide:iA,useValue:new Set([()=>tc=null])},...t]})}(a,r))}return function pte(t){const e=sA();if(!e)throw new Ve(401,!1);return e}()}}function sA(){return tc?.get(YL)??null}let YL=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function gte(t="zone.js",e){return"noop"===t?new WQ:"zone.js"===t?new kn(e):t}(r?.ngZone,function ZL(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function TX(t,e,n){return new ME(t,e,n)}(n.moduleType,this.injector,function n3(t){return[{provide:kn,useFactory:t},{provide:Hg,multi:!0,useFactory:()=>{const e=nt(_te,{optional:!0});return()=>e.initialize()}},{provide:t3,useFactory:mte},{provide:vM,useFactory:wM}]}(()=>i)),s=o.injector.get(Wu,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{s.handleError(u)}});o.onDestroy(()=>{T0(this._modules,o),a.unsubscribe()})}),function JL(t,e,n){try{const r=n();return rm(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(JE);return a.runInitializers(),a.donePromise.then(()=>(function w4(t){Hs(t,"Expected localeId to be defined"),"string"==typeof t&&(v4=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Ju,xf)||xf),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=XL({},r);return function cte(t,e,n){const r=new OE(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ed);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Ve(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ve(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(iA,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||t)(It(uo))}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function XL(t,e){return Array.isArray(e)?e.reduce(XL,t):{...t,...e}}let Ed=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=nt(t3),this.zoneIsStable=nt(vM),this.componentTypes=[],this.components=[],this.isStable=nt(VL).hasPendingTasks.pipe(Go(n=>n?Nt(!1):this.zoneIsStable),function KH(t,e=ql){return t=t??QH,Hr((n,r)=>{let i,o=!0;n.subscribe(Gr(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}(),SP()),this._injector=nt(Qs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof sM;if(!this._injector.get(JE).done)throw!i&&function Fh(t){const e=yn(t)||Bi(t)||Do(t);return null!==e&&e.standalone}(n),new Ve(405,!1);let s;s=i?n:this._injector.get(Jv).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function dte(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Id),l=s.create(uo.NULL,[],r||s.selector,a),c=l.location.nativeElement,d=l.injector.get($L,null);return d?.registerApplication(c),l.onDestroy(()=>{this.detachView(l.hostView),T0(this.components,l),d?.unregisterApplication(c)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new Ve(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;T0(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(oA,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>T0(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ve(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function T0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const t3=new tt("",{providedIn:"root",factory:()=>nt(Wu).handleError.bind(void 0)});function mte(){const t=nt(kn),e=nt(Wu);return n=>t.runOutsideAngular(()=>e.handleError(n))}let _te=(()=>{class t{constructor(){this.zone=nt(kn),this.applicationRef=nt(Ed)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();let C0=(()=>{class t{static{this.__NG_ELEMENT_ID__=wte}}return t})();function wte(t){return function bte(t,e,n){if(fd(t)&&!n){const r=ws(t.index,e);return new Zg(r,r)}return 47&t.type?new Zg(e[Kr],e):null}($i(),Re(),16==(16&t))}class a3{constructor(){}supports(e){return u0(e)}create(e){return new Cte(e)}}const Tte=(t,e)=>e;class Cte{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Tte}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<l3(r,i,o)?n:r,a=l3(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,c=u-i;if(l!=c){for(let m=0;m<l;m++){const p=m<o.length?o[m]:o[m]=0,w=p+m;c<=w&&w<l&&(o[m]=p+1)}o[s.previousIndex]=c-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!u0(e))throw new Ve(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function rZ(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Ste(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new u3),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new u3),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Ste{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Dte{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class u3{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new Dte,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function l3(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function d3(){return new x0([new a3])}let x0=(()=>{class t{static{this.\u0275prov=bt({token:t,providedIn:"root",factory:d3})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||d3()),deps:[[t,new Sv,new Ks]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Ve(901,!1)}}return t})();const kte=KL(null,"core",[]);let Mte=(()=>{class t{constructor(n){}static{this.\u0275fac=function(r){return new(r||t)(It(Ed))}}static{this.\u0275mod=Ko({type:t})}static{this.\u0275inj=Co({})}}return t})();function Rf(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let hA=null;function nc(){return hA}class Kte{}const Zs=new tt("DocumentToken");let fA=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=bt({token:t,factory:function(){return nt(Yte)},providedIn:"platform"})}}return t})();const Qte=new tt("Location Initialized");let Yte=(()=>{class t extends fA{constructor(){super(),this._doc=nt(Zs),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return nc().getBaseHref(this._doc)}onPopState(n){const r=nc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=nc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=bt({token:t,factory:function(){return new t},providedIn:"platform"})}}return t})();function pA(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function b3(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Xu(t){return t&&"?"!==t[0]?"?"+t:t}let Td=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=bt({token:t,factory:function(){return nt(E3)},providedIn:"root"})}}return t})();const I3=new tt("appBaseHref");let E3=(()=>{class t extends Td{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??nt(Zs).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return pA(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Xu(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Xu(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Xu(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(It(fA),It(I3,8))}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Zte=(()=>{class t extends Td{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=pA(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Xu(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Xu(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(It(fA),It(I3,8))}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac})}}return t})(),gA=(()=>{class t{constructor(n){this._subject=new Gn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function ene(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(b3(A3(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Xu(r))}normalize(n){return t.stripTrailingSlash(function Xte(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,A3(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Xu(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Xu(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Xu}static{this.joinWithSlash=pA}static{this.stripTrailingSlash=b3}static{this.\u0275fac=function(r){return new(r||t)(It(Td))}}static{this.\u0275prov=bt({token:t,factory:function(){return function Jte(){return new gA(It(Td))}()},providedIn:"root"})}}return t})();function A3(t){return t.replace(/\/index.html$/,"")}var Oo=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Oo||{}),Xn=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Xn||{}),As=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(As||{}),Yr=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(Yr||{});function R0(t,e){return Xs(ko(t)[ar.DateFormat],e)}function k0(t,e){return Xs(ko(t)[ar.TimeFormat],e)}function M0(t,e){return Xs(ko(t)[ar.DateTimeFormat],e)}function Js(t,e){const n=ko(t),r=n[ar.NumberSymbols][e];if(typeof r>"u"){if(e===Yr.CurrencyDecimal)return n[ar.NumberSymbols][Yr.Decimal];if(e===Yr.CurrencyGroup)return n[ar.NumberSymbols][Yr.Group]}return r}function C3(t){if(!t[ar.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[ar.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Xs(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function _A(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const pne=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,_m={},gne=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var el=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(el||{}),Dn=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Dn||{}),xn=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(xn||{});function mne(t,e,n,r){let i=function Tne(t){if(x3(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[i,o=1,s=1]=t.split("-").map(a=>+a);return O0(i,o-1,s)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(pne))return function Cne(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,l),e}(r)}const e=new Date(t);if(!x3(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=tl(n,e)||e;let a,s=[];for(;e;){if(a=gne.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const c=s.pop();if(!c)break;e=c}}let u=i.getTimezoneOffset();r&&(u=D3(r,u),i=function Ane(t,e,n){const r=n?-1:1,i=t.getTimezoneOffset();return function Ene(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,r*(D3(e,i)-i))}(i,r,!0));let l="";return s.forEach(c=>{const d=function Ine(t){if(vA[t])return vA[t];let e;switch(t){case"G":case"GG":case"GGG":e=ur(xn.Eras,Xn.Abbreviated);break;case"GGGG":e=ur(xn.Eras,Xn.Wide);break;case"GGGGG":e=ur(xn.Eras,Xn.Narrow);break;case"y":e=li(Dn.FullYear,1,0,!1,!0);break;case"yy":e=li(Dn.FullYear,2,0,!0,!0);break;case"yyy":e=li(Dn.FullYear,3,0,!1,!0);break;case"yyyy":e=li(Dn.FullYear,4,0,!1,!0);break;case"Y":e=U0(1);break;case"YY":e=U0(2,!0);break;case"YYY":e=U0(3);break;case"YYYY":e=U0(4);break;case"M":case"L":e=li(Dn.Month,1,1);break;case"MM":case"LL":e=li(Dn.Month,2,1);break;case"MMM":e=ur(xn.Months,Xn.Abbreviated);break;case"MMMM":e=ur(xn.Months,Xn.Wide);break;case"MMMMM":e=ur(xn.Months,Xn.Narrow);break;case"LLL":e=ur(xn.Months,Xn.Abbreviated,Oo.Standalone);break;case"LLLL":e=ur(xn.Months,Xn.Wide,Oo.Standalone);break;case"LLLLL":e=ur(xn.Months,Xn.Narrow,Oo.Standalone);break;case"w":e=yA(1);break;case"ww":e=yA(2);break;case"W":e=yA(1,!0);break;case"d":e=li(Dn.Date,1);break;case"dd":e=li(Dn.Date,2);break;case"c":case"cc":e=li(Dn.Day,1);break;case"ccc":e=ur(xn.Days,Xn.Abbreviated,Oo.Standalone);break;case"cccc":e=ur(xn.Days,Xn.Wide,Oo.Standalone);break;case"ccccc":e=ur(xn.Days,Xn.Narrow,Oo.Standalone);break;case"cccccc":e=ur(xn.Days,Xn.Short,Oo.Standalone);break;case"E":case"EE":case"EEE":e=ur(xn.Days,Xn.Abbreviated);break;case"EEEE":e=ur(xn.Days,Xn.Wide);break;case"EEEEE":e=ur(xn.Days,Xn.Narrow);break;case"EEEEEE":e=ur(xn.Days,Xn.Short);break;case"a":case"aa":case"aaa":e=ur(xn.DayPeriods,Xn.Abbreviated);break;case"aaaa":e=ur(xn.DayPeriods,Xn.Wide);break;case"aaaaa":e=ur(xn.DayPeriods,Xn.Narrow);break;case"b":case"bb":case"bbb":e=ur(xn.DayPeriods,Xn.Abbreviated,Oo.Standalone,!0);break;case"bbbb":e=ur(xn.DayPeriods,Xn.Wide,Oo.Standalone,!0);break;case"bbbbb":e=ur(xn.DayPeriods,Xn.Narrow,Oo.Standalone,!0);break;case"B":case"BB":case"BBB":e=ur(xn.DayPeriods,Xn.Abbreviated,Oo.Format,!0);break;case"BBBB":e=ur(xn.DayPeriods,Xn.Wide,Oo.Format,!0);break;case"BBBBB":e=ur(xn.DayPeriods,Xn.Narrow,Oo.Format,!0);break;case"h":e=li(Dn.Hours,1,-12);break;case"hh":e=li(Dn.Hours,2,-12);break;case"H":e=li(Dn.Hours,1);break;case"HH":e=li(Dn.Hours,2);break;case"m":e=li(Dn.Minutes,1);break;case"mm":e=li(Dn.Minutes,2);break;case"s":e=li(Dn.Seconds,1);break;case"ss":e=li(Dn.Seconds,2);break;case"S":e=li(Dn.FractionalSeconds,1);break;case"SS":e=li(Dn.FractionalSeconds,2);break;case"SSS":e=li(Dn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=F0(el.Short);break;case"ZZZZZ":e=F0(el.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=F0(el.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=F0(el.Long);break;default:return null}return vA[t]=e,e}(c);l+=d?d(i,n,u):"''"===c?"'":c.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function O0(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function tl(t,e){const n=function nne(t){return ko(t)[ar.LocaleId]}(t);if(_m[n]=_m[n]||{},_m[n][e])return _m[n][e];let r="";switch(e){case"shortDate":r=R0(t,As.Short);break;case"mediumDate":r=R0(t,As.Medium);break;case"longDate":r=R0(t,As.Long);break;case"fullDate":r=R0(t,As.Full);break;case"shortTime":r=k0(t,As.Short);break;case"mediumTime":r=k0(t,As.Medium);break;case"longTime":r=k0(t,As.Long);break;case"fullTime":r=k0(t,As.Full);break;case"short":const i=tl(t,"shortTime"),o=tl(t,"shortDate");r=L0(M0(t,As.Short),[i,o]);break;case"medium":const s=tl(t,"mediumTime"),a=tl(t,"mediumDate");r=L0(M0(t,As.Medium),[s,a]);break;case"long":const u=tl(t,"longTime"),l=tl(t,"longDate");r=L0(M0(t,As.Long),[u,l]);break;case"full":const c=tl(t,"fullTime"),d=tl(t,"fullDate");r=L0(M0(t,As.Full),[c,d])}return r&&(_m[n][e]=r),r}function L0(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return null!=e&&r in e?e[r]:n})),t}function Ca(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function li(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function yne(t,e){switch(t){case Dn.FullYear:return e.getFullYear();case Dn.Month:return e.getMonth();case Dn.Date:return e.getDate();case Dn.Hours:return e.getHours();case Dn.Minutes:return e.getMinutes();case Dn.Seconds:return e.getSeconds();case Dn.FractionalSeconds:return e.getMilliseconds();case Dn.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===Dn.Hours)0===a&&-12===n&&(a=12);else if(t===Dn.FractionalSeconds)return function _ne(t,e){return Ca(t,3).substring(0,e)}(a,e);const u=Js(s,Yr.MinusSign);return Ca(a,e,u,r,i)}}function ur(t,e,n=Oo.Format,r=!1){return function(i,o){return function vne(t,e,n,r,i,o){switch(n){case xn.Months:return function one(t,e,n){const r=ko(t),o=Xs([r[ar.MonthsFormat],r[ar.MonthsStandalone]],e);return Xs(o,n)}(e,i,r)[t.getMonth()];case xn.Days:return function ine(t,e,n){const r=ko(t),o=Xs([r[ar.DaysFormat],r[ar.DaysStandalone]],e);return Xs(o,n)}(e,i,r)[t.getDay()];case xn.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const l=function lne(t){const e=ko(t);return C3(e),(e[ar.ExtraData][2]||[]).map(r=>"string"==typeof r?_A(r):[_A(r[0]),_A(r[1])])}(e),c=function cne(t,e,n){const r=ko(t);C3(r);const o=Xs([r[ar.ExtraData][0],r[ar.ExtraData][1]],e)||[];return Xs(o,n)||[]}(e,i,r),d=l.findIndex(m=>{if(Array.isArray(m)){const[p,w]=m,b=s>=p.hours&&a>=p.minutes,E=s<w.hours||s===w.hours&&a<w.minutes;if(p.hours<w.hours){if(b&&E)return!0}else if(b||E)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(-1!==d)return c[d]}return function rne(t,e,n){const r=ko(t),o=Xs([r[ar.DayPeriodsFormat],r[ar.DayPeriodsStandalone]],e);return Xs(o,n)}(e,i,r)[s<12?0:1];case xn.Eras:return function sne(t,e){return Xs(ko(t)[ar.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,t,e,n,r)}}function F0(t){return function(e,n,r){const i=-1*r,o=Js(n,Yr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case el.Short:return(i>=0?"+":"")+Ca(s,2,o)+Ca(Math.abs(i%60),2,o);case el.ShortGMT:return"GMT"+(i>=0?"+":"")+Ca(s,1,o);case el.Long:return"GMT"+(i>=0?"+":"")+Ca(s,2,o)+":"+Ca(Math.abs(i%60),2,o);case el.Extended:return 0===r?"Z":(i>=0?"+":"")+Ca(s,2,o)+":"+Ca(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}const wne=0,V0=4;function S3(t){return O0(t.getFullYear(),t.getMonth(),t.getDate()+(V0-t.getDay()))}function yA(t,e=!1){return function(n,r){let i;if(e){const o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{const o=S3(n),s=function bne(t){const e=O0(t,wne,1).getDay();return O0(t,0,1+(e<=V0?V0:V0+7)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Ca(i,t,Js(r,Yr.MinusSign))}}function U0(t,e=!1){return function(n,r){return Ca(S3(n).getFullYear(),t,Js(r,Yr.MinusSign),e)}}const vA={};function D3(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function x3(t){return t instanceof Date&&!isNaN(t.valueOf())}class jne{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let j0=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new jne(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),O3(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{O3(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Fe(Ta),Fe(Zu),Fe(x0))}}static{this.\u0275dir=Bt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function O3(t,e){t.context.$implicit=e.item}let z0=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new zne,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){L3("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){L3("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Fe(Ta),Fe(Zu))}}static{this.\u0275dir=Bt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})();class zne{constructor(){this.$implicit=null,this.ngIf=null}}function L3(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${mi(e)}'.`)}const tre=new tt("DATE_PIPE_DEFAULT_TIMEZONE"),nre=new tt("DATE_PIPE_DEFAULT_OPTIONS");let DA=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(null==n||""===n||n!=n)return null;try{return mne(n,r??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw function Sa(t,e){return new Ve(2100,!1)}()}}static{this.\u0275fac=function(r){return new(r||t)(Fe(Ju,16),Fe(tre,24),Fe(nre,24))}}static{this.\u0275pipe=So({name:"date",type:t,pure:!0,standalone:!0})}}return t})(),hre=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ko({type:t})}static{this.\u0275inj=Co({})}}return t})();const U3="browser";function B3(t){return t===U3}function j3(t){return"server"===t}let mre=(()=>{class t{static{this.\u0275prov=bt({token:t,providedIn:"root",factory:()=>new _re(It(Zs),window)})}}return t})();class _re{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function yre(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class zre extends Kte{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class kA extends zre{static makeCurrent(){!function Wte(t){hA||(hA=t)}(new kA)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function $re(){return wm=wm||document.querySelector("base"),wm?wm.getAttribute("href"):null}();return null==n?null:function qre(t){H0=H0||document.createElement("a"),H0.setAttribute("href",t);const e=H0.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){wm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Vne(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let H0,wm=null,Gre=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac})}}return t})();const MA=new tt("EventManagerPlugins");let G3=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new Ve(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(It(MA),It(kn))}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac})}}return t})();class W3{constructor(e){this._doc=e}}const OA="ng-app-id";let K3=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=j3(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${OA}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(OA),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(OA,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(It(Zs),It(Gv),It(nM,8),It(Hu))}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac})}}return t})();const LA={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},FA=/%COMP%/g,Yre=new tt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Y3(t,e){return e.map(n=>n.replace(FA,t))}let Z3=(()=>{class t{constructor(n,r,i,o,s,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=j3(a),this.defaultRenderer=new VA(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===va.ShadowDom&&(r={...r,encapsulation:va.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof X3?i.applyToHost(n):i instanceof UA&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case va.Emulated:o=new X3(u,l,r,this.appId,c,s,a,d);break;case va.ShadowDom:return new eie(u,l,n,r,s,a,this.nonce,d);default:o=new UA(u,l,r,c,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(It(G3),It(K3),It(Gv),It(Yre),It(Zs),It(Hu),It(kn),It(nM))}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac})}}return t})();class VA{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(LA[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(J3(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(J3(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new Ve(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=LA[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=LA[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Jl.DashCase|Jl.Important)?e.style.setProperty(n,r,i&Jl.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Jl.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=nc().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function J3(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class eie extends VA{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Y3(i.id,i.styles);for(const c of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=c,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class UA extends VA{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Y3(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class X3 extends UA{constructor(e,n,r,i,o,s,a,u){const l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=function Zre(t){return"_ngcontent-%COMP%".replace(FA,t)}(l),this.hostAttr=function Jre(t){return"_nghost-%COMP%".replace(FA,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let tie=(()=>{class t extends W3{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(It(Zs))}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac})}}return t})();const eF=["alt","control","meta","shift"],nie={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rie={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let iie=(()=>{class t extends W3{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nc().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),eF.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=nie[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),eF.forEach(s=>{s!==i&&(0,rie[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(It(Zs))}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac})}}return t})();const nF=[{provide:Hu,useValue:U3},{provide:tM,useValue:function oie(){kA.makeCurrent()},multi:!0},{provide:Zs,useFactory:function aie(){return function BK(t){EI=t}(document),document},deps:[]}],uie=KL(kte,"browser",nF),lie=new tt(""),rF=[{provide:A0,useClass:class Hre{addToWindow(e){or.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Ve(5103,!1);return o},or.getAllAngularTestabilities=()=>e.getAllTestabilities(),or.getAllAngularRootElements=()=>e.getAllRootElements(),or.frameworkStabilizers||(or.frameworkStabilizers=[]),or.frameworkStabilizers.push(r=>{const i=or.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?nc().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:$L,useClass:tA,deps:[kn,nA,A0]},{provide:tA,useClass:tA,deps:[kn,nA,A0]}],iF=[{provide:kI,useValue:"root"},{provide:Wu,useFactory:function sie(){return new Wu},deps:[]},{provide:MA,useClass:tie,multi:!0,deps:[Zs,kn,Hu]},{provide:MA,useClass:iie,multi:!0,deps:[Zs]},Z3,K3,G3,{provide:uM,useExisting:Z3},{provide:class vre{},useClass:Gre,deps:[]},[]];let cie=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Gv,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||t)(It(lie,12))}}static{this.\u0275mod=Ko({type:t})}static{this.\u0275inj=Co({providers:[...iF,...rF],imports:[hre,Mte]})}}return t})(),oF=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(It(Zs))}}static{this.\u0275prov=bt({token:t,factory:function(r){let i=null;return i=r?new r:function hie(){return new oF(It(Zs))}(),i},providedIn:"root"})}}return t})();typeof window<"u"&&window;const{isArray:yie}=Array,{getPrototypeOf:vie,prototype:wie,keys:bie}=Object;function lF(t){if(1===t.length){const e=t[0];if(yie(e))return{args:e,keys:null};if(function Iie(t){return t&&"object"==typeof t&&vie(t)===wie}(e)){const n=bie(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Eie}=Array;function jA(t){return dn(e=>function Aie(t,e){return Eie(e)?t(...e):t(e)}(t,e))}function cF(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function zA(...t){const e=_g(t),n=TP(t),{args:r,keys:i}=lF(t);if(0===r.length)return Si([],e);const o=new Jn(function Tie(t,e,n=ql){return r=>{dF(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)dF(e,()=>{const l=Si(t[u],e);let c=!1;l.subscribe(Gr(r,d=>{o[u]=d,c||(c=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>cF(i,s):ql));return n?o.pipe(jA(n)):o}function dF(t,e,n){t?Vu(n,t,e):e()}const bm=mg(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Im(...t){return function Cie(){return Oh(1)}()(Si(t,_g(t)))}function G0(t){return new Jn(e=>{oo(t()).subscribe(e)})}function Mf(t,e){const n=on(t)?t:()=>t,r=i=>i.error(n());return new Jn(e?i=>e.schedule(r,0,i):r)}function $A(){return Hr((t,e)=>{let n=null;t._refCount++;const r=Gr(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class qA extends Jn{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,cP(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ci;const n=this.getSubject();e.add(this.source.subscribe(Gr(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ci.EMPTY)}return e}refCount(){return $A()(this)}}function ts(t){return t<=0?()=>qa:Hr((e,n)=>{let r=0;e.subscribe(Gr(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ns(t,e){return Hr((n,r)=>{let i=0;n.subscribe(Gr(r,o=>t.call(e,o,i++)&&r.next(o)))})}function W0(t){return Hr((e,n)=>{let r=!1;e.subscribe(Gr(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function hF(t=Die){return Hr((e,n)=>{let r=!1;e.subscribe(Gr(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Die(){return new bm}function Cd(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ns((i,o)=>t(i,o,r)):ql,ts(1),n?W0(e):hF(()=>new bm))}function Em(t,e){return on(e)?gi(t,e,1):gi(t,1)}function Ni(t,e,n){const r=on(t)||e||n?{next:t,error:e,complete:n}:t;return r?Hr((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Gr(o,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),o.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):ql}function Sd(t){return Hr((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Gr(n,void 0,void 0,s=>{o=oo(t(s,Sd(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function HA(t){return t<=0?()=>qa:Hr((e,n)=>{let r=[];e.subscribe(Gr(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function fF(t){return dn(()=>t)}function GA(t){return Hr((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Jt="primary",Am=Symbol("RouteTitle");class kie{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Of(t){return new kie(t)}function Mie(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ru(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!pF(t[i],e[i]))return!1;return!0}function pF(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function gF(t){return t.length>0?t[t.length-1]:null}function ic(t){return function _ie(t){return!!t&&(t instanceof Jn||on(t.lift)&&on(t.subscribe))}(t)?t:rm(t)?Si(Promise.resolve(t)):Nt(t)}const Lie={exact:function yF(t,e,n){if(!Dd(t.segments,e.segments)||!K0(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!yF(t.children[r],e.children[r],n))return!1;return!0},subset:vF},mF={exact:function Fie(t,e){return ru(t,e)},subset:function Vie(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>pF(t[n],e[n]))},ignored:()=>!0};function _F(t,e,n){return Lie[n.paths](t.root,e.root,n.matrixParams)&&mF[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function vF(t,e,n){return wF(t,e,e.segments,n)}function wF(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Dd(i,n)||e.hasChildren()||!K0(i,n,r))}if(t.segments.length===n.length){if(!Dd(t.segments,n)||!K0(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!vF(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Dd(t.segments,i)&&K0(t.segments,i,r)&&t.children[Jt])&&wF(t.children[Jt],e,o,r)}}function K0(t,e,n){return e.every((r,i)=>mF[n](t[i].parameters,r.parameters))}class Lf{constructor(e=new Un([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Of(this.queryParams)),this._queryParamMap}toString(){return jie.serialize(this)}}class Un{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Q0(this)}}class Tm{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Of(this.parameters)),this._parameterMap}toString(){return EF(this)}}function Dd(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Cm=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=bt({token:t,factory:function(){return new WA},providedIn:"root"})}}return t})();class WA{parse(e){const n=new Jie(e);return new Lf(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Sm(e.root,!0)}`,r=function qie(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Y0(n)}=${Y0(i)}`).join("&"):`${Y0(n)}=${Y0(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function zie(t){return encodeURI(t)}(e.fragment)}`:""}`}}const jie=new WA;function Q0(t){return t.segments.map(e=>EF(e)).join("/")}function Sm(t,e){if(!t.hasChildren())return Q0(t);if(e){const n=t.children[Jt]?Sm(t.children[Jt],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Jt&&r.push(`${i}:${Sm(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Bie(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Jt&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Jt&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Jt?[Sm(t.children[Jt],!1)]:[`${i}:${Sm(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Jt]?`${Q0(t)}/${n[0]}`:`${Q0(t)}/(${n.join("//")})`}}function bF(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Y0(t){return bF(t).replace(/%3B/gi,";")}function KA(t){return bF(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Z0(t){return decodeURIComponent(t)}function IF(t){return Z0(t.replace(/\+/g,"%20"))}function EF(t){return`${KA(t.path)}${function $ie(t){return Object.keys(t).map(e=>`;${KA(e)}=${KA(t[e])}`).join("")}(t.parameters)}`}const Hie=/^[^\/()?;#]+/;function QA(t){const e=t.match(Hie);return e?e[0]:""}const Gie=/^[^\/()?;=#]+/,Kie=/^[^=?&#]+/,Yie=/^[^&#]+/;class Jie{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Un([],{}):new Un([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Jt]=new Un(e,n)),r}parseSegment(){const e=QA(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Ve(4009,!1);return this.capture(e),new Tm(Z0(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Wie(t){const e=t.match(Gie);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=QA(this.remaining);i&&(r=i,this.capture(r))}e[Z0(n)]=Z0(r)}parseQueryParam(e){const n=function Qie(t){const e=t.match(Kie);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function Zie(t){const e=t.match(Yie);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=IF(n),o=IF(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=QA(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Ve(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Jt);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[Jt]:new Un([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Ve(4011,!1)}}function AF(t){return t.segments.length>0?new Un([],{[Jt]:t}):t}function TF(t){const e={};for(const r of Object.keys(t.children)){const o=TF(t.children[r]);if(r===Jt&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function Xie(t){if(1===t.numberOfChildren&&t.children[Jt]){const e=t.children[Jt];return new Un(t.segments.concat(e.segments),e.children)}return t}(new Un(t.segments,e))}function xd(t){return t instanceof Lf}function CF(t){let e;const i=AF(function n(o){const s={};for(const u of o.children){const l=n(u);s[u.outlet]=l}const a=new Un(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function SF(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return YA(i,i,i,n,r);const o=function toe(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new xF(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new xF(n,e,r)}(e);if(o.toRoot())return YA(i,i,new Un([],{}),n,r);const s=function noe(t,e,n){if(t.isAbsolute)return new X0(e,!0,0);if(!n)return new X0(e,!1,NaN);if(null===n.parent)return new X0(n,!0,0);const r=J0(t.commands[0])?0:1;return function roe(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Ve(4005,!1);i=r.segments.length}return new X0(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?xm(s.segmentGroup,s.index,o.commands):NF(s.segmentGroup,s.index,o.commands);return YA(i,s.segmentGroup,a,n,r)}function J0(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Dm(t){return"object"==typeof t&&null!=t&&t.outlets}function YA(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(c=>`${c}`):`${l}`}),s=t===e?n:DF(t,e,n);const a=AF(TF(s));return new Lf(a,o,i)}function DF(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:DF(o,e,n)}),new Un(t.segments,r)}class xF{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&J0(r[0]))throw new Ve(4003,!1);const i=r.find(Dm);if(i&&i!==gF(r))throw new Ve(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class X0{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function NF(t,e,n){if(t||(t=new Un([],{})),0===t.segments.length&&t.hasChildren())return xm(t,e,n);const r=function ooe(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Dm(a))break;const u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!RF(u,l,s))return o;r+=2}else{if(!RF(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new Un(t.segments.slice(0,r.pathIndex),{});return o.children[Jt]=new Un(t.segments.slice(r.pathIndex),t.children),xm(o,0,i)}return r.match&&0===i.length?new Un(t.segments,{}):r.match&&!t.hasChildren()?ZA(t,e,n):r.match?xm(t,0,i):ZA(t,e,n)}function xm(t,e,n){if(0===n.length)return new Un(t.segments,{});{const r=function ioe(t){return Dm(t[0])?t[0].outlets:{[Jt]:t}}(n),i={};if(Object.keys(r).some(o=>o!==Jt)&&t.children[Jt]&&1===t.numberOfChildren&&0===t.children[Jt].segments.length){const o=xm(t.children[Jt],e,n);return new Un(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=NF(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Un(t.segments,i)}}function ZA(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Dm(o)){const u=soe(o.outlets);return new Un(r,u)}if(0===i&&J0(n[0])){r.push(new Tm(t.segments[e].path,PF(n[0]))),i++;continue}const s=Dm(o)?o.outlets[Jt]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&J0(a)?(r.push(new Tm(s,PF(a))),i+=2):(r.push(new Tm(s,{})),i++)}return new Un(r,{})}function soe(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=ZA(new Un([],{}),0,r))}),e}function PF(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function RF(t,e,n){return t==n.path&&ru(e,n.parameters)}const Nm="imperative";class iu{constructor(e,n){this.id=e,this.url=n}}class e1 extends iu{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oc extends iu{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Pm extends iu{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ff extends iu{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class t1 extends iu{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kF extends iu{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aoe extends iu{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uoe extends iu{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class loe extends iu{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class coe extends iu{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class doe{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hoe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class foe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class poe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class goe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class moe{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MF{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class JA{}class XA{constructor(e){this.url=e}}class _oe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Rm,this.attachRef=null}}let Rm=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new _oe,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class OF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=eT(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=eT(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=tT(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return tT(e,this._root).map(n=>n.value)}}function eT(t,e){if(t===e.value)return e;for(const n of e.children){const r=eT(t,n);if(r)return r}return null}function tT(t,e){if(t===e.value)return[e];for(const n of e.children){const r=tT(t,n);if(r.length)return r.unshift(e),r}return[]}class nl{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Vf(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class LF extends OF{constructor(e,n){super(e),this.snapshot=n,nT(this,e)}toString(){return this.snapshot.toString()}}function FF(t,e){const n=function yoe(t,e){const s=new n1([],{},{},"",{},Jt,e,null,{});return new UF("",new nl(s,[]))}(0,e),r=new qs([new Tm("",{})]),i=new qs({}),o=new qs({}),s=new qs({}),a=new qs(""),u=new Uf(r,i,s,a,o,Jt,e,n.root);return u.snapshot=n.root,new LF(new nl(u,[]),n)}class Uf{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(dn(l=>l[Am]))??Nt(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(dn(e=>Of(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(dn(e=>Of(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function VF(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function voe(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class n1{get title(){return this.data?.[Am]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Of(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Of(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class UF extends OF{constructor(e,n){super(n),this.url=e,nT(this,n)}toString(){return BF(this._root)}}function nT(t,e){e.value._routerState=t,e.children.forEach(n=>nT(t,n))}function BF(t){const e=t.children.length>0?` { ${t.children.map(BF).join(", ")} } `:"";return`${t.value}${e}`}function rT(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ru(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ru(e.params,n.params)||t.paramsSubject.next(n.params),function Oie(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ru(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),ru(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function iT(t,e){const n=ru(t.params,e.params)&&function Uie(t,e){return Dd(t,e)&&t.every((n,r)=>ru(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||iT(t.parent,e.parent))}let oT=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Jt,this.activateEvents=new Gn,this.deactivateEvents=new Gn,this.attachEvents=new Gn,this.detachEvents=new Gn,this.parentContexts=nt(Rm),this.location=nt(Ta),this.changeDetector=nt(C0),this.environmentInjector=nt(Qs),this.inputBinder=nt(r1,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ve(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ve(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ve(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Ve(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new woe(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Bt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Yo]})}}return t})();class woe{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Uf?this.route:e===Rm?this.childContexts:this.parent.get(e,n)}}const r1=new tt("");let jF=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=zA([r.queryParams,r.params,r.data]).pipe(Go(([o,s,a],u)=>(a={...o,...s,...a},0===u?Nt(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function Gte(t){const e=yn(t);if(!e)return null;const n=new Jg(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac})}}return t})();function km(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Ioe(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return km(t,r,i);return km(t,r)})}(t,e,n);return new nl(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>km(t,a)),s}}const r=function Eoe(t){return new Uf(new qs(t.url),new qs(t.params),new qs(t.queryParams),new qs(t.fragment),new qs(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>km(t,o));return new nl(r,i)}}const sT="ngNavigationCancelingError";function zF(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=xd(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=$F(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function $F(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[sT]=!0,r.cancellationCode=e,n&&(r.url=n),r}function qF(t){return t&&t[sT]}let HF=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ga({type:t,selectors:[["ng-component"]],standalone:!0,features:[W4],decls:1,vars:0,template:function(r,i){1&r&&dt(0,"router-outlet")},dependencies:[oT],encapsulation:2})}}return t})();function aT(t){const e=t.children&&t.children.map(aT),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Jt&&(n.component=HF),n}function Da(t){return t.outlet||Jt}function Mm(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Poe{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),rT(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Vf(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Vf(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Vf(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Vf(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new moe(o.value.snapshot))}),e.children.length&&this.forwardEvent(new poe(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(rT(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),rT(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Mm(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class GF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class i1{constructor(e,n){this.component=e,this.route=n}}function Roe(t,e,n){const r=t._root;return Om(r,e?e._root:null,n,[r.value])}function Bf(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function nG(t){return null!==rv(t)}(t)?e.get(t):t:r}function Om(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Vf(e);return t.children.forEach(s=>{(function Moe(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function Ooe(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Dd(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Dd(t.url,e.url)||!ru(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!iT(t,e)||!ru(t.queryParams,e.queryParams);default:return!iT(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new GF(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Om(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new i1(a.outlet.component,s))}else s&&Lm(e,a,i),i.canActivateChecks.push(new GF(r)),Om(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Lm(a,n.getContext(s),i)),i}function Lm(t,e,n){const r=Vf(t),i=t.value;Object.entries(r).forEach(([o,s])=>{Lm(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new i1(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Fm(t){return"function"==typeof t}function WF(t){return t instanceof bm||"EmptyError"===t?.name}const o1=Symbol("INITIAL_VALUE");function jf(){return Go(t=>zA(t.map(e=>e.pipe(ts(1),function Sie(...t){const e=_g(t);return Hr((n,r)=>{(e?Im(t,n,e):Im(t,n)).subscribe(r)})}(o1)))).pipe(dn(e=>{for(const n of e)if(!0!==n){if(n===o1)return o1;if(!1===n||n instanceof Lf)return n}return!0}),ns(e=>e!==o1),ts(1)))}function KF(t){return function nH(...t){return aP(t)}(Ni(e=>{if(xd(e))throw zF(0,e)}),dn(e=>!0===e))}class s1{constructor(e){this.segmentGroup=e||null}}class QF{constructor(e){this.urlTree=e}}function zf(t){return Mf(new s1(t))}function YF(t){return Mf(new QF(t))}class tse{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new Ve(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Nt(r);if(i.numberOfChildren>1||!i.children[Jt])return Mf(new Ve(4e3,!1));i=i.children[Jt]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new Lf(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Un(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Ve(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const uT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nse(t,e,n,r,i){const o=lT(t,e,n);return o.matched?(r=function Toe(t,e){return t.providers&&!t._injector&&(t._injector=LE(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Joe(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Nt(i.map(s=>{const a=Bf(s,t);return ic(function joe(t){return t&&Fm(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(jf(),KF()):Nt(!0)}(r,e,n).pipe(dn(s=>!0===s?o:{...uT}))):Nt(o)}function lT(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...uT}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Mie)(n,t,e);if(!i)return{...uT};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function ZF(t,e,n,r){return n.length>0&&function ose(t,e,n){return n.some(r=>a1(t,e,r)&&Da(r)!==Jt)}(t,n,r)?{segmentGroup:new Un(e,ise(r,new Un(n,t.children))),slicedSegments:[]}:0===n.length&&function sse(t,e,n){return n.some(r=>a1(t,e,r))}(t,n,r)?{segmentGroup:new Un(t.segments,rse(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Un(t.segments,t.children),slicedSegments:n}}function rse(t,e,n,r,i){const o={};for(const s of r)if(a1(t,n,s)&&!i[Da(s)]){const a=new Un([],{});o[Da(s)]=a}return{...i,...o}}function ise(t,e){const n={};n[Jt]=e;for(const r of t)if(""===r.path&&Da(r)!==Jt){const i=new Un([],{});n[Da(r)]=i}return n}function a1(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class cse{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new tse(this.urlSerializer,this.urlTree)}noMatchError(e){return new Ve(4002,!1)}recognize(){const e=ZF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Jt).pipe(Sd(n=>{if(n instanceof QF)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof s1?this.noMatchError(n):n}),dn(n=>{const r=new n1([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jt,this.rootComponentType,null,{}),i=new nl(r,n),o=new UF("",i),s=function eoe(t,e,n=null,r=null){return SF(CF(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Jt).pipe(Sd(r=>{throw r instanceof s1?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=VF(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Si(i).pipe(Em(o=>{const s=r.children[o],a=function xoe(t,e){const n=t.filter(r=>Da(r)===e);return n.push(...t.filter(r=>Da(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function Nie(t,e){return Hr(function xie(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(Gr(s,c=>{const d=l++;u=a?t(u,c,d):(a=!0,c),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),W0(null),function Pie(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ns((i,o)=>t(i,o,r)):ql,HA(1),n?W0(e):hF(()=>new bm))}(),gi(o=>{if(null===o)return zf(r);const s=JF(o);return function dse(t){t.sort((e,n)=>e.value.outlet===Jt?-1:n.value.outlet===Jt?1:e.value.outlet.localeCompare(n.value.outlet))}(s),Nt(s)}))}processSegment(e,n,r,i,o,s){return Si(n).pipe(Em(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Sd(u=>{if(u instanceof s1)return Nt(null);throw u}))),Cd(a=>!!a),Sd(a=>{if(WF(a))return function use(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?Nt([]):zf(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function ase(t,e,n,r){return!!(Da(t)===r||r!==Jt&&a1(e,n,t))&&("**"===t.path||lT(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):zf(i):zf(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?YF(o):this.applyRedirects.lineralizeSegments(r,o).pipe(gi(s=>{const a=new Un(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:c}=lT(n,i,o);if(!a)return zf(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return i.redirectTo.startsWith("/")?YF(d):this.applyRedirects.lineralizeSegments(i,d).pipe(gi(m=>this.processSegment(e,r,n,m.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const u=i.length>0?gF(i).parameters:{};a=Nt({snapshot:new n1(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,XF(r),Da(r),r.component??r._loadedComponent??null,r,e6(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=nse(n,r,i,e).pipe(dn(({matched:u,consumedSegments:l,remainingSegments:c,parameters:d})=>u?{snapshot:new n1(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,XF(r),Da(r),r.component??r._loadedComponent??null,r,e6(r)),consumedSegments:l,remainingSegments:c}:null));return a.pipe(Go(u=>null===u?zf(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Go(({routes:l})=>{const c=r._loadedInjector??e,{snapshot:d,consumedSegments:m,remainingSegments:p}=u,{segmentGroup:w,slicedSegments:b}=ZF(n,m,p,l);if(0===b.length&&w.hasChildren())return this.processChildren(c,l,w).pipe(dn(T=>null===T?null:[new nl(d,T)]));if(0===l.length&&0===b.length)return Nt([new nl(d,[])]);const E=Da(r)===o;return this.processSegment(c,l,w,b,E?Jt:o,!0).pipe(dn(T=>[new nl(d,T)]))}))))}getChildConfig(e,n,r){return n.children?Nt({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Nt({routes:n._loadedRoutes,injector:n._loadedInjector}):function Zoe(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Nt(!0):Nt(i.map(s=>{const a=Bf(s,t);return ic(function Foe(t){return t&&Fm(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(jf(),KF())}(e,n,r).pipe(gi(i=>i?this.configLoader.loadChildren(e,n).pipe(Ni(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function ese(t){return Mf($F(!1,3))}())):Nt({routes:[],injector:e})}}function hse(t){const e=t.value.routeConfig;return e&&""===e.path}function JF(t){const e=[],n=new Set;for(const r of t){if(!hse(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=JF(r.children);e.push(new nl(r.value,i))}return e.filter(r=>!n.has(r))}function XF(t){return t.data||{}}function e6(t){return t.resolve||{}}function t6(t){return"string"==typeof t.title||null===t.title}function cT(t){return Go(e=>{const n=t(e);return n?Si(n).pipe(dn(()=>e)):Nt(e)})}const $f=new tt("ROUTES");let dT=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=nt(UL)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Nt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ic(n.loadComponent()).pipe(dn(n6),Ni(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),GA(()=>{this.componentLoaders.delete(n)})),i=new qA(r,()=>new Ho).pipe($A());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Nt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function vse(t,e,n,r){return ic(t.loadChildren()).pipe(dn(n6),gi(i=>i instanceof H4||Array.isArray(i)?Nt(i):Si(e.compileModuleAsync(i))),dn(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get($f,[],{optional:!0,self:!0}).flat()),{routes:s.map(aT),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(GA(()=>{this.childrenLoaders.delete(r)})),s=new qA(o,()=>new Ho).pipe($A());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function n6(t){return function wse(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let u1=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ho,this.transitionAbortSubject=new Ho,this.configLoader=nt(dT),this.environmentInjector=nt(Qs),this.urlSerializer=nt(Cm),this.rootContexts=nt(Rm),this.inputBindingEnabled=null!==nt(r1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Nt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new hoe(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new doe(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new qs({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Nm,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ns(o=>0!==o.id),dn(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),Go(o=>{this.currentTransition=o;let s=!1,a=!1;return Nt(o).pipe(Ni(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Go(u=>{const l=u.currentBrowserUrl.toString(),c=!n.navigated||u.extractedUrl.toString()!==l||l!==u.currentUrlTree.toString();if(!c&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const m="";return this.events.next(new Ff(u.id,this.urlSerializer.serialize(u.rawUrl),m,0)),u.resolve(null),qa}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Nt(u).pipe(Go(m=>{const p=this.transitions?.getValue();return this.events.next(new e1(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),p!==this.transitions?.getValue()?qa:Promise.resolve(m)}),function fse(t,e,n,r,i,o){return gi(s=>function lse(t,e,n,r,i,o,s="emptyOnly"){return new cse(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(dn(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Ni(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const p=new kF(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(p)}));if(c&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:m,extractedUrl:p,source:w,restoredState:b,extras:E}=u,T=new e1(m,this.urlSerializer.serialize(p),w,b);this.events.next(T);const R=FF(0,this.rootComponentType).snapshot;return this.currentTransition=o={...u,targetSnapshot:R,urlAfterRedirects:p,extras:{...E,skipLocationChange:!1,replaceUrl:!1}},Nt(o)}{const m="";return this.events.next(new Ff(u.id,this.urlSerializer.serialize(u.extractedUrl),m,1)),u.resolve(null),qa}}),Ni(u=>{const l=new aoe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),dn(u=>(this.currentTransition=o={...u,guards:Roe(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},o)),function $oe(t,e){return gi(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Nt({...n,guardsResult:!0}):function qoe(t,e,n,r){return Si(t).pipe(gi(i=>function Yoe(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Nt(o.map(a=>{const u=Mm(e)??i,l=Bf(a,u);return ic(function Boe(t){return t&&Fm(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):u.runInContext(()=>l(t,e,n,r))).pipe(Cd())})).pipe(jf()):Nt(!0)}(i.component,i.route,n,e,r)),Cd(i=>!0!==i,!0))}(s,r,i,t).pipe(gi(a=>a&&function Loe(t){return"boolean"==typeof t}(a)?function Hoe(t,e,n,r){return Si(e).pipe(Em(i=>Im(function Woe(t,e){return null!==t&&e&&e(new foe(t)),Nt(!0)}(i.route.parent,r),function Goe(t,e){return null!==t&&e&&e(new goe(t)),Nt(!0)}(i.route,r),function Qoe(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function koe(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>G0(()=>Nt(s.guards.map(u=>{const l=Mm(s.node)??n,c=Bf(u,l);return ic(function Uoe(t){return t&&Fm(t.canActivateChild)}(c)?c.canActivateChild(r,t):l.runInContext(()=>c(r,t))).pipe(Cd())})).pipe(jf())));return Nt(o).pipe(jf())}(t,i.path,n),function Koe(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Nt(!0);const i=r.map(o=>G0(()=>{const s=Mm(e)??n,a=Bf(o,s);return ic(function Voe(t){return t&&Fm(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(Cd())}));return Nt(i).pipe(jf())}(t,i.route,n))),Cd(i=>!0!==i,!0))}(r,o,t,e):Nt(a)),dn(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),Ni(u=>{if(o.guardsResult=u.guardsResult,xd(u.guardsResult))throw zF(0,u.guardsResult);const l=new uoe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),ns(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),cT(u=>{if(u.guards.canActivateChecks.length)return Nt(u).pipe(Ni(l=>{const c=new loe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Go(l=>{let c=!1;return Nt(l).pipe(function pse(t,e){return gi(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Nt(n);let o=0;return Si(i).pipe(Em(s=>function gse(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!t6(i)&&(o[Am]=i.title),function mse(t,e,n,r){const i=function _se(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Nt({});const o={};return Si(i).pipe(gi(s=>function yse(t,e,n,r){const i=Mm(e)??r,o=Bf(t,i);return ic(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(Cd(),Ni(a=>{o[s]=a}))),HA(1),fF(o),Sd(s=>WF(s)?qa:Mf(s)))}(o,t,e,r).pipe(dn(s=>(t._resolvedData=s,t.data=VF(t,n).resolve,i&&t6(i)&&(t.data[Am]=i.title),null)))}(s.route,r,t,e)),Ni(()=>o++),HA(1),gi(s=>o===i.length?Nt(n):qa))})}(n.paramsInheritanceStrategy,this.environmentInjector),Ni({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(l,"",2)}}))}),Ni(l=>{const c=new coe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}))}),cT(u=>{const l=c=>{const d=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(c.routeConfig).pipe(Ni(m=>{c.component=m}),dn(()=>{})));for(const m of c.children)d.push(...l(m));return d};return zA(l(u.targetSnapshot.root)).pipe(W0(),ts(1))}),cT(()=>this.afterPreactivation()),dn(u=>{const l=function boe(t,e,n){const r=km(t,e._root,n?n._root:void 0);return new LF(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o={...u,targetRouterState:l},o}),Ni(()=>{this.events.next(new JA)}),((t,e,n,r)=>dn(i=>(new Poe(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),ts(1),Ni({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new oc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),function Rie(t){return Hr((e,n)=>{oo(t).subscribe(Gr(n,()=>n.complete(),cd)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Ni(u=>{throw u}))),GA(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Sd(u=>{if(a=!0,qF(u))this.events.next(new Pm(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),function Aoe(t){return qF(t)&&xd(t.url)}(u)?this.events.next(new XA(u.url)):o.resolve(!1);else{this.events.next(new t1(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(u))}catch(l){o.reject(l)}}return qa}))}))}cancelNavigationTransition(n,r,i){const o=new Pm(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function r6(t){return t!==Nm}let i6=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Jt);return r}getResolvedTitleForRoute(n){return n.data[Am]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=bt({token:t,factory:function(){return nt(bse)},providedIn:"root"})}}return t})(),bse=(()=>{class t extends i6{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(It(oF))}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ise=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=bt({token:t,factory:function(){return nt(Ase)},providedIn:"root"})}}return t})();class Ese{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Ase=(()=>{class t extends Ese{static{this.\u0275fac=function(){let n;return function(i){return(n||(n=qi(t)))(i||t)}}()}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const l1=new tt("",{providedIn:"root",factory:()=>({})});let Tse=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=bt({token:t,factory:function(){return nt(Cse)},providedIn:"root"})}}return t})(),Cse=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Vm=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Vm||{});function o6(t,e){t.events.pipe(ns(n=>n instanceof oc||n instanceof Pm||n instanceof t1||n instanceof Ff),dn(n=>n instanceof oc||n instanceof Ff?Vm.COMPLETE:n instanceof Pm&&(0===n.code||1===n.code)?Vm.REDIRECTING:Vm.FAILED),ns(n=>n!==Vm.REDIRECTING),ts(1)).subscribe(()=>{e()})}function Sse(t){throw t}function Dse(t,e,n){return e.parse("/")}const xse={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Nse={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ea=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=nt(FL),this.isNgZoneEnabled=!1,this._events=new Ho,this.options=nt(l1,{optional:!0})||{},this.pendingTasks=nt(VL),this.errorHandler=this.options.errorHandler||Sse,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Dse,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=nt(Tse),this.routeReuseStrategy=nt(Ise),this.titleStrategy=nt(i6),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=nt($f,{optional:!0})?.flat()??[],this.navigationTransitions=nt(u1),this.urlSerializer=nt(Cm),this.location=nt(gA),this.componentInputBindingEnabled=!!nt(r1,{optional:!0}),this.eventsSubscription=new Ci,this.isNgZoneEnabled=nt(kn)instanceof kn&&kn.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Lf,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=FF(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(s6(r)&&this._events.next(r));if(r instanceof e1)r6(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Ff)this.rawUrlTree=i.rawUrl;else if(r instanceof kF){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof JA)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Pm)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof XA){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||r6(i.source)};this.scheduleNavigation(o,Nm,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof t1&&this.restoreHistory(i,!0),r instanceof oc&&(this.navigated=!0),s6(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Nm,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(aT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s;let d,c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...o};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=o||null}null!==c&&(c=this.removeEmptyProps(c));try{d=CF(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return SF(d,n,c,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=xd(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Nm,null,r)}navigate(n,r={skipLocationChange:!1}){return function Pse(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new Ve(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...xse}:!1===r?{...Nse}:r,xd(n))return _F(this.currentUrlTree,n,i);const o=this.parseUrl(n);return _F(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((d,m)=>{a=d,u=m});const c=this.pendingTasks.add();return o6(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function s6(t){return!(t instanceof JA||t instanceof XA)}let Um=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Ho,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof oc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function Wk(t,e,n){return function uQ(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?Gk:Hk}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(Fe(ea),Fe(Uf),function Av(t){return function DW(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(UP(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}($i(),t)}("tabindex"),Fe(Gu),Fe(Is),Fe(Td))}}static{this.\u0275dir=Bt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&St("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&co("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Rf],skipLocationChange:["skipLocationChange","skipLocationChange",Rf],replaceUrl:["replaceUrl","replaceUrl",Rf],routerLink:"routerLink"},standalone:!0,features:[aO,Yo]})}}return t})();class a6{}let Mse=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ns(n=>n instanceof oc),Em(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=LE(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Si(i).pipe(Oh())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Nt(null);const o=i.pipe(gi(s=>null===s?Nt(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?Si([o,this.loader.loadComponent(r)]).pipe(Oh()):o})}static{this.\u0275fac=function(r){return new(r||t)(It(ea),It(UL),It(Qs),It(a6),It(dT))}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const hT=new tt("");let u6=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof e1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof oc?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Ff&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof MF&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new MF(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function MM(){throw new Error("invalid")}()}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac})}}return t})();function rl(t,e){return{\u0275kind:t,\u0275providers:e}}function c6(){const t=nt(uo);return e=>{const n=t.get(Ed);if(e!==n.components[0])return;const r=t.get(ea),i=t.get(d6);1===t.get(fT)&&r.initialNavigation(),t.get(h6,null,an.Optional)?.setUpPreloading(),t.get(hT,null,an.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const d6=new tt("",{factory:()=>new Ho}),fT=new tt("",{providedIn:"root",factory:()=>1}),h6=new tt("");function Vse(t){return rl(0,[{provide:h6,useExisting:Mse},{provide:a6,useExisting:t}])}const f6=new tt("ROUTER_FORROOT_GUARD"),Bse=[gA,{provide:Cm,useClass:WA},ea,Rm,{provide:Uf,useFactory:function l6(t){return t.routerState.root},deps:[ea]},dT,[]];function jse(){return new GL("Router",ea)}let p6=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[Bse,[],{provide:$f,multi:!0,useValue:n},{provide:f6,useFactory:Hse,deps:[[ea,new Ks,new Sv]]},{provide:l1,useValue:r||{}},r?.useHash?{provide:Td,useClass:Zte}:{provide:Td,useClass:E3},{provide:hT,useFactory:()=>{const t=nt(mre),e=nt(kn),n=nt(l1),r=nt(u1),i=nt(Cm);return n.scrollOffset&&t.setOffset(n.scrollOffset),new u6(i,r,t,e,n)}},r?.preloadingStrategy?Vse(r.preloadingStrategy).\u0275providers:[],{provide:GL,multi:!0,useFactory:jse},r?.initialNavigation?Gse(r):[],r?.bindToComponentInputs?rl(8,[jF,{provide:r1,useExisting:jF}]).\u0275providers:[],[{provide:g6,useFactory:c6},{provide:oA,multi:!0,useExisting:g6}]]}}static forChild(n){return{ngModule:t,providers:[{provide:$f,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(It(f6,8))}}static{this.\u0275mod=Ko({type:t})}static{this.\u0275inj=Co({})}}return t})();function Hse(t){return"guarded"}function Gse(t){return["disabled"===t.initialNavigation?rl(3,[{provide:I0,multi:!0,useFactory:()=>{const e=nt(ea);return()=>{e.setUpLocationChangeListener()}}},{provide:fT,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?rl(2,[{provide:fT,useValue:0},{provide:I0,multi:!0,deps:[uo],useFactory:e=>{const n=e.get(Qte,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(ea),o=e.get(d6);o6(i,()=>{r(!0)}),e.get(u1).afterPreactivation=()=>(r(!0),o.closed?Nt(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const g6=new tt("");let Kse=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ga({type:t,selectors:[["app-homepage"]],decls:64,vars:0,consts:[[1,"container","mt-4"],[1,"row","justify-content-center","mb-4"],[1,"col-12","col-md-8","col-lg-6"],[1,"card","shadow","rounded-4","overflow-hidden"],[1,"position-relative"],["routerLink","/squadra",1,"text-decoration-none","d-block"],["src","assets/images/thunders.JPG","alt","Punto Volley CR ASD Thunders",1,"img-fluid","w-100","team-image-enhanced","clickable-image"],[1,"position-absolute","bottom-0","start-0","end-0","bg-dark","bg-opacity-75","text-white","text-center","py-3"],[1,"mb-0","fw-bold"],[1,"opacity-75"],[1,"bi","bi-arrow-right-circle","me-1"],[1,"row","justify-content-center"],[1,"card","shadow"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"bi","bi-calendar3","me-2"],[1,"card-body"],[1,"row","g-3"],[1,"col-12","col-sm-6","col-md-4","mb-2"],[1,"text-center","p-3","bg-light","rounded","h-100"],[1,"text-primary","mb-2"],[1,"bi","bi-clock","me-1"],[1,"mb-1","fw-bold"],[1,"text-muted"],[1,"col-12","col-md-4","mb-2"],[1,"text-center","p-3","bg-light","rounded","h-100","position-relative"],[1,"bi","bi-calendar-event","me-1"],["routerLink","/calendario",1,"text-decoration-none","stretched-link"],[1,"text-primary","fw-semibold"],[1,"mt-4","text-center"],["href","https://www.google.com/maps?q=Via+Ercolano+11,+Castel+Gandolfo,+Italy","target","_blank",1,"text-decoration-none","d-block"],[1,"bg-primary","bg-opacity-10","rounded","p-3","position-relative","maps-link"],[1,"text-muted","mb-2"],[1,"bi","bi-geo-alt-fill","me-1"],[1,"mb-1","small","text-primary","fw-semibold"],[1,"text-muted","mb-1"],[1,"text-primary"],[1,"bi","bi-box-arrow-up-right","me-1"]],template:function(r,i){1&r&&(de(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),dt(6,"img",6),de(7,"div",7)(8,"h4",8),Ce(9,"Punto Volley Thunders 2025/2026"),he(),de(10,"small",9),dt(11,"i",10),Ce(12," Clicca per vedere la squadra "),he()()()()()()(),de(13,"div",11)(14,"div",2)(15,"div",12)(16,"div",13)(17,"h4",14),dt(18,"i",15),Ce(19," I nostri appuntamenti "),he()(),de(20,"div",16)(21,"div",17)(22,"div",18)(23,"div",19)(24,"h5",20),dt(25,"i",21),Ce(26," Marted\xec "),he(),de(27,"p",22),Ce(28,"20:30 - 22:30"),he(),de(29,"small",23),Ce(30,"Allenamento"),he()()(),de(31,"div",18)(32,"div",19)(33,"h5",20),dt(34,"i",21),Ce(35," Venerd\xec "),he(),de(36,"p",22),Ce(37,"20:15 - 22:15"),he(),de(38,"small",23),Ce(39,"Allenamento"),he()()(),de(40,"div",24)(41,"div",25)(42,"h5",20),dt(43,"i",26),Ce(44," Partite "),he(),de(45,"a",27)(46,"small",28),dt(47,"i",10),Ce(48," Vedi calendario "),he()()()()(),de(49,"div",29)(50,"a",30)(51,"div",31)(52,"p",32),dt(53,"i",33),de(54,"strong"),Ce(55,"Sede ufficiale"),he()(),de(56,"p",34),Ce(57,"Via Ercolano 11, Castel Gandolfo"),he(),de(58,"p",35)(59,"small"),Ce(60,"Palestra Scuola Pontificia Paolo VI"),he()(),de(61,"small",36),dt(62,"i",37),Ce(63," Clicca per aprire in Google Maps "),he()()()()()()()()())},dependencies:[Um],styles:[".team-image-enhanced[_ngcontent-%COMP%]{object-fit:cover;height:400px;max-height:50vh;object-position:center;transition:transform .3s ease,filter .3s ease}.clickable-image[_ngcontent-%COMP%]:hover{transform:scale(1.02);filter:brightness(1.1);cursor:pointer}.maps-link[_ngcontent-%COMP%]{transition:all .3s ease}.maps-link[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026;background-color:var(--bs-primary)!important;background-opacity:.2!important}@media (max-width: 768px){.team-image-enhanced[_ngcontent-%COMP%]{height:300px;max-height:45vh}.maps-link[_ngcontent-%COMP%]:hover{transform:none}}@media (max-width: 480px){.team-image-enhanced[_ngcontent-%COMP%]{height:250px;max-height:40vh}.clickable-image[_ngcontent-%COMP%]:hover{transform:none}}"]})}}return t})();var ee=ms(467);class m6{static ordinaGiocatoriPerCognome(e){return[...e].sort((n,r)=>{const i=(n.cognome||"").toLowerCase(),o=(r.cognome||"").toLowerCase();if(i<o)return-1;if(i>o)return 1;const s=(n.nome||"").toLowerCase(),a=(r.nome||"").toLowerCase();return s<a?-1:s>a?1:0})}}const _6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},y6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0;let m=(15&a)<<2|l>>6,p=63&l;u||(p=64,s||(m=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==l||null==d)throw new Jse;r.push(o<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Jse extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c1=function(t){return function(t){const e=_6(t);return y6.encodeByteArray(e,!0)}(t).replace(/\./g,"")},d1=function(t){try{return y6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},h1=()=>{try{return function tae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&d1(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},w6=()=>{var t;return null===(t=h1())||void 0===t?void 0:t.config};class b6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Gi(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class il extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,il.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bm.prototype.create)}}class Bm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function _ae(t,e){return t.replace(yae,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new il(i,`${this.serviceName}: ${s} (${i}).`,r)}}const yae=/\{\$([^}]+)}/g;function jm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(T6(o)&&T6(s)){if(!jm(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function T6(t){return null!==t&&"object"==typeof t}function gT(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class wae{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function bae(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=mT),void 0===i.error&&(i.error=mT),void 0===i.complete&&(i.complete=mT);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mT(){}function Wi(t){return t&&t._delegate?t._delegate:t}class Nd{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Pd="[DEFAULT]";class Sae{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new b6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function xae(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Pd})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Pd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,ee.A)(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Pd){return this.instances.has(e)}getOptions(e=Pd){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Pd?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Pd){return this.component?this.component.multipleInstances?e:Pd:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Nae{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Sae(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const yT=[];var hn=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(hn||{});const C6={debug:hn.DEBUG,verbose:hn.VERBOSE,info:hn.INFO,warn:hn.WARN,error:hn.ERROR,silent:hn.SILENT},Pae=hn.INFO,Rae={[hn.DEBUG]:"log",[hn.VERBOSE]:"log",[hn.INFO]:"info",[hn.WARN]:"warn",[hn.ERROR]:"error"},kae=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Rae[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class vT{constructor(e){this.name=e,this._logLevel=Pae,this._logHandler=kae,this._userLogHandler=null,yT.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in hn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?C6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,hn.DEBUG,...e),this._logHandler(this,hn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,hn.VERBOSE,...e),this._logHandler(this,hn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,hn.INFO,...e),this._logHandler(this,hn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,hn.WARN,...e),this._logHandler(this,hn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,hn.ERROR,...e),this._logHandler(this,hn.ERROR,...e)}}const Mae=(t,e)=>e.some(n=>t instanceof n);let S6,D6;const x6=new WeakMap,wT=new WeakMap,N6=new WeakMap,bT=new WeakMap,IT=new WeakMap;let ET={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return wT.get(t);if("objectStoreNames"===e)return t.objectStoreNames||N6.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sc(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function jae(t){return"function"==typeof t?function Bae(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Lae(){return D6||(D6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(AT(this),e),sc(x6.get(this))}:function(...e){return sc(t.apply(AT(this),e))}:function(e,...n){const r=t.call(AT(this),e,...n);return N6.set(r,e.sort?e.sort():[e]),sc(r)}}(t):(t instanceof IDBTransaction&&function Vae(t){if(wT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});wT.set(t,e)}(t),Mae(t,function Oae(){return S6||(S6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,ET):t)}function sc(t){if(t instanceof IDBRequest)return function Fae(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(sc(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&x6.set(n,t)}).catch(()=>{}),IT.set(e,t),e}(t);if(bT.has(t))return bT.get(t);const e=jae(t);return e!==t&&(bT.set(t,e),IT.set(e,t)),e}const AT=t=>IT.get(t),$ae=["get","getKey","getAll","getAllKeys","count"],qae=["put","add","delete","clear"],TT=new Map;function P6(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(TT.get(e))return TT.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=qae.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!$ae.includes(n))return;const o=function(){var s=(0,ee.A)(function*(a,...u){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(yield Promise.all([c[n](...u),i&&l.done]))[0]});return function(u){return s.apply(this,arguments)}}();return TT.set(e,o),o}!function Uae(t){ET=t(ET)}(t=>({...t,get:(e,n,r)=>P6(e,n)||t.get(e,n,r),has:(e,n)=>!!P6(e,n)||t.has(e,n)}));class Hae{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Gae(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const p1="@firebase/app",CT="0.10.13",ol=new vT("@firebase/app"),g1="[DEFAULT]",wue={[p1]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Rd=new Map,zm=new Map,$m=new Map;function R6(t,e){try{t.container.addComponent(e)}catch(n){ol.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qf(t){const e=t.name;if($m.has(e))return ol.debug(`There were multiple attempts to register component ${e}.`),!1;$m.set(e,t);for(const n of Rd.values())R6(n,t);for(const n of zm.values())R6(n,t);return!0}function kd(t){return void 0!==t.settings}const ta=new Bm("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class M6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ta.create("app-deleted",{appName:this._name})}}const m1="10.14.1";function O6(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:g1,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw ta.create("bad-app-name",{appName:String(i)});if(n||(n=w6()),!n)throw ta.create("no-options");const o=Rd.get(i);if(o){if(jm(n,o.options)&&jm(r,o.config))return o;throw ta.create("duplicate-app",{appName:i})}const s=new Nae(i);for(const u of $m.values())s.addComponent(u);const a=new M6(n,r,s);return Rd.set(i,a),a}function L6(t=g1){const e=Rd.get(t);if(!e&&t===g1&&w6())return O6();if(!e)throw ta.create("no-app",{appName:t});return e}function F6(){return Array.from(Rd.values())}function Ts(t,e,n){var r;let i=null!==(r=wue[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ol.warn(a.join(" "))}qf(new Nd(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Tue="firebase-heartbeat-database",Cue=1,qm="firebase-heartbeat-store";let DT=null;function V6(){return DT||(DT=function zae(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=sc(s);return r&&s.addEventListener("upgradeneeded",u=>{r(sc(s.result),u.oldVersion,u.newVersion,sc(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(Tue,Cue,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(qm)}catch(n){console.warn(n)}}}).catch(t=>{throw ta.create("idb-open",{originalErrorMessage:t.message})})),DT}function xT(){return(xT=(0,ee.A)(function*(t){try{const n=(yield V6()).transaction(qm),r=yield n.objectStore(qm).get(B6(t));return yield n.done,r}catch(e){if(e instanceof il)ol.warn(e.message);else{const n=ta.create("idb-get",{originalErrorMessage:e?.message});ol.warn(n.message)}}})).apply(this,arguments)}function U6(t,e){return NT.apply(this,arguments)}function NT(){return(NT=(0,ee.A)(function*(t,e){try{const r=(yield V6()).transaction(qm,"readwrite");yield r.objectStore(qm).put(e,B6(t)),yield r.done}catch(n){if(n instanceof il)ol.warn(n.message);else{const r=ta.create("idb-set",{originalErrorMessage:n?.message});ol.warn(r.message)}}})).apply(this,arguments)}function B6(t){return`${t.name}!${t.options.appId}`}class Nue{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Rue(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return(0,ee.A)(function*(){var n,r;try{const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=j6();return null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===s||e._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=2592e6}),e._storage.overwrite(e._heartbeatsCache))}catch(i){ol.warn(i)}})()}getHeartbeatsHeader(){var e=this;return(0,ee.A)(function*(){var n;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=j6(),{heartbeatsToSend:i,unsentEntries:o}=function Pue(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),z6(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),z6(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=c1(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s}catch(r){return ol.warn(r),""}})()}}function j6(){return(new Date).toISOString().substring(0,10)}class Rue{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,ee.A)(function*(){return!!function E6(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function gae(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,ee.A)(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function Sue(t){return xT.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return(0,ee.A)(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return U6(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return(0,ee.A)(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return U6(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function z6(t){return c1(JSON.stringify({version:2,heartbeats:t})).length}!function kue(t){qf(new Nd("platform-logger",e=>new Hae(e),"PRIVATE")),qf(new Nd("heartbeat",e=>new Nue(e),"PRIVATE")),Ts(p1,CT,t),Ts(p1,CT,"esm2017"),Ts("fire-js","")}(""),Ts("firebase","10.14.1","app");class Lue extends Ci{constructor(e,n){super()}schedule(e,n=0){return this}}const _1={setInterval(t,e,...n){const{delegate:r}=_1;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=_1;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class $6 extends Lue{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return _1.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&_1.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,$l(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const q6={now:()=>(q6.delegate||Date).now(),delegate:void 0};class Hm{constructor(e,n=Hm.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Hm.now=q6.now;class H6 extends Hm{constructor(e,n=Hm.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Uue=new class Vue extends H6{}(class Fue extends $6{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),PT=new H6($6),Bue=PT,RT=new pf("ANGULARFIRE2_VERSION");const kT=(t,e)=>{const n=e?[e]:F6(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class jue{constructor(){return kT(zue)}}const zue="app-check";function Hf(){}class W6{zone;delegate;constructor(e,n=Uue){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class $ue{zone;task=null;constructor(e){this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hf,{},Hf,Hf)),n.pipe(Ni({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let K6=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new W6(Zone.current)),this.insideAngular=n.run(()=>new W6(Zone.current,PT)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(It(kn))};static \u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Gf(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Md(t){return Gf().ngZone.run(()=>t())}function Hue(t){return function Gue(t){return function(n){return(n=n.lift(new $ue(t.ngZone))).pipe(ev(t.outsideAngular),Xy(t.insideAngular))}}(Gf())(t)}const Wue=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Md(()=>t.apply(void 0,r))},ou=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||=Md(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hf,{},Hf,Hf))),r[o]=Wue(r[o],n));const i=function que(t){return Gf().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Jn){const o=Gf();return i.pipe(ev(o.outsideAngular),Xy(o.insideAngular))}return Md(()=>i)}return i instanceof Jn?i.pipe(Hue):i instanceof Promise?Md(()=>new Promise((o,s)=>i.then(a=>Md(()=>o(a)),a=>Md(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Md(()=>i)};class Gm{constructor(e){return e}}class Q6{constructor(){return F6()}}const MT=new tt("angularfire2._apps"),Que={provide:Gm,useFactory:function Kue(t){return t&&1===t.length?t[0]:new Gm(L6())},deps:[[new Ks,MT]]},Yue={provide:Q6,deps:[[new Ks,MT]]};function Zue(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Gm(r)}}let Jue=(()=>{class t{constructor(n){Ts("angularfire",RT.full,"core"),Ts("angularfire",RT.full,"app"),Ts("angular",lM.full,n.toString())}static \u0275fac=function(r){return new(r||t)(It(Hu))};static \u0275mod=Ko({type:t});static \u0275inj=Co({providers:[Que,Yue]})}return t})();function Xue(t,...e){return{ngModule:Jue,providers:[{provide:MT,useFactory:Zue(t),multi:!0,deps:[kn,uo,K6,...e]}]}}const ele=ou(O6,!0);const tle=function Y6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Z6=new Bm("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),y1=new vT("@firebase/auth");function v1(t,...e){y1.logLevel<=hn.ERROR&&y1.error(`Auth (${m1}): ${t}`,...e)}function rs(t,...e){throw LT(t,...e)}function na(t,...e){return LT(t,...e)}function OT(t,e,n){const r=Object.assign(Object.assign({},tle()),{[e]:n});return new Bm("auth","Firebase",r).create(e,{appName:t.name})}function Pi(t){return OT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function LT(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Z6.create(t,...e)}function We(t,e,...n){if(!t)throw LT(e,...n)}function su(t){const e="INTERNAL ASSERTION FAILED: "+t;throw v1(e),new Error(e)}function ac(t,e){t||su(e)}function J6(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function rle(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function FT(){return"http:"===J6()||"https:"===J6()}()||function fae(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class Km{constructor(e,n){this.shortDelay=e,this.longDelay=n,ac(n>e,"Short delay should be less than long delay!"),this.isMobile=function lae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gi())}()||function pae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return rle()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class X6{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void su("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void su("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void su("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ole={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},sle=new Km(3e4,6e4);function fr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function pr(t,e,n,r){return UT.apply(this,arguments)}function UT(){return(UT=(0,ee.A)(function*(t,e,n,r,i={}){return eV(t,i,(0,ee.A)(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=gT(Object.assign({key:t.config.apiKey},s)).slice(1),u=yield t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:u},o);return function hae(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(l.referrerPolicy="no-referrer"),X6.fetch()(tV(t,t.config.apiHost,n,a),l)}))})).apply(this,arguments)}function eV(t,e,n){return BT.apply(this,arguments)}function BT(){return(BT=(0,ee.A)(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ole),e);try{const i=new ule(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Qm(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Qm(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===u)throw Qm(t,"email-already-in-use",s);if("USER_DISABLED"===u)throw Qm(t,"user-disabled",s);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw OT(t,c,l);rs(t,c)}}catch(i){if(i instanceof il)throw i;rs(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function tV(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function VT(t,e){ac(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class ule{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(na(this.auth,"network-request-failed")),sle.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=na(t,e,r);return i.customData._tokenResponse=n,i}function qT(){return(qT=(0,ee.A)(function*(t,e){return pr(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function sV(t,e){return GT.apply(this,arguments)}function GT(){return(GT=(0,ee.A)(function*(t,e){return pr(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Ym(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function WT(){return(WT=(0,ee.A)(function*(t,e=!1){const n=Wi(t),r=yield n.getIdToken(e),i=w1(r);We(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ym(KT(i.auth_time)),issuedAtTime:Ym(KT(i.iat)),expirationTime:Ym(KT(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function KT(t){return 1e3*Number(t)}function w1(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return v1("JWT malformed, contained fewer than 3 sections"),null;try{const i=d1(n);return i?JSON.parse(i):(v1("Failed to decode base64 JWT payload"),null)}catch(i){return v1("Caught error parsing JWT payload as JSON",i?.toString()),null}}function aV(t){const e=w1(t);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function al(t,e){return QT.apply(this,arguments)}function QT(){return(QT=(0,ee.A)(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof il&&function fle({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class ple{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,ee.A)(function*(){yield n.iteration()}),r)}iteration(){var e=this;return(0,ee.A)(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class YT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ym(this.lastLoginAt),this.creationTime=Ym(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zm(t){return ZT.apply(this,arguments)}function ZT(){return(ZT=(0,ee.A)(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield al(t,sV(n,{idToken:r}));We(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?uV(o.providerUserInfo):[],a=function mle(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),c=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new YT(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)})).apply(this,arguments)}function JT(){return(JT=(0,ee.A)(function*(t){const e=Wi(t);yield Zm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function uV(t){return t.map(e=>{var{providerId:n}=e,r=Jy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function XT(){return(XT=(0,ee.A)(function*(t,e){const n=yield eV(t,{},(0,ee.A)(function*(){const r=gT({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=tV(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",X6.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function e5(){return(e5=(0,ee.A)(function*(t,e){return pr(t,"POST","/v2/accounts:revokeToken",fr(t,e))})).apply(this,arguments)}class Kf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){We(0!==e.length,"internal-error");const n=aV(e);this.updateTokensAndExpiration(e,null,n)}getToken(e){var n=this;return(0,ee.A)(function*(r,i=!1){return i||!n.accessToken||n.isExpired?(We(n.refreshToken,r,"user-token-expired"),n.refreshToken?(yield n.refresh(r,n.refreshToken),n.accessToken):null):n.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return(0,ee.A)(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function _le(t,e){return XT.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Kf;return r&&(We("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(We("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(We("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kf,this.toJSON())}_performRefresh(){return su("not implemented")}}function uc(t,e){We("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class ul{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Jy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ple(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new YT(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return(0,ee.A)(function*(){const r=yield al(n,n.stsTokenManager.getToken(n.auth,e));return We(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function hle(t){return WT.apply(this,arguments)}(this,e)}reload(){return function gle(t){return JT.apply(this,arguments)}(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ul(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e){var n=this;return(0,ee.A)(function*(r,i=!1){let o=!1;r.idToken&&r.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(r),o=!0),i&&(yield Zm(n)),yield n.auth._persistUserIfCurrent(n),o&&n.auth._notifyListenersIfCurrent(n)}).apply(this,arguments)}delete(){var e=this;return(0,ee.A)(function*(){if(kd(e.auth.app))return Promise.reject(Pi(e.auth));const n=yield e.getIdToken();return yield al(e,function cle(t,e){return qT.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,c;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,m=null!==(i=n.email)&&void 0!==i?i:void 0,p=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,w=null!==(s=n.photoURL)&&void 0!==s?s:void 0,b=null!==(a=n.tenantId)&&void 0!==a?a:void 0,E=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,T=null!==(l=n.createdAt)&&void 0!==l?l:void 0,R=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,{uid:V,emailVerified:F,isAnonymous:Q,providerData:ne,stsTokenManager:B}=n;We(V&&B,e,"internal-error");const D=Kf.fromJSON(this.name,B);We("string"==typeof V,e,"internal-error"),uc(d,e.name),uc(m,e.name),We("boolean"==typeof F,e,"internal-error"),We("boolean"==typeof Q,e,"internal-error"),uc(p,e.name),uc(w,e.name),uc(b,e.name),uc(E,e.name),uc(T,e.name),uc(R,e.name);const S=new ul({uid:V,auth:e,email:m,emailVerified:F,displayName:d,isAnonymous:Q,photoURL:w,phoneNumber:p,tenantId:b,stsTokenManager:D,createdAt:T,lastLoginAt:R});return ne&&Array.isArray(ne)&&(S.providerData=ne.map(O=>Object.assign({},O))),E&&(S._redirectEventId=E),S}static _fromIdTokenResponse(e,n){return(0,ee.A)(function*(r,i,o=!1){const s=new Kf;s.updateFromServerResponse(i);const a=new ul({uid:i.localId,auth:r,stsTokenManager:s,isAnonymous:o});return yield Zm(a),a}).apply(this,arguments)}static _fromGetAccountInfoResponse(e,n,r){return(0,ee.A)(function*(){const i=n.users[0];We(void 0!==i.localId,"internal-error");const o=void 0!==i.providerUserInfo?uV(i.providerUserInfo):[],s=!(i.email&&i.passwordHash||o?.length),a=new Kf;a.updateFromIdToken(r);const u=new ul({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new YT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||o?.length)};return Object.assign(u,l),u})()}}const lV=new Map;function ll(t){ac(t instanceof Function,"Expected a class definition");let e=lV.get(t);return e?(ac(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lV.set(t,e),e)}const cV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ee.A)(function*(){return!0})()}_set(n,r){var i=this;return(0,ee.A)(function*(){i.storage[n]=r})()}_get(n){var r=this;return(0,ee.A)(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return(0,ee.A)(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function b1(t,e,n){return`firebase:${t}:${e}:${n}`}class Qf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=b1(this.userKey,i.apiKey,o),this.fullPersistenceKey=b1("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,ee.A)(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ul._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return(0,ee.A)(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n){return(0,ee.A)(function*(r,i,o="authUser"){if(!i.length)return new Qf(ll(cV),r,o);const s=(yield Promise.all(i.map(function(){var d=(0,ee.A)(function*(m){if(yield m._isAvailable())return m});return function(m){return d.apply(this,arguments)}}()))).filter(d=>d);let a=s[0]||ll(cV);const u=b1(o,r.config.apiKey,r.name);let l=null;for(const d of i)try{const m=yield d._get(u);if(m){const p=ul._fromJSON(r,m);d!==a&&(l=p),a=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return a._shouldAllowMigration&&c.length?(a=c[0],l&&(yield a._set(u,l.toJSON())),yield Promise.all(i.map(function(){var d=(0,ee.A)(function*(m){if(m!==a)try{yield m._remove(u)}catch{}});return function(m){return d.apply(this,arguments)}}())),new Qf(a,r,o)):new Qf(a,r,o)}).apply(this,arguments)}}function dV(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function gV(t=Gi()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function hV(t=Gi()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function _V(t=Gi()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function yV(t=Gi()){return/webos/i.test(t)}(e))return"Webos";if(function fV(t=Gi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function pV(t=Gi()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function mV(t=Gi()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function vV(t,e=[]){let n;switch(t){case"Browser":n=dV(Gi());break;case"Worker":n=`${dV(Gi())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${m1}/${r}`}class ble{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return(0,ee.A)(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function n5(){return(n5=(0,ee.A)(function*(t,e={}){return pr(t,"GET","/v2/passwordPolicy",fr(t,e))})).apply(this,arguments)}class Ale{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(n=u.meetsMinPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.meetsMaxPasswordLength)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsLowercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(o=u.containsUppercaseLetter)||void 0===o||o),u.isValid&&(u.isValid=null===(s=u.containsNumericCharacter)||void 0===s||s),u.isValid&&(u.isValid=null===(a=u.containsNonAlphanumericCharacter)||void 0===a||a),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class Tle{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wV(this),this.idTokenSubscription=new wV(this),this.beforeStateQueue=new ble(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Z6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ll(n)),this._initializationPromise=this.queue((0,ee.A)(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Qf.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,ee.A)(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUserFromIdToken(e){var n=this;return(0,ee.A)(function*(){try{const r=yield sV(n,{idToken:e}),i=yield ul._fromGetAccountInfoResponse(n,r,e);yield n.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield n.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var n=this;return(0,ee.A)(function*(){var r;if(kd(n.app)){const a=n.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>n.initializeCurrentUserFromIdToken(a).then(u,u))}):n.directlySetCurrentUser(null)}const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=o?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===u)&&l?.user&&(o=l.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return We(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return(0,ee.A)(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return(0,ee.A)(function*(){try{yield Zm(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function ile(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return(0,ee.A)(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return(0,ee.A)(function*(){if(kd(n.app))return Promise.reject(Pi(n));const r=e?Wi(e):null;return r&&We(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e){var n=this;return(0,ee.A)(function*(r,i=!1){if(!n._deleted)return r&&We(n.tenantId===r.tenantId,n,"tenant-id-mismatch"),i||(yield n.beforeStateQueue.runMiddleware(r)),n.queue((0,ee.A)(function*(){yield n.directlySetCurrentUser(r),n.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var e=this;return(0,ee.A)(function*(){return kd(e.app)?Promise.reject(Pi(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var n=this;return kd(this.app)?Promise.reject(Pi(this)):this.queue((0,ee.A)(function*(){yield n.assertedPersistence.setPersistence(ll(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return(0,ee.A)(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,ee.A)(function*(){const n=yield function Ile(t){return n5.apply(this,arguments)}(e),r=new Ale(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){var n=this;return(0,ee.A)(function*(){if(n.currentUser){const r=yield n.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=n.tenantId&&(i.tenantId=n.tenantId),yield function yle(t,e){return e5.apply(this,arguments)}(n,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return(0,ee.A)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return(0,ee.A)(function*(){if(!n.redirectPersistenceManager){const r=e&&ll(e)||n._popupRedirectResolver;We(r,n,"argument-error"),n.redirectPersistenceManager=yield Qf.create(n,[ll(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return(0,ee.A)(function*(){var r,i;return n._isInitialized&&(yield n.queue((0,ee.A)(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return(0,ee.A)(function*(){if(e===n.currentUser)return n.queue((0,ee.A)(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}{const u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){var n=this;return(0,ee.A)(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,ee.A)(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return(0,ee.A)(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function nle(t,...e){y1.logLevel<=hn.WARN&&y1.warn(`Auth (${m1}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class wV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function vae(t,e){const n=new wae(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Jm={loadJS:()=>(0,ee.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};(function bV(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Km(3e4,6e4),new Km(2e3,1e4),new Km(3e4,6e4),new Km(5e3,15e3),encodeURIComponent("fac");var e8="@firebase/auth";class xde{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return(0,ee.A)(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}h1(),function Cle(t){Jm=t}({loadJS:t=>new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=na("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function Ode(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Pde(t){qf(new Nd("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;We(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vV(t)},l=new Tle(r,i,o,u);return function Mle(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ll);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qf(new Nd("auth-internal",e=>{const n=function Zr(t){return Wi(t)}(e.getProvider("auth").getImmediate());return new xde(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(e8,"1.7.9",function Nde(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(t)),Ts(e8,"1.7.9","esm2017")}("Browser");class i8{constructor(){return kT("auth")}}var Fd,a8,o8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},s8={};(function(){var t;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(B,D,S){S||(S=0);var O=Array(16);if("string"==typeof D)for(var A=0;16>A;++A)O[A]=D.charCodeAt(S++)|D.charCodeAt(S++)<<8|D.charCodeAt(S++)<<16|D.charCodeAt(S++)<<24;else for(A=0;16>A;++A)O[A]=D[S++]|D[S++]<<8|D[S++]<<16|D[S++]<<24;var x=B.g[3],N=(D=B.g[0])+(x^(S=B.g[1])&((A=B.g[2])^x))+O[0]+3614090360&4294967295;N=(S=(A=(x=(D=(S=(A=(x=(D=(S=(A=(x=(D=(S=(A=(x=(D=(S=(A=(x=(D=(S=(A=(x=(D=(S=(A=(x=(D=(S=(A=(x=(D=(S=(A=(x=(D=(S=(A=(x=(D=(S=(A=(x=(D=(S=(A=(x=(D=(S=(A=(x=(D=(S=(A=(x=(D=(S=(A=(x=(D=S+(N<<7&4294967295|N>>>25))+((N=x+(A^D&(S^A))+O[1]+3905402710&4294967295)<<12&4294967295|N>>>20))+((N=A+(S^x&(D^S))+O[2]+606105819&4294967295)<<17&4294967295|N>>>15))+((N=S+(D^A&(x^D))+O[3]+3250441966&4294967295)<<22&4294967295|N>>>10))+((N=D+(x^S&(A^x))+O[4]+4118548399&4294967295)<<7&4294967295|N>>>25))+((N=x+(A^D&(S^A))+O[5]+1200080426&4294967295)<<12&4294967295|N>>>20))+((N=A+(S^x&(D^S))+O[6]+2821735955&4294967295)<<17&4294967295|N>>>15))+((N=S+(D^A&(x^D))+O[7]+4249261313&4294967295)<<22&4294967295|N>>>10))+((N=D+(x^S&(A^x))+O[8]+1770035416&4294967295)<<7&4294967295|N>>>25))+((N=x+(A^D&(S^A))+O[9]+2336552879&4294967295)<<12&4294967295|N>>>20))+((N=A+(S^x&(D^S))+O[10]+4294925233&4294967295)<<17&4294967295|N>>>15))+((N=S+(D^A&(x^D))+O[11]+2304563134&4294967295)<<22&4294967295|N>>>10))+((N=D+(x^S&(A^x))+O[12]+1804603682&4294967295)<<7&4294967295|N>>>25))+((N=x+(A^D&(S^A))+O[13]+4254626195&4294967295)<<12&4294967295|N>>>20))+((N=A+(S^x&(D^S))+O[14]+2792965006&4294967295)<<17&4294967295|N>>>15))+((N=S+(D^A&(x^D))+O[15]+1236535329&4294967295)<<22&4294967295|N>>>10))+((N=D+(A^x&(S^A))+O[1]+4129170786&4294967295)<<5&4294967295|N>>>27))+((N=x+(S^A&(D^S))+O[6]+3225465664&4294967295)<<9&4294967295|N>>>23))+((N=A+(D^S&(x^D))+O[11]+643717713&4294967295)<<14&4294967295|N>>>18))+((N=S+(x^D&(A^x))+O[0]+3921069994&4294967295)<<20&4294967295|N>>>12))+((N=D+(A^x&(S^A))+O[5]+3593408605&4294967295)<<5&4294967295|N>>>27))+((N=x+(S^A&(D^S))+O[10]+38016083&4294967295)<<9&4294967295|N>>>23))+((N=A+(D^S&(x^D))+O[15]+3634488961&4294967295)<<14&4294967295|N>>>18))+((N=S+(x^D&(A^x))+O[4]+3889429448&4294967295)<<20&4294967295|N>>>12))+((N=D+(A^x&(S^A))+O[9]+568446438&4294967295)<<5&4294967295|N>>>27))+((N=x+(S^A&(D^S))+O[14]+3275163606&4294967295)<<9&4294967295|N>>>23))+((N=A+(D^S&(x^D))+O[3]+4107603335&4294967295)<<14&4294967295|N>>>18))+((N=S+(x^D&(A^x))+O[8]+1163531501&4294967295)<<20&4294967295|N>>>12))+((N=D+(A^x&(S^A))+O[13]+2850285829&4294967295)<<5&4294967295|N>>>27))+((N=x+(S^A&(D^S))+O[2]+4243563512&4294967295)<<9&4294967295|N>>>23))+((N=A+(D^S&(x^D))+O[7]+1735328473&4294967295)<<14&4294967295|N>>>18))+((N=S+(x^D&(A^x))+O[12]+2368359562&4294967295)<<20&4294967295|N>>>12))+((N=D+(S^A^x)+O[5]+4294588738&4294967295)<<4&4294967295|N>>>28))+((N=x+(D^S^A)+O[8]+2272392833&4294967295)<<11&4294967295|N>>>21))+((N=A+(x^D^S)+O[11]+1839030562&4294967295)<<16&4294967295|N>>>16))+((N=S+(A^x^D)+O[14]+4259657740&4294967295)<<23&4294967295|N>>>9))+((N=D+(S^A^x)+O[1]+2763975236&4294967295)<<4&4294967295|N>>>28))+((N=x+(D^S^A)+O[4]+1272893353&4294967295)<<11&4294967295|N>>>21))+((N=A+(x^D^S)+O[7]+4139469664&4294967295)<<16&4294967295|N>>>16))+((N=S+(A^x^D)+O[10]+3200236656&4294967295)<<23&4294967295|N>>>9))+((N=D+(S^A^x)+O[13]+681279174&4294967295)<<4&4294967295|N>>>28))+((N=x+(D^S^A)+O[0]+3936430074&4294967295)<<11&4294967295|N>>>21))+((N=A+(x^D^S)+O[3]+3572445317&4294967295)<<16&4294967295|N>>>16))+((N=S+(A^x^D)+O[6]+76029189&4294967295)<<23&4294967295|N>>>9))+((N=D+(S^A^x)+O[9]+3654602809&4294967295)<<4&4294967295|N>>>28))+((N=x+(D^S^A)+O[12]+3873151461&4294967295)<<11&4294967295|N>>>21))+((N=A+(x^D^S)+O[15]+530742520&4294967295)<<16&4294967295|N>>>16))+((N=S+(A^x^D)+O[2]+3299628645&4294967295)<<23&4294967295|N>>>9))+((N=D+(A^(S|~x))+O[0]+4096336452&4294967295)<<6&4294967295|N>>>26))+((N=x+(S^(D|~A))+O[7]+1126891415&4294967295)<<10&4294967295|N>>>22))+((N=A+(D^(x|~S))+O[14]+2878612391&4294967295)<<15&4294967295|N>>>17))+((N=S+(x^(A|~D))+O[5]+4237533241&4294967295)<<21&4294967295|N>>>11))+((N=D+(A^(S|~x))+O[12]+1700485571&4294967295)<<6&4294967295|N>>>26))+((N=x+(S^(D|~A))+O[3]+2399980690&4294967295)<<10&4294967295|N>>>22))+((N=A+(D^(x|~S))+O[10]+4293915773&4294967295)<<15&4294967295|N>>>17))+((N=S+(x^(A|~D))+O[1]+2240044497&4294967295)<<21&4294967295|N>>>11))+((N=D+(A^(S|~x))+O[8]+1873313359&4294967295)<<6&4294967295|N>>>26))+((N=x+(S^(D|~A))+O[15]+4264355552&4294967295)<<10&4294967295|N>>>22))+((N=A+(D^(x|~S))+O[6]+2734768916&4294967295)<<15&4294967295|N>>>17))+((N=S+(x^(A|~D))+O[13]+1309151649&4294967295)<<21&4294967295|N>>>11))+((x=(D=S+((N=D+(A^(S|~x))+O[4]+4149444226&4294967295)<<6&4294967295|N>>>26))+((N=x+(S^(D|~A))+O[11]+3174756917&4294967295)<<10&4294967295|N>>>22))^((A=x+((N=A+(D^(x|~S))+O[2]+718787259&4294967295)<<15&4294967295|N>>>17))|~D))+O[9]+3951481745&4294967295,B.g[0]=B.g[0]+D&4294967295,B.g[1]=B.g[1]+(A+(N<<21&4294967295|N>>>11))&4294967295,B.g[2]=B.g[2]+A&4294967295,B.g[3]=B.g[3]+x&4294967295}function s(B,D){this.h=D;for(var S=[],O=!0,A=B.length-1;0<=A;A--){var x=0|B[A];O&&x==D||(S[A]=x,O=!1)}this.g=S}(function e(B,D){function S(){}S.prototype=D.prototype,B.D=D.prototype,B.prototype=new S,B.prototype.constructor=B,B.C=function(O,A,x){for(var N=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)N[Z-2]=arguments[Z];return D.prototype[A].apply(O,N)}})(r,function n(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(B,D){void 0===D&&(D=B.length);for(var S=D-this.blockSize,O=this.B,A=this.h,x=0;x<D;){if(0==A)for(;x<=S;)i(this,B,x),x+=this.blockSize;if("string"==typeof B){for(;x<D;)if(O[A++]=B.charCodeAt(x++),A==this.blockSize){i(this,O),A=0;break}}else for(;x<D;)if(O[A++]=B[x++],A==this.blockSize){i(this,O),A=0;break}}this.h=A,this.o+=D},r.prototype.v=function(){var B=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);B[0]=128;for(var D=1;D<B.length-8;++D)B[D]=0;var S=8*this.o;for(D=B.length-8;D<B.length;++D)B[D]=255&S,S/=256;for(this.u(B),B=Array(16),D=S=0;4>D;++D)for(var O=0;32>O;O+=8)B[S++]=this.g[D]>>>O&255;return B};var a={};function u(B){return-128<=B&&128>B?function o(B,D){var S=a;return Object.prototype.hasOwnProperty.call(S,B)?S[B]:S[B]=D(B)}(B,function(D){return new s([0|D],0>D?-1:0)}):new s([0|B],0>B?-1:0)}function l(B){if(isNaN(B)||!isFinite(B))return d;if(0>B)return E(l(-B));for(var D=[],S=1,O=0;B>=S;O++)D[O]=B/S|0,S*=4294967296;return new s(D,0)}var d=u(0),m=u(1),p=u(16777216);function w(B){if(0!=B.h)return!1;for(var D=0;D<B.g.length;D++)if(0!=B.g[D])return!1;return!0}function b(B){return-1==B.h}function E(B){for(var D=B.g.length,S=[],O=0;O<D;O++)S[O]=~B.g[O];return new s(S,~B.h).add(m)}function T(B,D){return B.add(E(D))}function R(B,D){for(;(65535&B[D])!=B[D];)B[D+1]+=B[D]>>>16,B[D]&=65535,D++}function V(B,D){this.g=B,this.h=D}function F(B,D){if(w(D))throw Error("division by zero");if(w(B))return new V(d,d);if(b(B))return D=F(E(B),D),new V(E(D.g),E(D.h));if(b(D))return D=F(B,E(D)),new V(E(D.g),D.h);if(30<B.g.length){if(b(B)||b(D))throw Error("slowDivide_ only works with positive integers.");for(var S=m,O=D;0>=O.l(B);)S=Q(S),O=Q(O);var A=ne(S,1),x=ne(O,1);for(O=ne(O,2),S=ne(S,2);!w(O);){var N=x.add(O);0>=N.l(B)&&(A=A.add(S),x=N),O=ne(O,1),S=ne(S,1)}return D=T(B,A.j(D)),new V(A,D)}for(A=d;0<=B.l(D);){for(S=Math.max(1,Math.floor(B.m()/D.m())),O=48>=(O=Math.ceil(Math.log(S)/Math.LN2))?1:Math.pow(2,O-48),N=(x=l(S)).j(D);b(N)||0<N.l(B);)N=(x=l(S-=O)).j(D);w(x)&&(x=m),A=A.add(x),B=T(B,N)}return new V(A,B)}function Q(B){for(var D=B.g.length+1,S=[],O=0;O<D;O++)S[O]=B.i(O)<<1|B.i(O-1)>>>31;return new s(S,B.h)}function ne(B,D){var S=D>>5;D%=32;for(var O=B.g.length-S,A=[],x=0;x<O;x++)A[x]=0<D?B.i(x+S)>>>D|B.i(x+S+1)<<32-D:B.i(x+S);return new s(A,B.h)}(t=s.prototype).m=function(){if(b(this))return-E(this).m();for(var B=0,D=1,S=0;S<this.g.length;S++){var O=this.i(S);B+=(0<=O?O:4294967296+O)*D,D*=4294967296}return B},t.toString=function(B){if(2>(B=B||10)||36<B)throw Error("radix out of range: "+B);if(w(this))return"0";if(b(this))return"-"+E(this).toString(B);for(var D=l(Math.pow(B,6)),S=this,O="";;){var A=F(S,D).g,x=((0<(S=T(S,A.j(D))).g.length?S.g[0]:S.h)>>>0).toString(B);if(w(S=A))return x+O;for(;6>x.length;)x="0"+x;O=x+O}},t.i=function(B){return 0>B?0:B<this.g.length?this.g[B]:this.h},t.l=function(B){return b(B=T(this,B))?-1:w(B)?0:1},t.abs=function(){return b(this)?E(this):this},t.add=function(B){for(var D=Math.max(this.g.length,B.g.length),S=[],O=0,A=0;A<=D;A++){var x=O+(65535&this.i(A))+(65535&B.i(A)),N=(x>>>16)+(this.i(A)>>>16)+(B.i(A)>>>16);O=N>>>16,S[A]=(N&=65535)<<16|(x&=65535)}return new s(S,-2147483648&S[S.length-1]?-1:0)},t.j=function(B){if(w(this)||w(B))return d;if(b(this))return b(B)?E(this).j(E(B)):E(E(this).j(B));if(b(B))return E(this.j(E(B)));if(0>this.l(p)&&0>B.l(p))return l(this.m()*B.m());for(var D=this.g.length+B.g.length,S=[],O=0;O<2*D;O++)S[O]=0;for(O=0;O<this.g.length;O++)for(var A=0;A<B.g.length;A++){var x=this.i(O)>>>16,N=65535&this.i(O),Z=B.i(A)>>>16,fe=65535&B.i(A);S[2*O+2*A]+=N*fe,R(S,2*O+2*A),S[2*O+2*A+1]+=x*fe,R(S,2*O+2*A+1),S[2*O+2*A+1]+=N*Z,R(S,2*O+2*A+1),S[2*O+2*A+2]+=x*Z,R(S,2*O+2*A+2)}for(O=0;O<D;O++)S[O]=S[2*O+1]<<16|S[2*O];for(O=D;O<2*D;O++)S[O]=0;return new s(S,0)},t.A=function(B){return F(this,B).h},t.and=function(B){for(var D=Math.max(this.g.length,B.g.length),S=[],O=0;O<D;O++)S[O]=this.i(O)&B.i(O);return new s(S,this.h&B.h)},t.or=function(B){for(var D=Math.max(this.g.length,B.g.length),S=[],O=0;O<D;O++)S[O]=this.i(O)|B.i(O);return new s(S,this.h|B.h)},t.xor=function(B){for(var D=Math.max(this.g.length,B.g.length),S=[],O=0;O<D;O++)S[O]=this.i(O)^B.i(O);return new s(S,this.h^B.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,a8=s8.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=function c(B,D){if(0==B.length)throw Error("number format error: empty string");if(2>(D=D||10)||36<D)throw Error("radix out of range: "+D);if("-"==B.charAt(0))return E(c(B.substring(1),D));if(0<=B.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=l(Math.pow(D,8)),O=d,A=0;A<B.length;A+=8){var x=Math.min(8,B.length-A),N=parseInt(B.substring(A,A+x),D);8>x?(x=l(Math.pow(D,x)),O=O.j(x).add(l(N))):O=(O=O.j(S)).add(l(N))}return O},Fd=s8.Integer=s}).apply(typeof o8<"u"?o8:typeof self<"u"?self:typeof window<"u"?window:{});var u8,s_,l8,M1,GC,c8,d8,h8,k1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hl={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(f,v,C){return f==Array.prototype||f==Object.prototype||(f[v]=C.value),f},r=function n(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof k1&&k1];for(var v=0;v<f.length;++v){var C=f[v];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}(this);!function i(f,v){if(v)e:{var C=r;f=f.split(".");for(var j=0;j<f.length-1;j++){var oe=f[j];if(!(oe in C))break e;C=C[oe]}(v=v(j=C[f=f[f.length-1]]))!=j&&null!=v&&e(C,f,{configurable:!0,writable:!0,value:v})}}("Array.prototype.values",function(f){return f||function(){return function o(f,v){f instanceof String&&(f+="");var C=0,j=!1,oe={next:function(){if(!j&&C<f.length){var _e=C++;return{value:v(_e,f[_e]),done:!1}}return j=!0,{done:!0,value:void 0}}};return oe[Symbol.iterator]=function(){return oe},oe}(this,function(v,C){return C})}});var s=s||{},a=this||self;function u(f){var v=typeof f;return"array"==(v="object"!=v?v:f?Array.isArray(f)?"array":v:"null")||"object"==v&&"number"==typeof f.length}function l(f){var v=typeof f;return"object"==v&&null!=f||"function"==v}function c(f,v,C){return f.call.apply(f.bind,arguments)}function d(f,v,C){if(!f)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(oe,j),f.apply(v,oe)}}return function(){return f.apply(v,arguments)}}function m(f,v,C){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?c:d).apply(null,arguments)}function p(f,v){var C=Array.prototype.slice.call(arguments,1);return function(){var j=C.slice();return j.push.apply(j,arguments),f.apply(this,j)}}function w(f,v){function C(){}C.prototype=v.prototype,f.aa=v.prototype,f.prototype=new C,f.prototype.constructor=f,f.Qb=function(j,oe,_e){for(var $e=Array(arguments.length-2),An=2;An<arguments.length;An++)$e[An-2]=arguments[An];return v.prototype[oe].apply(j,$e)}}function b(f){const v=f.length;if(0<v){const C=Array(v);for(let j=0;j<v;j++)C[j]=f[j];return C}return[]}function E(f,v){for(let C=1;C<arguments.length;C++){const j=arguments[C];if(u(j)){const oe=f.length||0,_e=j.length||0;f.length=oe+_e;for(let $e=0;$e<_e;$e++)f[oe+$e]=j[$e]}else f.push(j)}}function R(f){return/^[\s\xa0]*$/.test(f)}function V(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function F(f){return F[" "](f),f}F[" "]=function(){};var Q=!(-1==V().indexOf("Gecko")||-1!=V().toLowerCase().indexOf("webkit")&&-1==V().indexOf("Edge")||-1!=V().indexOf("Trident")||-1!=V().indexOf("MSIE")||-1!=V().indexOf("Edge"));function ne(f,v,C){for(const j in f)v.call(C,f[j],j,f)}function D(f){const v={};for(const C in f)v[C]=f[C];return v}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(f,v){let C,j;for(let oe=1;oe<arguments.length;oe++){for(C in j=arguments[oe],j)f[C]=j[C];for(let _e=0;_e<S.length;_e++)C=S[_e],Object.prototype.hasOwnProperty.call(j,C)&&(f[C]=j[C])}}function A(f){var v=1;f=f.split(":");const C=[];for(;0<v&&f.length;)C.push(f.shift()),v--;return f.length&&C.push(f.join(":")),C}function x(f){a.setTimeout(()=>{throw f},0)}function N(){var f=Ie;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}var fe=new class T{constructor(v,C){this.i=v,this.j=C,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}(()=>new be,f=>f.reset());class be{constructor(){this.next=this.g=this.h=null}set(v,C){this.h=v,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let we,ce=!1,Ie=new class Z{constructor(){this.h=this.g=null}add(v,C){const j=fe.get();j.set(v,C),this.h?this.h.next=j:this.g=j,this.h=j}},je=()=>{const f=a.Promise.resolve(void 0);we=()=>{f.then(Pe)}};var Pe=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(C){x(C)}var v=fe;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}ce=!1};function L(){this.s=this.s,this.C=this.C}function q(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}L.prototype.s=!1,L.prototype.ma=function(){this.s||(this.s=!0,this.N())},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},q.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const C=()=>{};a.addEventListener("test",C,v),a.removeEventListener("test",C,v)}catch{}return f}();function X(f,v){if(q.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var C=this.type=f.type,j=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(Q){e:{try{F(v.nodeName);var oe=!0;break e}catch{}oe=!1}oe||(v=null)}}else"mouseover"==C?v=f.fromElement:"mouseout"==C&&(v=f.toElement);this.relatedTarget=v,j?(this.clientX=void 0!==j.clientX?j.clientX:j.pageX,this.clientY=void 0!==j.clientY?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType="string"==typeof f.pointerType?f.pointerType:ie[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&X.aa.h.call(this)}}w(X,q);var ie={2:"touch",3:"pen",4:"mouse"};X.prototype.h=function(){X.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),me=0;function ve(f,v,C,j,oe){this.listener=f,this.proxy=null,this.src=v,this.type=C,this.capture=!!j,this.ha=oe,this.key=++me,this.da=this.fa=!1}function Se(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ae(f){this.src=f,this.g={},this.h=0}function Ge(f,v){var C=v.type;if(C in f.g){var _e,j=f.g[C],oe=Array.prototype.indexOf.call(j,v,void 0);(_e=0<=oe)&&Array.prototype.splice.call(j,oe,1),_e&&(Se(v),0==f.g[C].length&&(delete f.g[C],f.h--))}}function He(f,v,C,j){for(var oe=0;oe<f.length;++oe){var _e=f[oe];if(!_e.da&&_e.listener==v&&_e.capture==!!C&&_e.ha==j)return oe}return-1}Ae.prototype.add=function(f,v,C,j,oe){var _e=f.toString();(f=this.g[_e])||(f=this.g[_e]=[],this.h++);var $e=He(f,v,j,oe);return-1<$e?(v=f[$e],C||(v.fa=!1)):((v=new ve(v,this.src,_e,!!j,oe)).fa=C,f.push(v)),v};var Ee="closure_lm_"+(1e6*Math.random()|0),K={};function en(f,v,C,j,oe){if(j&&j.once)return Ue(f,v,C,j,oe);if(Array.isArray(v)){for(var _e=0;_e<v.length;_e++)en(f,v[_e],C,j,oe);return null}return C=Pt(C),f&&f[ae]?f.K(v,C,l(j)?!!j.capture:!!j,oe):Lt(f,v,C,!1,j,oe)}function Lt(f,v,C,j,oe,_e){if(!v)throw Error("Invalid event type");var $e=l(oe)?!!oe.capture:!!oe,An=tn(f);if(An||(f[Ee]=An=new Ae(f)),(C=An.add(v,C,j,$e,_e)).proxy)return C;if(j=function Et(){const v=mt;return function f(C){return v.call(f.src,f.listener,C)}}(),C.proxy=j,j.src=f,j.listener=C,f.addEventListener)Y||(oe=$e),void 0===oe&&(oe=!1),f.addEventListener(v.toString(),j,oe);else if(f.attachEvent)f.attachEvent(Ft(v.toString()),j);else{if(!f.addListener||!f.removeListener)throw Error("addEventListener and attachEvent are unavailable.");f.addListener(j)}return C}function Ue(f,v,C,j,oe){if(Array.isArray(v)){for(var _e=0;_e<v.length;_e++)Ue(f,v[_e],C,j,oe);return null}return C=Pt(C),f&&f[ae]?f.L(v,C,l(j)?!!j.capture:!!j,oe):Lt(f,v,C,!0,j,oe)}function ut(f,v,C,j,oe){if(Array.isArray(v))for(var _e=0;_e<v.length;_e++)ut(f,v[_e],C,j,oe);else j=l(j)?!!j.capture:!!j,C=Pt(C),f&&f[ae]?(f=f.i,(v=String(v).toString())in f.g&&-1<(C=He(_e=f.g[v],C,j,oe))&&(Se(_e[C]),Array.prototype.splice.call(_e,C,1),0==_e.length&&(delete f.g[v],f.h--))):f&&(f=tn(f))&&(v=f.g[v.toString()],f=-1,v&&(f=He(v,C,j,oe)),(C=-1<f?v[f]:null)&&Qe(C))}function Qe(f){if("number"!=typeof f&&f&&!f.da){var v=f.src;if(v&&v[ae])Ge(v.i,f);else{var C=f.type,j=f.proxy;v.removeEventListener?v.removeEventListener(C,j,f.capture):v.detachEvent?v.detachEvent(Ft(C),j):v.addListener&&v.removeListener&&v.removeListener(j),(C=tn(v))?(Ge(C,f),0==C.h&&(C.src=null,v[Ee]=null)):Se(f)}}}function Ft(f){return f in K?K[f]:K[f]="on"+f}function mt(f,v){if(f.da)f=!0;else{v=new X(v,this);var C=f.listener,j=f.ha||f.src;f.fa&&Qe(f),f=C.call(j,v)}return f}function tn(f){return(f=f[Ee])instanceof Ae?f:null}var Ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pt(f){return"function"==typeof f?f:(f[Ct]||(f[Ct]=function(v){return f.handleEvent(v)}),f[Ct])}function $t(){L.call(this),this.i=new Ae(this),this.M=this,this.F=null}function ht(f,v){var C,j=f.F;if(j)for(C=[];j;j=j.F)C.push(j);if(f=f.M,j=v.type||v,"string"==typeof v)v=new q(v,f);else if(v instanceof q)v.target=v.target||f;else{var oe=v;O(v=new q(j,f),oe)}if(oe=!0,C)for(var _e=C.length-1;0<=_e;_e--){var $e=v.g=C[_e];oe=at($e,j,!0,v)&&oe}if(oe=at($e=v.g=f,j,!0,v)&&oe,oe=at($e,j,!1,v)&&oe,C)for(_e=0;_e<C.length;_e++)oe=at($e=v.g=C[_e],j,!1,v)&&oe}function at(f,v,C,j){if(!(v=f.i.g[String(v)]))return!0;v=v.concat();for(var oe=!0,_e=0;_e<v.length;++_e){var $e=v[_e];if($e&&!$e.da&&$e.capture==C){var An=$e.listener,Or=$e.ha||$e.src;$e.fa&&Ge(f.i,$e),oe=!1!==An.call(Or,j)&&oe}}return oe&&!j.defaultPrevented}function Dt(f,v,C){if("function"==typeof f)C&&(f=m(f,C));else{if(!f||"function"!=typeof f.handleEvent)throw Error("Invalid listener argument");f=m(f.handleEvent,f)}return 2147483647<Number(v)?-1:a.setTimeout(f,v||0)}function ft(f){f.g=Dt(()=>{f.g=null,f.i&&(f.i=!1,ft(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}w($t,L),$t.prototype[ae]=!0,$t.prototype.removeEventListener=function(f,v,C,j){ut(this,f,v,C,j)},$t.prototype.N=function(){if($t.aa.N.call(this),this.i){var v,f=this.i;for(v in f.g){for(var C=f.g[v],j=0;j<C.length;j++)Se(C[j]);delete f.g[v],f.h--}}this.F=null},$t.prototype.K=function(f,v,C,j){return this.i.add(String(f),v,!1,C,j)},$t.prototype.L=function(f,v,C,j){return this.i.add(String(f),v,!0,C,j)};class Pn extends L{constructor(v,C){super(),this.m=v,this.l=C,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ft(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sn(f){L.call(this),this.h=f,this.g={}}w(sn,L);var ze=[];function yt(f){ne(f.g,function(v,C){this.g.hasOwnProperty(C)&&Qe(v)},f),f.g={}}sn.prototype.N=function(){sn.aa.N.call(this),yt(this)},sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qt=a.JSON.stringify,vt=a.JSON.parse,Yt=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function pt(){}function _r(){}pt.prototype.h=null;var mn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xt(){q.call(this,"d")}function cn(){q.call(this,"c")}w(xt,q),w(cn,q);var Xi={},jr=null;function bo(){return jr=jr||new $t}function Fi(f){q.call(this,Xi.La,f)}function At(f){const v=bo();ht(v,new Fi(v))}function ua(f,v){q.call(this,Xi.STAT_EVENT,f),this.stat=v}function yr(f){const v=bo();ht(v,new ua(v,f))}function Uo(f,v){q.call(this,Xi.Ma,f),this.size=v}function Vi(f,v){if("function"!=typeof f)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},v)}function Kn(){this.g=!0}function us(f,v,C,j){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+function Ps(f,v){if(!f.g)return v;if(!v)return null;try{var C=JSON.parse(v);if(C)for(f=0;f<C.length;f++)if(Array.isArray(C[f])){var j=C[f];if(!(2>j.length)){var oe=j[1];if(Array.isArray(oe)&&!(1>oe.length)){var _e=oe[0];if("noop"!=_e&&"stop"!=_e&&"close"!=_e)for(var $e=1;$e<oe.length;$e++)oe[$e]=""}}}return qt(C)}catch{return v}}(f,C)+(j?" "+j:"")})}Xi.La="serverreachability",w(Fi,q),Xi.STAT_EVENT="statevent",w(ua,q),Xi.Ma="timingevent",w(Uo,q),Kn.prototype.xa=function(){this.g=!1},Kn.prototype.info=function(){};var jo,Bo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ls={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function eo(){}function Io(f,v,C,j){this.j=f,this.i=v,this.l=C,this.R=j||1,this.U=new sn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rs}function Rs(){this.i=null,this.g="",this.h=!1}w(eo,pt),eo.prototype.g=function(){return new XMLHttpRequest},eo.prototype.i=function(){return{}},jo=new eo;var Tu={},Cu={};function Su(f,v,C){f.L=1,f.v=Dl(Ms(v)),f.m=C,f.P=!0,El(f,null)}function El(f,v){f.F=Date.now(),Al(f),f.A=Ms(f.v);var C=f.A,j=f.R;Array.isArray(j)||(j=[String(j)]),dg(C.i,"t",j),f.C=0,C=f.j.J,f.h=new Rs,f.g=Mr(f.j,C?v:null,!f.m),0<f.O&&(f.M=new Pn(m(f.Y,f,f.g),f.O)),v=f.U,C=f.g,j=f.ca;var oe="readystatechange";Array.isArray(oe)||(oe&&(ze[0]=oe.toString()),oe=ze);for(var _e=0;_e<oe.length;_e++){var $e=en(C,oe[_e],j||v.handleEvent,!1,v.h||v);if(!$e)break;v.g[$e.key]=$e}v=f.H?D(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),At(),function fi(f,v,C,j,oe,_e){f.info(function(){if(f.g)if(_e)for(var $e="",An=_e.split("&"),Or=0;Or<An.length;Or++){var Tt=An[Or].split("=");if(1<Tt.length){var dr=Tt[0];Tt=Tt[1];var Lr=dr.split("_");$e=2<=Lr.length&&"type"==Lr[1]?$e+(dr+"=")+Tt+"&":$e+(dr+"=redacted&")}}else $e=null;else $e=_e;return"XMLHTTP REQ ("+j+") [attempt "+oe+"]: "+v+"\n"+C+"\n"+$e})}(f.i,f.u,f.A,f.l,f.R,f.m)}function ug(f){return!!f.g&&"GET"==f.u&&2!=f.L&&f.j.Ca}function vh(f,v){var C=f.C,j=v.indexOf("\n",C);return-1==j?Cu:(C=Number(v.substring(C,j)),isNaN(C)?Tu:(j+=1)+C>v.length?Cu:(v=v.slice(j,j+C),f.C=j+C,v))}function Al(f){f.S=Date.now()+f.I,wh(f,f.I)}function wh(f,v){if(null!=f.B)throw Error("WatchDog timer not null");f.B=Vi(m(f.ba,f),v)}function Eo(f){f.B&&(a.clearTimeout(f.B),f.B=null)}function ka(f){0==f.j.G||f.J||In(f.j,f)}function la(f){Eo(f);var v=f.M;v&&"function"==typeof v.ma&&v.ma(),f.M=null,yt(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function Tl(f,v){try{var C=f.j;if(0!=C.G&&(C.g==f||Eh(C.h,f)))if(!f.K&&Eh(C.h,f)&&3==C.G){try{var j=C.Da.g.parse(v)}catch{j=null}if(Array.isArray(j)&&3==j.length){var oe=j;if(0==oe[0]){e:if(!C.u){if(C.g){if(!(C.g.F+3e3<f.F))break e;kt(C),Ol(C)}et(C),yr(18)}}else C.za=oe[1],0<C.za-C.T&&37500>oe[2]&&C.F&&0==C.v&&!C.C&&(C.C=Vi(m(C.Za,C),6e3));if(1>=Cl(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Yn(C,11)}else if((f.K||C.g==f)&&kt(C),!R(v))for(oe=C.Da.g.parse(v),v=0;v<oe.length;v++){let Tt=oe[v];if(C.T=Tt[0],Tt=Tt[1],2==C.G)if("c"==Tt[0]){C.K=Tt[1],C.ia=Tt[2];const dr=Tt[3];null!=dr&&(C.la=dr,C.j.info("VER="+C.la));const Lr=Tt[4];null!=Lr&&(C.Aa=Lr,C.j.info("SVER="+C.Aa));const Ua=Tt[5];null!=Ua&&"number"==typeof Ua&&0<Ua&&(C.L=j=1.5*Ua,C.j.info("backChannelRequestTimeoutMs_="+j)),j=C;const xr=f.g;if(xr){const ga=xr.g?xr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ga){var _e=j.h;_e.g||-1==ga.indexOf("spdy")&&-1==ga.indexOf("quic")&&-1==ga.indexOf("h2")||(_e.j=_e.l,_e.g=new Set,_e.h&&(Dr(_e,_e.h),_e.h=null))}if(j.D){const Fl=xr.g?xr.g.getResponseHeader("X-HTTP-Session-Id"):null;Fl&&(j.ya=Fl,On(j.I,j.D,Fl))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-f.F,C.j.info("Handshake RTT: "+C.R+"ms"));var $e=f;if((j=C).qa=zr(j,j.J?j.ia:null,j.W),$e.K){Ah(j.h,$e);var An=$e,Or=j.L;Or&&(An.I=Or),An.B&&(Eo(An),Al(An)),j.g=$e}else ke(j);0<C.i.length&&P(C)}else"stop"!=Tt[0]&&"close"!=Tt[0]||Yn(C,7);else 3==C.G&&("stop"==Tt[0]||"close"==Tt[0]?"stop"==Tt[0]?Yn(C,7):Va(C):"noop"!=Tt[0]&&C.l&&C.l.ta(Tt),C.v=0)}At()}catch{}}function bh(f){this.l=f||10,f=a.PerformanceNavigationTiming?0<(f=a.performance.getEntriesByType("navigation")).length&&("hq"==f[0].nextHopProtocol||"h2"==f[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ih(f){return!!f.h||!!f.g&&f.g.size>=f.j}function Cl(f){return f.h?1:f.g?f.g.size:0}function Eh(f,v){return f.h?f.h==v:!!f.g&&f.g.has(v)}function Dr(f,v){f.g?f.g.add(v):f.h=v}function Ah(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}function Th(f){if(null!=f.h)return f.i.concat(f.h.D);if(null!=f.g&&0!==f.g.size){let v=f.i;for(const C of f.g.values())v=v.concat(C.D);return v}return b(f.i)}function cs(f,v){if(f.forEach&&"function"==typeof f.forEach)f.forEach(v,void 0);else if(u(f)||"string"==typeof f)Array.prototype.forEach.call(f,v,void 0);else for(var C=function Sl(f){if(f.na&&"function"==typeof f.na)return f.na();if(!f.V||"function"!=typeof f.V){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(u(f)||"string"==typeof f){var v=[];f=f.length;for(var C=0;C<f;C++)v.push(C);return v}v=[],C=0;for(const j in f)v[C++]=j;return v}}}(f),j=function Ma(f){if(f.V&&"function"==typeof f.V)return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if("string"==typeof f)return f.split("");if(u(f)){for(var v=[],C=f.length,j=0;j<C;j++)v.push(f[j]);return v}for(j in v=[],C=0,f)v[C++]=f[j];return v}(f),oe=j.length,_e=0;_e<oe;_e++)v.call(void 0,j[_e],C&&C[_e],f)}Io.prototype.ca=function(f){f=f.target;const v=this.M;v&&3==hs(f)?v.j():this.Y(f)},Io.prototype.Y=function(f){try{if(f==this.g)e:{const Lr=hs(this.g);var v=this.g.Ba();if(this.g.Z(),!(3>Lr)&&(3!=Lr||this.g&&(this.h.h||this.g.oa()||pa(this.g)))){this.J||4!=Lr||7==v||At(),Eo(this);var C=this.g.Z();this.X=C;t:if(ug(this)){var j=pa(this.g);f="";var oe=j.length,_e=4==hs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){la(this),ka(this);var $e="";break t}this.h.i=new a.TextDecoder}for(v=0;v<oe;v++)this.h.h=!0,f+=this.h.i.decode(j[v],{stream:!(_e&&v==oe-1)});j.length=0,this.h.g+=f,this.C=0,$e=this.h.g}else $e=this.g.oa();if(this.o=200==C,function bi(f,v,C,j,oe,_e,$e){f.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+oe+"]: "+v+"\n"+C+"\n"+_e+" "+$e})}(this.i,this.u,this.A,this.l,this.R,Lr,C),this.o){if(this.T&&!this.K){t:{if(this.g){var An,Or=this.g;if((An=Or.g?Or.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(An)){var Tt=An;break t}}Tt=null}if(!(C=Tt)){this.o=!1,this.s=3,yr(12),la(this),ka(this);break e}us(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tl(this,C)}if(this.P){let xr;for(C=!0;!this.J&&this.C<$e.length;){if(xr=vh(this,$e),xr==Cu){4==Lr&&(this.s=4,yr(14),C=!1),us(this.i,this.l,null,"[Incomplete Response]");break}if(xr==Tu){this.s=4,yr(15),us(this.i,this.l,$e,"[Invalid Chunk]"),C=!1;break}us(this.i,this.l,xr,null),Tl(this,xr)}if(ug(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Lr||0!=$e.length||this.h.h||(this.s=1,yr(16),C=!1),this.o=this.o&&C,C){if(0<$e.length&&!this.W){this.W=!0;var dr=this.j;dr.g==this&&dr.ba&&!dr.M&&(dr.j.info("Great, no buffering proxy detected. Bytes received: "+$e.length),st(dr),dr.M=!0,yr(11))}}else us(this.i,this.l,$e,"[Invalid Chunked Response]"),la(this),ka(this)}else us(this.i,this.l,$e,null),Tl(this,$e);4==Lr&&la(this),this.o&&!this.J&&(4==Lr?In(this.j,this):(this.o=!1,Al(this)))}else(function Fa(f){const v={};f=(f.g&&2<=hs(f)&&f.g.getAllResponseHeaders()||"").split("\r\n");for(let j=0;j<f.length;j++){if(R(f[j]))continue;var C=A(f[j]);const oe=C[0];if("string"!=typeof(C=C[1]))continue;C=C.trim();const _e=v[oe]||[];v[oe]=_e,_e.push(C)}!function B(f,v){for(const C in f)v.call(void 0,f[C],C,f)}(v,function(j){return j.join(", ")})})(this.g),400==C&&0<$e.indexOf("Unknown SID")?(this.s=3,yr(12)):(this.s=0,yr(13)),la(this),ka(this)}}}catch{}},Io.prototype.cancel=function(){this.J=!0,la(this)},Io.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(function Au(f,v){f.info(function(){return"TIMEOUT: "+v})}(this.i,this.A),2!=this.L&&(At(),yr(17)),la(this),this.s=2,ka(this)):wh(this,this.S-f)},bh.prototype.cancel=function(){if(this.i=Th(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const f of this.g.values())f.cancel();this.g.clear()}};var Du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ks(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof ks){this.h=f.h,zc(this,f.j),this.o=f.o,this.g=f.g,$c(this,f.s),this.l=f.l;var v=f.i,C=new Nl;C.i=v.i,v.g&&(C.g=new Map(v.g),C.h=v.h),Os(this,C),this.m=f.m}else f&&(v=String(f).match(Du))?(this.h=!1,zc(this,v[1]||"",!0),this.o=ds(v[2]||""),this.g=ds(v[3]||"",!0),$c(this,v[4]),this.l=ds(v[5]||"",!0),Os(this,v[6]||"",!0),this.m=ds(v[7]||"")):(this.h=!1,this.i=new Nl(null,this.h))}function Ms(f){return new ks(f)}function zc(f,v,C){f.j=C?ds(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function $c(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function Os(f,v,C){v instanceof Nl?(f.i=v,function Py(f,v){v&&!f.j&&(Ao(f),f.i=null,f.g.forEach(function(C,j){var oe=j.toLowerCase();j!=oe&&(qc(this,j),dg(this,oe,C))},f)),f.j=v}(f.i,f.h)):(C||(v=Oa(v,xl)),f.i=new Nl(v,f.h))}function On(f,v,C){f.i.set(v,C)}function Dl(f){return On(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ds(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Oa(f,v,C){return"string"==typeof f?(f=encodeURI(f).replace(v,xy),C&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function xy(f){return"%"+((f=f.charCodeAt(0))>>4&15).toString(16)+(15&f).toString(16)}ks.prototype.toString=function(){var f=[],v=this.j;v&&f.push(Oa(v,cg,!0),":");var C=this.g;return(C||"file"==v)&&(f.push("//"),(v=this.o)&&f.push(Oa(v,cg,!0),"@"),f.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(C=this.s)&&f.push(":",String(C))),(C=this.l)&&(this.g&&"/"!=C.charAt(0)&&f.push("/"),f.push(Oa(C,"/"==C.charAt(0)?Ch:Ny,!0))),(C=this.i.toString())&&f.push("?",C),(C=this.m)&&f.push("#",Oa(C,xu)),f.join("")};var f,cg=/[#\/\?@]/g,Ny=/[#\?:]/g,Ch=/[#\?]/g,xl=/[#\?@]/g,xu=/#/g;function Nl(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Ao(f){f.g||(f.g=new Map,f.h=0,f.i&&function kr(f,v){if(f){f=f.split("&");for(var C=0;C<f.length;C++){var j=f[C].indexOf("="),oe=null;if(0<=j){var _e=f[C].substring(0,j);oe=f[C].substring(j+1)}else _e=f[C];v(_e,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}(f.i,function(v,C){f.add(decodeURIComponent(v.replace(/\+/g," ")),C)}))}function qc(f,v){Ao(f),v=Nu(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function Vt(f,v){return Ao(f),v=Nu(f,v),f.g.has(v)}function dg(f,v,C){qc(f,v),0<C.length&&(f.i=null,f.g.set(Nu(f,v),b(C)),f.h+=C.length)}function Nu(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function Ui(f,v,C,j,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),j(C)}catch{}}function ky(){this.g=new Yt}function My(f,v,C){const j=C||"";try{cs(f,function(oe,_e){let $e=oe;l(oe)&&($e=qt(oe)),v.push(j+_e+"="+encodeURIComponent($e))})}catch(oe){throw v.push(j+"type="+encodeURIComponent("_badmap")),oe}}function ca(f){this.l=f.Ub||null,this.j=f.eb||!1}function Pu(f,v){$t.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ru(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}function da(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ha(f)}function ha(f){f.onreadystatechange&&f.onreadystatechange.call(f)}function hg(f){let v="";return ne(f,function(C,j){v+=j,v+=":",v+=C,v+="\r\n"}),v}function Pl(f,v,C){e:{for(j in C){var j=!1;break e}j=!0}j||(C=hg(C),"string"==typeof f?null!=C&&encodeURIComponent(String(C)):On(f,v,C))}function Qn(f){$t.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=Nl.prototype).add=function(f,v){Ao(this),this.i=null,f=Nu(this,f);var C=this.g.get(f);return C||this.g.set(f,C=[]),C.push(v),this.h+=1,this},t.forEach=function(f,v){Ao(this),this.g.forEach(function(C,j){C.forEach(function(oe){f.call(v,oe,j,this)},this)},this)},t.na=function(){Ao(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),C=[];for(let j=0;j<v.length;j++){const oe=f[j];for(let _e=0;_e<oe.length;_e++)C.push(v[j])}return C},t.V=function(f){Ao(this);let v=[];if("string"==typeof f)Vt(this,f)&&(v=v.concat(this.g.get(Nu(this,f))));else{f=Array.from(this.g.values());for(let C=0;C<f.length;C++)v=v.concat(f[C])}return v},t.set=function(f,v){return Ao(this),this.i=null,Vt(this,f=Nu(this,f))&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},t.get=function(f,v){return f&&0<(f=this.V(f)).length?String(f[0]):v},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var C=0;C<v.length;C++){var j=v[C];const _e=encodeURIComponent(String(j)),$e=this.V(j);for(j=0;j<$e.length;j++){var oe=_e;""!==$e[j]&&(oe+="="+encodeURIComponent(String($e[j]))),f.push(oe)}}return this.i=f.join("&")},w(ca,pt),ca.prototype.g=function(){return new Pu(this.l,this.j)},ca.prototype.i=(f={},function(){return f}),w(Pu,$t),(t=Pu.prototype).open=function(f,v){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,ha(this)},t.send=function(f){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||a).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,da(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ha(this)),this.g&&(this.readyState=3,ha(this),this.g)))if("arraybuffer"===this.responseType)f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ru(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?da(this):ha(this),3==this.readyState&&Ru(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,da(this))},t.Qa=function(f){this.g&&(this.response=f,da(this))},t.ga=function(){this.g&&da(this)},t.setRequestHeader=function(f,v){this.u.append(f,v)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var C=v.next();!C.done;)f.push((C=C.value)[0]+": "+C[1]),C=v.next();return f.join("\r\n")},Object.defineProperty(Pu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(f){this.m=f?"include":"same-origin"}}),w(Qn,$t);var Rl=/^https?$/i,kl=["POST","PUT"];function Hc(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,Ml(f),fa(f)}function Ml(f){f.A||(f.A=!0,ht(f,"complete"),ht(f,"error"))}function Gc(f){if(f.h&&typeof s<"u"&&(!f.v[1]||4!=hs(f)||2!=f.Z()))if(f.u&&4==hs(f))Dt(f.Ea,0,f);else if(ht(f,"readystatechange"),4==hs(f)){f.h=!1;try{const $e=f.Z();e:switch($e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var C;if(!(C=v)){var j;if(j=0===$e){var oe=String(f.D).match(Du)[1]||null;!oe&&a.self&&a.self.location&&(oe=a.self.location.protocol.slice(0,-1)),j=!Rl.test(oe?oe.toLowerCase():"")}C=j}if(C)ht(f,"complete"),ht(f,"success");else{f.m=6;try{var _e=2<hs(f)?f.g.statusText:""}catch{_e=""}f.l=_e+" ["+f.Z()+"]",Ml(f)}}finally{fa(f)}}}function fa(f,v){if(f.g){Sh(f);const C=f.g,j=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||ht(f,"ready");try{C.onreadystatechange=j}catch{}}}function Sh(f){f.I&&(a.clearTimeout(f.I),f.I=null)}function hs(f){return f.g?f.g.readyState:0}function pa(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ku(f,v,C){return C&&C.internalChannelParams&&C.internalChannelParams[f]||v}function Dh(f){this.Aa=0,this.i=[],this.j=new Kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ku("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ku("baseRetryDelayMs",5e3,f),this.cb=ku("retryDelaySeedMs",1e4,f),this.Wa=ku("forwardChannelMaxRetries",2,f),this.wa=ku("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new bh(f&&f.concurrentRequestLimit),this.Da=new ky,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Va(f){if(_(f),3==f.G){var v=f.U++,C=Ms(f.I);if(On(C,"SID",f.K),On(C,"RID",v),On(C,"TYPE","terminate"),se(f,C),(v=new Io(f,f.j,v)).L=2,v.v=Dl(Ms(C)),C=!1,a.navigator&&a.navigator.sendBeacon)try{C=a.navigator.sendBeacon(v.v.toString(),"")}catch{}!C&&a.Image&&((new Image).src=v.v,C=!0),C||(v.g=Mr(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Al(v)}$n(f)}function Ol(f){f.g&&(st(f),f.g.cancel(),f.g=null)}function _(f){Ol(f),f.u&&(a.clearTimeout(f.u),f.u=null),kt(f),f.h.cancel(),f.s&&("number"==typeof f.s&&a.clearTimeout(f.s),f.s=null)}function P(f){if(!Ih(f.h)&&!f.s){f.s=!0;var v=f.Ga;we||je(),ce||(we(),ce=!0),Ie.add(v,f),f.B=0}}function J(f,v){var C;C=v?v.l:f.U++;const j=Ms(f.I);On(j,"SID",f.K),On(j,"RID",C),On(j,"AID",f.T),se(f,j),f.m&&f.o&&Pl(j,f.m,f.o),C=new Io(f,f.j,C,f.B+1),null===f.m&&(C.H=f.o),v&&(f.i=v.D.concat(f.i)),v=De(f,C,1e3),C.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Dr(f.h,C),Su(C,j,v)}function se(f,v){f.H&&ne(f.H,function(C,j){On(v,j,C)}),f.l&&cs({},function(C,j){On(v,j,C)})}function De(f,v,C){C=Math.min(f.i.length,C);var j=f.l?m(f.l.Na,f.l,f):null;e:{var oe=f.i;let _e=-1;for(;;){const $e=["count="+C];-1==_e?0<C?(_e=oe[0].g,$e.push("ofs="+_e)):_e=0:$e.push("ofs="+_e);let An=!0;for(let Or=0;Or<C;Or++){let Tt=oe[Or].g;const dr=oe[Or].map;if(Tt-=_e,0>Tt)_e=Math.max(0,oe[Or].g-100),An=!1;else try{My(dr,$e,"req"+Tt+"_")}catch{j&&j(dr)}}if(An){j=$e.join("&");break e}}}return f=f.i.splice(0,C),v.D=f,j}function ke(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;we||je(),ce||(we(),ce=!0),Ie.add(v,f),f.v=0}}function et(f){return!(f.g||f.u||3<=f.v||(f.Y++,f.u=Vi(m(f.Fa,f),cr(f,f.v)),f.v++,0))}function st(f){null!=f.A&&(a.clearTimeout(f.A),f.A=null)}function Rt(f){f.g=new Io(f,f.j,"rpc",f.Y),null===f.m&&(f.g.H=f.o),f.g.O=0;var v=Ms(f.qa);On(v,"RID","rpc"),On(v,"SID",f.K),On(v,"AID",f.T),On(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&On(v,"TO",f.ja),On(v,"TYPE","xmlhttp"),se(f,v),f.m&&f.o&&Pl(v,f.m,f.o),f.L&&(f.g.I=f.L);var C=f.g;f=f.ia,C.L=1,C.v=Dl(Ms(v)),C.m=null,C.P=!0,El(C,f)}function kt(f){null!=f.C&&(a.clearTimeout(f.C),f.C=null)}function In(f,v){var C=null;if(f.g==v){kt(f),st(f),f.g=null;var j=2}else{if(!Eh(f.h,v))return;C=v.D,Ah(f.h,v),j=1}if(0!=f.G)if(v.o)if(1==j){C=v.m?v.m.length:0,v=Date.now()-v.F;var oe=f.B;ht(j=bo(),new Uo(j,C)),P(f)}else ke(f);else if(3==(oe=v.s)||0==oe&&0<v.X||!(1==j&&function H(f,v){return!(Cl(f.h)>=f.h.j-(f.s?1:0)||(f.s?(f.i=v.D.concat(f.i),0):1==f.G||2==f.G||f.B>=(f.Va?0:f.Wa)||(f.s=Vi(m(f.Ga,f,v),cr(f,f.B)),f.B++,0)))}(f,v)||2==j&&et(f)))switch(C&&0<C.length&&(v=f.h,v.i=v.i.concat(C)),oe){case 1:Yn(f,5);break;case 4:Yn(f,10);break;case 3:Yn(f,6);break;default:Yn(f,2)}}function cr(f,v){let C=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(C*=2),C*v}function Yn(f,v){if(f.j.info("Error code "+v),2==v){var C=m(f.fb,f),j=f.Xa;const oe=!j;j=new ks(j||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||zc(j,"https"),Dl(j),oe?function Ry(f,v){const C=new Kn;if(a.Image){const j=new Image;j.onload=p(Ui,C,"TestLoadImage: loaded",!0,v,j),j.onerror=p(Ui,C,"TestLoadImage: error",!1,v,j),j.onabort=p(Ui,C,"TestLoadImage: abort",!1,v,j),j.ontimeout=p(Ui,C,"TestLoadImage: timeout",!1,v,j),a.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=f}else v(!1)}(j.toString(),C):function La(f,v){new Kn;const j=new AbortController,oe=setTimeout(()=>{j.abort(),Ui(0,0,!1,v)},1e4);fetch(f,{signal:j.signal}).then(_e=>{clearTimeout(oe),Ui(0,0,!!_e.ok,v)}).catch(()=>{clearTimeout(oe),Ui(0,0,!1,v)})}(j.toString(),C)}else yr(2);f.G=0,f.l&&f.l.sa(v),$n(f),_(f)}function $n(f){if(f.G=0,f.ka=[],f.l){const v=Th(f.h);(0!=v.length||0!=f.i.length)&&(E(f.ka,v),E(f.ka,f.i),f.h.i.length=0,b(f.i),f.i.length=0),f.l.ra()}}function zr(f,v,C){var j=C instanceof ks?Ms(C):new ks(C);if(""!=j.g)v&&(j.g=v+"."+j.g),$c(j,j.s);else{var oe=a.location;j=oe.protocol,v=v?v+"."+oe.hostname:oe.hostname,oe=+oe.port;var _e=new ks(null);j&&zc(_e,j),v&&(_e.g=v),oe&&$c(_e,oe),C&&(_e.l=C),j=_e}return v=f.ya,(C=f.D)&&v&&On(j,C,v),On(j,"VER",f.la),se(f,j),j}function Mr(f,v,C){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return(v=new Qn(f.Ca&&!f.pa?new ca({eb:C}):f.pa)).Ha(f.J),v}function pi(){}function to(){}function Zn(f,v){$t.call(this),this.g=new Dh(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!R(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!R(v)&&(this.g.D=v,null!==(f=this.h)&&v in f&&v in(f=this.h)&&delete f[v]),this.j=new fs(this)}function xh(f){xt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const C in v){f=C;break e}f=void 0}(this.i=f)&&(f=this.i,v=null!==v&&f in v?v[f]:void 0),this.data=v}else this.data=f}function Ll(){cn.call(this),this.status=1}function fs(f){this.g=f}(t=Qn.prototype).Ha=function(f){this.J=f},t.ea=function(f,v,C,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jo.g(),this.v=function Mn(f){return f.h||(f.h=f.i())}(this.o?this.o:jo),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(_e){return void Hc(this,_e)}if(f=C||"",C=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var oe in j)C.set(oe,j[oe]);else{if("function"!=typeof j.keys||"function"!=typeof j.get)throw Error("Unknown input type for opt_headers: "+String(j));for(const _e of j.keys())C.set(_e,j.get(_e))}j=Array.from(C.keys()).find(_e=>"content-type"==_e.toLowerCase()),oe=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(kl,v,void 0))||j||oe||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_e,$e]of C)this.g.setRequestHeader(_e,$e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sh(this),this.u=!0,this.g.send(f),this.u=!1}catch(_e){Hc(this,_e)}},t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ht(this,"complete"),ht(this,"abort"),fa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fa(this,!0)),Qn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gc(this):this.bb())},t.bb=function(){Gc(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<hs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&0==v.indexOf(f)&&(v=v.substring(f.length)),vt(v)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=Dh.prototype).la=8,t.G=1,t.connect=function(f,v,C,j){yr(0),this.W=f,this.H=v||{},C&&void 0!==j&&(this.H.OSID=C,this.H.OAID=j),this.F=this.X,this.I=zr(this,null,this.W),P(this)},t.Ga=function(f){if(this.s)if(this.s=null,1==this.G){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const oe=new Io(this,this.j,f);let _e=this.o;if(this.S&&(_e?(_e=D(_e),O(_e,this.S)):_e=this.S),null!==this.m||this.O||(oe.H=_e,_e=null),this.P)e:{for(var v=0,C=0;C<this.i.length;C++){var j=this.i[C];if(void 0===(j="__data__"in j.map&&"string"==typeof(j=j.map.__data__)?j.length:void 0))break;if(4096<(v+=j)){v=C;break e}if(4096===v||C===this.i.length-1){v=C+1;break e}}v=1e3}else v=1e3;v=De(this,oe,v),On(C=Ms(this.I),"RID",f),On(C,"CVER",22),this.D&&On(C,"X-HTTP-Session-Id",this.D),se(this,C),_e&&(this.O?v="headers="+encodeURIComponent(String(hg(_e)))+"&"+v:this.m&&Pl(C,this.m,_e)),Dr(this.h,oe),this.Ua&&On(C,"TYPE","init"),this.P?(On(C,"$req",v),On(C,"SID","null"),oe.T=!0,Su(oe,C,null)):Su(oe,C,v),this.G=2}}else 3==this.G&&(f?J(this,f):0==this.i.length||Ih(this.h)||J(this))},t.Fa=function(){if(this.u=null,Rt(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Vi(m(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yr(10),Ol(this),Rt(this))},t.Za=function(){null!=this.C&&(this.C=null,Ol(this),et(this),yr(19))},t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),yr(2)):(this.j.info("Failed to ping google.com"),yr(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=pi.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},to.prototype.g=function(f,v){return new Zn(f,v)},w(Zn,$t),Zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zn.prototype.close=function(){Va(this.g)},Zn.prototype.o=function(f){var v=this.g;if("string"==typeof f){var C={};C.__data__=f,f=C}else this.u&&((C={}).__data__=qt(f),f=C);v.i.push(new class{constructor(f,v){this.g=f,this.map=v}}(v.Ya++,f)),3==v.G&&P(v)},Zn.prototype.N=function(){this.g.l=null,delete this.j,Va(this.g),delete this.g,Zn.aa.N.call(this)},w(xh,xt),w(Ll,cn),w(fs,pi),fs.prototype.ua=function(){ht(this.g,"a")},fs.prototype.ta=function(f){ht(this.g,new xh(f))},fs.prototype.sa=function(f){ht(this.g,new Ll)},fs.prototype.ra=function(){ht(this.g,"b")},to.prototype.createWebChannel=to.prototype.g,Zn.prototype.send=Zn.prototype.o,Zn.prototype.open=Zn.prototype.m,Zn.prototype.close=Zn.prototype.close,h8=hl.createWebChannelTransport=function(){return new to},d8=hl.getStatEventTarget=function(){return bo()},c8=hl.Event=Xi,GC=hl.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bo.NO_ERROR=0,Bo.TIMEOUT=8,Bo.HTTP_ERROR=6,M1=hl.ErrorCode=Bo,ls.COMPLETE="complete",l8=hl.EventType=ls,_r.EventType=mn,mn.OPEN="a",mn.CLOSE="b",mn.ERROR="c",mn.MESSAGE="d",$t.prototype.listen=$t.prototype.K,s_=hl.WebChannel=_r,hl.FetchXmlHttpFactory=ca,Qn.prototype.listenOnce=Qn.prototype.L,Qn.prototype.getLastError=Qn.prototype.Ka,Qn.prototype.getLastErrorCode=Qn.prototype.Ba,Qn.prototype.getStatus=Qn.prototype.Z,Qn.prototype.getResponseJson=Qn.prototype.Oa,Qn.prototype.getResponseText=Qn.prototype.oa,Qn.prototype.send=Qn.prototype.ea,Qn.prototype.setWithCredentials=Qn.prototype.Ha,u8=hl.XhrIo=Qn}).apply(typeof k1<"u"?k1:typeof self<"u"?self:typeof window<"u"?window:{});const f8="@firebase/firestore";class Ri{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ri.UNAUTHENTICATED=new Ri(null),Ri.GOOGLE_CREDENTIALS=new Ri("google-credentials-uid"),Ri.FIRST_PARTY=new Ri("first-party-uid"),Ri.MOCK_USER=new Ri("mock-user");let Zf="10.14.0";const lc=new vT("@firebase/firestore");function Jf(){return lc.logLevel}function Oe(t,...e){if(lc.logLevel<=hn.DEBUG){const n=e.map(WC);lc.debug(`Firestore (${Zf}): ${t}`,...n)}}function Jr(t,...e){if(lc.logLevel<=hn.ERROR){const n=e.map(WC);lc.error(`Firestore (${Zf}): ${t}`,...n)}}function ia(t,...e){if(lc.logLevel<=hn.WARN){const n=e.map(WC);lc.warn(`Firestore (${Zf}): ${t}`,...n)}}function WC(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Xe(t="Unexpected state"){const e=`FIRESTORE (${Zf}) INTERNAL ASSERTION FAILED: `+t;throw Jr(e),new Error(e)}function it(t,e){t||Xe()}function Ke(t,e){return t}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends il{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ki{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class p8{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bde{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ri.UNAUTHENTICATED))}shutdown(){}}class jde{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zde{constructor(e){this.t=e,this.currentUser=Ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;it(void 0===this.o);let i=this.i;const o=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ki,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable((0,ee.A)(function*(){yield l.promise,yield o(r.currentUser)}))},u=l=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ki)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it("string"==typeof r.accessToken),new p8(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(null===e||"string"==typeof e),new Ri(e)}}class $de{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ri.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class qde{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new $de(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ri.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class g8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hde{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){it(void 0===this.o);const r=o=>{null!=o.error&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Oe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(it("string"==typeof n.token),this.R=n.token,new g8(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Gde(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class m8{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Gde(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function jt(t,e){return t<e?-1:t>e?1:0}function Xf(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Pr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Le(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Le(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Le(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pr.fromMillis(Date.now())}static fromDate(e){return Pr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Pr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gt(e)}static min(){return new gt(new Pr(0,0))}static max(){return new gt(new Pr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class a_{constructor(e,n,r){void 0===n?n=0:n>e.length&&Xe(),void 0===r?r=e.length-n:r>e.length-n&&Xe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===a_.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof a_?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class fn extends a_{construct(e,n,r){return new fn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new fn(n)}static emptyPath(){return new fn([])}}const Wde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Er extends a_{construct(e,n,r){return new Er(e,n,r)}static isValidIdentifier(e){return Wde.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Er.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Er(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new Le(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new Le(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Le(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Le(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Er(n)}static emptyPath(){return new Er([])}}class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(fn.fromString(e))}static fromName(e){return new Ze(fn.fromString(e).popFirst(5))}static empty(){return new Ze(fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return fn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new fn(e.slice()))}}function v8(t){return new Cs(t.readTime,t.key,-1)}class Cs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Cs(gt.min(),Ze.empty(),-1)}static max(){return new Cs(gt.max(),Ze.empty(),-1)}}function QC(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Ze.comparator(t.documentKey,e.documentKey),0!==n?n:jt(t.largestBatchId,e.largestBatchId))}const w8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function cc(t){return YC.apply(this,arguments)}function YC(){return YC=(0,ee.A)(function*(t){if(t.code!==ye.FAILED_PRECONDITION||t.message!==w8)throw t;Oe("LocalStore","Unexpectedly lost primary lease")}),YC.apply(this,arguments)}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,r)=>{n(e)})}static reject(e){return new le((n,r)=>{r(e)})}static waitFor(e){return new le((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next(i=>i?le.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new le((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const l=u;n(e[l]).next(c=>{s[l]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new le((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function dc(t){return"IndexedDbTransactionError"===t.name}let Ss=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function l_(t){return null==t}function c_(t){return 0===t&&1/t==-1/0}function P8(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function k8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class lr{constructor(e,n){this.comparator=e,this.root=n||Ki.EMPTY}insert(e,n){return new lr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ki.BLACK,null,null))}remove(e){return new lr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ki.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new F1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new F1(this.root,e,this.comparator,!1)}getReverseIterator(){return new F1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new F1(this.root,e,this.comparator,!0)}}class F1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ki{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ki.RED,this.left=i??Ki.EMPTY,this.right=o??Ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ki(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ki.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Ki.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}Ki.EMPTY=null,Ki.RED=!0,Ki.BLACK=!1,Ki.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ki(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wn{constructor(e){this.comparator=e,this.data=new lr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new M8(this.data.getIterator())}getIteratorFrom(e){return new M8(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Wn(this.comparator);return n.data=e,n}}class M8{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class is{constructor(e){this.fields=e,e.sort(Er.comparator)}static empty(){return new is([])}unionWith(e){let n=new Wn(Er.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new is(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xf(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class O8 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ur{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new O8("Invalid base64 string: "+o):o}}(e);return new Ur(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Ur(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ur.EMPTY_BYTE_STRING=new Ur("");const vhe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fl(t){if(it(!!t),"string"==typeof t){let e=0;const n=vhe.exec(t);if(it(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ar(t.seconds),nanos:Ar(t.nanos)}}function Ar(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function pl(t){return"string"==typeof t?Ur.fromBase64String(t):Ur.fromUint8Array(t)}function V1(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function U1(t){const e=t.mapValue.fields.__previous_value__;return V1(e)?U1(e):e}function d_(t){const e=fl(t.mapValue.fields.__local_write_time__.timestampValue);return new Pr(e.seconds,e.nanos)}class whe{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class jd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new jd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof jd&&e.projectId===this.projectId&&e.database===this.database}}const fc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function pc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?V1(t)?4:B8(t)?9007199254740991:$1(t)?10:11:Xe()}function lu(t,e){if(t===e)return!0;const n=pc(t);if(n!==pc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return d_(t).isEqual(d_(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=fl(i.timestampValue),a=fl(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,pl(t.bytesValue).isEqual(pl(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ar(i.geoPointValue.latitude)===Ar(o.geoPointValue.latitude)&&Ar(i.geoPointValue.longitude)===Ar(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ar(i.integerValue)===Ar(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ar(i.doubleValue),a=Ar(o.doubleValue);return s===a?c_(s)===c_(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Xf(t.arrayValue.values||[],e.arrayValue.values||[],lu);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(P8(s)!==P8(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!lu(s[u],a[u])))return!1;return!0}(t,e);default:return Xe()}var o}function h_(t,e){return void 0!==(t.values||[]).find(n=>lu(n,e))}function gc(t,e){if(t===e)return 0;const n=pc(t),r=pc(e);if(n!==r)return jt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return jt(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Ar(o.integerValue||o.doubleValue),u=Ar(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return L8(t.timestampValue,e.timestampValue);case 4:return L8(d_(t),d_(e));case 5:return jt(t.stringValue,e.stringValue);case 6:return function(o,s){const a=pl(o),u=pl(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=jt(a[l],u[l]);if(0!==c)return c}return jt(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=jt(Ar(o.latitude),Ar(s.latitude));return 0!==a?a:jt(Ar(o.longitude),Ar(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return F8(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,c;const p=null===(a=(o.fields||{}).value)||void 0===a?void 0:a.arrayValue,w=null===(u=(s.fields||{}).value)||void 0===u?void 0:u.arrayValue,b=jt((null===(l=p?.values)||void 0===l?void 0:l.length)||0,(null===(c=w?.values)||void 0===c?void 0:c.length)||0);return 0!==b?b:F8(p,w)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===fc.mapValue&&s===fc.mapValue)return 0;if(o===fc.mapValue)return 1;if(s===fc.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),l=s.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let d=0;d<u.length&&d<c.length;++d){const m=jt(u[d],c[d]);if(0!==m)return m;const p=gc(a[u[d]],l[c[d]]);if(0!==p)return p}return jt(u.length,c.length)}(t.mapValue,e.mapValue);default:throw Xe()}}function L8(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return jt(t,e);const n=fl(t),r=fl(e),i=jt(n.seconds,r.seconds);return 0!==i?i:jt(n.nanos,r.nanos)}function F8(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=gc(n[i],r[i]);if(o)return o}return jt(n.length,r.length)}function rp(t){return eS(t)}function eS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=fl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?pl(t.bytesValue).toBase64():"referenceValue"in t?Ze.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=eS(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${eS(n.fields[s])}`;return i+"}"}(t.mapValue):Xe()}function zd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function tS(t){return!!t&&"integerValue"in t}function f_(t){return!!t&&"arrayValue"in t}function V8(t){return!!t&&"nullValue"in t}function U8(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function z1(t){return!!t&&"mapValue"in t}function $1(t){var e,n;return"__vector__"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function p_(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return hc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=p_(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=p_(t.arrayValue.values[n]);return e}return Object.assign({},t)}function B8(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Qi{constructor(e){this.value=e}static empty(){return new Qi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!z1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=p_(n)}setAll(e){let n=Er.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=p_(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());z1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lu(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];z1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){hc(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Qi(p_(this.value))}}function q8(t){const e=[];return hc(t.fields,(n,r)=>{const i=new Er([n]);if(z1(r)){const o=q8(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new is(e)}class gr{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new gr(e,0,gt.min(),gt.min(),gt.min(),Qi.empty(),0)}static newFoundDocument(e,n,r,i){return new gr(e,1,n,gt.min(),r,i,0)}static newNoDocument(e,n){return new gr(e,2,n,gt.min(),gt.min(),Qi.empty(),0)}static newUnknownDocument(e,n){return new gr(e,3,n,gt.min(),gt.min(),Qi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(gt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mc{constructor(e,n){this.position=e,this.inclusive=n}}function H8(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Ze.comparator(Ze.fromName(s.referenceValue),n.key):gc(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function G8(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lu(t.position[n],e.position[n]))return!1;return!0}class g_{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ehe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class W8{}class pn extends W8{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Ahe(e,n,r):"array-contains"===n?new She(e,r):"in"===n?new X8(e,r):"not-in"===n?new Dhe(e,r):"array-contains-any"===n?new xhe(e,r):new pn(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new The(e,r):new Che(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(gc(n,this.value)):null!==n&&pc(this.value)===pc(n)&&this.matchesComparison(gc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends W8{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Bn(e,n)}matches(e){return ip(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ip(t){return"and"===t.op}function rS(t){return function K8(t){for(const e of t.filters)if(e instanceof Bn)return!1;return!0}(t)&&ip(t)}function iS(t){if(t instanceof pn)return t.field.canonicalString()+t.op.toString()+rp(t.value);if(rS(t))return t.filters.map(e=>iS(e)).join(",");{const e=t.filters.map(n=>iS(n)).join(",");return`${t.op}(${e})`}}function Q8(t,e){return t instanceof pn?(r=t,(i=e)instanceof pn&&r.op===i.op&&r.field.isEqual(i.field)&&lu(r.value,i.value)):t instanceof Bn?function(r,i){return i instanceof Bn&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&Q8(s,i.filters[a]),!0)}(t,e):void Xe();var r,i}function Z8(t){return t instanceof pn?`${(n=t).field.canonicalString()} ${n.op} ${rp(n.value)}`:t instanceof Bn?function(n){return n.op.toString()+" {"+n.getFilters().map(Z8).join(" ,")+"}"}(t):"Filter";var n}class Ahe extends pn{constructor(e,n,r){super(e,n,r),this.key=Ze.fromName(r.referenceValue)}matches(e){const n=Ze.comparator(e.key,this.key);return this.matchesComparison(n)}}class The extends pn{constructor(e,n){super(e,"in",n),this.keys=J8(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Che extends pn{constructor(e,n){super(e,"not-in",n),this.keys=J8(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function J8(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>Ze.fromName(r.referenceValue))}class She extends pn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return f_(n)&&h_(n.arrayValue,this.value)}}class X8 extends pn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&h_(this.value.arrayValue,n)}}class Dhe extends pn{constructor(e,n){super(e,"not-in",n)}matches(e){if(h_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!h_(this.value.arrayValue,n)}}class xhe extends pn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!f_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>h_(this.value.arrayValue,r))}}class Nhe{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function oS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Nhe(t,e,n,r,i,o,s)}function $d(t){const e=Ke(t);if(null===e.ue){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>iS(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),l_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rp(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rp(r)).join(",")),e.ue=n}return e.ue}function m_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ehe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Q8(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!G8(t.startAt,e.startAt)&&G8(t.endAt,e.endAt)}function q1(t){return Ze.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class gl{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null}}function op(t){return new gl(t)}function r7(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function sS(t){return null!==t.collectionGroup}function sp(t){const e=Ke(t);if(null===e.ce){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Wn(Er.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new g_(o,r))}),n.has(Er.keyField().canonicalString())||e.ce.push(new g_(Er.keyField(),r))}return e.ce}function fo(t){const e=Ke(t);return e.le||(e.le=function o7(t,e){if("F"===t.limitType)return oS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new g_(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new mc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new mc(t.startAt.position,t.startAt.inclusive):null;return oS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,sp(t))),e.le}function aS(t,e){const n=t.filters.concat([e]);return new gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function G1(t,e,n){return new gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function __(t,e){return m_(fo(t),fo(e))&&t.limitType===e.limitType}function s7(t){return`${$d(fo(t))}|lt:${t.limitType}`}function ap(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Z8(i)).join(", ")}]`),l_(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>rp(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>rp(i)).join(",")),`Target(${r})`}(fo(t))}; limitType=${t.limitType})`}function y_(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ze.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of sp(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,u){const l=H8(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,sp(r),i)||r.endAt&&!function(s,a,u){const l=H8(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,sp(r),i)));var r,i}function u7(t){return(e,n)=>{let r=!1;for(const i of sp(t)){const o=Phe(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function Phe(t,e,n){const r=t.field.isKeyField()?Ze.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),l=a.data.field(o);return null!==u&&null!==l?gc(u,l):Xe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}class ml{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hc(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return k8(this.inner)}size(){return this.innerSize}}const Rhe=new lr(Ze.comparator);function os(){return Rhe}const l7=new lr(Ze.comparator);function v_(...t){let e=l7;for(const n of t)e=e.insert(n.key,n);return e}function c7(t){let e=l7;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function cu(){return w_()}function d7(){return w_()}function w_(){return new ml(t=>t.toString(),(t,e)=>t.isEqual(e))}const khe=new lr(Ze.comparator),Mhe=new Wn(Ze.comparator);function Xt(...t){let e=Mhe;for(const n of t)e=e.add(n);return e}const Ohe=new Wn(jt);function lS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:c_(e)?"-0":e}}function h7(t){return{integerValue:""+t}}function f7(t,e){return function A8(t){return"number"==typeof t&&Number.isInteger(t)&&!c_(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?h7(e):lS(t,e)}class W1{constructor(){this._=void 0}}function Lhe(t,e,n){return t instanceof up?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&V1(o)&&(o=U1(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof qd?g7(t,e):t instanceof Hd?m7(t,e):function(i,o){const s=p7(i,o),a=_7(s)+_7(i.Pe);return tS(s)&&tS(i.Pe)?h7(a):lS(i.serializer,a)}(t,e)}function Fhe(t,e,n){return t instanceof qd?g7(t,e):t instanceof Hd?m7(t,e):n}function p7(t,e){return t instanceof lp?tS(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class up extends W1{}class qd extends W1{constructor(e){super(),this.elements=e}}function g7(t,e){const n=y7(e);for(const r of t.elements)n.some(i=>lu(i,r))||n.push(r);return{arrayValue:{values:n}}}class Hd extends W1{constructor(e){super(),this.elements=e}}function m7(t,e){let n=y7(e);for(const r of t.elements)n=n.filter(i=>!lu(i,r));return{arrayValue:{values:n}}}class lp extends W1{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function _7(t){return Ar(t.integerValue||t.doubleValue)}function y7(t){return f_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Uhe{constructor(e,n){this.version=e,this.transformResults=n}}class Tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Tr}static exists(e){return new Tr(void 0,e)}static updateTime(e){return new Tr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function K1(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Q1{}function v7(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new dp(t.key,Tr.none()):new cp(t.key,t.data,Tr.none());{const n=t.data,r=Qi.empty();let i=new Wn(Er.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new _l(t.key,r,new is(i.toArray()),Tr.none())}}function Bhe(t,e,n){t instanceof cp?function(i,o,s){const a=i.value.clone(),u=I7(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof _l?function(i,o,s){if(!K1(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=I7(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(b7(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function I_(t,e,n,r){return t instanceof cp?function(o,s,a,u){if(!K1(o.precondition,s))return a;const l=o.value.clone(),c=E7(o.fieldTransforms,u,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof _l?function(o,s,a,u){if(!K1(o.precondition,s))return a;const l=E7(o.fieldTransforms,u,s),c=s.data;return c.setAll(b7(o)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,K1(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function jhe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=p7(r.transform,i||null);null!=o&&(null===n&&(n=Qi.empty()),n.set(r.field,o))}return n||null}function w7(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Xf(r,i,(o,s)=>function Vhe(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof qd&&i instanceof qd||r instanceof Hd&&i instanceof Hd?Xf(r.elements,i.elements,lu):r instanceof lp&&i instanceof lp?lu(r.Pe,i.Pe):r instanceof up&&i instanceof up);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class cp extends Q1{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _l extends Q1{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function b7(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function I7(t,e,n){const r=new Map;it(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Fhe(s,a,n[i]))}return r}function E7(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Lhe(o,s,e))}return r}class dp extends Q1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cS extends Q1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Bhe(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=I_(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=I_(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=d7();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=v7(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(gt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xt())}isEqual(e){return this.batchId===e.batchId&&Xf(this.mutations,e.mutations,(n,r)=>w7(n,r))&&Xf(this.baseMutations,e.baseMutations,(n,r)=>w7(n,r))}}class hS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){it(e.mutations.length===r.length);let i=khe;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new hS(e,n,r,i)}}class fS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class zhe{constructor(e,n){this.count=e,this.unchangedNames=n}}var di,wn;function C7(t){if(void 0===t)return Jr("GRPC error has no .code"),ye.UNKNOWN;switch(t){case di.OK:return ye.OK;case di.CANCELLED:return ye.CANCELLED;case di.UNKNOWN:return ye.UNKNOWN;case di.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case di.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case di.INTERNAL:return ye.INTERNAL;case di.UNAVAILABLE:return ye.UNAVAILABLE;case di.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case di.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case di.NOT_FOUND:return ye.NOT_FOUND;case di.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case di.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case di.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case di.ABORTED:return ye.ABORTED;case di.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case di.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case di.DATA_LOSS:return ye.DATA_LOSS;default:return Xe()}}(wn=di||(di={}))[wn.OK=0]="OK",wn[wn.CANCELLED=1]="CANCELLED",wn[wn.UNKNOWN=2]="UNKNOWN",wn[wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wn[wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wn[wn.NOT_FOUND=5]="NOT_FOUND",wn[wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",wn[wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",wn[wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",wn[wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wn[wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wn[wn.ABORTED=10]="ABORTED",wn[wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",wn[wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",wn[wn.INTERNAL=13]="INTERNAL",wn[wn.UNAVAILABLE=14]="UNAVAILABLE",wn[wn.DATA_LOSS=15]="DATA_LOSS";const $he=new Fd([4294967295,4294967295],0);function D7(t){const e=function S7(){return new TextEncoder}().encode(t),n=new a8;return n.update(e),new Uint8Array(n.digest())}function x7(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Fd([n,r],0),new Fd([i,o],0)]}class pS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new E_(`Invalid padding: ${n}`);if(r<0)throw new E_(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new E_(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new E_(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Fd.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Fd.fromNumber(r)));return 1===i.compare($he)&&(i=new Fd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const n=D7(e),[r,i]=x7(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new pS(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Ie)return;const n=D7(e),[r,i]=x7(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class E_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class A_{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,T_.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new A_(gt.min(),i,new lr(jt),os(),Xt())}}class T_{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new T_(r,n,Xt(),Xt(),Xt())}}class Z1{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class N7{constructor(e,n){this.targetId=e,this.me=n}}class P7{constructor(e,n,r=Ur.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class R7{constructor(){this.fe=0,this.ge=M7(),this.pe=Ur.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Xt(),n=Xt(),r=Xt();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Xe()}}),new T_(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=M7()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,it(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class qhe{constructor(e){this.Le=e,this.Be=new Map,this.ke=os(),this.qe=k7(),this.Qe=new lr(jt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Xe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(q1(o))if(0===r){const s=new Ze(o.path);this.Ue(n,s,gr.newNoDocument(s,gt.min()))}else it(1===r);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),u=a?this.Xe(a,e,s):1;0!==u&&(this.je(n),this.Qe=this.Qe.insert(n,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=pl(r).toUint8Array()}catch(u){if(u instanceof O8)return ia("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new pS(s,i,o)}catch(u){return ia(u instanceof E_?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Ie?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&q1(a.target)){const u=new Ze(a.target.path);null!==this.ke.get(u)||this.it(s,u)||this.Ue(s,u,gr.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Xt();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const l=this.Je(u);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new A_(e,n,this.Qe,this.ke,r);return this.ke=os(),this.qe=k7(),this.Qe=new lr(jt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new R7,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Wn(jt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=null!==this.Je(e);return n||Oe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new R7),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function k7(){return new lr(Ze.comparator)}function M7(){return new lr(Ze.comparator)}const Hhe={asc:"ASCENDING",desc:"DESCENDING"},Ghe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Whe={and:"AND",or:"OR"};class Khe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gS(t,e){return t.useProto3Json||l_(e)?e:{value:e}}function hp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function O7(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Qhe(t,e){return hp(t,e.toTimestamp())}function Xr(t){return it(!!t),gt.fromTimestamp(function(n){const r=fl(n);return new Pr(r.seconds,r.nanos)}(t))}function mS(t,e){return _S(t,e).canonicalString()}function _S(t,e){const n=(i=t,new fn(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?n:n.child(e)}function L7(t){const e=fn.fromString(t);return it(W7(e)),e}function C_(t,e){return mS(t.databaseId,e.path)}function du(t,e){const n=L7(e);if(n.get(1)!==t.databaseId.projectId)throw new Le(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Le(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ze(U7(n))}function F7(t,e){return mS(t.databaseId,e)}function yS(t){return new fn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function U7(t){return it(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function B7(t,e,n){return{name:C_(t,e),fields:n.value.mapValue.fields}}function z7(t,e){return{documents:[F7(t,e.path)]}}function J1(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=F7(t,i);const o=function(l){if(0!==l.length)return G7(Bn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:_c((m=c).field),direction:efe(m.dir)};var m})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=gS(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i};var l}function q7(t){let e=function V7(t){const e=L7(t);return 4===e.length?fn.emptyPath():U7(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){it(1===r);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const m=H7(d);return m instanceof Bn&&rS(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(m=>{return new g_(fp((w=m).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction));var w}));let a=null;n.limit&&(a=function(d){let m;return m="object"==typeof d?d.value:d,l_(m)?null:m}(n.limit));let u=null;var d;n.startAt&&(u=new mc((d=n.startAt).values||[],!!d.before));let l=null;return n.endAt&&(l=function(d){return new mc(d.values||[],!d.before)}(n.endAt)),function n7(t,e,n,r,i,o,s,a){return new gl(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",u,l)}function H7(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fp(n.unaryFilter.field);return pn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fp(n.unaryFilter.field);return pn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=fp(n.unaryFilter.field);return pn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=fp(n.unaryFilter.field);return pn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(t):void 0!==t.fieldFilter?pn.create(fp((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Bn.create(n.compositeFilter.filters.map(r=>H7(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Xe()}}(n.compositeFilter.op))}(t):Xe();var n}function efe(t){return Hhe[t]}function tfe(t){return Ghe[t]}function nfe(t){return Whe[t]}function _c(t){return{fieldPath:t.canonicalString()}}function fp(t){return Er.fromServerFormat(t.fieldPath)}function G7(t){return t instanceof pn?function(n){if("=="===n.op){if(U8(n.value))return{unaryFilter:{field:_c(n.field),op:"IS_NAN"}};if(V8(n.value))return{unaryFilter:{field:_c(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(U8(n.value))return{unaryFilter:{field:_c(n.field),op:"IS_NOT_NAN"}};if(V8(n.value))return{unaryFilter:{field:_c(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_c(n.field),op:tfe(n.op),value:n.value}}}(t):t instanceof Bn?function(n){const r=n.getFilters().map(i=>G7(i));return 1===r.length?r[0]:{compositeFilter:{op:nfe(n.op),filters:r}}}(t):Xe()}function rfe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function W7(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class yl{constructor(e,n,r,i,o=gt.min(),s=gt.min(),a=Ur.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new yl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class K7{constructor(e){this.ct=e}}function wS(t){const e=q7({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?G1(e,e.limit,"L"):e}class Qd{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ar(e.integerValue));else if("doubleValue"in e){const r=Ar(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),c_(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),"string"==typeof r&&(r=fl(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(pl(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?B8(e)?this.dt(n,Number.MAX_SAFE_INTEGER):$1(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Xe()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const o=e.fields||{};this.dt(n,53);const s="value",a=(null===(i=null===(r=o[s].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.dt(n,15),n.At(Ar(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),Ze.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}Qd.vt=new Qd;class hfe{constructor(){this.un=new CS}addToCollectionParentIndex(e,n){return this.un.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Cs.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Cs.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class CS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Wn(fn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wn(fn.comparator)).toArray()}}new Uint8Array(0);class po{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new po(e,po.DEFAULT_COLLECTION_PERCENTILE,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}po.DEFAULT_COLLECTION_PERCENTILE=10,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,po.DEFAULT=new po(41943040,po.DEFAULT_COLLECTION_PERCENTILE,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),po.DISABLED=new po(-1,0,0);class Zd{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Zd(0)}static kn(){return new Zd(-1)}}class _U{constructor(){this.changes=new ml(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wfe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class IU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&I_(r.mutation,i,is.empty(),Pr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Xt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Xt()){const i=cu();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=v_();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=cu();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Xt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=os();const s=w_(),a=w_();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(void 0===c||c.mutation instanceof _l)?o=o.insert(l.key,l):void 0!==c?(s.set(l.key,c.mutation.getFieldMask()),I_(c.mutation,l,c.mutation.getFieldMask(),Pr.now())):s.set(l.key,is.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,c)=>s.set(l,c)),n.forEach((l,c)=>{var d;return a.set(l,new wfe(c,null!==(d=s.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=w_();let i=new lr((s,a)=>s-a),o=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const l=n.get(u);if(null===l)return;let c=r.get(u)||is.empty();c=a.applyToLocalView(l,c),r.set(u,c);const d=(i.get(a.batchId)||Xt()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,d=d7();c.forEach(m=>{if(!o.has(m)){const p=v7(n.get(m),r.get(m));null!==p&&d.set(m,p),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,d))}return le.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return Ze.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):sS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):le.resolve(cu());let a=-1,u=o;return s.next(l=>le.forEach(l,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?le.resolve():this.remoteDocumentCache.getEntry(e,c).next(m=>{u=u.insert(c,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,Xt())).next(c=>({batchId:a,changes:c7(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ze(n)).next(r=>{let i=v_();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=v_();return this.indexManager.getCollectionParents(e,o).next(a=>le.forEach(a,u=>{const l=(d=n,m=u.child(o),new gl(m,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,m;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(c=>{c.forEach((d,m)=>{s=s.insert(d,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{const c=l.getKey();null===s.get(c)&&(s=s.insert(c,gr.newInvalidDocument(c)))});let a=v_();return s.forEach((u,l)=>{const c=o.get(u);void 0!==c&&I_(c.mutation,l,is.empty(),Pr.now()),y_(n,l)&&(a=a.insert(u,l))}),a})}}class bfe{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return le.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,{id:(i=n).id,version:i.version,createTime:Xr(i.createTime)}),le.resolve();var i}getNamedQuery(e,n){return le.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,{name:(i=n).name,query:wS(i.bundledQuery),readTime:Xr(i.readTime)}),le.resolve();var i}}class Ife{constructor(){this.overlays=new lr(Ze.comparator),this.Ir=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=cu();return le.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),le.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const i=cu(),o=n.length+1,s=new Ze(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return le.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new lr((l,c)=>l-c);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=o.get(l.largestBatchId);null===c&&(c=cu(),o=o.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=cu(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return le.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new fS(n,r));let o=this.Ir.get(n);void 0===o&&(o=Xt(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}class Efe{constructor(){this.sessionToken=Ur.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}class SS{constructor(){this.Tr=new Wn(Mi.Er),this.dr=new Wn(Mi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Mi(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Mi(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ze(new fn([])),r=new Mi(n,e),i=new Mi(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ze(new fn([])),r=new Mi(n,e),i=new Mi(n,e+1);let o=Xt();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Mi(e,0),r=this.Tr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Mi{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ze.comparator(e.key,n.key)||jt(e.wr,n.wr)}static Ar(e,n){return jt(e.wr,n.wr)||Ze.comparator(e.key,n.key)}}class Afe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Wn(Mi.Er)}checkEmpty(e){return le.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++;const s=new dS(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Mi(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return le.resolve(s)}lookupMutationBatch(e,n){return le.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.vr(n+1),o=i<0?0:i;return le.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mi(n,0),i=new Mi(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),le.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wn(jt);return n.forEach(i=>{const o=new Mi(i,0),s=new Mi(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),le.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Ze.isDocumentKey(o)||(o=o.child(""));const s=new Mi(new Ze(o),0);let a=new Wn(jt);return this.br.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),le.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){it(0===this.Fr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.br;return le.forEach(n.mutations,i=>{const o=new Mi(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Mi(n,0),i=this.br.firstAfterOrEqual(r);return le.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return le.resolve()}Fr(e,n){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Tfe{constructor(e){this.Mr=e,this.docs=new lr(Ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():gr.newInvalidDocument(n))}getEntries(e,n){let r=os();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():gr.newInvalidDocument(i))}),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=os();const s=n.path,a=new Ze(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||QC(v8(c),r)<=0||(i.has(c.key)||y_(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return le.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Xe()}Or(e,n){return le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Cfe(this)}getSize(e){return le.resolve(this.size)}}class Cfe extends _U{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),le.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}class Sfe{constructor(e){this.persistence=e,this.Nr=new ml(n=>$d(n),m_),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new SS,this.targetCount=0,this.kr=Zd.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),le.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Zd(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Kn(n),le.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),le.waitFor(o).next(()=>i)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),le.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.Br.containsKey(n))}}class DS{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Ss(0),this.Kr=!1,this.Kr=!0,this.$r=new Efe,this.referenceDelegate=e(this),this.Ur=new Sfe(this),this.indexManager=new hfe,this.remoteDocumentCache=new Tfe(r=>this.referenceDelegate.Wr(r)),this.serializer=new K7(n),this.Gr=new bfe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ife,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Afe(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Oe("MemoryPersistence","Starting transaction:",e);const i=new Dfe(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return le.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Dfe extends b8{constructor(e){super(),this.currentSequenceNumber=e}}class sw{constructor(e){this.persistence=e,this.Jr=new SS,this.Yr=null}static Zr(e){return new sw(e)}get Xr(){if(this.Yr)return this.Yr;throw Xe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),le.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Xr,r=>{const i=Ze.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,gt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return le.or([()=>le.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class RS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Xt(),i=Xt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new RS(e,n.fromCache,r,i)}}class Nfe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class AU{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function I6(){return!function cae(){var t;const e=null===(t=h1())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function I8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(Gi())>0?6:4}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Nfe;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Jf()<=hn.DEBUG&&Oe("QueryEngine","SDK will not create cache indexes for query:",ap(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),le.resolve()):(Jf()<=hn.DEBUG&&Oe("QueryEngine","Query:",ap(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Jf()<=hn.DEBUG&&Oe("QueryEngine","The SDK decides to create cache indexes for query:",ap(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fo(n))):le.resolve())}Yi(e,n){if(r7(n))return le.resolve(null);let r=fo(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=G1(n,null,"F"),r=fo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Xt(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,G1(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return r7(n)||i.isEqual(gt.min())?le.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?le.resolve(null):(Jf()<=hn.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ap(n)),this.rs(e,s,n,function y8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=gt.fromTimestamp(1e9===r?new Pr(n+1,0):new Pr(n,r));return new Cs(i,Ze.empty(),e)}(i,-1)).next(a=>a))})}ts(e,n){let r=new Wn(u7(e));return n.forEach((i,o)=>{y_(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Jf()<=hn.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",ap(n)),this.Ji.getDocumentsMatchingQuery(e,n,Cs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Pfe{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new lr(jt),this._s=new ml(o=>$d(o),m_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IU(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function CU(t,e){return kS.apply(this,arguments)}function kS(){return kS=(0,ee.A)(function*(t,e){const n=Ke(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=Xt();for(const l of i){s.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of o){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})}),kS.apply(this,arguments)}function SU(t){const e=Ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Mfe(t,e){const n=Ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function vp(t,e,n){return MS.apply(this,arguments)}function MS(){return MS=(0,ee.A)(function*(t,e,n){const r=Ke(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!dc(s))throw s;Oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}),MS.apply(this,arguments)}function lw(t,e,n){const r=Ke(t);let i=gt.min(),o=Xt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,c){const d=Ke(u),m=d._s.get(c);return void 0!==m?le.resolve(d.os.get(m)):d.Ur.getTargetData(l,c)}(r,s,fo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:gt.min(),n?o:Xt())).next(a=>(function PU(t,e,n){let r=t.us.get(e)||gt.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}(r,function a7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,Ts:o})))}class US{constructor(){this.activeTargetIds=function uS(){return Ohe}()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MU{constructor(){this.so=new US,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new US,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ffe{_o(e){}shutdown(){}}class OU{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let hw=null;function jS(){return null===hw?hw=268435456+Math.round(2147483648*Math.random()):hw++,"0x"+hw.toString(16)}const Vfe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ufe{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const go="WebChannelConnection";class Bfe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=jS(),u=this.xo(n,r.toUriEncodedString());Oe("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(c=>(Oe("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw ia("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+Zf,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){return`${this.Do}/v1/${r}:${Vfe[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=jS();return new Promise((s,a)=>{const u=new u8;u.setWithCredentials(!0),u.listenOnce(l8.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case M1.NO_ERROR:const c=u.getResponseJson();Oe(go,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case M1.TIMEOUT:Oe(go,`RPC '${e}' ${o} timed out`),a(new Le(ye.DEADLINE_EXCEEDED,"Request time out"));break;case M1.HTTP_ERROR:const d=u.getStatus();if(Oe(go,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const p=m?.error;if(p&&p.status&&p.message){const w=function(E){const T=E.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(T)>=0?T:ye.UNKNOWN}(p.status);a(new Le(w,p.message))}else a(new Le(ye.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Le(ye.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Oe(go,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(i);Oe(go,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){const i=jS(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=h8(),a=d8(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=o.join("");Oe(go,`Creating RPC '${e}' stream ${i}: ${c}`,u);const d=s.createWebChannel(c,u);let m=!1,p=!1;const w=new Ufe({Io:E=>{p?Oe(go,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(m||(Oe(go,`Opening RPC '${e}' stream ${i} transport.`),d.open(),m=!0),Oe(go,`RPC '${e}' stream ${i} sending:`,E),d.send(E))},To:()=>d.close()}),b=(E,T,R)=>{E.listen(T,V=>{try{R(V)}catch(F){setTimeout(()=>{throw F},0)}})};return b(d,s_.EventType.OPEN,()=>{p||(Oe(go,`RPC '${e}' stream ${i} transport opened.`),w.yo())}),b(d,s_.EventType.CLOSE,()=>{p||(p=!0,Oe(go,`RPC '${e}' stream ${i} transport closed`),w.So())}),b(d,s_.EventType.ERROR,E=>{p||(p=!0,ia(go,`RPC '${e}' stream ${i} transport errored:`,E),w.So(new Le(ye.UNAVAILABLE,"The operation could not be completed")))}),b(d,s_.EventType.MESSAGE,E=>{var T;if(!p){const R=E.data[0];it(!!R);const F=R.error||(null===(T=R[0])||void 0===T?void 0:T.error);if(F){Oe(go,`RPC '${e}' stream ${i} received error:`,F);const Q=F.status;let ne=function(S){const O=di[S];if(void 0!==O)return C7(O)}(Q),B=F.message;void 0===ne&&(ne=ye.INTERNAL,B="Unknown error status: "+Q+" with message "+F.message),p=!0,w.So(new Le(ne,B)),d.close()}else Oe(go,`RPC '${e}' stream ${i} received:`,R),w.bo(R)}}),b(a,c8.STAT_EVENT,E=>{E.stat===GC.PROXY?Oe(go,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===GC.NOPROXY&&Oe(go,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function fw(){return typeof document<"u"?document:null}function O_(t){return new Khe(t,!0)}class zS{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class FU{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new zS(e,n)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,ee.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,ee.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){var r=this;return(0,ee.A)(function*(){r.u_(),r.c_(),r.t_.cancel(),r.Yo++,4!==e?r.t_.reset():n&&n.code===ye.RESOURCE_EXHAUSTED?(Jr(n.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),r.t_.Wo()):n&&n.code===ye.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.l_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.mo(n)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Le(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>1==++this.e_?this.E_(i):this.onNext(i))})}i_(){var e=this;this.state=5,this.t_.Go((0,ee.A)(function*(){e.state=0,e.start()}))}I_(e){return Oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jfe extends FU{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=function Zhe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Xe(),i=e.targetChange.targetIds||[],o=function(l,c){return l.useProto3Json?(it(void 0===c||"string"==typeof c),Ur.fromBase64String(c||"")):(it(void 0===c||c instanceof Buffer||c instanceof Uint8Array),Ur.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const c=void 0===l.code?ye.UNKNOWN:C7(l.code);return new Le(c,l.message||"")}(s);n=new P7(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=du(t,r.document.name),o=Xr(r.document.updateTime),s=r.document.createTime?Xr(r.document.createTime):gt.min(),a=new Qi({mapValue:{fields:r.document.fields}}),u=gr.newFoundDocument(i,o,s,a);n=new Z1(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=du(t,r.document),o=r.readTime?Xr(r.readTime):gt.min(),s=gr.newNoDocument(i,o);n=new Z1([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=du(t,r.document);n=new Z1([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Xe();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new zhe(i,o);n=new N7(r.targetId,s)}}var l;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return gt.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?gt.min():s.readTime?Xr(s.readTime):gt.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=yS(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=q1(u)?{documents:z7(o,u)}:{query:J1(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=O7(o,s.resumeToken);const l=gS(o,s.expectedCount);null!==l&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(gt.min())>0){a.readTime=hp(o,s.snapshotVersion.toTimestamp());const l=gS(o,s.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function Xhe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=yS(this.serializer),n.removeTarget=e,this.a_(n)}}class zfe extends FU{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return it(!!e.streamToken),this.lastStreamToken=e.streamToken,it(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){it(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=function Jhe(t,e){return t&&t.length>0?(it(void 0!==e),t.map(n=>function(i,o){let s=Xr(i.updateTime?i.updateTime:o);return s.isEqual(gt.min())&&(s=Xr(o)),new Uhe(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Xr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=yS(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function S_(t,e){let n;if(e instanceof cp)n={update:B7(t,e.key,e.value)};else if(e instanceof dp)n={delete:C_(t,e.key)};else if(e instanceof _l)n={update:B7(t,e.key,e.data),updateMask:rfe(e.fieldMask)};else{if(!(e instanceof cS))return Xe();n={verify:C_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof up)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof lp)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Xe()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Qhe(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Xe()),n;var o}(this.serializer,r))};this.a_(n)}}class $fe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Le(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,_S(n,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Le(ye.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,_S(n,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Le(ye.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class qfe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Jr(n),this.D_=!1):Oe("OnlineStateTracker",n)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Hfe{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget((0,ee.A)(function*(){var u;bc(s)&&(Oe("RemoteStore","Restarting streams for network reachability change."),yield(u=(0,ee.A)(function*(c){const d=Ke(c);d.L_.add(4),yield wp(d),d.q_.set("Unknown"),d.L_.delete(4),yield L_(d)}),function l(c){return u.apply(this,arguments)})(s))}))}),this.q_=new qfe(r,i)}}function L_(t){return $S.apply(this,arguments)}function $S(){return $S=(0,ee.A)(function*(t){if(bc(t))for(const e of t.B_)yield e(!0)}),$S.apply(this,arguments)}function wp(t){return qS.apply(this,arguments)}function qS(){return qS=(0,ee.A)(function*(t){for(const e of t.B_)yield e(!1)}),qS.apply(this,arguments)}function pw(t,e){const n=Ke(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),WS(n)?GS(n):Ep(n).r_()&&HS(n,e))}function bp(t,e){const n=Ke(t),r=Ep(n);n.N_.delete(e),r.r_()&&VU(n,e),0===n.N_.size&&(r.r_()?r.o_():bc(n)&&n.q_.set("Unknown"))}function HS(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ep(t).A_(e)}function VU(t,e){t.Q_.xe(e),Ep(t).R_(e)}function GS(t){t.Q_=new qhe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ep(t).start(),t.q_.v_()}function WS(t){return bc(t)&&!Ep(t).n_()&&t.N_.size>0}function bc(t){return 0===Ke(t).L_.size}function UU(t){t.Q_=void 0}function Gfe(t){return KS.apply(this,arguments)}function KS(){return KS=(0,ee.A)(function*(t){t.q_.set("Online")}),KS.apply(this,arguments)}function Wfe(t){return QS.apply(this,arguments)}function QS(){return QS=(0,ee.A)(function*(t){t.N_.forEach((e,n)=>{HS(t,e)})}),QS.apply(this,arguments)}function Kfe(t,e){return YS.apply(this,arguments)}function YS(){return YS=(0,ee.A)(function*(t,e){UU(t),WS(t)?(t.q_.M_(e),GS(t)):t.q_.set("Unknown")}),YS.apply(this,arguments)}function Qfe(t,e,n){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,ee.A)(function*(t,e,n){if(t.q_.set("Online"),e instanceof P7&&2===e.state&&e.cause)try{yield(r=(0,ee.A)(function*(o,s){const a=s.cause;for(const u of s.targetIds)o.N_.has(u)&&(yield o.remoteSyncer.rejectListen(u,a),o.N_.delete(u),o.Q_.removeTarget(u))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){Oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield gw(t,r)}else if(e instanceof Z1?t.Q_.Ke(e):e instanceof N7?t.Q_.He(e):t.Q_.We(e),!n.isEqual(gt.min()))try{const r=yield SU(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=o.N_.get(l);c&&o.N_.set(l,c.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{const c=o.N_.get(u);if(!c)return;o.N_.set(u,c.withResumeToken(Ur.EMPTY_BYTE_STRING,c.snapshotVersion)),VU(o,u);const d=new yl(c.target,u,l,c.sequenceNumber);HS(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){Oe("RemoteStore","Failed to raise snapshot:",r),yield gw(t,r)}var r}),ZS.apply(this,arguments)}function gw(t,e,n){return JS.apply(this,arguments)}function JS(){return JS=(0,ee.A)(function*(t,e,n){if(!dc(e))throw e;t.L_.add(1),yield wp(t),t.q_.set("Offline"),n||(n=()=>SU(t.localStore)),t.asyncQueue.enqueueRetryable((0,ee.A)(function*(){Oe("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield L_(t)}))}),JS.apply(this,arguments)}function BU(t,e){return e().catch(n=>gw(t,n,e))}function Ip(t){return XS.apply(this,arguments)}function XS(){return XS=(0,ee.A)(function*(t){const e=Ke(t),n=Ic(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Yfe(e);)try{const i=yield Mfe(e.localStore,r);if(null===i){0===e.O_.length&&n.o_();break}r=i.batchId,Zfe(e,i)}catch(i){yield gw(e,i)}jU(e)&&zU(e)}),XS.apply(this,arguments)}function Yfe(t){return bc(t)&&t.O_.length<10}function Zfe(t,e){t.O_.push(e);const n=Ic(t);n.r_()&&n.V_&&n.m_(e.mutations)}function jU(t){return bc(t)&&!Ic(t).n_()&&t.O_.length>0}function zU(t){Ic(t).start()}function Jfe(t){return eD.apply(this,arguments)}function eD(){return eD=(0,ee.A)(function*(t){Ic(t).p_()}),eD.apply(this,arguments)}function Xfe(t){return tD.apply(this,arguments)}function tD(){return tD=(0,ee.A)(function*(t){const e=Ic(t);for(const n of t.O_)e.m_(n.mutations)}),tD.apply(this,arguments)}function epe(t,e,n){return nD.apply(this,arguments)}function nD(){return nD=(0,ee.A)(function*(t,e,n){const r=t.O_.shift(),i=hS.from(r,e,n);yield BU(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Ip(t)}),nD.apply(this,arguments)}function tpe(t,e){return rD.apply(this,arguments)}function rD(){return rD=(0,ee.A)(function*(t,e){var n;e&&Ic(t).V_&&(yield(n=(0,ee.A)(function*(i,o){if(function T7(t){switch(t){default:return Xe();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}(a=o.code)&&a!==ye.ABORTED){const s=i.O_.shift();Ic(i).s_(),yield BU(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Ip(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),jU(t)&&zU(t)}),rD.apply(this,arguments)}function $U(t,e){return iD.apply(this,arguments)}function iD(){return iD=(0,ee.A)(function*(t,e){const n=Ke(t);n.asyncQueue.verifyOperationInProgress(),Oe("RemoteStore","RemoteStore received new credentials");const r=bc(n);n.L_.add(3),yield wp(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield L_(n)}),iD.apply(this,arguments)}function sD(){return sD=(0,ee.A)(function*(t,e){const n=Ke(t);e?(n.L_.delete(2),yield L_(n)):e||(n.L_.add(2),yield wp(n),n.q_.set("Unknown"))}),sD.apply(this,arguments)}function Ep(t){return t.K_||(t.K_=function(n,r,i){const o=Ke(n);return o.w_(),new jfe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Gfe.bind(null,t),Ro:Wfe.bind(null,t),mo:Kfe.bind(null,t),d_:Qfe.bind(null,t)}),t.B_.push(function(){var e=(0,ee.A)(function*(n){n?(t.K_.s_(),WS(t)?GS(t):t.q_.set("Unknown")):(yield t.K_.stop(),UU(t))});return function(n){return e.apply(this,arguments)}}())),t.K_}function Ic(t){return t.U_||(t.U_=function(n,r,i){const o=Ke(n);return o.w_(),new zfe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Jfe.bind(null,t),mo:tpe.bind(null,t),f_:Xfe.bind(null,t),g_:epe.bind(null,t)}),t.B_.push(function(){var e=(0,ee.A)(function*(n){n?(t.U_.s_(),yield Ip(t)):(yield t.U_.stop(),t.O_.length>0&&(Oe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))});return function(n){return e.apply(this,arguments)}}())),t.U_}class aD{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new aD(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Le(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ap(t,e){if(Jr("AsyncQueue",`${e}: ${t}`),dc(t))return new Le(ye.UNAVAILABLE,`${e}: ${t}`);throw t}class Tp{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ze.comparator(n.key,r.key):(n,r)=>Ze.comparator(n.key,r.key),this.keyedMap=v_(),this.sortedSet=new lr(this.comparator)}static emptySet(e){return new Tp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tp)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Tp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class qU{constructor(){this.W_=new lr(Ze.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?0!==e.type&&3===r.type?this.W_=this.W_.insert(n,e):3===e.type&&1!==r.type?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.W_=this.W_.remove(n):1===e.type&&2===r.type?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Xe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Cp{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Cp(e,n,Tp.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&__(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class npe{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class rpe{constructor(){this.queries=HU(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(n,r){const i=Ke(n),o=i.queries;i.queries=HU(),o.forEach((s,a)=>{for(const u of a.j_)u.onError(r)})}(this,new Le(ye.ABORTED,"Firestore shutting down"))}}function HU(){return new ml(t=>s7(t),__)}function lD(){return lD=(0,ee.A)(function*(t,e){const n=Ke(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new npe,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){const a=Ap(s,`Initialization of query '${ap(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&hD(n)}),lD.apply(this,arguments)}function dD(){return dD=(0,ee.A)(function*(t,e){const n=Ke(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),0===o.j_.length?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}),dD.apply(this,arguments)}function ipe(t,e){const n=Ke(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&hD(n)}function ope(t,e,n){const r=Ke(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function hD(t){t.Y_.forEach(e=>{e.next()})}var fD,GU;(GU=fD||(fD={})).ea="default",GU.Cache="cache";class pD{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Cp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=Cp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==fD.Cache}}class QU{constructor(e){this.key=e}}class YU{constructor(e){this.key=e}}class ZU{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Xt(),this.mutatedKeys=Xt(),this.Aa=u7(e),this.Ra=new Tp(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new qU,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const m=i.get(c),p=y_(this.query,d)?d:null,w=!!m&&this.mutatedKeys.has(m.key),b=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;m&&p?m.data.isEqual(p.data)?w!==b&&(r.track({type:3,doc:p}),E=!0):this.ga(m,p)||(r.track({type:2,doc:p}),E=!0,(u&&this.Aa(p,u)>0||l&&this.Aa(p,l)<0)&&(a=!0)):!m&&p?(r.track({type:0,doc:p}),E=!0):m&&!p&&(r.track({type:1,doc:m}),E=!0,(u||l)&&(a=!0)),E&&(p?(s=s.add(p),o=b?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const c="F"===this.query.limitType?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,d)=>function(p,w){const b=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return b(p)-b(w)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=null!=i&&i;const a=n&&!i?this.ya():[],u=0===this.da.size&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,0!==s.length||l?{snapshot:new Cp(this.query,e.Ra,o,s,e.mutatedKeys,0===u,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new qU,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Xt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new YU(r))}),this.da.forEach(r=>{e.has(r)||n.push(new QU(r))}),n}ba(e){this.Ta=e.Ts,this.da=Xt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Cp.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class upe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lpe{constructor(e){this.key=e,this.va=!1}}class cpe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new ml(a=>s7(a),__),this.Ma=new Map,this.xa=new Set,this.Oa=new lr(Ze.comparator),this.Na=new Map,this.La=new SS,this.Ba={},this.ka=new Map,this.qa=Zd.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function dpe(t,e){return gD.apply(this,arguments)}function gD(){return gD=(0,ee.A)(function*(t,e,n=!0){const r=mw(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield JU(r,e,n,!0),i}),gD.apply(this,arguments)}function hpe(t,e){return mD.apply(this,arguments)}function mD(){return mD=(0,ee.A)(function*(t,e){const n=mw(t);yield JU(n,e,!0,!1)}),mD.apply(this,arguments)}function JU(t,e,n,r){return _D.apply(this,arguments)}function _D(){return _D=(0,ee.A)(function*(t,e,n,r){const i=yield function yp(t,e){const n=Ke(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,le.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new yl(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}(t.localStore,fo(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=yield function yD(t,e,n,r,i){return vD.apply(this,arguments)}(t,e,o,"current"===s,i.resumeToken)),t.isPrimaryClient&&n&&pw(t.remoteStore,i),a}),_D.apply(this,arguments)}function vD(){return vD=(0,ee.A)(function*(t,e,n,r,i){t.Ka=(d,m,p)=>{return(w=(0,ee.A)(function*(E,T,R,V){let F=T.view.ma(R);F.ns&&(F=yield lw(E.localStore,T.query,!1).then(({documents:D})=>T.view.ma(D,F)));const Q=V&&V.targetChanges.get(T.targetId),ne=V&&null!=V.targetMismatches.get(T.targetId),B=T.view.applyChanges(F,E.isPrimaryClient,Q,ne);return ND(E,T.targetId,B.wa),B.snapshot}),function b(E,T,R,V){return w.apply(this,arguments)})(t,d,m,p);var w};const o=yield lw(t.localStore,e,!0),s=new ZU(e,o.Ts),a=s.ma(o.documents),u=T_.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=s.applyChanges(a,t.isPrimaryClient,u);ND(t,n,l.wa);const c=new upe(e,n,s);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot}),vD.apply(this,arguments)}function fpe(t,e,n){return wD.apply(this,arguments)}function wD(){return wD=(0,ee.A)(function*(t,e,n){const r=Ke(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!__(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield vp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&bp(r.remoteStore,i.targetId),Sp(r,i.targetId)}).catch(cc))):(Sp(r,i.targetId),yield vp(r.localStore,i.targetId,!0))}),wD.apply(this,arguments)}function ppe(t,e){return bD.apply(this,arguments)}function bD(){return bD=(0,ee.A)(function*(t,e){const n=Ke(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bp(n.remoteStore,r.targetId))}),bD.apply(this,arguments)}function ID(){return ID=(0,ee.A)(function*(t,e,n){const r=function jD(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_pe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ype.bind(null,e),e}(t);try{const i=yield function(s,a){const u=Ke(s),l=Pr.now(),c=a.reduce((p,w)=>p.add(w.key),Xt());let d,m;return u.persistence.runTransaction("Locally write mutations","readwrite",p=>{let w=os(),b=Xt();return u.cs.getEntries(p,c).next(E=>{w=E,w.forEach((T,R)=>{R.isValidDocument()||(b=b.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(p,w)).next(E=>{d=E;const T=[];for(const R of a){const V=jhe(R,d.get(R.key).overlayedDocument);null!=V&&T.push(new _l(R.key,V,q8(V.value.mapValue),Tr.exists(!0)))}return u.mutationQueue.addMutationBatch(p,l,T,a)}).next(E=>{m=E;const T=E.applyToLocalDocumentSet(d,b);return u.documentOverlayCache.saveOverlays(p,E.batchId,T)})}).then(()=>({batchId:m.batchId,changes:c7(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new lr(jt)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield vl(r,i.changes),yield Ip(r.remoteStore)}catch(i){const o=Ap(i,"Failed to persist write");n.reject(o)}}),ID.apply(this,arguments)}function XU(t,e){return ED.apply(this,arguments)}function ED(){return ED=(0,ee.A)(function*(t,e){const n=Ke(t);try{const r=yield function kfe(t,e){const n=Ke(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,d)=>{const m=i.get(d);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,d)));let p=m.withSequenceNumber(o.currentSequenceNumber);var b,E,T;null!==e.targetMismatches.get(d)?p=p.withResumeToken(Ur.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),E=p,T=c,(0===(b=m).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0)&&a.push(n.Ur.updateTargetData(o,p))});let u=os(),l=Xt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(function DU(t,e,n){let r=Xt(),i=Xt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=os();return n.forEach((a,u)=>{const l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(gt.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||0===u.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):Oe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}(o,s,e.documentUpdates).next(c=>{u=c.Ps,l=c.Is})),!r.isEqual(gt.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(d=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return le.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(it(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?it(s.va):i.removedDocuments.size>0&&(it(s.va),s.va=!1))}),yield vl(n,r,e)}catch(r){yield cc(r)}}),ED.apply(this,arguments)}function eB(t,e,n){const r=Ke(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=Ke(s);u.onlineState=a;let l=!1;u.queries.forEach((c,d)=>{for(const m of d.j_)m.Z_(a)&&(l=!0)}),l&&hD(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function mpe(t,e,n){return AD.apply(this,arguments)}function AD(){return AD=(0,ee.A)(function*(t,e,n){const r=Ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new lr(Ze.comparator);s=s.insert(o,gr.newNoDocument(o,gt.min()));const a=Xt().add(o),u=new A_(gt.min(),new Map,new lr(jt),s,a);yield XU(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),PD(r)}else yield vp(r.localStore,e,!1).then(()=>Sp(r,e,n)).catch(cc)}),AD.apply(this,arguments)}function _pe(t,e){return TD.apply(this,arguments)}function TD(){return TD=(0,ee.A)(function*(t,e){const n=Ke(t),r=e.batch.batchId;try{const i=yield function Rfe(t,e){const n=Ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const d=l.batch,m=d.keys();let p=le.resolve();return m.forEach(w=>{p=p.next(()=>c.getEntry(u,w)).next(b=>{const E=l.docVersions.get(w);it(null!==E),b.version.compareTo(E)<0&&(d.applyToRemoteDocument(b,l),b.isValidDocument()&&(b.setReadTime(l.commitVersion),c.addEntry(b)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Xt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);xD(n,r,null),DD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield vl(n,i)}catch(i){yield cc(i)}}),TD.apply(this,arguments)}function ype(t,e,n){return CD.apply(this,arguments)}function CD(){return CD=(0,ee.A)(function*(t,e,n){const r=Ke(t);try{const i=yield function(s,a){const u=Ke(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(d=>(it(null!==d),c=d.keys(),u.mutationQueue.removeMutationBatch(l,d))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,e);xD(r,e,n),DD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield vl(r,i)}catch(i){yield cc(i)}}),CD.apply(this,arguments)}function DD(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function xD(t,e,n){const r=Ke(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Sp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||tB(t,r)})}function tB(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);null!==n&&(bp(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),PD(t))}function ND(t,e,n){for(const r of n)r instanceof QU?(t.La.addReference(r.key,e),wpe(t,r)):r instanceof YU?(Oe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||tB(t,r.key)):Xe()}function wpe(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Oe("SyncEngine","New document in limbo: "+n),t.xa.add(r),PD(t))}function PD(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ze(fn.fromString(e)),r=t.qa.next();t.Na.set(r,new lpe(n)),t.Oa=t.Oa.insert(n,r),pw(t.remoteStore,new yl(fo(op(n.path)),r,"TargetPurposeLimboResolution",Ss.oe))}}function vl(t,e,n){return RD.apply(this,arguments)}function RD(){return RD=(0,ee.A)(function*(t,e,n){const r=Ke(t),i=[],o=[],s=[];var a;r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var c;if((l||n)&&r.isPrimaryClient){const d=l?!l.fromCache:null===(c=n?.targetChanges.get(u.targetId))||void 0===c?void 0:c.current;r.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(l){i.push(l);const d=RS.Wi(u.targetId,l);o.push(d)}}))}),yield Promise.all(s),r.Ca.d_(i),yield(a=(0,ee.A)(function*(l,c){const d=Ke(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>le.forEach(c,p=>le.forEach(p.$i,w=>d.persistence.referenceDelegate.addReference(m,p.targetId,w)).next(()=>le.forEach(p.Ui,w=>d.persistence.referenceDelegate.removeReference(m,p.targetId,w)))))}catch(m){if(!dc(m))throw m;Oe("LocalStore","Failed to update sequence numbers: "+m)}for(const m of c){const p=m.targetId;if(!m.fromCache){const w=d.os.get(p),E=w.withLastLimboFreeSnapshotVersion(w.snapshotVersion);d.os=d.os.insert(p,E)}}}),function u(l,c){return a.apply(this,arguments)})(r.localStore,o))}),RD.apply(this,arguments)}function bpe(t,e){return kD.apply(this,arguments)}function kD(){return kD=(0,ee.A)(function*(t,e){const n=Ke(t);if(!n.currentUser.isEqual(e)){Oe("SyncEngine","User change. New user:",e.toKey());const r=yield CU(n.localStore,e);n.currentUser=e,(o=n).ka.forEach(a=>{a.forEach(u=>{u.reject(new Le(ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ka.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield vl(n,r.hs)}var o}),kD.apply(this,arguments)}function Ipe(t,e){const n=Ke(t),r=n.Na.get(e);if(r&&r.va)return Xt().add(r.key);{let i=Xt();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function mw(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ipe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mpe.bind(null,e),e.Ca.d_=ipe.bind(null,e.eventManager),e.Ca.$a=ope.bind(null,e.eventManager),e}let Dp=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){var r=this;return(0,ee.A)(function*(){r.serializer=O_(n.databaseInfo.databaseId),r.sharedClientState=r.Wa(n),r.persistence=r.Ga(n),yield r.persistence.start(),r.localStore=r.za(n),r.gcScheduler=r.ja(n,r.localStore),r.indexBackfillerScheduler=r.Ha(n,r.localStore)})()}ja(n,r){return null}Ha(n,r){return null}za(n){return function TU(t,e,n,r){return new Pfe(t,e,n,r)}(this.persistence,new AU,n.initialUser,this.serializer)}Ga(n){return new DS(sw.Zr,this.serializer)}Wa(n){return new MU}terminate(){var n=this;return(0,ee.A)(function*(){var r,i;null===(r=n.gcScheduler)||void 0===r||r.stop(),null===(i=n.indexBackfillerScheduler)||void 0===i||i.stop(),n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}return t.provider={build:()=>new t},t})(),xp=(()=>{class t{initialize(n,r){var i=this;return(0,ee.A)(function*(){i.localStore||(i.localStore=n.localStore,i.sharedClientState=n.sharedClientState,i.datastore=i.createDatastore(r),i.remoteStore=i.createRemoteStore(r),i.eventManager=i.createEventManager(r),i.syncEngine=i.createSyncEngine(r,!n.synchronizeTabs),i.sharedClientState.onlineStateHandler=o=>eB(i.syncEngine,o,1),i.remoteStore.remoteSyncer.handleCredentialChange=bpe.bind(null,i.syncEngine),yield function oD(t,e){return sD.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(n){return new rpe}createDatastore(n){const r=O_(n.databaseInfo.databaseId),i=new Bfe(n.databaseInfo);return new $fe(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return i=this.localStore,o=this.datastore,s=n.asyncQueue,a=r=>eB(this.syncEngine,r,0),u=OU.D()?new OU:new Ffe,new Hfe(i,o,s,a,u);var i,o,s,a,u}createSyncEngine(n,r){return function(o,s,a,u,l,c,d){const m=new cpe(o,s,a,u,l,c);return d&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){var n=this;return(0,ee.A)(function*(){var r,i,o;yield(o=(0,ee.A)(function*(a){const u=Ke(a);Oe("RemoteStore","RemoteStore shutting down."),u.L_.add(5),yield wp(u),u.k_.shutdown(),u.q_.set("Unknown")}),function s(a){return o.apply(this,arguments)})(n.remoteStore),null===(r=n.datastore)||void 0===r||r.terminate(),null===(i=n.eventManager)||void 0===i||i.terminate()})()}}return t.provider={build:()=>new t},t})();class _w{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Jr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}class Ope{constructor(e,n,r,i,o){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ri.UNAUTHENTICATED,this.clientId=m8.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,function(){var a=(0,ee.A)(function*(u){Oe("FirestoreClient","Received user=",u.uid),yield s.authCredentialListener(u),s.user=u});return function(u){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>(Oe("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ee.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Ap(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function $D(t,e){return qD.apply(this,arguments)}function qD(){return qD=(0,ee.A)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),Oe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,ee.A)(function*(o){r.isEqual(o)||(yield CU(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),qD.apply(this,arguments)}function sB(t,e){return HD.apply(this,arguments)}function HD(){return HD=(0,ee.A)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function GD(t){return WD.apply(this,arguments)}(t);Oe("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>$U(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>$U(e.remoteStore,i)),t._onlineComponents=e}),HD.apply(this,arguments)}function WD(){return WD=(0,ee.A)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Oe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield $D(t,t._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(i=e).name?i.code===ye.FAILED_PRECONDITION||i.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw e;ia("Error using user provided cache. Falling back to memory cache: "+e),yield $D(t,new Dp)}}else Oe("FirestoreClient","Using default OfflineComponentProvider"),yield $D(t,new Dp);var i;return t._offlineComponents}),WD.apply(this,arguments)}function yw(t){return KD.apply(this,arguments)}function KD(){return KD=(0,ee.A)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Oe("FirestoreClient","Using user provided OnlineComponentProvider"),yield sB(t,t._uninitializedComponentsProvider._online)):(Oe("FirestoreClient","Using default OnlineComponentProvider"),yield sB(t,new xp))),t._onlineComponents}),KD.apply(this,arguments)}function Pp(t){return YD.apply(this,arguments)}function YD(){return YD=(0,ee.A)(function*(t){const e=yield yw(t),n=e.eventManager;return n.onListen=dpe.bind(null,e.syncEngine),n.onUnlisten=fpe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hpe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ppe.bind(null,e.syncEngine),n}),YD.apply(this,arguments)}function hB(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const fB=new Map;function ZD(t,e,n){if(!n)throw new Le(ye.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pB(t){if(!Ze.isDocumentKey(t))throw new Le(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gB(t){if(Ze.isDocumentKey(t))throw new Le(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vw(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Xe()}function ln(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Le(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vw(t);throw new Le(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class _B{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Le(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Le(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Wpe(t,e,n,r){if(!0===e&&!0===r)throw new Le(ye.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=hB(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Le(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Le(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Le(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class F_{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _B({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Le(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _B(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Bde;switch(r.type){case"firstParty":return new qde(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Le(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,ee.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=fB.get(n);r&&(Oe("ComponentProvider","Removing Datastore"),fB.delete(n),r.terminate())}(this),Promise.resolve()}}class Yi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yi(this.firestore,e,this._query)}}class ei{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ei(this.firestore,e,this._key)}}class hu extends Yi{constructor(e,n,r){super(e,n,op(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ei(this.firestore,null,new Ze(e))}withConverter(e){return new hu(this.firestore,e,this._path)}}function Qpe(t,e,...n){if(t=Wi(t),ZD("collection","path",e),t instanceof F_){const r=fn.fromString(e,...n);return gB(r),new hu(t,null,r)}{if(!(t instanceof ei||t instanceof hu))throw new Le(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fn.fromString(e,...n));return gB(r),new hu(t.firestore,null,r)}}function yB(t,e,...n){if(t=Wi(t),1===arguments.length&&(e=m8.newId()),ZD("doc","path",e),t instanceof F_){const r=fn.fromString(e,...n);return pB(r),new ei(t,null,new Ze(r))}{if(!(t instanceof ei||t instanceof hu))throw new Le(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fn.fromString(e,...n));return pB(r),new ei(t.firestore,t instanceof hu?t.converter:null,new Ze(r))}}class wB{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new zS(this,"async_queue_retry"),this.Vu=()=>{const r=fw();r&&Oe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=fw();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=fw();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ki;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,ee.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(n){if(!dc(n))throw n;Oe("AsyncQueue","Operation failed with retryable error: "+n)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{throw this.Eu=r,this.du=!1,Jr("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=aD.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Xe()}verifyOperationInProgress(){}wu(){var e=this;return(0,ee.A)(function*(){let n;do{n=e.mu,yield n}while(n!==e.mu)})()}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function JD(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class er extends F_{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new wB,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,ee.A)(function*(){if(e._firestoreClient){const n=e._firestoreClient.terminate();e._queue=new wB(n),e._firestoreClient=void 0,yield n}})()}}function Zpe(t,e){const r="string"==typeof t?t:e||"(default)",i=function k6(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}("object"==typeof t?t:L6(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=h1())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");o&&function Kpe(t,e,n,r={}){var i;const o=(t=ln(t,F_))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Ri.MOCK_USER;else{a=function uae(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[c1(JSON.stringify({alg:"none",type:"JWT"})),c1(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Le(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ri(l)}t._authCredentials=new jde(new p8(a,u))}}(i,...o)}return i}function Rr(t){if(t._terminated)throw new Le(ye.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||function bB(t){var e,n,r;const i=t._freezeSettings(),o=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new whe(t._databaseId,u,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,hB(c.experimentalLongPollingOptions),c.useFetchStreams));var u,c;t._componentsProvider||!(null===(n=i.localCache)||void 0===n)&&n._offlineComponentProvider&&!(null===(r=i.localCache)||void 0===r)&&r._onlineComponentProvider&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Ope(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}(t),t._firestoreClient}class Xd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xd(Ur.fromBase64String(e))}catch(n){throw new Le(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xd(Ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class eh{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Le(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rp{constructor(e){this._methodName=e}}class ex{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Le(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Le(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}class ww{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}const Xpe=/^__.*__$/;class ege{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new _l(e,this.data,this.fieldMask,n,this.fieldTransforms):new cp(e,this.data,n,this.fieldTransforms)}}class EB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _l(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class bw{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new bw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Aw(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(AB(this.Cu)&&Xpe.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class tge{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||O_(e)}Qu(e,n,r,i=!1){return new bw({Cu:e,methodName:n,qu:r,path:Er.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function th(t){const e=t._freezeSettings(),n=O_(t._databaseId);return new tge(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Iw(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);ax("Data must be an object, but it was:",s,r);const a=SB(r,s);let u,l;if(o.merge)u=new is(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const m=B_(e,d,n);if(!s.contains(m))throw new Le(ye.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);xB(c,m)||c.push(m)}u=new is(c),l=s.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=s.fieldTransforms;return new ege(new Qi(a),u,l)}class U_ extends Rp{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof U_}}function nh(t,e){if(DB(t=Wi(t)))return ax("Unsupported field value:",e,t),SB(t,e);if(t instanceof Rp)return function(r,i){if(!AB(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=nh(a,i.Lu(s));null==u&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=Wi(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return f7(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=Pr.fromDate(r);return{timestampValue:hp(i.serializer,o)}}if(r instanceof Pr){const o=new Pr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hp(i.serializer,o)}}if(r instanceof ex)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xd)return{bytesValue:O7(i.serializer,r._byteString)};if(r instanceof ei){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:mS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ww)return a=i,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:r.toArray().map(u=>{if("number"!=typeof u)throw a.Bu("VectorValues must only contain numeric values.");return lS(a.serializer,u)})}}}}};var a;throw i.Bu(`Unsupported field value: ${vw(r)}`)}(t,e)}function SB(t,e){const n={};return k8(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hc(t,(r,i)=>{const o=nh(i,e.Mu(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function DB(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Pr||t instanceof ex||t instanceof Xd||t instanceof ei||t instanceof Rp||t instanceof ww)}function ax(t,e,n){if(!DB(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=vw(n);throw e.Bu("an object"===r?t+" a custom object":t+" "+r)}var i}function B_(t,e,n){if((e=Wi(e))instanceof eh)return e._internalPath;if("string"==typeof e)return Ew(t,e);throw Aw("Field path arguments must be of type string or ",t,!1,void 0,n)}const nge=new RegExp("[~\\*/\\[\\]]");function Ew(t,e,n){if(e.search(nge)>=0)throw Aw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new eh(...e.split("."))._internalPath}catch{throw Aw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Aw(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new Le(ye.INVALID_ARGUMENT,a+t+u)}function xB(t,e){return t.some(n=>n.isEqual(e))}class j_{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ei(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new rge(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Tw("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class rge extends j_{data(){return super.data()}}function Tw(t,e){return"string"==typeof e?Ew(t,e):e instanceof eh?e._internalPath:e._delegate._internalPath}class ux{}class z_ extends ux{}function ige(t,e,...n){let r=[];e instanceof ux&&r.push(e),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof kp).length,a=o.filter(u=>u instanceof $_).length;if(s>1||s>0&&a>0)throw new Le(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class $_ extends z_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $_(e,n,r)}_apply(e){const n=this._parse(e);return MB(e._query,n),new Yi(e.firestore,e.converter,aS(e._query,n))}_parse(e){const n=th(e.firestore);return function(o,s,a,u,l,c,d){let m;if(l.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new Le(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){kB(d,c);const p=[];for(const w of d)p.push(RB(u,o,w));m={arrayValue:{values:p}}}else m=RB(u,o,d)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||kB(d,c),m=function CB(t,e,n,r=!1){return nh(n,t.Qu(r?4:3,e))}(a,"where",d,"in"===c||"not-in"===c);return pn.create(l,c,m)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class kp extends ux{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Bn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const u of a)MB(s,u),s=aS(s,u)}(e._query,n),new Yi(e.firestore,e.converter,aS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class lx extends z_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lx(e,n)}_apply(e){const n=function(i,o,s){if(null!==i.startAt)throw new Le(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Le(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new g_(o,s)}(e._query,this._field,this._direction);return new Yi(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new gl(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function oge(t,e="asc"){const n=e,r=Tw("orderBy",t);return lx._create(r,n)}function RB(t,e,n){if("string"==typeof(n=Wi(n))){if(""===n)throw new Le(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sS(e)&&-1!==n.indexOf("/"))throw new Le(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(fn.fromString(n));if(!Ze.isDocumentKey(r))throw new Le(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zd(t,new Ze(r))}if(n instanceof ei)return zd(t,n._key);throw new Le(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vw(n)}.`)}function kB(t,e){if(!Array.isArray(t)||0===t.length)throw new Le(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MB(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Le(ye.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class LB{convertValue(e,n="none"){switch(pc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ar(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return hc(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=null===(i=null===(r=null===(n=e.fields)||void 0===n?void 0:n.value.arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.map(s=>Ar(s.doubleValue));return new ww(o)}convertGeoPoint(e){return new ex(Ar(e.latitude),Ar(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=U1(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(d_(e));default:return null}}convertTimestamp(e){const n=fl(e);return new Pr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=fn.fromString(e);it(W7(r));const i=new jd(r.get(1),r.get(3)),o=new Ze(r.popFirst(5));return i.isEqual(n)||Jr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class rh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mp extends j_{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Tw("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Nw extends Mp{data(e={}){return super.data(e)}}class Op{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new rh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Nw(this._firestore,this._userDataWriter,r.key,r,new rh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Le(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Nw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new rh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const u=new Nw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new rh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return 0!==a.type&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:uge(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function uge(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}class Ec extends LB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xd(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ei(this.firestore,null,n)}}function lge(t,e,n,...r){t=ln(t,ei);const i=ln(t.firestore,er),o=th(i);let s;return s="string"==typeof(e=Wi(e))||e instanceof eh?function sx(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[B_(e,r,n)],u=[i];if(o.length%2!=0)throw new Le(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(B_(e,o[m])),u.push(o[m+1]);const l=[],c=Qi.empty();for(let m=a.length-1;m>=0;--m)if(!xB(l,a[m])){const p=a[m];let w=u[m];w=Wi(w);const b=s.Nu(p);if(w instanceof U_)l.push(p);else{const E=nh(w,b);null!=E&&(l.push(p),c.set(p,E))}}const d=new is(l);return new EB(c,d,s.fieldTransforms)}(o,"updateDoc",t._key,e,n,r):function ox(t,e,n,r){const i=t.Qu(1,e,n);ax("Data must be an object, but it was:",i,r);const o=[],s=Qi.empty();hc(r,(u,l)=>{const c=Ew(e,u,n);l=Wi(l);const d=i.Nu(c);if(l instanceof U_)o.push(c);else{const m=nh(l,d);null!=m&&(o.push(c),s.set(c,m))}});const a=new is(o);return new EB(s,a,i.fieldTransforms)}(o,"updateDoc",t._key,e),q_(i,[s.toMutation(t._key,Tr.exists(!0))])}function cge(t){return q_(ln(t.firestore,er),[new dp(t._key,Tr.none())])}function dge(t,e){const n=ln(t.firestore,er),r=yB(t),i=function xw(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return q_(n,[Iw(th(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Tr.exists(!1))]).then(()=>r)}function q_(t,e){return function(r,i){const o=new ki;return r.asyncQueue.enqueueAndForget((0,ee.A)(function*(){return function gpe(t,e,n){return ID.apply(this,arguments)}(yield function QD(t){return yw(t).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(Rr(t),e)}!function(e,n=!0){Zf=m1,qf(new Nd("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new er(new zde(r.getProvider("auth-internal")),new Hde(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Le(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jd(l.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ts(f8,"4.7.3",e),Ts(f8,"4.7.3","esm2017")}();var Rw=function(){return Rw=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},Rw.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Tge={includeMetadataChanges:!1};function fx(t,e){return void 0===e&&(e=Tge),new Jn(function(n){var r=function hge(t,...e){var n,r,i;t=Wi(t);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof e[s]||JD(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(JD(e[s])){const d=e[s];e[s]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[s+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[s+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,l,c;if(t instanceof ei)l=ln(t.firestore,er),c=op(t._key.path),u={next:d=>{e[s]&&e[s](function cx(t,e,n){const r=n.docs.get(e._key),i=new Ec(t);return new Mp(t,i,e._key,r,new rh(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,d))},error:e[s+1],complete:e[s+2]};else{const d=ln(t,Yi);l=ln(d.firestore,er),c=d._query;const m=new Ec(l);u={next:p=>{e[s]&&e[s](new Op(l,m,d,p))},error:e[s+1],complete:e[s+2]},function NB(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Le(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(m,p,w,b){const E=new _w(b),T=new pD(p,E,w);return m.asyncQueue.enqueueAndForget((0,ee.A)(function*(){return function uD(t,e){return lD.apply(this,arguments)}(yield Pp(m),T)})),()=>{E.Za(),m.asyncQueue.enqueueAndForget((0,ee.A)(function*(){return function cD(t,e){return dD.apply(this,arguments)}(yield Pp(m),T)}))}}(Rr(l),c,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Rge(t,e){return void 0===e&&(e={}),function Pge(t){return fx(t,{includeMetadataChanges:!0}).pipe(dn(function(e){return e.docs}))}(t).pipe(dn(function(n){return n.map(function(r){return function BB(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?Rw(Rw({},r),((n={})[e.idField]=t.id,n)):r}(r,e)})}))}class H_{constructor(e){return e}}const qB="firestore",mx=new tt("angularfire2.firestore-instances");function Lge(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new H_(r)}}const Fge={provide:class Mge{constructor(){return kT(qB)}},deps:[[new Ks,mx]]},Vge={provide:H_,useFactory:function Oge(t,e){const n=function G6(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(qB,t,e);return n&&new H_(n)},deps:[[new Ks,mx],Gm]};let Uge=(()=>{class t{constructor(){Ts("angularfire",RT.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ko({type:t});static \u0275inj=Co({providers:[Vge,Fge]})}return t})();function Bge(t,...e){return{ngModule:Uge,providers:[{provide:mx,useFactory:Lge(t),multi:!0,deps:[kn,uo,K6,Q6,[new Ks,i8],[new Ks,jue],...e]}]}}const HB=ou(Rge,!0),kw=ou(dge,!0),Lp=ou(Qpe,!0),GB=ou(cge,!0),Mw=ou(yB,!0),jge=ou(Zpe,!0),WB=ou(oge,!0),KB=ou(ige,!0),QB=ou(lge,!0);function YB(t,e){const n="object"==typeof e;return new Promise((r,i)=>{const o=new Mh({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new bm)}});t.subscribe(o)})}let ZB=(()=>{class t{constructor(n){this.firestore=n,this.collectionName="giocatori"}getGiocatoriObservable(){const n=Lp(this.firestore,this.collectionName),r=KB(n,WB("numeroMaglia","asc"));return HB(r,{idField:"id"})}getGiocatori(){var n=this;return(0,ee.A)(function*(){return yield YB(n.getGiocatoriObservable())})()}addGiocatore(n){var r=this;return(0,ee.A)(function*(){const i=Lp(r.firestore,r.collectionName),o=r.normalizeGiocatore(n);yield kw(i,o)})()}updateGiocatore(n,r){var i=this;return(0,ee.A)(function*(){const o=Mw(i.firestore,i.collectionName,n),s=i.normalizeGiocatore(r);yield QB(o,s)})()}deleteGiocatore(n){var r=this;return(0,ee.A)(function*(){const i=Mw(r.firestore,r.collectionName,n);yield GB(i)})()}addMultipleGiocatori(n){var r=this;return(0,ee.A)(function*(){const i=Lp(r.firestore,r.collectionName);for(const o of n){const s=r.normalizeGiocatore(o);yield kw(i,s)}})()}migrateFromLocalStorage(){var n=this;return(0,ee.A)(function*(){const r=localStorage.getItem("giocatori");if(r){const i=JSON.parse(r);yield n.addMultipleGiocatori(i),console.log(`Migrati ${i.length} giocatori da localStorage a Firestore`)}})()}normalizeGiocatore(n){return{...n,nome:n.nome?n.nome.toLowerCase():"",cognome:n.cognome?n.cognome.toLowerCase():""}}static{this.\u0275fac=function(r){return new(r||t)(It(H_))}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function jn(t){return jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jn(t)}var zn=Uint8Array,Lo=Uint16Array,G_=Int32Array,Fp=new zn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Vp=new zn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),W_=new zn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),XB=function(t,e){for(var n=new Lo(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];var i=new G_(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},ej=XB(Fp,2),Ow=ej.r;ej.b[28]=258,Ow[258]=28;for(var yx=XB(Vp,0).r,K_=new Lo(32768),mr=0;mr<32768;++mr){var Tc=(43690&mr)>>1|(21845&mr)<<1;K_[mr]=((65280&(Tc=(61680&(Tc=(52428&Tc)>>2|(13107&Tc)<<2))>>4|(3855&Tc)<<4))>>8|(255&Tc)<<8)>>1}var fu=function(t,e,n){for(var r=t.length,i=0,o=new Lo(e);i<r;++i)t[i]&&++o[t[i]-1];var a,s=new Lo(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;if(n){a=new Lo(1<<e);var u=15-e;for(i=0;i<r;++i)if(t[i])for(var l=i<<4|t[i],c=e-t[i],d=s[t[i]-1]++<<c,m=d|(1<<c)-1;d<=m;++d)a[K_[d]>>u]=l}else for(a=new Lo(r),i=0;i<r;++i)t[i]&&(a[i]=K_[s[t[i]-1]++]>>15-t[i]);return a},Cc=new zn(288);for(mr=0;mr<144;++mr)Cc[mr]=8;for(mr=144;mr<256;++mr)Cc[mr]=9;for(mr=256;mr<280;++mr)Cc[mr]=7;for(mr=280;mr<288;++mr)Cc[mr]=8;var Q_=new zn(32);for(mr=0;mr<32;++mr)Q_[mr]=5;var rj=fu(Cc,9,0),oj=fu(Q_,5,0),Y_=function(t){return(t+7)/8|0},pu=function(t,e,n){var r=e/8|0;t[r]|=n<<=7&e,t[r+1]|=n>>8},Up=function(t,e,n){var r=e/8|0;t[r]|=n<<=7&e,t[r+1]|=n>>8,t[r+2]|=n>>16},Uw=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,o=n.slice();if(!i)return{t:Ix,l:0};if(1==i){var s=new zn(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(Q,ne){return Q.f-ne.f}),n.push({s:-1,f:25001});var a=n[0],u=n[1],l=0,c=1,d=2;for(n[0]={s:-1,f:a.f+u.f,l:a,r:u};c!=i-1;)a=n[n[l].f<n[d].f?l++:d++],u=n[l!=c&&n[l].f<n[d].f?l++:d++],n[c++]={s:-1,f:a.f+u.f,l:a,r:u};var m=o[0].s;for(r=1;r<i;++r)o[r].s>m&&(m=o[r].s);var p=new Lo(m+1),w=Bw(n[c-1],p,0);if(w>e){r=0;var b=0,E=w-e,T=1<<E;for(o.sort(function(ne,B){return p[B.s]-p[ne.s]||ne.f-B.f});r<i;++r){var R=o[r].s;if(!(p[R]>e))break;b+=T-(1<<w-p[R]),p[R]=e}for(b>>=E;b>0;){var V=o[r].s;p[V]<e?b-=1<<e-p[V]++-1:++r}for(;r>=0&&b;--r){var F=o[r].s;p[F]==e&&(--p[F],++b)}w=e}return{t:new zn(p),l:w}},Bw=function(t,e,n){return-1==t.s?Math.max(Bw(t.l,e,n+1),Bw(t.r,e,n+1)):e[t.s]=n},vx=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Lo(++e),r=0,i=t[0],o=1,s=function(u){n[r++]=u},a=1;a<=e;++a)if(t[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=t[a]}return{c:n.subarray(0,r),n:e}},Bp=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},wx=function(t,e,n){var r=n.length,i=Y_(e+2);t[i]=255&r,t[i+1]=r>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var o=0;o<r;++o)t[i+o+4]=n[o];return 8*(i+4+r)},bx=function(t,e,n,r,i,o,s,a,u,l,c){pu(e,c++,n),++i[256];for(var d=Uw(i,15),m=d.t,p=d.l,w=Uw(o,15),b=w.t,E=w.l,T=vx(m),R=T.c,V=T.n,F=vx(b),Q=F.c,ne=F.n,B=new Lo(19),D=0;D<R.length;++D)++B[31&R[D]];for(D=0;D<Q.length;++D)++B[31&Q[D]];for(var S=Uw(B,7),O=S.t,A=S.l,x=19;x>4&&!O[W_[x-1]];--x);var be,we,ce,Ie,N=l+5<<3,Z=Bp(i,Cc)+Bp(o,Q_)+s,fe=Bp(i,m)+Bp(o,b)+s+14+3*x+Bp(B,O)+2*B[16]+3*B[17]+7*B[18];if(u>=0&&N<=Z&&N<=fe)return wx(e,c,t.subarray(u,u+l));if(pu(e,c,1+(fe<Z)),c+=2,fe<Z){be=fu(m,p,0),we=m,ce=fu(b,E,0),Ie=b;var je=fu(O,A,0);for(pu(e,c,V-257),pu(e,c+5,ne-1),pu(e,c+10,x-4),c+=14,D=0;D<x;++D)pu(e,c+3*D,O[W_[D]]);c+=3*x;for(var Pe=[R,Q],L=0;L<2;++L){var q=Pe[L];for(D=0;D<q.length;++D)pu(e,c,je[Y=31&q[D]]),c+=O[Y],Y>15&&(pu(e,c,q[D]>>5&127),c+=q[D]>>12)}}else be=rj,we=Cc,ce=oj,Ie=Q_;for(D=0;D<a;++D){var X=r[D];if(X>255){var Y;Up(e,c,be[257+(Y=X>>18&31)]),c+=we[Y+257],Y>7&&(pu(e,c,X>>23&31),c+=Fp[Y]);var ie=31&X;Up(e,c,ce[ie]),c+=Ie[ie],ie>3&&(Up(e,c,X>>5&8191),c+=Vp[ie])}else Up(e,c,be[X]),c+=we[X]}return Up(e,c,be[256]),c+we[256]},uj=new G_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ix=new zn(0),lj=function(t,e,n,r,i,o){var s=o.z||t.length,a=new zn(r+s+5*(1+Math.ceil(s/7e3))+i),u=a.subarray(r,a.length-i),l=o.l,c=7&(o.r||0);if(e){c&&(u[0]=o.r>>3);for(var d=uj[e-1],m=d>>13,p=8191&d,w=(1<<n)-1,b=o.p||new Lo(32768),E=o.h||new Lo(w+1),T=Math.ceil(n/3),R=2*T,V=function(Ee){return(t[Ee]^t[Ee+1]<<T^t[Ee+2]<<R)&w},F=new G_(25e3),Q=new Lo(288),ne=new Lo(32),B=0,D=0,S=o.i||0,O=0,A=o.w||0,x=0;S+2<s;++S){var N=V(S),Z=32767&S,fe=E[N];if(b[Z]=fe,E[N]=Z,A<=S){var be=s-S;if((B>7e3||O>24576)&&(be>423||!l)){c=bx(t,u,0,F,Q,ne,D,O,x,S-x,c),O=B=D=0,x=S;for(var we=0;we<286;++we)Q[we]=0;for(we=0;we<30;++we)ne[we]=0}var ce=2,Ie=0,je=p,Pe=Z-fe&32767;if(be>2&&N==V(S-Pe))for(var L=Math.min(m,be)-1,q=Math.min(32767,S),Y=Math.min(258,be);Pe<=q&&--je&&Z!=fe;){if(t[S+ce]==t[S+ce-Pe]){for(var X=0;X<Y&&t[S+X]==t[S+X-Pe];++X);if(X>ce){if(ce=X,Ie=Pe,X>L)break;var ie=Math.min(Pe,X-2),ae=0;for(we=0;we<ie;++we){var me=S-Pe+we&32767,Se=me-b[me]&32767;Se>ae&&(ae=Se,fe=me)}}}Pe+=(Z=fe)-(fe=b[Z])&32767}if(Ie){F[O++]=268435456|Ow[ce]<<18|yx[Ie];var Ae=31&Ow[ce],Ge=31&yx[Ie];D+=Fp[Ae]+Vp[Ge],++Q[257+Ae],++ne[Ge],A=S+ce,++B}else F[O++]=t[S],++Q[t[S]]}}for(S=Math.max(S,A);S<s;++S)F[O++]=t[S],++Q[t[S]];c=bx(t,u,l,F,Q,ne,D,O,x,S-x,c),l||(o.r=7&c|u[c/8|0]<<3,c-=7,o.h=E,o.p=b,o.i=S,o.w=A)}else{for(S=o.w||0;S<s+l;S+=65535){var He=S+65535;He>=s&&(u[c/8|0]=l,He=s),c=wx(u,c+1,t.subarray(S,He))}o.i=s}return function(t,e,n){return(null==e||e<0)&&(e=0),(null==n||n>t.length)&&(n=t.length),new zn(t.subarray(e,n))}(a,0,r+Y_(c)+i)},Ex=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,o=0|n.length,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=n[s];r=(65535&r)+15*(r>>16),i=(65535&i)+15*(i>>16)}t=r,e=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(e%=65521))<<8|e>>8}}},zw=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new zn(o.length+t.length);s.set(o),s.set(t,o.length),t=s,i.w=o.length}return lj(t,null==e.level?6:e.level,null==e.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):20:12+e.mem,n,r,i)},Cr=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},_j=function(t,e){var n=e.level,r=0==n?0:n<6?1:9==n?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Ex();i.p(e.dictionary),Cr(t,2,i.d())}};function J_(t,e){e||(e={});var n=Ex();n.p(t);var r=zw(t,e,e.dictionary?6:2,4);return _j(r,e),Cr(r,r.length-4,n.d()),r}var Px=typeof TextDecoder<"u"&&new TextDecoder;try{Px.decode(Ix,{stream:!0})}catch{}function Tj(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Cj(t,e){return function tme(t){if(Array.isArray(t))return t}(t)||function nme(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(t,e)||function rme(t,e){if(t){if("string"==typeof t)return Tj(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tj(t,e):void 0}}(t,e)||function ime(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sj(t,e="utf8"){return new TextDecoder(e).decode(t)}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;const ome=new TextEncoder,ume=(()=>{const t=new Uint8Array(4);return!((new Uint32Array(t.buffer)[0]=1)&t[0])})(),Rx={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ey{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=8192,n={}){let r=!1;"number"==typeof e?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,o=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof ey)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),this.lastWrittenByte=r?o:0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=2*(this.offset+e),i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=Rx[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+r);if(this.littleEndian===ume&&"uint8"!==n&&"int8"!==n){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const u=new Rx[n](a.buffer);return this.offset+=r,u.reverse(),u}const s=new Rx[n](o);return this.offset+=r,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return Sj(this.readBytes(e))}decodeText(e=1,n="utf8"){return Sj(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(function sme(t){return ome.encode(t)}(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function zp(t){let e=t.length;for(;--e>=0;)t[e]=0}const Fx=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Qw=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),mme=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Oj=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wl=new Array(576);zp(wl);const ry=new Array(60);zp(ry);const iy=new Array(512);zp(iy);const oy=new Array(256);zp(oy);const Vx=new Array(29);zp(Vx);const Yw=new Array(30);function Ux(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}let Lj,Fj,Vj;function Bx(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}zp(Yw);const Uj=t=>t<256?iy[t]:iy[256+(t>>>7)],sy=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},ss=(t,e,n)=>{t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,sy(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},gu=(t,e,n)=>{ss(t,n[2*e],n[2*e+1])},Bj=(t,e)=>{let n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1},jj=(t,e,n)=>{const r=new Array(16);let o,s,i=0;for(o=1;o<=15;o++)i=i+n[o-1]<<1,r[o]=i;for(s=0;s<=e;s++){let a=t[2*s+1];0!==a&&(t[2*s]=Bj(r[a]++,a))}},zj=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},$j=t=>{t.bi_valid>8?sy(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},qj=(t,e,n,r)=>{const i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]},jx=(t,e,n)=>{const r=t.heap[n];let i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&qj(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!qj(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},Hj=(t,e,n)=>{let r,i,s,a,o=0;if(0!==t.sym_next)do{r=255&t.pending_buf[t.sym_buf+o++],r+=(255&t.pending_buf[t.sym_buf+o++])<<8,i=t.pending_buf[t.sym_buf+o++],0===r?gu(t,i,e):(s=oy[i],gu(t,s+256+1,e),a=Fx[s],0!==a&&(i-=Vx[s],ss(t,i,a)),r--,s=Uj(r),gu(t,s,n),a=Qw[s],0!==a&&(r-=Yw[s],ss(t,r,a)))}while(o<t.sym_next);gu(t,256,e)},zx=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems;let s,a,l,u=-1;for(t.heap_len=0,t.heap_max=573,s=0;s<o;s++)0!==n[2*s]?(t.heap[++t.heap_len]=u=s,t.depth[s]=0):n[2*s+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=u<2?++u:0,n[2*l]=1,t.depth[l]=0,t.opt_len--,i&&(t.static_len-=r[2*l+1]);for(e.max_code=u,s=t.heap_len>>1;s>=1;s--)jx(t,n,s);l=o;do{s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],jx(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,n[2*l]=n[2*s]+n[2*a],t.depth[l]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,n[2*s+1]=n[2*a+1]=l,t.heap[1]=l++,jx(t,n,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,u=e.stat_desc.max_length;let l,c,d,m,p,w,b=0;for(m=0;m<=15;m++)t.bl_count[m]=0;for(n[2*t.heap[t.heap_max]+1]=0,l=t.heap_max+1;l<573;l++)c=t.heap[l],m=n[2*n[2*c+1]+1]+1,m>u&&(m=u,b++),n[2*c+1]=m,!(c>r)&&(t.bl_count[m]++,p=0,c>=a&&(p=s[c-a]),w=n[2*c],t.opt_len+=w*(m+p),o&&(t.static_len+=w*(i[2*c+1]+p)));if(0!==b){do{for(m=u-1;0===t.bl_count[m];)m--;t.bl_count[m]--,t.bl_count[m+1]+=2,t.bl_count[u]--,b-=2}while(b>0);for(m=u;0!==m;m--)for(c=t.bl_count[m];0!==c;)d=t.heap[--l],!(d>r)&&(n[2*d+1]!==m&&(t.opt_len+=(m-n[2*d+1])*n[2*d],n[2*d+1]=m),c--)}})(t,e),jj(n,u,t.bl_count)},Gj=(t,e,n)=>{let r,o,i=-1,s=e[1],a=0,u=7,l=4;for(0===s&&(u=138,l=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)o=s,s=e[2*(r+1)+1],!(++a<u&&o===s)&&(a<l?t.bl_tree[2*o]+=a:0!==o?(o!==i&&t.bl_tree[2*o]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,i=o,0===s?(u=138,l=3):o===s?(u=6,l=3):(u=7,l=4))},Wj=(t,e,n)=>{let r,o,i=-1,s=e[1],a=0,u=7,l=4;for(0===s&&(u=138,l=3),r=0;r<=n;r++)if(o=s,s=e[2*(r+1)+1],!(++a<u&&o===s)){if(a<l)do{gu(t,o,t.bl_tree)}while(0!=--a);else 0!==o?(o!==i&&(gu(t,o,t.bl_tree),a--),gu(t,16,t.bl_tree),ss(t,a-3,2)):a<=10?(gu(t,17,t.bl_tree),ss(t,a-3,3)):(gu(t,18,t.bl_tree),ss(t,a-11,7));a=0,i=o,0===s?(u=138,l=3):o===s?(u=6,l=3):(u=7,l=4)}};let Kj=!1;const Qj=(t,e,n,r)=>{ss(t,0+(r?1:0),3),$j(t),sy(t,n),sy(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n};var kme={_tr_init:t=>{Kj||((()=>{let t,e,n,r,i;const o=new Array(16);for(n=0,r=0;r<28;r++)for(Vx[r]=n,t=0;t<1<<Fx[r];t++)oy[n++]=r;for(oy[n-1]=r,i=0,r=0;r<16;r++)for(Yw[r]=i,t=0;t<1<<Qw[r];t++)iy[i++]=r;for(i>>=7;r<30;r++)for(Yw[r]=i<<7,t=0;t<1<<Qw[r]-7;t++)iy[256+i++]=r;for(e=0;e<=15;e++)o[e]=0;for(t=0;t<=143;)wl[2*t+1]=8,t++,o[8]++;for(;t<=255;)wl[2*t+1]=9,t++,o[9]++;for(;t<=279;)wl[2*t+1]=7,t++,o[7]++;for(;t<=287;)wl[2*t+1]=8,t++,o[8]++;for(jj(wl,287,o),t=0;t<30;t++)ry[2*t+1]=5,ry[2*t]=Bj(t,5);Lj=new Ux(wl,Fx,257,286,15),Fj=new Ux(ry,Qw,0,30,15),Vj=new Ux(new Array(0),mme,0,19,7)})(),Kj=!0),t.l_desc=new Bx(t.dyn_ltree,Lj),t.d_desc=new Bx(t.dyn_dtree,Fj),t.bl_desc=new Bx(t.bl_tree,Vj),t.bi_buf=0,t.bi_valid=0,zj(t)},_tr_stored_block:Qj,_tr_flush_block:(t,e,n,r)=>{let i,o,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let n,e=4093624447;for(n=0;n<=31;n++,e>>>=1)if(1&e&&0!==t.dyn_ltree[2*n])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(n=32;n<256;n++)if(0!==t.dyn_ltree[2*n])return 1;return 0})(t)),zx(t,t.l_desc),zx(t,t.d_desc),s=(t=>{let e;for(Gj(t,t.dyn_ltree,t.l_desc.max_code),Gj(t,t.dyn_dtree,t.d_desc.max_code),zx(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*Oj[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==e?Qj(t,e,n,r):4===t.strategy||o===i?(ss(t,2+(r?1:0),3),Hj(t,wl,ry)):(ss(t,4+(r?1:0),3),((t,e,n,r)=>{let i;for(ss(t,e-257,5),ss(t,n-1,5),ss(t,r-4,4),i=0;i<r;i++)ss(t,t.bl_tree[2*Oj[i]+1],3);Wj(t,t.dyn_ltree,e-1),Wj(t,t.dyn_dtree,n-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),Hj(t,t.dyn_ltree,t.dyn_dtree)),zj(t),r&&$j(t)},_tr_tally:(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(oy[n]+256+1)]++,t.dyn_dtree[2*Uj(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{ss(t,2,3),gu(t,256,wl),(t=>{16===t.bi_valid?(sy(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},ay=(t,e,n,r)=>{let i=65535&t|0,o=t>>>16&65535|0,s=0;for(;0!==n;){s=n>2e3?2e3:n,n-=s;do{i=i+e[r++]|0,o=o+i|0}while(--s);i%=65521,o%=65521}return i|o<<16|0};const Ome=new Uint32Array((()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e})());var Oi=(t,e,n,r)=>{const i=Ome,o=r+n;t^=-1;for(let s=r;s<o;s++)t=t>>>8^i[255&(t^e[s])];return-1^t},oh={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},sh={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Lme,_tr_stored_block:$x,_tr_flush_block:Fme,_tr_tally:xc,_tr_align:Vme}=kme,{Z_NO_FLUSH:Nc,Z_PARTIAL_FLUSH:Ume,Z_FULL_FLUSH:Bme,Z_FINISH:sa,Z_BLOCK:Yj,Z_OK:Ji,Z_STREAM_END:Zj,Z_STREAM_ERROR:mu,Z_DATA_ERROR:jme,Z_BUF_ERROR:qx,Z_DEFAULT_COMPRESSION:zme,Z_FILTERED:$me,Z_HUFFMAN_ONLY:Zw,Z_RLE:qme,Z_FIXED:Hme,Z_DEFAULT_STRATEGY:Gme,Z_UNKNOWN:Wme,Z_DEFLATED:Jw}=sh,_u=262,lh=(t,e)=>(t.msg=oh[e],e),Jj=t=>2*t-(t>4?9:0),Rc=t=>{let e=t.length;for(;--e>=0;)t[e]=0},i_e=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do{n=t.head[--r],t.head[r]=n>=i?n-i:0}while(--e);e=i,r=e;do{n=t.prev[--r],t.prev[r]=n>=i?n-i:0}while(--e)};let kc=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask;const Ds=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},xs=(t,e)=>{Fme(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Ds(t.strm)},Nn=(t,e)=>{t.pending_buf[t.pending++]=e},ly=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Zx=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),1===t.state.wrap?t.adler=ay(t.adler,e,i,n):2===t.state.wrap&&(t.adler=Oi(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},Xj=(t,e)=>{let i,o,n=t.max_chain_length,r=t.strstart,s=t.prev_length,a=t.nice_match;const u=t.strstart>t.w_size-_u?t.strstart-(t.w_size-_u):0,l=t.window,c=t.w_mask,d=t.prev,m=t.strstart+258;let p=l[r+s-1],w=l[r+s];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do{if(i=e,l[i+s]===w&&l[i+s-1]===p&&l[i]===l[r]&&l[++i]===l[r+1]){r+=2,i++;do{}while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<m);if(o=258-(m-r),r=m-258,o>s){if(t.match_start=e,s=o,o>=a)break;p=l[r+s-1],w=l[r+s]}}}while((e=d[e&c])>u&&0!=--n);return s<=t.lookahead?s:t.lookahead},Wp=t=>{const e=t.w_size;let n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-_u)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),i_e(t),r+=e),0===t.strm.avail_in)break;if(n=Zx(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=kc(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=kc(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<_u&&0!==t.strm.avail_in)},e9=(t,e)=>{let r,i,o,n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,s=0,a=t.strm.avail_in;do{if(r=65535,o=t.bi_valid+42>>3,t.strm.avail_out<o||(o=t.strm.avail_out-o,i=t.strstart-t.block_start,r>i+t.strm.avail_in&&(r=i+t.strm.avail_in),r>o&&(r=o),r<n&&(0===r&&e!==sa||e===Nc||r!==i+t.strm.avail_in)))break;s=e===sa&&r===i+t.strm.avail_in?1:0,$x(t,0,0,s),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,Ds(t.strm),i&&(i>r&&(i=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,r-=i),r&&(Zx(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(0===s);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?4:e!==Nc&&e!==sa&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(o=t.window_size-t.strstart,t.strm.avail_in>o&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,o+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),o>t.strm.avail_in&&(o=t.strm.avail_in),o&&(Zx(t.strm,t.window,t.strstart,o),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.high_water<t.strstart&&(t.high_water=t.strstart),o=t.bi_valid+42>>3,o=t.pending_buf_size-o>65535?65535:t.pending_buf_size-o,n=o>t.w_size?t.w_size:o,i=t.strstart-t.block_start,(i>=n||(i||e===sa)&&e!==Nc&&0===t.strm.avail_in&&i<=o)&&(r=i>o?o:i,s=e===sa&&0===t.strm.avail_in&&r===i?1:0,$x(t,t.block_start,r,s),t.block_start+=r,Ds(t.strm)),s?3:1)},Jx=(t,e)=>{let n,r;for(;;){if(t.lookahead<_u){if(Wp(t),t.lookahead<_u&&e===Nc)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=kc(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-_u&&(t.match_length=Xj(t,n)),t.match_length>=3)if(r=xc(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=kc(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=kc(t,t.ins_h,t.window[t.strstart+1]);else r=xc(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(xs(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===sa?(xs(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(xs(t,!1),0===t.strm.avail_out)?1:2},Kp=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<_u){if(Wp(t),t.lookahead<_u&&e===Nc)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=kc(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-_u&&(t.match_length=Xj(t,n),t.match_length<=5&&(t.strategy===$me||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,r=xc(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=kc(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(xs(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(r=xc(t,0,t.window[t.strstart-1]),r&&xs(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=xc(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===sa?(xs(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(xs(t,!1),0===t.strm.avail_out)?1:2};function yu(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}const cy=[new yu(0,0,0,0,e9),new yu(4,4,8,4,Jx),new yu(4,5,16,8,Jx),new yu(4,6,32,32,Jx),new yu(4,4,16,16,Kp),new yu(8,16,32,32,Kp),new yu(8,16,128,128,Kp),new yu(8,32,128,256,Kp),new yu(32,128,258,1024,Kp),new yu(32,258,258,4096,Kp)];function u_e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Jw,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Rc(this.dyn_ltree),Rc(this.dyn_dtree),Rc(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Rc(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Rc(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const dy=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||42!==e.status&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&113!==e.status&&666!==e.status?1:0},t9=t=>{if(dy(t))return lh(t,mu);t.total_in=t.total_out=0,t.data_type=Wme;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=-2,Lme(e),Ji},n9=t=>{const e=t9(t);return e===Ji&&(t=>{t.window_size=2*t.w_size,Rc(t.head),t.max_lazy_match=cy[t.level].max_lazy,t.good_match=cy[t.level].good_length,t.nice_match=cy[t.level].nice_length,t.max_chain_length=cy[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0})(t.state),e},r9=(t,e,n,r,i,o)=>{if(!t)return mu;let s=1;if(e===zme&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>9||n!==Jw||r<8||r>15||e<0||e>9||o<0||o>Hme||8===r&&1!==s)return lh(t,mu);8===r&&(r=9);const a=new u_e;return t.state=a,a.strm=t,a.status=42,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=e,a.strategy=o,a.method=n,n9(t)};var hy={deflateInit:(t,e)=>r9(t,e,Jw,15,8,Gme),deflateInit2:r9,deflateReset:n9,deflateResetKeep:t9,deflateSetHeader:(t,e)=>dy(t)||2!==t.state.wrap?mu:(t.state.gzhead=e,Ji),deflate:(t,e)=>{if(dy(t)||e>Yj||e<0)return t?lh(t,mu):mu;const n=t.state;if(!t.output||0!==t.avail_in&&!t.input||666===n.status&&e!==sa)return lh(t,0===t.avail_out?qx:mu);const r=n.last_flush;if(n.last_flush=e,0!==n.pending){if(Ds(t),0===t.avail_out)return n.last_flush=-1,Ji}else if(0===t.avail_in&&Jj(e)<=Jj(r)&&e!==sa)return lh(t,qx);if(666===n.status&&0!==t.avail_in)return lh(t,qx);if(42===n.status&&0===n.wrap&&(n.status=113),42===n.status){let i=Jw+(n.w_bits-8<<4)<<8,o=-1;if(o=n.strategy>=Zw||n.level<2?0:n.level<6?1:6===n.level?2:3,i|=o<<6,0!==n.strstart&&(i|=32),i+=31-i%31,ly(n,i),0!==n.strstart&&(ly(n,t.adler>>>16),ly(n,65535&t.adler)),t.adler=1,n.status=113,Ds(t),0!==n.pending)return n.last_flush=-1,Ji}if(57===n.status)if(t.adler=0,Nn(n,31),Nn(n,139),Nn(n,8),n.gzhead)Nn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Nn(n,255&n.gzhead.time),Nn(n,n.gzhead.time>>8&255),Nn(n,n.gzhead.time>>16&255),Nn(n,n.gzhead.time>>24&255),Nn(n,9===n.level?2:n.strategy>=Zw||n.level<2?4:0),Nn(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(Nn(n,255&n.gzhead.extra.length),Nn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Oi(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(Nn(n,0),Nn(n,0),Nn(n,0),Nn(n,0),Nn(n,0),Nn(n,9===n.level?2:n.strategy>=Zw||n.level<2?4:0),Nn(n,3),n.status=113,Ds(t),0!==n.pending)return n.last_flush=-1,Ji;if(69===n.status){if(n.gzhead.extra){let i=n.pending,o=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+o>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(t.adler=Oi(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=a,Ds(t),0!==n.pending)return n.last_flush=-1,Ji;i=0,o-=a}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending+=o,n.gzhead.hcrc&&n.pending>i&&(t.adler=Oi(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let o,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=Oi(t.adler,n.pending_buf,n.pending-i,i)),Ds(t),0!==n.pending)return n.last_flush=-1,Ji;i=0}o=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,Nn(n,o)}while(0!==o);n.gzhead.hcrc&&n.pending>i&&(t.adler=Oi(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let o,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=Oi(t.adler,n.pending_buf,n.pending-i,i)),Ds(t),0!==n.pending)return n.last_flush=-1,Ji;i=0}o=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,Nn(n,o)}while(0!==o);n.gzhead.hcrc&&n.pending>i&&(t.adler=Oi(t.adler,n.pending_buf,n.pending-i,i))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Ds(t),0!==n.pending))return n.last_flush=-1,Ji;Nn(n,255&t.adler),Nn(n,t.adler>>8&255),t.adler=0}if(n.status=113,Ds(t),0!==n.pending)return n.last_flush=-1,Ji}if(0!==t.avail_in||0!==n.lookahead||e!==Nc&&666!==n.status){let i=0===n.level?e9(n,e):n.strategy===Zw?((t,e)=>{let n;for(;;){if(0===t.lookahead&&(Wp(t),0===t.lookahead)){if(e===Nc)return 1;break}if(t.match_length=0,n=xc(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(xs(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===sa?(xs(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(xs(t,!1),0===t.strm.avail_out)?1:2})(n,e):n.strategy===qme?((t,e)=>{let n,r,i,o;const s=t.window;for(;;){if(t.lookahead<=258){if(Wp(t),t.lookahead<=258&&e===Nc)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=t.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=t.strstart+258;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);t.match_length=258-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=xc(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=xc(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(xs(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===sa?(xs(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(xs(t,!1),0===t.strm.avail_out)?1:2})(n,e):cy[n.level].func(n,e);if((3===i||4===i)&&(n.status=666),1===i||3===i)return 0===t.avail_out&&(n.last_flush=-1),Ji;if(2===i&&(e===Ume?Vme(n):e!==Yj&&($x(n,0,0,!1),e===Bme&&(Rc(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),Ds(t),0===t.avail_out))return n.last_flush=-1,Ji}return e!==sa?Ji:n.wrap<=0?Zj:(2===n.wrap?(Nn(n,255&t.adler),Nn(n,t.adler>>8&255),Nn(n,t.adler>>16&255),Nn(n,t.adler>>24&255),Nn(n,255&t.total_in),Nn(n,t.total_in>>8&255),Nn(n,t.total_in>>16&255),Nn(n,t.total_in>>24&255)):(ly(n,t.adler>>>16),ly(n,65535&t.adler)),Ds(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?Ji:Zj)},deflateEnd:t=>{if(dy(t))return mu;const e=t.state.status;return t.state=null,113===e?lh(t,jme):Ji},deflateSetDictionary:(t,e)=>{let n=e.length;if(dy(t))return mu;const r=t.state,i=r.wrap;if(2===i||1===i&&42!==r.status||r.lookahead)return mu;if(1===i&&(t.adler=ay(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){0===i&&(Rc(r.head),r.strstart=0,r.block_start=0,r.insert=0);let u=new Uint8Array(r.w_size);u.set(e.subarray(n-r.w_size,n),0),e=u,n=r.w_size}const o=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,Wp(r);r.lookahead>=3;){let u=r.strstart,l=r.lookahead-2;do{r.ins_h=kc(r,r.ins_h,r.window[u+3-1]),r.prev[u&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=u,u++}while(--l);r.strstart=u,r.lookahead=2,Wp(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,r.wrap=i,Ji},deflateInfo:"pako deflate (from Nodeca project)"};const E_e=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Xw={assign:function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const r in n)E_e(n,r)&&(t[r]=n[r])}}return t},flattenChunks:t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,o=t.length;r<o;r++){let s=t[r];n.set(s,i),i+=s.length}return n}};let i9=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{i9=!1}const fy=new Uint8Array(256);for(let t=0;t<256;t++)fy[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;fy[254]=fy[254]=1;var py={string2buf:t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)n=t.charCodeAt(i),55296==(64512&n)&&i+1<s&&(r=t.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)n=t.charCodeAt(i),55296==(64512&n)&&i+1<s&&(r=t.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},buf2string:(t,e)=>{const n=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let r,i;const o=new Array(2*n);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){o[i++]=s;continue}let a=fy[s];if(a>4)o[i++]=65533,r+=a-1;else{for(s&=2===a?31:3===a?15:7;a>1&&r<n;)s=s<<6|63&t[r++],a--;a>1?o[i++]=65533:s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|1023&s)}}return((t,e)=>{if(e<65534&&t.subarray&&i9)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n})(o,i)},utf8border:(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let n=e-1;for(;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+fy[t[n]]>e?n:e}},o9=function N_e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const s9=Object.prototype.toString,{Z_NO_FLUSH:P_e,Z_SYNC_FLUSH:R_e,Z_FULL_FLUSH:k_e,Z_FINISH:M_e,Z_OK:eb,Z_STREAM_END:O_e,Z_DEFAULT_COMPRESSION:L_e,Z_DEFAULT_STRATEGY:F_e,Z_DEFLATED:V_e}=sh;function gy(t){this.options=Xw.assign({level:L_e,method:V_e,chunkSize:16384,windowBits:15,memLevel:8,strategy:F_e},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o9,this.strm.avail_out=0;let n=hy.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==eb)throw new Error(oh[n]);if(e.header&&hy.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(r="string"==typeof e.dictionary?py.string2buf(e.dictionary):"[object ArrayBuffer]"===s9.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=hy.deflateSetDictionary(this.strm,r),n!==eb)throw new Error(oh[n]);this._dict_set=!0}}function Xx(t,e){const n=new gy(e);if(n.push(t,!0),n.err)throw n.msg||oh[n.err];return n.result}gy.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=e===~~e?e:!0===e?M_e:P_e,n.input="string"==typeof t?py.string2buf(t):"[object ArrayBuffer]"===s9.call(t)?new Uint8Array(t):t,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===R_e||o===k_e)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=hy.deflate(n,o),i===O_e)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=hy.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===eb;if(0!==n.avail_out){if(o>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},gy.prototype.onData=function(t){this.chunks.push(t)},gy.prototype.onEnd=function(t){t===eb&&(this.result=Xw.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var G_e={Deflate:gy,deflate:Xx,deflateRaw:function U_e(t,e){return(e=e||{}).raw=!0,Xx(t,e)},gzip:function B_e(t,e){return(e=e||{}).gzip=!0,Xx(t,e)},constants:sh};const tb=16209;var K_e=function(e,n){let r,i,o,s,a,u,l,c,d,m,p,w,b,E,T,R,V,F,Q,ne,B,D,S,O;const A=e.state;r=e.next_in,S=e.input,i=r+(e.avail_in-5),o=e.next_out,O=e.output,s=o-(n-e.avail_out),a=o+(e.avail_out-257),u=A.dmax,l=A.wsize,c=A.whave,d=A.wnext,m=A.window,p=A.hold,w=A.bits,b=A.lencode,E=A.distcode,T=(1<<A.lenbits)-1,R=(1<<A.distbits)-1;e:do{w<15&&(p+=S[r++]<<w,w+=8,p+=S[r++]<<w,w+=8),V=b[p&T];t:for(;;){if(F=V>>>24,p>>>=F,w-=F,F=V>>>16&255,0===F)O[o++]=65535&V;else{if(!(16&F)){if(64&F){if(32&F){A.mode=16191;break e}e.msg="invalid literal/length code",A.mode=tb;break e}V=b[(65535&V)+(p&(1<<F)-1)];continue t}for(Q=65535&V,F&=15,F&&(w<F&&(p+=S[r++]<<w,w+=8),Q+=p&(1<<F)-1,p>>>=F,w-=F),w<15&&(p+=S[r++]<<w,w+=8,p+=S[r++]<<w,w+=8),V=E[p&R];;){if(F=V>>>24,p>>>=F,w-=F,F=V>>>16&255,16&F){if(ne=65535&V,F&=15,w<F&&(p+=S[r++]<<w,w+=8,w<F&&(p+=S[r++]<<w,w+=8)),ne+=p&(1<<F)-1,ne>u){e.msg="invalid distance too far back",A.mode=tb;break e}if(p>>>=F,w-=F,F=o-s,ne>F){if(F=ne-F,F>c&&A.sane){e.msg="invalid distance too far back",A.mode=tb;break e}if(B=0,D=m,0===d){if(B+=l-F,F<Q){Q-=F;do{O[o++]=m[B++]}while(--F);B=o-ne,D=O}}else if(d<F){if(B+=l+d-F,F-=d,F<Q){Q-=F;do{O[o++]=m[B++]}while(--F);if(B=0,d<Q){F=d,Q-=F;do{O[o++]=m[B++]}while(--F);B=o-ne,D=O}}}else if(B+=d-F,F<Q){Q-=F;do{O[o++]=m[B++]}while(--F);B=o-ne,D=O}for(;Q>2;)O[o++]=D[B++],O[o++]=D[B++],O[o++]=D[B++],Q-=3;Q&&(O[o++]=D[B++],Q>1&&(O[o++]=D[B++]))}else{B=o-ne;do{O[o++]=O[B++],O[o++]=O[B++],O[o++]=O[B++],Q-=3}while(Q>2);Q&&(O[o++]=O[B++],Q>1&&(O[o++]=O[B++]))}break}if(64&F){e.msg="invalid distance code",A.mode=tb;break e}V=E[(65535&V)+(p&(1<<F)-1)]}}break}}while(r<i&&o<a);Q=w>>3,r-=Q,w-=Q<<3,p&=(1<<w)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<a?a-o+257:257-(o-a),A.hold=p,A.bits=w};const Q_e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Y_e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Z_e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),J_e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var my=(t,e,n,r,i,o,s,a)=>{const u=a.bits;let V,F,Q,ne,B,S,l=0,c=0,d=0,m=0,p=0,w=0,b=0,E=0,T=0,R=0,D=null;const O=new Uint16Array(16),A=new Uint16Array(16);let N,Z,fe,x=null;for(l=0;l<=15;l++)O[l]=0;for(c=0;c<r;c++)O[e[n+c]]++;for(p=u,m=15;m>=1&&0===O[m];m--);if(p>m&&(p=m),0===m)return i[o++]=20971520,i[o++]=20971520,a.bits=1,0;for(d=1;d<m&&0===O[d];d++);for(p<d&&(p=d),E=1,l=1;l<=15;l++)if(E<<=1,E-=O[l],E<0)return-1;if(E>0&&(0===t||1!==m))return-1;for(A[1]=0,l=1;l<15;l++)A[l+1]=A[l]+O[l];for(c=0;c<r;c++)0!==e[n+c]&&(s[A[e[n+c]]++]=c);if(0===t?(D=x=s,S=20):1===t?(D=Q_e,x=Y_e,S=257):(D=Z_e,x=J_e,S=0),R=0,c=0,l=d,B=o,w=p,b=0,Q=-1,T=1<<p,ne=T-1,1===t&&T>852||2===t&&T>592)return 1;for(;;){N=l-b,s[c]+1<S?(Z=0,fe=s[c]):s[c]>=S?(Z=x[s[c]-S],fe=D[s[c]-S]):(Z=96,fe=0),V=1<<l-b,F=1<<w,d=F;do{F-=V,i[B+(R>>b)+F]=N<<24|Z<<16|fe|0}while(0!==F);for(V=1<<l-1;R&V;)V>>=1;if(0!==V?(R&=V-1,R+=V):R=0,c++,0==--O[l]){if(l===m)break;l=e[n+s[c]]}if(l>p&&(R&ne)!==Q){for(0===b&&(b=p),B+=d,w=l-b,E=1<<w;w+b<m&&(E-=O[w+b],!(E<=0));)w++,E<<=1;if(T+=1<<w,1===t&&T>852||2===t&&T>592)return 1;Q=R&ne,i[Q]=p<<24|w<<16|B-o|0}}return 0!==R&&(i[B+R]=l-b<<24|64<<16|0),a.bits=p,0};const{Z_FINISH:f9,Z_BLOCK:eye,Z_TREES:nb,Z_OK:ch,Z_STREAM_END:tye,Z_NEED_DICT:nye,Z_STREAM_ERROR:aa,Z_DATA_ERROR:p9,Z_MEM_ERROR:g9,Z_BUF_ERROR:rye,Z_DEFLATED:m9}=sh,rb=16180,ib=16190,bl=16191,ob=16199,sb=16200,Sr=16209,B9=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function aye(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const dh=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<rb||e.mode>16211?1:0},j9=t=>{if(dh(t))return aa;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=rb,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,ch},z9=t=>{if(dh(t))return aa;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,j9(t)},$9=(t,e)=>{let n;if(dh(t))return aa;const r=t.state;return e<0?(n=0,e=-e):(n=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?aa:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,z9(t))},q9=(t,e)=>{if(!t)return aa;const n=new aye;t.state=n,n.strm=t,n.window=null,n.mode=rb;const r=$9(t,e);return r!==ch&&(t.state=null),r};let iN,oN,H9=!0;const lye=t=>{if(H9){iN=new Int32Array(512),oN=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(my(1,t.lens,0,288,iN,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;my(2,t.lens,0,32,oN,0,t.work,{bits:5}),H9=!1}t.lencode=iN,t.lenbits=9,t.distcode=oN,t.distbits=5},G9=(t,e,n,r)=>{let i;const o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),(r-=i)?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var Il={inflateReset:z9,inflateReset2:$9,inflateResetKeep:j9,inflateInit:t=>q9(t,15),inflateInit2:q9,inflate:(t,e)=>{let n,r,i,o,s,a,u,l,c,d,m,p,w,b,T,R,V,F,Q,ne,B,D,E=0;const S=new Uint8Array(4);let O,A;const x=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(dh(t)||!t.output||!t.input&&0!==t.avail_in)return aa;n=t.state,n.mode===bl&&(n.mode=16192),s=t.next_out,i=t.output,u=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,l=n.hold,c=n.bits,d=a,m=u,D=ch;e:for(;;)switch(n.mode){case rb:if(0===n.wrap){n.mode=16192;break}for(;c<16;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}if(2&n.wrap&&35615===l){0===n.wbits&&(n.wbits=15),n.check=0,S[0]=255&l,S[1]=l>>>8&255,n.check=Oi(n.check,S,2,0),l=0,c=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&l)<<8)+(l>>8))%31){t.msg="incorrect header check",n.mode=Sr;break}if((15&l)!==m9){t.msg="unknown compression method",n.mode=Sr;break}if(l>>>=4,c-=4,B=8+(15&l),0===n.wbits&&(n.wbits=B),B>15||B>n.wbits){t.msg="invalid window size",n.mode=Sr;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=512&l?16189:bl,l=0,c=0;break;case 16181:for(;c<16;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}if(n.flags=l,(255&n.flags)!==m9){t.msg="unknown compression method",n.mode=Sr;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=Sr;break}n.head&&(n.head.text=l>>8&1),512&n.flags&&4&n.wrap&&(S[0]=255&l,S[1]=l>>>8&255,n.check=Oi(n.check,S,2,0)),l=0,c=0,n.mode=16182;case 16182:for(;c<32;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}n.head&&(n.head.time=l),512&n.flags&&4&n.wrap&&(S[0]=255&l,S[1]=l>>>8&255,S[2]=l>>>16&255,S[3]=l>>>24&255,n.check=Oi(n.check,S,4,0)),l=0,c=0,n.mode=16183;case 16183:for(;c<16;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}n.head&&(n.head.xflags=255&l,n.head.os=l>>8),512&n.flags&&4&n.wrap&&(S[0]=255&l,S[1]=l>>>8&255,n.check=Oi(n.check,S,2,0)),l=0,c=0,n.mode=16184;case 16184:if(1024&n.flags){for(;c<16;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}n.length=l,n.head&&(n.head.extra_len=l),512&n.flags&&4&n.wrap&&(S[0]=255&l,S[1]=l>>>8&255,n.check=Oi(n.check,S,2,0)),l=0,c=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(p=n.length,p>a&&(p=a),p&&(n.head&&(B=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+p),B)),512&n.flags&&4&n.wrap&&(n.check=Oi(n.check,r,p,o)),a-=p,o+=p,n.length-=p),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===a)break e;p=0;do{B=r[o+p++],n.head&&B&&n.length<65536&&(n.head.name+=String.fromCharCode(B))}while(B&&p<a);if(512&n.flags&&4&n.wrap&&(n.check=Oi(n.check,r,p,o)),a-=p,o+=p,B)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===a)break e;p=0;do{B=r[o+p++],n.head&&B&&n.length<65536&&(n.head.comment+=String.fromCharCode(B))}while(B&&p<a);if(512&n.flags&&4&n.wrap&&(n.check=Oi(n.check,r,p,o)),a-=p,o+=p,B)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;c<16;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}if(4&n.wrap&&l!==(65535&n.check)){t.msg="header crc mismatch",n.mode=Sr;break}l=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=bl;break;case 16189:for(;c<32;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}t.adler=n.check=B9(l),l=0,c=0,n.mode=ib;case ib:if(0===n.havedict)return t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,n.hold=l,n.bits=c,nye;t.adler=n.check=1,n.mode=bl;case bl:if(e===eye||e===nb)break e;case 16192:if(n.last){l>>>=7&c,c-=7&c,n.mode=16206;break}for(;c<3;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}switch(n.last=1&l,l>>>=1,c-=1,3&l){case 0:n.mode=16193;break;case 1:if(lye(n),n.mode=ob,e===nb){l>>>=2,c-=2;break e}break;case 2:n.mode=16196;break;case 3:t.msg="invalid block type",n.mode=Sr}l>>>=2,c-=2;break;case 16193:for(l>>>=7&c,c-=7&c;c<32;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}if((65535&l)!=(l>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Sr;break}if(n.length=65535&l,l=0,c=0,n.mode=16194,e===nb)break e;case 16194:n.mode=16195;case 16195:if(p=n.length,p){if(p>a&&(p=a),p>u&&(p=u),0===p)break e;i.set(r.subarray(o,o+p),s),a-=p,o+=p,u-=p,s+=p,n.length-=p;break}n.mode=bl;break;case 16196:for(;c<14;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}if(n.nlen=257+(31&l),l>>>=5,c-=5,n.ndist=1+(31&l),l>>>=5,c-=5,n.ncode=4+(15&l),l>>>=4,c-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Sr;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;c<3;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}n.lens[x[n.have++]]=7&l,l>>>=3,c-=3}for(;n.have<19;)n.lens[x[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,O={bits:n.lenbits},D=my(0,n.lens,0,19,n.lencode,0,n.work,O),n.lenbits=O.bits,D){t.msg="invalid code lengths set",n.mode=Sr;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;E=n.lencode[l&(1<<n.lenbits)-1],T=E>>>24,R=E>>>16&255,V=65535&E,!(T<=c);){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}if(V<16)l>>>=T,c-=T,n.lens[n.have++]=V;else{if(16===V){for(A=T+2;c<A;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}if(l>>>=T,c-=T,0===n.have){t.msg="invalid bit length repeat",n.mode=Sr;break}B=n.lens[n.have-1],p=3+(3&l),l>>>=2,c-=2}else if(17===V){for(A=T+3;c<A;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}l>>>=T,c-=T,B=0,p=3+(7&l),l>>>=3,c-=3}else{for(A=T+7;c<A;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}l>>>=T,c-=T,B=0,p=11+(127&l),l>>>=7,c-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Sr;break}for(;p--;)n.lens[n.have++]=B}}if(n.mode===Sr)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=Sr;break}if(n.lenbits=9,O={bits:n.lenbits},D=my(1,n.lens,0,n.nlen,n.lencode,0,n.work,O),n.lenbits=O.bits,D){t.msg="invalid literal/lengths set",n.mode=Sr;break}if(n.distbits=6,n.distcode=n.distdyn,O={bits:n.distbits},D=my(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,O),n.distbits=O.bits,D){t.msg="invalid distances set",n.mode=Sr;break}if(n.mode=ob,e===nb)break e;case ob:n.mode=sb;case sb:if(a>=6&&u>=258){t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,n.hold=l,n.bits=c,K_e(t,m),s=t.next_out,i=t.output,u=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,l=n.hold,c=n.bits,n.mode===bl&&(n.back=-1);break}for(n.back=0;E=n.lencode[l&(1<<n.lenbits)-1],T=E>>>24,R=E>>>16&255,V=65535&E,!(T<=c);){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}if(R&&!(240&R)){for(F=T,Q=R,ne=V;E=n.lencode[ne+((l&(1<<F+Q)-1)>>F)],T=E>>>24,R=E>>>16&255,V=65535&E,!(F+T<=c);){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}l>>>=F,c-=F,n.back+=F}if(l>>>=T,c-=T,n.back+=T,n.length=V,0===R){n.mode=16205;break}if(32&R){n.back=-1,n.mode=bl;break}if(64&R){t.msg="invalid literal/length code",n.mode=Sr;break}n.extra=15&R,n.mode=16201;case 16201:if(n.extra){for(A=n.extra;c<A;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;E=n.distcode[l&(1<<n.distbits)-1],T=E>>>24,R=E>>>16&255,V=65535&E,!(T<=c);){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}if(!(240&R)){for(F=T,Q=R,ne=V;E=n.distcode[ne+((l&(1<<F+Q)-1)>>F)],T=E>>>24,R=E>>>16&255,V=65535&E,!(F+T<=c);){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}l>>>=F,c-=F,n.back+=F}if(l>>>=T,c-=T,n.back+=T,64&R){t.msg="invalid distance code",n.mode=Sr;break}n.offset=V,n.extra=15&R,n.mode=16203;case 16203:if(n.extra){for(A=n.extra;c<A;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Sr;break}n.mode=16204;case 16204:if(0===u)break e;if(p=m-u,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Sr;break}p>n.wnext?(p-=n.wnext,w=n.wsize-p):w=n.wnext-p,p>n.length&&(p=n.length),b=n.window}else b=i,w=s-n.offset,p=n.length;p>u&&(p=u),u-=p,n.length-=p;do{i[s++]=b[w++]}while(--p);0===n.length&&(n.mode=sb);break;case 16205:if(0===u)break e;i[s++]=n.length,u--,n.mode=sb;break;case 16206:if(n.wrap){for(;c<32;){if(0===a)break e;a--,l|=r[o++]<<c,c+=8}if(m-=u,t.total_out+=m,n.total+=m,4&n.wrap&&m&&(t.adler=n.check=n.flags?Oi(n.check,i,m,s-m):ay(n.check,i,m,s-m)),m=u,4&n.wrap&&(n.flags?l:B9(l))!==n.check){t.msg="incorrect data check",n.mode=Sr;break}l=0,c=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;c<32;){if(0===a)break e;a--,l+=r[o++]<<c,c+=8}if(4&n.wrap&&l!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=Sr;break}l=0,c=0}n.mode=16208;case 16208:D=tye;break e;case Sr:D=p9;break e;case 16210:return g9;default:return aa}return t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,n.hold=l,n.bits=c,(n.wsize||m!==t.avail_out&&n.mode<Sr&&(n.mode<16206||e!==f9))&&G9(t,t.output,t.next_out,m-t.avail_out),d-=t.avail_in,m-=t.avail_out,t.total_in+=d,t.total_out+=m,n.total+=m,4&n.wrap&&m&&(t.adler=n.check=n.flags?Oi(n.check,i,m,t.next_out-m):ay(n.check,i,m,t.next_out-m)),t.data_type=n.bits+(n.last?64:0)+(n.mode===bl?128:0)+(n.mode===ob||16194===n.mode?256:0),(0===d&&0===m||e===f9)&&D===ch&&(D=rye),D},inflateEnd:t=>{if(dh(t))return aa;let e=t.state;return e.window&&(e.window=null),t.state=null,ch},inflateGetHeader:(t,e)=>{if(dh(t))return aa;const n=t.state;return 2&n.wrap?(n.head=e,e.done=!1,ch):aa},inflateSetDictionary:(t,e)=>{const n=e.length;let r,i,o;return dh(t)||(r=t.state,0!==r.wrap&&r.mode!==ib)?aa:r.mode===ib&&(i=1,i=ay(i,e,n,0),i!==r.check)?p9:(o=G9(t,e,n,n),o?(r.mode=16210,g9):(r.havedict=1,ch))},inflateInfo:"pako inflate (from Nodeca project)"},Tye=function Aye(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const W9=Object.prototype.toString,{Z_NO_FLUSH:Cye,Z_FINISH:Sye,Z_OK:_y,Z_STREAM_END:sN,Z_NEED_DICT:aN,Z_STREAM_ERROR:Dye,Z_DATA_ERROR:K9,Z_MEM_ERROR:xye}=sh;function yy(t){this.options=Xw.assign({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o9,this.strm.avail_out=0;let n=Il.inflateInit2(this.strm,e.windowBits);if(n!==_y)throw new Error(oh[n]);if(this.header=new Tye,Il.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=py.string2buf(e.dictionary):"[object ArrayBuffer]"===W9.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Il.inflateSetDictionary(this.strm,e.dictionary),n!==_y)))throw new Error(oh[n])}function uN(t,e){const n=new yy(e);if(n.push(t),n.err)throw n.msg||oh[n.err];return n.result}yy.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(s=e===~~e?e:!0===e?Sye:Cye,n.input="[object ArrayBuffer]"===W9.call(t)?new Uint8Array(t):t,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=Il.inflate(n,s),o===aN&&i&&(o=Il.inflateSetDictionary(n,i),o===_y?o=Il.inflate(n,s):o===K9&&(o=aN));n.avail_in>0&&o===sN&&n.state.wrap>0&&0!==t[n.next_in];)Il.inflateReset(n),o=Il.inflate(n,s);switch(o){case Dye:case K9:case aN:case xye:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(0===n.avail_out||o===sN))if("string"===this.options.to){let u=py.utf8border(n.output,n.next_out),l=n.next_out-u,c=py.buf2string(n.output,u);n.next_out=l,n.avail_out=r-l,l&&n.output.set(n.output.subarray(u,u+l),0),this.onData(c)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==_y||0!==a){if(o===sN)return o=Il.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},yy.prototype.onData=function(t){this.chunks.push(t)},yy.prototype.onEnd=function(t){t===_y&&(this.result="string"===this.options.to?this.chunks.join(""):Xw.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Lye={Inflate:yy,inflate:uN,inflateRaw:function Nye(t,e){return(e=e||{}).raw=!0,uN(t,e)},ungzip:uN,constants:sh};const{Inflate:jye,inflate:zye}=Lye;var lN=jye,Y9=zye;const Z9=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)1&e?e=3988292384^e>>>1:e>>>=1;Z9[t]=e}const J9=4294967295;function ez(t,e,n){const r=t.readUint32(),i=function X9(t,e){return(function Zye(t,e,n){let r=t;for(let i=0;i<n;i++)r=Z9[255&(r^e[i])]^r>>>8;return r}(J9,t,e)^J9)>>>0}(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function tz(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function nz(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function rz(t,e,n,r){let i=0;if(0===n.length)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function iz(t,e,n,r,i){let o=0;if(0===n.length){for(;o<i;o++)e[o]=t[o];for(;o<r;o++)e[o]=t[o]+(e[o-i]>>1)&255}else{for(;o<i;o++)e[o]=t[o]+(n[o]>>1)&255;for(;o<r;o++)e[o]=t[o]+(e[o-i]+n[o]>>1)&255}}function oz(t,e,n,r,i){let o=0;if(0===n.length){for(;o<i;o++)e[o]=t[o];for(;o<r;o++)e[o]=t[o]+e[o-i]&255}else{for(;o<i;o++)e[o]=t[o]+n[o]&255;for(;o<r;o++)e[o]=t[o]+Jye(e[o-i],n[o],n[o-i])&255}}function Jye(t,e,n){const r=t+e-n,i=Math.abs(r-t),o=Math.abs(r-e),s=Math.abs(r-n);return i<=o&&i<=s?t:o<=s?e:n}function Xye(t,e,n,r,i,o){switch(t){case 0:tz(e,n,i);break;case 1:nz(e,n,i,o);break;case 2:rz(e,n,r,i);break;case 3:iz(e,n,r,i,o);break;case 4:oz(e,n,r,i,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const eve=new Uint16Array([255]),tve=255===new Uint8Array(eve.buffer)[0];function rve(t){return(255&t)<<8|t>>8&255}const ive=new Uint16Array([255]),ove=255===new Uint8Array(ive.buffer)[0],sve=new Uint8Array(0);function sz(t){const{data:e,width:n,height:r,channels:i,depth:o}=t,s=Math.ceil(o/8)*i,a=Math.ceil(o/8*i*n),u=new Uint8Array(r*a);let d,m,l=sve,c=0;for(let p=0;p<r;p++){switch(d=e.subarray(c+1,c+1+a),m=u.subarray(p*a,(p+1)*a),e[c]){case 0:tz(d,m,a);break;case 1:nz(d,m,a,s);break;case 2:rz(d,m,l,a);break;case 3:iz(d,m,l,a,s);break;case 4:oz(d,m,l,a,s);break;default:throw new Error(`Unsupported filter: ${e[c]}`)}l=m,c+=a+1}if(16===o){const p=new Uint16Array(u.buffer);if(ove)for(let w=0;w<p.length;w++)p[w]=ave(p[w]);return p}return u}function ave(t){return(255&t)<<8|t>>8&255}const vy=Uint8Array.of(137,80,78,71,13,10,26,10);function az(t){if(!function lve(t){if(t.length<vy.length)return!1;for(let e=0;e<vy.length;e++)if(t[e]!==vy[e])return!1;return!0}(t.readBytes(vy.length)))throw new Error("wrong PNG signature")}const lz=0,cz=new TextDecoder("latin1");function dz(t){if(function hz(t){if(!cve.test(t))throw new Error("invalid latin1 text")}(t),0===t.length||t.length>79)throw new Error("keyword length must be between 1 and 79")}const cve=/^[\u0000-\u00FF]*$/;function fz(t){for(t.mark();t.readByte()!==lz;);const e=t.offset;t.reset();const n=cz.decode(t.readBytes(e-t.offset-1));return t.skip(1),dz(n),n}class pve extends ey{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new lN,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=-1,this._filterMethod=-1,this._interlaceMethod=-1,this._colorType=-1,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(az(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(az(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case"tEXt":!function dve(t,e,n){const r=fz(e);t[r]=function fve(t,e){return cz.decode(t.readBytes(e))}(e,n-r.length-1)}(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e)}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?ez(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const r=this.offset;switch("fdAT"!==n&&"IDAT"!==n&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=r+e}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?ez(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=function gve(t){if(1!==t&&2!==t&&4!==t&&8!==t&&16!==t)throw new Error(`invalid bit depth: ${t}`);return t}(this.readUint8());const n=this.readUint8();let r;switch(this._colorType=n,n){case 0:case 3:r=1;break;case 2:r=3;break;case 4:r=2;break;case 6:r=4;break;default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),0!==this._compressionMethod)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!=0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<n;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){if(this._writingDataChunks=!0,this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case 0:case 2:if(e%2!=0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break;case 3:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=fz(this),r=this.readUint8();if(0!==r)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Y9(i)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=sz({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===e||0===r.xOffset&&0===r.yOffset&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,r){switch(e.disposeOp){case 0:break;case 1:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const s=(i*e.width+o)*this._png.channels;for(let a=0;a<this._png.channels;a++)r.data[s+a]=0}break;case 2:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const r=1<<this._png.depth,i=(o,s)=>({index:((o+n.yOffset)*this._png.width+n.xOffset+s)*this._png.channels,frameIndex:(o*n.width+s)*this._png.channels});switch(n.blendOp){case 0:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){const{index:a,frameIndex:u}=i(o,s);for(let l=0;l<this._png.channels;l++)e.data[a+l]=n.data[u+l]}break;case 1:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){const{index:a,frameIndex:u}=i(o,s);for(let l=0;l<this._png.channels;l++){const c=n.data[u+this._png.channels-1]/r,m=Math.floor(c*(l%(this._png.channels-1)==0?1:n.data[u+l])+(1-c)*e.data[a+l]);e.data[a+l]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(0!==this._filterMethod)throw new Error(`Filter method ${this._filterMethod} not supported`);if(0===this._interlaceMethod)this._png.data=sz({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(1!==this._interlaceMethod)throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._png.data=function nve(t){const{data:e,width:n,height:r,channels:i,depth:o}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(o/8)*i,u=new Uint8Array(r*n*a);let l=0;for(let c=0;c<7;c++){const d=s[c],m=Math.ceil((n-d.x)/d.xStep),p=Math.ceil((r-d.y)/d.yStep);if(m<=0||p<=0)continue;const w=m*a,b=new Uint8Array(w);for(let E=0;E<p;E++){const T=e[l++],R=e.subarray(l,l+w);l+=w;const V=new Uint8Array(w);Xye(T,R,V,b,w,a),b.set(V);for(let F=0;F<m;F++){const Q=d.x+F*d.xStep,ne=d.y+E*d.yStep;if(!(Q>=n||ne>=r))for(let B=0;B<a;B++)u[(ne*n+Q)*a+B]=V[F*a+B]}}}if(16===o){const c=new Uint16Array(u.buffer);if(tve)for(let d=0;d<c.length;d++)c[d]=rve(c[d]);return c}return u}({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:0,blendOp:0,data:e}),this._inflator=new lN,this._writingDataChunks=!1}}var zt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function hN(){zt.console&&"function"==typeof zt.console.log&&zt.console.log.apply(zt.console,arguments)}var tr={log:hN,warn:function(t){zt.console&&("function"==typeof zt.console.warn?zt.console.warn.apply(zt.console,arguments):hN.call(null,arguments))},error:function(t){zt.console&&("function"==typeof zt.console.error?zt.console.error.apply(zt.console,arguments):hN(t))}};function fN(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){hh(r.response,e,n)},r.onerror=function(){tr.error("could not download file")},r.send()}function gz(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function lb(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var hh=zt.saveAs||("object"!==(typeof window>"u"?"undefined":jn(window))||window!==zt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=zt.URL||zt.webkitURL,i=document.createElement("a");i.download=e=e||t.name||"download",i.rel="noopener","string"==typeof t?(i.href=t,i.origin!==location.origin?gz(i.href)?fN(t,e,n):lb(i,i.target="_blank"):lb(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){lb(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download","string"==typeof t)if(gz(t))fN(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){lb(r)})}else navigator.msSaveOrOpenBlob((i=t,void 0===(o=n)?o={autoBom:!1}:"object"!==jn(o)&&(tr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i),e);var i,o}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return fN(t,e,n);var i="application/octet-stream"===t.type,o=/constructor/i.test(zt.HTMLElement)||zt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&"object"===(typeof FileReader>"u"?"undefined":jn(FileReader))){var a=new FileReader;a.onloadend=function(){var c=a.result;c=s?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},a.readAsDataURL(t)}else{var u=zt.URL||zt.webkitURL,l=u.createObjectURL(t);r?r.location=l:location.href=l,r=null,setTimeout(function(){u.revokeObjectURL(l)},4e4)}});function mz(t){var e;t=t||"",this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var o=n[r].process,s=n[r].re.exec(t);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),u=this.g.toString(16),l=this.b.toString(16);return 1==a.length&&(a="0"+a),1==u.length&&(u="0"+u),1==l.length&&(l="0"+l),"#"+a+u+l}}var cb=zt.atob.bind(zt),_z=zt.btoa.bind(zt);function pN(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];n=mo(n,r,i,o,e[0],7,-680876936),o=mo(o,n,r,i,e[1],12,-389564586),i=mo(i,o,n,r,e[2],17,606105819),r=mo(r,i,o,n,e[3],22,-1044525330),n=mo(n,r,i,o,e[4],7,-176418897),o=mo(o,n,r,i,e[5],12,1200080426),i=mo(i,o,n,r,e[6],17,-1473231341),r=mo(r,i,o,n,e[7],22,-45705983),n=mo(n,r,i,o,e[8],7,1770035416),o=mo(o,n,r,i,e[9],12,-1958414417),i=mo(i,o,n,r,e[10],17,-42063),r=mo(r,i,o,n,e[11],22,-1990404162),n=mo(n,r,i,o,e[12],7,1804603682),o=mo(o,n,r,i,e[13],12,-40341101),i=mo(i,o,n,r,e[14],17,-1502002290),n=_o(n,r=mo(r,i,o,n,e[15],22,1236535329),i,o,e[1],5,-165796510),o=_o(o,n,r,i,e[6],9,-1069501632),i=_o(i,o,n,r,e[11],14,643717713),r=_o(r,i,o,n,e[0],20,-373897302),n=_o(n,r,i,o,e[5],5,-701558691),o=_o(o,n,r,i,e[10],9,38016083),i=_o(i,o,n,r,e[15],14,-660478335),r=_o(r,i,o,n,e[4],20,-405537848),n=_o(n,r,i,o,e[9],5,568446438),o=_o(o,n,r,i,e[14],9,-1019803690),i=_o(i,o,n,r,e[3],14,-187363961),r=_o(r,i,o,n,e[8],20,1163531501),n=_o(n,r,i,o,e[13],5,-1444681467),o=_o(o,n,r,i,e[2],9,-51403784),i=_o(i,o,n,r,e[7],14,1735328473),n=yo(n,r=_o(r,i,o,n,e[12],20,-1926607734),i,o,e[5],4,-378558),o=yo(o,n,r,i,e[8],11,-2022574463),i=yo(i,o,n,r,e[11],16,1839030562),r=yo(r,i,o,n,e[14],23,-35309556),n=yo(n,r,i,o,e[1],4,-1530992060),o=yo(o,n,r,i,e[4],11,1272893353),i=yo(i,o,n,r,e[7],16,-155497632),r=yo(r,i,o,n,e[10],23,-1094730640),n=yo(n,r,i,o,e[13],4,681279174),o=yo(o,n,r,i,e[0],11,-358537222),i=yo(i,o,n,r,e[3],16,-722521979),r=yo(r,i,o,n,e[6],23,76029189),n=yo(n,r,i,o,e[9],4,-640364487),o=yo(o,n,r,i,e[12],11,-421815835),i=yo(i,o,n,r,e[15],16,530742520),n=vo(n,r=yo(r,i,o,n,e[2],23,-995338651),i,o,e[0],6,-198630844),o=vo(o,n,r,i,e[7],10,1126891415),i=vo(i,o,n,r,e[14],15,-1416354905),r=vo(r,i,o,n,e[5],21,-57434055),n=vo(n,r,i,o,e[12],6,1700485571),o=vo(o,n,r,i,e[3],10,-1894986606),i=vo(i,o,n,r,e[10],15,-1051523),r=vo(r,i,o,n,e[1],21,-2054922799),n=vo(n,r,i,o,e[8],6,1873313359),o=vo(o,n,r,i,e[15],10,-30611744),i=vo(i,o,n,r,e[6],15,-1560198380),r=vo(r,i,o,n,e[13],21,1309151649),n=vo(n,r,i,o,e[4],6,-145523070),o=vo(o,n,r,i,e[11],10,-1120210379),i=vo(i,o,n,r,e[2],15,718787259),r=vo(r,i,o,n,e[9],21,-343485551),t[0]=Oc(n,t[0]),t[1]=Oc(r,t[1]),t[2]=Oc(i,t[2]),t[3]=Oc(o,t[3])}function db(t,e,n,r,i,o){return e=Oc(Oc(e,t),Oc(r,o)),Oc(e<<i|e>>>32-i,n)}function mo(t,e,n,r,i,o,s){return db(e&n|~e&r,t,e,i,o,s)}function _o(t,e,n,r,i,o,s){return db(e&r|n&~r,t,e,i,o,s)}function yo(t,e,n,r,i,o,s){return db(e^n^r,t,e,i,o,s)}function vo(t,e,n,r,i,o,s){return db(n^(e|~r),t,e,i,o,s)}function yz(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)pN(r,Eve(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(pN(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,pN(r,i),r}function Eve(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var vz="0123456789abcdef".split("");function Ave(t){for(var e="",n=0;n<4;n++)e+=vz[t>>8*n+4&15]+vz[t>>8*n&15];return e}function Tve(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function gN(t){return yz(t).map(Tve).join("")}var Cve="5d41402abc4b2a76b9719d911017c592"!=function(t){for(var e=0;e<t.length;e++)t[e]=Ave(t[e]);return t.join("")}(yz("hello"));function Oc(t,e){if(Cve){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function mN(t,e){var n,r,i;if(t!==n){for(var s=(i=t,new Array(1+(256/t.length|0)+1).join(i)),a=[],u=0;u<256;u++)a[u]=u;var l=0;for(u=0;u<256;u++){var c=a[u];l=(l+c+s.charCodeAt(u))%256,a[u]=a[l],a[l]=c}n=t,r=a}else a=r;var d=e.length,m=0,p=0,w="";for(u=0;u<d;u++)p=(p+(c=a[m=(m+1)%256]))%256,a[m]=a[p],a[p]=c,s=a[(a[m]+a[p])%256],w+=String.fromCharCode(e.charCodeAt(u)^s);return w}var wz={print:4,modify:8,copy:16,"annot-forms":32};function Zp(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(void 0!==wz.perm)throw new Error("Invalid permission: "+a);i+=wz[a]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var o=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=gN(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=mN(this.encryptionKey,this.padding)}function Jp(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function bz(t){if("object"!==jn(t))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,"string"!=typeof n||"function"!=typeof r||"boolean"!=typeof i)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var o=Math.random().toString(35);return e[n][o]=[r,!!i],o},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],0===Object.keys(e[r]).length&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[n]){var s=e[n][o];try{s[0].apply(t,r)}catch(a){zt.console&&tr.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function hb(t){if(!(this instanceof hb))return new hb(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function Iz(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function fh(t,e,n,r,i){if(!(this instanceof fh))return new fh(t,e,n,r,i);this.type="axial"===t?2:3,this.coords=e,this.colors=n,Iz.call(this,r,i)}function Xp(t,e,n,r,i){if(!(this instanceof Xp))return new Xp(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,Iz.call(this,r,i)}function _t(t){var e,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,u=16,l="S",c=null;"object"===jn(t=t||{})&&(n=t.orientation,r=t.unit||r,i=t.format||i,o=t.compress||t.compressPdf||o,null!==(c=t.encryption||null)&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),a="number"==typeof t.userUnit?Math.abs(t.userUnit):1,void 0!==t.precision&&(e=t.precision),void 0!==t.floatPrecision&&(u=t.floatPrecision),l=t.defaultPathOperation||"S"),s=t.filters||(!0===o?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=bz;var w="1.3",b=p.__private__.getPdfVersion=function(){return w};p.__private__.setPdfVersion=function(_){w=_};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return E};var T=p.__private__.getPageFormat=function(_){return E[_]};i=i||"a4";var R="compat",V="advanced",F=R;function Q(){this.saveGraphicsState(),K(new At(Dt,0,0,-Dt,0,Va()*Dt).toString()+" cm"),this.setFontSize(this.getFontSize()/Dt),l="n",F=V}function ne(){this.restoreGraphicsState(),l="S",F=R}var B=p.__private__.combineFontStyleAndFontWeight=function(_,P){if("bold"==_&&"normal"==P||"bold"==_&&400==P||"normal"==_&&"italic"==P||"bold"==_&&"italic"==P)throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(_=400==P||"normal"===P?"italic"===_?"italic":"normal":700!=P&&"bold"!==P||"normal"!==_?(700==P?"bold":P)+""+_:"bold"),_};p.advancedAPI=function(_){var P=F===R;return P&&Q.call(this),"function"!=typeof _||(_(this),P&&ne.call(this)),this},p.compatAPI=function(_){var P=F===V;return P&&ne.call(this),"function"!=typeof _||(_(this),P&&Q.call(this)),this},p.isAdvancedAPI=function(){return F===V};var D,S=function(_){if(F!==V)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=p.roundToPrecision=p.__private__.roundToPrecision=function(_,P){var H=e||P;if(isNaN(_)||isNaN(H))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(H).replace(/0+$/,"")};D=p.hpf=p.__private__.hpf="number"==typeof u?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return O(_,u)}:"smart"===u?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return O(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return O(_,16)};var A=p.f2=p.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return O(_,2)},x=p.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return O(_,3)},N=p.scale=p.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return F===R?_*Dt:F===V?_:void 0},Z=function(_){return N((P=_,F===R?Va()-P:F===V?P:void 0));var P};p.__private__.setPrecision=p.setPrecision=function(_){"number"==typeof parseInt(_,10)&&(e=parseInt(_,10))};var fe,be="00000000000000000000000000000000",we=p.__private__.getFileId=function(){return be},ce=p.__private__.setFileId=function(_){return be=void 0!==_&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():be.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==c&&(kr=new Zp(c.userPermissions,c.userPassword,c.ownerPassword,be)),be};p.setFileId=function(_){return ce(_),this},p.getFileId=function(){return we()};var Ie=p.__private__.convertDateToPDFDate=function(_){var P=_.getTimezoneOffset(),H=P<0?"+":"-",J=Math.floor(Math.abs(P/60)),se=Math.abs(P%60),De=[H,Y(J),"'",Y(se),"'"].join("");return["D:",_.getFullYear(),Y(_.getMonth()+1),Y(_.getDate()),Y(_.getHours()),Y(_.getMinutes()),Y(_.getSeconds()),De].join("")},je=p.__private__.convertPDFDateToDate=function(_){var P=parseInt(_.substr(2,4),10),H=parseInt(_.substr(6,2),10)-1,J=parseInt(_.substr(8,2),10),se=parseInt(_.substr(10,2),10),De=parseInt(_.substr(12,2),10),ke=parseInt(_.substr(14,2),10);return new Date(P,H,J,se,De,ke,0)},Pe=p.__private__.setCreationDate=function(_){var P;if(void 0===_&&(_=new Date),_ instanceof Date)P=Ie(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=_}return fe=P},L=p.__private__.getCreationDate=function(_){var P=fe;return"jsDate"===_&&(P=je(fe)),P};p.setCreationDate=function(_){return Pe(_),this},p.getCreationDate=function(_){return L(_)};var q,Y=p.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},X=p.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},ie=0,ae=[],me=[],ve=0,Se=[],Ae=[],Ge=!1,He=me;p.__private__.setCustomOutputDestination=function(_){Ge=!0,He=_};var Ee=function(_){Ge||(He=_)};p.__private__.resetCustomOutputDestination=function(){Ge=!1,He=me};var K=p.__private__.out=function(_){return _=_.toString(),ve+=_.length+1,He.push(_),He},en=p.__private__.write=function(_){return K(1===arguments.length?_.toString():Array.prototype.join.call(arguments," "))},Lt=p.__private__.getArrayBuffer=function(_){for(var P=_.length,H=new ArrayBuffer(P),J=new Uint8Array(H);P--;)J[P]=_.charCodeAt(P);return H},Et=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Et};var Ue=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(_){return Ue=F===V?_/Dt:_,this};var ut,Qe=p.__private__.getFontSize=p.getFontSize=function(){return F===R?Ue:Ue*Dt},Ft=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(_){return Ft=_,this},p.__private__.getR2L=p.getR2L=function(){return Ft};var mt,tn=p.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))ut=_;else if(isNaN(_)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');ut=_}else ut=parseInt(_,10)};p.__private__.getZoomMode=function(){return ut};var Ct,Pt=p.__private__.setPageMode=function(_){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');mt=_};p.__private__.getPageMode=function(){return mt};var $t=p.__private__.setLayoutMode=function(_){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Ct=_};p.__private__.getLayoutMode=function(){return Ct},p.__private__.setDisplayMode=p.setDisplayMode=function(_,P,H){return tn(_),$t(P),Pt(H),this};var ht={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(_){if(-1===Object.keys(ht).indexOf(_))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ht[_]},p.__private__.getDocumentProperties=function(){return ht},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(_){for(var P in ht)ht.hasOwnProperty(P)&&_[P]&&(ht[P]=_[P]);return this},p.__private__.setDocumentProperty=function(_,P){if(-1===Object.keys(ht).indexOf(_))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ht[_]=P};var at,Dt,ft,Pn,sn,ze={},yt={},qt=[],vt={},Yt={},pt={},Mn={},_r=null,mn=0,xt=[],cn=new bz(p),Xi=t.hotfixes||[],jr={},bo={},Fi=[],At=function _(P,H,J,se,De,ke){if(!(this instanceof _))return new _(P,H,J,se,De,ke);isNaN(P)&&(P=1),isNaN(H)&&(H=0),isNaN(J)&&(J=0),isNaN(se)&&(se=1),isNaN(De)&&(De=0),isNaN(ke)&&(ke=0),this._matrix=[P,H,J,se,De,ke]};Object.defineProperty(At.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(At.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(At.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(At.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(At.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(At.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(At.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(At.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(At.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(At.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(At.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(At.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(At.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(At.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(At.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(At.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),At.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(_)},At.prototype.multiply=function(_){return new At(_.sx*this.sx+_.shy*this.shx,_.sx*this.shy+_.shy*this.sy,_.shx*this.sx+_.sy*this.shx,_.shx*this.shy+_.sy*this.sy,_.tx*this.sx+_.ty*this.shx+this.tx,_.tx*this.shy+_.ty*this.sy+this.ty)},At.prototype.decompose=function(){var _=this.sx,P=this.shy,H=this.shx,J=this.sy,se=this.tx,De=this.ty,ke=Math.sqrt(_*_+P*P),et=(_/=ke)*H+(P/=ke)*J;H-=_*et,J-=P*et;var st=Math.sqrt(H*H+J*J);return et/=st,_*(J/=st)<P*(H/=st)&&(_=-_,P=-P,et=-et,ke=-ke),{scale:new At(ke,0,0,st,0,0),translate:new At(1,0,0,1,se,De),rotate:new At(_,P,-P,_,0,0),skew:new At(1,0,et,1,0,0)}},At.prototype.toString=function(_){return this.join(" ")},At.prototype.inversed=function(){var _=this.sx,P=this.shy,H=this.shx,J=this.sy,se=this.tx,De=this.ty,ke=1/(_*J-P*H),et=J*ke,st=-P*ke,Rt=-H*ke,kt=_*ke;return new At(et,st,Rt,kt,-et*se-Rt*De,-st*se-kt*De)},At.prototype.applyToPoint=function(_){return new kl(_.x*this.sx+_.y*this.shx+this.tx,_.x*this.shy+_.y*this.sy+this.ty)},At.prototype.applyToRectangle=function(_){var P=this.applyToPoint(_),H=this.applyToPoint(new kl(_.x+_.w,_.y+_.h));return new Hc(P.x,P.y,H.x-P.x,H.y-P.y)},At.prototype.clone=function(){return new At(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},p.Matrix=At;var ua=p.matrixMult=function(_,P){return P.multiply(_)},yr=new At(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=yr;var Uo=function(_,P){if(!Yt[_]){var H=(P instanceof fh?"Sh":"P")+(Object.keys(vt).length+1).toString(10);P.id=H,Yt[_]=H,vt[H]=P,cn.publish("addPattern",P)}};p.ShadingPattern=fh,p.TilingPattern=Xp,p.addShadingPattern=function(_,P){return S("addShadingPattern()"),Uo(_,P),this},p.beginTilingPattern=function(_){S("beginTilingPattern()"),Gc(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},p.endTilingPattern=function(_,P){S("endTilingPattern()"),P.stream=Ae[q].join("\n"),Uo(_,P),cn.publish("endTilingPattern",P),Fi.pop().restore()};var Vi,Kn=p.__private__.newObject=function(){var _=fi();return bi(_,!0),_},fi=p.__private__.newObjectDeferred=function(){return ie++,ae[ie]=function(){return ve},ie},bi=function(_,P){return P="boolean"==typeof P&&P,ae[_]=ve,P&&K(_+" 0 obj"),_},us=p.__private__.newAdditionalObject=function(){var _={objId:fi(),content:""};return Se.push(_),_},Au=fi(),Ps=fi(),Bo=p.__private__.decodeColorString=function(_){var P=_.split(" ");if(2!==P.length||"g"!==P[1]&&"G"!==P[1])5!==P.length||"k"!==P[4]&&"K"!==P[4]||(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var H=parseFloat(P[0]);P=[H,H,H,"r"]}for(var J="#",se=0;se<3;se++)J+=("0"+Math.floor(255*parseFloat(P[se])).toString(16)).slice(-2);return J},ls=p.__private__.encodeColorString=function(_){var P;"string"==typeof _&&(_={ch1:_});var H=_.ch1,J=_.ch2,se=_.ch3,De=_.ch4,ke="draw"===_.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof H&&"#"!==H.charAt(0)){var et=new mz(H);if(et.ok)H=et.toHex();else if(!/^\d*\.?\d*$/.test(H))throw new Error('Invalid color "'+H+'" passed to jsPDF.encodeColorString.')}if("string"==typeof H&&/^#[0-9A-Fa-f]{3}$/.test(H)&&(H="#"+H[1]+H[1]+H[2]+H[2]+H[3]+H[3]),"string"==typeof H&&/^#[0-9A-Fa-f]{6}$/.test(H)){var st=parseInt(H.substr(1),16);H=st>>16&255,J=st>>8&255,se=255&st}if(void 0===J||void 0===De&&H===J&&J===se)P="string"==typeof H?H+" "+ke[0]:2===_.precision?A(H/255)+" "+ke[0]:x(H/255)+" "+ke[0];else if(void 0===De||"object"===jn(De)){if(De&&!isNaN(De.a)&&0===De.a)return["1.","1.","1.",ke[1]].join(" ");P="string"==typeof H?[H,J,se,ke[1]].join(" "):2===_.precision?[A(H/255),A(J/255),A(se/255),ke[1]].join(" "):[x(H/255),x(J/255),x(se/255),ke[1]].join(" ")}else P="string"==typeof H?[H,J,se,De,ke[2]].join(" "):2===_.precision?[A(H),A(J),A(se),A(De),ke[2]].join(" "):[x(H),x(J),x(se),x(De),ke[2]].join(" ");return P},jo=p.__private__.getFilters=function(){return s},eo=p.__private__.putStream=function(_){var P=(_=_||{}).data||"",H=_.filters||jo(),J=_.alreadyAppliedFilters||[],se=_.addLength1||!1,De=P.length,ke=_.objectId,et=function(zr){return zr};if(null!==c&&void 0===ke)throw new Error("ObjectId must be passed to putStream for file encryption");null!==c&&(et=kr.encryptor(ke,0));var st={};!0===H&&(H=["FlateEncode"]);var Rt=_.additionalKeyValues||[],kt=(st=void 0!==_t.API.processDataByFilters?_t.API.processDataByFilters(P,H):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(J)?J.join(" "):J.toString());if(0!==st.data.length&&(Rt.push({key:"Length",value:st.data.length}),!0===se&&Rt.push({key:"Length1",value:De})),0!=kt.length)if(kt.split("/").length-1==1)Rt.push({key:"Filter",value:kt});else{Rt.push({key:"Filter",value:"["+kt+"]"});for(var In=0;In<Rt.length;In+=1)if("DecodeParms"===Rt[In].key){for(var cr=[],Yn=0;Yn<st.reverseChain.split("/").length-1;Yn+=1)cr.push("null");cr.push(Rt[In].value),Rt[In].value="["+cr.join(" ")+"]"}}K("<<");for(var $n=0;$n<Rt.length;$n++)K("/"+Rt[$n].key+" "+Rt[$n].value);K(">>"),0!==st.data.length&&(K("stream"),K(et(st.data)),K("endstream"))},Io=p.__private__.putPage=function(_){var P=_.number,H=_.data,J=_.objId,se=_.contentsObjId;bi(J,!0),K("<</Type /Page"),K("/Parent "+_.rootDictionaryObjId+" 0 R"),K("/Resources "+_.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat(D(_.mediaBox.bottomLeftX))+" "+parseFloat(D(_.mediaBox.bottomLeftY))+" "+D(_.mediaBox.topRightX)+" "+D(_.mediaBox.topRightY)+"]"),null!==_.cropBox&&K("/CropBox ["+D(_.cropBox.bottomLeftX)+" "+D(_.cropBox.bottomLeftY)+" "+D(_.cropBox.topRightX)+" "+D(_.cropBox.topRightY)+"]"),null!==_.bleedBox&&K("/BleedBox ["+D(_.bleedBox.bottomLeftX)+" "+D(_.bleedBox.bottomLeftY)+" "+D(_.bleedBox.topRightX)+" "+D(_.bleedBox.topRightY)+"]"),null!==_.trimBox&&K("/TrimBox ["+D(_.trimBox.bottomLeftX)+" "+D(_.trimBox.bottomLeftY)+" "+D(_.trimBox.topRightX)+" "+D(_.trimBox.topRightY)+"]"),null!==_.artBox&&K("/ArtBox ["+D(_.artBox.bottomLeftX)+" "+D(_.artBox.bottomLeftY)+" "+D(_.artBox.topRightX)+" "+D(_.artBox.topRightY)+"]"),"number"==typeof _.userUnit&&1!==_.userUnit&&K("/UserUnit "+_.userUnit),cn.publish("putPage",{objId:J,pageContext:xt[P],pageNumber:P,page:H}),K("/Contents "+se+" 0 R"),K(">>"),K("endobj");var De=H.join("\n");return F===V&&(De+="\nQ"),bi(se,!0),eo({data:De,filters:jo(),objectId:se}),K("endobj"),J},Rs=p.__private__.putPages=function(){var _,P,H=[];for(_=1;_<=mn;_++)xt[_].objId=fi(),xt[_].contentsObjId=fi();for(_=1;_<=mn;_++)H.push(Io({number:_,data:Ae[_],objId:xt[_].objId,contentsObjId:xt[_].contentsObjId,mediaBox:xt[_].mediaBox,cropBox:xt[_].cropBox,bleedBox:xt[_].bleedBox,trimBox:xt[_].trimBox,artBox:xt[_].artBox,userUnit:xt[_].userUnit,rootDictionaryObjId:Au,resourceDictionaryObjId:Ps}));bi(Au,!0),K("<</Type /Pages");var J="/Kids [";for(P=0;P<mn;P++)J+=H[P]+" 0 R ";K(J+"]"),K("/Count "+mn),K(">>"),K("endobj"),cn.publish("postPutPages")},Tu=function(_){cn.publish("putFont",{font:_,out:K,newObject:Kn,putStream:eo}),!0!==_.isAlreadyPutted&&(_.objectNumber=Kn(),K("<<"),K("/Type /Font"),K("/BaseFont /"+Jp(_.postScriptName)),K("/Subtype /Type1"),"string"==typeof _.encoding&&K("/Encoding /"+_.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},Cu=function(_){_.objectNumber=Kn();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[D(_.x),D(_.y),D(_.x+_.width),D(_.y+_.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var H=_.pages[1].join("\n");eo({data:H,additionalKeyValues:P,objectId:_.objectNumber}),K("endobj")},Su=function(_,P){P||(P=21);var H=Kn(),J=function(ke,et){var st,Rt=[],kt=1/(et-1);for(st=0;st<1;st+=kt)Rt.push(st);Rt.push(1),0!=ke[0].offset&&ke.unshift({offset:0,color:ke[0].color}),1!=ke[ke.length-1].offset&&ke.push({offset:1,color:ke[ke.length-1].color});for(var Yn="",$n=0,zr=0;zr<Rt.length;zr++){for(st=Rt[zr];st>ke[$n+1].offset;)$n++;var Mr=ke[$n].offset,pi=(st-Mr)/(ke[$n+1].offset-Mr),to=ke[$n].color,Zn=ke[$n+1].color;Yn+=X(Math.round((1-pi)*to[0]+pi*Zn[0]).toString(16))+X(Math.round((1-pi)*to[1]+pi*Zn[1]).toString(16))+X(Math.round((1-pi)*to[2]+pi*Zn[2]).toString(16))}return Yn.trim()}(_.colors,P),se=[];se.push({key:"FunctionType",value:"0"}),se.push({key:"Domain",value:"[0.0 1.0]"}),se.push({key:"Size",value:"["+P+"]"}),se.push({key:"BitsPerSample",value:"8"}),se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),eo({data:J,additionalKeyValues:se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:H}),K("endobj"),_.objectNumber=Kn(),K("<< /ShadingType "+_.type),K("/ColorSpace /DeviceRGB");var De="/Coords ["+D(parseFloat(_.coords[0]))+" "+D(parseFloat(_.coords[1]))+" ";De+=2===_.type?D(parseFloat(_.coords[2]))+" "+D(parseFloat(_.coords[3])):D(parseFloat(_.coords[2]))+" "+D(parseFloat(_.coords[3]))+" "+D(parseFloat(_.coords[4]))+" "+D(parseFloat(_.coords[5])),K(De+="]"),_.matrix&&K("/Matrix ["+_.matrix.toString()+"]"),K("/Function "+H+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},El=function(_,P){var H=fi(),J=Kn();P.push({resourcesOid:H,objectOid:J}),_.objectNumber=J;var se=[];se.push({key:"Type",value:"/Pattern"}),se.push({key:"PatternType",value:"1"}),se.push({key:"PaintType",value:"1"}),se.push({key:"TilingType",value:"1"}),se.push({key:"BBox",value:"["+_.boundingBox.map(D).join(" ")+"]"}),se.push({key:"XStep",value:D(_.xStep)}),se.push({key:"YStep",value:D(_.yStep)}),se.push({key:"Resources",value:H+" 0 R"}),_.matrix&&se.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),eo({data:_.stream,additionalKeyValues:se,objectId:_.objectNumber}),K("endobj")},ug=function(_){for(var P in _.objectNumber=Kn(),K("<<"),_)switch(P){case"opacity":K("/ca "+A(_[P]));break;case"stroke-opacity":K("/CA "+A(_[P]))}K(">>"),K("endobj")},vh=function(_){bi(_.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var P in K("/Font <<"),ze)ze.hasOwnProperty(P)&&(!1===d||!0===d&&m.hasOwnProperty(P))&&K("/"+P+" "+ze[P].objectNumber+" 0 R");K(">>")}(),function(){if(Object.keys(vt).length>0){for(var P in K("/Shading <<"),vt)vt.hasOwnProperty(P)&&vt[P]instanceof fh&&vt[P].objectNumber>=0&&K("/"+P+" "+vt[P].objectNumber+" 0 R");cn.publish("putShadingPatternDict"),K(">>")}}(),function(P){if(Object.keys(vt).length>0){for(var H in K("/Pattern <<"),vt)vt.hasOwnProperty(H)&&vt[H]instanceof p.TilingPattern&&vt[H].objectNumber>=0&&vt[H].objectNumber<P&&K("/"+H+" "+vt[H].objectNumber+" 0 R");cn.publish("putTilingPatternDict"),K(">>")}}(_.objectOid),function(){if(Object.keys(pt).length>0){var P;for(P in K("/ExtGState <<"),pt)pt.hasOwnProperty(P)&&pt[P].objectNumber>=0&&K("/"+P+" "+pt[P].objectNumber+" 0 R");cn.publish("putGStateDict"),K(">>")}}(),function(){for(var P in K("/XObject <<"),jr)jr.hasOwnProperty(P)&&jr[P].objectNumber>=0&&K("/"+P+" "+jr[P].objectNumber+" 0 R");cn.publish("putXobjectDict"),K(">>")}(),K(">>"),K("endobj")},Al=function(_){yt[_.fontName]=yt[_.fontName]||{},yt[_.fontName][_.fontStyle]=_.id},wh=function(_,P,H,J,se){var De={id:"F"+(Object.keys(ze).length+1).toString(10),postScriptName:_,fontName:P,fontStyle:H,encoding:J,isStandardFont:se||!1,metadata:{}};return cn.publish("addFont",{font:De,instance:this}),ze[De.id]=De,Al(De),De.id},Eo=p.__private__.pdfEscape=p.pdfEscape=function(_,P){return function(H,J){var se,De,ke,et,st,Rt,kt,In,cr;if(ke=(J=J||{}).sourceEncoding||"Unicode",st=J.outputEncoding,(J.autoencode||st)&&ze[at].metadata&&ze[at].metadata[ke]&&ze[at].metadata[ke].encoding&&(et=ze[at].metadata[ke].encoding,!st&&ze[at].encoding&&(st=ze[at].encoding),!st&&et.codePages&&(st=et.codePages[0]),"string"==typeof st&&(st=et[st]),st)){for(kt=!1,Rt=[],se=0,De=H.length;se<De;se++)(In=st[H.charCodeAt(se)])?Rt.push(String.fromCharCode(In)):Rt.push(H[se]),Rt[se].charCodeAt(0)>>8&&(kt=!0);H=Rt.join("")}for(se=H.length;void 0===kt&&0!==se;)H.charCodeAt(se-1)>>8&&(kt=!0),se--;if(!kt)return H;for(Rt=J.noBOM?[]:[254,255],se=0,De=H.length;se<De;se++){if((cr=(In=H.charCodeAt(se))>>8)>>8)throw new Error("Character at position "+se+" of string '"+H+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Rt.push(cr),Rt.push(In-(cr<<8))}return String.fromCharCode.apply(void 0,Rt)}(_,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ka=p.__private__.beginPage=function(_){Ae[++mn]=[],xt[mn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},lg(mn),Ee(Ae[q])},la=function(_,P){var H,J,se;switch(n=P||n,"string"==typeof _&&(H=T(_.toLowerCase()),Array.isArray(H)&&(J=H[0],se=H[1])),Array.isArray(_)&&(J=_[0]*Dt,se=_[1]*Dt),isNaN(J)&&(J=i[0],se=i[1]),(J>14400||se>14400)&&(tr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),J=Math.min(14400,J),se=Math.min(14400,se)),i=[J,se],n.substr(0,1)){case"l":se>J&&(i=[se,J]);break;case"p":J>se&&(i=[se,J])}ka(i),dg(qc),K(ca),0!==Pl&&K(Pl+" J"),0!==Qn&&K(Qn+" j"),cn.publish("addPage",{pageNumber:mn})},Tl=function(_){_>0&&_<=mn&&(Ae.splice(_,1),xt.splice(_,1),mn--,q>mn&&(q=mn),this.setPage(q))},lg=function(_){_>0&&_<=mn&&(q=_)},bh=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Ae.length-1},Ih=function(_,P,H){var J,se=void 0;return H=H||{},P=void 0!==P?P:ze[at].fontStyle,J=(_=void 0!==_?_:ze[at].fontName).toLowerCase(),void 0!==yt[J]&&void 0!==yt[J][P]?se=yt[J][P]:void 0!==yt[_]&&void 0!==yt[_][P]?se=yt[_][P]:!1===H.disableWarning&&tr.warn("Unable to look up font label for font '"+_+"', '"+P+"'. Refer to getFontList() for available fonts."),se||H.noFallback||null==(se=yt.times[P])&&(se=yt.times.normal),se},Cl=p.__private__.putInfo=function(){var _=Kn(),P=function(J){return J};for(var H in null!==c&&(P=kr.encryptor(_,0)),K("<<"),K("/Producer ("+Eo(P("jsPDF "+_t.version))+")"),ht)ht.hasOwnProperty(H)&&ht[H]&&K("/"+H.substr(0,1).toUpperCase()+H.substr(1)+" ("+Eo(P(ht[H]))+")");K("/CreationDate ("+Eo(P(fe))+")"),K(">>"),K("endobj")},Eh=p.__private__.putCatalog=function(_){var P=(_=_||{}).rootDictionaryObjId||Au;switch(Kn(),K("<<"),K("/Type /Catalog"),K("/Pages "+P+" 0 R"),ut||(ut="fullwidth"),ut){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var H=""+ut;"%"===H.substr(H.length-1)&&(ut=parseInt(ut)/100),"number"==typeof ut&&K("/OpenAction [3 0 R /XYZ null null "+A(ut)+"]")}switch(Ct||(Ct="continuous"),Ct){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}mt&&K("/PageMode /"+mt),cn.publish("putCatalog"),K(">>"),K("endobj")},Dr=p.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(ie+1)),K("/Root "+ie+" 0 R"),K("/Info "+(ie-1)+" 0 R"),null!==c&&K("/Encrypt "+kr.oid+" 0 R"),K("/ID [ <"+be+"> <"+be+"> ]"),K(">>")},Ah=p.__private__.putHeader=function(){K("%PDF-"+w),K("%\xba\xdf\xac\xe0")},Th=p.__private__.putXRef=function(){var _="0000000000";K("xref"),K("0 "+(ie+1)),K("0000000000 65535 f ");for(var P=1;P<=ie;P++)K("function"==typeof ae[P]?(_+ae[P]()).slice(-10)+" 00000 n ":void 0!==ae[P]?(_+ae[P]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},Ma=p.__private__.buildDocument=function(){var _;ie=0,ve=0,me=[],ae=[],Se=[],Au=fi(),Ps=fi(),Ee(me),cn.publish("buildDocument"),Ah(),Rs(),function(){cn.publish("putAdditionalObjects");for(var H=0;H<Se.length;H++){var J=Se[H];bi(J.objId,!0),K(J.content),K("endobj")}cn.publish("postPutAdditionalObjects")}(),_=[],function(){for(var H in ze)ze.hasOwnProperty(H)&&(!1===d||!0===d&&m.hasOwnProperty(H))&&Tu(ze[H])}(),function(){var H;for(H in pt)pt.hasOwnProperty(H)&&ug(pt[H])}(),function(){for(var H in jr)jr.hasOwnProperty(H)&&Cu(jr[H])}(),function(H){var J;for(J in vt)vt.hasOwnProperty(J)&&(vt[J]instanceof fh?Su(vt[J]):vt[J]instanceof Xp&&El(vt[J],H))}(_),cn.publish("putResources"),_.forEach(vh),vh({resourcesOid:Ps,objectOid:Number.MAX_SAFE_INTEGER}),cn.publish("postPutResources"),null!==c&&(kr.oid=Kn(),K("<<"),K("/Filter /Standard"),K("/V "+kr.v),K("/R "+kr.r),K("/U <"+kr.toHexString(kr.U)+">"),K("/O <"+kr.toHexString(kr.O)+">"),K("/P "+kr.P),K(">>"),K("endobj")),Cl(),Eh();var P=ve;return Th(),Dr(),K("startxref"),K(""+P),K("%%EOF"),Ee(Ae[q]),me.join("\n")},Sl=p.__private__.getBlob=function(_){return new Blob([Lt(_)],{type:"application/pdf"})},cs=p.output=p.__private__.output=((Vi=function(_,P){switch("string"==typeof(P=P||{})?P={filename:P}:P.filename=P.filename||"generated.pdf",_){case void 0:return Ma();case"save":p.save(P.filename);break;case"arraybuffer":return Lt(Ma());case"blob":return Sl(Ma());case"bloburi":case"bloburl":if(void 0!==zt.URL&&"function"==typeof zt.URL.createObjectURL)return zt.URL&&zt.URL.createObjectURL(Sl(Ma()))||void 0;tr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var H="",J=Ma();try{H=_z(J)}catch{H=_z(unescape(encodeURIComponent(J)))}return"data:application/pdf;filename="+P.filename+";base64,"+H;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(zt)){var se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",De=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(se=P.pdfObjectUrl,De="");var ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+se+'"'+De+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",et=zt.open();return null!==et&&et.document.write(ke),et}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(zt)){var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',Rt=zt.open();if(null!==Rt){Rt.document.write(st);var kt=this;Rt.document.documentElement.querySelector("#pdfViewer").onload=function(){Rt.document.title=P.filename,Rt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(kt.output("bloburl"))}}return Rt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(zt))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var In='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',cr=zt.open();if(null!==cr&&(cr.document.write(In),cr.document.title=P.filename),cr||typeof safari>"u")return cr;break;case"datauri":case"dataurl":return zt.document.location.href=this.output("datauristring",P);default:return null}}).foo=function(){try{return Vi.apply(this,arguments)}catch(H){var _=H.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var P="Error in function "+_.split("\n")[0].split("<")[0]+": "+H.message;if(!zt.console)throw new Error(P);zt.console.error(P,H),zt.alert&&alert(P)}},Vi.foo.bar=Vi,Vi.foo),Du=function(_){return!0===Array.isArray(Xi)&&Xi.indexOf(_)>-1};switch(r){case"pt":Dt=1;break;case"mm":Dt=72/25.4;break;case"cm":Dt=72/2.54;break;case"in":Dt=72;break;case"px":Dt=1==Du("px_scaling")?.75:96/72;break;case"pc":case"em":Dt=12;break;case"ex":Dt=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);Dt=r}var kr=null;Pe(),ce();var ks=p.__private__.getPageInfo=p.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xt[_].objId,pageNumber:_,pageContext:xt[_]}},Ms=p.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in xt)if(xt[P].objId===_)break;return ks(P)},zc=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:xt[q].objId,pageNumber:q,pageContext:xt[q]}};p.addPage=function(){return la.apply(this,arguments),this},p.setPage=function(){return lg.apply(this,arguments),Ee.call(this,Ae[q]),this},p.insertPage=function(_){return this.addPage(),this.movePage(q,_),this},p.movePage=function(_,P){var H,J;if(_>P){H=Ae[_],J=xt[_];for(var se=_;se>P;se--)Ae[se]=Ae[se-1],xt[se]=xt[se-1];Ae[P]=H,xt[P]=J,this.setPage(P)}else if(_<P){H=Ae[_],J=xt[_];for(var De=_;De<P;De++)Ae[De]=Ae[De+1],xt[De]=xt[De+1];Ae[P]=H,xt[P]=J,this.setPage(P)}return this},p.deletePage=function(){return Tl.apply(this,arguments),this},p.__private__.text=p.text=function(_,P,H,J,se){var De,ke,et,st,Rt,kt,In,cr,Yn,$n=(J=J||{}).scope||this;if("number"==typeof _&&"number"==typeof P&&("string"==typeof H||Array.isArray(H))){var zr=H;H=P,P=_,_=zr}if(arguments[3]instanceof At==0?(et=arguments[4],st=arguments[5],"object"===jn(In=arguments[3])&&null!==In||("string"==typeof et&&(st=et,et=null),"string"==typeof In&&(st=In,In=null),"number"==typeof In&&(et=In,In=null),J={flags:In,angle:et,align:st})):(S("The transform parameter of text() with a Matrix value"),Yn=se),isNaN(P)||isNaN(H)||null==_)throw new Error("Invalid arguments passed to jsPDF.text");if(0===_.length)return $n;var Mr,pi="",to="number"==typeof J.lineHeightFactor?J.lineHeightFactor:Ao,Zn=$n.internal.scaleFactor;function xh(Ln){return Ln=Ln.split("\t").join(Array(J.TabLen||9).join(" ")),Eo(Ln,In)}function Ll(Ln){for(var nr,oi=Ln.concat(),Ii=[],Ul=oi.length;Ul--;)"string"==typeof(nr=oi.shift())?Ii.push(nr):Array.isArray(Ln)&&(1===nr.length||void 0===nr[1]&&void 0===nr[2])?Ii.push(nr[0]):Ii.push([nr[0],nr[1],nr[2]]);return Ii}function fs(Ln,nr){var oi;if("string"==typeof Ln)oi=nr(Ln)[0];else if(Array.isArray(Ln)){for(var Ii,Ul,jy=Ln.concat(),pg=[],zb=jy.length;zb--;)"string"==typeof(Ii=jy.shift())?pg.push(nr(Ii)[0]):Array.isArray(Ii)&&"string"==typeof Ii[0]&&(Ul=nr(Ii[0],Ii[1],Ii[2]),pg.push([Ul[0],Ul[1],Ul[2]]));oi=pg}return oi}var f=!1,v=!0;if("string"==typeof _)f=!0;else if(Array.isArray(_)){var C=_.concat();ke=[];for(var j,oe=C.length;oe--;)("string"!=typeof(j=C.shift())||Array.isArray(j)&&"string"!=typeof j[0])&&(v=!1);f=v}if(!1===f)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');"string"==typeof _&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var _e=Ue/$n.internal.scaleFactor,$e=_e*(to-1);switch(J.baseline){case"bottom":H-=$e;break;case"top":H+=_e-$e;break;case"hanging":H+=_e-2*$e;break;case"middle":H+=_e/2-$e}if((kt=J.maxWidth||0)>0&&("string"==typeof _?_=$n.splitTextToSize(_,kt):"[object Array]"===Object.prototype.toString.call(_)&&(_=_.reduce(function(Ln,nr){return Ln.concat($n.splitTextToSize(nr,kt))},[]))),cn.publish("preProcessText",De={text:_,x:P,y:H,options:J,mutex:{pdfEscape:Eo,activeFontKey:at,fonts:ze,activeFontSize:Ue}}),_=De.text,et=(J=De.options).angle,Yn instanceof At==0&&et&&"number"==typeof et){et*=Math.PI/180,0===J.rotationDirection&&(et=-et),F===V&&(et=-et);var An=Math.cos(et),Or=Math.sin(et);Yn=new At(An,Or,-Or,An,0,0)}else et&&et instanceof At&&(Yn=et);F!==V||Yn||(Yn=yr),void 0!==(Rt=J.charSpace||ha)&&(pi+=D(N(Rt))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(cr=J.horizontalScale)&&(pi+=D(100*cr)+" Tz\n");var Tt=-1,dr=void 0!==J.renderingMode?J.renderingMode:J.stroke,Lr=$n.internal.getCurrentPageInfo().pageContext;switch(dr){case 0:case!1:case"fill":Tt=0;break;case 1:case!0:case"stroke":Tt=1;break;case 2:case"fillThenStroke":Tt=2;break;case 3:case"invisible":Tt=3;break;case 4:case"fillAndAddForClipping":Tt=4;break;case 5:case"strokeAndAddPathForClipping":Tt=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Tt=6;break;case 7:case"addToPathForClipping":Tt=7}-1!==Tt?pi+=Tt+" Tr\n":-1!==(void 0!==Lr.usedRenderingMode?Lr.usedRenderingMode:-1)&&(pi+="0 Tr\n"),-1!==Tt&&(Lr.usedRenderingMode=Tt),st=J.align||"left";var xr,ga=Ue*to,Fl=$n.internal.pageSize.getWidth(),Oy=ze[at];Rt=J.charSpace||ha,kt=J.maxWidth||0,In=Object.assign({autoencode:!0,noBOM:!0},J.flags);var Wc=[],Nh=function(Ln){return $n.getStringUnitWidth(Ln,{font:Oy,charSpace:Rt,fontSize:Ue,doKerning:!1})*Ue/Zn};if("[object Array]"===Object.prototype.toString.call(_)){var Ls;ke=Ll(_),"left"!==st&&(xr=ke.map(Nh));var Fs,Kc=0;if("right"===st){P-=xr[0],_=[],oe=ke.length;for(var Vl=0;Vl<oe;Vl++)0===Vl?(Fs=La(P),Ls=Ui(H)):(Fs=N(Kc-xr[Vl]),Ls=-ga),_.push([ke[Vl],Fs,Ls]),Kc=xr[Vl]}else if("center"===st){P-=xr[0]/2,_=[],oe=ke.length;for(var Qc=0;Qc<oe;Qc++)0===Qc?(Fs=La(P),Ls=Ui(H)):(Fs=N((Kc-xr[Qc])/2),Ls=-ga),_.push([ke[Qc],Fs,Ls]),Kc=xr[Qc]}else if("left"===st){_=[],oe=ke.length;for(var Ly=0;Ly<oe;Ly++)_.push(ke[Ly])}else if("justify"===st&&"Identity-H"===Oy.encoding){_=[],oe=ke.length,kt=0!==kt?kt:Fl;for(var fg=0,ii=0;ii<oe;ii++)if(Ls=0===ii?Ui(H):-ga,Fs=0===ii?La(P):fg,ii<oe-1){var jb=N((kt-xr[ii])/(ke[ii].split(" ").length-1)),Mu=ke[ii].split(" ");_.push([Mu[0]+" ",Fs,Ls]),fg=0;for(var Ou=1;Ou<Mu.length;Ou++){var Fy=(Nh(Mu[Ou-1]+" "+Mu[Ou])-Nh(Mu[Ou]))*Zn+jb;_.push(Ou==Mu.length-1?[Mu[Ou],Fy,0]:[Mu[Ou]+" ",Fy,0]),fg-=Fy}}else _.push([ke[ii],Fs,Ls]);_.push(["",fg,0])}else{if("justify"!==st)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],oe=ke.length,kt=0!==kt?kt:Fl,ii=0;ii<oe;ii++){Ls=0===ii?Ui(H):-ga,Fs=0===ii?La(P):0;var Vy=ke[ii].split(" ").length-1;Wc.push(ii<oe-1?D(N(Vy>0?(kt-xr[ii])/Vy:0)):0),_.push([ke[ii],Fs,Ls])}}}!0===("boolean"==typeof J.R2L?J.R2L:Ft)&&(_=fs(_,function(Ln,nr,oi){return[Ln.split("").reverse().join(""),nr,oi]})),cn.publish("postProcessText",De={text:_,x:P,y:H,options:J,mutex:{pdfEscape:Eo,activeFontKey:at,fonts:ze,activeFontSize:Ue}}),_=De.text,Mr=De.mutex.isHex||!1;var By=ze[at].encoding;"WinAnsiEncoding"!==By&&"StandardEncoding"!==By||(_=fs(_,function(Ln,nr,oi){return[xh(Ln),nr,oi]})),ke=Ll(_),_=[];for(var Yc,Zc,Jc,Ph=Array.isArray(ke[0])?1:0,Xc="",Rh=function(Ln,nr,oi){var Ii="";return oi instanceof At?(oi="number"==typeof J.angle?ua(oi,new At(1,0,0,1,Ln,nr)):ua(new At(1,0,0,1,Ln,nr),oi),F===V&&(oi=ua(new At(1,0,0,-1,0,0),oi)),Ii=oi.join(" ")+" Tm\n"):Ii=D(Ln)+" "+D(nr)+" Td\n",Ii},ma=0;ma<ke.length;ma++){switch(Xc="",Ph){case 1:Jc=(Mr?"<":"(")+ke[ma][0]+(Mr?">":")"),Yc=parseFloat(ke[ma][1]),Zc=parseFloat(ke[ma][2]);break;case 0:Jc=(Mr?"<":"(")+ke[ma]+(Mr?">":")"),Yc=La(P),Zc=Ui(H)}void 0!==Wc&&void 0!==Wc[ma]&&(Xc=Wc[ma]+" Tw\n"),0===ma?_.push(Xc+Rh(Yc,Zc,Yn)+Jc):0===Ph?_.push(Xc+Jc):1===Ph&&_.push(Xc+Rh(Yc,Zc,Yn)+Jc)}_=_.join(0===Ph?" Tj\nT* ":" Tj\n"),_+=" Tj\n";var Lu="BT\n/";return Lu+=at+" "+Ue+" Tf\n",Lu+=D(Ue*to)+" TL\n",Lu+=Ru+"\n",Lu+=pi,Lu+=_,K(Lu+="ET"),m[at]=!0,$n};var $c=p.__private__.clip=p.clip=function(_){return K("evenodd"===_?"W*":"W"),this};p.clipEvenOdd=function(){return $c("evenodd")},p.__private__.discardPath=p.discardPath=function(){return K("n"),this};var Os=p.__private__.isValidStyle=function(_){var P=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)&&(P=!0),P};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(_){return Os(_)&&(l=_),this};var On=p.__private__.getStyle=p.getStyle=function(_){var P=l;switch(_){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=_}return P},Dl=p.close=function(){return K("h"),this};p.stroke=function(){return K("S"),this},p.fill=function(_){return ds("f",_),this},p.fillEvenOdd=function(_){return ds("f*",_),this},p.fillStroke=function(_){return ds("B",_),this},p.fillStrokeEvenOdd=function(_){return ds("B*",_),this};var ds=function(_,P){"object"===jn(P)?cg(P,_):K(_)},Oa=function(_){null===_||F===V&&void 0===_||(_=On(_),K(_))};function xy(_,P,H,J,se){var De=new Xp(P||this.boundingBox,H||this.xStep,J||this.yStep,this.gState,se||this.matrix);De.stream=this.stream;var ke=_+"$$"+this.cloneIndex+++"$$";return Uo(ke,De),De}var cg=function(_,P){var H=Yt[_.key],J=vt[H];if(J instanceof fh)K("q"),K(Ny(P)),J.gState&&p.setGState(J.gState),K(_.matrix.toString()+" cm"),K("/"+H+" sh"),K("Q");else if(J instanceof Xp){var se=new At(1,0,0,-1,0,Va());_.matrix&&(se=se.multiply(_.matrix||yr),H=xy.call(J,_.key,_.boundingBox,_.xStep,_.yStep,se).id),K("q"),K("/Pattern cs"),K("/"+H+" scn"),J.gState&&p.setGState(J.gState),K(P),K("Q")}},Ny=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ch=p.moveTo=function(_,P){return K(D(N(_))+" "+D(Z(P))+" m"),this},xl=p.lineTo=function(_,P){return K(D(N(_))+" "+D(Z(P))+" l"),this},xu=p.curveTo=function(_,P,H,J,se,De){return K([D(N(_)),D(Z(P)),D(N(H)),D(Z(J)),D(N(se)),D(Z(De)),"c"].join(" ")),this};p.__private__.line=p.line=function(_,P,H,J,se){if(isNaN(_)||isNaN(P)||isNaN(H)||isNaN(J)||!Os(se))throw new Error("Invalid arguments passed to jsPDF.line");return F===R?this.lines([[H-_,J-P]],_,P,[1,1],se||"S"):this.lines([[H-_,J-P]],_,P,[1,1]).stroke()},p.__private__.lines=p.lines=function(_,P,H,J,se,De){var ke,et,st,Rt,kt,zr,Mr,pi;if("number"==typeof _&&(pi=H,H=P,P=_,_=pi),J=J||[1,1],De=De||!1,isNaN(P)||isNaN(H)||!Array.isArray(_)||!Array.isArray(J)||!Os(se)||"boolean"!=typeof De)throw new Error("Invalid arguments passed to jsPDF.lines");for(Ch(P,H),ke=J[0],et=J[1],Rt=_.length,zr=P,Mr=H,st=0;st<Rt;st++)2===(kt=_[st]).length?xl(zr=kt[0]*ke+zr,Mr=kt[1]*et+Mr):xu(kt[0]*ke+zr,kt[1]*et+Mr,kt[2]*ke+zr,kt[3]*et+Mr,zr=kt[4]*ke+zr,Mr=kt[5]*et+Mr);return De&&Dl(),Oa(se),this},p.path=function(_){for(var P=0;P<_.length;P++){var H=_[P],J=H.c;switch(H.op){case"m":Ch(J[0],J[1]);break;case"l":xl(J[0],J[1]);break;case"c":xu.apply(this,J);break;case"h":Dl()}}return this},p.__private__.rect=p.rect=function(_,P,H,J,se){if(isNaN(_)||isNaN(P)||isNaN(H)||isNaN(J)||!Os(se))throw new Error("Invalid arguments passed to jsPDF.rect");return F===R&&(J=-J),K([D(N(_)),D(Z(P)),D(N(H)),D(N(J)),"re"].join(" ")),Oa(se),this},p.__private__.triangle=p.triangle=function(_,P,H,J,se,De,ke){if(isNaN(_)||isNaN(P)||isNaN(H)||isNaN(J)||isNaN(se)||isNaN(De)||!Os(ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[H-_,J-P],[se-H,De-J],[_-se,P-De]],_,P,[1,1],ke,!0),this},p.__private__.roundedRect=p.roundedRect=function(_,P,H,J,se,De,ke){if(isNaN(_)||isNaN(P)||isNaN(H)||isNaN(J)||isNaN(se)||isNaN(De)||!Os(ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var et=4/3*(Math.SQRT2-1);return se=Math.min(se,.5*H),De=Math.min(De,.5*J),this.lines([[H-2*se,0],[se*et,0,se,De-De*et,se,De],[0,J-2*De],[0,De*et,-se*et,De,-se,De],[2*se-H,0],[-se*et,0,-se,-De*et,-se,-De],[0,2*De-J],[0,-De*et,se*et,-De,se,-De]],_+se,P,[1,1],ke,!0),this},p.__private__.ellipse=p.ellipse=function(_,P,H,J,se){if(isNaN(_)||isNaN(P)||isNaN(H)||isNaN(J)||!Os(se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var De=4/3*(Math.SQRT2-1)*H,ke=4/3*(Math.SQRT2-1)*J;return Ch(_+H,P),xu(_+H,P-ke,_+De,P-J,_,P-J),xu(_-De,P-J,_-H,P-ke,_-H,P),xu(_-H,P+ke,_-De,P+J,_,P+J),xu(_+De,P+J,_+H,P+ke,_+H,P),Oa(se),this},p.__private__.circle=p.circle=function(_,P,H,J){if(isNaN(_)||isNaN(P)||isNaN(H)||!Os(J))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,P,H,H,J)},p.setFont=function(_,P,H){return H&&(P=B(P,H)),at=Ih(_,P,{disableWarning:!1}),this};var Nl=p.__private__.getFont=p.getFont=function(){return ze[Ih.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var _,P,H={};for(_ in yt)if(yt.hasOwnProperty(_))for(P in H[_]=[],yt[_])yt[_].hasOwnProperty(P)&&H[_].push(P);return H},p.addFont=function(_,P,H,J,se){var De=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==De.indexOf(arguments[3])?se=arguments[3]:arguments[3]&&-1==De.indexOf(arguments[3])&&(H=B(H,J)),wh.call(this,_,P,H,se=se||"Identity-H")};var Ao,qc=t.lineWidth||.200025,Vt=p.__private__.getLineWidth=p.getLineWidth=function(){return qc},dg=p.__private__.setLineWidth=p.setLineWidth=function(_){return qc=_,K(D(N(_))+" w"),this};p.__private__.setLineDash=_t.API.setLineDash=_t.API.setLineDashPattern=function(_,P){if(_=_||[],P=P||0,isNaN(P)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(H){return D(N(H))}).join(" "),P=D(N(P)),K("["+_+"] "+P+" d"),this};var Nu=p.__private__.getLineHeight=p.getLineHeight=function(){return Ue*Ao};p.__private__.getLineHeight=p.getLineHeight=function(){return Ue*Ao};var Py=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(_){return"number"==typeof(_=_||1.15)&&(Ao=_),this},Ry=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Ao};Py(t.lineHeight);var La=p.__private__.getHorizontalCoordinate=function(_){return N(_)},Ui=p.__private__.getVerticalCoordinate=function(_){return F===V?_:xt[q].mediaBox.topRightY-xt[q].mediaBox.bottomLeftY-N(_)},ky=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(_){return D(La(_))},My=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(_){return D(Ui(_))},ca=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Bo(ca)},p.__private__.setStrokeColor=p.setDrawColor=function(_,P,H,J){return ca=ls({ch1:_,ch2:P,ch3:H,ch4:J,pdfColorType:"draw",precision:2}),K(ca),this};var Pu=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Bo(Pu)},p.__private__.setFillColor=p.setFillColor=function(_,P,H,J){return Pu=ls({ch1:_,ch2:P,ch3:H,ch4:J,pdfColorType:"fill",precision:2}),K(Pu),this};var Ru=t.textColor||"0 g",da=p.__private__.getTextColor=p.getTextColor=function(){return Bo(Ru)};p.__private__.setTextColor=p.setTextColor=function(_,P,H,J){return Ru=ls({ch1:_,ch2:P,ch3:H,ch4:J,pdfColorType:"text",precision:3}),this};var ha=t.charSpace,hg=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(ha||0)};p.__private__.setCharSpace=p.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ha=_,this};var Pl=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(_){var P=p.CapJoinStyles[_];if(void 0===P)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pl=P,K(P+" J"),this};var Qn=0;p.__private__.setLineJoin=p.setLineJoin=function(_){var P=p.CapJoinStyles[_];if(void 0===P)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qn=P,K(P+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K(D(N(_))+" M"),this},p.GState=hb,p.setGState=function(_){(_="string"==typeof _?pt[Mn[_]]:Rl(null,_)).equals(_r)||(K("/"+_.id+" gs"),_r=_)};var Rl=function(_,P){if(!_||!Mn[_]){var H=!1;for(var J in pt)if(pt.hasOwnProperty(J)&&pt[J].equals(P)){H=!0;break}if(H)P=pt[J];else{var se="GS"+(Object.keys(pt).length+1).toString(10);pt[se]=P,P.id=se}return _&&(Mn[_]=P.id),cn.publish("addGState",P),P}};p.addGState=function(_,P){return Rl(_,P),this},p.saveGraphicsState=function(){return K("q"),qt.push({key:at,size:Ue,color:Ru}),this},p.restoreGraphicsState=function(){K("Q");var _=qt.pop();return at=_.key,Ue=_.size,Ru=_.color,_r=null,this},p.setCurrentTransformationMatrix=function(_){return K(_.toString()+" cm"),this},p.comment=function(_){return K("#"+_),this};var kl=function(_,P){var H=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return H},set:function(De){isNaN(De)||(H=parseFloat(De))}});var J=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return J},set:function(De){isNaN(De)||(J=parseFloat(De))}});var se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return se},set:function(De){se=De.toString()}}),this},Hc=function(_,P,H,J){kl.call(this,_,P),this.type="rect";var se=H||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return se},set:function(ke){isNaN(ke)||(se=parseFloat(ke))}});var De=J||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return De},set:function(ke){isNaN(ke)||(De=parseFloat(ke))}}),this},Ml=function(){this.page=mn,this.currentPage=q,this.pages=Ae.slice(0),this.pagesContext=xt.slice(0),this.x=ft,this.y=Pn,this.matrix=sn,this.width=Sh(q),this.height=pa(q),this.outputDestination=He,this.id="",this.objectNumber=-1};Ml.prototype.restore=function(){mn=this.page,xt=this.pagesContext,Ae=this.pages,ft=this.x,Pn=this.y,sn=this.matrix,hs(q=this.currentPage,this.width),Fa(q,this.height),He=this.outputDestination};var Gc=function(_,P,H,J,se){Fi.push(new Ml),mn=q=0,Ae=[],ft=_,Pn=P,sn=se,ka([H,J])};for(var fa in p.beginFormObject=function(_,P,H,J,se){return Gc(_,P,H,J,se),this},p.endFormObject=function(_){return function(P){if(bo[P])Fi.pop().restore();else{var H=new Ml,J="Xo"+(Object.keys(jr).length+1).toString(10);H.id=J,bo[P]=J,jr[J]=H,cn.publish("addFormObject",H),Fi.pop().restore()}}(_),this},p.doFormObject=function(_,P){var H=jr[bo[_]];return K("q"),K(P.toString()+" cm"),K("/"+H.id+" Do"),K("Q"),this},p.getFormObject=function(_){var P=jr[bo[_]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},p.save=function(_,P){return _=_||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,!1===P.returnPromise?(hh(Sl(Ma()),_),"function"==typeof hh.unload&&zt.setTimeout&&setTimeout(hh.unload,911),this):new Promise(function(H,J){try{var se=hh(Sl(Ma()),_);"function"==typeof hh.unload&&zt.setTimeout&&setTimeout(hh.unload,911),H(se)}catch(De){J(De.message)}})},_t.API)_t.API.hasOwnProperty(fa)&&("events"===fa&&_t.API.events.length?function(_,P){var J,se;for(se=P.length-1;-1!==se;se--)_.subscribe.apply(_,[P[se][0]].concat("function"==typeof(J=P[se][1])?[J]:J))}(cn,_t.API.events):p[fa]=_t.API[fa]);function Sh(_){return xt[_].mediaBox.topRightX-xt[_].mediaBox.bottomLeftX}function hs(_,P){xt[_].mediaBox.topRightX=P+xt[_].mediaBox.bottomLeftX}function pa(_){return xt[_].mediaBox.topRightY-xt[_].mediaBox.bottomLeftY}function Fa(_,P){xt[_].mediaBox.topRightY=P+xt[_].mediaBox.bottomLeftY}var ku=p.getPageWidth=function(_){return Sh(_=_||q)/Dt},Dh=p.setPageWidth=function(_,P){hs(_,P*Dt)},Va=p.getPageHeight=function(_){return pa(_=_||q)/Dt},Ol=p.setPageHeight=function(_,P){Fa(_,P*Dt)};return p.internal={pdfEscape:Eo,getStyle:On,getFont:Nl,getFontSize:Qe,getCharSpace:hg,getTextColor:da,getLineHeight:Nu,getLineHeightFactor:Ry,getLineWidth:Vt,write:en,getHorizontalCoordinate:La,getVerticalCoordinate:Ui,getCoordinateString:ky,getVerticalCoordinateString:My,collections:{},newObject:Kn,newAdditionalObject:us,newObjectDeferred:fi,newObjectDeferredBegin:bi,getFilters:jo,putStream:eo,events:cn,scaleFactor:Dt,pageSize:{getWidth:function(){return ku(q)},setWidth:function(_){Dh(q,_)},getHeight:function(){return Va(q)},setHeight:function(_){Ol(q,_)}},encryptionOptions:c,encryption:kr,getEncryptor:function(_){return null!==c?kr.encryptor(_,0):function(P){return P}},output:cs,getNumberOfPages:bh,pages:Ae,out:K,f2:A,f3:x,getPageInfo:ks,getPageInfoByObjId:Ms,getCurrentPageInfo:zc,getPDFVersion:b,Point:kl,Rectangle:Hc,Matrix:At,hasHotfix:Du},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return ku(q)},set:function(_){Dh(q,_)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Va(q)},set:function(_){Ol(q,_)},enumerable:!0,configurable:!0}),function(_){for(var P=0,H=Et.length;P<H;P++){var J=wh.call(this,_[P][0],_[P][1],_[P][2],Et[P][3],!0);!1===d&&(m[J]=!0);var se=_[P][0].split("-");Al({id:J,fontName:se[0],fontStyle:se[1]||""})}cn.publish("addFonts",{fonts:ze,dictionary:yt})}.call(p,Et),at="F1",la(i,n),cn.publish("initialized"),p}Zp.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Zp.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Zp.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Zp.prototype.processOwnerPassword=function(t,e){return mN(gN(e).substr(0,5),t)},Zp.prototype.encryptor=function(t,e){var n=gN(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return mN(n,r)}},hb.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||jn(t)!==jn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return 0===r},_t.API={events:[]},_t.version="3.0.3";var Br=_t.API,_N=1,ph=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},eg=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Kt=function(t){return t.toFixed(2)},Lc=function(t){return t.toFixed(5)};Br.__acroform__={};var as=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Ez=function(t){return t*_N},vu=function(t){var e=new Tz,n=ot.internal.getHeight(t)||0,r=ot.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Kt(r)),Number(Kt(n))],e},Sve=Br.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Dve=Br.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},xve=Br.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},ti=Br.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return xve(t,e-1)},ni=Br.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Sve(t,e-1)},ri=Br.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Dve(t,e-1)},Nve=Br.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],o=t[1],s=t[2],a=t[3],u={};return u.lowerLeft_X=n(i)||0,u.lowerLeft_Y=r(o+a)||0,u.upperRight_X=n(i+s)||0,u.upperRight_Y=r(o)||0,[Number(Kt(u.lowerLeft_X)),Number(Kt(u.lowerLeft_Y)),Number(Kt(u.upperRight_X)),Number(Kt(u.upperRight_Y))]},Pve=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=yN(t,t._V||t.DV),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Kt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=vu(t);return o.scope=t.scope,o.stream=e.join("\n"),o}},yN=function(t,e){var n=0===t.fontSize?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" ");i=i.map(t.multiline?function(A){return A.split("\n")}:function(A){return[A]});var o=n,s=ot.internal.getHeight(t)||0;s=s<0?-s:s;var A,a=ot.internal.getWidth(t)||0;a=a<0?-a:a,o++;e:for(;o>0;){e="",o--;var l,c,d=fb("3",t,o).height,m=t.multiline?s-o:(s-d)/2,p=m+=2,w=0,b=0,E=0;if(o<=0){e="(...) Tj\n",e+="% Width of Text: "+fb(e,t,o=12).width+", FieldWidth:"+a+"\n";break}for(var T="",R=0,V=0;V<i.length;V++)if(i.hasOwnProperty(V)){var F=!1;if(1!==i[V].length&&E!==i[V].length-1){if((d+2)*(R+2)+2>s)continue e;T+=i[V][E],F=!0,b=V,V--}else{T=" "==(T+=i[V][E]+" ").substr(T.length-1)?T.substr(0,T.length-1):T;var Q=parseInt(V),ne=(A=Q)+1<i.length&&fb(T+" "+i[A+1][0],t,o).width<=a-4,B=V>=i.length-1;if(ne&&!B){T+=" ",E=0;continue}if(ne||B){if(B)b=Q;else if(t.multiline&&(d+2)*(R+2)+2>s)continue e}else{if(!t.multiline||(d+2)*(R+2)+2>s)continue e;b=Q}}for(var D="",S=w;S<=b;S++){var O=i[S];if(t.multiline){if(S===b){D+=O[E]+" ",E=(E+1)%O.length;continue}if(S===w){D+=O[O.length-1]+" ";continue}}D+=O[0]+" "}switch(D=" "==D.substr(D.length-1)?D.substr(0,D.length-1):D,c=fb(D,t,o).width,t.textAlign){case"right":l=a-c-2;break;case"center":l=(a-c)/2;break;default:l=2}e+=Kt(l)+" "+Kt(p)+" Td\n",e+="("+ph(D)+") Tj\n",e+=-Kt(l)+" 0 Td\n",p=-(o+2),c=0,w=F?b:b+1,R++,T=""}break}return r.text=e,r.fontSize=o,r},fb=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Rve={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},kve=function(t,e){var n={type:"reference",object:t};void 0===e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Az=Br.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(0!==o&&(i+=" "),jn(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":"/"!==t[o].substr(0,1)?(void 0!==e&&n&&(r=n.internal.getEncryptor(e)),i+="("+ph(r(t[o].toString()))+")"):i+=t[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},vN=function(t,e,n){var r=function(i){return i};return void 0!==e&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+ph(r(t))+")"},wu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};wu.prototype.toString=function(){return this.objId+" 0 R"},wu.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},wu.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return"content"!=o&&"appearanceStreamContent"!=o&&"scope"!=o&&"objId"!=o&&"_"!=o.substring(0,1)});for(var n in e)if(!1===Object.getOwnPropertyDescriptor(this,e[n]).configurable){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:Az(i,this.objId,this.scope)}):i instanceof wu?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&t.push({key:r,value:i}))}return t};var Tz=function(){wu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};as(Tz,wu);var Cz=function(){wu.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+ph(n(t))+")"}},set:function(n){t=n}})};as(Cz,wu);var Na=function t(){wu.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute F supplied.');e=T}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ti(e,3)},set:function(T){this.F=T?ni(e,3):ri(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute Ff supplied.');n=T}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(T){r=void 0!==T?T:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(T){r[0]=T}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(T){r[1]=T}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(T){r[2]=T}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(T){r[3]=T}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(T){switch(T){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=T;break;default:throw new Error('Invalid value "'+T+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof mb)return;o="FieldObject"+t.FieldNum++}var T=function(R){return R};return this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),"("+ph(T(o))+")"},set:function(T){o=T.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(T){o=T}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(T){s=T}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(T){a=T}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(T){u=T}});var l=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===l?50/_N:l},set:function(T){l=T}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(T){c=T}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof mb||this instanceof gh))return vN(d,this.objId,this.scope)},set:function(T){T=T.toString(),d=T}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Li==0?vN(m,this.objId,this.scope):m},set:function(T){T=T.toString(),m=this instanceof Li==0?"("===T.substr(0,1)?eg(T.substr(1,T.length-2)):eg(T):T}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Li==1?eg(m.substr(1,m.length-1)):m},set:function(T){T=T.toString(),m=this instanceof Li==1?"/"+T:T}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(T){this.V=T}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Li==0?vN(p,this.objId,this.scope):p},set:function(T){T=T.toString(),p=this instanceof Li==0?"("===T.substr(0,1)?eg(T.substr(1,T.length-2)):eg(T):T}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Li==1?eg(p.substr(1,p.length-1)):p},set:function(T){T=T.toString(),p=this instanceof Li==1?"/"+T:T}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(T){b=T=!!T}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(T){w=T}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,1)},set:function(T){this.Ff=T?ni(this.Ff,1):ri(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,2)},set:function(T){this.Ff=T?ni(this.Ff,2):ri(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,3)},set:function(T){this.Ff=T?ni(this.Ff,3):ri(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==E)return E},set:function(T){if(-1===[0,1,2].indexOf(T))throw new Error('Invalid value "'+T+'" for attribute Q supplied.');E=T}}),Object.defineProperty(this,"textAlign",{get:function(){var T;switch(E){case 0:default:T="left";break;case 1:T="center";break;case 2:T="right"}return T},configurable:!0,enumerable:!0,set:function(T){switch(T){case"right":case 2:E=2;break;case"center":case 1:E=1;break;default:E=0}}})};as(Na,wu);var tg=function(){Na.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Az(e,this.objId,this.scope)},set:function(n){var r,i;i=[],"string"==typeof(r=n)&&(i=function(o,s,a){a||(a=1);for(var u,l=[];u=s.exec(o);)l.push(u[a]);return l}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();-1!==e.indexOf(n)&&(e.splice(e.indexOf(n),1),!1!==r););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,18)},set:function(n){this.Ff=n?ni(this.Ff,18):ri(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,19)},set:function(n){!0===this.combo&&(this.Ff=n?ni(this.Ff,19):ri(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,20)},set:function(n){n?(this.Ff=ni(this.Ff,20),e.sort()):this.Ff=ri(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,22)},set:function(n){this.Ff=n?ni(this.Ff,22):ri(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,23)},set:function(n){this.Ff=n?ni(this.Ff,23):ri(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,27)},set:function(n){this.Ff=n?ni(this.Ff,27):ri(this.Ff,27)}}),this.hasAppearanceStream=!1};as(tg,Na);var ng=function(){tg.call(this),this.fontName="helvetica",this.combo=!1};as(ng,tg);var rg=function(){ng.call(this),this.combo=!0};as(rg,ng);var pb=function(){rg.call(this),this.edit=!0};as(pb,rg);var Li=function(){Na.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,15)},set:function(n){this.Ff=n?ni(this.Ff,15):ri(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,16)},set:function(n){this.Ff=n?ni(this.Ff,16):ri(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,17)},set:function(n){this.Ff=n?ni(this.Ff,17):ri(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,26)},set:function(n){this.Ff=n?ni(this.Ff,26):ri(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(e).length){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+ph(n(e[r]))+")");return i.push(">>"),i.join("\n")}},set:function(n){"object"===jn(n)&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){"string"==typeof n&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};as(Li,Na);var gb=function(){Li.call(this),this.pushButton=!0};as(gb,Li);var ig=function(){Li.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=void 0!==e?e:[]}})};as(ig,Li);var mb=function(){var t,e;Na.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+ph(i(r[o]))+")");return s.push(">>"),s.join("\n")},set:function(i){"object"===jn(i)&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){"string"==typeof i&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ot.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};as(mb,Na),ig.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},ig.prototype.createOption=function(t){var e=new mb;return e.Parent=this,e.optionName=t,this.Kids.push(e),Ove.call(this.scope,e),e};var _b=function(){Li.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ot.CheckBox.createAppearanceStream()};as(_b,Li);var gh=function(){Na.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,13)},set:function(e){this.Ff=e?ni(this.Ff,13):ri(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,21)},set:function(e){this.Ff=e?ni(this.Ff,21):ri(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,23)},set:function(e){this.Ff=e?ni(this.Ff,23):ri(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,24)},set:function(e){this.Ff=e?ni(this.Ff,24):ri(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,25)},set:function(e){this.Ff=e?ni(this.Ff,25):ri(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,26)},set:function(e){this.Ff=e?ni(this.Ff,26):ri(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};as(gh,Na);var yb=function(){gh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,14)},set:function(t){this.Ff=t?ni(this.Ff,14):ri(this.Ff,14)}}),this.password=!0};as(yb,gh);var ot={CheckBox:{createAppearanceStream:function(){return{N:{On:ot.CheckBox.YesNormal},D:{On:ot.CheckBox.YesPushDown,Off:ot.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=vu(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=yN(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Kt(ot.internal.getWidth(t))+" "+Kt(ot.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Kt(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join("\n"),e},YesNormal:function(t){var e=vu(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],o=ot.internal.getHeight(t),s=ot.internal.getWidth(t),a=yN(t,t.caption);return i.push("1 g"),i.push("0 0 "+Kt(s)+" "+Kt(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Kt(s-1)+" "+Kt(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Kt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(t){var e=vu(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Kt(ot.internal.getWidth(t))+" "+Kt(ot.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ot.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ot.RadioButton.Circle.YesNormal,e.D[t]=ot.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=vu(t);e.scope=t.scope;var n=[],r=ot.internal.getWidth(t)<=ot.internal.getHeight(t)?ot.internal.getWidth(t)/4:ot.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var o=Number((r*ot.internal.Bezier_C).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Lc(ot.internal.getWidth(t)/2)+" "+Lc(ot.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=vu(t);e.scope=t.scope;var n=[],r=ot.internal.getWidth(t)<=ot.internal.getHeight(t)?ot.internal.getWidth(t)/4:ot.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*ot.internal.Bezier_C).toFixed(5)),s=Number((r*ot.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Lc(ot.internal.getWidth(t)/2)+" "+Lc(ot.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Lc(ot.internal.getWidth(t)/2)+" "+Lc(ot.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},OffPushDown:function(t){var e=vu(t);e.scope=t.scope;var n=[],r=ot.internal.getWidth(t)<=ot.internal.getHeight(t)?ot.internal.getWidth(t)/4:ot.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*ot.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Lc(ot.internal.getWidth(t)/2)+" "+Lc(ot.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ot.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ot.RadioButton.Cross.YesNormal,e.D[t]=ot.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=vu(t);e.scope=t.scope;var n=[],r=ot.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Kt(ot.internal.getWidth(t)-2)+" "+Kt(ot.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Kt(r.x1.x)+" "+Kt(r.x1.y)+" m"),n.push(Kt(r.x2.x)+" "+Kt(r.x2.y)+" l"),n.push(Kt(r.x4.x)+" "+Kt(r.x4.y)+" m"),n.push(Kt(r.x3.x)+" "+Kt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=vu(t);e.scope=t.scope;var n=ot.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Kt(ot.internal.getWidth(t))+" "+Kt(ot.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Kt(ot.internal.getWidth(t)-2)+" "+Kt(ot.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Kt(n.x1.x)+" "+Kt(n.x1.y)+" m"),r.push(Kt(n.x2.x)+" "+Kt(n.x2.y)+" l"),r.push(Kt(n.x4.x)+" "+Kt(n.x4.y)+" m"),r.push(Kt(n.x3.x)+" "+Kt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(t){var e=vu(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Kt(ot.internal.getWidth(t))+" "+Kt(ot.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};ot.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ot.internal.getWidth(t),n=ot.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},ot.internal.getWidth=function(t){var e=0;return"object"===jn(t)&&(e=Ez(t.Rect[2])),e},ot.internal.getHeight=function(t){var e=0;return"object"===jn(t)&&(e=Ez(t.Rect[3])),e};var Ove=Br.addField=function(t){if(function(t,e){if(e.scope=t,void 0!==t.internal&&(void 0===t.internal.acroformPlugin||!1===t.internal.acroformPlugin.isInitialized)){if(Na.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Rve)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");_N=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Cz,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){var n;(n=t).internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0}),t.internal.events.subscribe("buildDocument",function(){!function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&kve(o,n)}}(t)}),t.internal.events.subscribe("putCatalog",function(){!function(n){if(void 0===n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(t)}),t.internal.events.subscribe("postPutPages",function(n){!function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var a=r[s],u=[],l=a.Rect;if(a.Rect&&(a.Rect=Nve(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=ot.createDefaultAppearanceStream(a),"object"===jn(a)&&"function"==typeof a.getKeyValueListForStream&&(u=a.getKeyValueListForStream()),a.Rect=l,a.hasAppearanceStream&&!a.appearanceStreamContent){var c=Pve(a);u.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(a.appearanceStreamContent){var d="";for(var m in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(m)){var p=a.appearanceStreamContent[m];if(d+="/"+m+" ",d+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var w=p[s];"function"==typeof w&&(w=w.call(i,a)),d+="/"+s+" "+w+" ",i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w)}}else"function"==typeof(w=p)&&(w=w.call(i,a)),d+="/"+s+" "+w,i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w);d+=">>"}u.push({key:"AP",value:"<<\n"+d+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:a.objId}),i.internal.out("endobj")}o&&function(b,E){for(var T in b)if(b.hasOwnProperty(T)){var R=T,V=b[T];E.internal.newObjectDeferredBegin(V.objId,!0),"object"===jn(V)&&"function"==typeof V.putStream&&V.putStream(),delete b[R]}}(i.internal.acroformPlugin.xForms,i)}(n,t)}),t.internal.acroformPlugin.isInitialized=!0}}(this,t),!(t instanceof Na))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};function Sz(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}Br.AcroFormChoiceField=tg,Br.AcroFormListBox=ng,Br.AcroFormComboBox=rg,Br.AcroFormEditBox=pb,Br.AcroFormButton=Li,Br.AcroFormPushButton=gb,Br.AcroFormRadioButton=ig,Br.AcroFormCheckBox=_b,Br.AcroFormTextField=gh,Br.AcroFormPasswordField=yb,Br.AcroFormAppearance=ot,Br.AcroForm={ChoiceField:tg,ListBox:ng,ComboBox:rg,EditBox:pb,Button:Li,PushButton:gb,RadioButton:ig,CheckBox:_b,TextField:gh,PasswordField:yb,Appearance:ot},_t.AcroForm={ChoiceField:tg,ListBox:ng,ComboBox:rg,EditBox:pb,Button:Li,PushButton:gb,RadioButton:ig,CheckBox:_b,TextField:gh,PasswordField:yb,Appearance:ot},function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(A,x){var N,Z,fe,be,we,ce=n;if("RGBA"===(x=x||n)||void 0!==A.data&&A.data instanceof Uint8ClampedArray&&"height"in A&&"width"in A)return"RGBA";if(ne(A))for(we in r)for(fe=r[we],N=0;N<fe.length;N+=1){for(be=!0,Z=0;Z<fe[N].length;Z+=1)if(void 0!==fe[N][Z]&&fe[N][Z]!==A[Z]){be=!1;break}if(!0===be){ce=we;break}}else for(we in r)for(fe=r[we],N=0;N<fe.length;N+=1){for(be=!0,Z=0;Z<fe[N].length;Z+=1)if(void 0!==fe[N][Z]&&fe[N][Z]!==A.charCodeAt(Z)){be=!1;break}if(!0===be){ce=we;break}}return ce===n&&x!==n&&(ce=x),ce},o=function A(x){for(var N=this.internal.write,Z=this.internal.putStream,fe=(0,this.internal.getFilters)();-1!==fe.indexOf("FlateEncode");)fe.splice(fe.indexOf("FlateEncode"),1);x.objectId=this.internal.newObject();var be=[];if(be.push({key:"Type",value:"/XObject"}),be.push({key:"Subtype",value:"/Image"}),be.push({key:"Width",value:x.width}),be.push({key:"Height",value:x.height}),x.colorSpace===T.INDEXED?be.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(x.palette.length/3-1)+" "+("sMask"in x&&void 0!==x.sMask?x.objectId+2:x.objectId+1)+" 0 R]"}):(be.push({key:"ColorSpace",value:"/"+x.colorSpace}),x.colorSpace===T.DEVICE_CMYK&&be.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),be.push({key:"BitsPerComponent",value:x.bitsPerComponent}),"decodeParameters"in x&&void 0!==x.decodeParameters&&be.push({key:"DecodeParms",value:"<<"+x.decodeParameters+">>"}),"transparency"in x&&Array.isArray(x.transparency)&&x.transparency.length>0){for(var we="",ce=0,Ie=x.transparency.length;ce<Ie;ce++)we+=x.transparency[ce]+" "+x.transparency[ce]+" ";be.push({key:"Mask",value:"["+we+"]"})}if(void 0!==x.sMask&&be.push({key:"SMask",value:x.objectId+1+" 0 R"}),Z({data:x.data,additionalKeyValues:be,alreadyAppliedFilters:void 0!==x.filter?["/"+x.filter]:void 0,objectId:x.objectId}),N("endobj"),"sMask"in x&&void 0!==x.sMask){var Pe,L=null!==(Pe=x.sMaskBitsPerComponent)&&void 0!==Pe?Pe:x.bitsPerComponent,q={width:x.width,height:x.height,colorSpace:"DeviceGray",bitsPerComponent:L,data:x.sMask};"filter"in x&&(q.decodeParameters="/Predictor ".concat(x.predictor," /Colors 1 /BitsPerComponent ").concat(L," /Columns ").concat(x.width),q.filter=x.filter),A.call(this,q)}if(x.colorSpace===T.INDEXED){var Y=this.internal.newObject();Z({data:D(new Uint8Array(x.palette)),objectId:Y}),N("endobj")}},s=function(){var A=this.internal.collections[e+"images"];for(var x in A)o.call(this,A[x])},a=function(){var A,x=this.internal.collections[e+"images"],N=this.internal.write;for(var Z in x)N("/I"+(A=x[Z]).index,A.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var A=this.internal.collections[e+"images"];return u.call(this),A},c=function(){return Object.keys(this.internal.collections[e+"images"]).length},d=function(A){return"function"==typeof t["process"+A.toUpperCase()]},m=function(A){return"object"===jn(A)&&1===A.nodeType},p=function(A,x){if("IMG"===A.nodeName&&A.hasAttribute("src")){var N=""+A.getAttribute("src");if(0===N.indexOf("data:image/"))return cb(unescape(N).split("base64,").pop());var Z=t.loadFile(N,!0);if(void 0!==Z)return Z}if("CANVAS"===A.nodeName){if(0===A.width||0===A.height)throw new Error("Given canvas must have data. Canvas width: "+A.width+", height: "+A.height);var fe;switch(x){case"PNG":fe="image/png";break;case"WEBP":fe="image/webp";break;default:fe="image/jpeg"}return cb(A.toDataURL(fe,1).split("base64,").pop())}},w=function(A){var x=this.internal.collections[e+"images"];if(x)for(var N in x)if(A===x[N].alias)return x[N]},b=function(A,x,N){return A||x||(A=-96,x=-96),A<0&&(A=-1*N.width*72/A/this.internal.scaleFactor),x<0&&(x=-1*N.height*72/x/this.internal.scaleFactor),0===A&&(A=x*N.width/N.height),0===x&&(x=A*N.height/N.width),[A,x]},E=function(A,x,N,Z,fe,be){var we=b.call(this,N,Z,fe),ce=this.internal.getCoordinateString,Ie=this.internal.getVerticalCoordinateString,je=l.call(this);if(N=we[0],Z=we[1],je[fe.index]=fe,be){be*=Math.PI/180;var Pe=Math.cos(be),L=Math.sin(be),q=function(X){return X.toFixed(4)},Y=[q(Pe),q(L),q(-1*L),q(Pe),0,0,"cm"]}this.internal.write("q"),be?(this.internal.write([1,"0","0",1,ce(A),Ie(x+Z),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([ce(N),"0","0",ce(Z),"0","0","cm"].join(" "))):this.internal.write([ce(N),"0","0",ce(Z),ce(A),Ie(x+Z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+fe.index+" Do"),this.internal.write("Q")},T=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var R=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},V=t.__addimage__.sHashCode=function(A){var x,N,Z=0;if("string"==typeof A)for(N=A.length,x=0;x<N;x++)Z=(Z<<5)-Z+A.charCodeAt(x),Z|=0;else if(ne(A))for(N=A.byteLength/2,x=0;x<N;x++)Z=(Z<<5)-Z+A[x],Z|=0;return Z},F=t.__addimage__.validateStringAsBase64=function(A){(A=A||"").toString().trim();var x=!0;return 0===A.length&&(x=!1),A.length%4!=0&&(x=!1),!1===/^[A-Za-z0-9+/]+$/.test(A.substr(0,A.length-2))&&(x=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(A.substr(-2))&&(x=!1),x},Q=t.__addimage__.extractImageFromDataUrl=function(A){if(null==A||!(A=A.trim()).startsWith("data:"))return null;var x=A.indexOf(",");return x<0?null:A.substring(0,x).trim().endsWith("base64")?A.substring(x+1):null};t.__addimage__.isArrayBuffer=function(A){return A instanceof ArrayBuffer};var ne=t.__addimage__.isArrayBufferView=function(A){return A instanceof Int8Array||A instanceof Uint8Array||A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array},B=t.__addimage__.binaryStringToUint8Array=function(A){for(var x=A.length,N=new Uint8Array(x),Z=0;Z<x;Z++)N[Z]=A.charCodeAt(Z);return N},D=t.__addimage__.arrayBufferToBinaryString=function(A){for(var x="",N=ne(A)?A:new Uint8Array(A),Z=0;Z<N.length;Z+=8192)x+=String.fromCharCode.apply(null,N.subarray(Z,Z+8192));return x};t.addImage=function(){var A,x,N,Z,fe,be,we,ce,Ie;if("number"==typeof arguments[1]?(x=n,N=arguments[1],Z=arguments[2],fe=arguments[3],be=arguments[4],we=arguments[5],ce=arguments[6],Ie=arguments[7]):(x=arguments[1],N=arguments[2],Z=arguments[3],fe=arguments[4],be=arguments[5],we=arguments[6],ce=arguments[7],Ie=arguments[8]),"object"===jn(A=arguments[0])&&!m(A)&&"imageData"in A){var je=A;A=je.imageData,x=je.format||x||n,N=je.x||N||0,Z=je.y||Z||0,fe=je.w||je.width||fe,be=je.h||je.height||be,we=je.alias||we,ce=je.compression||ce,Ie=je.rotation||je.angle||Ie}var Pe=this.internal.getFilters();if(void 0===ce&&-1!==Pe.indexOf("FlateEncode")&&(ce="SLOW"),isNaN(N)||isNaN(Z))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var L=S.call(this,A,x,we,ce);return E.call(this,N,Z,fe,be,L,Ie),this};var S=function(A,x,N,Z){var fe,be,we,Ie;if("string"==typeof A&&i(A)===n){A=unescape(A);var ce=O(A,!1);(""!==ce||void 0!==(ce=t.loadFile(A,!0)))&&(A=ce)}if(m(A)&&(A=p(A,x)),x=i(A,x),!d(x))throw new Error("addImage does not support files of type '"+x+"', please ensure that a plugin for '"+x+"' support is added.");if((null==(we=N)||0===we.length)&&(N="string"==typeof(Ie=A)||ne(Ie)?V(Ie):ne(Ie.data)?V(Ie.data):null),(fe=w.call(this,N))||(A instanceof Uint8Array||"RGBA"===x||(be=A,A=B(A)),fe=this["process"+x.toUpperCase()](A,c.call(this),N,function(Ie){return Ie&&"string"==typeof Ie&&(Ie=Ie.toUpperCase()),Ie in t.image_compression?Ie:R.NONE}(Z),be)),!fe)throw new Error("An unknown error occurred whilst processing the image.");return fe},O=t.__addimage__.convertBase64ToBinaryString=function(A,x){x="boolean"!=typeof x||x;var N,Z="";if("string"==typeof A){var fe;N=null!==(fe=Q(A))&&void 0!==fe?fe:A;try{Z=cb(N)}catch(be){if(x)throw F(N)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+be.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Z};t.getImageProperties=function(A){var x,N,Z="";if(m(A)&&(A=p(A)),"string"==typeof A&&i(A)===n&&(""===(Z=O(A,!1))&&(Z=t.loadFile(A)||""),A=Z),N=i(A),!d(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(A instanceof Uint8Array||(A=B(A)),!(x=this["process"+N.toUpperCase()](A)))throw new Error("An unknown error occurred whilst processing the image");return x.fileType=N,x}}(_t.API),
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){var e=function(n){if(void 0!==n&&""!=n)return!0};_t.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(n.objId),l=n.pageContext.annotations,c=!1,d=0;d<l.length&&!c;d++)switch((r=l[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var m=0;m<l.length;m++){r=l[m];var p=this.internal.pdfEscape,w=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),T=this.internal.getEncryptor(b.objId),R=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(T(r.contents))+")",o+=" /Popup "+E.objId+" 0 R",o+=" /P "+u.objId+" 0 R",o+=" /T ("+p(T(R))+") >>",b.content=o;var V=b.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+V,r.open&&(o+=" /Open true"),E.content=o+=" >>",this.internal.write(b.objId,"0 R",E.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var F=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(w(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",o+=" /Border [0 0 0]",this.internal.write(o+=" >>");break;case"link":if(r.options.name){var Q=this.annotations._nameMap[r.options.name];r.options.pageNumber=Q.page,r.options.top=Q.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(w(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var ne=a(r.options.top);r.options.left=r.options.left||0,void 0===r.options.zoom&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+ne+" "+r.options.zoom+"]"}""!=o&&this.internal.write(o+=" >>")}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,o,s){var a=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:u(n),y:l(r),w:u(n+i),h:l(r+o)},options:s,type:"link"})},t.textWithLink=function(n,r,i,o){var s,a,u=this.getTextWidth(n),l=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==o.maxWidth){var c=this.splitTextToSize(n,a=o.maxWidth).length;s=Math.ceil(l*c)}else a=u,s=l;return this.text(n,r,i,o),"center"===o.align&&(r-=u/2),"right"===o.align&&(r-=u),this.link(r,(i+=.2*l)-l,a,s,o),u},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(_t.API),
/**
         * @license
         * Copyright (c) 2017 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(b){return void 0!==e[b.charCodeAt(0)]},s=t.__arabicParser__.isArabicLetter=function(b){return"string"==typeof b&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},a=t.__arabicParser__.isArabicEndLetter=function(b){return s(b)&&o(b)&&e[b.charCodeAt(0)].length<=2},u=t.__arabicParser__.isArabicAlfLetter=function(b){return s(b)&&i.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return s(b)&&o(b)&&e[b.charCodeAt(0)].length>=1};var l=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return s(b)&&o(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return s(b)&&o(b)&&e[b.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return s(b)&&o(b)&&4==e[b.charCodeAt(0)].length},d=t.__arabicParser__.resolveLigatures=function(b){var E=0,T=n,R="",V=0;for(E=0;E<b.length;E+=1)void 0!==T[b.charCodeAt(E)]?(V++,"number"==typeof(T=T[b.charCodeAt(E)])&&(R+=String.fromCharCode(T),T=n,V=0),E===b.length-1&&(T=n,R+=b.charAt(E-(V-1)),E-=V-1,V=0)):(T=n,R+=b.charAt(E-V),E-=V,V=0);return R};t.__arabicParser__.isArabicDiacritic=function(b){return void 0!==b&&void 0!==r[b.charCodeAt(0)]};var m=t.__arabicParser__.getCorrectForm=function(b,E,T){return s(b)?!1===o(b)?-1:!l(b)||!s(E)&&!s(T)||!s(T)&&a(E)||a(b)&&!s(E)||a(b)&&u(E)||a(b)&&a(E)?0:c(b)&&s(E)&&!a(E)&&s(T)&&l(T)?3:a(b)||!s(T)?1:2:-1},p=function(b){var E=0,T=0,R=0,V="",F="",Q="",ne=(b=b||"").split("\\s+"),B=[];for(E=0;E<ne.length;E+=1){for(B.push(""),T=0;T<ne[E].length;T+=1)F=ne[E][T-1],Q=ne[E][T+1],s(V=ne[E][T])?(R=m(V,F,Q),B[E]+=-1!==R?String.fromCharCode(e[V.charCodeAt(0)][R]):V):B[E]+=V;B[E]=d(B[E])}return B.join(" ")},w=t.__arabicParser__.processArabic=t.processArabic=function(){var b,E="string"==typeof arguments[0]?arguments[0]:arguments[0].text,T=[];if(Array.isArray(E)){var R=0;for(T=[],R=0;R<E.length;R+=1)Array.isArray(E[R])?T.push([p(E[R][0]),E[R][1],E[R][2]]):T.push([p(E[R])]);b=T}else b=p(E);return"string"==typeof arguments[0]?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",w])}(_t.API),_t.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform","javascript"===t.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||!1===Number.isInteger(a)||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||!1===Number.isInteger(a)||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if("2d"!==(n=n||"2d"))return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(_t.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var l=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(b){m=b}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(b){w=b}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof u?u:void 0,this},t.getTextDimensions=function(u,l){r.call(this);var c=(l=l||{}).fontSize||this.getFontSize(),d=l.font||this.getFont(),m=l.scaleFactor||this.internal.scaleFactor,p=0,w=0,b=0,E=this;if(!Array.isArray(u)&&"string"!=typeof u){if("number"!=typeof u)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var T=l.maxWidth;T>0?"string"==typeof u?u=this.splitTextToSize(u,T):"[object Array]"===Object.prototype.toString.call(u)&&(u=u.reduce(function(V,F){return V.concat(E.splitTextToSize(F,T))},[])):u=Array.isArray(u)?u:[u];for(var R=0;R<u.length;R++)p<(b=this.getStringUnitWidth(u[R],{font:d})*c)&&(p=b);return 0!==p&&(w=u.length),{w:p/=m,h:Math.max((w*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var u;u=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var l=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return void 0!==l.lineNumber&&(l.lineNumber===u.lineNumber?(u.x=(l.x||0)+(l.width||0),u.y=l.y||0):l.y+l.height+u.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=d.top,p&&m&&(this.printHeaderRow(u.lineNumber,!0),u.y+=m[0].height)):u.y=l.y+l.height||u.y),void 0!==u.text[0]&&(this.rect(u.x,u.y,u.width,u.height,!0===n?"FD":void 0),"right"===u.align?this.text(u.text,u.x+u.width-c,u.y+c,{align:"right",baseline:"top"}):"center"===u.align?this.text(u.text,u.x+u.width/2,u.y+c,{align:"center",baseline:"top",maxWidth:u.width-c-c}):this.text(u.text,u.x+c,u.y+c,{align:"left",baseline:"top",maxWidth:u.width-c-c})),this.internal.__cell__.lastCell=u,this};t.table=function(u,l,c,d,m){if(r.call(this),!c)throw new Error("No data for PDF table.");var p,w,b,E,T=[],R=[],V=[],F={},Q={},ne=[],B=[],D=(m=m||{}).autoSize||!1,S=!1!==m.printHeaders,O=m.css&&void 0!==m.css["font-size"]?16*m.css["font-size"]:m.fontSize||12,A=m.margins||Object.assign({width:this.getPageWidth()},e),x="number"==typeof m.padding?m.padding:3,N=m.headerBackgroundColor||"#c8c8c8",Z=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=x,this.internal.__cell__.headerBackgroundColor=N,this.internal.__cell__.headerTextColor=Z,this.setFontSize(O),null==d)R=T=Object.keys(c[0]),V=T.map(function(){return"left"});else if(Array.isArray(d)&&"object"===jn(d[0]))for(T=d.map(function(je){return je.name}),R=d.map(function(je){return je.prompt||je.name||""}),V=d.map(function(je){return je.align||"left"}),p=0;p<d.length;p+=1)Q[d[p].name]=.7499990551181103*d[p].width;else Array.isArray(d)&&"string"==typeof d[0]&&(R=T=d,V=T.map(function(){return"left"}));if(D||Array.isArray(d)&&"string"==typeof d[0])for(p=0;p<T.length;p+=1){for(F[E=T[p]]=c.map(function(je){return je[E]}),this.setFont(void 0,"bold"),ne.push(this.getTextDimensions(R[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=F[E],this.setFont(void 0,"normal"),b=0;b<w.length;b+=1)ne.push(this.getTextDimensions(w[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Q[E]=Math.max.apply(null,ne)+x+x,ne=[]}if(S){var fe={};for(p=0;p<T.length;p+=1)fe[T[p]]={},fe[T[p]].text=R[p],fe[T[p]].align=V[p];var be=a.call(this,fe,Q);B=T.map(function(je){return new o(u,l,Q[je],be,fe[je].text,void 0,fe[je].align)}),this.setTableHeaderRow(B),this.printHeaderRow(1,!1)}var we=d.reduce(function(je,Pe){return je[Pe.name]=Pe.align,je},{});for(p=0;p<c.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:c[p]},this);var ce=a.call(this,c[p],Q);for(b=0;b<T.length;b+=1){var Ie=c[p][T[b]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:b,data:Ie},this),s.call(this,new o(u,l,Q[T[b]],ce,Ie,p+2,we[T[b]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=l,this};var a=function(u,l){var c=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(u).map(function(p){var w=u[p];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,l[p]-c-c)},this).map(function(p){return this.getLineHeightFactor()*p.length*d/m+c+c},this).reduce(function(p,w){return Math.max(p,w)},0)};t.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},t.printHeaderRow=function(u,l){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){c=this.internal.__cell__.tableHeaderRow[p].clone(),l&&(c.y=this.internal.__cell__.margins.top||0,m.push(c)),c.lineNumber=u;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,c),this.setTextColor(w)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),n=!1}}(_t.API);var Dz={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},xz=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],wN=Sz(xz),Nz=[100,200,300,400,500,600,700,800,900],Lve=Sz(Nz);function bN(t){var o,e=t.family.replace(/"|'/g,"").toLowerCase(),n=Dz[o=(o=t.style)||"normal"]?o:"normal",r=function(o){return o?"number"==typeof o?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):"bold"===o?700:400:400}(t.weight),i=function(o){return"number"==typeof wN[o=o||"normal"]?o:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function Pz(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var Fve={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Rz={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function kz(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Mz(t){return t.trimLeft()}function Vve(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Uve(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===e?null:[e[0],t.substring(e[0].length)]}var vb,Oz,Lz,og,wb,Fz,Vz,Uz,IN=["times"];function Bz(t,e,n,r,i){var o=4,s=zz;switch(i){case _t.API.image_compression.FAST:o=1,s=jz;break;case _t.API.image_compression.MEDIUM:o=6,s=$z;break;case _t.API.image_compression.SLOW:o=9,s=qz}var a=J_(t=function(u,l,c,d){for(var m,p=u.length/l,w=new Uint8Array(u.length+p),b=[Bve,jz,zz,$z,qz],E=0;E<p;E+=1){var T=E*l,R=u.subarray(T,T+l);if(d)w.set(d(R,c,m),T+E);else{for(var V=b.length,F=[],Q=0;Q<V;Q+=1)F[Q]=b[Q](R,c,m);var ne=zve(F.concat());w.set(F[ne],T+E)}m=R}return w}(t,e,Math.ceil(n*r/8),s),{level:o});return _t.API.__addimage__.arrayBufferToBinaryString(a)}function Bve(t){var e=Array.apply([],t);return e.unshift(0),e}function jz(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1)r[i+1]=t[i]-(t[i-e]||0)+256&255;return r}function zz(t,e,n){var r=t.length,i=[];i[0]=2;for(var o=0;o<r;o+=1)i[o+1]=t[o]-(n&&n[o]||0)+256&255;return i}function $z(t,e,n){var r=t.length,i=[];i[0]=3;for(var o=0;o<r;o+=1)i[o+1]=t[o]+256-((t[o-e]||0)+(n&&n[o]||0)>>>1)&255;return i}function qz(t,e,n){var r=t.length,i=[];i[0]=4;for(var o=0;o<r;o+=1){var s=jve(t[o-e]||0,n&&n[o]||0,n&&n[o-e]||0);i[o+1]=t[o]-s+256&255}return i}function jve(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),o=Math.abs(t+e-n-n);return r<=i&&r<=o?t:i<=o?e:n}function zve(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function EN(t,e,n){var r=e*n,i=Math.floor(r/8),o=16-(r-8*i+n),s=(1<<n)-1;return Gz(t,i)>>o&s}function Hz(t,e,n,r){var l,c,d,i=n*r,o=Math.floor(i/8),s=16-(i-8*o+r),a=(1<<r)-1,u=(e&a)<<s;l=t,c=o,d=Gz(t,o)&~(a<<s)&65535|u,c+1<l.byteLength?l.setUint16(c,d,!1):l.setUint8(c,d>>8&255)}function Gz(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function $ve(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=1<<1+(7&i);e++,e++;var a=null,u=null;i>>7&&(a=e,u=s,e+=3*s);var l=!0,c=[],d=0,m=null,p=0,w=null;for(this.width=n,this.height=r;l&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,w=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((A=t[e++])>=0))throw Error("Invalid block size");if(0===A)break;e+=A}break;case 249:if(4!==t[e++]||0!==t[e+4])throw new Error("Invalid graphics extension block.");var b=t[e++];d=t[e++]|t[e++]<<8,m=t[e++],1&b||(m=null),p=b>>2&7,e++;break;case 254:for(;;){if(!((A=t[e++])>=0))throw Error("Invalid block size");if(0===A)break;e+=A}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var E=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,R=t[e++]|t[e++]<<8,V=t[e++]|t[e++]<<8,F=t[e++],Q=F>>6&1,ne=1<<1+(7&F),B=a,D=u,S=!1;F>>7&&(S=!0,B=e,D=ne,e+=3*ne);var O=e;for(e++;;){var A;if(!((A=t[e++])>=0))throw Error("Invalid block size");if(0===A)break;e+=A}c.push({x:E,y:T,width:R,height:V,has_local_palette:S,palette_offset:B,palette_size:D,data_offset:O,data_length:e-O,transparent_index:m,interlaced:!!Q,delay:d,disposal:p});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return w},this.frameInfo=function(x){if(x<0||x>=c.length)throw new Error("Frame index out of range.");return c[x]},this.decodeAndBlitFrameBGRA=function(x,N){var Z=this.frameInfo(x),fe=Z.width*Z.height,be=new Uint8Array(fe);Wz(t,Z.data_offset,be,fe);var we=Z.palette_offset,ce=Z.transparent_index;null===ce&&(ce=256);var Ie=Z.width,je=n-Ie,Pe=Ie,L=4*(Z.y*n+Z.x),q=4*((Z.y+Z.height)*n+Z.x),Y=L,X=4*je;!0===Z.interlaced&&(X+=4*n*7);for(var ie=8,ae=0,me=be.length;ae<me;++ae){var ve=be[ae];if(0===Pe&&(Pe=Ie,(Y+=X)>=q&&(X=4*je+4*n*(ie-1),Y=L+(Ie+je)*(ie<<1),ie>>=1)),ve===ce)Y+=4;else{var Se=t[we+3*ve],Ae=t[we+3*ve+1];N[Y++]=t[we+3*ve+2],N[Y++]=Ae,N[Y++]=Se,N[Y++]=255}--Pe}},this.decodeAndBlitFrameRGBA=function(x,N){var Z=this.frameInfo(x),fe=Z.width*Z.height,be=new Uint8Array(fe);Wz(t,Z.data_offset,be,fe);var we=Z.palette_offset,ce=Z.transparent_index;null===ce&&(ce=256);var Ie=Z.width,je=n-Ie,Pe=Ie,L=4*(Z.y*n+Z.x),q=4*((Z.y+Z.height)*n+Z.x),Y=L,X=4*je;!0===Z.interlaced&&(X+=4*n*7);for(var ie=8,ae=0,me=be.length;ae<me;++ae){var ve=be[ae];if(0===Pe&&(Pe=Ie,(Y+=X)>=q&&(X=4*je+4*n*(ie-1),Y=L+(Ie+je)*(ie<<1),ie>>=1)),ve===ce)Y+=4;else{var Ae=t[we+3*ve+1],Ge=t[we+3*ve+2];N[Y++]=t[we+3*ve],N[Y++]=Ae,N[Y++]=Ge,N[Y++]=255}--Pe}}}function Wz(t,e,n,r){for(var i=t[e++],o=1<<i,s=o+1,a=s+1,u=i+1,l=(1<<u)-1,c=0,d=0,m=0,p=t[e++],w=new Int32Array(4096),b=null;;){for(;c<16&&0!==p;)d|=t[e++]<<c,c+=8,1===p?p=t[e++]:--p;if(c<u)break;var E=d&l;if(d>>=u,c-=u,E!==o){if(E===s)break;for(var T=E<a?E:b,R=0,V=T;V>o;)V=w[V]>>8,++R;var F=V;if(m+R+(T!==E?1:0)>r)return void tr.log("Warning, gif stream longer than expected.");n[m++]=F;var Q=m+=R;for(T!==E&&(n[m++]=F),V=T;R--;)n[--Q]=255&(V=w[V]),V>>=8;null!==b&&a<4096&&(w[a++]=b<<8|F,a>=l+1&&u<12&&(++u,l=l<<1|1)),b=E}else a=s+1,l=(1<<(u=i+1))-1,b=null}return m!==r&&tr.log("Warning, gif stream shorter than expected."),n}function AN(t){var e,n,r,i,o,s=Math.floor,a=new Array(64),u=new Array(64),l=new Array(64),c=new Array(64),d=new Array(65535),m=new Array(65535),p=new Array(64),w=new Array(64),b=[],E=0,T=7,R=new Array(64),V=new Array(64),F=new Array(64),Q=new Array(256),ne=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],x=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],fe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function be(L,q){for(var Y=0,X=0,ie=new Array,ae=1;ae<=16;ae++){for(var me=1;me<=L[ae];me++)ie[q[X]]=[],ie[q[X]][0]=Y,ie[q[X]][1]=ae,X++,Y++;Y*=2}return ie}function we(L){for(var q=L[0],Y=L[1]-1;Y>=0;)q&1<<Y&&(E|=1<<T),Y--,--T<0&&(255==E?(ce(255),ce(0)):ce(E),T=7,E=0)}function ce(L){b.push(L)}function Ie(L){ce(L>>8&255),ce(255&L)}function je(L,q,Y,X,ie){for(var ae,me=ie[0],ve=ie[240],Se=function(Ue,ut){var Qe,Ft,mt,tn,Ct,Pt,$t,ht,at,Dt,ft=0;for(at=0;at<8;++at){var Pn=(Qe=Ue[ft])+(ht=Ue[ft+7]),sn=Qe-ht,ze=(Ft=Ue[ft+1])+($t=Ue[ft+6]),yt=Ft-$t,qt=(mt=Ue[ft+2])+(Pt=Ue[ft+5]),vt=mt-Pt,Yt=(tn=Ue[ft+3])+(Ct=Ue[ft+4]),pt=tn-Ct,Mn=Pn+Yt,_r=Pn-Yt,mn=ze+qt,xt=ze-qt;Ue[ft]=Mn+mn,Ue[ft+4]=Mn-mn;var cn=.707106781*(xt+_r);Ue[ft+2]=_r+cn,Ue[ft+6]=_r-cn;var Xi=.382683433*((Mn=pt+vt)-(xt=yt+sn)),jr=.5411961*Mn+Xi,bo=1.306562965*xt+Xi,Fi=.707106781*(mn=vt+yt),At=sn+Fi,ua=sn-Fi;Ue[ft+5]=ua+jr,Ue[ft+3]=ua-jr,Ue[ft+1]=At+bo,Ue[ft+7]=At-bo,ft+=8}for(ft=0,at=0;at<8;++at){var yr=(Qe=Ue[ft])+(ht=Ue[ft+56]),Uo=Qe-ht,Vi=(Ft=Ue[ft+8])+($t=Ue[ft+48]),Kn=Ft-$t,fi=(mt=Ue[ft+16])+(Pt=Ue[ft+40]),bi=mt-Pt,us=(tn=Ue[ft+24])+(Ct=Ue[ft+32]),Au=tn-Ct,Ps=yr+us,Bo=yr-us,ls=Vi+fi,jo=Vi-fi;Ue[ft]=Ps+ls,Ue[ft+32]=Ps-ls;var eo=.707106781*(jo+Bo);Ue[ft+16]=Bo+eo,Ue[ft+48]=Bo-eo;var Io=.382683433*((Ps=Au+bi)-(jo=Kn+Uo)),Rs=.5411961*Ps+Io,Tu=1.306562965*jo+Io,Cu=.707106781*(ls=bi+Kn),Su=Uo+Cu,El=Uo-Cu;Ue[ft+40]=El+Rs,Ue[ft+24]=El-Rs,Ue[ft+8]=Su+Tu,Ue[ft+56]=Su-Tu,ft++}for(at=0;at<64;++at)p[at]=(Dt=Ue[at]*ut[at])>0?Dt+.5|0:Dt-.5|0;return p}(L,q),Ae=0;Ae<64;++Ae)w[B[Ae]]=Se[Ae];var Ge=w[0]-Y;Y=w[0],0==Ge?we(X[0]):(we(X[m[ae=32767+Ge]]),we(d[ae]));for(var He=63;He>0&&0==w[He];)He--;if(0==He)return we(me),Y;for(var Ee,K=1;K<=He;){for(var en=K;0==w[K]&&K<=He;)++K;var Lt=K-en;if(Lt>=16){Ee=Lt>>4;for(var Et=1;Et<=Ee;++Et)we(ve);Lt&=15}we(ie[(Lt<<4)+m[ae=32767+w[K]]]),we(d[ae]),K++}return 63!=He&&we(me),Y}function Pe(L){L=Math.min(Math.max(L,1),100),o!=L&&(function(q){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var ie=s((Y[X]*q+50)/100);ie=Math.min(Math.max(ie,1),255),a[B[X]]=ie}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var ve=s((ae[me]*q+50)/100);ve=Math.min(Math.max(ve,1),255),u[B[me]]=ve}for(var Se=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ae=0,Ge=0;Ge<8;Ge++)for(var He=0;He<8;He++)l[Ae]=1/(a[B[Ae]]*Se[Ge]*Se[He]*8),c[Ae]=1/(u[B[Ae]]*Se[Ge]*Se[He]*8),Ae++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),o=L)}this.encode=function(L,q){var Ft,mt;q&&Pe(q),b=new Array,E=0,T=7,Ie(65496),Ie(65504),Ie(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),Ie(1),Ie(1),ce(0),ce(0),function(){Ie(65499),Ie(132),ce(0);for(var Ft=0;Ft<64;Ft++)ce(a[Ft]);ce(1);for(var mt=0;mt<64;mt++)ce(u[mt])}(),Ft=L.width,mt=L.height,Ie(65472),Ie(17),ce(8),Ie(mt),Ie(Ft),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1),function(){Ie(65476),Ie(418),ce(0);for(var Ft=0;Ft<16;Ft++)ce(D[Ft+1]);for(var mt=0;mt<=11;mt++)ce(S[mt]);ce(16);for(var tn=0;tn<16;tn++)ce(O[tn+1]);for(var Ct=0;Ct<=161;Ct++)ce(A[Ct]);ce(1);for(var Pt=0;Pt<16;Pt++)ce(x[Pt+1]);for(var $t=0;$t<=11;$t++)ce(N[$t]);ce(17);for(var ht=0;ht<16;ht++)ce(Z[ht+1]);for(var at=0;at<=161;at++)ce(fe[at])}(),Ie(65498),Ie(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var Y=0,X=0,ie=0;E=0,T=7,this.encode.displayName="_encode_";for(var ae,me,ve,Se,Ae,Ge,He,Ee,K,en=L.data,Et=L.height,Ue=4*L.width,ut=0;ut<Et;){for(ae=0;ae<Ue;){for(Ae=Ue*ut+ae,He=-1,Ee=0,K=0;K<64;K++)Ge=Ae+(Ee=K>>3)*Ue+(He=4*(7&K)),ut+Ee>=Et&&(Ge-=Ue*(ut+1+Ee-Et)),ae+He>=Ue&&(Ge-=ae+He-Ue+4),me=en[Ge++],ve=en[Ge++],Se=en[Ge++],R[K]=(ne[me]+ne[ve+256|0]+ne[Se+512|0]>>16)-128,V[K]=(ne[me+768|0]+ne[ve+1024|0]+ne[Se+1280|0]>>16)-128,F[K]=(ne[me+1280|0]+ne[ve+1536|0]+ne[Se+1792|0]>>16)-128;Y=je(R,l,Y,e,r),X=je(V,c,X,n,i),ie=je(F,c,ie,n,i),ae+=32}ut+=8}if(T>=0){var Qe=[];Qe[1]=T+1,Qe[0]=(1<<T+1)-1,we(Qe)}return Ie(65497),new Uint8Array(b)},t=t||50,function(){for(var L=String.fromCharCode,q=0;q<256;q++)Q[q]=L(q)}(),e=be(D,S),n=be(x,N),r=be(O,A),i=be(Z,fe),function(){for(var L=1,q=2,Y=1;Y<=15;Y++){for(var X=L;X<q;X++)m[32767+X]=Y,d[32767+X]=[],d[32767+X][1]=Y,d[32767+X][0]=X;for(var ie=-(q-1);ie<=-L;ie++)m[32767+ie]=Y,d[32767+ie]=[],d[32767+ie][1]=Y,d[32767+ie][0]=q-1+ie;L<<=1,q<<=1}}(),function(){for(var L=0;L<256;L++)ne[L]=19595*L,ne[L+256|0]=38470*L,ne[L+512|0]=7471*L+32768,ne[L+768|0]=-11059*L,ne[L+1024|0]=-21709*L,ne[L+1280|0]=32768*L+8421375,ne[L+1536|0]=-27439*L,ne[L+1792|0]=-5329*L}(),Pe(t)}function Pa(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Kz(t){function e(S){if(!S)throw Error("assert :P")}function n(S,O,A){for(var x=0;4>x;x++)if(S[O+x]!=A.charCodeAt(x))return!0;return!1}function r(S,O,A,x,N){for(var Z=0;Z<N;Z++)S[O+Z]=A[x+Z]}function i(S,O,A,x){for(var N=0;N<x;N++)S[O+N]=A}function o(S){return new Int32Array(S)}function s(S,O){for(var A=[],x=0;x<S;x++)A.push(new O);return A}function a(S,O){var A=[];return function x(N,Z,fe){for(var be=fe[Z],we=0;we<be&&(N.push(fe.length>Z+1?[]:new O),!(fe.length<Z+1));we++)x(N[we],Z+1,fe)}(A,0,S),A}var u=function(){var S=this;function O(h,g){for(var y=1<<g-1>>>0;h&y;)y>>>=1;return y?(h&y-1)+y:h}function A(h,g,y,I,k){e(!(I%y));do{h[g+(I-=y)]=k}while(0<I)}function x(h,g,y,I,k){if(e(2328>=k),512>=k)var M=o(512);else if(null==(M=o(k)))return 0;return function(U,z,$,G,te,ge){var W,re,ue=z,Te=1<<$,pe=o(16),xe=o(16);for(e(0!=te),e(null!=G),e(null!=U),e(0<$),re=0;re<te;++re){if(15<G[re])return 0;++pe[G[re]]}if(pe[0]==te)return 0;for(xe[1]=0,W=1;15>W;++W){if(pe[W]>1<<W)return 0;xe[W+1]=xe[W]+pe[W]}for(re=0;re<te;++re)W=G[re],0<G[re]&&(ge[xe[W]++]=re);if(1==xe[15])return(G=new N).g=0,G.value=ge[0],A(U,ue,1,Te,G),Te;var Ne,Be=-1,Me=Te-1,wt=0,rt=1,nn=1,lt=1<<$;for(re=0,W=1,te=2;W<=$;++W,te<<=1){if(rt+=nn<<=1,0>(nn-=pe[W]))return 0;for(;0<pe[W];--pe[W])(G=new N).g=W,G.value=ge[re++],A(U,ue+wt,te,lt,G),wt=O(wt,W)}for(W=$+1,te=2;15>=W;++W,te<<=1){if(rt+=nn<<=1,0>(nn-=pe[W]))return 0;for(;0<pe[W];--pe[W]){if(G=new N,(wt&Me)!=Be){for(ue+=lt,Ne=1<<(Be=W)-$;15>Be&&!(0>=(Ne-=pe[Be]));)++Be,Ne<<=1;Te+=lt=1<<(Ne=Be-$),U[z+(Be=wt&Me)].g=Ne+$,U[z+Be].value=ue-z-Be}G.g=W-$,G.value=ge[re++],A(U,ue+(wt>>$),te,lt,G),wt=O(wt,W)}}return rt!=2*xe[15]-1?0:Te}(h,g,y,I,k,M)}function N(){this.value=this.g=0}function Z(){this.value=this.g=0}function fe(){this.G=s(5,N),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Nh,Z)}function be(h,g,y,I){e(null!=h),e(null!=g),e(2147483648>I),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=g,h.pa=y,h.Jd=g,h.Yc=y+I,h.Zc=4<=I?y+I-4+1:y,me(h)}function we(h,g){for(var y=0;0<g--;)y|=Se(h,128)<<g;return y}function ce(h,g){var y=we(h,g);return ve(h)?-y:y}function Ie(h,g,y,I){var k,M=0;for(e(null!=h),e(null!=g),e(4294967288>I),h.Sb=I,h.Ra=0,h.u=0,h.h=0,4<I&&(I=4),k=0;k<I;++k)M+=g[y+k]<<8*k;h.Ra=M,h.bb=I,h.oa=g,h.pa=y}function je(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Kc-8>>>0,++h.bb,h.u-=8;X(h)&&(h.h=1,h.u=0)}function Pe(h,g){if(e(0<=g),!h.h&&g<=Fs){var y=Y(h)&Ls[g];return h.u+=g,je(h),y}return h.h=1,h.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(h){return h.Ra>>>(h.u&Kc-1)>>>0}function X(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Kc}function ie(h,g){h.u=g,h.h=X(h)}function ae(h){h.u>=Vl&&(e(h.u>=Vl),je(h))}function me(h){e(null!=h&&null!=h.oa),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(null!=h&&null!=h.oa),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function ve(h){return we(h,1)}function Se(h,g){var y=h.Ca;0>h.b&&me(h);var I=h.b,k=y*g>>>8,M=(h.I>>>I>k)+0;for(M?(y-=k,h.I-=k+1<<I>>>0):y=k+1,I=y,k=0;256<=I;)k+=8,I>>=8;return h.b-=I=7^k+Qc[I],h.Ca=(y<<I)-1,M}function Ae(h,g,y){h[g+0]=y>>24&255,h[g+1]=y>>16&255,h[g+2]=y>>8&255,h[g+3]=255&y}function Ge(h,g){return h[g+0]|h[g+1]<<8}function He(h,g){return Ge(h,g)|h[g+2]<<16}function Ee(h,g){return Ge(h,g)|Ge(h,g+2)<<16}function K(h,g){var y=1<<g;return e(null!=h),e(0<g),h.X=o(y),null==h.X?0:(h.Mb=32-g,h.Xa=g,1)}function en(h,g){e(null!=h),e(null!=g),e(h.Xa==g.Xa),r(g.X,0,h.X,0,1<<g.Xa)}function Lt(){this.X=[],this.Xa=this.Mb=0}function Et(h,g,y,I){e(null!=y),e(null!=I);var k=y[0],M=I[0];return 0==k&&(k=(h*M+g/2)/g),0==M&&(M=(g*k+h/2)/h),0>=k||0>=M?0:(y[0]=k,I[0]=M,1)}function Ue(h,g){return h+(1<<g)-1>>>g}function ut(h,g){return((4278255360&h)+(4278255360&g)>>>0&4278255360)+((16711935&h)+(16711935&g)>>>0&16711935)>>>0}function Qe(h,g){S[g]=function(y,I,k,M,U,z,$){var G;for(G=0;G<U;++G){var te=S[h](z[$+G-1],k,M+G);z[$+G]=ut(y[I+G],te)}}}function Ft(){this.ud=this.hd=this.jd=0}function mt(h,g){return((4278124286&(h^g))>>>1)+(h&g)>>>0}function tn(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function Ct(h,g){return tn(h+(h-g+.5>>1))}function Pt(h,g,y){return Math.abs(g-y)-Math.abs(h-y)}function $t(h,g,y,I,k,M,U){for(I=M[U-1],y=0;y<k;++y)M[U+y]=I=ut(h[g+y],I)}function ht(h,g,y,I,k){var M;for(M=0;M<y;++M){var U=h[g+M],z=U>>8&255,$=16711935&($=($=16711935&U)+((z<<16)+z));I[k+M]=(4278255360&U)+$>>>0}}function at(h,g){g.jd=255&h,g.hd=h>>8&255,g.ud=h>>16&255}function Dt(h,g,y,I,k,M){var U;for(U=0;U<I;++U){var z=g[y+U],$=z>>>8,G=z,te=255&(te=(te=z>>>16)+((h.jd<<24>>24)*($<<24>>24)>>>5));G=255&(G=(G+=(h.hd<<24>>24)*($<<24>>24)>>>5)+((h.ud<<24>>24)*(te<<24>>24)>>>5)),k[M+U]=(4278255360&z)+(te<<16)+G}}function ft(h,g,y,I,k){S[g]=function(M,U,z,$,G,te,ge,W,re){for($=ge;$<W;++$)for(ge=0;ge<re;++ge)G[te++]=k(z[I(M[U++])])},S[h]=function(M,U,z,$,G,te,ge){var W=8>>M.b,re=M.Ea,ue=M.K[0],Te=M.w;if(8>W)for(M=(1<<M.b)-1,Te=(1<<W)-1;U<z;++U){var pe,xe=0;for(pe=0;pe<re;++pe)pe&M||(xe=I($[G++])),te[ge++]=k(ue[xe&Te]),xe>>=W}else S["VP8LMapColor"+y]($,G,ue,Te,te,ge,U,z,re)}}function Pn(h,g,y,I,k){for(y=g+y;g<y;){var M=h[g++];I[k++]=M>>16&255,I[k++]=M>>8&255,I[k++]=255&M}}function sn(h,g,y,I,k){for(y=g+y;g<y;){var M=h[g++];I[k++]=M>>16&255,I[k++]=M>>8&255,I[k++]=255&M,I[k++]=M>>24&255}}function ze(h,g,y,I,k){for(y=g+y;g<y;){var M=(U=h[g++])>>16&240|U>>12&15,U=240&U|U>>28&15;I[k++]=M,I[k++]=U}}function yt(h,g,y,I,k){for(y=g+y;g<y;){var M=(U=h[g++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;I[k++]=M,I[k++]=U}}function qt(h,g,y,I,k){for(y=g+y;g<y;){var M=h[g++];I[k++]=255&M,I[k++]=M>>8&255,I[k++]=M>>16&255}}function vt(h,g,y,I,k,M){if(0==M)for(y=g+y;g<y;)Ae(I,((M=h[g++])[0]>>24|M[1]>>8&65280|M[2]<<8&16711680|M[3]<<24)>>>0),k+=32;else r(I,k,h,g,y)}function Yt(h,g){S[g][0]=S[h+"0"],S[g][1]=S[h+"1"],S[g][2]=S[h+"2"],S[g][3]=S[h+"3"],S[g][4]=S[h+"4"],S[g][5]=S[h+"5"],S[g][6]=S[h+"6"],S[g][7]=S[h+"7"],S[g][8]=S[h+"8"],S[g][9]=S[h+"9"],S[g][10]=S[h+"10"],S[g][11]=S[h+"11"],S[g][12]=S[h+"12"],S[g][13]=S[h+"13"],S[g][14]=S[h+"0"],S[g][15]=S[h+"0"]}function pt(h){return h==WN||h==KN||h==Kb||h==QN}function Mn(){this.eb=[],this.size=this.A=this.fb=0}function _r(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function mn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Mn,this.f.kb=new _r,this.sd=null}function xt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function cn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Xi(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function jr(h,g){var y=h.T,I=g.ba.f.RGBA,k=I.eb,M=I.fb+h.ka*I.A,U=ya[g.ba.S],z=h.y,$=h.O,G=h.f,te=h.N,ge=h.ea,W=h.W,re=g.cc,ue=g.dc,Te=g.Mc,pe=g.Nc,xe=h.ka,Ne=h.ka+h.T,Be=h.U,Me=Be+1>>1;for(0==xe?U(z,$,null,null,G,te,ge,W,G,te,ge,W,k,M,null,null,Be):(U(g.ec,g.fc,z,$,re,ue,Te,pe,G,te,ge,W,k,M-I.A,k,M,Be),++y);xe+2<Ne;xe+=2)U(z,($+=2*h.fa)-h.fa,z,$,re=G,ue=te,Te=ge,pe=W,G,te+=h.Rc,ge,W+=h.Rc,k,(M+=2*I.A)-I.A,k,M,Be);return $+=h.fa,h.j+Ne<h.o?(r(g.ec,g.fc,z,$,Be),r(g.cc,g.dc,G,te,Me),r(g.Mc,g.Nc,ge,W,Me),y--):1&Ne||U(z,$,null,null,G,te,ge,W,G,te,ge,W,k,M+I.A,null,null,Be),y}function bo(h,g,y){var I=h.F,k=[h.J];if(null!=I){var M=h.U,U=g.ba.S,z=U==Wb||U==Kb;g=g.ba.f.RGBA;var $=[0],G=h.ka;$[0]=h.T,h.Kb&&(0==G?--$[0]:(--G,k[0]-=h.width),h.j+h.ka+h.T==h.o&&($[0]=h.o-h.j-G));var te=g.eb;h=_q(I,k[0],h.width,M,$,te,(G=g.fb+G*g.A)+(z?0:3),g.A),e(y==$),h&&pt(U)&&zy(te,G,z,M,$,g.A)}return 0}function Fi(h){var g=h.ma,y=g.ba.S,I=11>y,k=y==Hb||y==Gb||y==Wb||y==GN||12==y||pt(y);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!Fl(g.Oa,h,k?11:12))return 0;if(k&&pt(y)&&xh(),h.da)alert("todo:use_scaling");else{if(I){if(g.Ib=Xi,h.Kb){if(g.memory=o(h.U+2*(y=h.U+1>>1)),null==g.memory)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+h.U,g.Mc=g.cc,g.Nc=g.dc+y,g.Ib=jr,xh()}}else alert("todo:EmitYUV");k&&(g.Jb=bo,I&&to())}if(I&&!Mq){for(h=0;256>h;++h)dwe[h]=89858*(h-128)+Yb>>Qb,pwe[h]=-22014*(h-128)+Yb,fwe[h]=-45773*(h-128),hwe[h]=113618*(h-128)+Yb>>Qb;for(h=qy;h<JN;++h)gwe[h-qy]=Tt(g=76283*(h-16)+Yb>>Qb,255),mwe[h-qy]=Tt(g+8>>4,15);Mq=1}return 1}function At(h){var g=h.ma,y=h.U,I=h.T;return e(!(1&h.ka)),0>=y||0>=I?0:(y=g.Ib(h,g),null!=g.Jb&&g.Jb(h,g,y),g.Dc+=y,1)}function ua(h){h.ma.memory=null}function yr(h,g,y,I){return 47!=Pe(h,8)?0:(g[0]=Pe(h,14)+1,y[0]=Pe(h,14)+1,I[0]=Pe(h,1),0!=Pe(h,3)?0:!h.h)}function Uo(h,g){if(4>h)return h+1;var y=h-2>>1;return(2+(1&h)<<y)+Pe(g,y)+1}function Vi(h,g){return 120<g?g-120:1<=(y=((y=Z1e[g-1])>>4)*h+(8-(15&y)))?y:1;var y}function Kn(h,g,y){var I=Y(y),k=h[g+=255&I].g-8;return 0<k&&(ie(y,y.u+8),I=Y(y),g+=h[g].value,g+=I&(1<<k)-1),ie(y,y.u+h[g].g),h[g].value}function fi(h,g,y){return y.g+=h.g,y.value+=h.value<<g>>>0,e(8>=y.g),h.g}function bi(h,g,y){var I=h.xc;return e((g=0==I?0:h.vc[h.md*(y>>I)+(g>>I)])<h.Wb),h.Ya[g]}function us(h,g,y,I){var k=h.ab,M=h.c*g,U=h.C;g=U+g;var z=y,$=I;for(I=h.Ta,y=h.Ua;0<k--;){var G=h.gc[k],te=U,ge=g,W=z,re=$,ue=($=I,z=y,G.Ea);switch(e(te<ge),e(ge<=G.nc),G.hc){case 2:ii(W,re,(ge-te)*ue,$,z);break;case 0:var Te=te,pe=ge,xe=$,Ne=z,Be=(lt=G).Ea;0==Te&&(Ly(W,re,null,null,1,xe,Ne),$t(W,re+1,0,0,Be-1,xe,Ne+1),re+=Be,Ne+=Be,++Te);for(var Me=1<<lt.b,wt=Me-1,rt=Ue(Be,lt.b),nn=lt.K,lt=lt.w+(Te>>lt.b)*rt;Te<pe;){var _n=nn,Ei=lt,rn=1;for(fg(W,re,xe,Ne-Be,1,xe,Ne);rn<Be;){var ct=(rn&~wt)+Me;ct>Be&&(ct=Be),(0,Vy[_n[Ei++]>>8&15])(W,re+ +rn,xe,Ne+rn-Be,ct-rn,xe,Ne+rn),rn=ct}re+=Be,Ne+=Be,++Te&wt||(lt+=rt)}ge!=G.nc&&r($,z-ue,$,z+(ge-te-1)*ue,ue);break;case 1:for(ue=W,pe=re,Be=(W=G.Ea)-(Ne=W&~(xe=(re=1<<G.b)-1)),Te=Ue(W,G.b),Me=G.K,G=G.w+(te>>G.b)*Te;te<ge;){for(wt=Me,rt=G,nn=new Ft,lt=pe+Ne,_n=pe+W;pe<lt;)at(wt[rt++],nn),Uy(nn,ue,pe,re,$,z),pe+=re,z+=re;pe<_n&&(at(wt[rt++],nn),Uy(nn,ue,pe,Be,$,z),pe+=Be,z+=Be),++te&xe||(G+=Te)}break;case 3:if(W==$&&re==z&&0<G.b){for(pe=$,W=ue=z+(ge-te)*ue-(Ne=(ge-te)*Ue(G.Ea,G.b)),re=$,xe=z,Te=[],Ne=(Be=Ne)-1;0<=Ne;--Ne)Te[Ne]=re[xe+Ne];for(Ne=Be-1;0<=Ne;--Ne)pe[W+Ne]=Te[Ne];jb(G,te,ge,$,ue,$,z)}else jb(G,te,ge,W,re,$,z)}z=I,$=y}$!=y&&r(I,y,z,$,M)}function Au(h,g){var y=h.V,I=h.Ba+h.c*h.C,k=g-h.C;if(e(g<=h.l.o),e(16>=k),0<k){var M=h.l,U=h.Ta,z=h.Ua,$=M.width;if(us(h,k,y,I),k=z=[z],e((y=h.C)<(I=g)),e(M.v<M.va),I>M.o&&(I=M.o),y<M.j){var G=M.j-y;y=M.j,k[0]+=G*$}if(y>=I?y=0:(k[0]+=4*M.v,M.ka=y-M.j,M.U=M.va-M.v,M.T=I-y,y=1),y){if(z=z[0],11>(y=h.ca).S){var te=y.f.RGBA,ge=(I=y.S,k=M.U,M=M.T,G=te.eb,te.A),W=M;for(te=te.fb+h.Ma*te.A;0<W--;){var re=U,ue=z,Te=k,pe=G,xe=te;switch(I){case qb:By(re,ue,Te,pe,xe);break;case Hb:Yc(re,ue,Te,pe,xe);break;case WN:Yc(re,ue,Te,pe,xe),zy(pe,xe,0,Te,1,0);break;case Aq:Ph(re,ue,Te,pe,xe);break;case Gb:vt(re,ue,Te,pe,xe,1);break;case KN:vt(re,ue,Te,pe,xe,1),zy(pe,xe,0,Te,1,0);break;case Wb:vt(re,ue,Te,pe,xe,0);break;case Kb:vt(re,ue,Te,pe,xe,0),zy(pe,xe,1,Te,1,0);break;case GN:Zc(re,ue,Te,pe,xe);break;case QN:Zc(re,ue,Te,pe,xe),mq(pe,xe,Te,1,0);break;case Tq:Jc(re,ue,Te,pe,xe);break;default:e(0)}z+=$,te+=ge}h.Ma+=M}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=y.height)}}h.C=g,e(h.C<=h.i)}function Ps(h){var g;if(0<h.ua)return 0;for(g=0;g<h.Wb;++g){var y=h.Ya[g].G,I=h.Ya[g].H;if(0<y[1][I[1]+0].g||0<y[2][I[2]+0].g||0<y[3][I[3]+0].g)return 0}return 1}function Bo(h,g,y,I,k,M){if(0!=h.Z){var U=h.qd,z=h.rd;for(e(null!=td[h.Z]);g<y;++g)td[h.Z](U,z,I,k,I,k,M),U=I,z=k,k+=M;h.qd=U,h.rd=z}}function ls(h,g){var y=h.l.ma,I=0==y.Z||1==y.Z?h.l.j:h.C;if(I=h.C<I?I:h.C,e(g<=h.l.o),g>I){var k=h.l.width,M=y.ca,U=y.tb+k*I,z=h.V,$=h.Ba+h.c*I,G=h.gc;e(1==h.ab),e(3==G[0].hc),Ou(G[0],I,g,z,$,M,U),Bo(y,I,g,M,U,k)}h.C=h.Ma=g}function jo(h,g,y,I,k,M,U){var z=h.$/I,$=h.$%I,G=h.m,te=h.s,ge=y+h.$,W=ge;k=y+I*k;var re=y+I*M,ue=280+te.ua,Te=h.Pb?z:16777216,pe=0<te.ua?te.Wa:null,xe=te.wc,Ne=ge<re?bi(te,$,z):null;e(h.C<M),e(re<=k);var Be=!1;e:for(;;){for(;Be||ge<re;){var Me=0;if(z>=Te){var wt=ge-y;e((Te=h).Pb),Te.wd=Te.m,Te.xd=wt,0<Te.s.ua&&en(Te.s.Wa,Te.s.vb),Te=z+X1e}if($&xe||(Ne=bi(te,$,z)),e(null!=Ne),Ne.Qb&&(g[ge]=Ne.qb,Be=!0),!Be)if(ae(G),Ne.jc){wt=g;var rt=ge,nn=Ne.pd[Y(Me=G)&Nh-1];e(Ne.jc),256>nn.g?(ie(Me,Me.u+nn.g),wt[rt]=nn.value,Me=0):(ie(Me,Me.u+nn.g-256),e(256<=nn.value),Me=nn.value),0==Me&&(Be=!0)}else Me=Kn(Ne.G[0],Ne.H[0],G);if(G.h)break;if(Be||256>Me){if(!Be)if(Ne.nd)g[ge]=(Ne.qb|Me<<8)>>>0;else{if(ae(G),Be=Kn(Ne.G[1],Ne.H[1],G),ae(G),wt=Kn(Ne.G[2],Ne.H[2],G),rt=Kn(Ne.G[3],Ne.H[3],G),G.h)break;g[ge]=(rt<<24|Be<<16|Me<<8|wt)>>>0}if(Be=!1,++ge,++$>=I&&($=0,++z,null!=U&&z<=M&&!(z%16)&&U(h,z),null!=pe))for(;W<ge;)Me=g[W++],pe.X[(506832829*Me&4294967295)>>>pe.Mb]=Me}else if(280>Me){if(Me=Uo(Me-256,G),wt=Kn(Ne.G[4],Ne.H[4],G),ae(G),wt=Vi(I,wt=Uo(wt,G)),G.h)break;if(ge-y<wt||k-ge<Me)break e;for(rt=0;rt<Me;++rt)g[ge+rt]=g[ge+rt-wt];for(ge+=Me,$+=Me;$>=I;)$-=I,++z,null!=U&&z<=M&&!(z%16)&&U(h,z);if(e(ge<=k),$&xe&&(Ne=bi(te,$,z)),null!=pe)for(;W<ge;)Me=g[W++],pe.X[(506832829*Me&4294967295)>>>pe.Mb]=Me}else{if(!(Me<ue))break e;for(Be=Me-280,e(null!=pe);W<ge;)Me=g[W++],pe.X[(506832829*Me&4294967295)>>>pe.Mb]=Me;Me=ge,e(!(Be>>>(wt=pe).Xa)),g[Me]=wt.X[Be],Be=!0}Be||e(G.h==X(G))}if(h.Pb&&G.h&&ge<k)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&en(h.s.vb,h.s.Wa);else{if(G.h)break e;U?.(h,z>M?M:z),h.a=0,h.$=ge-y}return 1}return h.a=3,0}function eo(h){e(null!=h),h.vc=null,h.yc=null,h.Ya=null;var g=h.Wa;null!=g&&(g.X=null),h.vb=null,e(null!=h)}function Io(){var h=new st;return null==h?null:(h.a=0,h.xb=Dq,Yt("Predictor","VP8LPredictors"),Yt("Predictor","VP8LPredictors_C"),Yt("PredictorAdd","VP8LPredictorsAdd"),Yt("PredictorAdd","VP8LPredictorsAdd_C"),ii=ht,Uy=Dt,By=Pn,Yc=sn,Zc=ze,Jc=yt,Ph=qt,S.VP8LMapColor32b=Mu,S.VP8LMapColor8b=Fy,h)}function Rs(h,g,y,I,k){var M=1,U=[h],z=[g],$=I.m,G=I.s,te=null,ge=0;e:for(;;){if(y)for(;M&&Pe($,1);){var W=U,re=z,ue=I,Te=1,pe=ue.m,xe=ue.gc[ue.ab],Ne=Pe(pe,2);if(ue.Oc&1<<Ne)M=0;else{switch(ue.Oc|=1<<Ne,xe.hc=Ne,xe.Ea=W[0],xe.nc=re[0],xe.K=[null],++ue.ab,e(4>=ue.ab),Ne){case 0:case 1:xe.b=Pe(pe,3)+2,Te=Rs(Ue(xe.Ea,xe.b),Ue(xe.nc,xe.b),0,ue,xe.K),xe.K=xe.K[0];break;case 3:var Be,Me=Pe(pe,8)+1,wt=16<Me?0:4<Me?1:2<Me?2:3;if(W[0]=Ue(xe.Ea,wt),xe.b=wt,Be=Te=Rs(Me,1,0,ue,xe.K)){var rt,nn=Me,lt=xe,_n=1<<(8>>lt.b),Ei=o(_n);if(null==Ei)Be=0;else{var rn=lt.K[0],ct=lt.w;for(Ei[0]=lt.K[0][0],rt=1;rt<1*nn;++rt)Ei[rt]=ut(rn[ct+rt],Ei[rt-1]);for(;rt<4*_n;++rt)Ei[rt]=0;lt.K[0]=null,lt.K[0]=Ei,Be=1}}Te=Be;break;case 2:break;default:e(0)}M=Te}}if(U=U[0],z=z[0],M&&Pe($,1)&&!(M=1<=(ge=Pe($,4))&&11>=ge)){I.a=3;break e}var Ye;if(Ye=M)t:{var si,Zt,En,vr=I,no=U,zo=z,$r=ge,To=y,$o=vr.m,Ai=vr.s,Tn=[null],qn=1,qr=0,Hn=J1e[$r];n:for(;;){if(To&&Pe($o,1)){var ro=Pe($o,3)+2,ja=Ue(no,ro),ai=Ue(zo,ro),ps=ja*ai;if(!Rs(ja,ai,0,vr,Tn))break n;for(Tn=Tn[0],Ai.xc=ro,si=0;si<ps;++si){var rr=Tn[si]>>8&65535;Tn[si]=rr,rr>=qn&&(qn=rr+1)}}if($o.h)break n;for(Zt=0;5>Zt;++Zt){var Ti=Cq[Zt];!Zt&&0<$r&&(Ti+=1<<$r),qr<Ti&&(qr=Ti)}var Us=s(qn*Hn,N),qo=qn,Bs=s(qo,fe);if(null==Bs)var js=null;else e(65536>=qo),js=Bs;var gs=o(qr);if(null==js||null==gs||null==Us){vr.a=1;break n}var zs=Us;for(si=En=0;si<qn;++si){var hr=js[si],$s=hr.G,za=hr.H,kh=0,jl=1,io=0;for(Zt=0;5>Zt;++Zt){Ti=Cq[Zt],$s[Zt]=zs,za[Zt]=En,!Zt&&0<$r&&(Ti+=1<<$r);i:{var Jb,XN=Ti,Xb=vr,Hy=gs,vwe=zs,wwe=En,eP=0,nd=Xb.m,bwe=Pe(nd,1);if(i(Hy,0,0,XN),bwe){var Iwe=Pe(nd,1)+1,Ewe=Pe(nd,1),Fq=Pe(nd,0==Ewe?1:8);Hy[Fq]=1,2==Iwe&&(Hy[Fq=Pe(nd,8)]=1);var e2=1}else{var Vq=o(19),Uq=Pe(nd,4)+4;if(19<Uq){Xb.a=3;var t2=0;break i}for(Jb=0;Jb<Uq;++Jb)Vq[Y1e[Jb]]=Pe(nd,3);var tP=void 0,Gy=void 0,Bq=Xb,Awe=Vq,n2=XN,jq=Hy,nP=0,rd=Bq.m,zq=8,$q=s(128,N);r:for(;x($q,0,7,Awe,19);){if(Pe(rd,1)){var Twe=2+2*Pe(rd,3);if((tP=2+Pe(rd,Twe))>n2)break r}else tP=n2;for(Gy=0;Gy<n2&&tP--;){ae(rd);var qq=$q[0+(127&Y(rd))];ie(rd,rd.u+qq.g);var gg=qq.value;if(16>gg)jq[Gy++]=gg,0!=gg&&(zq=gg);else{var Cwe=16==gg,Hq=gg-16,Swe=K1e[Hq],Gq=Pe(rd,W1e[Hq])+Swe;if(Gy+Gq>n2)break r;for(var Dwe=Cwe?zq:0;0<Gq--;)jq[Gy++]=Dwe}}nP=1;break r}nP||(Bq.a=3),e2=nP}(e2=e2&&!nd.h)&&(eP=x(vwe,wwe,8,Hy,XN)),e2&&0!=eP?t2=eP:(Xb.a=3,t2=0)}if(0==t2)break n;if(jl&&1==Q1e[Zt]&&(jl=0==zs[En].g),kh+=zs[En].g,En+=t2,3>=Zt){var Wy,rP=gs[0];for(Wy=1;Wy<Ti;++Wy)gs[Wy]>rP&&(rP=gs[Wy]);io+=rP}}if(hr.nd=jl,hr.Qb=0,jl&&(hr.qb=($s[3][za[3]+0].value<<24|$s[1][za[1]+0].value<<16|$s[2][za[2]+0].value)>>>0,0==kh&&256>$s[0][za[0]+0].value&&(hr.Qb=1,hr.qb+=$s[0][za[0]+0].value<<8)),hr.jc=!hr.Qb&&6>io,hr.jc){var r2,zl=hr;for(r2=0;r2<Nh;++r2){var id=r2,od=zl.pd[id],i2=zl.G[0][zl.H[0]+id];256<=i2.value?(od.g=i2.g+256,od.value=i2.value):(od.g=0,od.value=0,id>>=fi(i2,8,od),id>>=fi(zl.G[1][zl.H[1]+id],16,od),id>>=fi(zl.G[2][zl.H[2]+id],0,od),fi(zl.G[3][zl.H[3]+id],24,od))}}}Ai.vc=Tn,Ai.Wb=qn,Ai.Ya=js,Ai.yc=Us,Ye=1;break t}Ye=0}if(!(M=Ye)){I.a=3;break e}if(0<ge){if(G.ua=1<<ge,!K(G.Wa,ge)){I.a=1,M=0;break e}}else G.ua=0;var iP=I,Wq=U,xwe=z,oP=iP.s,sP=oP.xc;if(iP.c=Wq,iP.i=xwe,oP.md=Ue(Wq,sP),oP.wc=0==sP?-1:(1<<sP)-1,y){I.xb=swe;break e}if(null==(te=o(U*z))){I.a=1,M=0;break e}M=(M=jo(I,te,0,U,z,z,null))&&!$.h;break e}return M?(null!=k?k[0]=te:(e(null==te),e(y)),I.$=0,y||eo(G)):eo(G),M}function Tu(h,g){var y=h.c*h.i,I=y+g+16*g;return e(h.c<=g),h.V=o(I),null==h.V?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+y+g,1)}function Cu(h,g){var y=h.C,I=g-y,k=h.V,M=h.Ba+h.c*y;for(e(g<=h.l.o);0<I;){var U=16<I?16:I,z=h.l.ma,$=h.l.width,G=$*U,te=z.ca,ge=z.tb+$*y,W=h.Ta,re=h.Ua;us(h,U,k,M),yq(W,re,te,ge,G),Bo(z,y,y+U,te,ge,$),I-=U,k+=U*h.c,y+=U}e(y==g),h.C=h.Ma=g}function Su(){this.ub=this.yd=this.td=this.Rb=0}function El(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ug(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function vh(){var h;this.Yb=(function g(y,I,k){for(var M=k[I],U=0;U<M&&(y.push(k.length>I+1?[]:0),!(k.length<I+1));U++)g(y[U],I+1,k)}(h=[],0,[3,11]),h)}function Al(){this.jb=o(3),this.Wc=a([4,8],vh),this.Xc=a([4,17],vh)}function wh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Eo(){this.ld=this.La=this.dd=this.tc=0}function ka(){this.Na=this.la=0}function la(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Tl(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function lg(){this.uc=this.M=this.Nb=0,this.wa=Array(new Eo),this.Y=0,this.ya=Array(new Tl),this.aa=0,this.l=new Cl}function bh(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Ih(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new Su,this.Kc=new El,this.ed=new wh,this.Qa=new ug,this.Ic=this.$c=this.Aa=0,this.D=new lg,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,L),this.ia=0,this.pb=s(4,la),this.Pa=new Al,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new bh),this.Hd=0,this.rb=Array(new ka),this.sb=0,this.wa=Array(new Eo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Tl),this.L=this.aa=0,this.gd=a([4,2],Eo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Cl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Eh(){var h=new Ih;return null!=h&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,$y||($y=Ma)),h}function Dr(h,g,y){return 0==h.a&&(h.a=g,h.sc=y,h.cb=0),0}function Ah(h,g,y){return 3<=y&&157==h[g+0]&&1==h[g+1]&&42==h[g+2]}function Th(h,g){if(null==h)return 0;if(h.a=0,h.sc="OK",null==g)return Dr(h,2,"null VP8Io passed to VP8GetHeaders()");var y=g.data,I=g.w,k=g.ha;if(4>k)return Dr(h,7,"Truncated header.");var M=y[I+0]|y[I+1]<<8|y[I+2]<<16,U=h.Od;if(U.Rb=!(1&M),U.td=M>>1&7,U.yd=M>>4&1,U.ub=M>>5,3<U.td)return Dr(h,3,"Incorrect keyframe parameters.");if(!U.yd)return Dr(h,4,"Frame not displayable.");I+=3,k-=3;var z=h.Kc;if(U.Rb){if(7>k)return Dr(h,7,"cannot parse picture header");if(!Ah(y,I,k))return Dr(h,3,"Bad code word");z.c=16383&(y[I+4]<<8|y[I+3]),z.Td=y[I+4]>>6,z.i=16383&(y[I+6]<<8|y[I+5]),z.Ud=y[I+6]>>6,I+=7,k-=7,h.za=z.c+15>>4,h.Ub=z.i+15>>4,g.width=z.c,g.height=z.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,i((M=h.Pa).jb,0,255,M.jb.length),e(null!=(M=h.Qa)),M.Cb=0,M.Bb=0,M.Fb=1,i(M.Zb,0,0,M.Zb.length),i(M.Lb,0,0,M.Lb)}if(U.ub>k)return Dr(h,7,"bad partition length");be(M=h.m,y,I,U.ub),I+=U.ub,k-=U.ub,U.Rb&&(z.Ld=ve(M),z.Kd=ve(M)),z=h.Qa;var $,G=h.Pa;if(e(null!=M),e(null!=z),z.Cb=ve(M),z.Cb){if(z.Bb=ve(M),ve(M)){for(z.Fb=ve(M),$=0;4>$;++$)z.Zb[$]=ve(M)?ce(M,7):0;for($=0;4>$;++$)z.Lb[$]=ve(M)?ce(M,6):0}if(z.Bb)for($=0;3>$;++$)G.jb[$]=ve(M)?we(M,8):255}else z.Bb=0;if(M.Ka)return Dr(h,3,"cannot parse segment header");if((z=h.ed).zd=ve(M),z.Tb=we(M,6),z.wb=we(M,3),z.Pc=ve(M),z.Pc&&ve(M)){for(G=0;4>G;++G)ve(M)&&(z.vd[G]=ce(M,6));for(G=0;4>G;++G)ve(M)&&(z.od[G]=ce(M,6))}if(h.L=0==z.Tb?0:z.zd?1:2,M.Ka)return Dr(h,3,"cannot parse filter header");var te=k;if(k=$=I,I=$+te,z=te,h.Xb=(1<<we(h.m,2))-1,te<3*(G=h.Xb))y=7;else{for($+=3*G,z-=3*G,te=0;te<G;++te){var ge=y[k+0]|y[k+1]<<8|y[k+2]<<16;ge>z&&(ge=z),be(h.Jc[+te],y,$,ge),$+=ge,z-=ge,k+=3}be(h.Jc[+G],y,$,z),y=$<I?0:5}if(0!=y)return Dr(h,y,"cannot parse partitions");for(y=we($=h.m,7),k=ve($)?ce($,4):0,I=ve($)?ce($,4):0,z=ve($)?ce($,4):0,G=ve($)?ce($,4):0,$=ve($)?ce($,4):0,te=h.Qa,ge=0;4>ge;++ge){if(te.Cb){var W=te.Zb[ge];te.Fb||(W+=y)}else{if(0<ge){h.pb[ge]=h.pb[0];continue}W=y}var re=h.pb[ge];re.Sc[0]=YN[Tt(W+k,127)],re.Sc[1]=ZN[Tt(W+0,127)],re.Eb[0]=2*YN[Tt(W+I,127)],re.Eb[1]=101581*ZN[Tt(W+z,127)]>>16,8>re.Eb[1]&&(re.Eb[1]=8),re.Qc[0]=YN[Tt(W+G,117)],re.Qc[1]=ZN[Tt(W+$,127)],re.lc=W+$}if(!U.Rb)return Dr(h,4,"Not a key frame.");for(ve(M),U=h.Pa,y=0;4>y;++y){for(k=0;8>k;++k)for(I=0;3>I;++I)for(z=0;11>z;++z)G=Se(M,iwe[y][k][I][z])?we(M,8):nwe[y][k][I][z],U.Wc[y][k].Yb[I][z]=G;for(k=0;17>k;++k)U.Xc[y][k]=U.Wc[y][owe[k]]}return h.kc=ve(M),h.kc&&(h.Bd=we(M,8)),h.cb=1}function Ma(h,g,y,I,k,M,U){var z=g[k].Yb[y];for(y=0;16>k;++k){if(!Se(h,z[y+0]))return k;for(;!Se(h,z[y+1]);)if(z=g[++k].Yb[0],y=0,16==k)return 16;var $=g[k+1].Yb;if(Se(h,z[y+2])){var G=h,te=0;if(Se(G,(W=z)[(ge=y)+3]))if(Se(G,W[ge+6])){for(z=0,ge=2*(te=Se(G,W[ge+8]))+(W=Se(G,W[ge+9+te])),te=0,W=ewe[ge];W[z];++z)te+=te+Se(G,W[z]);te+=3+(8<<ge)}else Se(G,W[ge+7])?(te=7+2*Se(G,165),te+=Se(G,145)):te=5+Se(G,159);else te=Se(G,W[ge+4])?3+Se(G,W[ge+5]):2;z=$[2]}else te=1,z=$[1];$=U+twe[k],0>(G=h).b&&me(G);var ge,W=G.b,re=(ge=G.Ca>>1)-(G.I>>W)>>31;--G.b,G.Ca+=re,G.Ca|=1,G.I-=(ge+1&re)<<W,M[$]=((te^re)-re)*I[(0<k)+0]}return 16}function Sl(h){var g=h.rb[h.sb-1];g.la=0,g.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function cs(h,g,y,I,k){h[g+y+32*I]=-256&(k=h[g+y+32*I]+(k>>3))?0>k?0:255:k}function Du(h,g,y,I,k,M){cs(h,g,0,y,I+k),cs(h,g,1,y,I+M),cs(h,g,2,y,I-M),cs(h,g,3,y,I-k)}function kr(h){return(20091*h>>16)+h}function ks(h,g,y,I){var k,M=0,U=o(16);for(k=0;4>k;++k){var z=h[g+0]+h[g+8],$=h[g+0]-h[g+8],G=(35468*h[g+4]>>16)-kr(h[g+12]),te=kr(h[g+4])+(35468*h[g+12]>>16);U[M+0]=z+te,U[M+1]=$+G,U[M+2]=$-G,U[M+3]=z-te,M+=4,g++}for(k=M=0;4>k;++k)z=(h=U[M+0]+4)+U[M+8],$=h-U[M+8],G=(35468*U[M+4]>>16)-kr(U[M+12]),cs(y,I,0,0,z+(te=kr(U[M+4])+(35468*U[M+12]>>16))),cs(y,I,1,0,$+G),cs(y,I,2,0,$-G),cs(y,I,3,0,z-te),M++,I+=32}function Ms(h,g,y,I){var k=h[g+0]+4,M=35468*h[g+4]>>16,U=kr(h[g+4]),z=35468*h[g+1]>>16;Du(y,I,0,k+U,h=kr(h[g+1]),z),Du(y,I,1,k+M,h,z),Du(y,I,2,k-M,h,z),Du(y,I,3,k-U,h,z)}function zc(h,g,y,I,k){ks(h,g,y,I),k&&ks(h,g+16,y,I+4)}function $c(h,g,y,I){Rh(h,g+0,y,I,1),Rh(h,g+32,y,I+128,1)}function Os(h,g,y,I){var k;for(h=h[g+0]+4,k=0;4>k;++k)for(g=0;4>g;++g)cs(y,I,g,k,h)}function On(h,g,y,I){h[g+0]&&Ln(h,g+0,y,I),h[g+16]&&Ln(h,g+16,y,I+4),h[g+32]&&Ln(h,g+32,y,I+128),h[g+48]&&Ln(h,g+48,y,I+128+4)}function Dl(h,g,y,I){var k,M=o(16);for(k=0;4>k;++k){var U=h[g+0+k]+h[g+12+k],z=h[g+4+k]+h[g+8+k],$=h[g+4+k]-h[g+8+k],G=h[g+0+k]-h[g+12+k];M[0+k]=U+z,M[8+k]=U-z,M[4+k]=G+$,M[12+k]=G-$}for(k=0;4>k;++k)U=(h=M[0+4*k]+3)+M[3+4*k],$=M[1+4*k]-M[2+4*k],G=h-M[3+4*k],y[I+0]=U+(z=M[1+4*k]+M[2+4*k])>>3,y[I+16]=G+$>>3,y[I+32]=U-z>>3,y[I+48]=G-$>>3,I+=64}function ds(h,g,y){var I,k=g-32,M=Vs,U=255-h[k-1];for(I=0;I<y;++I){var z,$=M,G=U+h[g-1];for(z=0;z<y;++z)h[g+z]=$[G+h[k+z]];g+=32}}function Oa(h,g){ds(h,g,4)}function xy(h,g){ds(h,g,8)}function cg(h,g){ds(h,g,16)}function Ny(h,g){var y;for(y=0;16>y;++y)r(h,g+32*y,h,g-32,16)}function Ch(h,g){var y;for(y=16;0<y;--y)i(h,g,h[g-1],16),g+=32}function xl(h,g,y){var I;for(I=0;16>I;++I)i(g,y+32*I,h,16)}function xu(h,g){var y,I=16;for(y=0;16>y;++y)I+=h[g-1+32*y]+h[g+y-32];xl(I>>5,h,g)}function Nl(h,g){var y,I=8;for(y=0;16>y;++y)I+=h[g-1+32*y];xl(I>>4,h,g)}function Ao(h,g){var y,I=8;for(y=0;16>y;++y)I+=h[g+y-32];xl(I>>4,h,g)}function qc(h,g){xl(128,h,g)}function Vt(h,g,y){return h+2*g+y+2>>2}function dg(h,g){var y,I=g-32;for(I=new Uint8Array([Vt(h[I-1],h[I+0],h[I+1]),Vt(h[I+0],h[I+1],h[I+2]),Vt(h[I+1],h[I+2],h[I+3]),Vt(h[I+2],h[I+3],h[I+4])]),y=0;4>y;++y)r(h,g+32*y,I,0,I.length)}function Nu(h,g){var y=h[g-1],I=h[g-1+32],k=h[g-1+64],M=h[g-1+96];Ae(h,g+0,16843009*Vt(h[g-1-32],y,I)),Ae(h,g+32,16843009*Vt(y,I,k)),Ae(h,g+64,16843009*Vt(I,k,M)),Ae(h,g+96,16843009*Vt(k,M,M))}function Py(h,g){var y,I=4;for(y=0;4>y;++y)I+=h[g+y-32]+h[g-1+32*y];for(I>>=3,y=0;4>y;++y)i(h,g+32*y,I,4)}function Ry(h,g){var y=h[g-1+0],I=h[g-1+32],k=h[g-1+64],M=h[g-1-32],U=h[g+0-32],z=h[g+1-32],$=h[g+2-32],G=h[g+3-32];h[g+0+96]=Vt(I,k,h[g-1+96]),h[g+1+96]=h[g+0+64]=Vt(y,I,k),h[g+2+96]=h[g+1+64]=h[g+0+32]=Vt(M,y,I),h[g+3+96]=h[g+2+64]=h[g+1+32]=h[g+0+0]=Vt(U,M,y),h[g+3+64]=h[g+2+32]=h[g+1+0]=Vt(z,U,M),h[g+3+32]=h[g+2+0]=Vt($,z,U),h[g+3+0]=Vt(G,$,z)}function La(h,g){var y=h[g+1-32],I=h[g+2-32],k=h[g+3-32],M=h[g+4-32],U=h[g+5-32],z=h[g+6-32],$=h[g+7-32];h[g+0+0]=Vt(h[g+0-32],y,I),h[g+1+0]=h[g+0+32]=Vt(y,I,k),h[g+2+0]=h[g+1+32]=h[g+0+64]=Vt(I,k,M),h[g+3+0]=h[g+2+32]=h[g+1+64]=h[g+0+96]=Vt(k,M,U),h[g+3+32]=h[g+2+64]=h[g+1+96]=Vt(M,U,z),h[g+3+64]=h[g+2+96]=Vt(U,z,$),h[g+3+96]=Vt(z,$,$)}function Ui(h,g){var y=h[g-1+0],I=h[g-1+32],k=h[g-1+64],M=h[g-1-32],U=h[g+0-32],z=h[g+1-32],$=h[g+2-32],G=h[g+3-32];h[g+0+0]=h[g+1+64]=M+U+1>>1,h[g+1+0]=h[g+2+64]=U+z+1>>1,h[g+2+0]=h[g+3+64]=z+$+1>>1,h[g+3+0]=$+G+1>>1,h[g+0+96]=Vt(k,I,y),h[g+0+64]=Vt(I,y,M),h[g+0+32]=h[g+1+96]=Vt(y,M,U),h[g+1+32]=h[g+2+96]=Vt(M,U,z),h[g+2+32]=h[g+3+96]=Vt(U,z,$),h[g+3+32]=Vt(z,$,G)}function ky(h,g){var y=h[g+0-32],I=h[g+1-32],k=h[g+2-32],M=h[g+3-32],U=h[g+4-32],z=h[g+5-32],$=h[g+6-32],G=h[g+7-32];h[g+0+0]=y+I+1>>1,h[g+1+0]=h[g+0+64]=I+k+1>>1,h[g+2+0]=h[g+1+64]=k+M+1>>1,h[g+3+0]=h[g+2+64]=M+U+1>>1,h[g+0+32]=Vt(y,I,k),h[g+1+32]=h[g+0+96]=Vt(I,k,M),h[g+2+32]=h[g+1+96]=Vt(k,M,U),h[g+3+32]=h[g+2+96]=Vt(M,U,z),h[g+3+64]=Vt(U,z,$),h[g+3+96]=Vt(z,$,G)}function My(h,g){var y=h[g-1+0],I=h[g-1+32],k=h[g-1+64],M=h[g-1+96];h[g+0+0]=y+I+1>>1,h[g+2+0]=h[g+0+32]=I+k+1>>1,h[g+2+32]=h[g+0+64]=k+M+1>>1,h[g+1+0]=Vt(y,I,k),h[g+3+0]=h[g+1+32]=Vt(I,k,M),h[g+3+32]=h[g+1+64]=Vt(k,M,M),h[g+3+64]=h[g+2+64]=h[g+0+96]=h[g+1+96]=h[g+2+96]=h[g+3+96]=M}function ca(h,g){var y=h[g-1+0],I=h[g-1+32],k=h[g-1+64],M=h[g-1+96],U=h[g-1-32],z=h[g+0-32],$=h[g+1-32],G=h[g+2-32];h[g+0+0]=h[g+2+32]=y+U+1>>1,h[g+0+32]=h[g+2+64]=I+y+1>>1,h[g+0+64]=h[g+2+96]=k+I+1>>1,h[g+0+96]=M+k+1>>1,h[g+3+0]=Vt(z,$,G),h[g+2+0]=Vt(U,z,$),h[g+1+0]=h[g+3+32]=Vt(y,U,z),h[g+1+32]=h[g+3+64]=Vt(I,y,U),h[g+1+64]=h[g+3+96]=Vt(k,I,y),h[g+1+96]=Vt(M,k,I)}function Pu(h,g){var y;for(y=0;8>y;++y)r(h,g+32*y,h,g-32,8)}function Ru(h,g){var y;for(y=0;8>y;++y)i(h,g,h[g-1],8),g+=32}function da(h,g,y){var I;for(I=0;8>I;++I)i(g,y+32*I,h,8)}function ha(h,g){var y,I=8;for(y=0;8>y;++y)I+=h[g+y-32]+h[g-1+32*y];da(I>>4,h,g)}function hg(h,g){var y,I=4;for(y=0;8>y;++y)I+=h[g+y-32];da(I>>3,h,g)}function Pl(h,g){var y,I=4;for(y=0;8>y;++y)I+=h[g-1+32*y];da(I>>3,h,g)}function Qn(h,g){da(128,h,g)}function Rl(h,g,y){var I=h[g-y],k=h[g+0],M=3*(k-I)+HN[1020+h[g-2*y]-h[g+y]],U=$b[112+(M+4>>3)];h[g-y]=Vs[255+I+$b[112+(M+3>>3)]],h[g+0]=Vs[255+k-U]}function kl(h,g,y,I){return _a[255+h[g-2*y]-h[g-y]]>I||_a[255+h[g+y]-h[g+0]]>I}function Hc(h,g,y,I){return 4*_a[255+h[g-y]-h[g+0]]+_a[255+h[g-2*y]-h[g+y]]<=I}function Ml(h,g,y,I,k){var M=h[g-3*y],U=h[g-2*y],z=h[g-y],$=h[g+0],G=h[g+y],te=h[g+2*y];return 4*_a[255+z-$]+_a[255+U-G]>I?0:_a[255+h[g-4*y]-M]<=k&&_a[255+M-U]<=k&&_a[255+U-z]<=k&&_a[255+h[g+3*y]-te]<=k&&_a[255+te-G]<=k&&_a[255+G-$]<=k}function Gc(h,g,y,I){var k=2*I+1;for(I=0;16>I;++I)Hc(h,g+I,y,k)&&Rl(h,g+I,y)}function fa(h,g,y,I){var k=2*I+1;for(I=0;16>I;++I)Hc(h,g+I*y,1,k)&&Rl(h,g+I*y,1)}function Sh(h,g,y,I){var k;for(k=3;0<k;--k)Gc(h,g+=4*y,y,I)}function hs(h,g,y,I){var k;for(k=3;0<k;--k)fa(h,g+=4,y,I)}function pa(h,g,y,I,k,M,U,z){for(M=2*M+1;0<k--;){if(Ml(h,g,y,M,U))if(kl(h,g,y,z))Rl(h,g,y);else{var $=h,G=g,te=y,ge=$[G-2*te],W=$[G-te],re=$[G+0],ue=$[G+te],Te=$[G+2*te],pe=27*(Ne=HN[1020+3*(re-W)+HN[1020+ge-ue]])+63>>7,xe=18*Ne+63>>7,Ne=9*Ne+63>>7;$[G-3*te]=Vs[255+$[G-3*te]+Ne],$[G-2*te]=Vs[255+ge+xe],$[G-te]=Vs[255+W+pe],$[G+0]=Vs[255+re-pe],$[G+te]=Vs[255+ue-xe],$[G+2*te]=Vs[255+Te-Ne]}g+=I}}function Fa(h,g,y,I,k,M,U,z){for(M=2*M+1;0<k--;){if(Ml(h,g,y,M,U))if(kl(h,g,y,z))Rl(h,g,y);else{var $=h,G=g,te=y,ge=$[G-te],W=$[G+0],re=$[G+te],ue=$b[112+(4+(Te=3*(W-ge))>>3)],Te=$b[112+(Te+3>>3)],pe=ue+1>>1;$[G-2*te]=Vs[255+$[G-2*te]+pe],$[G-te]=Vs[255+ge+Te],$[G+0]=Vs[255+W-ue],$[G+te]=Vs[255+re-pe]}g+=I}}function ku(h,g,y,I,k,M){pa(h,g,y,1,16,I,k,M)}function Dh(h,g,y,I,k,M){pa(h,g,1,y,16,I,k,M)}function Va(h,g,y,I,k,M){var U;for(U=3;0<U;--U)Fa(h,g+=4*y,y,1,16,I,k,M)}function Ol(h,g,y,I,k,M){var U;for(U=3;0<U;--U)Fa(h,g+=4,1,y,16,I,k,M)}function _(h,g,y,I,k,M,U,z){pa(h,g,k,1,8,M,U,z),pa(y,I,k,1,8,M,U,z)}function P(h,g,y,I,k,M,U,z){pa(h,g,1,k,8,M,U,z),pa(y,I,1,k,8,M,U,z)}function H(h,g,y,I,k,M,U,z){Fa(h,g+4*k,k,1,8,M,U,z),Fa(y,I+4*k,k,1,8,M,U,z)}function J(h,g,y,I,k,M,U,z){Fa(h,g+4,1,k,8,M,U,z),Fa(y,I+4,1,k,8,M,U,z)}function se(){this.ba=new mn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new cn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function De(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ke(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function et(){this.ua=0,this.Wa=new Lt,this.vb=new Lt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new fe,this.yc=new N}function st(){this.xb=this.a=0,this.l=new Cl,this.ca=new mn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new et,this.ab=0,this.gc=s(4,ke),this.Oc=0}function Rt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Cl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function kt(h,g,y,I,k,M,U){for(h=null==h?0:h[g+0],g=0;g<U;++g)k[M+g]=h+y[I+g]&255,h=k[M+g]}function In(h,g,y,I,k,M,U){var z;if(null==h)kt(null,null,y,I,k,M,U);else for(z=0;z<U;++z)k[M+z]=h[g+z]+y[I+z]&255}function cr(h,g,y,I,k,M,U){if(null==h)kt(null,null,y,I,k,M,U);else{var z,$=h[g+0],G=$,te=$;for(z=0;z<U;++z)G=te+($=h[g+z])-G,te=y[I+z]+(-256&G?0>G?0:255:G)&255,G=$,k[M+z]=te}}function Yn(h,g,y,I){var k=g.width,M=g.o;if(e(null!=h&&null!=g),0>y||0>=I||y+I>M)return null;if(!h.Cc){if(null==h.ga){var U;if(h.ga=new Rt,(U=null==h.ga)||(U=g.width*g.o,e(0==h.Gb.length),h.Gb=o(U),h.Uc=0,null==h.Gb?U=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,U=1),U=!U),!U){var z=h.Fa,$=h.P,G=h.qc,te=h.mb,ge=h.nb,W=$+1,re=G-1,ue=(U=h.ga).l;if(e(null!=z&&null!=te&&null!=g),td[0]=null,td[1]=kt,td[2]=In,td[3]=cr,U.ca=te,U.tb=ge,U.c=g.width,U.i=g.height,e(0<U.c&&0<U.i),1>=G)g=0;else if(U.$a=3&z[$+0],U.Z=z[$+0]>>2&3,U.Lc=z[$+0]>>4&3,$=z[$+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||$)g=0;else if(ue.put=At,ue.ac=Fi,ue.bc=ua,ue.ma=U,ue.width=g.width,ue.height=g.height,ue.Da=g.Da,ue.v=g.v,ue.va=g.va,ue.j=g.j,ue.o=g.o,U.$a)e:{e(1==U.$a),g=Io();t:for(;;){if(null==g){g=0;break e}if(e(null!=U),U.mc=g,g.c=U.c,g.i=U.i,g.l=U.l,g.l.ma=U,g.l.width=U.c,g.l.height=U.i,g.a=0,Ie(g.m,z,W,re),!Rs(U.c,U.i,1,g,null)||(1==g.ab&&3==g.gc[0].hc&&Ps(g.s)?(U.ic=1,z=g.c*g.i,g.Ta=null,g.Ua=0,g.V=o(z),g.Ba=0,null==g.V?(g.a=1,g=0):g=1):(U.ic=0,g=Tu(g,U.c)),!g))break t;g=1;break e}U.mc=null,g=0}else g=re>=U.c*U.i;U=!g}if(U)return null;1!=h.ga.Lc?h.Ga=0:I=M-y}e(null!=h.ga),e(y+I<=M);e:{if(g=(z=h.ga).c,M=z.l.o,0==z.$a){if(W=h.rc,re=h.Vc,ue=h.Fa,G=h.mb,te=h.nb+y*g,e(($=h.P+1+y*g)<=h.P+h.qc),0!=z.Z)for(e(null!=td[z.Z]),U=0;U<I;++U)td[z.Z](W,re,ue,$,G,te,g),W=G,re=te,te+=g,$+=g;else for(U=0;U<I;++U)r(G,te,ue,$,g),W=G,re=te,te+=g,$+=g;h.rc=W,h.Vc=re}else{if(e(null!=z.mc),g=y+I,e(null!=(U=z.mc)),e(g<=U.i),U.C>=g)g=1;else if(z.ic||to(),z.ic){z=U.V,W=U.Ba;var Te=U.i,pe=(ue=1,$=U.$/(re=U.c),G=U.$%re,te=U.m,ge=U.s,U.$),xe=re*Te,Ne=re*g,Be=ge.wc,Me=pe<Ne?bi(ge,G,$):null;e(pe<=xe),e(g<=Te),e(Ps(ge));t:for(;;){for(;!te.h&&pe<Ne;){if(G&Be||(Me=bi(ge,G,$)),e(null!=Me),ae(te),256>(Te=Kn(Me.G[0],Me.H[0],te)))z[W+pe]=Te,++pe,++G>=re&&(G=0,++$<=g&&!($%16)&&ls(U,$));else{if(!(280>Te)){ue=0;break t}Te=Uo(Te-256,te);var wt,rt=Kn(Me.G[4],Me.H[4],te);if(ae(te),!(pe>=(rt=Vi(re,rt=Uo(rt,te)))&&xe-pe>=Te)){ue=0;break t}for(wt=0;wt<Te;++wt)z[W+pe+wt]=z[W+pe+wt-rt];for(pe+=Te,G+=Te;G>=re;)G-=re,++$<=g&&!($%16)&&ls(U,$);pe<Ne&&G&Be&&(Me=bi(ge,G,$))}e(te.h==X(te))}ls(U,$>g?g:$);break t}!ue||te.h&&pe<xe?(ue=0,U.a=te.h?5:3):U.$=pe,g=ue}else g=jo(U,U.V,U.Ba,U.c,U.i,g,Cu);if(!g){I=0;break e}}y+I>=M&&(h.Cc=1),I=1}if(!I)return null;if(h.Cc&&(null!=(I=h.ga)&&(I.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+y*k}function $n(h,g,y,I,k,M){for(;0<k--;){var U,z=h,$=g+(y?1:0),G=h,te=g+(y?0:3);for(U=0;U<I;++U){var ge=G[te+4*U];255!=ge&&(z[$+4*U+0]=z[$+4*U+0]*(ge*=32897)>>23,z[$+4*U+1]=z[$+4*U+1]*ge>>23,z[$+4*U+2]=z[$+4*U+2]*ge>>23)}g+=M}}function zr(h,g,y,I,k){for(;0<I--;){var M;for(M=0;M<y;++M){var U=h[g+2*M+0],z=15&(G=h[g+2*M+1]),$=4369*z,G=(240&G|G>>4)*$>>16;h[g+2*M+0]=(240&U|U>>4)*$>>16&240|(15&U|U<<4)*$>>16>>4&15,h[g+2*M+1]=240&G|z}g+=k}}function Mr(h,g,y,I,k,M,U,z){var $,G,te=255;for(G=0;G<k;++G){for($=0;$<I;++$){var ge=h[g+$];M[U+4*$]=ge,te&=ge}g+=y,U+=z}return 255!=te}function pi(h,g,y,I,k){var M;for(M=0;M<k;++M)y[I+M]=h[g+M]>>8}function to(){zy=$n,mq=zr,_q=Mr,yq=pi}function Zn(h,g,y){S[h]=function(I,k,M,U,z,$,G,te,ge,W,re,ue,Te,pe,xe,Ne,Be){var Me,wt=Be-1>>1,rt=z[$+0]|G[te+0]<<16,nn=ge[W+0]|re[ue+0]<<16;e(null!=I);var lt=3*rt+nn+131074>>2;for(g(I[k+0],255&lt,lt>>16,Te,pe),null!=M&&g(M[U+0],255&(lt=3*nn+rt+131074>>2),lt>>16,xe,Ne),Me=1;Me<=wt;++Me){var _n=z[$+Me]|G[te+Me]<<16,Ei=ge[W+Me]|re[ue+Me]<<16,rn=rt+_n+nn+Ei+524296,ct=rn+2*(_n+nn)>>3;lt=ct+rt>>1,rt=(rn=rn+2*(rt+Ei)>>3)+_n>>1,g(I[k+2*Me-1],255&lt,lt>>16,Te,pe+(2*Me-1)*y),g(I[k+2*Me-0],255&rt,rt>>16,Te,pe+(2*Me-0)*y),null!=M&&(rt=ct+Ei>>1,g(M[U+2*Me-1],255&(lt=rn+nn>>1),lt>>16,xe,Ne+(2*Me-1)*y),g(M[U+2*Me+0],255&rt,rt>>16,xe,Ne+(2*Me+0)*y)),rt=_n,nn=Ei}1&Be||(g(I[k+Be-1],255&(lt=3*rt+nn+131074>>2),lt>>16,Te,pe+(Be-1)*y),null!=M&&g(M[U+Be-1],255&(lt=3*nn+rt+131074>>2),lt>>16,xe,Ne+(Be-1)*y))}}function xh(){ya[qb]=awe,ya[Hb]=xq,ya[Aq]=uwe,ya[Gb]=Nq,ya[Wb]=Pq,ya[GN]=Rq,ya[Tq]=lwe,ya[WN]=xq,ya[KN]=Nq,ya[Kb]=Pq,ya[QN]=Rq}function Ll(h){return h&~cwe?0>h?0:255:h>>kq}function fs(h,g){return Ll((19077*h>>8)+(26149*g>>8)-14234)}function f(h,g,y){return Ll((19077*h>>8)-(6419*g>>8)-(13320*y>>8)+8708)}function v(h,g){return Ll((19077*h>>8)+(33050*g>>8)-17685)}function C(h,g,y,I,k){I[k+0]=fs(h,y),I[k+1]=f(h,g,y),I[k+2]=v(h,g)}function j(h,g,y,I,k){I[k+0]=v(h,g),I[k+1]=f(h,g,y),I[k+2]=fs(h,y)}function oe(h,g,y,I,k){var M=f(h,g,y);g=M<<3&224|v(h,g)>>3,I[k+0]=248&fs(h,y)|M>>5,I[k+1]=g}function _e(h,g,y,I,k){var M=240&v(h,g)|15;I[k+0]=240&fs(h,y)|f(h,g,y)>>4,I[k+1]=M}function $e(h,g,y,I,k){I[k+0]=255,C(h,g,y,I,k+1)}function An(h,g,y,I,k){j(h,g,y,I,k),I[k+3]=255}function Or(h,g,y,I,k){C(h,g,y,I,k),I[k+3]=255}function Tt(h,g){return 0>h?0:h>g?g:h}function dr(h,g,y){S[h]=function(I,k,M,U,z,$,G,te,ge){for(var W=te+(-2&ge)*y;te!=W;)g(I[k+0],M[U+0],z[$+0],G,te),g(I[k+1],M[U+0],z[$+0],G,te+y),k+=2,++U,++$,te+=2*y;1&ge&&g(I[k+0],M[U+0],z[$+0],G,te)}}function Lr(h,g,y){return 0==y?0==h?0==g?6:5:0==g?4:0:y}function Ua(h,g,y,I,k){switch(h>>>30){case 3:Rh(g,y,I,k,0);break;case 2:ma(g,y,I,k);break;case 1:Ln(g,y,I,k)}}function xr(h,g){var y,I,k=g.M,M=g.Nb,U=h.oc,z=h.pc+40,$=h.oc,G=h.pc+584,te=h.oc,ge=h.pc+600;for(y=0;16>y;++y)U[z+32*y-1]=129;for(y=0;8>y;++y)$[G+32*y-1]=129,te[ge+32*y-1]=129;for(0<k?U[z-1-32]=$[G-1-32]=te[ge-1-32]=129:(i(U,z-32-1,127,21),i($,G-32-1,127,9),i(te,ge-32-1,127,9)),I=0;I<h.za;++I){var W=g.ya[g.aa+I];if(0<I){for(y=-1;16>y;++y)r(U,z+32*y-4,U,z+32*y+12,4);for(y=-1;8>y;++y)r($,G+32*y-4,$,G+32*y+4,4),r(te,ge+32*y-4,te,ge+32*y+4,4)}var re=h.Gd,ue=h.Hd+I,Te=W.ad,pe=W.Hc;if(0<k&&(r(U,z-32,re[ue].y,0,16),r($,G-32,re[ue].f,0,8),r(te,ge-32,re[ue].ea,0,8)),W.Za){var xe=U,Ne=z-32+16;for(0<k&&(I>=h.za-1?i(xe,Ne,re[ue].y[15],4):r(xe,Ne,re[ue+1].y,0,4)),y=0;4>y;y++)xe[Ne+128+y]=xe[Ne+256+y]=xe[Ne+384+y]=xe[Ne+0+y];for(y=0;16>y;++y,pe<<=2)Ba[W.Ob[y]](xe=U,Ne=z+Oq[y]),Ua(pe,Te,16*+y,xe,Ne)}else if(xe=Lr(I,k,W.Ob[0]),ed[xe](U,z),0!=pe)for(y=0;16>y;++y,pe<<=2)Ua(pe,Te,16*+y,U,z+Oq[y]);for(y=W.Gc,xe=Lr(I,k,W.Dd),Bl[xe]($,G),Bl[xe](te,ge),pe=Te,xe=$,Ne=G,255&(W=0|y)&&(170&W?Lu(pe,256,xe,Ne):nr(pe,256,xe,Ne)),W=te,pe=ge,255&(y>>=8)&&(170&y?Lu(Te,320,W,pe):nr(Te,320,W,pe)),k<h.Ub-1&&(r(re[ue].y,0,U,z+480,16),r(re[ue].f,0,$,G+224,8),r(re[ue].ea,0,te,ge+224,8)),re=h.sa,ue=h.ta+16*I+16*M*h.R,Te=h.qa,W=h.ra+8*I+(y=8*M*h.B),pe=h.Ha,xe=h.Ia+8*I+y,y=0;16>y;++y)r(re,ue+y*h.R,U,z+32*y,16);for(y=0;8>y;++y)r(Te,W+y*h.B,$,G+32*y,8),r(pe,xe+y*h.B,te,ge+32*y,8)}}function ga(h,g,y,I,k,M,U,z,$){var G=[0],te=[0],ge=0,W=null!=$?$.kd:0,re=$??new De;if(null==h||12>y)return 7;re.data=h,re.w=g,re.ha=y,g=[g],y=[y],re.gb=[re.gb];e:{var ue=g,Te=y,pe=re.gb;if(e(null!=h),e(null!=Te),e(null!=pe),pe[0]=0,12<=Te[0]&&!n(h,ue[0],"RIFF")){if(n(h,ue[0]+8,"WEBP")){pe=3;break e}var xe=Ee(h,ue[0]+4);if(12>xe||4294967286<xe){pe=3;break e}if(W&&xe>Te[0]-8){pe=7;break e}pe[0]=xe,ue[0]+=12,Te[0]-=12}pe=0}if(0!=pe)return pe;for(xe=0<re.gb[0],y=y[0];;){e:{var Ne=h;Te=g,pe=y;var Be=G,Me=te,wt=ue=[0];if((lt=ge=[ge])[0]=0,8>pe[0])pe=7;else{if(!n(Ne,Te[0],"VP8X")){if(10!=Ee(Ne,Te[0]+4)){pe=3;break e}if(18>pe[0]){pe=7;break e}var rt=Ee(Ne,Te[0]+8),nn=1+He(Ne,Te[0]+12);if(2147483648<=nn*(Ne=1+He(Ne,Te[0]+15))){pe=3;break e}null!=wt&&(wt[0]=rt),null!=Be&&(Be[0]=nn),null!=Me&&(Me[0]=Ne),Te[0]+=18,pe[0]-=18,lt[0]=1}pe=0}}if(ge=ge[0],0!=pe)return pe;if(Te=!!(2&(ue=ue[0])),!xe&&ge)return 3;if(null!=M&&(M[0]=!!(16&ue)),null!=U&&(U[0]=Te),null!=z&&(z[0]=0),U=G[0],ue=te[0],ge&&Te&&null==$){pe=0;break}if(4>y){pe=7;break}if(xe&&ge||!xe&&!ge&&!n(h,g[0],"ALPH")){y=[y],re.na=[re.na],re.P=[re.P],re.Sa=[re.Sa];e:{pe=g,xe=y;var lt=re.gb;Be=re.na,Me=re.P,wt=re.Sa,nn=22,e(null!=(rt=h)),e(null!=xe),Ne=pe[0];var _n=xe[0];for(e(null!=Be),e(null!=wt),Be[0]=null,Me[0]=null,wt[0]=0;;){if(pe[0]=Ne,xe[0]=_n,8>_n){pe=7;break e}var Ei=Ee(rt,Ne+4);if(4294967286<Ei){pe=3;break e}var rn=8+Ei+1&-2;if(nn+=rn,0<lt&&nn>lt){pe=3;break e}if(!n(rt,Ne,"VP8 ")||!n(rt,Ne,"VP8L")){pe=0;break e}if(_n[0]<rn){pe=7;break e}n(rt,Ne,"ALPH")||(Be[0]=rt,Me[0]=Ne+8,wt[0]=Ei),Ne+=rn,_n-=rn}}if(y=y[0],re.na=re.na[0],re.P=re.P[0],re.Sa=re.Sa[0],0!=pe)break}y=[y],re.Ja=[re.Ja],re.xa=[re.xa];e:if(lt=h,pe=g,xe=y,Be=re.gb[0],Me=re.Ja,wt=re.xa,rt=pe[0],Ne=!n(lt,rt,"VP8 "),nn=!n(lt,rt,"VP8L"),e(null!=lt),e(null!=xe),e(null!=Me),e(null!=wt),8>xe[0])pe=7;else{if(Ne||nn){if(lt=Ee(lt,rt+4),12<=Be&&lt>Be-12){pe=3;break e}if(W&&lt>xe[0]-8){pe=7;break e}Me[0]=lt,pe[0]+=8,xe[0]-=8,wt[0]=nn}else wt[0]=5<=xe[0]&&47==lt[rt+0]&&!(lt[rt+4]>>5),Me[0]=xe[0];pe=0}if(y=y[0],re.Ja=re.Ja[0],re.xa=re.xa[0],g=g[0],0!=pe)break;if(4294967286<re.Ja)return 3;if(null==z||Te||(z[0]=re.xa?2:1),U=[U],ue=[ue],re.xa){if(5>y){pe=7;break}z=U,W=ue,Te=M,null==h||5>y?h=0:5<=y&&47==h[g+0]&&!(h[g+4]>>5)?(xe=[0],lt=[0],Be=[0],Ie(Me=new q,h,g,y),yr(Me,xe,lt,Be)?(null!=z&&(z[0]=xe[0]),null!=W&&(W[0]=lt[0]),null!=Te&&(Te[0]=Be[0]),h=1):h=0):h=0}else{if(10>y){pe=7;break}z=ue,null==h||10>y||!Ah(h,g+3,y-3)?h=0:(W=h[g+0]|h[g+1]<<8|h[g+2]<<16,Te=16383&(h[g+7]<<8|h[g+6]),h=16383&(h[g+9]<<8|h[g+8]),1&W||3<(W>>1&7)||!(W>>4&1)||W>>5>=re.Ja||!Te||!h?h=0:(U&&(U[0]=Te),z&&(z[0]=h),h=1))}if(!h||(U=U[0],ue=ue[0],ge&&(G[0]!=U||te[0]!=ue)))return 3;null!=$&&($[0]=re,$.offset=g-$.w,e(4294967286>g-$.w),e($.offset==$.ha-y));break}return 0==pe||7==pe&&ge&&null==$?(null!=M&&(M[0]|=null!=re.na&&0<re.na.length),null!=I&&(I[0]=U),null!=k&&(k[0]=ue),0):pe}function Fl(h,g,y){var I=g.width,k=g.height,M=0,U=0,z=I,$=k;if(g.Da=null!=h&&0<h.Da,g.Da&&(z=h.cd,$=h.bd,M=h.v,U=h.j,11>y||(M&=-2,U&=-2),0>M||0>U||0>=z||0>=$||M+z>I||U+$>k))return 0;if(g.v=M,g.j=U,g.va=M+z,g.o=U+$,g.U=z,g.T=$,g.da=null!=h&&0<h.da,g.da){if(!Et(z,$,y=[h.ib],M=[h.hb]))return 0;g.ib=y[0],g.hb=M[0]}return g.ob=null!=h&&h.ob,g.Kb=null==h||!h.Sd,g.da&&(g.ob=g.ib<3*I/4&&g.hb<3*k/4,g.Kb=0),1}function Oy(h){if(null==h)return 2;if(11>h.S){var g=h.f.RGBA;g.fb+=(h.height-1)*g.A,g.A=-g.A}else(g=h.f.kb).O+=((h=h.height)-1)*g.fa,g.fa=-g.fa,g.N+=(h-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(h-1>>1)*g.Db,g.Db=-g.Db,null!=g.F&&(g.J+=(h-1)*g.lb,g.lb=-g.lb);return 0}function Wc(h,g,y,I){if(null==I||0>=h||0>=g)return 2;if(null!=y){if(y.Da){var k=y.cd,M=y.bd,U=-2&y.v,z=-2&y.j;if(0>U||0>z||0>=k||0>=M||U+k>h||z+M>g)return 2;h=k,g=M}if(y.da){if(!Et(h,g,k=[y.ib],M=[y.hb]))return 2;h=k[0],g=M[0]}}I.width=h,I.height=g;e:{var $=I.width,G=I.height;if(h=I.S,0>=$||0>=G||!(h>=qb&&13>h))h=2;else{if(0>=I.Rd&&null==I.sd){U=M=k=g=0;var te=(z=$*Lq[h])*G;if(11>h||(M=(G+1)/2*(g=($+1)/2),12==h&&(U=(k=$)*G)),null==(G=o(te+2*M+U))){h=1;break e}I.sd=G,11>h?(($=I.f.RGBA).eb=G,$.fb=0,$.A=z,$.size=te):(($=I.f.kb).y=G,$.O=0,$.fa=z,$.Fd=te,$.f=G,$.N=0+te,$.Ab=g,$.Cd=M,$.ea=G,$.W=0+te+M,$.Db=g,$.Ed=M,12==h&&($.F=G,$.J=0+te+2*M),$.Tc=U,$.lb=k)}if(g=1,M=I.width,U=I.height,(k=I.S)>=qb&&13>k)if(11>k)h=I.f.RGBA,g&=(z=Math.abs(h.A))*(U-1)+M<=h.size,g&=z>=M*Lq[k],g&=null!=h.eb;else{h=I.f.kb,z=(M+1)/2,te=(U+1)/2,$=Math.abs(h.fa),G=Math.abs(h.Ab);var ge=Math.abs(h.Db),W=Math.abs(h.lb);g&=$*(U-1)+M<=h.Fd,g&=G*(te-1)+z<=h.Cd,g=(g&=ge*(te-1)+z<=h.Ed)&$>=M&G>=z&ge>=z,g&=null!=h.y,g&=null!=h.f,g&=null!=h.ea,12==k&&(g&=W>=M,g&=W*(U-1)+M<=h.Tc,g&=null!=h.F)}else g=0;h=g?0:2}}return 0!=h||null!=y&&y.fd&&(h=Oy(I)),h}var Nh=64,Ls=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Fs=24,Kc=32,Vl=8,Qc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Qe("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(h){return h},S.Predictor2=function(h,g,y){return g[y+0]},S.Predictor3=function(h,g,y){return g[y+1]},S.Predictor4=function(h,g,y){return g[y-1]},S.Predictor5=function(h,g,y){return mt(mt(h,g[y+1]),g[y+0])},S.Predictor6=function(h,g,y){return mt(h,g[y-1])},S.Predictor7=function(h,g,y){return mt(h,g[y+0])},S.Predictor8=function(h,g,y){return mt(g[y-1],g[y+0])},S.Predictor9=function(h,g,y){return mt(g[y+0],g[y+1])},S.Predictor10=function(h,g,y){return mt(mt(h,g[y-1]),mt(g[y+0],g[y+1]))},S.Predictor11=function(h,g,y){var I=g[y+0];return 0>=Pt(I>>24&255,h>>24&255,(g=g[y-1])>>24&255)+Pt(I>>16&255,h>>16&255,g>>16&255)+Pt(I>>8&255,h>>8&255,g>>8&255)+Pt(255&I,255&h,255&g)?I:h},S.Predictor12=function(h,g,y){var I=g[y+0];return(tn((h>>24&255)+(I>>24&255)-((g=g[y-1])>>24&255))<<24|tn((h>>16&255)+(I>>16&255)-(g>>16&255))<<16|tn((h>>8&255)+(I>>8&255)-(g>>8&255))<<8|tn((255&h)+(255&I)-(255&g)))>>>0},S.Predictor13=function(h,g,y){var I=g[y-1];return(Ct((h=mt(h,g[y+0]))>>24&255,I>>24&255)<<24|Ct(h>>16&255,I>>16&255)<<16|Ct(h>>8&255,I>>8&255)<<8|Ct(255&h,255&I))>>>0};var Ly=S.PredictorAdd0;S.PredictorAdd1=$t,Qe("Predictor2","PredictorAdd2"),Qe("Predictor3","PredictorAdd3"),Qe("Predictor4","PredictorAdd4"),Qe("Predictor5","PredictorAdd5"),Qe("Predictor6","PredictorAdd6"),Qe("Predictor7","PredictorAdd7"),Qe("Predictor8","PredictorAdd8"),Qe("Predictor9","PredictorAdd9"),Qe("Predictor10","PredictorAdd10"),Qe("Predictor11","PredictorAdd11"),Qe("Predictor12","PredictorAdd12"),Qe("Predictor13","PredictorAdd13");var fg=S.PredictorAdd2;ft("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var ii,jb=S.ColorIndexInverseTransform,Mu=S.MapARGB,Ou=S.VP8LColorIndexInverseTransformAlpha,Fy=S.MapAlpha,Vy=S.VP8LPredictorsAdd=[];Vy.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var Uy,By,Yc,Zc,Jc,Ph,Xc,Rh,ma,Lu,Ln,nr,oi,Ii,Ul,jy,pg,zb,cq,dq,hq,fq,pq,gq,zy,mq,_q,yq,vq=o(511),wq=o(2041),bq=o(225),Iq=o(767),Eq=0,HN=wq,$b=bq,Vs=Iq,_a=vq,qb=0,Hb=1,Aq=2,Gb=3,Wb=4,GN=5,Tq=6,WN=7,KN=8,Kb=9,QN=10,W1e=[2,3,7],K1e=[3,3,11],Cq=[280,256,256,256,40],Q1e=[0,1,1,1,0],Y1e=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Z1e=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],J1e=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],X1e=8,YN=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ZN=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],$y=null,ewe=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],twe=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Sq=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],nwe=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],rwe=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],iwe=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],owe=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ed=[],Ba=[],Bl=[],swe=1,Dq=2,td=[],ya=[];Zn("UpsampleRgbLinePair",C,3),Zn("UpsampleBgrLinePair",j,3),Zn("UpsampleRgbaLinePair",Or,4),Zn("UpsampleBgraLinePair",An,4),Zn("UpsampleArgbLinePair",$e,4),Zn("UpsampleRgba4444LinePair",_e,2),Zn("UpsampleRgb565LinePair",oe,2);var awe=S.UpsampleRgbLinePair,uwe=S.UpsampleBgrLinePair,xq=S.UpsampleRgbaLinePair,Nq=S.UpsampleBgraLinePair,Pq=S.UpsampleArgbLinePair,Rq=S.UpsampleRgba4444LinePair,lwe=S.UpsampleRgb565LinePair,Qb=16,Yb=1<<Qb-1,qy=-227,JN=482,kq=6,cwe=(256<<kq)-1,Mq=0,dwe=o(256),hwe=o(256),fwe=o(256),pwe=o(256),gwe=o(JN-qy),mwe=o(JN-qy);dr("YuvToRgbRow",C,3),dr("YuvToBgrRow",j,3),dr("YuvToRgbaRow",Or,4),dr("YuvToBgraRow",An,4),dr("YuvToArgbRow",$e,4),dr("YuvToRgba4444Row",_e,2),dr("YuvToRgb565Row",oe,2);var Oq=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Zb=[0,2,8],_we=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(h,g,y,I,k){var M=Hb,U=new se,z=new mn;U.ba=z,z.S=M,z.width=[z.width],z.height=[z.height];var $=z.width,G=z.height,te=new xt;if(null==te||null==h)var ge=2;else e(null!=te),ge=ga(h,g,y,te.width,te.height,te.Pd,te.Qd,te.format,null);if(0!=ge?$=0:(null!=$&&($[0]=te.width[0]),null!=G&&(G[0]=te.height[0]),$=1),$){z.width=z.width[0],z.height=z.height[0],null!=I&&(I[0]=z.width),null!=k&&(k[0]=z.height);e:{if(I=new Cl,(k=new De).data=h,k.w=g,k.ha=y,k.kd=1,g=[0],e(null!=k),(0==(h=ga(k.data,k.w,k.ha,null,null,null,g,null,k))||7==h)&&g[0]&&(h=4),0==(g=h)){if(e(null!=U),I.data=k.data,I.w=k.w+k.offset,I.ha=k.ha-k.offset,I.put=At,I.ac=Fi,I.bc=ua,I.ma=U,k.xa){if(null==(h=Io())){U=1;break e}if(function(W,re){var ue=[0],Te=[0],pe=[0];t:for(;;){if(null==W)return 0;if(null==re)return W.a=2,0;if(W.l=re,W.a=0,Ie(W.m,re.data,re.w,re.ha),!yr(W.m,ue,Te,pe)){W.a=3;break t}if(W.xb=Dq,re.width=ue[0],re.height=Te[0],!Rs(ue[0],Te[0],1,W,null))break t;return 1}return e(0!=W.a),0}(h,I)){if(I=0==(g=Wc(I.width,I.height,U.Oa,U.ba))){t:{I=h;n:for(;;){if(null==I){I=0;break t}if(e(null!=I.s.yc),e(null!=I.s.Ya),e(0<I.s.Wb),e(null!=(y=I.l)),e(null!=(k=y.ma)),0!=I.xb){if(I.ca=k.ba,I.tb=k.tb,e(null!=I.ca),!Fl(k.Oa,y,Gb)){I.a=2;break n}if(!Tu(I,y.width)||y.da)break n;if((y.da||pt(I.ca.S))&&to(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=I.ca.f.kb.F&&to()),I.Pb&&0<I.s.ua&&null==I.s.vb.X&&!K(I.s.vb,I.s.Wa.Xa)){I.a=1;break n}I.xb=0}if(!jo(I,I.V,I.Ba,I.c,I.i,y.o,Au))break n;k.Dc=I.Ma,I=1;break t}e(0!=I.a),I=0}I=!I}I&&(g=h.a)}else g=h.a}else{if(null==(h=new Eh)){U=1;break e}if(h.Fa=k.na,h.P=k.P,h.qc=k.Sa,Th(h,I)){if(0==(g=Wc(I.width,I.height,U.Oa,U.ba))){if(h.Aa=0,y=U.Oa,e(null!=(k=h)),null!=y){if(0<($=0>($=y.Md)?0:100<$?255:255*$/100)){for(G=te=0;4>G;++G)12>(ge=k.pb[G]).lc&&(ge.ia=$*_we[0>ge.lc?0:ge.lc]>>3),te|=ge.ia;te&&(alert("todo:VP8InitRandom"),k.ia=1)}k.Ga=y.Id,100<k.Ga?k.Ga=100:0>k.Ga&&(k.Ga=0)}(function(W,re){if(null==W)return 0;if(null==re)return Dr(W,2,"NULL VP8Io parameter in VP8Decode().");if(!W.cb&&!Th(W,re))return 0;if(e(W.cb),null==re.ac||re.ac(re)){re.ob&&(W.L=0);var ue=Zb[W.L];if(2==W.L?(W.yb=0,W.zb=0):(W.yb=re.v-ue>>4,W.zb=re.j-ue>>4,0>W.yb&&(W.yb=0),0>W.zb&&(W.zb=0)),W.Va=re.o+15+ue>>4,W.Hb=re.va+15+ue>>4,W.Hb>W.za&&(W.Hb=W.za),W.Va>W.Ub&&(W.Va=W.Ub),0<W.L){var Te=W.ed;for(ue=0;4>ue;++ue){var pe;if(W.Qa.Cb){var xe=W.Qa.Lb[ue];W.Qa.Fb||(xe+=Te.Tb)}else xe=Te.Tb;for(pe=0;1>=pe;++pe){var Ne=W.gd[ue][pe],Be=xe;if(Te.Pc&&(Be+=Te.vd[0],pe&&(Be+=Te.od[0])),0<(Be=0>Be?0:63<Be?63:Be)){var Me=Be;0<Te.wb&&(Me=4<Te.wb?Me>>2:Me>>1)>9-Te.wb&&(Me=9-Te.wb),1>Me&&(Me=1),Ne.dd=Me,Ne.tc=2*Be+Me,Ne.ld=40<=Be?2:15<=Be?1:0}else Ne.tc=0;Ne.La=pe}}}ue=0}else Dr(W,6,"Frame setup failed"),ue=W.a;if(ue=0==ue){if(ue){W.$c=0,0<W.Aa||(W.Ic=1);t:{Te=4*(Me=W.za);var wt=32*Me,rt=Me+1,nn=0<W.L?Me*(0<W.Aa?2:1):0,lt=(2==W.Aa?2:1)*Me;if((Ne=Te+832+(pe=3*(16*(ue=W.Ic)+Zb[W.L])/2*wt)+(xe=null!=W.Fa&&0<W.Fa.length?W.Kc.c*W.Kc.i:0))!=Ne)ue=0;else{if(Ne>W.Vb){if(W.Vb=0,W.Ec=o(Ne),W.Fc=0,null==W.Ec){ue=Dr(W,1,"no memory during frame initialization.");break t}W.Vb=Ne}Be=W.Fc,W.Ac=Ne=W.Ec,W.Bc=Be,Be+=Te,W.Gd=s(wt,bh),W.Hd=0,W.rb=s(rt+1,ka),W.sb=1,W.wa=nn?s(nn,Eo):null,W.Y=0,W.D.Nb=0,W.D.wa=W.wa,W.D.Y=W.Y,0<W.Aa&&(W.D.Y+=Me),e(!0),W.oc=Ne,W.pc=Be,Be+=832,W.ya=s(lt,Tl),W.aa=0,W.D.ya=W.ya,W.D.aa=W.aa,2==W.Aa&&(W.D.aa+=Me),W.R=16*Me,W.B=8*Me,Me=(wt=Zb[W.L])*W.R,wt=wt/2*W.B,W.sa=Ne,W.ta=Be+Me,W.qa=W.sa,W.ra=W.ta+16*ue*W.R+wt,W.Ha=W.qa,W.Ia=W.ra+8*ue*W.B+wt,W.$c=0,Be+=pe,W.mb=xe?Ne:null,W.nb=xe?Be:null,e(Be+xe<=W.Fc+W.Vb),Sl(W),i(W.Ac,W.Bc,0,Te),ue=1}}if(ue){if(re.ka=0,re.y=W.sa,re.O=W.ta,re.f=W.qa,re.N=W.ra,re.ea=W.Ha,re.Vd=W.Ia,re.fa=W.R,re.Rc=W.B,re.F=null,re.J=0,!Eq){for(ue=-255;255>=ue;++ue)vq[255+ue]=0>ue?-ue:ue;for(ue=-1020;1020>=ue;++ue)wq[1020+ue]=-128>ue?-128:127<ue?127:ue;for(ue=-112;112>=ue;++ue)bq[112+ue]=-16>ue?-16:15<ue?15:ue;for(ue=-255;510>=ue;++ue)Iq[255+ue]=0>ue?0:255<ue?255:ue;Eq=1}Xc=Dl,Rh=zc,Lu=$c,Ln=Os,nr=On,ma=Ms,oi=ku,Ii=Dh,Ul=_,jy=P,pg=Va,zb=Ol,cq=H,dq=J,hq=Gc,fq=fa,pq=Sh,gq=hs,Ba[0]=Py,Ba[1]=Oa,Ba[2]=dg,Ba[3]=Nu,Ba[4]=Ry,Ba[5]=Ui,Ba[6]=La,Ba[7]=ky,Ba[8]=ca,Ba[9]=My,ed[0]=xu,ed[1]=cg,ed[2]=Ny,ed[3]=Ch,ed[4]=Nl,ed[5]=Ao,ed[6]=qc,Bl[0]=ha,Bl[1]=xy,Bl[2]=Pu,Bl[3]=Ru,Bl[4]=Pl,Bl[5]=hg,Bl[6]=Qn,ue=1}else ue=0}ue&&(ue=function(_n,Ei){for(_n.M=0;_n.M<_n.Va;++_n.M){var rn,ct=_n.Jc[_n.M&_n.Xb],Ye=_n.m,si=_n;for(rn=0;rn<si.za;++rn){var Zt=Ye,En=si,vr=En.Ac,no=En.Bc+4*rn,zo=En.zc,$r=En.ya[En.aa+rn];if($r.$b=En.Qa.Bb?Se(Zt,En.Pa.jb[0])?2+Se(Zt,En.Pa.jb[2]):Se(Zt,En.Pa.jb[1]):0,En.kc&&($r.Ad=Se(Zt,En.Bd)),$r.Za=!Se(Zt,145)+0,$r.Za){var To=$r.Ob,$o=0;for(En=0;4>En;++En){var Ai,Tn=zo[0+En];for(Ai=0;4>Ai;++Ai){for(var qn=Sq[Se(Zt,(Tn=rwe[vr[no+Ai]][Tn])[0])];0<qn;)qn=Sq[2*qn+Se(Zt,Tn[qn])];vr[no+Ai]=Tn=-qn}r(To,$o,vr,no,4),$o+=4,zo[0+En]=Tn}}else Tn=Se(Zt,156)?Se(Zt,128)?1:3:Se(Zt,163)?2:0,$r.Ob[0]=Tn,i(vr,no,Tn,4),i(zo,0,Tn,4);$r.Dd=Se(Zt,142)?Se(Zt,114)?Se(Zt,183)?1:3:2:0}if(si.m.Ka)return Dr(_n,7,"Premature end-of-partition0 encountered.");for(;_n.ja<_n.za;++_n.ja){if(si=ct,Zt=(Ye=_n).rb[Ye.sb-1],vr=Ye.rb[Ye.sb+Ye.ja],rn=Ye.ya[Ye.aa+Ye.ja],no=Ye.kc?rn.Ad:0)Zt.la=vr.la=0,rn.Za||(Zt.Na=vr.Na=0),rn.Hc=0,rn.Gc=0,rn.ia=0;else{var qr,Hn;if(Zt=vr,vr=si,no=Ye.Pa.Xc,$r=Ye.pb[(zo=Ye.ya[Ye.aa+Ye.ja]).$b],$o=Ye.rb[Ye.sb-1],Tn=Ai=0,i(En=zo.ad,To=0,0,384),zo.Za)var ro=0,ja=no[3];else{qn=o(16);var ai=Zt.Na+$o.Na;if(ai=$y(vr,no[1],ai,$r.Eb,0,qn,0),Zt.Na=$o.Na=(0<ai)+0,1<ai)Xc(qn,0,En,To);else{var ps=qn[0]+3>>3;for(qn=0;256>qn;qn+=16)En[To+qn]=ps}ro=1,ja=no[0]}var rr=15&Zt.la,Ti=15&$o.la;for(qn=0;4>qn;++qn){var Us=1&Ti;for(ps=Hn=0;4>ps;++ps)rr=rr>>1|(Us=(ai=$y(vr,ja,ai=Us+(1&rr),$r.Sc,ro,En,To))>ro)<<7,Hn=Hn<<2|(3<ai?3:1<ai?2:0!=En[To+0]),To+=16;rr>>=4,Ti=Ti>>1|Us<<7,Ai=(Ai<<8|Hn)>>>0}for(ja=rr,ro=Ti>>4,qr=0;4>qr;qr+=2){for(Hn=0,rr=Zt.la>>4+qr,Ti=$o.la>>4+qr,qn=0;2>qn;++qn){for(Us=1&Ti,ps=0;2>ps;++ps)rr=rr>>1|(Us=0<(ai=$y(vr,no[2],ai=Us+(1&rr),$r.Qc,0,En,To)))<<3,Hn=Hn<<2|(3<ai?3:1<ai?2:0!=En[To+0]),To+=16;rr>>=2,Ti=Ti>>1|Us<<5}Tn|=Hn<<4*qr,ja|=rr<<4<<qr,ro|=(240&Ti)<<qr}Zt.la=ja,$o.la=ro,zo.Hc=Ai,zo.Gc=Tn,zo.ia=43690&Tn?0:$r.ia,no=!(Ai|Tn)}if(0<Ye.L&&(Ye.wa[Ye.Y+Ye.ja]=Ye.gd[rn.$b][rn.Za],Ye.wa[Ye.Y+Ye.ja].La|=!no),si.Ka)return Dr(_n,7,"Premature end-of-file encountered.")}if(Sl(_n),Ye=Ei,si=1,rn=(ct=_n).D,Zt=0<ct.L&&ct.M>=ct.zb&&ct.M<=ct.Va,0==ct.Aa)t:{if(rn.M=ct.M,rn.uc=Zt,xr(ct,rn),si=1,rn=(Hn=ct.D).Nb,Zt=(Tn=Zb[ct.L])*ct.R,no=ct.sa,zo=ct.ta-Zt+(qn=16*rn*ct.R),$r=ct.qa,En=ct.ra-(vr=Tn/2*ct.B)+(ps=8*rn*ct.B),To=ct.Ha,$o=ct.Ia-vr+ps,Ti=0==(rr=Hn.M),Ai=rr>=ct.Va-1,2==ct.Aa&&xr(ct,Hn),Hn.uc)for(Us=(ai=ct).D.M,e(ai.D.uc),Hn=ai.yb;Hn<ai.Hb;++Hn){ja=Us;var qo=(Bs=(io=ai).D).Nb,Bs=Bs.wa[Bs.Y+(ro=Hn)],js=io.sa,gs=io.ta+16*qo*(qr=io.R)+16*ro,zs=Bs.dd,hr=Bs.tc;if(0!=hr)if(e(3<=hr),1==io.L)0<ro&&fq(js,gs,qr,hr+4),Bs.La&&gq(js,gs,qr,hr),0<ja&&hq(js,gs,qr,hr+4),Bs.La&&pq(js,gs,qr,hr);else{var $s=io.B,za=io.qa,kh=io.ra+8*qo*$s+8*ro,jl=io.Ha,io=io.Ia+8*qo*$s+8*ro;qo=Bs.ld,0<ro&&(Ii(js,gs,qr,hr+4,zs,qo),jy(za,kh,jl,io,$s,hr+4,zs,qo)),Bs.La&&(zb(js,gs,qr,hr,zs,qo),dq(za,kh,jl,io,$s,hr,zs,qo)),0<ja&&(oi(js,gs,qr,hr+4,zs,qo),Ul(za,kh,jl,io,$s,hr+4,zs,qo)),Bs.La&&(pg(js,gs,qr,hr,zs,qo),cq(za,kh,jl,io,$s,hr,zs,qo))}}if(ct.ia&&alert("todo:DitherRow"),null!=Ye.put){if(Hn=16*rr,rr=16*(rr+1),Ti?(Ye.y=ct.sa,Ye.O=ct.ta+qn,Ye.f=ct.qa,Ye.N=ct.ra+ps,Ye.ea=ct.Ha,Ye.W=ct.Ia+ps):(Hn-=Tn,Ye.y=no,Ye.O=zo,Ye.f=$r,Ye.N=En,Ye.ea=To,Ye.W=$o),Ai||(rr-=Tn),rr>Ye.o&&(rr=Ye.o),Ye.F=null,Ye.J=null,null!=ct.Fa&&0<ct.Fa.length&&Hn<rr&&(Ye.J=Yn(ct,Ye,Hn,rr-Hn),Ye.F=ct.mb,null==Ye.F&&0==Ye.F.length)){si=Dr(ct,3,"Could not decode alpha data.");break t}Hn<Ye.j&&(Tn=Ye.j-Hn,Hn=Ye.j,e(!(1&Tn)),Ye.O+=ct.R*Tn,Ye.N+=ct.B*(Tn>>1),Ye.W+=ct.B*(Tn>>1),null!=Ye.F&&(Ye.J+=Ye.width*Tn)),Hn<rr&&(Ye.O+=Ye.v,Ye.N+=Ye.v>>1,Ye.W+=Ye.v>>1,null!=Ye.F&&(Ye.J+=Ye.v),Ye.ka=Hn-Ye.j,Ye.U=Ye.va-Ye.v,Ye.T=rr-Hn,si=Ye.put(Ye))}rn+1!=ct.Ic||Ai||(r(ct.sa,ct.ta-Zt,no,zo+16*ct.R,Zt),r(ct.qa,ct.ra-vr,$r,En+8*ct.B,vr),r(ct.Ha,ct.Ia-vr,To,$o+8*ct.B,vr))}if(!si)return Dr(_n,6,"Output aborted.")}return 1}(W,re)),null!=re.bc&&re.bc(re),ue&=1}return ue?(W.cb=0,ue):0})(h,I)||(g=h.a)}}else g=h.a}0==g&&null!=U.Oa&&U.Oa.fd&&(g=Oy(U.ba))}U=g}M=0!=U?null:11>M?z.f.RGBA.eb:z.f.kb.y}else M=null;return M};var Lq=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function l(S,O){for(var A="",x=0;x<4;x++)A+=String.fromCharCode(S[O++]);return A}function c(S,O){return S[O+0]|S[O+1]<<8}function d(S,O){return(S[O+0]|S[O+1]<<8|S[O+2]<<16)>>>0}function m(S,O){return(S[O+0]|S[O+1]<<8|S[O+2]<<16|S[O+3]<<24)>>>0}new u;var p=[0],w=[0],b=[],E=new u,T=t,R=function(S,O){var A={},x=0,N=!1,Z=0,fe=0;if(A.frames=[],!
/** @license
               * Copyright (c) 2017 Dominik Homberger
              Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
              The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
              THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
              https://webpjs.appspot.com
              WebPRiffParser dominikhlbg@gmail.com
              */
function(L,q){for(var Y=0;Y<4;Y++)if(L[q+Y]!="RIFF".charCodeAt(Y))return!0;return!1}(S,O)){for(m(S,O+=4),O+=8;O<S.length;){var be=l(S,O),we=m(S,O+=4);O+=4;var ce=we+(1&we);switch(be){case"VP8 ":case"VP8L":void 0===A.frames[x]&&(A.frames[x]={}),(Pe=A.frames[x]).src_off=N?fe:O-8,Pe.src_size=Z+we+8,x++,N&&(N=!1,Z=0,fe=0);break;case"VP8X":(Pe=A.header={}).feature_flags=S[O];var Ie=O+4;Pe.canvas_width=1+d(S,Ie),Pe.canvas_height=1+d(S,Ie+=3),Ie+=3;break;case"ALPH":N=!0,Z=ce+8,fe=O-8;break;case"ANIM":(Pe=A.header).bgcolor=m(S,O),Pe.loop_count=c(S,Ie=O+4),Ie+=2;break;case"ANMF":var je,Pe;(Pe=A.frames[x]={}).offset_x=2*d(S,O),Pe.offset_y=2*d(S,O+=3),Pe.width=1+d(S,O+=3),Pe.height=1+d(S,O+=3),Pe.duration=d(S,O+=3),O+=3,je=S[O++],Pe.dispose=1&je,Pe.blend=je>>1&1}"ANMF"!=be&&(O+=ce)}return A}}(T,0);R.response=T,R.rgbaoutput=!0,R.dataurl=!1;var V=R.header?R.header:null,F=R.frames?R.frames:null;if(V){V.loop_counter=V.loop_count,p=[V.canvas_height],w=[V.canvas_width];for(var Q=0;Q<F.length&&0!=F[Q].blend;Q++);}var ne=F[0],B=E.WebPDecodeRGBA(T,ne.src_off,ne.src_size,w,p);ne.rgba=B,ne.imgwidth=w[0],ne.imgheight=p[0];for(var D=0;D<w[0]*p[0]*4;D++)b[D]=B[D];return this.width=w,this.height=p,this.data=b,this}(function(t){var e,n,r,i,o,s,a,u,l,c=function(L){return this.isStrokeTransparent=(L=L||{}).isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=void 0!==L.transform?L.transform.clone():new u,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new s,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new s,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof L.ignoreClearRect||L.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,u=this.internal.Matrix,l=new c}]);var d=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=L;Object.defineProperty(this,"pdf",{get:function(){return q}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(Ee){Y=!!Ee}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(Ee){X=!!Ee}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(Ee){isNaN(Ee)||(ie=Ee)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(Ee){isNaN(Ee)||(ae=Ee)}}),Object.defineProperty(this,"margin",{get:function(){return l.margin},set:function(Ee){var K;"number"==typeof Ee?K=[Ee,Ee,Ee,Ee]:((K=new Array(4))[0]=Ee[0],K[1]=Ee.length>=2?Ee[1]:K[0],K[2]=Ee.length>=3?Ee[2]:K[0],K[3]=Ee.length>=4?Ee[3]:K[1]),l.margin=K}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(Ee){me=Ee}});var ve=0;Object.defineProperty(this,"lastBreak",{get:function(){return ve},set:function(Ee){ve=Ee}});var Se=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Se},set:function(Ee){Se=Ee}}),Object.defineProperty(this,"ctx",{get:function(){return l},set:function(Ee){Ee instanceof c&&(l=Ee)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(Ee){l.path=Ee}});var Ae=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ae},set:function(Ee){Ae=Ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ee){var K;K=m(Ee),this.ctx.fillStyle=K.style,this.ctx.isFillTransparent=0===K.a,this.ctx.fillOpacity=K.a,this.pdf.setFillColor(K.r,K.g,K.b,{a:K.a}),this.pdf.setTextColor(K.r,K.g,K.b,{a:K.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ee){var K=m(Ee);this.ctx.strokeStyle=K.style,this.ctx.isStrokeTransparent=0===K.a,this.ctx.strokeOpacity=K.a,0===K.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(K.r,K.g,K.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ee){-1!==["butt","round","square"].indexOf(Ee)&&(this.ctx.lineCap=Ee,this.pdf.setLineCap(Ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ee){isNaN(Ee)||(this.ctx.lineWidth=Ee,this.pdf.setLineWidth(Ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ee){-1!==["bevel","round","miter"].indexOf(Ee)&&(this.ctx.lineJoin=Ee,this.pdf.setLineJoin(Ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ee){isNaN(Ee)||(this.ctx.miterLimit=Ee,this.pdf.setMiterLimit(Ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ee){this.ctx.textBaseline=Ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ee){-1!==["right","end","center","left","start"].indexOf(Ee)&&(this.ctx.textAlign=Ee)}});var Ge=null,He=null;Object.defineProperty(this,"fontFaces",{get:function(){return He},set:function(Ee){Ge=null,He=Ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ee){var K;if(this.ctx.font=Ee,null!==(K=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ee))){var en=K[1],Lt=K[3],Et=K[4],Ue=K[6],ut=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Et)[2];Et=Math.floor("px"===ut?parseFloat(Et)*this.pdf.internal.scaleFactor:"em"===ut?parseFloat(Et)*this.pdf.getFontSize():parseFloat(Et)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Et);var Qe=function(Dt){var ft,Pn,sn=[],ze=Dt.trim();if(""===ze)return IN;if(ze in Rz)return[Rz[ze]];for(;""!==ze;){switch(Pn=null,ft=(ze=Mz(ze)).charAt(0)){case'"':case"'":Pn=Vve(ze.substring(1),ft);break;default:Pn=Uve(ze)}if(null===Pn||(sn.push(Pn[0]),""!==(ze=Mz(Pn[1]))&&","!==ze.charAt(0)))return IN;ze=ze.replace(/^,/,"")}return sn}(Ue);if(this.fontFaces){var tn=function(Dt,ft,Pn){for(var sn=(Pn=Pn||{}).defaultFontFamily||"times",ze=Object.assign({},Fve,Pn.genericFontFamilies||{}),yt=null,qt=null,vt=0;vt<ft.length;++vt)if(ze[(yt=bN(ft[vt])).family]&&(yt.family=ze[yt.family]),Dt.hasOwnProperty(yt.family)){qt=Dt[yt.family];break}if(!(qt=qt||Dt[sn]))throw new Error("Could not find a font-family for the rule '"+kz(yt)+"' and default family '"+sn+"'.");if(qt=function(Yt,pt){if(pt[Yt])return pt[Yt];var Mn=wN[Yt],mn=Pz(pt,xz,Mn,Mn<=wN.normal?-1:1);if(!mn)throw new Error("Could not find a matching font-stretch value for "+Yt);return mn}(yt.stretch,qt),qt=function(Yt,pt){if(pt[Yt])return pt[Yt];for(var Mn=Dz[Yt],_r=0;_r<Mn.length;++_r)if(pt[Mn[_r]])return pt[Mn[_r]];throw new Error("Could not find a matching font-style for "+Yt)}(yt.style,qt),!(qt=function(Yt,pt){if(pt[Yt])return pt[Yt];if(400===Yt&&pt[500])return pt[500];if(500===Yt&&pt[400])return pt[400];var _r=Pz(pt,Nz,Lve[Yt],Yt<400?-1:1);if(!_r)throw new Error("Could not find a matching font-weight for value "+Yt);return _r}(yt.weight,qt)))throw new Error("Failed to resolve a font for the rule '"+kz(yt)+"'.");return qt}(function(Dt,ft){if(null===Ge){var Pn=(sn=Dt.getFontList(),ze=[],Object.keys(sn).forEach(function(yt){sn[yt].forEach(function(qt){var vt=null;switch(qt){case"bold":vt={family:yt,weight:"bold"};break;case"italic":vt={family:yt,style:"italic"};break;case"bolditalic":vt={family:yt,weight:"bold",style:"italic"};break;case"":case"normal":vt={family:yt}}null!==vt&&(vt.ref={name:yt,style:qt},ze.push(vt))})}),ze);Ge=function(sn){for(var ze={},yt=0;yt<sn.length;++yt){var qt=bN(sn[yt]),vt=qt.family,Yt=qt.stretch,pt=qt.style,Mn=qt.weight;ze[vt]=ze[vt]||{},ze[vt][Yt]=ze[vt][Yt]||{},ze[vt][Yt][pt]=ze[vt][Yt][pt]||{},ze[vt][Yt][pt][Mn]=qt}return ze}(Pn.concat(ft))}var sn,ze;return Ge}(this.pdf,this.fontFaces),Qe.map(function(Dt){return{family:Dt,stretch:"normal",weight:Lt,style:en}}));this.pdf.setFont(tn.ref.name,tn.ref.style)}else{var Ct="";("bold"===Lt||parseInt(Lt,10)>=700||"bold"===en)&&(Ct="bold"),"italic"===en&&(Ct+="italic"),0===Ct.length&&(Ct="normal");for(var Pt="",$t={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ht=0;ht<Qe.length;ht++){if(void 0!==this.pdf.internal.getFont(Qe[ht],Ct,{noFallback:!0,disableWarning:!0})){Pt=Qe[ht];break}if("bolditalic"===Ct&&void 0!==this.pdf.internal.getFont(Qe[ht],"bold",{noFallback:!0,disableWarning:!0}))Pt=Qe[ht],Ct="bold";else if(void 0!==this.pdf.internal.getFont(Qe[ht],"normal",{noFallback:!0,disableWarning:!0})){Pt=Qe[ht],Ct="normal";break}}if(""===Pt)for(var at=0;at<Qe.length;at++)if($t[Qe[at]]){Pt=$t[Qe[at]];break}this.pdf.setFont(Pt=""===Pt?"Times":Pt,Ct)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ee){this.ctx.globalCompositeOperation=Ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ee){this.ctx.globalAlpha=Ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ee){this.ctx.lineDashOffset=Ee,Pe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ee){this.ctx.lineDash=Ee,Pe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ee){this.ctx.ignoreClearRect=!!Ee}})};d.prototype.setLineDash=function(L){this.lineDash=L},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){F.call(this,"fill",!1)},d.prototype.stroke=function(){F.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(L,q){if(isNaN(L)||isNaN(q))throw tr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new s(L,q));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new s(L,q)},d.prototype.closePath=function(){var L=new s(0,0),q=0;for(q=this.path.length-1;-1!==q;q--)if("begin"===this.path[q].type&&"object"===jn(this.path[q+1])&&"number"==typeof this.path[q+1].x){L=new s(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(L.x,L.y)},d.prototype.lineTo=function(L,q){if(isNaN(L)||isNaN(q))throw tr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new s(L,q));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new s(Y.x,Y.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},d.prototype.quadraticCurveTo=function(L,q,Y,X){if(isNaN(Y)||isNaN(X)||isNaN(L)||isNaN(q))throw tr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new s(Y,X)),ae=this.ctx.transform.applyToPoint(new s(L,q));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new s(ie.x,ie.y)},d.prototype.bezierCurveTo=function(L,q,Y,X,ie,ae){if(isNaN(ie)||isNaN(ae)||isNaN(L)||isNaN(q)||isNaN(Y)||isNaN(X))throw tr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new s(ie,ae)),ve=this.ctx.transform.applyToPoint(new s(L,q)),Se=this.ctx.transform.applyToPoint(new s(Y,X));this.path.push({type:"bct",x1:ve.x,y1:ve.y,x2:Se.x,y2:Se.y,x:me.x,y:me.y}),this.ctx.lastPoint=new s(me.x,me.y)},d.prototype.arc=function(L,q,Y,X,ie,ae){if(isNaN(L)||isNaN(q)||isNaN(Y)||isNaN(X)||isNaN(ie))throw tr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new s(L,q));L=me.x,q=me.y;var ve=this.ctx.transform.applyToPoint(new s(0,Y)),Se=this.ctx.transform.applyToPoint(new s(0,0));Y=Math.sqrt(Math.pow(ve.x-Se.x,2)+Math.pow(ve.y-Se.y,2))}Math.abs(ie-X)>=2*Math.PI&&(X=0,ie=2*Math.PI),this.path.push({type:"arc",x:L,y:q,radius:Y,startAngle:X,endAngle:ie,counterclockwise:ae})},d.prototype.arcTo=function(L,q,Y,X,ie){throw new Error("arcTo not implemented.")},d.prototype.rect=function(L,q,Y,X){if(isNaN(L)||isNaN(q)||isNaN(Y)||isNaN(X))throw tr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,q),this.lineTo(L+Y,q),this.lineTo(L+Y,q+X),this.lineTo(L,q+X),this.lineTo(L,q),this.lineTo(L+Y,q),this.lineTo(L,q)},d.prototype.fillRect=function(L,q,Y,X){if(isNaN(L)||isNaN(q)||isNaN(Y)||isNaN(X))throw tr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ie={};"butt"!==this.lineCap&&(ie.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,q,Y,X),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},d.prototype.strokeRect=function(L,q,Y,X){if(isNaN(L)||isNaN(q)||isNaN(Y)||isNaN(X))throw tr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(L,q,Y,X),this.stroke())},d.prototype.clearRect=function(L,q,Y,X){if(isNaN(L)||isNaN(q)||isNaN(Y)||isNaN(X))throw tr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,q,Y,X))},d.prototype.save=function(L){L="boolean"!=typeof L||L;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},d.prototype.restore=function(L){L="boolean"!=typeof L||L;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(q),L&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(L){var q,Y,X,ie;if(!0===L.isCanvasGradient&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))q=0,Y=0,X=0,ie=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(null!==ae)q=parseInt(ae[1]),Y=parseInt(ae[2]),X=parseInt(ae[3]),ie=1;else if(null!==(ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L)))q=parseInt(ae[1]),Y=parseInt(ae[2]),X=parseInt(ae[3]),ie=parseFloat(ae[4]);else{if(ie=1,"string"==typeof L&&"#"!==L.charAt(0)){var me=new mz(L);L=me.ok?me.toHex():"#000000"}4===L.length?(q=L.substring(1,2),q+=q,Y=L.substring(2,3),Y+=Y,X=L.substring(3,4),X+=X):(q=L.substring(1,3),Y=L.substring(3,5),X=L.substring(5,7)),q=parseInt(q,16),Y=parseInt(Y,16),X=parseInt(X,16)}}return{r:q,g:Y,b:X,a:ie,style:L}},p=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},w=function(){return!(!this.ctx.isStrokeTransparent&&0!=this.globalAlpha)};d.prototype.fillText=function(L,q,Y,X){if(isNaN(q)||isNaN(Y)||"string"!=typeof L)throw tr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!p.call(this)){var ie=ce(this.ctx.transform.rotation);x.call(this,{text:L,x:q,y:Y,scale:this.ctx.transform.scaleX,angle:ie,align:this.textAlign,maxWidth:X})}},d.prototype.strokeText=function(L,q,Y,X){if(isNaN(q)||isNaN(Y)||"string"!=typeof L)throw tr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){X=isNaN(X)?void 0:X;var ie=ce(this.ctx.transform.rotation);x.call(this,{text:L,x:q,y:Y,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:X})}},d.prototype.measureText=function(L){if("string"!=typeof L)throw tr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,Y=this.pdf.internal.scaleFactor,X=q.internal.getFontSize(),ie=q.getStringUnitWidth(L)*X/q.internal.scaleFactor;return new function(ae){var me=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this}({width:ie*=Math.round(96*Y/72*1e4)/1e4})},d.prototype.scale=function(L,q){if(isNaN(L)||isNaN(q))throw tr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new u(L,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},d.prototype.rotate=function(L){if(isNaN(L))throw tr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new u(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},d.prototype.translate=function(L,q){if(isNaN(L)||isNaN(q))throw tr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new u(1,0,0,1,L,q);this.ctx.transform=this.ctx.transform.multiply(Y)},d.prototype.transform=function(L,q,Y,X,ie,ae){if(isNaN(L)||isNaN(q)||isNaN(Y)||isNaN(X)||isNaN(ie)||isNaN(ae))throw tr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new u(L,q,Y,X,ie,ae);this.ctx.transform=this.ctx.transform.multiply(me)},d.prototype.setTransform=function(L,q,Y,X,ie,ae){L=isNaN(L)?1:L,q=isNaN(q)?0:q,Y=isNaN(Y)?0:Y,X=isNaN(X)?1:X,ie=isNaN(ie)?0:ie,ae=isNaN(ae)?0:ae,this.ctx.transform=new u(L,q,Y,X,ie,ae)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(L,q,Y,X,ie,ae,me,ve,Se){var Ae=this.pdf.getImageProperties(L),Ge=1,He=1,Ee=1,K=1;void 0!==X&&void 0!==ve&&(Ee=ve/X,K=Se/ie,Ge=Ae.width/X*ve/X,He=Ae.height/ie*Se/ie),void 0===ae&&(ae=q,me=Y,q=0,Y=0),void 0!==X&&void 0===ve&&(ve=X,Se=ie),void 0===X&&void 0===ve&&(ve=Ae.width,Se=Ae.height);for(var en,Lt=this.ctx.transform.decompose(),Et=ce(Lt.rotate.shx),Ue=new u,ut=(Ue=(Ue=(Ue=Ue.multiply(Lt.translate)).multiply(Lt.skew)).multiply(Lt.scale)).applyToRectangle(new a(ae-q*Ee,me-Y*K,X*Ge,ie*He)),Qe=E.call(this,ut),Ft=[],mt=0;mt<Qe.length;mt+=1)-1===Ft.indexOf(Qe[mt])&&Ft.push(Qe[mt]);if(V(Ft),this.autoPaging)for(var tn=Ft[0],Ct=Ft[Ft.length-1],Pt=tn;Pt<Ct+1;Pt++){this.pdf.setPage(Pt);var $t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ht=1===Pt?this.posY+this.margin[0]:this.margin[0],Dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ft=1===Pt?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Pt-2)*Dt;if(0!==this.ctx.clip_path.length){var Pn=this.path;en=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(en,this.posX+this.margin[3],-ft+ht+this.ctx.prevPageLastElemOffset),Q.call(this,"fill",!0),this.path=Pn}var sn=JSON.parse(JSON.stringify(ut));sn=R([sn],this.posX+this.margin[3],-ft+ht+this.ctx.prevPageLastElemOffset)[0];var ze=(Pt>tn||Pt<Ct)&&b.call(this);ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$t,Dt,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",sn.x,sn.y,sn.w,sn.h,null,null,Et),ze&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",ut.x,ut.y,ut.w,ut.h,null,null,Et)};var E=function(L,q,Y){var X=[];q=q||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":X.push(Math.floor((L.y+ie)/Y)+1);break;case"arc":X.push(Math.floor((L.y+ie-L.radius)/Y)+1),X.push(Math.floor((L.y+ie+L.radius)/Y)+1);break;case"qct":var ae=Ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);X.push(Math.floor((ae.y+ie)/Y)+1),X.push(Math.floor((ae.y+ae.h+ie)/Y)+1);break;case"bct":var me=je(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);X.push(Math.floor((me.y+ie)/Y)+1),X.push(Math.floor((me.y+me.h+ie)/Y)+1);break;case"rect":X.push(Math.floor((L.y+ie)/Y)+1),X.push(Math.floor((L.y+L.h+ie)/Y)+1)}for(var ve=0;ve<X.length;ve+=1)for(;this.pdf.internal.getNumberOfPages()<X[ve];)T.call(this);return X},T=function(){var L=this.fillStyle,q=this.strokeStyle,Y=this.font,X=this.lineCap,ie=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=q,this.font=Y,this.lineCap=X,this.lineWidth=ie,this.lineJoin=ae},R=function(L,q,Y){for(var X=0;X<L.length;X++)switch(L[X].type){case"bct":L[X].x2+=q,L[X].y2+=Y;case"qct":L[X].x1+=q,L[X].y1+=Y;default:L[X].x+=q,L[X].y+=Y}return L},V=function(L){return L.sort(function(q,Y){return q-Y})},F=function(L,q){for(var Y,X,ie=this.fillStyle,ae=this.strokeStyle,me=this.lineCap,ve=this.lineWidth,Se=Math.abs(ve*this.ctx.transform.scaleX),Ae=this.lineJoin,Ge=JSON.parse(JSON.stringify(this.path)),He=JSON.parse(JSON.stringify(this.path)),Ee=[],K=0;K<He.length;K++)if(void 0!==He[K].x)for(var en=E.call(this,He[K]),Lt=0;Lt<en.length;Lt+=1)-1===Ee.indexOf(en[Lt])&&Ee.push(en[Lt]);for(var Et=0;Et<Ee.length;Et++)for(;this.pdf.internal.getNumberOfPages()<Ee[Et];)T.call(this);if(V(Ee),this.autoPaging)for(var Ue=Ee[0],ut=Ee[Ee.length-1],Qe=Ue;Qe<ut+1;Qe++){this.pdf.setPage(Qe),this.fillStyle=ie,this.strokeStyle=ae,this.lineCap=me,this.lineWidth=Se,this.lineJoin=Ae;var Ft=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],mt=1===Qe?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Pt=1===Qe?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Qe-2)*Ct;if(0!==this.ctx.clip_path.length){var $t=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(Y,this.posX+this.margin[3],-Pt+mt+this.ctx.prevPageLastElemOffset),Q.call(this,L,!0),this.path=$t}if(X=JSON.parse(JSON.stringify(Ge)),this.path=R(X,this.posX+this.margin[3],-Pt+mt+this.ctx.prevPageLastElemOffset),!1===q||0===Qe){var ht=(Qe>Ue||Qe<ut)&&b.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ft,Ct,null).clip().discardPath()),Q.call(this,L,q),ht&&this.pdf.restoreGraphicsState()}this.lineWidth=ve}else this.lineWidth=Se,Q.call(this,L,q),this.lineWidth=ve;this.path=Ge},Q=function(L,q){if(("stroke"!==L||q||!w.call(this))&&("stroke"===L||q||!p.call(this))){for(var Y,X,ie=[],ae=this.path,me=0;me<ae.length;me++){var ve=ae[me];switch(ve.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:ve,deltas:[],abs:[]});break;case"lt":var Se=ie.length;if(ae[me-1]&&!isNaN(ae[me-1].x)&&(Y=[ve.x-ae[me-1].x,ve.y-ae[me-1].y],Se>0))for(;Se>=0;Se--)if(!0!==ie[Se-1].close&&!0!==ie[Se-1].begin){ie[Se-1].deltas.push(Y),ie[Se-1].abs.push(ve);break}break;case"bct":ie[ie.length-1].deltas.push(Y=[ve.x1-ae[me-1].x,ve.y1-ae[me-1].y,ve.x2-ae[me-1].x,ve.y2-ae[me-1].y,ve.x-ae[me-1].x,ve.y-ae[me-1].y]);break;case"qct":ie[ie.length-1].deltas.push(Y=[ae[me-1].x+2/3*(ve.x1-ae[me-1].x)-ae[me-1].x,ae[me-1].y+2/3*(ve.y1-ae[me-1].y)-ae[me-1].y,ve.x+2/3*(ve.x1-ve.x)-ae[me-1].x,ve.y+2/3*(ve.y1-ve.y)-ae[me-1].y,ve.x-ae[me-1].x,ve.y-ae[me-1].y]);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(ve)}}X=q?null:"stroke"===L?"stroke":"fill";for(var Lt=!1,Et=0;Et<ie.length;Et++)if(ie[Et].arc)for(var Ue=ie[Et].abs,ut=0;ut<Ue.length;ut++){var Qe=Ue[ut];"arc"===Qe.type?D.call(this,Qe.x,Qe.y,Qe.radius,Qe.startAngle,Qe.endAngle,Qe.counterclockwise,void 0,q,!Lt):N.call(this,Qe.x,Qe.y),Lt=!0}else!0===ie[Et].close?(this.pdf.internal.out("h"),Lt=!1):!0!==ie[Et].begin&&(Z.call(this,ie[Et].deltas,ie[Et].start.x,ie[Et].start.y),Lt=!0);X&&S.call(this,X),q&&O.call(this)}},ne=function(L){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-Y;case"top":return L+q-Y;case"hanging":return L+q-2*Y;case"middle":return L+q/2-Y;default:return L}},B=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(q,Y){this.colorStops.push([q,Y])},L.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(L,q,Y,X,ie,ae,me,ve,Se){for(var Ae=be.call(this,Y,X,ie,ae),Ge=0;Ge<Ae.length;Ge++){var He=Ae[Ge];0===Ge&&(Se?A.call(this,He.x1+L,He.y1+q):N.call(this,He.x1+L,He.y1+q)),fe.call(this,L,q,He.x2,He.y2,He.x3,He.y3,He.x4,He.y4)}ve?O.call(this):S.call(this,me)},S=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(L,q){this.pdf.internal.out(n(L)+" "+r(q)+" m")},x=function(L){var q;switch(L.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var Y=this.pdf.getTextDimensions(L.text),X=ne.call(this,L.y),ie=B.call(this,X)-Y.h,ae=this.ctx.transform.applyToPoint(new s(L.x,X)),me=this.ctx.transform.decompose(),ve=new u;ve=(ve=(ve=ve.multiply(me.translate)).multiply(me.skew)).multiply(me.scale);for(var Se,Ae,Ge,He=this.ctx.transform.applyToRectangle(new a(L.x,X,Y.w,Y.h)),Ee=ve.applyToRectangle(new a(L.x,ie,Y.w,Y.h)),K=E.call(this,Ee),en=[],Lt=0;Lt<K.length;Lt+=1)-1===en.indexOf(K[Lt])&&en.push(K[Lt]);if(V(en),this.autoPaging)for(var Et=en[0],Ue=en[en.length-1],ut=Et;ut<Ue+1;ut++){this.pdf.setPage(ut);var Qe=1===ut?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.margin[2],tn=mt-this.margin[0],Ct=this.pdf.internal.pageSize.width-this.margin[1],Pt=Ct-this.margin[3],$t=1===ut?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(ut-2)*tn;if(0!==this.ctx.clip_path.length){var ht=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(Se,this.posX+this.margin[3],-1*$t+Qe),Q.call(this,"fill",!0),this.path=ht}var at=R([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-$t+Qe+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*L.scale),this.lineWidth=(Ge=this.lineWidth)*L.scale);var Dt="text"!==this.autoPaging;if(Dt||at.y+at.h<=mt){if(Dt||at.y>=Qe&&at.x<=Ct){var ft=Dt?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Ct-at.x)[0],Pn=R([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-$t+Qe+this.ctx.prevPageLastElemOffset)[0],sn=Dt&&(ut>Et||ut<Ue)&&b.call(this);sn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pt,tn,null).clip().discardPath()),this.pdf.text(ft,Pn.x,Pn.y,{angle:L.angle,align:q,renderingMode:L.renderingMode}),sn&&this.pdf.restoreGraphicsState()}}else at.y<mt&&(this.ctx.prevPageLastElemOffset+=mt-at.y);L.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=Ge)}else L.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*L.scale),this.lineWidth=(Ge=this.lineWidth)*L.scale),this.pdf.text(L.text,ae.x+this.posX,ae.y+this.posY,{angle:L.angle,align:q,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=Ge)},N=function(L,q,Y,X){X=X||0,this.pdf.internal.out(n(L+(Y=Y||0))+" "+r(q+X)+" l")},Z=function(L,q,Y){return this.pdf.lines(L,q,Y,null,null)},fe=function(L,q,Y,X,ie,ae,me,ve){this.pdf.internal.out([e(i(Y+L)),e(o(X+q)),e(i(ie+L)),e(o(ae+q)),e(i(me+L)),e(o(ve+q)),"c"].join(" "))},be=function(L,q,Y,X){for(var ie=2*Math.PI,ae=Math.PI/2;q>Y;)q-=ie;var me=Math.abs(Y-q);me<ie&&X&&(me=ie-me);for(var ve=[],Se=X?-1:1,Ae=q;me>1e-5;){var Ge=Ae+Se*Math.min(me,ae);ve.push(we.call(this,L,Ae,Ge)),me-=Math.abs(Ge-Ae),Ae=Ge}return ve},we=function(L,q,Y){var X=(Y-q)/2,ie=L*Math.cos(X),ae=L*Math.sin(X),me=ie,ve=-ae,Se=me*me+ve*ve,Ae=Se+me*ie+ve*ae,Ge=4/3*(Math.sqrt(2*Se*Ae)-Ae)/(me*ae-ve*ie),He=me-Ge*ve,Ee=ve+Ge*me,K=He,en=-Ee,Lt=X+q,Et=Math.cos(Lt),Ue=Math.sin(Lt);return{x1:L*Math.cos(q),y1:L*Math.sin(q),x2:He*Et-Ee*Ue,y2:He*Ue+Ee*Et,x3:K*Et-en*Ue,y3:K*Ue+en*Et,x4:L*Math.cos(Y),y4:L*Math.sin(Y)}},ce=function(L){return 180*L/Math.PI},Ie=function(L,q,Y,X,ie,ae){var me=L+.5*(Y-L),ve=q+.5*(X-q),Se=ie+.5*(Y-ie),Ae=ae+.5*(X-ae),Ge=Math.min(L,ie,me,Se),He=Math.max(L,ie,me,Se),Ee=Math.min(q,ae,ve,Ae),K=Math.max(q,ae,ve,Ae);return new a(Ge,Ee,He-Ge,K-Ee)},je=function(L,q,Y,X,ie,ae,me,ve){var Se,Ae,Ge,He,Ee,K,en,Lt,Et,Ue,ut,Qe,Ft,mt,tn=Y-L,Ct=X-q,Pt=ie-Y,$t=ae-X,ht=me-ie,at=ve-ae;for(Ae=0;Ae<41;Ae++)Et=(en=(Ge=L+(Se=Ae/40)*tn)+Se*((Ee=Y+Se*Pt)-Ge))+Se*(Ee+Se*(ie+Se*ht-Ee)-en),Ue=(Lt=(He=q+Se*Ct)+Se*((K=X+Se*$t)-He))+Se*(K+Se*(ae+Se*at-K)-Lt),0==Ae?(ut=Et,Qe=Ue,Ft=Et,mt=Ue):(ut=Math.min(ut,Et),Qe=Math.min(Qe,Ue),Ft=Math.max(Ft,Et),mt=Math.max(mt,Ue));return new a(Math.round(ut),Math.round(Qe),Math.round(Ft-ut),Math.round(mt-Qe))},Pe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Y=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(_t.API),
/**
         * @license
         * jsPDF filters PlugIn
         * Copyright (c) 2014 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){var e=function(s){var a,u,l,c,d,m,p,w,b,E;for(/[^\x00-\xFF]/.test(s),u=[],l=0,c=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)0!==(d=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))?(m=(d=((d=((d=((d=(d-(E=d%85))/85)-(b=d%85))/85)-(w=d%85))/85)-(p=d%85))/85)%85,u.push(m+33,p+33,w+33,b+33,E+33)):u.push(122);return function(T,R){for(var V=R;V>0;V--)T.pop()}(u,a.length),String.fromCharCode.apply(String,u)+"~>"},n=function(s){var a,u,l,c,d,m=String,p="length",w=255,b="charCodeAt",E="slice",T="replace";for(s[E](-2),s=s[E](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),l=[],c=0,d=(s+=a="uuuuu"[E](s[p]%5||5))[p];d>c;c+=5)u=52200625*(s[b](c)-33)+614125*(s[b](c+1)-33)+7225*(s[b](c+2)-33)+85*(s[b](c+3)-33)+(s[b](c+4)-33),l.push(w&u>>24,w&u>>16,w&u>>8,w&u);return function(R,V){for(var F=V;F>0;F--)R.pop()}(l,a[p]),m.fromCharCode.apply(m,l)},r=function(s){return s.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(s=s.replace(/\s/g,"")).indexOf(">")&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),!1===a.test(s))return"";for(var u="",l=0;l<s.length;l+=2)u+=String.fromCharCode("0x"+(s[l]+s[l+1]));return u},o=function(s){for(var a=new Uint8Array(s.length),u=s.length;u--;)a[u]=s.charCodeAt(u);return(a=J_(a)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,a){var u=0,l=s||"",c=[];for("string"==typeof(a=a||[])&&(a=[a]),u=0;u<a.length;u+=1)switch(a[u]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=i(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=r(l),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=o(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[u]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(_t.API),
/**
         * @license
         * jsPDF fileloading PlugIn
         * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){t.loadFile=function(e,n,r){return function(i,o,s){o=!1!==o,s="function"==typeof s?s:function(){};var a=void 0;try{a=function(u,l,c){var d=new XMLHttpRequest,m=0,p=function(w){var b=w.length,E=[],T=String.fromCharCode;for(m=0;m<b;m+=1)E.push(T(255&w.charCodeAt(m)));return E.join("")};if(d.open("GET",u,!l),d.overrideMimeType("text/plain; charset=x-user-defined"),!1===l&&(d.onload=function(){c(200===d.status?p(this.responseText):void 0)}),d.send(null),l&&200===d.status)return p(d.responseText)}(i,o,s)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(_t.API),function(t){function e(){return(zt.html2canvas?Promise.resolve(zt.html2canvas):ms.e(239).then(ms.t.bind(ms,7239,23))).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(zt.DOMPurify?Promise.resolve(zt.DOMPurify):ms.e(627).then(ms.bind(ms,627))).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var u=jn(a);return"undefined"===u?"undefined":"string"===u||a instanceof String?"string":"number"===u||a instanceof Number?"number":"function"===u||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&1===a.nodeType?"element":"object"===u?"object":"unknown"},i=function(a,u){var l=document.createElement(a);for(var c in u.className&&(l.className=u.className),u.innerHTML&&u.dompurify&&(l.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)l.style[c]=u.style[c];return l},o=function a(u,l){for(var c=3===u.nodeType?document.createTextNode(u.nodeValue):u.cloneNode(!1),d=u.firstChild;d;d=d.nextSibling)!0!==l&&1===d.nodeType&&"SCRIPT"===d.nodeName||c.appendChild(a(d,l));return 1===u.nodeType&&("CANVAS"===u.nodeName?(c.width=u.width,c.height=u.height,c.getContext("2d").drawImage(u,0,0)):"TEXTAREA"!==u.nodeName&&"SELECT"!==u.nodeName||(c.value=u.value),c.addEventListener("load",function(){c.scrollTop=u.scrollTop,c.scrollLeft=u.scrollLeft},!0)),c},s=function a(u){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),l);return(c=c.setProgress(1,a,1,[a])).set(u)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,u){return a.__proto__=u||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,u){return this.then(function(){switch(u=u||function(l){switch(r(l)){case"string":return"string";case"element":return"canvas"===l.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===u.tagName&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(u){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,u(this.prop.container,l)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(u){var l=this.opt.jsPDF,c=this.opt.fontFaces,d="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,l.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var w=c[p],b=w.src.find(function(E){return"truetype"===E.format});b&&l.addFont(b.url,w.ref.name,w.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=0==m.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,l.context2d.save(!0),u(this.prop.container,m)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,u,l){return"img"===(l=l||"pdf").toLowerCase()||"image"===l.toLowerCase()?this.outputImg(a,u):this.outputPdf(a,u)},s.prototype.outputPdf=function(a,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,u)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if("object"!==r(a))return this;var u=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(u)})},s.prototype.get=function(a,u){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return u?u(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(2===a.length&&(a=[a[0],a[1],a[0],a[1]]),4===a.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function u(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(a=a||_t.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:u(a.inner.width,a.k),height:u(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,u,l,c){return null!=a&&(this.progress.val=a),null!=u&&(this.progress.state=u),null!=l&&(this.progress.n=l),null!=c&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,u,l,c){return this.setProgress(a?this.progress.val+a:null,u||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(a,u){var l=this;return this.thenCore(a,u,function(c,d){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(m){return l.updateProgress(null,c),m}).then(c,d).then(function(m){return l.updateProgress(1),m})})},s.prototype.thenCore=function(a,u,l){l=l||Promise.prototype.then;var c=this;a&&(a=a.bind(c)),u&&(u=u.bind(c));var d=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?c:s.convert(Object.assign({},c),Promise.prototype),m=l.call(d,a,u);return s.convert(m,c.__proto__)},s.prototype.thenExternal=function(a,u){return Promise.prototype.then.call(this,a,u)},s.prototype.thenList=function(a){var u=this;return a.forEach(function(l){u=u.thenCore(l)}),u},s.prototype.catch=function(a){a&&(a=a.bind(this));var u=Promise.prototype.catch.call(this,a);return s.convert(u,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,_t.getPageSize=function(a,u,l){if("object"===jn(a)){var c=a;a=c.orientation,u=c.unit||u,l=c.format||l}u=u||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var d,m=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+u}var w,b=0,E=0;if(p.hasOwnProperty(m))b=p[m][1]/d,E=p[m][0]/d;else try{b=l[1],E=l[0]}catch{throw new Error("Invalid format: "+l)}if("p"===a||"portrait"===a)a="p",E>b&&(w=E,E=b,b=w);else{if("l"!==a&&"landscape"!==a)throw"Invalid orientation: "+a;a="l",b>E&&(w=E,E=b,b=w)}return{width:E,height:b,unit:u,k:d,orientation:a}},t.html=function(a,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(bN):null;var l=new s(u);return u.worker?l:l.from(a).doCallback()}}(_t.API),_t.API.addJS=function(t){return Lz=t,this.internal.events.subscribe("postPutResources",function(){vb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(vb+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Oz=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Lz+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==vb&&void 0!==Oz&&this.internal.out("/Names <</JavaScript "+vb+" 0 R>>")}),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=r.exec(s);null!=a&&n.internal.newObjectDeferredBegin(a[1],!1),n.internal.write(s)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(o=0;o<l;o++){var d=n.internal.newObject();c.push(d);var m=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<c.length;o++)n.internal.write("(page_"+(o+1)+")"+c[o]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return null==r&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var u=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var l=0;l<r.children.length;l++)this.renderItems(r.children[l])},n.outline.line=function(r){this.ctx.val+=r+"\r\n"},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+="\r\n"+r.id+" 0 obj\r\n<<\r\n"},n.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},n.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])}(_t.API),
/**
         * @license
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,o,s,a){var u,l=this.decode.DCT_DECODE,c=null;if("string"==typeof n||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=this.__addimage__.isArrayBuffer(n=s||n)?new Uint8Array(n):n,(u=function(d){for(var m,p=256*d.charCodeAt(4)+d.charCodeAt(5),w=d.length,b={width:0,height:0,numcomponents:1},E=4;E<w;E+=2){if(-1!==e.indexOf(d.charCodeAt((E+=p)+1))){m=256*d.charCodeAt(E+5)+d.charCodeAt(E+6),b={width:256*d.charCodeAt(E+7)+d.charCodeAt(E+8),height:m,numcomponents:d.charCodeAt(E+9)};break}p=256*d.charCodeAt(E+2)+d.charCodeAt(E+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:n,width:u.width,height:u.height,colorSpace:a,bitsPerComponent:8,filter:l,index:r,alias:i}}return c}}(_t.API),_t.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,d,m,p,o=function Ive(t,e){return new pve(t,e).decode()}(t,{checkCrc:!0}),s=o.width,a=o.height,u=o.channels,c=o.depth,b=(i=o.palette&&1===u?function(D){for(var S=D.width,O=D.height,A=D.data,x=D.palette,N=D.depth,Z=!1,fe=[],be=[],we=void 0,ce=!1,Ie=0,je=0;je<x.length;je++){var Pe=Cj(x[je],4),X=Pe[3];fe.push(Pe[0],Pe[1],Pe[2]),null!=X&&(0===X?(Ie++,be.length<1&&be.push(je)):X<255&&(ce=!0))}if(ce||Ie>1){Z=!0,be=void 0;var ie=S*O;we=new Uint8Array(ie);for(var ae=new DataView(A.buffer),me=0;me<ie;me++){var Se=Cj(x[EN(ae,me,N)],4)[3];we[me]=Se}}else 0===Ie&&(be=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Z?8:void 0,colorBytes:A,alphaBytes:we,needSMask:Z,palette:fe,mask:be}}(o):2===u||4===u?function(D){for(var S=D.data,x=D.channels,N=D.depth,Z=2===x?"DeviceGray":"DeviceRGB",fe=x-1,be=D.width*D.height,we=fe,Ie=1*be,je=Math.ceil(be*we*N/8),Pe=Math.ceil(Ie*N/8),L=new Uint8Array(je),q=new Uint8Array(Pe),Y=new DataView(S.buffer),X=new DataView(L.buffer),ie=new DataView(q.buffer),ae=!1,me=0;me<be;me++){for(var ve=me*x,Se=0;Se<we;Se++)Hz(X,EN(Y,ve+Se,N),me*we+Se,N);var Ae=EN(Y,ve+we,N);Ae<(1<<N)-1&&(ae=!0),Hz(ie,Ae,1*me,N)}return{colorSpace:Z,colorsPerPixel:fe,sMaskBitsPerComponent:ae?N:void 0,colorBytes:L,alphaBytes:q,needSMask:ae}}(o):{colorSpace:O=1===(D=o).channels?"DeviceGray":"DeviceRGB",colorsPerPixel:"DeviceGray"===O?1:3,colorBytes:(S=D.data)instanceof Uint16Array?function(A){for(var x=A.length,N=new Uint8Array(2*x),Z=new DataView(N.buffer,N.byteOffset,N.byteLength),fe=0;fe<x;fe++)Z.setUint16(2*fe,A[fe],!1);return N}(S):S,needSMask:!1}).colorSpace,E=i.colorsPerPixel,T=i.sMaskBitsPerComponent,R=i.colorBytes,V=i.alphaBytes,F=i.needSMask,Q=i.palette,ne=i.mask,B=null;return r!==_t.API.image_compression.NONE?(B=function(D){var S;switch(D){case _t.API.image_compression.FAST:S=11;break;case _t.API.image_compression.MEDIUM:S=13;break;case _t.API.image_compression.SLOW:S=14;break;default:S=12}return S}(r),d=this.decode.FLATE_DECODE,m="/Predictor ".concat(B," /Colors ").concat(E," /BitsPerComponent ").concat(c," /Columns ").concat(s),t=Bz(R,Math.ceil(s*E*c/8),E,c,r),F&&(p=Bz(V,Math.ceil(s*T/8),1,T,r))):(d=void 0,m=void 0,t=R,F&&(p=V)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:d,decodeParameters:m,transparency:ne,palette:Q,sMask:p,predictor:B,width:s,height:a,bitsPerComponent:c,sMaskBitsPerComponent:T,colorSpace:b}}var D,S,O},function(t){t.processGIF89A=function(e,n,r,i){var o=new $ve(e),s=o.width,a=o.height,u=[];o.decodeAndBlitFrameRGBA(0,u);var l={data:u,width:s,height:a},c=new AN(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)},t.processGIF87A=t.processGIF89A}(_t.API),Pa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Pa.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[t]()}catch(n){tr.log("bit decode error:"+n)}},Pa.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var u=this.palette[o>>7-a&1];this.data[s+4*a]=u.blue,this.data[s+4*a+1]=u.green,this.data[s+4*a+2]=u.red,this.data[s+4*a+3]=255}0!==n&&(this.pos+=4-n)}},Pa.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,u=15&o,l=this.palette[o>>4];if(this.data[s]=l.blue,this.data[s+1]=l.green,this.data[s+2]=l.red,this.data[s+3]=255,2*i+1>=this.width)break;this.data[s+4]=(l=this.palette[u]).blue,this.data[s+4+1]=l.green,this.data[s+4+2]=l.red,this.data[s+4+3]=255}0!==e&&(this.pos+=4-e)}},Pa.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!==t&&(this.pos+=4-t)}},Pa.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,l=o>>15?255:0,c=r*this.width*4+4*i;this.data[c]=(o>>10&e)/e*255|0,this.data[c+1]=a,this.data[c+2]=s,this.data[c+3]=l}this.pos+=t}},Pa.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,u=(s>>5&n)/n*255|0,c=i*this.width*4+4*o;this.data[c]=(s>>11)/e*255|0,this.data[c+1]=u,this.data[c+2]=a,this.data[c+3]=255}this.pos+=t}},Pa.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Pa.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},Pa.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2018 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){t.processBMP=function(e,n,r,i){var o=new Pa(e,!1),s=o.width,a=o.height,u={data:o.getData(),width:s,height:a},l=new AN(100).encode(u,100);return t.processJPEG.call(this,l,n,r,i)}}(_t.API),Kz.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2019 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){t.processWEBP=function(e,n,r,i){var o=new Kz(e),s=o.width,a=o.height,u={data:o.getData(),width:s,height:a},l=new AN(100).encode(u,100);return t.processJPEG.call(this,l,n,r,i)}}(_t.API),_t.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,u=0,l=0;l<i;l+=4){var d=r[l+1],m=r[l+2],p=r[l+3];o[a++]=r[l],o[a++]=d,o[a++]=m,s[u++]=p}var w=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:w,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},_t.API.setLanguage=function(t){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]&&(this.internal.languageSettings.languageCode=t,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},wb=(og=_t.API).getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,u=a.fof?a.fof:1,l=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=l.fof?l.fof:1,d=!1!==e.doKerning,m=0,p=t.length,w=0,b=a[0]||u,E=[];for(n=0;n<p;n++)r=t.charCodeAt(n),"function"==typeof i.metadata.widthOfString?E.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(m=d&&"object"===jn(l[r])&&!isNaN(parseInt(l[r][w],10))?l[r][w]/c:0,E.push((a[r]||b)/u+m)),w=r;return E},Fz=og.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return og.processArabic&&(t=og.processArabic(t)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(t,n,i)/n:wb.apply(this,arguments).reduce(function(o,s){return o+s},0)},Vz=function(t,e,n,r){for(var i=[],o=0,s=t.length,a=0;o!==s&&a+e[o]<n;)a+=e[o],o++;i.push(t.slice(0,o));var u=o;for(a=0;o!==s;)a+e[o]>r&&(i.push(t.slice(u,o)),a=0,u=o),a+=e[o],o++;return u!==o&&i.push(t.slice(u,o)),i},Uz=function(t,e,n){n||(n={});var r,i,o,s,a,u,c=[],d=[c],m=n.textIndent||0,p=0,w=0,b=t.split(" "),E=wb.apply(this,[" ",n])[0];if(u=-1===n.lineIndent?b[0].length+2:n.lineIndent||0){var T=Array(u).join(" "),R=[];b.map(function(F){(F=F.split(/\s*\n/)).length>1?R=R.concat(F.map(function(Q,ne){return(ne&&Q.length?"\n":"")+Q})):R.push(F[0])}),b=R,u=Fz.apply(this,[T,n])}for(o=0,s=b.length;o<s;o++){var V=0;if(r=b[o],u&&"\n"==r[0]&&(r=r.substr(1),V=1),m+p+(w=(i=wb.apply(this,[r,n])).reduce(function(F,Q){return F+Q},0))>e||V){if(w>e){for(a=Vz.apply(this,[r,i,e-(m+p),e]),c.push(a.shift()),c=[a.pop()];a.length;)d.push([a.shift()]);w=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(F,Q){return F+Q},0)}else c=[r];d.push(c),m=w+u,p=E}else c.push(r),m+=p+w,p=E}return d.map(u?function(F,Q){return(Q?T:"")+F.join(" ")}:function(F){return F.join(" ")})},og.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var d=this.internal.getFont(c.fontName,c.fontStyle),m="Unicode";return d.metadata[m]?{widths:d.metadata[m].widths||{0:1},kerning:d.metadata[m].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var a,u,l=[];for(a=0,u=r.length;a<u;a++)l=l.concat(Uz.apply(this,[r[a],s,o]));return l},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},o=0;o<16;o++)r[n[o]]=e[o],i[e[o]]=n[o];var s=function(m){return"0x"+parseInt(m,10).toString(16)},a=t.__fontmetrics__.compress=function(m){var p,w,b,E,T=["{"];for(var R in m){if(p=m[R],isNaN(parseInt(R,10))?w="'"+R+"'":(R=parseInt(R,10),w=(w=s(R).slice(2)).slice(0,-1)+i[w.slice(-1)]),"number"==typeof p)p<0?(b=s(p).slice(3),E="-"):(b=s(p).slice(2),E=""),b=E+b.slice(0,-1)+i[b.slice(-1)];else{if("object"!==jn(p))throw new Error("Don't know what to do with value type "+jn(p)+".");b=a(p)}T.push(w+b)}return T.push("}"),T.join("")},u=t.__fontmetrics__.uncompress=function(m){if("string"!=typeof m)throw new Error("Invalid argument passed to uncompress.");for(var p,w,b,E,T={},R=1,V=T,F=[],Q="",ne="",B=m.length-1,D=1;D<B;D+=1)"'"==(E=m[D])?p?(b=p.join(""),p=void 0):p=[]:p?p.push(E):"{"==E?(F.push([V,b]),V={},b=void 0):"}"==E?((w=F.pop())[0][w[1]]=V,b=void 0,V=w[0]):"-"==E?R=-1:void 0===b?r.hasOwnProperty(E)?(Q+=r[E],b=parseInt(Q,16)*R,R=1,Q=""):Q+=E:r.hasOwnProperty(E)?(ne+=r[E],V[b]=parseInt(ne,16)*R,R=1,b=void 0,ne=""):ne+=E;return T},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var p=m.font,w=d.Unicode[p.postScriptName];w&&(p.metadata.Unicode={},p.metadata.Unicode.widths=w.widths,p.metadata.Unicode.kerning=w.kerning);var b=c.Unicode[p.postScriptName];b&&(p.metadata.Unicode.encoding=b,p.encoding=b.codePages[0])}])}(_t.API),
/**
         * @license
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=n.charCodeAt(o);return i};t.API.events.push(["addFont",function(n){var s,a,r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===o.existsFileInVFS(i.postScriptName)?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");s=i,a=/^\x00\x01\x00\x00/.test(a=r)?e(a):e(cb(a)),s.metadata=t.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]}}])}(_t),_t.API.addSvgAsImage=function(t,e,n,r,i,o,s,a){if(isNaN(e)||isNaN(n))throw tr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw tr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=r,u.height=i;var l=u.getContext("2d");l.fillStyle="#fff",l.fillRect(0,0,u.width,u.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(zt.canvg?Promise.resolve(zt.canvg):ms.e(842).then(ms.bind(ms,3842))).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(l,t,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(c)}).then(function(){d.addImage(u.toDataURL("image/jpeg",1),e,n,r,i,s,a)})},_t.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},_t.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),u=[],l=0,c=0,d=0;function m(w,b){var E,T=!1;for(E=0;E<w.length;E+=1)w[E]===b&&(T=!0);return T}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===t||!0===e){var p=a.length;for(d=0;d<p;d+=1)n[a[d]].value=n[a[d]].defaultValue,n[a[d]].explicitSet=!1}if("object"===jn(t))for(i in t)if(o=t[i],m(a,i)&&void 0!==o){if("boolean"===n[i].type&&"boolean"==typeof o)n[i].value=o;else if("name"===n[i].type&&m(n[i].valueSet,o))n[i].value=o;else if("integer"===n[i].type&&Number.isInteger(o))n[i].value=o;else if("array"===n[i].type){for(l=0;l<o.length;l+=1)if(r=!0,1===o[l].length&&"number"==typeof o[l][0])u.push(String(o[l]-1));else if(o[l].length>1){for(c=0;c<o[l].length;c+=1)"number"!=typeof o[l][c]&&(r=!1);!0===r&&u.push([o[l][0]-1,o[l][1]-1].join(" "))}n[i].value="["+u.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var w,b=[];for(w in n)!0===n[w].explicitSet&&b.push("name"===n[w].type?"/"+w+" /"+n[w].value:"/"+w+" "+n[w].value);0!==b.length&&this.internal.write("/ViewerPreferences\n<<\n"+b.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},
/** ====================================================================
         * @license
         * jsPDF XMP metadata plugin
         * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
         *
         * Permission is hereby granted, free of charge, to any person obtaining
         * a copy of this software and associated documentation files (the
         * "Software"), to deal in the Software without restriction, including
         * without limitation the rights to use, copy, modify, merge, publish,
         * distribute, sublicense, and/or sell copies of the Software, and to
         * permit persons to whom the Software is furnished to do so, subject to
         * the following conditions:
         *
         * The above copyright notice and this permission notice shall be
         * included in all copies or substantial portions of the Software.
         *
         * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
         * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
         * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
         * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
         * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
         * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
         * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
         * ====================================================================
         */
function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),l=o.length+s.length+a.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+l+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+u),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(_t.API),function(t){var e=t.API,n=e.pdfEscape16=function(o,s){for(var a,u=s.metadata.Unicode.widths,l=["","0","00","000","0000"],c=[""],d=0,m=o.length;d<m;++d){if(a=s.metadata.characterToGlyph(o.charCodeAt(d)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(d),-1==u.indexOf(a)&&(u.push(a),u.push([parseInt(s.metadata.widthOfGlyph(a),10)])),"0"==a)return c.join("");a=a.toString(16),c.push(l[4-a.length],a)}return c.join("")},r=function(o){var s,a,u,l,c,d,m;for(c="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",u=[],d=0,m=(a=Object.keys(o).sort(function(p,w){return p-w})).length;d<m;d++)s=a[d],u.length>=100&&(c+="\n"+u.length+" beginbfchar\n"+u.join("\n")+"\nendbfchar",u=[]),null!=o[s]&&"function"==typeof o[s].toString&&(l=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),u.push("<"+s+"><"+l+">"));return u.length&&(c+="\n"+u.length+" beginbfchar\n"+u.join("\n")+"\nendbfchar\n"),c+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(o){!function(s){var a=s.font,u=s.out,l=s.newObject,c=s.putStream;if(a.metadata instanceof t.API.TTFFont&&"Identity-H"===a.encoding){for(var d=a.metadata.Unicode.widths,m=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",w=0;w<m.length;w++)p+=String.fromCharCode(m[w]);var b=l();c({data:p,addLength1:!0,objectId:b}),u("endobj");var E=l();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:E}),u("endobj");var T=l();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Jp(a.fontName)),u("/FontFile2 "+b+" 0 R"),u("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),u("/Flags "+a.metadata.flags),u("/StemV "+a.metadata.stemV),u("/ItalicAngle "+a.metadata.italicAngle),u("/Ascent "+a.metadata.ascender),u("/Descent "+a.metadata.decender),u("/CapHeight "+a.metadata.capHeight),u(">>"),u("endobj");var R=l();u("<<"),u("/Type /Font"),u("/BaseFont /"+Jp(a.fontName)),u("/FontDescriptor "+T+" 0 R"),u("/W "+t.API.PDFObject.convert(d)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+a.encoding+")"),u(">>"),u(">>"),u("endobj"),a.objectNumber=l(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+E+" 0 R"),u("/BaseFont /"+Jp(a.fontName)),u("/Encoding /"+a.encoding),u("/DescendantFonts ["+R+" 0 R]"),u(">>"),u("endobj"),a.isAlreadyPutted=!0}}(o)}]),e.events.push(["putFont",function(o){!function(s){var a=s.font,u=s.out,l=s.newObject,c=s.putStream;if(a.metadata instanceof t.API.TTFFont&&"WinAnsiEncoding"===a.encoding){for(var d=a.metadata.rawData,m="",p=0;p<d.length;p++)m+=String.fromCharCode(d[p]);var w=l();c({data:m,addLength1:!0,objectId:w}),u("endobj");var b=l();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:b}),u("endobj");var E=l();u("<<"),u("/Descent "+a.metadata.decender),u("/CapHeight "+a.metadata.capHeight),u("/StemV "+a.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+w+" 0 R"),u("/Flags 96"),u("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),u("/FontName /"+Jp(a.fontName)),u("/ItalicAngle "+a.metadata.italicAngle),u("/Ascent "+a.metadata.ascender),u(">>"),u("endobj"),a.objectNumber=l();for(var T=0;T<a.metadata.hmtx.widths.length;T++)a.metadata.hmtx.widths[T]=parseInt(a.metadata.hmtx.widths[T]*(1e3/a.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Jp(a.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),u("endobj"),a.isAlreadyPutted=!0}}(o)}]);var i=function(o){var s,a=o.text||"",u=o.x,l=o.y,c=o.options||{},d=o.mutex||{},m=d.pdfEscape,p=d.activeFontKey,w=d.fonts,b=p,E="",T=0,R="",V=w[b].encoding;if("Identity-H"!==w[b].encoding)return{text:a,x:u,y:l,options:c,mutex:d};for(R=a,b=p,Array.isArray(a)&&(R=a[0]),T=0;T<R.length;T+=1)w[b].metadata.hasOwnProperty("cmap")&&(s=w[b].metadata.cmap.unicode.codeMap[R[T].charCodeAt(0)]),s||R[T].charCodeAt(0)<256&&w[b].metadata.hasOwnProperty("Unicode")?E+=R[T]:E+="";var F="";return parseInt(b.slice(1))<14||"WinAnsiEncoding"===V?F=m(E,b).split("").map(function(Q){return Q.charCodeAt(0).toString(16)}).join(""):"Identity-H"===V&&(F=n(E,w[b])),d.isHex=!0,{text:F,x:u,y:l,options:c,mutex:d}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],u={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var l=0;for(l=0;l<s.length;l+=1)Array.isArray(s[l])&&3===s[l].length?a.push([i(Object.assign({},u,{text:s[l][0]})).text,s[l][1],s[l][2]]):a.push(i(Object.assign({},u,{text:s[l]})).text);o.text=a}else o.text=i(Object.assign({},u,{text:s})).text}])}(_t),
/**
         * @license
         * jsPDF virtual FileSystem functionality
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){var e=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),void 0!==this.internal.vFS[n]},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),void 0!==this.internal.vFS[n]?this.internal.vFS[n]:null}}(_t.API),
/**
         * @license
         * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
         * MIT License
         */
function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,o,s,a,u,l,c,d=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],T=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),R=!1,V=0;this.__bidiEngine__={};var F=function(A){var x=A.charCodeAt(),N=x>>8,Z=b[N];return void 0!==Z?d[256*Z+(255&x)]:252===N||253===N?"AL":T.test(N)?"L":8===N?"R":"N"},Q=function(A){for(var x,N=0;N<A.length;N++){if("L"===(x=F(A.charAt(N))))return!1;if("R"===x)return!0}return!1},ne=function(A,x,N,Z){var fe,be,we,ce,Ie=x[Z];switch(Ie){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":R=!1;break;case"N":case"AN":break;case"EN":R&&(Ie="AN");break;case"AL":R=!0,Ie="R";break;case"WS":case"BN":Ie="N";break;case"CS":Z<1||Z+1>=x.length||"EN"!==(fe=N[Z-1])&&"AN"!==fe||"EN"!==(be=x[Z+1])&&"AN"!==be?Ie="N":R&&(be="AN"),Ie=be===fe?be:"N";break;case"ES":Ie="EN"===(fe=Z>0?N[Z-1]:"B")&&Z+1<x.length&&"EN"===x[Z+1]?"EN":"N";break;case"ET":if(Z>0&&"EN"===N[Z-1]){Ie="EN";break}if(R){Ie="N";break}for(we=Z+1,ce=x.length;we<ce&&"ET"===x[we];)we++;Ie=we<ce&&"EN"===x[we]?"EN":"N";break;case"NSM":if(s&&!a){for(ce=x.length,we=Z+1;we<ce&&"NSM"===x[we];)we++;if(we<ce){var je=A[Z];if(fe=x[we],(je>=1425&&je<=2303||64286===je)&&("R"===fe||"AL"===fe)){Ie="R";break}}}Ie=Z<1||"B"===(fe=x[Z-1])?"N":N[Z-1];break;case"B":R=!1,i=!0,Ie=V;break;case"S":o=!0,Ie="N"}return Ie},B=function(A,x,N){var Z=A.split("");return N&&D(Z,N,{hiLevel:V}),Z.reverse(),x&&x.reverse(),Z.join("")},D=function(A,x,N){var Z,fe,be,we,ce,Ie=-1,je=A.length,Pe=0,L=[],q=V?p:m,Y=[];for(R=!1,i=!1,o=!1,fe=0;fe<je;fe++)Y[fe]=F(A[fe]);for(be=0;be<je;be++){if(ce=Pe,L[be]=ne(A,Y,L,be),Z=240&(Pe=q[ce][w[L[be]]]),x[be]=we=q[Pe&=15][5],Z>0)if(16===Z){for(fe=Ie;fe<be;fe++)x[fe]=1;Ie=-1}else Ie=-1;if(q[Pe][6])-1===Ie&&(Ie=be);else if(Ie>-1){for(fe=Ie;fe<be;fe++)x[fe]=we;Ie=-1}"B"===Y[be]&&(x[be]=0),N.hiLevel|=we}o&&function(X,ie,ae){for(var me=0;me<ae;me++)if("S"===X[me]){ie[me]=V;for(var ve=me-1;ve>=0&&"WS"===X[ve];ve--)ie[ve]=V}}(Y,x,je)},S=function(A,x,N,Z,fe){if(!(fe.hiLevel<A)){if(1===A&&1===V&&!i)return x.reverse(),void(N&&N.reverse());for(var be,we,ce,Ie,je=x.length,Pe=0;Pe<je;){if(Z[Pe]>=A){for(ce=Pe+1;ce<je&&Z[ce]>=A;)ce++;for(Ie=Pe,we=ce-1;Ie<we;Ie++,we--)be=x[Ie],x[Ie]=x[we],x[we]=be,N&&(be=N[Ie],N[Ie]=N[we],N[we]=be);Pe=ce}Pe++}}},O=function(A,x,N){var Z=A.split(""),fe={hiLevel:V};return N||(N=[]),D(Z,N,fe),function(be,we,ce){if(0!==ce.hiLevel&&c)for(var Ie,je=0;je<be.length;je++)1===we[je]&&(Ie=E.indexOf(be[je]))>=0&&(be[je]=E[Ie+1])}(Z,N,fe),S(2,Z,x,N,fe),S(1,Z,x,N,fe),Z.join("")};return this.__bidiEngine__.doBidiReorder=function(A,x,N){if(function(fe,be){if(be)for(var we=0;we<fe.length;we++)be[we]=we;void 0===a&&(a=Q(fe)),void 0===l&&(l=Q(fe))}(A,x),s||!u||l)if(s&&u&&a^l)V=a?1:0,A=B(A,x,N);else if(!s&&u&&l)V=a?1:0,A=O(A,x,N),A=B(A,x);else if(!s||a||u||l){if(s&&!u&&a^l)A=B(A,x),a?(V=0,A=O(A,x,N)):(V=1,A=O(A,x,N),A=B(A,x));else if(s&&a&&!u&&l)V=1,A=O(A,x,N),A=B(A,x);else if(!s&&!u&&a^l){var Z=c;a?(V=1,A=O(A,x,N),V=0,c=!1,A=O(A,x,N),c=Z):(V=0,A=O(A,x,N),A=B(A,x),V=1,c=!1,A=O(A,x,N),c=Z,A=B(A,x))}}else V=0,A=O(A,x,N);else V=a?1:0,A=O(A,x,N);return A},this.__bidiEngine__.setOptions=function(A){A&&(s=A.isInputVisual,u=A.isOutputVisual,a=A.isInputRtl,l=A.isOutputRtl,c=A.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,o=r.options||{},s=[];if(o.isInputVisual="boolean"!=typeof o.isInputVisual||o.isInputVisual,n.setOptions(o),"[object Array]"===Object.prototype.toString.call(i)){var a=0;for(s=[],a=0;a<i.length;a+=1)"[object Array]"===Object.prototype.toString.call(i[a])?s.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([n.doBidiReorder(i[a])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(_t),_t.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Fc(e),this.contents.pos=4,"ttcf"===n.readString(4))throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new i0e(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new qve(this.contents),this.head=new Gve(this),this.name=new Zve(this),this.cmap=new Yz(this),this.toUnicode={},this.hhea=new Wve(this),this.maxp=new Jve(this),this.hmtx=new Xve(this),this.post=new Qve(this),this.os2=new Kve(this),this.loca=new r0e(this),this.glyf=new e0e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var n,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var s,a,u,l;for(l=[],s=0,a=(u=this.bbox).length;s<a;s++)l.push(Math.round(u[s]*this.scaleFactor));return l}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(o=this.familyClass)||2===o||3===o||4===o||5===o||7===o,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return(null!=(n=this.cmap.unicode)?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){return null==n&&(n=!1),(this.ascender+(n?this.lineGap:0)-this.decender)/1e3*e},t}();var Ra,Fc=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,o,s,a,u;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^u)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*o+65536*s+256*a+u},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var r,i,o;for(o=[],r=0,i=e.length;r<i;r++)o.push(this.writeByte(e[r]));return o},t}(),qve=function(){var t;function e(n){var r,i,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,u,l,c,d,m,p,w,b;for(b in p=Object.keys(n).length,u=Math.log(2),d=16*Math.floor(Math.log(p)/u),s=Math.floor(d/u),c=16*p-d,(i=new Fc).writeInt(this.scalarType),i.writeShort(p),i.writeShort(d),i.writeShort(s),i.writeShort(c),l=i.pos+16*p,a=null,w=[],n)for(m=n[b],i.writeString(b),i.writeInt(t(m)),i.writeInt(l),i.writeInt(m.length),w=w.concat(m),"head"===b&&(a=l),l+=m.length;l%4;)w.push(0),l++;return i.write(w),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,o,s;for(n=Zz.call(n);n.length%4;)n.push(0);for(o=new Fc(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},e}(),Hve={}.hasOwnProperty,bu=function(t,e){for(var n in e)Hve.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Ra=function(){function t(e){var n;this.file=e,this.exists=!!(n=this.file.directory.tables[this.tag]),n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Gve=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bu(t,Ra),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Fc).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),Qz=function(){function t(e,n){var r,i,o,s,a,u,l,c,d,m,p,w,b,E,T,R,V;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(p=e.readUInt16(),m=p/2,e.pos+=6,o=function(){var F,Q;for(Q=[],u=F=0;0<=m?F<m:F>m;u=0<=m?++F:--F)Q.push(e.readUInt16());return Q}(),e.pos+=2,b=function(){var F,Q;for(Q=[],u=F=0;0<=m?F<m:F>m;u=0<=m?++F:--F)Q.push(e.readUInt16());return Q}(),l=function(){var F,Q;for(Q=[],u=F=0;0<=m?F<m:F>m;u=0<=m?++F:--F)Q.push(e.readUInt16());return Q}(),c=function(){var F,Q;for(Q=[],u=F=0;0<=m?F<m:F>m;u=0<=m?++F:--F)Q.push(e.readUInt16());return Q}(),i=(this.length-e.pos+this.offset)/2,a=function(){var F,Q;for(Q=[],u=F=0;0<=i?F<i:F>i;u=0<=i?++F:--F)Q.push(e.readUInt16());return Q}(),u=T=0,V=o.length;T<V;u=++T)for(E=o[u],r=R=w=b[u];w<=E?R<=E:R>=E;r=w<=E?++R:--R)0===c[u]?s=r+l[u]:0!==(s=a[c[u]/2+(r-w)-(m-u)]||0)&&(s+=l[u]),this.codeMap[r]=65535&s}e.pos=d}return t.encode=function(e,n){var r,i,o,s,a,u,l,c,d,m,p,w,b,E,T,R,V,Q,ne,B,D,S,O,A,x,N,Z,fe,be,we,ce,Ie,je,Pe,L,q,Y,X,ie,ae,me,ve,Se,Ae,Ge;switch(Z=new Fc,s=Object.keys(e).sort(function(He,Ee){return He-Ee}),n){case"macroman":for(b=0,E=function(){var He=[];for(w=0;w<256;++w)He.push(0);return He}(),R={0:0},o={},fe=0,Ie=s.length;fe<Ie;fe++)null==R[ve=e[i=s[fe]]]&&(R[ve]=++b),o[i]={old:e[i],new:R[e[i]]},E[i]=R[e[i]];return Z.writeUInt16(1),Z.writeUInt16(0),Z.writeUInt32(12),Z.writeUInt16(0),Z.writeUInt16(262),Z.writeUInt16(0),Z.write(E),{charMap:o,subtable:Z.data,maxGlyphID:b+1};case"unicode":for(x=[],d=[],V=0,R={},r={},T=l=null,be=0,je=s.length;be<je;be++)null==R[Q=e[i=s[be]]]&&(R[Q]=++V),r[i]={old:Q,new:R[Q]},a=R[Q]-i,null!=T&&a===l||(T&&d.push(T),x.push(i),l=a),T=i;for(T&&d.push(T),d.push(65535),x.push(65535),O=2*(S=x.length),D=2*Math.pow(Math.log(S)/Math.LN2,2),m=Math.log(D/2)/Math.LN2,B=2*S-D,u=[],ne=[],p=[],w=we=0,Pe=x.length;we<Pe;w=++we){if(c=d[w],65535===(A=x[w])){u.push(0),ne.push(0);break}if(A-(N=r[A].new)>=32768)for(u.push(0),ne.push(2*(p.length+S-w)),i=ce=A;A<=c?ce<=c:ce>=c;i=A<=c?++ce:--ce)p.push(r[i].new);else u.push(N-A),ne.push(0)}for(Z.writeUInt16(3),Z.writeUInt16(1),Z.writeUInt32(12),Z.writeUInt16(4),Z.writeUInt16(16+8*S+2*p.length),Z.writeUInt16(0),Z.writeUInt16(O),Z.writeUInt16(D),Z.writeUInt16(m),Z.writeUInt16(B),ae=0,L=d.length;ae<L;ae++)Z.writeUInt16(i=d[ae]);for(Z.writeUInt16(0),me=0,q=x.length;me<q;me++)Z.writeUInt16(i=x[me]);for(Se=0,Y=u.length;Se<Y;Se++)Z.writeUInt16(a=u[Se]);for(Ae=0,X=ne.length;Ae<X;Ae++)Z.writeUInt16(ne[Ae]);for(Ge=0,ie=p.length;Ge<ie;Ge++)Z.writeUInt16(b=p[Ge]);return{charMap:r,subtable:Z.data,maxGlyphID:V+1}}},t}(),Yz=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bu(t,Ra),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new Qz(e,this.offset),this.tables.push(n),n.isUnicode&&null==this.unicode&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return null==n&&(n="macroman"),r=Qz.encode(e,n),(i=new Fc).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),Wve=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bu(t,Ra),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Kve=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bu(t,Ra),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),Qve=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bu(t,Ra),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var s,a,u;for(u=[],o=s=0,a=this.file.maxp.numGlyphs;0<=a?s<a:s>a;o=0<=a?++s:--s)u.push(e.readUInt32());return u}.call(this)}},t}(),Yve=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Zve=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bu(t,Ra),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,o,s,a,u,l,c,d,m;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(u={},o=c=0,d=r.length;c<d;o=++c)e.pos=(i=r[o]).offset,l=e.readString(i.length),s=new Yve(l,i),null==u[m=i.nameID]&&(u[m]=[]),u[i.nameID].push(s);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),Jve=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bu(t,Ra),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Xve=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bu(t,Ra),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,a,u;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var l,c;for(c=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)c.push(e.readInt16());return c}(),this.widths=function(){var l,c,d,m;for(m=[],l=0,c=(d=this.metrics).length;l<c;l++)m.push(d[l].advance);return m}.call(this),r=this.widths[this.widths.length-1],u=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)u.push(this.widths.push(r));return u},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),Zz=[].slice,e0e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bu(t,Ra),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,o,s,a,u,l,c,d;return e in this.cache?this.cache[e]:(n=this.file.contents,r=(o=this.file.loca).indexOf(e),0===(i=o.lengthOf(e))?this.cache[e]=null:(n.pos=this.offset+r,s=(a=new Fc(n.read(i))).readShort(),l=a.readShort(),d=a.readShort(),u=a.readShort(),c=a.readShort(),this.cache[e]=-1===s?new n0e(a,l,d,u,c):new t0e(a,s,l,d,u,c),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,o,s,a,u;for(s=[],o=[],a=0,u=n.length;a<u;a++)i=e[n[a]],o.push(s.length),i&&(s=s.concat(i.encode(r)));return o.push(s.length),{table:s,offsets:o}},t}(),t0e=function(){function t(e,n,r,i,o,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),n0e=function(){function t(e,n,r,i,o){var s,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Fc(Zz.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),r0e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bu(t,Ra),t.prototype.tag="loca",t.prototype.parse=function(e){var r;return e.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=2)o.push(2*e.readUInt16());return o}.call(this):function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=4)o.push(e.readUInt32());return o}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,o=0,s=0;s<r.length;++s)if(r[s]=i,o<n.length&&n[o]==s){++o,r[s]=i;var u=this.offsets[s+1]-this.offsets[s];u>0&&(i+=u)}for(var l=new Array(4*r.length),c=0;c<r.length;++c)l[4*c+3]=255&r[c],l[4*c+2]=(65280&r[c])>>8,l[4*c+1]=(16711680&r[c])>>16,l[4*c]=(4278190080&r[c])>>24;return l},t}(),i0e=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,i,o;for(n in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)e[n]=i[o[n]];return e},t.prototype.glyphsFor=function(e){var n,r,i,o,s,a,u;for(i={},s=0,a=e.length;s<a;s++)i[o=e[s]]=this.font.glyf.glyphFor(o);for(o in n=[],i)null!=(r=i[o])&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(o in u=this.glyphsFor(n))i[o]=r=u[o];return i},t.prototype.encode=function(e,n){var r,i,o,s,u,l,c,d,m,p,w,b,E,T;for(i in r=Yz.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),p={0:0},T=r.charMap)p[(u=T[i]).old]=u.new;for(w in m=r.maxGlyphID,s)w in p||(p[w]=m++);return c=function(R){var V,F;for(V in F={},R)F[R[V]]=V;return F}(p),d=Object.keys(c).sort(function(R,V){return R-V}),b=function(){var R,V,F;for(F=[],R=0,V=d.length;R<V;R++)F.push(c[d[R]]);return F}(),o=this.font.glyf.encode(s,b,p),l=this.font.loca.encode(o.offsets,b),E={cmap:this.font.cmap.raw(),glyf:o.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},t}();_t.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var i,o;if(Array.isArray(n))return"["+function(){var a,u,l;for(l=[],a=0,u=n.length;a<u;a++)l.push(e.convert(n[a]));return l}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(i in o=["<<"],n)o.push("/"+i+" "+e.convert(n[i]));return o.push(">>"),o.join("\n")}return""+n},e}();let Iu=(()=>{class t{static{this.RUOLI={schiacciatore:{value:"schiacciatore",label:"Schiacciatore"},palleggiatore:{value:"palleggiatore",label:"Palleggiatore"},centrale:{value:"centrale",label:"Centrale"},libero:{value:"libero",label:"Libero"},opposto:{value:"opposto",label:"Opposto"},allenatore:{value:"allenatore",label:"Allenatore"},dirigente:{value:"dirigente",label:"Dirigente"}}}static{this.ADDETTO_DEFIBRILLATORE_THUNDERS={nome:"Emanuele",cognome:"Peroni",codiceFiscale:"PRNMNL97L08D972O",dataDiNascita:"1997-07-08",luogoNascita:"Genzano di Roma",residenza:"Via Napoli 55, Albano Laziale"}}static{this.TITOLO_PDF="SETTORE DI ATTIVIT\xc0 PALLAVOLO UISP LAZIO SUD EST"}static{this.PRIMO_SOTTOTITOLO="LISTA PARTECIPANTI ALLA GARA"}static{this.SECONDO_SOTTOTITOLO="DENOMINAZIONE DELLA SQUADRA"}static{this.NOME_SQUADRA="PUNTO VOLLEY CR ASD THUNDERS"}static{this.TITOLO_DEFIBRILLATORE="DA COMPILARE DA PARTE DELLA SOLA SQUADRA OSPITANTE"}static{this.SOTTOTITOLO_DEFIBRILLATORE="AUTOCERTIFICAZIONE DELL'ADDETTO ALL'UTILIZZO DEL DEFIBRILLATORE (ART. 45 E 46 DPR 28 DICEMBRE 2000 N. 445)"}static{this.TESTO_DICHIARAZIONE_DEFIBRILLATORE="CONSAPEVOLE della responsabilit\xe0 penale e civile derivante da dichiarazioni mendaci, DICHIARA che nella struttura sportiva ove si svolge la gara \xe8 presente un defibrillatore semiautomatico esterno conforme alla vigente normativa e che \xe8 presente una persona adeguatamente formata al suo utilizzo."}}return t})(),Jz=(()=>{class t{constructor(n){this.giocatoriService=n}generaListaGara(n){var r=this;return(0,ee.A)(function*(){const i=new _t,o=i.internal.pageSize.width,s=[0,128,0],u=[0,0,0];let l=15;try{const ze=yield r.loadImageAsBase64("assets/images/uisp1.png"),yt=yield r.loadImageAsBase64("assets/images/uisp2.png"),qt=yield r.loadImageAsBase64("assets/images/uisp3.jpg");i.addImage(ze,"PNG",20,5,20,20),i.addImage(yt,"PNG",o/2-10,5,20,20),i.addImage(qt,"JPG",o-40,5,20,20)}catch(ze){console.error("Errore nel caricamento delle immagini:",ze),i.setFontSize(8),i.setTextColor(...u),i.text("UISP",25,l),i.text("COMITATO TERRITORIALE",o/2-30,l),i.text("LOGO PALLAVOLO",o-60,l)}l+=22,i.setFontSize(12),i.setFont("helvetica","normal"),i.setTextColor(...s);const c=Iu.TITOLO_PDF,d=i.getTextWidth(c);i.text(c,(o-d)/2,l),l+=10,i.setFontSize(9),i.setFont("helvetica","bold");const m=Iu.PRIMO_SOTTOTITOLO,p=i.getTextWidth(m);i.rect(20,l-6,o-40,8),i.text(m,(o-p)/2,l),l+=12,i.setFontSize(9),i.setTextColor(...s),i.rect(20,l-6,o-40,8),i.text(Iu.SECONDO_SOTTOTITOLO,22,l);const b=22+i.getTextWidth(Iu.SECONDO_SOTTOTITOLO)+4;i.setTextColor(...u),i.setFont("helvetica","bold"),i.text(Iu.NOME_SQUADRA,b,l),l+=12;const E=20,T=o-40;i.setFontSize(9),i.setFont("helvetica","bold");const R=l,F=[.2*T,.4*T,.4*T];let Q=E;F.forEach(ze=>{i.rect(Q,R-4,ze,6),Q+=ze}),Q=E,i.setFontSize(8),i.setFont("helvetica","bold"),i.setTextColor(...s);const ne="N\xb0 GARA";i.text(ne,Q+2,R);const B=i.getTextWidth(ne);i.setTextColor(...u),i.text(`    ${n.numeroGara}`,Q+2+B,R),Q+=F[0],i.setTextColor(...s);const D="OSPITANTE";i.text(D,Q+2,R);const S=i.getTextWidth(D);i.setTextColor(...u),i.text(`    ${n.ospitante}`,Q+2+S,R),Q+=F[1],i.setTextColor(...s);const O="OSPITE";i.text(O,Q+2,R);const A=i.getTextWidth(O);i.setTextColor(...u),i.text(`    ${n.ospite}`,Q+2+A,R),l+=6;const x=l,N=[.7*T,.3*T];Q=E,N.forEach(ze=>{i.rect(Q,x-4,ze,6),Q+=ze}),Q=E;const Z=n.indirizzo.length>50?n.indirizzo.substring(0,32)+"...":n.indirizzo;i.setTextColor(...s);const fe="INDIRIZZO";i.text(fe,Q+2,x);const be=i.getTextWidth(fe);i.setTextColor(...u),i.text(`     ${Z}`,Q+2+be,x),Q+=N[0],i.setTextColor(...s);const we="DATA E ORA";i.text(we,Q+2,x);const ce=i.getTextWidth(we);i.setTextColor(...u);const Ie=r.formatDate(n.data);i.text(`    ${Ie} ${n.ora}`,Q+2+ce,x),l+=6;const je=l;i.rect(E,je-4,T,6),i.setTextColor(...s);const Pe="CAMPIONATO";i.text(Pe,22,je);const L=i.getTextWidth(Pe);i.setTextColor(...u),i.text(`    ${n.campionato}`,22+L,je),l+=12;const q=yield r.giocatoriService.getGiocatori(),Y=r.filtraEOrdinaGiocatori(q),X=q.filter(ze=>"allenatore"===(ze.ruolo||"").toLowerCase()),ie=q.filter(ze=>"dirigente"===(ze.ruolo||"").toLowerCase()),me=[.0625*T,.3125*T,3/12.8*T,3/12.8*T,2/12.8*T],ve=l;i.setFontSize(9),i.setFont("helvetica","bold"),i.setTextColor(...s);let Ae=E;["N\xb0","COGNOME E NOME","DATA DI NASCITA","TESSERA UISP","DOCUMENTO"].forEach((ze,yt)=>{i.rect(Ae,ve-4,me[yt],6);const qt=i.getTextWidth(ze);i.text(ze,Ae+(me[yt]-qt)/2,ve),Ae+=me[yt]}),l+=6,i.setFontSize(9),i.setFont("helvetica","bold"),i.setTextColor(...u),Y.forEach((ze,yt)=>{Ae=E,me.forEach(Fi=>{i.rect(Ae,l-4,Fi,6),Ae+=Fi}),Ae=E;const vt=`${ze.numeroMaglia||yt+1}`,Yt=i.getTextWidth(vt);i.text(vt,Ae+(me[0]-Yt)/2,l),Ae+=me[0];let pt=`${ze.cognome?.toUpperCase()||""} ${ze.nome?.toUpperCase()||""}`.trim();const Mn=ze.capitano?"K":"libero"===ze.ruolo?.toLowerCase()?"L":"",_r=Mn?i.getTextWidth(Mn):0,xt=me[1]-2-(Mn?_r+4:0);if(i.getTextWidth(pt)>xt){for(;i.getTextWidth(pt+"...")>xt&&pt.length>0;)pt=pt.slice(0,-1);pt+="..."}i.text(pt,Ae+2,l),Mn&&i.text(Mn,Ae+me[1]-2-_r,l),Ae+=me[1];const cn=r.formatDate(ze.dataDiNascita||""),Xi=i.getTextWidth(cn);i.text(cn,Ae+(me[2]-Xi)/2,l),Ae+=me[2];const jr=ze.tesseraUisp||"",bo=i.getTextWidth(jr);i.text(jr,Ae+(me[3]-bo)/2,l),Ae+=me[3],l+=6}),l+=4;const He=[3/12.8*T,4.8/12.8*T,3/12.8*T,2/12.8*T];i.setFontSize(8),i.setFont("helvetica","bold"),["1\xb0 ALLENATORE","2\xb0 ALLENATORE","DIRIGENTE"].forEach(ze=>{Ae=E,He.forEach(pt=>{i.rect(Ae,l-4,pt,6),Ae+=pt}),Ae=E,i.setTextColor(...s);const yt=i.getTextWidth(ze);i.text(ze,Ae+(He[0]-yt)/2,l),Ae+=He[0],i.setTextColor(...u);let qt=null;ze.startsWith("1\xb0")&&X.length>0?qt=X[0]:ze.startsWith("2\xb0")&&X.length>1?qt=X[1]:"DIRIGENTE"===ze&&ie.length>0&&(qt=ie[0]);const vt=qt?`${(qt.cognome||"").toUpperCase()} ${(qt.nome||"").toUpperCase()}`.trim():"",Yt=qt&&qt.tesseraUisp||"";if(vt&&i.text(vt,Ae+2,l),Ae+=He[1],Yt){const pt=i.getTextWidth(Yt);i.text(Yt,Ae+(He[2]-pt)/2,l)}Ae+=He[2],l+=6}),l+=4,i.rect(20,l-4,o-40,6),i.setFontSize(10),i.setFont("helvetica","bold"),i.setTextColor(139,0,0);const Lt=Iu.TITOLO_DEFIBRILLATORE,Et=i.getTextWidth(Lt);i.text(Lt,(o-Et)/2,l),l+=6,i.setFontSize(9);const Qe=i.splitTextToSize(Iu.SOTTOTITOLO_DEFIBRILLATORE,o-48),mt=4*Qe.length+2;i.rect(20,l-4,o-40,mt),Qe.forEach((ze,yt)=>{const qt=i.getTextWidth(ze);i.text(ze,(o-qt)/2,l+4*yt)}),l+=mt+4;const tn=(n.ospitante||"").toUpperCase().includes("THUNDERS"),Ct=Iu.ADDETTO_DEFIBRILLATORE_THUNDERS;i.setFontSize(9),i.setFont("helvetica","bold"),i.setTextColor(...u);const Pt=tn?`${Ct.cognome.toUpperCase()} ${Ct.nome.toUpperCase()}`:"",$t=tn?Ct.codiceFiscale:"";i.text(`IL/LA SOTTOSCRITTO/A: ${Pt||"_______________________"}`,20,l),i.text(`CODICE FISCALE: ${$t||"_______________"}`,125,l),l+=6;const ht=tn?r.formatDate(Ct.dataDiNascita):"",at=tn?Ct.luogoNascita:"__________",Dt=tn?Ct.residenza:"_______________";i.text(`NATO/A IL: ${ht||"__________"}`,20,l),i.text(`A: ${at}`,75,l),i.text(`RESIDENTE IN: ${Dt}`,125,l),l+=7,i.setFontSize(8);const Pn=i.splitTextToSize(Iu.TESTO_DICHIARAZIONE_DEFIBRILLATORE,o-40);i.text(Pn,20,l),l+=2.5*Pn.length+8,i.setFontSize(9),i.text("DATA_______________",20,l),i.text("FIRMA_______________________",80,l),i.setFont("helvetica","bold"),i.text("IL CAPITANO_____________________",140,l);const sn=`Lista_Gara_${n.numeroGara}_${n.data.replace(/-/g,"")}.pdf`;i.save(sn)})()}formatDate(n){if(!n)return"";const r=new Date(n);return isNaN(r.getTime())?n:`${r.getDate().toString().padStart(2,"0")}/${(r.getMonth()+1).toString().padStart(2,"0")}/${r.getFullYear()}`}loadImageAsBase64(n){return(0,ee.A)(function*(){const i=yield(yield fetch(n)).blob();return new Promise((o,s)=>{const a=new FileReader;a.onloadend=()=>o(a.result),a.onerror=s,a.readAsDataURL(i)})})()}filtraEOrdinaGiocatori(n){const r=n.filter(i=>{const o=(i.ruolo||"").toLowerCase();return"allenatore"!==o&&"dirigente"!==o});return m6.ordinaGiocatoriPerCognome(r)}static{this.\u0275fac=function(r){return new(r||t)(It(ZB))}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Xz=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(Fe(Gu),Fe(Is))}}static{this.\u0275dir=Bt({type:t})}}return t})(),mh=(()=>{class t extends Xz{static{this.\u0275fac=function(){let n;return function(i){return(n||(n=qi(t)))(i||t)}}()}static{this.\u0275dir=Bt({type:t,features:[Vn]})}}return t})();const Eu=new tt("NgValueAccessor"),s0e={provide:Eu,useExisting:ir(()=>TN),multi:!0};let TN=(()=>{class t extends mh{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=function(){let n;return function(i){return(n||(n=qi(t)))(i||t)}}()}static{this.\u0275dir=Bt({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&St("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Ir([s0e]),Vn]})}}return t})();const a0e={provide:Eu,useExisting:ir(()=>sg),multi:!0},l0e=new tt("CompositionEventMode");let sg=(()=>{class t extends Xz{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function u0e(){const t=nc()?nc().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(Fe(Gu),Fe(Is),Fe(l0e,8))}}static{this.\u0275dir=Bt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&St("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Ir([a0e]),Vn]})}}return t})();function Vc(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function e$(t){return null!=t&&"number"==typeof t.length}const wo=new tt("NgValidators"),Uc=new tt("NgAsyncValidators"),c0e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ns{static min(e){return t$(e)}static max(e){return n$(e)}static required(e){return r$(e)}static requiredTrue(e){return function i$(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function o$(t){return Vc(t.value)||c0e.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function s$(t){return e=>Vc(e.value)||!e$(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function a$(t){return e=>e$(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function u$(t){if(!t)return bb;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Vc(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return p$(e)}static composeAsync(e){return g$(e)}}function t$(t){return e=>{if(Vc(e.value)||Vc(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function n$(t){return e=>{if(Vc(e.value)||Vc(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function r$(t){return Vc(t.value)?{required:!0}:null}function bb(t){return null}function l$(t){return null!=t}function c$(t){return rm(t)?Si(t):t}function d$(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function h$(t,e){return e.map(n=>n(t))}function f$(t){return t.map(e=>function d0e(t){return!t.validate}(e)?e:n=>e.validate(n))}function p$(t){if(!t)return null;const e=t.filter(l$);return 0==e.length?null:function(n){return d$(h$(n,e))}}function CN(t){return null!=t?p$(f$(t)):null}function g$(t){if(!t)return null;const e=t.filter(l$);return 0==e.length?null:function(n){return function o0e(...t){const e=TP(t),{args:n,keys:r}=lF(t),i=new Jn(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let u=s,l=s;for(let c=0;c<s;c++){let d=!1;oo(n[c]).subscribe(Gr(o,m=>{d||(d=!0,l--),a[c]=m},()=>u--,void 0,()=>{(!u||!d)&&(l||o.next(r?cF(r,a):a),o.complete())}))}});return e?i.pipe(jA(e)):i}(h$(n,e).map(c$)).pipe(dn(d$))}}function SN(t){return null!=t?g$(f$(t)):null}function m$(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function _$(t){return t._rawValidators}function y$(t){return t._rawAsyncValidators}function DN(t){return t?Array.isArray(t)?t:[t]:[]}function Ib(t,e){return Array.isArray(t)?t.includes(e):t===e}function v$(t,e){const n=DN(e);return DN(t).forEach(i=>{Ib(n,i)||n.push(i)}),n}function w$(t,e){return DN(e).filter(n=>!Ib(t,n))}class b${constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=CN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=SN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Vo extends b${get formDirective(){return null}get path(){return null}}class Bc extends b${constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class I${constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Eb=(()=>{class t extends I${constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(Fe(Bc,2))}}static{this.\u0275dir=Bt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&vi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Vn]})}}return t})(),Ab=(()=>{class t extends I${constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(Fe(Vo,10))}}static{this.\u0275dir=Bt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&vi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Vn]})}}return t})();const wy="VALID",Cb="INVALID",ag="PENDING",by="DISABLED";function PN(t){return(Sb(t)?t.validators:t)||null}function RN(t,e){return(Sb(e)?e.asyncValidators:t)||null}function Sb(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function A$(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new Ve(1e3,"");if(!r[n])throw new Ve(1001,"")}function T$(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new Ve(1002,"")})}class Db{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===wy}get invalid(){return this.status===Cb}get pending(){return this.status==ag}get disabled(){return this.status===by}get enabled(){return this.status!==by}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(v$(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(v$(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(w$(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(w$(e,this._rawAsyncValidators))}hasValidator(e){return Ib(this._rawValidators,e)}hasAsyncValidator(e){return Ib(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ag,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=by,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=wy,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wy||this.status===ag)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?by:wy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ag,this._hasOwnPendingAsyncValidator=!0;const n=c$(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Gn,this.statusChanges=new Gn}_calculateStatus(){return this._allControlsDisabled()?by:this.errors?Cb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ag)?ag:this._anyControlsHaveStatus(Cb)?Cb:wy}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Sb(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function g0e(t){return Array.isArray(t)?CN(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function m0e(t){return Array.isArray(t)?SN(t):t||null}(this._rawAsyncValidators)}}class Iy extends Db{constructor(e,n,r){super(PN(n),RN(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){T$(this,0,e),Object.keys(e).forEach(r=>{A$(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class C$ extends Iy{}const _h=new tt("CallSetDisabledState",{providedIn:"root",factory:()=>Ey}),Ey="always";function xb(t,e){return[...e.path,t]}function Ay(t,e,n=Ey){kN(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function y0e(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&S$(t,e)})}(t,e),function w0e(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function v0e(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&S$(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function _0e(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Nb(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Rb(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Pb(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function kN(t,e){const n=_$(t);null!==e.validator?t.setValidators(m$(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=y$(t);null!==e.asyncValidator?t.setAsyncValidators(m$(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Pb(e._rawValidators,i),Pb(e._rawAsyncValidators,i)}function Rb(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=_$(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(null!==e.asyncValidator){const i=y$(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}const r=()=>{};return Pb(e._rawValidators,r),Pb(e._rawAsyncValidators,r),n}function S$(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function D$(t,e){kN(t,e)}function ON(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function x$(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function LN(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===sg?n=o:function E0e(t){return Object.getPrototypeOf(t.constructor)===mh}(o)?r=o:i=o}),i||r||n||null}const T0e={provide:Vo,useExisting:ir(()=>kb)},Ty=(()=>Promise.resolve())();let kb=(()=>{class t extends Vo{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Gn,this.form=new Iy({},CN(n),SN(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ty.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Ay(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ty.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ty.then(()=>{const r=this._findContainer(n.path),i=new Iy({});D$(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ty.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ty.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,x$(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(Fe(wo,10),Fe(Uc,10),Fe(_h,8))}}static{this.\u0275dir=Bt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&St("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ir([T0e]),Vn]})}}return t})();function N$(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function P$(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Cy=class extends Db{constructor(e=null,n,r){super(PN(n),RN(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sb(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=P$(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){N$(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){N$(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){P$(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},D0e={provide:Bc,useExisting:ir(()=>FN)},M$=(()=>Promise.resolve())();let FN=(()=>{class t extends Bc{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Cy,this._registered=!1,this.name="",this.update=new Gn,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=LN(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),ON(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ay(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){M$.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&Rf(r);M$.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?xb(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(Fe(Vo,9),Fe(wo,10),Fe(Uc,10),Fe(Eu,10),Fe(C0,8),Fe(_h,8))}}static{this.\u0275dir=Bt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ir([D0e]),Vn,Yo]})}}return t})(),Mb=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Bt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();const x0e={provide:Eu,useExisting:ir(()=>Ob),multi:!0};let Ob=(()=>{class t extends mh{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}static{this.\u0275fac=function(){let n;return function(i){return(n||(n=qi(t)))(i||t)}}()}static{this.\u0275dir=Bt({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&St("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Ir([x0e]),Vn]})}}return t})(),O$=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ko({type:t})}static{this.\u0275inj=Co({})}}return t})();const VN=new tt("NgModelWithFormControlWarning"),M0e={provide:Vo,useExisting:ir(()=>Sy)};let Sy=(()=>{class t extends Vo{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Gn,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rb(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Ay(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Nb(n.control||null,n,!1),function A0e(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,x$(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Nb(r||null,n),(t=>t instanceof Cy)(i)&&(Ay(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);D$(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function b0e(t,e){return Rb(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kN(this.form,this),this._oldForm&&Rb(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(r){return new(r||t)(Fe(wo,10),Fe(Uc,10),Fe(_h,8))}}static{this.\u0275dir=Bt({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&St("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ir([M0e]),Vn,Yo]})}}return t})();const F0e={provide:Bc,useExisting:ir(()=>Lb)};let Lb=(()=>{class t extends Bc{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Gn,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=LN(0,o)}ngOnChanges(n){this._added||this._setUpControl(),ON(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return xb(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(Fe(Vo,13),Fe(wo,10),Fe(Uc,10),Fe(Eu,10),Fe(VN,8))}}static{this.\u0275dir=Bt({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ir([F0e]),Vn,Yo]})}}return t})();const V0e={provide:Eu,useExisting:ir(()=>Fb),multi:!0};function B$(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Fb=(()=>{class t extends mh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=B$(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function U0e(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=function(){let n;return function(i){return(n||(n=qi(t)))(i||t)}}()}static{this.\u0275dir=Bt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&St("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ir([V0e]),Vn]})}}return t})(),j$=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(B$(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(Fe(Is),Fe(Gu),Fe(Fb,9))}}static{this.\u0275dir=Bt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();const B0e={provide:Eu,useExisting:ir(()=>jN),multi:!0};function z$(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let jN=(()=>{class t extends mh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const l=this._getOptionValue(s[a].value);i.push(l)}}else{const s=r.options;for(let a=0;a<s.length;a++){const u=s[a];if(u.selected){const l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function j0e(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=function(){let n;return function(i){return(n||(n=qi(t)))(i||t)}}()}static{this.\u0275dir=Bt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&St("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ir([B0e]),Vn]})}}return t})(),$$=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(z$(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(z$(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(Fe(Is),Fe(Gu),Fe(jN,9))}}static{this.\u0275dir=Bt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();function H$(t){return"number"==typeof t?t:parseFloat(t)}let yh=(()=>{class t{constructor(){this._validator=bb}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):bb,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Bt({type:t,features:[Yo]})}}return t})();const z0e={provide:wo,useExisting:ir(()=>zN),multi:!0};let zN=(()=>{class t extends yh{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>H$(n),this.createValidator=n=>n$(n)}static{this.\u0275fac=function(){let n;return function(i){return(n||(n=qi(t)))(i||t)}}()}static{this.\u0275dir=Bt({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&co("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[Ir([z0e]),Vn]})}}return t})();const $0e={provide:wo,useExisting:ir(()=>$N),multi:!0};let $N=(()=>{class t extends yh{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>H$(n),this.createValidator=n=>t$(n)}static{this.\u0275fac=function(){let n;return function(i){return(n||(n=qi(t)))(i||t)}}()}static{this.\u0275dir=Bt({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&co("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Ir([$0e]),Vn]})}}return t})();const q0e={provide:wo,useExisting:ir(()=>Vb),multi:!0};let Vb=(()=>{class t extends yh{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Rf,this.createValidator=n=>r$}enabled(n){return n}static{this.\u0275fac=function(){let n;return function(i){return(n||(n=qi(t)))(i||t)}}()}static{this.\u0275dir=Bt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&co("required",i._enabled?"":null)},inputs:{required:"required"},features:[Ir([q0e]),Vn]})}}return t})(),Z$=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ko({type:t})}static{this.\u0275inj=Co({imports:[O$]})}}return t})();class J$ extends Db{constructor(e,n,r){super(PN(n),RN(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){T$(this,0,e),e.forEach((r,i)=>{A$(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function X$(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let eq=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let o={};return X$(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Iy(i,o)}record(n,r=null){const i=this._reduceControls(n);return new C$(i,r)}control(n,r,i){let o={};return this.useNonNullable?(X$(r)?o=r:(o.validators=r,o.asyncValidators=i),new Cy(n,{...o,nonNullable:!0})):new Cy(n,r,i)}array(n,r,i){const o=n.map(s=>this._createControl(s));return new J$(o,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof Cy||n instanceof Db?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Y0e=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:_h,useValue:n.callSetDisabledState??Ey}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ko({type:t})}static{this.\u0275inj=Co({imports:[Z$]})}}return t})(),Z0e=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:VN,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:_h,useValue:n.callSetDisabledState??Ey}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ko({type:t})}static{this.\u0275inj=Co({imports:[Z$]})}}return t})();function J0e(t,e){if(1&t&&(de(0,"option",31),Ce(1),he()),2&t){const n=e.$implicit;Sn("value",n.label),qe(1),Qr(n.label)}}let X0e=(()=>{class t{constructor(n){this.fb=n,this.giocatore=null,this.isEditMode=!1,this.onSave=new Gn,this.onClose=new Gn,this.ruoli=[]}ngOnInit(){this.ruoli=Object.values(Iu.RUOLI),this.giocatoreForm=this.fb.group({id:[null],nome:["",Ns.required],cognome:["",Ns.required],numeroMaglia:[""],dataDiNascita:["",Ns.required],ruolo:["",Ns.required],tesseraUisp:["",Ns.required],capitano:[!1]})}ngOnChanges(n){n.giocatore&&this.giocatoreForm&&(this.giocatore?this.giocatoreForm.patchValue(this.giocatore):this.giocatoreForm.reset())}salvaGiocatore(){this.giocatoreForm.valid&&(this.onSave.emit(this.giocatoreForm.value),this.giocatoreForm.reset({nome:"",cognome:"",numeroMaglia:"",dataDiNascita:"",ruolo:"",tesseraUisp:"",capitano:!1}))}onCancel(){this.giocatoreForm.reset(),this.onClose.emit()}static{this.\u0275fac=function(r){return new(r||t)(Fe(eq))}}static{this.\u0275cmp=Ga({type:t,selectors:[["app-dialog-giocatore"]],inputs:{giocatore:"giocatore",isEditMode:"isEditMode"},outputs:{onSave:"onSave",onClose:"onClose"},features:[Yo],decls:58,vars:15,consts:[["id","giocatoreModal","tabindex","-1","aria-labelledby","giocatoreModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","giocatoreModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"row","mb-3"],[1,"col-md-6"],["for","nome",1,"form-label"],["type","text","id","nome","formControlName","nome",1,"form-control"],[1,"invalid-feedback"],["for","cognome",1,"form-label"],["type","text","id","cognome","formControlName","cognome",1,"form-control"],["for","numeroMaglia",1,"form-label"],["type","number","id","numeroMaglia","formControlName","numeroMaglia",1,"form-control"],["for","dataDiNascita",1,"form-label"],["type","date","id","dataDiNascita","formControlName","dataDiNascita",1,"form-control"],["for","ruolo",1,"form-label"],["id","ruolo","formControlName","ruolo",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","tesseraUisp",1,"form-label"],["type","text","id","tesseraUisp","formControlName","tesseraUisp",1,"form-control"],[1,"form-check","mb-3"],["type","checkbox","id","capitano","formControlName","capitano",1,"form-check-input"],["for","capitano",1,"form-check-label"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[3,"value"]],template:function(r,i){if(1&r&&(de(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),Ce(5),he(),dt(6,"button",5),he(),de(7,"div",6)(8,"form",7)(9,"div",8)(10,"div",9)(11,"label",10),Ce(12,"Nome *"),he(),dt(13,"input",11),de(14,"div",12),Ce(15,"Il nome \xe8 obbligatorio"),he()(),de(16,"div",9)(17,"label",13),Ce(18,"Cognome *"),he(),dt(19,"input",14),de(20,"div",12),Ce(21,"Il cognome \xe8 obbligatorio"),he()()(),de(22,"div",8)(23,"div",9)(24,"label",15),Ce(25,"Numero Maglia"),he(),dt(26,"input",16),he(),de(27,"div",9)(28,"label",17),Ce(29,"Data di Nascita *"),he(),dt(30,"input",18),de(31,"div",12),Ce(32,"La data di nascita \xe8 obbligatoria"),he()()(),de(33,"div",8)(34,"div",9)(35,"label",19),Ce(36,"Ruolo *"),he(),de(37,"select",20)(38,"option",21),Ce(39,"Seleziona un ruolo"),he(),ui(40,J0e,2,2,"option",22),he(),de(41,"div",12),Ce(42,"Il ruolo \xe8 obbligatorio"),he()(),de(43,"div",9)(44,"label",23),Ce(45,"Tessera UISP *"),he(),dt(46,"input",24),de(47,"div",12),Ce(48,"La tessera UISP \xe8 obbligatoria"),he()()(),de(49,"div",25),dt(50,"input",26),de(51,"label",27),Ce(52," Capitano "),he()()()(),de(53,"div",28)(54,"button",29),St("click",function(){return i.onCancel()}),Ce(55,"Annulla"),he(),de(56,"button",30),St("click",function(){return i.salvaGiocatore()}),Ce(57),he()()()()()),2&r){let o,s,a,u,l;qe(5),Qr(i.isEditMode?"Modifica Giocatore":"Aggiungi Giocatore"),qe(3),Sn("formGroup",i.giocatoreForm),qe(5),vi("is-invalid",(null==(o=i.giocatoreForm.get("nome"))?null:o.invalid)&&(null==(o=i.giocatoreForm.get("nome"))?null:o.touched)),qe(6),vi("is-invalid",(null==(s=i.giocatoreForm.get("cognome"))?null:s.invalid)&&(null==(s=i.giocatoreForm.get("cognome"))?null:s.touched)),qe(11),vi("is-invalid",(null==(a=i.giocatoreForm.get("dataDiNascita"))?null:a.invalid)&&(null==(a=i.giocatoreForm.get("dataDiNascita"))?null:a.touched)),qe(7),vi("is-invalid",(null==(u=i.giocatoreForm.get("ruolo"))?null:u.invalid)&&(null==(u=i.giocatoreForm.get("ruolo"))?null:u.touched)),qe(3),Sn("ngForOf",i.ruoli),qe(6),vi("is-invalid",(null==(l=i.giocatoreForm.get("tesseraUisp"))?null:l.invalid)&&(null==(l=i.giocatoreForm.get("tesseraUisp"))?null:l.touched)),qe(10),Sn("disabled",i.giocatoreForm.invalid),qe(1),Hi(" ",i.isEditMode?"Salva Modifiche":"Aggiungi"," ")}},dependencies:[j0,Mb,j$,$$,sg,Ob,TN,Fb,Eb,Ab,Sy,Lb]})}}return t})(),e1e=(()=>{class t{transform(n){return n?n.charAt(0).toUpperCase()+n.slice(1).toLowerCase():""}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=So({name:"capitalize",type:t,pure:!0})}}return t})();function t1e(t,e){if(1&t&&(de(0,"span"),Ce(1),he()),2&t){const n=br();qe(1),Qr(n.numeroGiocatori)}}function n1e(t,e){if(1&t){const n=eu();de(0,"tr")(1,"td"),Ce(2),he(),de(3,"td"),Ce(4),Yu(5,"capitalize"),he(),de(6,"td"),Ce(7),Yu(8,"capitalize"),he(),de(9,"td"),Ce(10),Yu(11,"date"),he(),de(12,"td"),Ce(13),he(),de(14,"td"),Ce(15),he(),de(16,"td")(17,"button",23),St("click",function(){const o=Di(n).$implicit;return xi(br().openDialog(o))}),dt(18,"i",24),he(),de(19,"button",25),St("click",function(){const o=Di(n).$implicit;return xi(br().eliminaGiocatore(o))}),dt(20,"i",26),he()()()}if(2&t){const n=e.$implicit;qe(2),Qr(n.numeroMaglia),qe(2),Qr(dm(5,6,n.cognome)),qe(3),Qr(dm(8,8,n.nome)),qe(3),Qr(hm(11,10,n.dataDiNascita,"dd/MM/yyyy")),qe(3),Qr(n.ruolo),qe(2),Qr(n.tesseraUisp)}}function r1e(t,e){1&t&&(de(0,"tr")(1,"td",27),Ce(2," Nessun giocatore presente "),he()())}function i1e(t,e){1&t&&(de(0,"div",28),Ce(1," Nessun giocatore presente "),he())}function o1e(t,e){if(1&t){const n=eu();de(0,"div",29)(1,"h2",30)(2,"button",31)(3,"span",32),Ce(4),he(),Ce(5),Yu(6,"capitalize"),Yu(7,"capitalize"),he()(),de(8,"div",33)(9,"div",34)(10,"div")(11,"strong"),Ce(12,"Data di Nascita:"),he(),Ce(13),Yu(14,"date"),dt(15,"br"),de(16,"strong"),Ce(17,"Ruolo:"),he(),Ce(18),dt(19,"br"),de(20,"strong"),Ce(21,"Tessera UISP:"),he(),Ce(22),dt(23,"br"),de(24,"strong"),Ce(25,"Capitano:"),he(),Ce(26),he(),de(27,"div",35)(28,"button",36),St("click",function(){const o=Di(n).$implicit;return xi(br().openDialog(o))}),dt(29,"i",24),Ce(30," Modifica "),he(),de(31,"button",37),St("click",function(){const o=Di(n).$implicit;return xi(br().eliminaGiocatore(o))}),dt(32,"i",26),Ce(33," Elimina "),he()()()()()}if(2&t){const n=e.$implicit,r=e.index;qe(1),co("id","headingGiocatore"+r),qe(1),co("data-bs-target","#collapseGiocatore"+r)("aria-controls","collapseGiocatore"+r),qe(2),Qr(n.numeroMaglia),qe(1),CE(" ",dm(6,12,n.cognome)," ",dm(7,14,n.nome)," "),qe(3),co("id","collapseGiocatore"+r)("aria-labelledby","headingGiocatore"+r),qe(5),Hi(" ",hm(14,16,n.dataDiNascita,"dd/MM/yyyy"),""),qe(5),Hi(" ",n.ruolo,""),qe(4),Hi(" ",n.tesseraUisp,""),qe(4),Hi(" ",n.capitano?"S\xec":"No"," ")}}let s1e=(()=>{class t{constructor(n,r){this.giocatoriService=n,this.pdfService=r,this.giocatori=[],this.selectedGiocatore=null,this.isEditMode=!1}ngOnInit(){this.giocatoriSubscription=this.giocatoriService.getGiocatoriObservable().subscribe(n=>{this.giocatori=n})}ngOnDestroy(){this.giocatoriSubscription&&this.giocatoriSubscription.unsubscribe()}get giocatoriOrdinati(){return m6.ordinaGiocatoriPerCognome(this.giocatori)}get numeroGiocatori(){return this.giocatori.filter(n=>{const r=(n.ruolo||"").toLowerCase();return!r.includes("allenatore")&&!r.includes("dirigente")}).length}openDialog(n){void 0!==n?(this.selectedGiocatore={...n},this.isEditMode=!0):(this.selectedGiocatore=null,this.isEditMode=!1)}handleSave(n){var r=this;return(0,ee.A)(function*(){try{if(r.isEditMode&&r.selectedGiocatore){const i=r.selectedGiocatore.id,{id:o,...s}=n;yield r.giocatoriService.updateGiocatore(i,s)}else yield r.giocatoriService.addGiocatore(n);r.closeModal(),r.handleClose()}catch(i){console.error("Errore nel salvataggio del giocatore:",i),alert("Errore nel salvataggio. Riprova.")}})()}handleClose(){this.selectedGiocatore=null,this.isEditMode=!1}eliminaGiocatore(n){var r=this;return(0,ee.A)(function*(){if(confirm("Sei sicuro di voler eliminare questo giocatore?"))try{const i=n.id;yield r.giocatoriService.deleteGiocatore(i)}catch(i){console.error("Errore nell'eliminazione del giocatore:",i),alert("Errore nell'eliminazione. Riprova.")}})()}closeModal(){const n=document.getElementById("giocatoreModal");if(n){const r=bootstrap.Modal.getInstance(n);r&&r.hide()}}handleFileUpload(n){var r=this;const i=n.target.files[0];if(!i)return;if(!i.name.endsWith(".json"))return alert("Seleziona un file JSON valido."),void(n.target.value="");const o=new FileReader;o.onload=function(){var s=(0,ee.A)(function*(a){try{const u=JSON.parse(a.target.result);if(!Array.isArray(u))return alert("Il file JSON deve contenere un array di giocatori."),void(n.target.value="");const l=yield r.giocatoriService.getGiocatori(),c=[];let d=0;if(u.forEach(m=>{const p=(m.nome||"").toLowerCase(),w=(m.cognome||"").toLowerCase();l.some(E=>E.nome.toLowerCase()===p&&E.cognome.toLowerCase()===w)?d++:c.push({...m,nome:p,cognome:w,capitano:m.capitano||!1})}),c.length>0)try{yield r.giocatoriService.addMultipleGiocatori(c);let m=`${c.length} giocatori caricati con successo!`;d>0&&(m+=`\n${d} giocatori gi\xe0 presenti sono stati ignorati.`),alert(m)}catch(m){console.error("Errore nel caricamento dei giocatori:",m),alert("Errore nel caricamento. Riprova.")}else d>0?alert(`Nessun giocatore caricato.\n${d} giocatori erano gi\xe0 presenti.`):alert("Nessun giocatore valido trovato nel file");n.target.value=""}catch(u){console.error("Errore nel parsing del file JSON:",u),alert("Errore nel parsing del file JSON. Assicurati che il formato sia corretto."),n.target.value=""}});return function(a){return s.apply(this,arguments)}}(),o.readAsText(i)}exportToJSON(){if(0===this.giocatori.length)return void alert("Nessun giocatore da esportare.");const n=this.giocatori.map(u=>{const{id:l,...c}=u;return c}),r=JSON.stringify(n,null,2),i=new Blob([r],{type:"application/json"}),o=window.URL.createObjectURL(i),s=document.createElement("a");s.href=o;const a=(new Date).toISOString().split("T")[0];s.download=`giocatori_${a}.json`,s.click(),window.URL.revokeObjectURL(o)}static{this.\u0275fac=function(r){return new(r||t)(Fe(ZB),Fe(Jz))}}static{this.\u0275cmp=Ga({type:t,selectors:[["app-giocatori"]],decls:42,vars:7,consts:[[1,"container","mt-4"],[1,"row","mb-2"],[1,"col-12","text-center"],[4,"ngIf"],[1,"row","mb-3"],[1,"col-12","d-flex","justify-content-end"],["type","file","accept",".json",2,"display","none",3,"change"],["fileInput",""],["title","Importa giocatori da JSON",1,"btn","btn-primary","me-2",3,"click"],[1,"bi","bi-upload"],["title","Esporta giocatori in JSON",1,"btn","btn-success","me-2",3,"click"],[1,"bi","bi-download"],["data-bs-toggle","modal","data-bs-target","#giocatoreModal",1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-circle"],[1,"table-responsive","d-none","d-md-block"],[1,"table","table-striped","table-hover"],[1,"table-primary"],[4,"ngFor","ngForOf"],[1,"d-md-none"],["class","text-center text-muted py-4",4,"ngIf"],["id","giocatoriAccordion",1,"accordion"],["class","accordion-item",4,"ngFor","ngForOf"],[3,"giocatore","isEditMode","onSave","onClose"],["data-bs-toggle","modal","data-bs-target","#giocatoreModal",1,"btn","btn-sm","btn-primary","me-2",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"bi","bi-trash"],["colspan","7",1,"text-center","text-muted"],[1,"text-center","text-muted","py-4"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"accordion-button","collapsed"],[1,"badge","bg-primary","me-2"],["data-bs-parent","#giocatoriAccordion",1,"accordion-collapse","collapse"],[1,"accordion-body"],[1,"mt-3","d-flex","flex-wrap","gap-2","justify-content-end"],["data-bs-toggle","modal","data-bs-target","#giocatoreModal",1,"btn","btn-primary","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"]],template:function(r,i){if(1&r){const o=eu();de(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),Ce(4,"Elenco Giocatori: "),ui(5,t1e,2,1,"span",3),he()()(),de(6,"div",4)(7,"div",5)(8,"input",6,7),St("change",function(a){return i.handleFileUpload(a)}),he(),de(10,"button",8),St("click",function(){return Di(o),xi(_E(9).click())}),dt(11,"i",9),he(),de(12,"button",10),St("click",function(){return i.exportToJSON()}),dt(13,"i",11),he(),de(14,"button",12),St("click",function(){return i.openDialog()}),dt(15,"i",13),he()()(),de(16,"div",14)(17,"table",15)(18,"thead",16)(19,"tr")(20,"th"),Ce(21,"Numero Maglia"),he(),de(22,"th"),Ce(23,"Cognome"),he(),de(24,"th"),Ce(25,"Nome"),he(),de(26,"th"),Ce(27,"Data di Nascita"),he(),de(28,"th"),Ce(29,"Ruolo"),he(),de(30,"th"),Ce(31,"Tessera UISP"),he(),de(32,"th"),Ce(33,"Azioni"),he()()(),de(34,"tbody"),ui(35,n1e,21,13,"tr",17),ui(36,r1e,3,0,"tr",3),he()()(),de(37,"div",18),ui(38,i1e,2,0,"div",19),de(39,"div",20),ui(40,o1e,34,19,"div",21),he()()(),de(41,"app-dialog-giocatore",22),St("onSave",function(a){return i.handleSave(a)})("onClose",function(){return i.handleClose()}),he()}2&r&&(qe(5),Sn("ngIf",i.giocatori.length),qe(30),Sn("ngForOf",i.giocatoriOrdinati),qe(1),Sn("ngIf",0===i.giocatori.length),qe(2),Sn("ngIf",0===i.giocatori.length),qe(2),Sn("ngForOf",i.giocatoriOrdinati),qe(1),Sn("giocatore",i.selectedGiocatore)("isEditMode",i.isEditMode))},dependencies:[j0,z0,X0e,DA,e1e]})}}return t})(),tq=(()=>{class t{constructor(){this.onSave=new Gn,this.onClose=new Gn,this.ospitanteRis=null,this.ospiteRis=null}open(){this.ospitanteRis=null,this.ospiteRis=null;const n=document.getElementById("risultatoModal");n&&(this.modalInstance=new bootstrap.Modal(n),this.modalInstance.show())}salva(){null==this.ospitanteRis||null==this.ospiteRis||(this.onSave.emit({ospitante:this.ospitanteRis,ospite:this.ospiteRis}),this.chiudi())}chiudi(){this.modalInstance&&this.modalInstance.hide(),this.onClose.emit()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ga({type:t,selectors:[["app-dialog-risultato"]],inputs:{partita:"partita"},outputs:{onSave:"onSave",onClose:"onClose"},decls:22,vars:5,consts:[["id","risultatoModal","tabindex","-1","aria-labelledby","dialogRisultatoLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","dialogRisultatoLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["autocomplete","off",3,"ngSubmit"],[1,"mb-3","d-flex","align-items-center","justify-content-between"],[1,"form-label","mb-0"],["type","number","name","ospitanteRis","min","0","max","3","required","",1,"form-control","w-auto","ms-2",3,"ngModel","ngModelChange"],["type","number","name","ospiteRis","min","0","max","3","required","",1,"form-control","w-auto","ms-2",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-success",3,"disabled","click"]],template:function(r,i){1&r&&(de(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),Ce(5,"Inserisci Risultato"),he(),de(6,"button",5),St("click",function(){return i.chiudi()}),he()(),de(7,"div",6)(8,"form",7),St("ngSubmit",function(){return i.salva()}),de(9,"div",8)(10,"label",9),Ce(11),he(),de(12,"input",10),St("ngModelChange",function(s){return i.ospitanteRis=s}),he()(),de(13,"div",8)(14,"label",9),Ce(15),he(),de(16,"input",11),St("ngModelChange",function(s){return i.ospiteRis=s}),he()()()(),de(17,"div",12)(18,"button",13),St("click",function(){return i.chiudi()}),Ce(19,"Annulla"),he(),de(20,"button",14),St("click",function(){return i.salva()}),Ce(21,"Salva"),he()()()()()),2&r&&(qe(11),Qr(null==i.partita?null:i.partita.ospitante),qe(1),Sn("ngModel",i.ospitanteRis),qe(3),Qr(null==i.partita?null:i.partita.ospite),qe(1),Sn("ngModel",i.ospiteRis),qe(4),Sn("disabled",null==i.ospitanteRis||null==i.ospiteRis||i.ospitanteRis<0||i.ospitanteRis>3||i.ospiteRis<0||i.ospiteRis>3))},dependencies:[Mb,sg,Ob,Eb,Ab,Vb,$N,zN,FN,kb]})}}return t})(),a1e=(()=>{class t{constructor(n){this.firestore=n,this.collectionName="partite"}getPartiteObservable(){const n=Lp(this.firestore,this.collectionName),r=KB(n,WB("numeroGara","asc"));return HB(r,{idField:"id"})}getPartite(){var n=this;return(0,ee.A)(function*(){return yield YB(n.getPartiteObservable())})()}addPartita(n){var r=this;return(0,ee.A)(function*(){const i=Lp(r.firestore,r.collectionName);yield kw(i,n)})()}updatePartita(n,r){var i=this;return(0,ee.A)(function*(){const o=Mw(i.firestore,i.collectionName,n);yield QB(o,r)})()}deletePartita(n){var r=this;return(0,ee.A)(function*(){const i=Mw(r.firestore,r.collectionName,n);yield GB(i)})()}migrateFromLocalStorage(){var n=this;return(0,ee.A)(function*(){const r=localStorage.getItem("partite");if(r){const i=JSON.parse(r),o=Lp(n.firestore,n.collectionName);for(const s of i)yield kw(o,s);console.log(`Migrate ${i.length} partite da localStorage a Firestore`)}})()}static{this.\u0275fac=function(r){return new(r||t)(It(H_))}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),u1e=(()=>{class t{constructor(n){this.fb=n,this.partita=null,this.isEditMode=!1,this.onSave=new Gn,this.onClose=new Gn}ngOnInit(){this.partitaForm=this.fb.group({id:[null],numeroGara:["",Ns.required],data:["",Ns.required],ora:["",Ns.required],campionato:["",Ns.required],indirizzo:["",Ns.required],ospitante:["",Ns.required],ospite:["",Ns.required],risultato:["",[Ns.pattern(/^([0-3]-[0-3])$/)]]})}ngOnChanges(n){n.partita&&this.partitaForm&&(this.partita?this.partitaForm.patchValue(this.partita):this.partitaForm.reset())}salvaPartita(){this.partitaForm.valid&&(this.onSave.emit(this.partitaForm.value),this.partitaForm.reset())}onCancel(){this.partitaForm.reset(),this.onClose.emit()}static{this.\u0275fac=function(r){return new(r||t)(Fe(eq))}}static{this.\u0275cmp=Ga({type:t,selectors:[["app-dialog-calendario"]],inputs:{partita:"partita",isEditMode:"isEditMode"},outputs:{onSave:"onSave",onClose:"onClose"},features:[Yo],decls:67,vars:20,consts:[["id","calendarioModal","tabindex","-1","aria-labelledby","calendarioModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","calendarioModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"row","mb-3"],[1,"col-md-4"],["for","numeroGara",1,"form-label"],["type","text","id","numeroGara","formControlName","numeroGara",1,"form-control"],[1,"invalid-feedback"],["for","data",1,"form-label"],["type","date","id","data","formControlName","data",1,"form-control"],["for","ora",1,"form-label"],["type","time","id","ora","formControlName","ora",1,"form-control"],[1,"col-md-12"],["for","campionato",1,"form-label"],["type","text","id","campionato","formControlName","campionato",1,"form-control"],["for","indirizzo",1,"form-label"],["type","text","id","indirizzo","formControlName","indirizzo",1,"form-control"],[1,"col-md-6"],["for","ospitante",1,"form-label"],["type","text","id","ospitante","formControlName","ospitante",1,"form-control"],["for","ospite",1,"form-label"],["type","text","id","ospite","formControlName","ospite",1,"form-control"],["for","risultato",1,"form-label"],["type","text","id","risultato","placeholder","es. 3-2","formControlName","risultato",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(r,i){if(1&r&&(de(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),Ce(5),he(),dt(6,"button",5),he(),de(7,"div",6)(8,"form",7)(9,"div",8)(10,"div",9)(11,"label",10),Ce(12,"Numero Gara *"),he(),dt(13,"input",11),de(14,"div",12),Ce(15,"Il numero gara \xe8 obbligatorio"),he()(),de(16,"div",9)(17,"label",13),Ce(18,"Data *"),he(),dt(19,"input",14),de(20,"div",12),Ce(21,"La data \xe8 obbligatoria"),he()(),de(22,"div",9)(23,"label",15),Ce(24,"Ora *"),he(),dt(25,"input",16),de(26,"div",12),Ce(27,"L'ora \xe8 obbligatoria"),he()()(),de(28,"div",8)(29,"div",17)(30,"label",18),Ce(31,"Campionato *"),he(),dt(32,"input",19),de(33,"div",12),Ce(34,"Il campionato \xe8 obbligatorio"),he()()(),de(35,"div",8)(36,"div",17)(37,"label",20),Ce(38,"Indirizzo *"),he(),dt(39,"input",21),de(40,"div",12),Ce(41,"L'indirizzo \xe8 obbligatorio"),he()()(),de(42,"div",8)(43,"div",22)(44,"label",23),Ce(45,"Ospitante *"),he(),dt(46,"input",24),de(47,"div",12),Ce(48,"L'ospitante \xe8 obbligatorio"),he()(),de(49,"div",22)(50,"label",25),Ce(51,"Ospite *"),he(),dt(52,"input",26),de(53,"div",12),Ce(54,"L'ospite \xe8 obbligatorio"),he()()(),de(55,"div",8)(56,"div",9)(57,"label",27),Ce(58,"Risultato (opzionale)"),he(),dt(59,"input",28),de(60,"div",12),Ce(61,"Formato non valido (usa X-Y con valori 0-3)"),he()()()()(),de(62,"div",29)(63,"button",30),St("click",function(){return i.onCancel()}),Ce(64,"Annulla"),he(),de(65,"button",31),St("click",function(){return i.salvaPartita()}),Ce(66),he()()()()()),2&r){let o,s,a,u,l,c,d,m;qe(5),Qr(i.isEditMode?"Modifica Partita":"Aggiungi Partita"),qe(3),Sn("formGroup",i.partitaForm),qe(5),vi("is-invalid",(null==(o=i.partitaForm.get("numeroGara"))?null:o.invalid)&&(null==(o=i.partitaForm.get("numeroGara"))?null:o.touched)),qe(6),vi("is-invalid",(null==(s=i.partitaForm.get("data"))?null:s.invalid)&&(null==(s=i.partitaForm.get("data"))?null:s.touched)),qe(6),vi("is-invalid",(null==(a=i.partitaForm.get("ora"))?null:a.invalid)&&(null==(a=i.partitaForm.get("ora"))?null:a.touched)),qe(7),vi("is-invalid",(null==(u=i.partitaForm.get("campionato"))?null:u.invalid)&&(null==(u=i.partitaForm.get("campionato"))?null:u.touched)),qe(7),vi("is-invalid",(null==(l=i.partitaForm.get("indirizzo"))?null:l.invalid)&&(null==(l=i.partitaForm.get("indirizzo"))?null:l.touched)),qe(7),vi("is-invalid",(null==(c=i.partitaForm.get("ospitante"))?null:c.invalid)&&(null==(c=i.partitaForm.get("ospitante"))?null:c.touched)),qe(6),vi("is-invalid",(null==(d=i.partitaForm.get("ospite"))?null:d.invalid)&&(null==(d=i.partitaForm.get("ospite"))?null:d.touched)),qe(7),vi("is-invalid",(null==(m=i.partitaForm.get("risultato"))?null:m.invalid)&&(null==(m=i.partitaForm.get("risultato"))?null:m.touched)),qe(6),Sn("disabled",i.partitaForm.invalid),qe(1),Hi(" ",i.isEditMode?"Salva Modifiche":"Aggiungi"," ")}},dependencies:[Mb,sg,Eb,Ab,Sy,Lb]})}}return t})();function l1e(t,e){if(1&t&&(de(0,"span"),Ce(1),he()),2&t){const n=br();qe(1),Hi("",n.partiteRimanenti," rimanenti")}}function c1e(t,e){1&t&&(de(0,"span",35),dt(1,"i",36),he())}function d1e(t,e){1&t&&(de(0,"span",35),dt(1,"i",37),he())}function h1e(t,e){if(1&t){const n=eu();de(0,"button",38),St("click",function(){Di(n);const i=br().index;return xi(br().apriDialogRisultato(i))}),dt(1,"i",39),he()}}function f1e(t,e){if(1&t){const n=eu();de(0,"tr")(1,"td"),Ce(2),he(),de(3,"td"),Ce(4),Yu(5,"date"),he(),de(6,"td"),Ce(7),he(),de(8,"td"),Ce(9),he(),de(10,"td")(11,"a",24),St("click",function(){const o=Di(n).$implicit;return xi(br().openMaps(o.indirizzo))}),dt(12,"i",25),Ce(13),he()(),de(14,"td"),Ce(15),he(),de(16,"td"),Ce(17),he(),de(18,"td"),Ce(19),ui(20,c1e,2,0,"span",26),ui(21,d1e,2,0,"span",26),he(),de(22,"td",27),ui(23,h1e,2,0,"button",28),de(24,"button",29),St("click",function(){const o=Di(n).index;return xi(br().creaListaGara(o))}),dt(25,"i",30),he(),de(26,"button",31),St("click",function(){const o=Di(n).index;return xi(br().openDialog(o))}),dt(27,"i",32),he(),de(28,"button",33),St("click",function(){const o=Di(n).index;return xi(br().eliminaPartita(o))}),dt(29,"i",34),he()()()}if(2&t){const n=e.$implicit,r=br();qe(2),Qr(n.numeroGara),qe(2),Qr(hm(5,11,n.data,"dd/MM/yyyy")),qe(3),Qr(n.ora),qe(2),Qr(n.campionato),qe(4),Hi(" ",n.indirizzo," "),qe(2),Qr(n.ospitante),qe(2),Qr(n.ospite),qe(2),Hi(" ",n.risultato," "),qe(1),Sn("ngIf",n.risultato&&!0===r.isVittoria(n)),qe(1),Sn("ngIf",n.risultato&&!1===r.isVittoria(n)),qe(2),Sn("ngIf",!n.risultato)}}function p1e(t,e){1&t&&(de(0,"tr")(1,"td",40),Ce(2," Nessuna partita in calendario "),he()())}function g1e(t,e){1&t&&(de(0,"div",41),Ce(1," Nessuna partita in calendario "),he())}function m1e(t,e){1&t&&(de(0,"span",35),dt(1,"i",36),he())}function _1e(t,e){1&t&&(de(0,"span",35),dt(1,"i",37),he())}function y1e(t,e){if(1&t&&(de(0,"div",53)(1,"strong"),Ce(2,"Risultato:"),he(),Ce(3),ui(4,m1e,2,0,"span",26),ui(5,_1e,2,0,"span",26),he()),2&t){const n=br().$implicit,r=br();qe(3),Hi(" ",n.risultato," "),qe(1),Sn("ngIf",!0===r.isVittoria(n)),qe(1),Sn("ngIf",!1===r.isVittoria(n))}}function v1e(t,e){if(1&t){const n=eu();de(0,"button",54),St("click",function(){Di(n);const i=br().index;return xi(br().apriDialogRisultato(i))}),Ce(1,"Inserisci risultato"),he()}}function w1e(t,e){if(1&t){const n=eu();de(0,"div",42)(1,"h2",43)(2,"button",44),Ce(3),Yu(4,"date"),he()(),de(5,"div",45)(6,"div",46)(7,"div")(8,"strong"),Ce(9,"Campionato:"),he(),Ce(10),dt(11,"br"),de(12,"strong"),Ce(13,"Ospitante:"),he(),Ce(14),dt(15,"br"),de(16,"strong"),Ce(17,"Ospite:"),he(),Ce(18),dt(19,"br"),de(20,"strong"),Ce(21,"Indirizzo:"),he(),de(22,"a",24),St("click",function(){const o=Di(n).$implicit;return xi(br().openMaps(o.indirizzo))}),dt(23,"i",25),Ce(24),he(),ui(25,y1e,6,3,"div",47),he(),de(26,"div",48),ui(27,v1e,2,0,"button",49),de(28,"button",50),St("click",function(){const o=Di(n).index;return xi(br().creaListaGara(o))}),Ce(29,"Crea lista gara"),he(),de(30,"button",51),St("click",function(){const o=Di(n).index;return xi(br().openDialog(o))}),dt(31,"i",32),he(),de(32,"button",52),St("click",function(){const o=Di(n).index;return xi(br().eliminaPartita(o))}),dt(33,"i",34),he()()()()()}if(2&t){const n=e.$implicit,r=e.index;qe(1),co("id","heading"+r),qe(1),co("data-bs-target","#collapse"+r)("aria-controls","collapse"+r),qe(1),SE(" Gara ",n.numeroGara," - ",hm(4,14,n.data,"dd/MM/yyyy")," - ",n.ora," "),qe(2),co("id","collapse"+r)("aria-labelledby","heading"+r),qe(5),Hi(" ",n.campionato,""),qe(4),Hi(" ",n.ospitante,""),qe(4),Hi(" ",n.ospite,""),qe(6),Hi(" ",n.indirizzo," "),qe(1),Sn("ngIf",n.risultato),qe(2),Sn("ngIf",!n.risultato)}}const b1e=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Kse},{path:"squadra",component:s1e},{path:"calendario",component:(()=>{class t{constructor(n,r){this.calendarioService=n,this.pdfService=r,this.partite=[],this.selectedPartita=null,this.isEditMode=!1,this.selectedIndex=null}ngOnInit(){this.partiteSubscription=this.calendarioService.getPartiteObservable().subscribe(n=>{this.partite=n})}ngOnDestroy(){this.partiteSubscription&&this.partiteSubscription.unsubscribe()}get partiteRimanenti(){return this.partite.filter(n=>!n.risultato||""===n.risultato.trim()).length}openDialog(n){void 0!==n?(this.selectedPartita={...this.partite[n]},this.selectedIndex=n,this.isEditMode=!0):(this.selectedPartita=null,this.selectedIndex=null,this.isEditMode=!1)}handleSave(n){var r=this;return(0,ee.A)(function*(){try{if(r.isEditMode&&null!==r.selectedIndex){const i=r.partite[r.selectedIndex].id,{id:o,...s}=n;yield r.calendarioService.updatePartita(i,s)}else yield r.calendarioService.addPartita(n);r.closeModal(),r.handleClose()}catch(i){console.error("Errore nel salvataggio della partita:",i),alert("Errore nel salvataggio. Riprova.")}})()}handleClose(){this.selectedPartita=null,this.selectedIndex=null,this.isEditMode=!1}eliminaPartita(n){var r=this;return(0,ee.A)(function*(){if(confirm("Sei sicuro di voler eliminare questa partita?"))try{const i=r.partite[n].id;yield r.calendarioService.deletePartita(i)}catch(i){console.error("Errore nell'eliminazione della partita:",i),alert("Errore nell'eliminazione. Riprova.")}})()}closeModal(){const n=document.getElementById("calendarioModal");if(n){const r=bootstrap.Modal.getInstance(n);r&&r.hide()}}isVittoria(n){if(!n.risultato)return null;const r=n.risultato.split("-");if(2!==r.length)return null;const i=parseInt(r[0].trim()),o=parseInt(r[1].trim());if(isNaN(i)||isNaN(o))return null;const s=n.ospitante.toLowerCase().includes("thunders"),a=n.ospite.toLowerCase().includes("thunders");return s||a?s?i>o:o>i:null}handleFileUpload(n){var r=this;const i=n.target.files[0];if(!i)return;if(!i.name.endsWith(".json"))return alert("Seleziona un file JSON valido."),void(n.target.value="");const o=new FileReader;o.onload=function(){var s=(0,ee.A)(function*(a){try{const u=JSON.parse(a.target.result);if(!Array.isArray(u))return alert("Il file JSON deve contenere un array di partite."),void(n.target.value="");yield r.parsePartiteFromJSON(u),n.target.value=""}catch(u){console.error("Errore nel parsing del file JSON:",u),alert("Errore nel parsing del file JSON. Assicurati che il formato sia corretto."),n.target.value=""}});return function(a){return s.apply(this,arguments)}}(),o.readAsText(i)}parsePartiteFromJSON(n){var r=this;return(0,ee.A)(function*(){const i=[];for(const o of n)if(o.numeroGara&&o.data&&o.ora&&o.campionato&&o.indirizzo&&o.ospitante&&o.ospite){const s={numeroGara:parseInt(o.numeroGara),data:o.data,ora:o.ora,campionato:o.campionato,indirizzo:o.indirizzo,ospitante:o.ospitante,ospite:o.ospite,risultato:o.risultato||""};i.push(s)}if(i.length>0)try{for(const o of i)yield r.calendarioService.addPartita(o);alert(`${i.length} partite caricate con successo!`)}catch(o){console.error("Errore nel caricamento delle partite:",o),alert("Errore nel caricamento. Riprova.")}else alert("Nessuna partita valida trovata nel file")})()}exportToJSON(){if(0===this.partite.length)return void alert("Nessuna partita da esportare.");const n=this.partite.map(u=>{const{id:l,...c}=u;return c}),r=JSON.stringify(n,null,2),i=new Blob([r],{type:"application/json"}),o=window.URL.createObjectURL(i),s=document.createElement("a");s.href=o;const a=(new Date).toISOString().split("T")[0];s.download=`partite_${a}.json`,s.click(),window.URL.revokeObjectURL(o)}apriDialogRisultato(n){this.selectedPartita=this.partite[n],this.dialogRisultatoComp&&this.dialogRisultatoComp.open()}chiudiDialogRisultato(){}salvaRisultato(n){var r=this;return(0,ee.A)(function*(){if(null!=r.selectedPartita&&!(n.ospitante<0||n.ospitante>3||n.ospite<0||n.ospite>3))try{r.selectedPartita.risultato=`${n.ospitante}-${n.ospite}`;const i=r.selectedPartita.id,{id:o,...s}=r.selectedPartita;yield r.calendarioService.updatePartita(i,s)}catch(i){console.error("Errore nel salvataggio del risultato:",i),alert("Errore nel salvataggio. Riprova.")}})()}openMaps(n){const r=encodeURIComponent(n);/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?window.location.href=`https://maps.google.com/?q=${r}`:window.open(`https://www.google.com/maps?q=${r}`,"_blank")}creaListaGara(n){var r=this;return(0,ee.A)(function*(){try{const i=r.partite[n];yield r.pdfService.generaListaGara(i)}catch(i){console.error("Errore nella generazione del PDF:",i),alert("Errore nella generazione del PDF. Riprova pi\xf9 tardi.")}})()}static{this.\u0275fac=function(r){return new(r||t)(Fe(a1e),Fe(Jz))}}static{this.\u0275cmp=Ga({type:t,selectors:[["app-calendario"]],viewQuery:function(r,i){if(1&r&&mL(tq,5),2&r){let o;HE(o=function GE(){return function gee(t,e){return t[Wa].queries[e].queryList}(Re(),NR())}())&&(i.dialogRisultatoComp=o.first)}},decls:47,vars:8,consts:[[1,"container","mt-4"],[1,"row","mb-2"],[1,"col-12","text-center"],[4,"ngIf"],[1,"row","mb-3"],[1,"col-12","d-flex","justify-content-end"],["type","file","accept",".json",2,"display","none",3,"change"],["fileInput",""],["title","Importa partite da JSON",1,"btn","btn-primary","me-2",3,"click"],[1,"bi","bi-upload"],["title","Esporta partite in JSON",1,"btn","btn-success","me-2",3,"click"],[1,"bi","bi-download"],["data-bs-toggle","modal","data-bs-target","#calendarioModal",1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-circle"],[1,"table-responsive","d-none","d-md-block"],[1,"table","table-striped","table-hover"],[1,"table-primary"],[4,"ngFor","ngForOf"],[1,"d-md-none"],["class","text-center text-muted py-4",4,"ngIf"],["id","calendarioAccordion",1,"accordion"],["class","accordion-item",4,"ngFor","ngForOf"],[3,"partita","isEditMode","onSave","onClose"],[3,"partita","onSave","onClose"],["href","javascript:void(0)","title","Apri in Google Maps",1,"text-decoration-none","text-primary","d-inline-flex","align-items-center","maps-link",3,"click"],[1,"bi","bi-geo-alt-fill","me-1"],["class","ms-2",4,"ngIf"],[1,"text-end",2,"white-space","nowrap"],["class","btn btn-success btn-sm me-1","title","Inserisci risultato",3,"click",4,"ngIf"],["title","Crea lista gara",1,"btn","btn-secondary","btn-sm","me-1",3,"click"],[1,"bi","bi-list-check"],["data-bs-toggle","modal","data-bs-target","#calendarioModal","title","Modifica",1,"btn","btn-primary","btn-sm","me-1",3,"click"],[1,"bi","bi-pencil"],["title","Elimina",1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],[1,"ms-2"],[1,"bi","bi-check-circle-fill","text-success"],[1,"bi","bi-x-circle-fill","text-danger"],["title","Inserisci risultato",1,"btn","btn-success","btn-sm","me-1",3,"click"],[1,"bi","bi-check2-square"],["colspan","9",1,"text-center","text-muted"],[1,"text-center","text-muted","py-4"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"accordion-button","collapsed"],["data-bs-parent","#calendarioAccordion",1,"accordion-collapse","collapse"],[1,"accordion-body"],["class","mt-2",4,"ngIf"],[1,"mt-3","d-flex","flex-wrap","gap-2","justify-content-end"],["class","btn btn-success btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-secondary","btn-sm",3,"click"],["data-bs-toggle","modal","data-bs-target","#calendarioModal",1,"btn","btn-primary","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"mt-2"],[1,"btn","btn-success","btn-sm",3,"click"]],template:function(r,i){if(1&r){const o=eu();de(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),Ce(4,"Calendario Partite: "),ui(5,l1e,2,1,"span",3),he()()(),de(6,"div",4)(7,"div",5)(8,"input",6,7),St("change",function(a){return i.handleFileUpload(a)}),he(),de(10,"button",8),St("click",function(){return Di(o),xi(_E(9).click())}),dt(11,"i",9),he(),de(12,"button",10),St("click",function(){return i.exportToJSON()}),dt(13,"i",11),he(),de(14,"button",12),St("click",function(){return i.openDialog()}),dt(15,"i",13),he()()(),de(16,"div",14)(17,"table",15)(18,"thead",16)(19,"tr")(20,"th"),Ce(21,"N. Gara"),he(),de(22,"th"),Ce(23,"Data"),he(),de(24,"th"),Ce(25,"Ora"),he(),de(26,"th"),Ce(27,"Campionato"),he(),de(28,"th"),Ce(29,"Indirizzo"),he(),de(30,"th"),Ce(31,"Ospitante"),he(),de(32,"th"),Ce(33,"Ospite"),he(),de(34,"th"),Ce(35,"Risultato"),he(),de(36,"th"),Ce(37,"Azioni"),he()()(),de(38,"tbody"),ui(39,f1e,30,14,"tr",17),ui(40,p1e,3,0,"tr",3),he()()(),de(41,"div",18),ui(42,g1e,2,0,"div",19),de(43,"div",20),ui(44,w1e,34,17,"div",21),he()()(),de(45,"app-dialog-calendario",22),St("onSave",function(a){return i.handleSave(a)})("onClose",function(){return i.handleClose()}),he(),de(46,"app-dialog-risultato",23),St("onSave",function(a){return i.salvaRisultato(a)})("onClose",function(){return i.chiudiDialogRisultato()}),he()}2&r&&(qe(5),Sn("ngIf",i.partite.length),qe(34),Sn("ngForOf",i.partite),qe(1),Sn("ngIf",0===i.partite.length),qe(2),Sn("ngIf",0===i.partite.length),qe(2),Sn("ngForOf",i.partite),qe(1),Sn("partita",i.selectedPartita)("isEditMode",i.isEditMode),qe(1),Sn("partita",i.selectedPartita))},dependencies:[j0,z0,u1e,tq,DA],styles:[".maps-link[_ngcontent-%COMP%]{transition:all .2s ease}.maps-link[_ngcontent-%COMP%]:hover{background-color:rgba(var(--bs-primary-rgb),.1);border-radius:4px;padding:2px 4px;transform:translate(2px)}@media (max-width: 768px){.maps-link[_ngcontent-%COMP%]:hover{transform:none}}"]})}}return t})()}];let I1e=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ko({type:t})}static{this.\u0275inj=Co({imports:[p6.forRoot(b1e),p6]})}}return t})();function E1e(t,e){if(1&t){const n=eu();de(0,"div",20),St("click",function(){return Di(n),xi(br().toggleMenu())}),he()}2&t&&vi("show",br().menuOpen)}let A1e=(()=>{class t{constructor(){this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ga({type:t,selectors:[["app-header"]],decls:28,vars:3,consts:[[1,"navbar","navbar-dark","bg-primary"],[1,"container-fluid"],["type","button",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"navbar-brand","mx-auto"],[1,"bi","bi-lightning-fill"],["href","assets/files/elenco_tesserati_2526.pdf","download","",1,"btn","btn-light","download-btn"],[1,"bi","bi-download"],[1,"desktop-label"],["tabindex","-1",1,"offcanvas","offcanvas-start"],[1,"offcanvas-header"],[1,"offcanvas-title"],["type","button",1,"btn-close",3,"click"],[1,"offcanvas-body"],[1,"nav","flex-column"],[1,"nav-item"],["routerLink","/home",1,"nav-link",3,"click"],["routerLink","/squadra",1,"nav-link",3,"click"],["routerLink","/calendario",1,"nav-link",3,"click"],["class","offcanvas-backdrop fade",3,"show","click",4,"ngIf"],[1,"offcanvas-backdrop","fade",3,"click"]],template:function(r,i){1&r&&(de(0,"nav",0)(1,"div",1)(2,"button",2),St("click",function(){return i.toggleMenu()}),dt(3,"span",3),he(),de(4,"span",4),Ce(5,"PuntoVolley Thunders "),dt(6,"i",5),he(),de(7,"a",6),dt(8,"i",7),de(9,"span",8),Ce(10,"Elenco tesserati"),he()()()(),de(11,"div",9)(12,"div",10)(13,"h5",11),Ce(14,"Menu"),he(),de(15,"button",12),St("click",function(){return i.toggleMenu()}),he()(),de(16,"div",13)(17,"ul",14)(18,"li",15)(19,"a",16),St("click",function(){return i.toggleMenu()}),Ce(20,"Home"),he()(),de(21,"li",15)(22,"a",17),St("click",function(){return i.toggleMenu()}),Ce(23,"Squadra"),he()(),de(24,"li",15)(25,"a",18),St("click",function(){return i.toggleMenu()}),Ce(26,"Calendario"),he()()()()(),ui(27,E1e,1,2,"div",19)),2&r&&(qe(11),vi("show",i.menuOpen),qe(16),Sn("ngIf",i.menuOpen))},dependencies:[z0,Um],styles:[".navbar-brand[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);font-weight:700}.download-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.375rem .75rem;font-size:.875rem;background-color:transparent;border:1px solid rgba(255,255,255,.1);color:#fff;text-decoration:none;border-radius:.25rem;transition:all .15s ease-in-out}.download-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;border-color:#ffffff26;color:#fff}.download-btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .25rem #ffffff40}.download-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}@media (max-width: 767px){.desktop-label[_ngcontent-%COMP%]{display:none}.download-btn[_ngcontent-%COMP%]{padding:.375rem;min-width:auto}}.offcanvas[_ngcontent-%COMP%]{visibility:hidden;transform:translate(-100%);transition:transform .3s ease-in-out}.offcanvas.show[_ngcontent-%COMP%]{visibility:visible;transform:translate(0)}.offcanvas-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#000;opacity:0;visibility:hidden;transition:opacity .3s ease-in-out}.offcanvas-backdrop.show[_ngcontent-%COMP%]{opacity:.5;visibility:visible}.nav-link[_ngcontent-%COMP%]{color:#212529;padding:.75rem 1rem}.nav-link[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}"]})}}return t})(),T1e=(()=>{class t{constructor(){this.title="thunders-pwa"}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ga({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(r,i){1&r&&dt(0,"app-header")(1,"router-outlet")},dependencies:[oT,A1e]})}}return t})();const C1e=["addListener","removeListener"],S1e=["addEventListener","removeEventListener"],D1e=["on","off"];function Ub(t,e,n,r){if(on(n)&&(r=n,n=void 0),r)return Ub(t,e,n).pipe(jA(r));const[i,o]=function P1e(t){return on(t.addEventListener)&&on(t.removeEventListener)}(t)?S1e.map(s=>a=>t[s](e,a,n)):function x1e(t){return on(t.addListener)&&on(t.removeListener)}(t)?C1e.map(nq(t,e)):function N1e(t){return on(t.on)&&on(t.off)}(t)?D1e.map(nq(t,e)):[];if(!i&&g2(t))return gi(s=>Ub(s,e,n))(oo(t));if(!i)throw new TypeError("Invalid event target");return new Jn(s=>{const a=(...u)=>s.next(1<u.length?u:u[0]);return i(a),()=>o(a)})}function nq(t,e){return n=>r=>t[n](e,r)}const jc=new Jn(cd),k1e={connector:()=>new Ho};function rq(t,e=k1e){const{connector:n}=e;return Hr((r,i)=>{const o=n();oo(t(function R1e(t){return new Jn(e=>t.subscribe(e))}(o))).subscribe(i),i.add(r.subscribe(o))})}function iq(t,e){return e?n=>Im(e.pipe(ts(1),function L1e(){return Hr((t,e)=>{t.subscribe(Gr(e,cd))})}()),n.pipe(iq(t))):gi((n,r)=>oo(t(n,r)).pipe(ts(1),fF(n)))}const Dy="Service workers are disabled or not supported by this browser";class Bb{constructor(e){if(this.serviceWorker=e,e){const r=Ub(e,"controllerchange").pipe(dn(()=>e.controller)),o=Im(G0(()=>Nt(e.controller)),r);this.worker=o.pipe(ns(c=>!!c)),this.registration=this.worker.pipe(Go(()=>e.getRegistration()));const l=Ub(e,"message").pipe(dn(c=>c.data)).pipe(ns(c=>c&&c.type)).pipe(function O1e(t){return t?e=>rq(t)(e):e=>function M1e(t,e){const n=on(t)?t:()=>t;return on(e)?rq(e,{connector:n}):r=>new qA(r,n)}(new Ho)(e)}());l.connect(),this.events=l}else this.worker=this.events=this.registration=function B1e(t){return G0(()=>Mf(new Error(t)))}(Dy)}postMessage(e,n){return this.worker.pipe(ts(1),Ni(r=>{r.postMessage({action:e,...n})})).toPromise().then(()=>{})}postMessageWithOperation(e,n,r){const i=this.waitForOperationCompleted(r),o=this.postMessage(e,n);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let n;return n="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(ns(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(ts(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(ns(n=>n.nonce===e),ts(1),dn(n=>{if(void 0!==n.result)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let oq=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,this.pushManager=null,this.subscriptionChanges=new Ho,!n.isEnabled)return this.messages=jc,this.notificationClicks=jc,void(this.subscription=jc);this.messages=this.sw.eventsOfType("PUSH").pipe(dn(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(dn(i=>i.data)),this.pushManager=this.sw.registration.pipe(dn(i=>i.pushManager));const r=this.pushManager.pipe(Go(i=>i.getSubscription()));this.subscription=_2(r,this.subscriptionChanges)}requestSubscription(n){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Dy));const r={userVisibleOnly:!0};let i=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,this.pushManager.pipe(Go(s=>s.subscribe(r)),ts(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(ts(1),Go(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Dy))}decodeBase64(n){return atob(n)}static{this.\u0275fac=function(r){return new(r||t)(It(Bb))}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac})}}return t})(),sq=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,!n.isEnabled)return this.versionUpdates=jc,this.available=jc,this.activated=jc,void(this.unrecoverable=jc);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(ns(r=>"VERSION_READY"===r.type),dn(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Dy));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Dy));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}static{this.\u0275fac=function(r){return new(r||t)(It(Bb))}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac})}}return t})();const aq=new tt("NGSW_REGISTER_SCRIPT");function j1e(t,e,n,r){return()=>{if(!B3(r)||!("serviceWorker"in navigator)||!1===n.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)i=n.registrationStrategy();else{const[s,...a]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Nt(null);break;case"registerWithDelay":i=uq(+a[0]||0);break;case"registerWhenStable":i=a[0]?_2(lq(t),uq(+a[0])):lq(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}t.get(kn).runOutsideAngular(()=>i.pipe(ts(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function uq(t){return Nt(null).pipe(function U1e(t,e=PT){const n=function V1e(t=0,e,n=Bue){let r=-1;return null!=e&&(AP(e)?n=e:r=e),new Jn(i=>{let o=function F1e(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(t,e);return iq(()=>n)}(t))}function lq(t){return t.get(Ed).isStable.pipe(ns(n=>n))}function z1e(t,e){return new Bb(B3(e)&&!1!==t.enabled?navigator.serviceWorker:void 0)}class qN{}function $1e(t,e={}){return function NI(t){return{\u0275providers:t}}([oq,sq,{provide:aq,useValue:t},{provide:qN,useValue:e},{provide:Bb,useFactory:z1e,deps:[qN,Hu]},{provide:I0,useFactory:j1e,deps:[uo,aq,qN,Hu],multi:!0}])}let q1e=(()=>{class t{static register(n,r={}){return{ngModule:t,providers:[$1e(n,r)]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ko({type:t})}static{this.\u0275inj=Co({providers:[oq,sq]})}}return t})();const H1e_firebase={apiKey:"AIzaSyAUbG_IDk6TFGtGbpkMVY4j2ZLvtvYee3A",authDomain:"thunders-pwa.firebaseapp.com",projectId:"thunders-pwa",storageBucket:"thunders-pwa.firebasestorage.app",messagingSenderId:"521968874196",appId:"1:521968874196:web:d279af17ffb90278814141"};let G1e=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ko({type:t,bootstrap:[T1e]})}static{this.\u0275inj=Co({imports:[cie,I1e,q1e.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"}),Z0e,Y0e,Xue(()=>ele(H1e_firebase)),Bge(()=>jge())]})}}return t})();uie().bootstrapModule(G1e).catch(t=>console.error(t))},467:(Ky,Qy,ms)=>{function on(sd,$l,Ci,ad,ud,ld,_s){try{var $a=sd[ld](_s),Fu=$a.value}catch(cd){return void Ci(cd)}$a.done?$l(Fu):Promise.resolve(Fu).then(ad,ud)}function mg(sd){return function(){var $l=this,Ci=arguments;return new Promise(function(ad,ud){var ld=sd.apply($l,Ci);function _s(Fu){on(ld,ad,ud,_s,$a,"next",Fu)}function $a(Fu){on(ld,ad,ud,_s,$a,"throw",Fu)}_s(void 0)})}}ms.d(Qy,{A:()=>mg})}},Ky=>{Ky(Ky.s=4151)}]);